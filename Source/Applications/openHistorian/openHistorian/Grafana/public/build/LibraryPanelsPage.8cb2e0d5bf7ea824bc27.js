"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7878],{7708:(e,n,a)=>{a.r(n),a.d(n,{LibraryPanelsPage:()=>r,default:()=>d});var s=a(68404),l=a(69371),i=a(19586),o=a(1586),t=a(45916);const r=()=>{const[e,n]=(0,s.useState)(void 0);return(0,t.jsx)(l.T,{navId:"dashboards/library-panels",children:(0,t.jsxs)(l.T.Contents,{children:[(0,t.jsx)(i.N,{onClick:n,showSecondaryActions:!0,showSort:!0,showPanelFilter:!0,showFolderFilter:!0}),e?(0,t.jsx)(o.b,{onDismiss:()=>n(void 0),libraryPanel:e}):null]})})},d=r},1586:(e,n,a)=>{a.d(n,{b:()=>h});var s,l=a(36636),i=a(82897),o=a(68404),t=a(43215),r=a(90923),d=a(3490),c=a(23078),u=a(45916);function h(e){let{libraryPanel:n,onDismiss:a}=e;const l=(0,d.useStyles2)(b),[h,p]=(0,o.useState)(!1),[f,v]=(0,o.useState)(0),[w,j]=(0,o.useState)(void 0);(0,o.useEffect)((()=>{(async()=>{const e=await(0,c.Ef)(n.uid);v(e.length)})()}),[n.uid]);const x=(0,o.useCallback)((e=>async function(e,n,a){a(!0);const s=(await(0,c.E8)(e)).filter((e=>e.title.toLowerCase().includes(n.toLowerCase()))).map((e=>({label:e.title,value:e})));return a(!1),s}(n.uid,e,p)),[n.uid]),g=(0,o.useMemo)((()=>(0,i.debounce)(x,300,{leading:!0,trailing:!0})),[x]);return(0,u.jsxs)(d.Modal,{title:"View panel in dashboard",onDismiss:a,onClickBackdrop:a,isOpen:!0,children:[(0,u.jsxs)("div",{className:l.container,children:[0===f?s||(s=(0,u.jsx)("span",{children:"Panel is not linked to a dashboard. Add the panel to a dashboard and retry."})):null,f>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:["This panel is being used in"," ",(0,u.jsxs)("strong",{children:[f," ",f>1?"dashboards":"dashboard"]}),".Please choose which dashboard to view the panel in:"]}),(0,u.jsx)(d.AsyncSelect,{isClearable:!0,isLoading:h,defaultOptions:!0,loadOptions:g,onChange:j,placeholder:"Start typing to search for dashboard",noOptionsMessage:"No dashboards found"})]}):null]}),(0,u.jsxs)(d.Modal.ButtonRow,{children:[(0,u.jsx)(d.Button,{variant:"secondary",onClick:a,fill:"outline",children:"Cancel"}),(0,u.jsx)(d.Button,{onClick:e=>{var n;e.preventDefault(),r.locationService.push(t.urlUtil.renderUrl(`/d/${null==w||null===(n=w.value)||void 0===n?void 0:n.uid}`,{}))},disabled:!Boolean(w),children:w?`View panel in ${null==w?void 0:w.label}...`:"View panel in dashboard..."})]})]})}function b(e){return{container:l.css``}}}}]);
//# sourceMappingURL=LibraryPanelsPage.8cb2e0d5bf7ea824bc27.js.map