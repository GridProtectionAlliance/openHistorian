{"version":3,"file":"2405.c1b37a7cc8182472f6a6.js","mappings":"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ACA,SACA,KACA,MACJ,EAEA,sBAAuB,CACnB,SACA,OACA,QACA,QACA,UACA,OACA,SACA,QACA,YACA,SACA,QACA,QACA,SACA,OACA,QACA,QACA,UACA,eACA,iBACA,kBACA,eACA,SACA,OACA,YACA,WACA,OACA,MACA,aACA,cACA,QACA,YACA,WACA,SACA,WACA,QACA,cACA,WACA,SACA,kBACA,cACA,YACA,YACA,SACA,KACA,MACJ,EACA,SAAU,CACN,KACA,KACA,WACA,cACA,aACA,gBACA,aACA,MACA,UACA,QACA,OACA,QACA,MACA,KACA,SACA,MACA,SACA,OACA,WACA,OACA,OACA,OACA,gBACA,MACJ,EACA,UAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,IAAK,IAAI,EAC3E,iBAAkB,CACd,UACA,MACA,WACA,UACA,cACA,QACA,MACA,SACA,YACA,UACA,UACA,aACA,WACA,MACA,MACA,SACA,SACA,UACA,WACA,QACA,MACA,MACA,MACA,MACA,KACJ,EACA,UAAW,CACP,KAAM,CACF,CAAE,QAAS,aAAc,EACzB,CAAE,QAAS,UAAW,EACtB,CAAE,QAAS,UAAW,EACtB,CAAE,QAAS,YAAa,EACxB,CAAE,QAAS,WAAY,EACvB,CAAE,QAAS,WAAY,EACvB,CAAC,QAAS,WAAW,EACrB,CAAC,WAAY,WAAW,EACxB,CAAC,mBAAoB,UAAU,EAC/B,CACI,aACA,CACI,MAAO,CACH,YAAa,UACb,iCAAkC,eAClC,yBAA0B,UAC1B,aAAc,WACd,oBAAqB,aACrB,WAAY,YAChB,CACJ,CACJ,CACJ,EACA,WAAY,CAAC,CAAC,MAAO,OAAO,CAAC,EAC7B,SAAU,CAAC,CAAC,YAAa,SAAS,CAAC,EACnC,QAAS,CACL,CAAC,oBAAqB,QAAQ,EAC9B,CAAC,sBAAuB,QAAQ,EAChC,CAAC,0CAA2C,QAAQ,CACxD,EACA,QAAS,CACL,CAAC,KAAM,CAAE,MAAO,eAAgB,QAAS,QAAS,KAAM,SAAU,CAAC,EACnE,CAAC,KAAM,CAAE,MAAO,eAAgB,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","sources":["webpack://grafana/./node_modules/@kusto/monaco-kusto/release/esm/workerManager.js","webpack://grafana/./node_modules/@kusto/monaco-kusto/release/esm/languageServiceManager/kustoMonarchLanguageDefinition.js","webpack://grafana/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://grafana/./node_modules/lodash-es/isObject.js","webpack://grafana/./node_modules/lodash-es/_freeGlobal.js","webpack://grafana/./node_modules/lodash-es/_root.js","webpack://grafana/./node_modules/lodash-es/now.js","webpack://grafana/./node_modules/lodash-es/_trimmedEndIndex.js","webpack://grafana/./node_modules/lodash-es/_baseTrim.js","webpack://grafana/./node_modules/lodash-es/_Symbol.js","webpack://grafana/./node_modules/lodash-es/_getRawTag.js","webpack://grafana/./node_modules/lodash-es/_objectToString.js","webpack://grafana/./node_modules/lodash-es/_baseGetTag.js","webpack://grafana/./node_modules/lodash-es/isObjectLike.js","webpack://grafana/./node_modules/lodash-es/isSymbol.js","webpack://grafana/./node_modules/lodash-es/toNumber.js","webpack://grafana/./node_modules/lodash-es/debounce.js","webpack://grafana/./node_modules/@kusto/monaco-kusto/release/esm/languageFeatures.js","webpack://grafana/./node_modules/@kusto/monaco-kusto/release/esm/kustoMode.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(_monacoInstance, defaults) {\n        var _this = this;\n        this._monacoInstance = _monacoInstance;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = self.setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._saveStateAndStopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype._saveStateAndStopWorker = function () {\n        var _this = this;\n        if (!this._worker) {\n            return;\n        }\n        this._worker.getProxy().then(function (proxy) {\n            proxy.getSchema().then(function (schema) {\n                _this._storedState = { schema: schema };\n                _this._stopWorker();\n            });\n        });\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var maxIdleTime = this._defaults.getWorkerMaxIdleTime();\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (maxIdleTime > 0 && timePassedSinceLastUsed > maxIdleTime) {\n            this._saveStateAndStopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        var _this = this;\n        this._lastUsedTime = Date.now();\n        // Since onDidProvideCompletionItems is not used in web worker, and since functions cannot be trivially serialized (throws exception unable to clone), We remove it here.\n        var _a = this._defaults.languageSettings, onDidProvideCompletionItems = _a.onDidProvideCompletionItems, languageSettings = __rest(_a, [\"onDidProvideCompletionItems\"]);\n        if (!this._client) {\n            this._worker = this._monacoInstance.editor.createWebWorker({\n                // module that exports the create() method and returns a `KustoWorker` instance\n                moduleId: 'vs/language/kusto/kustoWorker',\n                label: 'kusto',\n                // passed in to the create() method\n                createData: {\n                    languageSettings: languageSettings,\n                    languageId: 'kusto',\n                },\n            });\n            this._client = this._worker.getProxy().then(function (proxy) {\n                // push state we held onto before killing the client.\n                if (_this._storedState) {\n                    return proxy.setSchema(_this._storedState.schema).then(function () { return proxy; });\n                }\n                else {\n                    return proxy;\n                }\n            });\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient()\n            .then(function (client) {\n            _client = client;\n        })\n            .then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        })\n            .then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","export var KustoLanguageDefinition = {\n    name: 'kusto',\n    mimeTypes: ['text/kusto'],\n    displayName: 'Kusto',\n    defaultToken: 'invalid',\n    brackets: [\n        ['[', ']', 'delimiter.square'],\n        ['(', ')', 'delimiter.parenthesis'],\n    ],\n    wordDefinition: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\#\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\n    // .slice() call is for creating a shallow copy of the array since bridge.net shoves a $type property on the array which monaco doesn't like.\n    // Kusto.Data.IntelliSense.CslCommandParser.PromotedOperatorCommandTokens.slice(0),\n    promotedOperatorCommandTokens: [\n        'where',\n        'count',\n        'extend',\n        'join',\n        'limit',\n        'order',\n        'project',\n        'project-away',\n        'project-rename',\n        'project-reorder',\n        'project-keep',\n        'render',\n        'sort',\n        'summarize',\n        'distinct',\n        'take',\n        'top',\n        'top-nested',\n        'top-hitters',\n        'union',\n        'mv-expand',\n        'mv-apply',\n        'reduce',\n        'evaluate',\n        'parse',\n        'parse-where',\n        'parse-kv',\n        'sample',\n        'sample-distinct',\n        'make-series',\n        'getschema',\n        'serialize',\n        'invoke',\n        'as',\n        'scan',\n    ],\n    // Kusto.Data.IntelliSense.CslCommandParser.OperatorCommandTokens.slice(0),\n    operatorCommandTokens: [\n        'filter',\n        'fork',\n        'facet',\n        'range',\n        'consume',\n        'find',\n        'search',\n        'print',\n        'partition',\n        'lookup',\n        'where',\n        'count',\n        'extend',\n        'join',\n        'limit',\n        'order',\n        'project',\n        'project-away',\n        'project-rename',\n        'project-reorder',\n        'project-keep',\n        'render',\n        'sort',\n        'summarize',\n        'distinct',\n        'take',\n        'top',\n        'top-nested',\n        'top-hitters',\n        'union',\n        'mv-expand',\n        'mv-apply',\n        'reduce',\n        'evaluate',\n        'parse',\n        'parse-where',\n        'parse-kv',\n        'sample',\n        'sample-distinct',\n        'make-series',\n        'getschema',\n        'serialize',\n        'invoke',\n        'as',\n        'scan',\n    ],\n    keywords: [\n        'by',\n        'on',\n        'contains',\n        'notcontains',\n        'containscs',\n        'notcontainscs',\n        'startswith',\n        'has',\n        'matches',\n        'regex',\n        'true',\n        'false',\n        'and',\n        'or',\n        'typeof',\n        'int',\n        'string',\n        'date',\n        'datetime',\n        'time',\n        'long',\n        'real',\n        '​boolean',\n        'bool',\n    ],\n    operators: ['+', '-', '*', '/', '>', '<', '==', '<>', '<=', '>=', '~', '!~'],\n    builtinFunctions: [\n        'countof',\n        'bin',\n        'extentid',\n        'extract',\n        'extractjson',\n        'floor',\n        'iif',\n        'isnull',\n        'isnotnull',\n        'notnull',\n        'isempty',\n        'isnotempty',\n        'notempty',\n        'now',\n        're2',\n        'strcat',\n        'strlen',\n        'toupper',\n        'tostring',\n        'count',\n        'cnt',\n        'sum',\n        'min',\n        'max',\n        'avg',\n    ],\n    tokenizer: {\n        root: [\n            { include: '@whitespace' },\n            { include: '@numbers' },\n            { include: '@strings' },\n            { include: '@dqstrings' },\n            { include: '@literals' },\n            { include: '@comments' },\n            [/[;,.]/, 'delimiter'],\n            [/[()\\[\\]]/, '@brackets'],\n            [/[<>=!%&+\\-*/|~^]/, 'operator'],\n            [\n                /[\\w@#\\-$]+/,\n                {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@promotedOperatorCommandTokens': 'operator.sql',\n                        '@operatorCommandTokens': 'keyword',\n                        '@operators': 'operator',\n                        '@builtinFunctions': 'predefined',\n                        '@default': 'identifier',\n                    },\n                },\n            ],\n        ],\n        whitespace: [[/\\s+/, 'white']],\n        comments: [['\\\\/\\\\/+.*', 'comment']],\n        numbers: [\n            [/0[xX][0-9a-fA-F]*/, 'number'],\n            [/[$][+-]*\\d*(\\.\\d*)?/, 'number'],\n            [/((\\d+(\\.\\d*)?)|(\\.\\d+))([eE][\\-+]?\\d+)?/, 'number'],\n        ],\n        strings: [\n            [/H'/, { token: 'string.quote', bracket: '@open', next: '@string' }],\n            [/h'/, { token: 'string.quote', bracket: '@open', next: '@string' }],\n            [/'/, { token: 'string.quote', bracket: '@open', next: '@string' }],\n        ],\n        string: [\n            [/[^']+/, 'string'],\n            [/''/, 'string'],\n            [/'/, { token: 'string.quote', bracket: '@close', next: '@pop' }],\n        ],\n        dqstrings: [\n            [/H\"/, { token: 'string.quote', bracket: '@open', next: '@dqstring' }],\n            [/h\"/, { token: 'string.quote', bracket: '@open', next: '@dqstring' }],\n            [/\"/, { token: 'string.quote', bracket: '@open', next: '@dqstring' }],\n        ],\n        dqstring: [\n            [/[^\"]+/, 'string'],\n            [/\"\"/, 'string'],\n            [/\"/, { token: 'string.quote', bracket: '@close', next: '@pop' }],\n        ],\n        literals: [\n            [/datetime\\(\\d{4}-\\d{2}-\\d{2}(\\s+\\d{2}:\\d{2}(:\\d{2}(\\.\\d{0,3})?)?)?\\)/, 'number'],\n            [/time\\((\\d+(s(ec(onds?)?)?|m(in(utes?)?)?|h(ours?)?|d(ays?)?)|(\\s*(('[^']+')|(\"[^\"]+\"))\\s*))\\)/, 'number'],\n            [/guid\\([\\da-fA-F]{8}-[\\da-fA-F]{4}-[\\da-fA-F]{4}-[\\da-fA-F]{4}-[\\da-fA-F]{12}\\)/, 'number'],\n            [/typeof\\((int|string|date|datetime|time|long|real|boolean|bool)\\)/, 'number'],\n        ],\n    },\n};\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line, character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`);\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri, range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri, targetRange, targetSelectionRange, originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red,\n            green,\n            blue,\n            alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range,\n            color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label,\n            textEdit,\n            additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        const result = {\n            startLine,\n            endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location,\n            message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        let result = { range, message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        let candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command, ...args) {\n        let result = { title, command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range, newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        const result = { label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument, edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        let result = {\n            kind: 'create',\n            uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        let result = {\n            kind: 'rename',\n            oldUri,\n            newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        let result = {\n            kind: 'delete',\n            uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        let candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every((change) => {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nclass TextEditChangeImpl {\n    constructor(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    insert(position, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    replace(range, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    delete(range, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    add(edit) {\n        this.edits.push(edit);\n    }\n    all() {\n        return this.edits;\n    }\n    clear() {\n        this.edits.splice(0, this.edits.length);\n    }\n    assertChangeAnnotations(value) {\n        if (value === undefined) {\n            throw new Error(`Text edit change is not configured to manage change annotations.`);\n        }\n    }\n}\n/**\n * A helper class\n */\nclass ChangeAnnotations {\n    constructor(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    all() {\n        return this._annotations;\n    }\n    get size() {\n        return this._size;\n    }\n    manage(idOrAnnotation, annotation) {\n        let id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(`Id ${id} is already in use.`);\n        }\n        if (annotation === undefined) {\n            throw new Error(`No annotation provided for id ${id}`);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    }\n    nextId() {\n        this._counter++;\n        return this._counter.toString();\n    }\n}\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nexport class WorkspaceChange {\n    constructor(workspaceEdit) {\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach((change) => {\n                    if (TextDocumentEdit.is(change)) {\n                        const textEditChange = new TextEditChangeImpl(change.edits, this._changeAnnotations);\n                        this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach((key) => {\n                    const textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    /**\n     * Returns the underlying {@link WorkspaceEdit} literal\n     * use to be returned from a workspace edit operation like rename.\n     */\n    get edit() {\n        this.initDocumentChanges();\n        if (this._changeAnnotations !== undefined) {\n            if (this._changeAnnotations.size === 0) {\n                this._workspaceEdit.changeAnnotations = undefined;\n            }\n            else {\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        }\n        return this._workspaceEdit;\n    }\n    getTextEditChange(key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            const textDocument = { uri: key.uri, version: key.version };\n            let result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                const edits = [];\n                const textDocumentEdit = {\n                    textDocument,\n                    edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            let result = this._textEditChanges[key];\n            if (!result) {\n                let edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    }\n    initDocumentChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    }\n    initChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    }\n    createFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    renameFile(oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    deleteFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n}\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri, languageId, version, text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText, insert, replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label, documentation } : { label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation, ...parameters) {\n        let result = { label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        let result = { range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        let result = {\n            name,\n            kind,\n            location: { uri, range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name, kind, location: { uri, range } }\n            : { name, kind, location: { uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        let result = {\n            name,\n            detail,\n            kind,\n            range,\n            selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        let result = { diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        let result = { title };\n        let checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        let result = { range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize, insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range, target, data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range, parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range, text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range, variableName, caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range, expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId, stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        const result = { position, label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var StringValue;\n(function (StringValue) {\n    function createSnippet(value) {\n        return { kind: 'snippet', value };\n    }\n    StringValue.createSnippet = createSnippet;\n})(StringValue || (StringValue = {}));\nexport var InlineCompletionItem;\n(function (InlineCompletionItem) {\n    function create(insertText, filterText, range, command) {\n        return { insertText, filterText, range, command };\n    }\n    InlineCompletionItem.create = create;\n})(InlineCompletionItem || (InlineCompletionItem = {}));\nexport var InlineCompletionList;\n(function (InlineCompletionList) {\n    function create(items) {\n        return { items };\n    }\n    InlineCompletionList.create = create;\n})(InlineCompletionList || (InlineCompletionList = {}));\n/**\n * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n *\n * @since 3.18.0\n * @proposed\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     */\n    InlineCompletionTriggerKind.Invoked = 0;\n    /**\n     * Completion was triggered automatically while editing.\n     */\n    InlineCompletionTriggerKind.Automatic = 1;\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\nexport var SelectedCompletionInfo;\n(function (SelectedCompletionInfo) {\n    function create(range, text) {\n        return { range, text };\n    }\n    SelectedCompletionInfo.create = create;\n})(SelectedCompletionInfo || (SelectedCompletionInfo = {}));\nexport var InlineCompletionContext;\n(function (InlineCompletionContext) {\n    function create(triggerKind, selectedCompletionInfo) {\n        return { triggerKind, selectedCompletionInfo };\n    }\n    InlineCompletionContext.create = create;\n})(InlineCompletionContext || (InlineCompletionContext = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport const EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits, (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = text.length;\n        for (let i = sortedEdits.length - 1; i >= 0; i--) {\n            let e = sortedEdits[i];\n            let startOffset = document.offsetAt(e.range.start);\n            let endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        const p = (data.length / 2) | 0;\n        const left = data.slice(0, p);\n        const right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        let leftIdx = 0;\n        let rightIdx = 0;\n        let i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            let ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            let start = this.offsetAt(range.start);\n            let end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            let lineOffsets = [];\n            let text = this._content;\n            let isLineStart = true;\n            for (let i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                let ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n}\nvar Is;\n(function (Is) {\n    const toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport * as ls from 'vscode-languageserver-types';\nimport debounce from 'lodash-es/debounce';\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_monacoInstance, _languageId, _worker, defaults, onSchemaChange) {\n        var _this = this;\n        this._monacoInstance = _monacoInstance;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this.defaults = defaults;\n        this._disposables = [];\n        this._contentListener = Object.create(null);\n        this._configurationListener = Object.create(null);\n        this._schemaListener = Object.create(null);\n        this._cursorListener = Object.create(null);\n        this._debouncedValidations = Object.create(null);\n        var onModelAdd = function (model) {\n            var languageId = model.getLanguageId();\n            var modelUri = model.uri.toString();\n            if (languageId !== _this._languageId) {\n                return;\n            }\n            var debouncedValidation = _this.getOrCreateDebouncedValidation(model, languageId);\n            _this._contentListener[modelUri] = model.onDidChangeContent(function (e) {\n                var intervalsToValidate = changeEventToIntervals(e);\n                debouncedValidation(intervalsToValidate);\n            });\n            _this._configurationListener[modelUri] = _this.defaults.onDidChange(function () {\n                self.setTimeout(function () { return _this._doValidate(model, languageId, []); }, 0);\n            });\n            _this._schemaListener[modelUri] = onSchemaChange(function () {\n                self.setTimeout(function () { return _this._doValidate(model, languageId, []); }, 0);\n            });\n        };\n        var onEditorAdd = function (editor) {\n            var editorId = editor.getId();\n            if (!_this._cursorListener[editorId]) {\n                editor.onDidDispose(function () {\n                    var _a;\n                    (_a = _this._cursorListener[editorId]) === null || _a === void 0 ? void 0 : _a.dispose();\n                    delete _this._cursorListener[editorId];\n                });\n                _this._cursorListener[editorId] = editor.onDidChangeCursorSelection(function (e) {\n                    var model = editor.getModel();\n                    var languageId = model.getLanguageId();\n                    if (languageId !== _this._languageId) {\n                        return;\n                    }\n                    var cursorOffset = model.getOffsetAt(e.selection.getPosition());\n                    var debouncedValidation = _this.getOrCreateDebouncedValidation(model, languageId);\n                    debouncedValidation([{ start: cursorOffset, end: cursorOffset }]);\n                });\n            }\n        };\n        var onModelRemoved = function (model) {\n            _this._monacoInstance.editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var contentListener = _this._contentListener[uriStr];\n            if (contentListener) {\n                contentListener.dispose();\n                delete _this._contentListener[uriStr];\n            }\n            var configurationListener = _this._configurationListener[uriStr];\n            if (configurationListener) {\n                configurationListener.dispose();\n                delete _this._configurationListener[uriStr];\n            }\n            var schemaListener = _this._schemaListener[uriStr];\n            if (schemaListener) {\n                schemaListener.dispose();\n                delete _this._schemaListener[uriStr];\n            }\n            var debouncedValidation = _this._debouncedValidations[uriStr];\n            if (debouncedValidation) {\n                debouncedValidation.cancel();\n                delete _this._debouncedValidations[uriStr];\n            }\n        };\n        if (this.defaults.languageSettings.enableQuickFixes) {\n            this._disposables.push(monaco.languages.registerCodeActionProvider(this._languageId, {\n                provideCodeActions: function (model, range, context, _token) { return __awaiter(_this, void 0, void 0, function () {\n                    var startOffset, endOffset, showQuickFix, actions;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                startOffset = model.getOffsetAt(range.getStartPosition());\n                                endOffset = model.getOffsetAt(range.getEndPosition());\n                                showQuickFix = context.markers.length > 0;\n                                return [4 /*yield*/, this.getMonacoCodeActions(model, startOffset, endOffset, showQuickFix)];\n                            case 1:\n                                actions = _a.sent();\n                                return [2 /*return*/, {\n                                        actions: actions,\n                                        dispose: function () { },\n                                    }];\n                        }\n                    });\n                }); },\n            }));\n        }\n        this._disposables.push(this._monacoInstance.editor.onDidCreateEditor(onEditorAdd));\n        this._disposables.push(this._monacoInstance.editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(this._monacoInstance.editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(this._monacoInstance.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._contentListener) {\n                    _this._contentListener[key].dispose();\n                }\n                for (var key in _this._cursorListener) {\n                    _this._cursorListener[key].dispose();\n                }\n                for (var key in _this._debouncedValidations) {\n                    _this._debouncedValidations[key].cancel();\n                }\n            },\n        });\n        this._monacoInstance.editor.getModels().forEach(onModelAdd);\n        this._monacoInstance.editor.getEditors().forEach(onEditorAdd);\n    }\n    DiagnosticsAdapter.prototype.getMonacoCodeActions = function (model, startOffset, endOffset, enableQuickFix) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var actions, worker, resource, codeActions, _loop_1, this_1, i, state_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        actions = [];\n                        return [4 /*yield*/, this._worker(model.uri)];\n                    case 1:\n                        worker = _b.sent();\n                        resource = model.uri;\n                        return [4 /*yield*/, worker.getResultActions(resource.toString(), startOffset, endOffset)];\n                    case 2:\n                        codeActions = _b.sent();\n                        _loop_1 = function (i) {\n                            var codeAction = codeActions[i];\n                            if (codeAction.kind.includes('Extract Function')) {\n                                return \"continue\";\n                            }\n                            var codeActionKind = ((_a = this_1.defaults.languageSettings.quickFixCodeActions) === null || _a === void 0 ? void 0 : _a.find(function (actionKind) {\n                                return codeAction.kind.includes(actionKind);\n                            }))\n                                ? 'quickfix'\n                                : 'custom';\n                            if (codeActionKind === 'quickfix' && !enableQuickFix) {\n                                return { value: void 0 };\n                            }\n                            var changes = codeAction.changes;\n                            var edits = changes.map(function (change) {\n                                var _a;\n                                var startPosition = model.getPositionAt(change.start);\n                                var endPosition = model.getPositionAt(change.start + change.deleteLength);\n                                return {\n                                    resource: model.uri,\n                                    textEdit: {\n                                        range: {\n                                            startLineNumber: startPosition.lineNumber,\n                                            startColumn: startPosition.column,\n                                            endLineNumber: endPosition.lineNumber,\n                                            endColumn: endPosition.column,\n                                        },\n                                        text: (_a = change.insertText) !== null && _a !== void 0 ? _a : '',\n                                    },\n                                };\n                            });\n                            actions.push({\n                                title: codeAction.title,\n                                diagnostics: [],\n                                kind: codeActionKind,\n                                edit: {\n                                    edits: __spreadArray([], edits, true),\n                                },\n                            });\n                        };\n                        this_1 = this;\n                        for (i = 0; i < codeActions.length; i++) {\n                            state_1 = _loop_1(i);\n                            if (typeof state_1 === \"object\")\n                                return [2 /*return*/, state_1.value];\n                        }\n                        return [2 /*return*/, actions];\n                }\n            });\n        });\n    };\n    DiagnosticsAdapter.prototype.getOrCreateDebouncedValidation = function (model, languageId) {\n        var _this = this;\n        var modelUri = model.uri.toString();\n        if (!this._debouncedValidations[modelUri]) {\n            this._debouncedValidations[modelUri] = debounce(function (intervals) { return _this._doValidate(model, languageId, intervals); }, 500);\n        }\n        return this._debouncedValidations[modelUri];\n    };\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (model, languageId, intervals) {\n        var _this = this;\n        if (model.isDisposed()) {\n            return;\n        }\n        var resource = model.uri;\n        var versionNumberBefore = model.getVersionId();\n        this._worker(resource)\n            .then(function (worker) {\n            return worker.doValidation(resource.toString(), intervals);\n        })\n            .then(function (diagnostics) {\n            var newModel = _this._monacoInstance.editor.getModel(resource);\n            var versionId = newModel.getVersionId();\n            if (versionId !== versionNumberBefore) {\n                return;\n            }\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n            var model = _this._monacoInstance.editor.getModel(resource);\n            var oldDecorations = model\n                .getAllDecorations()\n                .filter(function (decoration) { return decoration.options.className == 'squiggly-error'; })\n                .map(function (decoration) { return decoration.id; });\n            if (model && model.getLanguageId() === languageId) {\n                var syntaxErrorAsMarkDown = _this.defaults.languageSettings.syntaxErrorAsMarkDown;\n                if (!syntaxErrorAsMarkDown || !syntaxErrorAsMarkDown.enableSyntaxErrorAsMarkDown) {\n                    // Remove previous syntax error decorations and set the new markers (for example, when disabling syntaxErrorAsMarkDown after it was enabled)\n                    model.deltaDecorations(oldDecorations, []);\n                    _this._monacoInstance.editor.setModelMarkers(model, languageId, markers);\n                }\n                else {\n                    // Add custom popup for syntax error: icon, header and message as markdown\n                    var header = syntaxErrorAsMarkDown.header ? \"**\".concat(syntaxErrorAsMarkDown.header, \"** \\n\\n\") : '';\n                    var icon = syntaxErrorAsMarkDown.icon ? \"![](\".concat(syntaxErrorAsMarkDown.icon, \")\") : '';\n                    var popupErrorHoverHeaderMessage_1 = \"\".concat(icon, \" \").concat(header);\n                    var newDecorations = markers.map(function (marker) {\n                        return {\n                            range: {\n                                startLineNumber: marker.startLineNumber,\n                                startColumn: marker.startColumn,\n                                endLineNumber: marker.endLineNumber,\n                                endColumn: marker.endColumn,\n                            },\n                            options: {\n                                hoverMessage: {\n                                    value: popupErrorHoverHeaderMessage_1 + marker.message,\n                                },\n                                className: 'squiggly-error',\n                                zIndex: 100,\n                                overviewRuler: {\n                                    // The color indication on the right ruler\n                                    color: 'rgb(255, 18, 18, 0.7)',\n                                    position: monaco.editor.OverviewRulerLane.Right,\n                                },\n                                minimap: {\n                                    color: 'rgb(255, 18, 18, 0.7)',\n                                    position: monaco.editor.MinimapPosition.Inline,\n                                },\n                            },\n                        };\n                    });\n                    var oldMarkers = monaco.editor.getModelMarkers({\n                        owner: languageId,\n                        resource: resource,\n                    });\n                    if (oldMarkers && oldMarkers.length > 0) {\n                        // In case there were previous markers, remove their decorations (for example, when enabling syntaxErrorAsMarkDown after it was disabled)\n                        oldDecorations = [];\n                        // Remove previous markers\n                        _this._monacoInstance.editor.setModelMarkers(model, languageId, []);\n                    }\n                    // Remove previous syntax error decorations and set the new decorations\n                    model.deltaDecorations(oldDecorations, newDecorations);\n                }\n            }\n        })\n            .then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction changeEventToIntervals(e) {\n    return e.changes.map(function (change) { return ({\n        start: change.rangeOffset,\n        end: change.rangeOffset + change.text.length,\n    }); });\n}\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case ls.DiagnosticSeverity.Error:\n            return monaco.MarkerSeverity.Error;\n        case ls.DiagnosticSeverity.Warning:\n            return monaco.MarkerSeverity.Warning;\n        case ls.DiagnosticSeverity.Information:\n            return monaco.MarkerSeverity.Info;\n        case ls.DiagnosticSeverity.Hint:\n            return monaco.MarkerSeverity.Hint;\n        default:\n            return monaco.MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source,\n    };\n}\n/**\n * Copy of Kusto.Language.Editor.ClassificationKind we don't have to depend on it in this file\n */\nvar ClassificationKind = {\n    PlainText: 0,\n    Comment: 1,\n    Punctuation: 2,\n    Directive: 3,\n    Literal: 4,\n    StringLiteral: 5,\n    Type: 6,\n    Column: 7,\n    Table: 8,\n    Database: 9,\n    Function: 10,\n    Parameter: 11,\n    Variable: 12,\n    Identifier: 13,\n    ClientParameter: 14,\n    QueryParameter: 15,\n    ScalarOperator: 16,\n    MathOperator: 17,\n    QueryOperator: 18,\n    Command: 19,\n    Keyword: 20,\n    MaterializedView: 21,\n    SchemaMember: 22,\n    SignatureParameter: 23,\n    Option: 24,\n};\nvar ClassificationKindNames = {};\nfor (var _i = 0, _a = Object.entries(ClassificationKind); _i < _a.length; _i++) {\n    var _b = _a[_i], key = _b[0], value = _b[1];\n    ClassificationKindNames[value] = key;\n}\n// commented here is the color definitions are were defined by v1 intellisense terminology:\n// { token: 'comment', foreground: '008000' }, // CommentToken Green\n// { token: 'variable.predefined', foreground: '800080' }, // CalculatedColumnToken Purple\n// { token: 'function', foreground: '0000FF' }, // FunctionNameToken Blue\n// { token: 'operator.sql', foreground: 'FF4500' }, // OperatorToken OrangeRed (now changed to darker color CC3700 because wasn't accessible)\n// { token: 'string', foreground: 'B22222' }, // StringLiteralToken Firebrick\n// { token: 'operator.scss', foreground: '0000FF' }, // SubOperatorToken Blue\n// { token: 'variable', foreground: 'C71585' }, // TableColumnToken MediumVioletRed\n// { token: 'variable.parameter', foreground: '9932CC' }, // TableToken DarkOrchid\n// { token: '', foreground: '000000' }, // UnknownToken, PlainTextToken  Black\n// { token: 'type', foreground: '0000FF' }, // DataTypeToken Blue\n// { token: 'tag', foreground: '0000FF' }, // ControlCommandToken Blue\n// { token: 'annotation', foreground: '2B91AF' }, // QueryParametersToken FF2B91AF\n// { token: 'keyword', foreground: '0000FF' }, // CslCommandToken, PluginToken Blue\n// { token: 'number', foreground: '191970' }, // LetVariablesToken MidnightBlue\n// { token: 'annotation', foreground: '9400D3' }, // ClientDirectiveToken DarkViolet\n// { token: 'invalid', background: 'cd3131' },\nvar classificationToColorLight = {\n    Column: 'C71585',\n    Comment: '008000',\n    Database: 'C71585',\n    Function: '0000FF',\n    Identifier: '000000',\n    Keyword: '0000FF',\n    Literal: 'B22222',\n    ScalarOperator: '0000FF',\n    MaterializedView: 'C71585',\n    MathOperator: '000000',\n    Command: '0000FF',\n    Parameter: '2B91AF',\n    PlainText: '000000',\n    Punctuation: '000000',\n    QueryOperator: 'CC3700',\n    QueryParameter: 'CC3700',\n    StringLiteral: 'B22222',\n    Table: 'C71585',\n    Type: '0000FF',\n    Variable: '191970',\n    Directive: '9400D3',\n    ClientParameter: 'b5cea8',\n    SchemaMember: 'C71585',\n    SignatureParameter: '2B91AF',\n    Option: '000000',\n};\nvar classificationToColorDark = {\n    Column: '4ec9b0',\n    Comment: '6A9B34',\n    Database: 'c586c0',\n    Function: 'dcdcaa',\n    Identifier: 'd4d4d4',\n    Keyword: '569cd6',\n    Literal: 'ce9178',\n    ScalarOperator: '569cd6',\n    MaterializedView: 'c586c0',\n    MathOperator: 'd4d4d4',\n    Command: 'd4d4d4',\n    Parameter: '2B91AF',\n    PlainText: 'd4d4d4',\n    Punctuation: 'd4d4d4',\n    QueryOperator: '9cdcfe',\n    QueryParameter: '9cdcfe',\n    StringLiteral: 'ce9178',\n    Table: 'c586c0',\n    Type: '569cd6',\n    Variable: 'd7ba7d',\n    Directive: 'b5cea8',\n    ClientParameter: 'b5cea8',\n    SchemaMember: '4ec9b0',\n    SignatureParameter: '2B91AF',\n    Option: 'd4d4d4',\n};\nvar ColorizationAdapter = /** @class */ (function () {\n    function ColorizationAdapter(_monacoInstance, _languageId, _worker, defaults, onSchemaChange) {\n        var _this = this;\n        this._monacoInstance = _monacoInstance;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._contentListener = Object.create(null);\n        this._configurationListener = Object.create(null);\n        this._schemaListener = Object.create(null);\n        this.decorations = [];\n        injectCss();\n        var onModelAdd = function (model) {\n            var languageId = model.getLanguageId();\n            if (languageId !== _this._languageId) {\n                return;\n            }\n            var debouncedColorization = debounce(function (intervals) { return _this._doColorization(model, languageId, intervals); }, 500);\n            var handle;\n            _this._contentListener[model.uri.toString()] = model.onDidChangeContent(function (e) {\n                // Changes are represented as a range in doc before change, plus the text that it was replaced with.\n                // We are interested in the range _after_ the change (since that's what we need to colorize).\n                // following logic calculates that.\n                var intervalsToColorize = changeEventToIntervals(e);\n                debouncedColorization(intervalsToColorize);\n            });\n            _this._configurationListener[model.uri.toString()] = defaults.onDidChange(function () {\n                self.setTimeout(function () { return _this._doColorization(model, languageId, []); }, 0);\n            });\n            _this._schemaListener[model.uri.toString()] = onSchemaChange(function () {\n                self.setTimeout(function () { return _this._doColorization(model, languageId, []); }, 0);\n            });\n        };\n        var onModelRemoved = function (model) {\n            model.deltaDecorations(_this.decorations, []);\n            var uriStr = model.uri.toString();\n            var contentListener = _this._contentListener[uriStr];\n            if (contentListener) {\n                contentListener.dispose();\n                delete _this._contentListener[uriStr];\n            }\n            var configurationListener = _this._configurationListener[uriStr];\n            if (configurationListener) {\n                configurationListener.dispose();\n                delete _this._configurationListener[uriStr];\n            }\n            var schemaListener = _this._configurationListener[uriStr];\n            if (schemaListener) {\n                schemaListener.dispose();\n                delete _this._schemaListener[uriStr];\n            }\n        };\n        this._disposables.push(this._monacoInstance.editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(this._monacoInstance.editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(this._monacoInstance.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._contentListener) {\n                    _this._contentListener[key].dispose();\n                }\n            },\n        });\n        this._monacoInstance.editor.getModels().forEach(onModelAdd);\n    }\n    ColorizationAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    ColorizationAdapter.prototype._doColorization = function (model, languageId, intervals) {\n        var _this = this;\n        if (model.isDisposed()) {\n            return;\n        }\n        var resource = model.uri;\n        var versionNumberBeforeColorization = model.getVersionId();\n        this._worker(resource)\n            .then(function (worker) {\n            if (model.isDisposed()) {\n                return;\n            }\n            return worker.doColorization(resource.toString(), intervals);\n        })\n            .then(function (colorizationRanges) {\n            if (model.isDisposed()) {\n                return;\n            }\n            var newModel = _this._monacoInstance.editor.getModel(model.uri);\n            var versionId = newModel.getVersionId();\n            // don't colorize an older version of the document.\n            if (versionId !== versionNumberBeforeColorization) {\n                return;\n            }\n            var decorationRanges = colorizationRanges.map(function (colorizationRange) {\n                var decorations = colorizationRange.classifications\n                    .map(function (classification) { return toDecoration(model, classification); })\n                    // The following line will prevent things that aren't going to be colorized anyway to get a CSS class.\n                    // This will prevent the case where the non-semantic colorizer already figured out that a keyword needs\n                    // to be colorized, but the outdated semantic colorizer still thinks it's a plain text and wants it colored\n                    // in black.\n                    .filter(function (d) {\n                    return d.options.inlineClassName !== 'PlainText' && d.options.inlineClassName != 'Identifier';\n                });\n                var firstImpactedLine = model.getPositionAt(colorizationRange.absoluteStart).lineNumber;\n                var endPosition = model.getPositionAt(colorizationRange.absoluteEnd);\n                // A token that ends in the first column of the next line is not considered to be part of that line.\n                var lastImpactedLine = endPosition.column == 1 && endPosition.lineNumber > 1\n                    ? endPosition.lineNumber - 1\n                    : endPosition.lineNumber;\n                return { decorations: decorations, firstImpactedLine: firstImpactedLine, lastImpactedLine: lastImpactedLine };\n            });\n            // Compute the previous decorations we want to replace with the new ones.\n            var oldDecorations = decorationRanges\n                .map(function (range) {\n                return model\n                    .getLinesDecorations(range.firstImpactedLine, range.lastImpactedLine)\n                    .filter(function (d) { return classificationToColorLight[d.options.inlineClassName]; }) // Don't delete any other decorations\n                    .map(function (d) { return d.id; });\n            })\n                .reduce(function (prev, curr) { return prev.concat(curr); }, []);\n            // Flatten decoration groups to an array of decorations\n            var newDecorations = decorationRanges.reduce(function (prev, next) { return prev.concat(next.decorations); }, []);\n            if (model && model.getLanguageId() === languageId) {\n                _this.decorations = model.deltaDecorations(oldDecorations, newDecorations);\n            }\n        })\n            .catch(function (err) {\n            // Hack to avoid crashing calling code, while still logging the\n            // error. Might be better to just let the error propagate\n            // normally, but that would require more investigation.\n            setTimeout(function () {\n                throw err;\n            }, 0);\n        });\n    };\n    return ColorizationAdapter;\n}());\nexport { ColorizationAdapter };\n/**\n * Generates a mapping between ClassificationKind and color.\n */\nfunction getClassificationColorTriplets() {\n    var result = Object.keys(ClassificationKind).map(function (key) { return ({\n        classification: key,\n        colorLight: classificationToColorLight[key],\n        colorDark: classificationToColorDark[key],\n    }); });\n    return result;\n}\n/**\n * Returns a string which is a css describing all tokens and their colors.\n * looks a little bit something like this:\n *\n * .vs .Literal {color: '#000000';} .vs-dark .Literal {color: '#FFFFFF';}\n * .vs .Comment {color: '#111111';} .vs-dark .Comment {color: '#EEEEEE';}\n */\nfunction getCssForClassification() {\n    var classificationColorTriplets = getClassificationColorTriplets();\n    var cssInnerHtml = classificationColorTriplets\n        .map(function (pair) {\n        return \".vs .\".concat(pair.classification, \" {color: #\").concat(pair.colorLight, \";} .vs-dark .\").concat(pair.classification, \" {color: #\").concat(pair.colorDark, \";}\");\n    })\n        .join('\\n');\n    return cssInnerHtml;\n}\n/**\n * Inject a CSS sheet to the head of document, coloring kusto elements by classification.\n * TODO: make idempotent\n */\nfunction injectCss() {\n    var container = document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    style.media = 'screen';\n    container.appendChild(style);\n    ClassificationKind;\n    style.innerHTML = getCssForClassification();\n}\nfunction toDecoration(model, classification) {\n    var start = model.getPositionAt(classification.start);\n    var end = model.getPositionAt(classification.start + classification.length);\n    var range = new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column);\n    var inlineClassName = ClassificationKindNames[classification.kind];\n    return {\n        range: range,\n        options: {\n            inlineClassName: inlineClassName,\n            stickiness: monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n        },\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return { start: fromPosition(range.getStartPosition()), end: fromPosition(range.getEndPosition()) };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new monaco.Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case ls.CompletionItemKind.Text:\n            return mItemKind.Text;\n        case ls.CompletionItemKind.Method:\n            return mItemKind.Method;\n        case ls.CompletionItemKind.Function:\n            return mItemKind.Function;\n        case ls.CompletionItemKind.Constructor:\n            return mItemKind.Constructor;\n        case ls.CompletionItemKind.Field:\n            return mItemKind.Field;\n        case ls.CompletionItemKind.Variable:\n            return mItemKind.Variable;\n        case ls.CompletionItemKind.Class:\n            return mItemKind.Class;\n        case ls.CompletionItemKind.Interface:\n            return mItemKind.Interface;\n        case ls.CompletionItemKind.Module:\n            return mItemKind.Module;\n        case ls.CompletionItemKind.Property:\n            return mItemKind.Property;\n        case ls.CompletionItemKind.Unit:\n            return mItemKind.Unit;\n        case ls.CompletionItemKind.Value:\n            return mItemKind.Value;\n        case ls.CompletionItemKind.Enum:\n            return mItemKind.Enum;\n        case ls.CompletionItemKind.Keyword:\n            return mItemKind.Keyword;\n        case ls.CompletionItemKind.Snippet:\n            return mItemKind.Snippet;\n        case ls.CompletionItemKind.Color:\n            return mItemKind.Color;\n        case ls.CompletionItemKind.File:\n            return mItemKind.File;\n        case ls.CompletionItemKind.Reference:\n            return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText,\n    };\n}\nvar DEFAULT_DOCS_BASE_URL = 'https://learn.microsoft.com/azure/data-explorer/kusto/query';\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker, languageSettings) {\n        this._worker = _worker;\n        this.languageSettings = languageSettings;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', '.', '('];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\n        var _this = this;\n        var wordInfo = model.getWordUntilPosition(position);\n        var wordRange = new monaco.Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n        var resource = model.uri;\n        var onDidProvideCompletionItems = this.languageSettings.onDidProvideCompletionItems;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) { return (onDidProvideCompletionItems ? onDidProvideCompletionItems(info) : info); })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            var items = info.items.map(function (entry) {\n                var _a;\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    // TODO: Is this cast safe?\n                    documentation: _this.formatDocLink((_a = entry.documentation) === null || _a === void 0 ? void 0 : _a.value),\n                    detail: entry.detail,\n                    range: wordRange,\n                    kind: toCompletionItemKind(entry.kind),\n                };\n                if (entry.textEdit) {\n                    // TODO: Where is the \"range\" property coming from?\n                    item.range = toRange(entry.textEdit.range);\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                    item.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                suggestions: items,\n            };\n        });\n    };\n    CompletionAdapter.prototype.formatDocLink = function (docString) {\n        // If the docString is empty, we want to return undefined to prevent an empty documentation popup.\n        if (!docString) {\n            return undefined;\n        }\n        var _a = this.languageSettings, _b = _a.documentationBaseUrl, documentationBaseUrl = _b === void 0 ? DEFAULT_DOCS_BASE_URL : _b, documentationSuffix = _a.documentationSuffix;\n        var urisProxy = new Proxy({}, {\n            get: function (_target, prop, _receiver) {\n                // The link comes with a postfix of \".md\" that we want to remove\n                var url = prop.toString().replace('.md', '');\n                // Sometimes we get the link as a full URL. For example in the main doc link of the item\n                if (!url.startsWith('https')) {\n                    url = \"\".concat(documentationBaseUrl, \"/\").concat(url);\n                }\n                var monacoUri = monaco.Uri.parse(url);\n                if (documentationSuffix) {\n                    // We need to override the toString method to add the suffix, otherwise it gets encoded and page doesn't open\n                    monacoUri.toString = function () { return url + documentationSuffix; };\n                }\n                return monacoUri;\n            },\n        });\n        return { value: docString, isTrusted: true, uris: urisProxy };\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry,\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'),\n            };\n        }\n        return {\n            value: entry.value,\n        };\n    }\n    return { value: '```' + entry.value + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: monaco.Uri.parse(location.uri),\n        range: toRange(location.range),\n    };\n}\nvar DefinitionAdapter = /** @class */ (function () {\n    function DefinitionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDefinition(resource.toString(), fromPosition(position));\n        })\n            .then(function (definition) {\n            if (!definition || definition.length == 0) {\n                return;\n            }\n            return [toLocation(definition[0])];\n        });\n    };\n    return DefinitionAdapter;\n}());\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function () {\n    function ReferenceAdapter(_worker) {\n        this._worker = _worker;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findReferences(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(toLocation);\n        });\n    };\n    return ReferenceAdapter;\n}());\nexport { ReferenceAdapter };\n// --- rename ------\nfunction toWorkspaceEdit(edit) {\n    if (!edit || !edit.changes) {\n        return void 0;\n    }\n    var resourceEdits = [];\n    for (var uri in edit.changes) {\n        var _uri = monaco.Uri.parse(uri);\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\n            var e = _a[_i];\n            resourceEdits.push({\n                resource: _uri,\n                textEdit: {\n                    range: toRange(e.range),\n                    text: e.newText,\n                },\n                versionId: undefined,\n            });\n        }\n    }\n    return {\n        edits: resourceEdits,\n    };\n}\nvar RenameAdapter = /** @class */ (function () {\n    function RenameAdapter(_worker) {\n        this._worker = _worker;\n    }\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\n        })\n            .then(function (edit) {\n            return toWorkspaceEdit(edit);\n        });\n    };\n    return RenameAdapter;\n}());\nexport { RenameAdapter };\n// --- formatting -----\nvar DocumentFormatAdapter = /** @class */ (function () {\n    function DocumentFormatAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentFormatAdapter.prototype.provideDocumentFormattingEdits = function (model, options, token) {\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.doDocumentFormat(resource.toString()).then(function (edits) { return edits.map(function (edit) { return toTextEdit(edit); }); });\n        });\n    };\n    return DocumentFormatAdapter;\n}());\nexport { DocumentFormatAdapter };\nvar FormatAdapter = /** @class */ (function () {\n    function FormatAdapter(_worker) {\n        this._worker = _worker;\n    }\n    FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker\n                .doRangeFormat(resource.toString(), fromRange(range))\n                .then(function (edits) { return edits.map(function (edit) { return toTextEdit(edit); }); });\n        });\n    };\n    return FormatAdapter;\n}());\nexport { FormatAdapter };\n// --- Folding ---\nvar FoldingAdapter = /** @class */ (function () {\n    function FoldingAdapter(_worker) {\n        this._worker = _worker;\n    }\n    FoldingAdapter.prototype.provideFoldingRanges = function (model, context, token) {\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker\n                .doFolding(resource.toString())\n                .then(function (foldingRanges) {\n                return foldingRanges.map(function (range) { return toFoldingRange(range); });\n            });\n        });\n    };\n    return FoldingAdapter;\n}());\nexport { FoldingAdapter };\nfunction toFoldingRange(range) {\n    return {\n        start: range.startLine + 1,\n        end: range.endLine + 1,\n        kind: monaco.languages.FoldingRangeKind.Region,\n    };\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents),\n            };\n        });\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nimport { WorkerManager } from './workerManager';\nimport { KustoLanguageDefinition } from './languageServiceManager/kustoMonarchLanguageDefinition';\nimport * as languageFeatures from './languageFeatures';\nvar kustoWorker;\nvar resolveWorker;\nvar rejectWorker;\nvar workerPromise = new Promise(function (resolve, reject) {\n    resolveWorker = resolve;\n    rejectWorker = reject;\n});\n/**\n * Called when Kusto language is first needed (a model has the language set)\n * @param defaults\n */\nexport function setupMode(defaults, monacoInstance) {\n    var _this = this;\n    var onSchemaChange = new monaco.Emitter();\n    // TODO: when should we dispose of these? seems like monaco-css and monaco-typescript don't dispose of these.\n    var disposables = [];\n    var monarchTokensProvider;\n    var client = new WorkerManager(monacoInstance, defaults);\n    disposables.push(client);\n    var workerAccessor = function (first) {\n        var more = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            more[_i - 1] = arguments[_i];\n        }\n        var augmentedSetSchema = function (schema, worker) { return __awaiter(_this, void 0, void 0, function () {\n            var workerPromise;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        workerPromise = worker.setSchema(schema);\n                        return [4 /*yield*/, workerPromise.then(function () {\n                                onSchemaChange.fire(schema);\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var worker = client.getLanguageServiceWorker.apply(client, [first].concat(more));\n        return worker.then(function (worker) { return (__assign(__assign({}, worker), { setSchema: function (schema) { return augmentedSetSchema(schema, worker); }, setSchemaFromShowSchema: function (schema, connection, database, globalScalarParameters, globalTabularParameters) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, worker.normalizeSchema(schema, connection, database).then(function (schema) {\n                                    if (globalScalarParameters || globalTabularParameters) {\n                                        schema = __assign(__assign({}, schema), { globalScalarParameters: globalScalarParameters, globalTabularParameters: globalTabularParameters });\n                                    }\n                                    augmentedSetSchema(schema, worker);\n                                })];\n                            case 1:\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            } })); });\n    };\n    var language = 'kusto';\n    disposables.push(monacoInstance.languages.registerCompletionItemProvider(language, new languageFeatures.CompletionAdapter(workerAccessor, defaults.languageSettings)));\n    // Monaco tokenization runs in main thread so we're using a quick schema-unaware tokenization.\n    // a web worker will run semantic colorization in the background (ColorizationAdapter).\n    if (defaults.languageSettings.useTokenColorization) {\n        monarchTokensProvider = monacoInstance.languages.setMonarchTokensProvider(language, KustoLanguageDefinition);\n    }\n    // listen to configuration changes and if we're switching from semantic to monarch colorization, do the switch.\n    defaults.onDidChange(function (e) {\n        if (!e.languageSettings.useTokenColorization && monarchTokensProvider !== undefined) {\n            monarchTokensProvider.dispose();\n            monarchTokensProvider = undefined;\n        }\n        if (e.languageSettings.useTokenColorization && monarchTokensProvider == undefined) {\n            monarchTokensProvider = monacoInstance.languages.setMonarchTokensProvider(language, KustoLanguageDefinition);\n        }\n    });\n    disposables.push(new languageFeatures.DiagnosticsAdapter(monacoInstance, language, workerAccessor, defaults, onSchemaChange.event));\n    disposables.push(new languageFeatures.ColorizationAdapter(monacoInstance, language, workerAccessor, defaults, onSchemaChange.event));\n    disposables.push(monacoInstance.languages.registerDocumentRangeFormattingEditProvider(language, new languageFeatures.FormatAdapter(workerAccessor)));\n    disposables.push(monacoInstance.languages.registerFoldingRangeProvider(language, new languageFeatures.FoldingAdapter(workerAccessor)));\n    disposables.push(monacoInstance.languages.registerDefinitionProvider(language, new languageFeatures.DefinitionAdapter(workerAccessor)));\n    disposables.push(monacoInstance.languages.registerRenameProvider(language, new languageFeatures.RenameAdapter(workerAccessor)));\n    disposables.push(monacoInstance.languages.registerReferenceProvider(language, new languageFeatures.ReferenceAdapter(workerAccessor)));\n    if (defaults.languageSettings.enableHover) {\n        disposables.push(monacoInstance.languages.registerHoverProvider(language, new languageFeatures.HoverAdapter(workerAccessor)));\n    }\n    monacoInstance.languages.registerDocumentFormattingEditProvider(language, new languageFeatures.DocumentFormatAdapter(workerAccessor));\n    kustoWorker = workerAccessor;\n    resolveWorker(workerAccessor);\n    monacoInstance.languages.setLanguageConfiguration(language, {\n        folding: {\n            offSide: false,\n            markers: { start: /^\\s*[\\r\\n]/gm, end: /^\\s*[\\r\\n]/gm },\n        },\n        comments: {\n            lineComment: '//',\n            blockComment: null,\n        },\n        autoClosingPairs: [\n            { open: '{', close: '}' },\n            { open: '[', close: ']' },\n            { open: '(', close: ')' },\n            { open: \"'\", close: \"'\", notIn: ['string', 'comment'] },\n            { open: '\"', close: '\"', notIn: ['string', 'comment'] },\n        ],\n    });\n    return kustoWorker;\n}\nexport function getKustoWorker() {\n    return workerPromise.then(function () { return kustoWorker; });\n}\n"],"names":["__rest","s","e","t","p","i","WorkerManager","_monacoInstance","defaults","_this","proxy","schema","maxIdleTime","timePassedSinceLastUsed","_a","onDidProvideCompletionItems","languageSettings","resources","_i","_client","client","_","KustoLanguageDefinition","DocumentUri","is","value","URI","integer","uinteger","Position","create","line","character","candidate","Is","Range","one","two","three","four","Location","uri","range","LocationLink","targetUri","targetRange","targetSelectionRange","originSelectionRange","Color","red","green","blue","alpha","ColorInformation","color","ColorPresentation","label","textEdit","additionalTextEdits","TextEdit","FoldingRangeKind","FoldingRange","startLine","endLine","startCharacter","endCharacter","kind","collapsedText","result","DiagnosticRelatedInformation","location","message","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","severity","code","source","relatedInformation","Command","title","command","args","replace","newText","insert","position","del","ChangeAnnotation","needsConfirmation","description","ChangeAnnotationIdentifier","AnnotatedTextEdit","annotation","TextDocumentEdit","textDocument","edits","OptionalVersionedTextDocumentIdentifier","CreateFile","options","RenameFile","oldUri","newUri","DeleteFile","WorkspaceEdit","change","TextEditChangeImpl","changeAnnotations","edit","id","ChangeAnnotations","annotations","idOrAnnotation","WorkspaceChange","workspaceEdit","textEditChange","key","textDocumentEdit","optionsOrAnnotation","operation","TextDocumentIdentifier","VersionedTextDocumentIdentifier","version","TextDocumentItem","languageId","text","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","items","isIncomplete","MarkedString","fromPlainText","plainText","Hover","ParameterInformation","documentation","SignatureInformation","parameters","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","name","containerName","WorkspaceSymbol","DocumentSymbol","detail","selectionRange","children","CodeActionKind","CodeActionTriggerKind","CodeActionContext","diagnostics","only","triggerKind","CodeAction","kindOrCommandOrEdit","checkKind","CodeLens","data","FormattingOptions","tabSize","insertSpaces","DocumentLink","target","SelectionRange","parent","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","variableName","caseSensitiveLookup","InlineValueEvaluatableExpression","expression","InlineValueContext","frameId","stoppedLocation","InlayHintKind","InlayHintLabelPart","InlayHint","StringValue","createSnippet","InlineCompletionItem","insertText","filterText","InlineCompletionList","InlineCompletionTriggerKind","SelectedCompletionInfo","InlineCompletionContext","selectedCompletionInfo","WorkspaceFolder","EOL","TextDocument","content","FullTextDocument","applyEdits","document","sortedEdits","mergeSort","a","b","diff","lastModifiedOffset","startOffset","endOffset","compare","left","right","leftIdx","rightIdx","start","end","event","lineOffsets","isLineStart","ch","offset","low","high","mid","lineOffset","nextLineOffset","toString","defined","undefined","boolean","string","number","numberRange","min","max","func","objectLiteral","typedArray","check","isObject","type","freeGlobal","freeSelf","root","now","reWhitespace","trimmedEndIndex","index","reTrimStart","baseTrim","objectProto","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","__awaiter","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","__generator","body","f","y","g","verb","n","v","op","__spreadArray","to","from","pack","l","ar","DiagnosticsAdapter","_languageId","_worker","onSchemaChange","onModelAdd","model","modelUri","debouncedValidation","intervalsToValidate","changeEventToIntervals","onEditorAdd","editor","editorId","cursorOffset","onModelRemoved","uriStr","contentListener","configurationListener","schemaListener","context","_token","showQuickFix","actions","enableQuickFix","worker","resource","codeActions","_loop_1","this_1","state_1","_b","codeAction","codeActionKind","actionKind","changes","startPosition","endPosition","intervals","d","versionNumberBefore","newModel","versionId","markers","toDiagnostics","oldDecorations","decoration","syntaxErrorAsMarkDown","header","icon","popupErrorHoverHeaderMessage_1","newDecorations","marker","oldMarkers","err","toSeverity","lsSeverity","diag","ClassificationKind","ClassificationKindNames","classificationToColorLight","classificationToColorDark","ColorizationAdapter","injectCss","debouncedColorization","handle","intervalsToColorize","versionNumberBeforeColorization","colorizationRanges","decorationRanges","colorizationRange","decorations","classification","toDecoration","firstImpactedLine","lastImpactedLine","prev","curr","next","getClassificationColorTriplets","getCssForClassification","classificationColorTriplets","cssInnerHtml","pair","container","style","inlineClassName","fromPosition","fromRange","toRange","toCompletionItemKind","mItemKind","toTextEdit","DEFAULT_DOCS_BASE_URL","CompletionAdapter","token","wordInfo","wordRange","info","entry","item","docString","documentationBaseUrl","documentationSuffix","urisProxy","_target","prop","_receiver","url","monacoUri","isMarkupContent","thing","toMarkdownString","toMarkedStringArray","contents","toLocation","DefinitionAdapter","definition","ReferenceAdapter","entries","toWorkspaceEdit","resourceEdits","_uri","RenameAdapter","newName","DocumentFormatAdapter","FormatAdapter","FoldingAdapter","foldingRanges","toFoldingRange","HoverAdapter","__assign","kustoWorker","resolveWorker","rejectWorker","workerPromise","setupMode","monacoInstance","disposables","monarchTokensProvider","workerAccessor","first","more","augmentedSetSchema","connection","database","globalScalarParameters","globalTabularParameters","language","getKustoWorker"],"sourceRoot":""}