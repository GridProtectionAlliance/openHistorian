{"version":3,"file":"1783.52631c4a7a4e1fa84f97.js","mappings":"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","sources":["webpack://grafana/./public/app/core/components/RolePicker/ValueContainer.tsx","webpack://grafana/./public/app/core/components/RolePicker/constants.ts","webpack://grafana/./public/app/core/components/RolePicker/RolePickerInput.tsx","webpack://grafana/./public/app/core/components/RolePicker/styles.ts","webpack://grafana/./public/app/core/components/RolePicker/BuiltinRoleSelector.tsx","webpack://grafana/./public/app/core/components/RolePicker/RoleMenuGroupOption.tsx","webpack://grafana/./public/app/core/components/RolePicker/RoleMenuOption.tsx","webpack://grafana/./public/app/core/components/RolePicker/RolePickerSubMenu.tsx","webpack://grafana/./public/app/core/components/RolePicker/RoleMenuGroupsSection.tsx","webpack://grafana/./public/app/core/components/RolePicker/RolePickerMenu.tsx","webpack://grafana/./public/app/core/components/RolePicker/RolePicker.tsx","webpack://grafana/./public/app/core/components/RolePicker/api.ts","webpack://grafana/./public/app/core/components/RolePicker/utils.ts"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { forwardRef, ReactNode } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { getInputStyles, Icon, IconName, useStyles2, getSelectStyles } from '@grafana/ui';\n\nexport interface Props {\n  children: ReactNode;\n  iconName?: IconName;\n}\nexport const ValueContainer = forwardRef<HTMLDivElement, Props>(({ children, iconName }, ref) => {\n  const styles = useStyles2(getStyles);\n  return (\n    <div className={styles.container} ref={ref}>\n      {iconName && <Icon name={iconName} size=\"xs\" />}\n      {children}\n    </div>\n  );\n});\n\nValueContainer.displayName = 'ValueContainer';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  const { prefix } = getInputStyles({ theme });\n  const { multiValueContainer } = getSelectStyles(theme);\n  return {\n    container: cx(\n      prefix,\n      multiValueContainer,\n      css`\n        position: relative;\n        padding: ${theme.spacing(0.5, 1, 0.5, 1)};\n\n        svg {\n          margin-right: ${theme.spacing(0.5)};\n        }\n      `\n    ),\n  };\n};\n","export const ROLE_PICKER_WIDTH = 360;\n\nexport const MENU_MAX_HEIGHT = 300; // max height for the picker's dropdown menu\n\nexport const ROLE_PICKER_MENU_MIN_WIDTH = 320;\nexport const ROLE_PICKER_MENU_MAX_WIDTH = 360;\n\nexport const ROLE_PICKER_SUBMENU_MIN_WIDTH = 320;\nexport const ROLE_PICKER_SUBMENU_MAX_WIDTH = 360;\n\nexport const ROLE_PICKER_MAX_MENU_WIDTH = ROLE_PICKER_MENU_MAX_WIDTH + ROLE_PICKER_SUBMENU_MAX_WIDTH;\n","import { css, cx } from '@emotion/css';\nimport { FormEvent, HTMLProps, useEffect, useRef } from 'react';\nimport * as React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2, getInputStyles, sharedInputStyle, styleMixins, Tooltip, Icon, Spinner } from '@grafana/ui';\n\nimport { Role } from '../../../types';\n\nimport { ValueContainer } from './ValueContainer';\nimport { ROLE_PICKER_WIDTH } from './constants';\n\nconst stopPropagation = (event: React.MouseEvent<HTMLDivElement>) => event.stopPropagation();\n\ninterface InputProps extends HTMLProps<HTMLInputElement> {\n  appliedRoles: Role[];\n  basicRole?: string;\n  query: string;\n  showBasicRole?: boolean;\n  isFocused?: boolean;\n  disabled?: boolean;\n  width?: string;\n  isLoading?: boolean;\n  onQueryChange: (query?: string) => void;\n  onOpen: (event: FormEvent<HTMLElement>) => void;\n  onClose: () => void;\n}\n\nexport const RolePickerInput = ({\n  appliedRoles,\n  basicRole,\n  disabled,\n  isFocused,\n  query,\n  showBasicRole,\n  width,\n  isLoading,\n  onOpen,\n  onClose,\n  onQueryChange,\n  ...rest\n}: InputProps): JSX.Element => {\n  const styles = useStyles2(getRolePickerInputStyles, false, !!isFocused, !!disabled, false, width);\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (isFocused) {\n      inputRef.current?.focus();\n    }\n  });\n\n  const onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const query = event.target?.value;\n    onQueryChange(query);\n  };\n\n  const showBasicRoleOnLabel = showBasicRole && basicRole !== 'None';\n\n  return !isFocused ? (\n    // TODO: fix keyboard a11y\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div className={cx(styles.wrapper, styles.selectedRoles)} onMouseDown={onOpen}>\n      {showBasicRoleOnLabel && <ValueContainer>{basicRole}</ValueContainer>}\n      <RolesLabel\n        appliedRoles={appliedRoles}\n        numberOfRoles={appliedRoles.length}\n        showBuiltInRole={showBasicRoleOnLabel}\n      />\n      {isLoading && (\n        <div className={styles.spinner}>\n          <Spinner size={16} inline />\n        </div>\n      )}\n    </div>\n  ) : (\n    <div className={styles.wrapper}>\n      {showBasicRoleOnLabel && <ValueContainer>{basicRole}</ValueContainer>}\n      {appliedRoles.map((role) => (\n        <ValueContainer key={role.uid}>{role.group + ':' + (role.displayName || role.name)}</ValueContainer>\n      ))}\n\n      {!disabled && (\n        <input\n          {...rest}\n          className={styles.input}\n          ref={inputRef}\n          onMouseDown={stopPropagation}\n          onChange={onInputChange}\n          data-testid=\"role-picker-input\"\n          placeholder={isFocused ? 'Select role' : ''}\n          value={query}\n        />\n      )}\n      <div className={styles.suffix}>\n        <Icon name=\"angle-up\" className={styles.dropdownIndicator} onMouseDown={onClose} />\n      </div>\n    </div>\n  );\n};\n\nRolePickerInput.displayName = 'RolePickerInput';\n\ninterface RolesLabelProps {\n  appliedRoles: Role[];\n  showBuiltInRole?: boolean;\n  numberOfRoles: number;\n}\n\nexport const RolesLabel = ({ showBuiltInRole, numberOfRoles, appliedRoles }: RolesLabelProps): JSX.Element => {\n  const styles = useStyles2((theme) => getTooltipStyles(theme));\n\n  return (\n    <>\n      {!!numberOfRoles ? (\n        <Tooltip\n          content={\n            <div className={styles.tooltip}>\n              {appliedRoles?.map((role) => <p key={role.uid}>{role.group + ':' + (role.displayName || role.name)}</p>)}\n            </div>\n          }\n        >\n          <ValueContainer>{`${showBuiltInRole ? '+' : ''}${numberOfRoles} role${\n            numberOfRoles > 1 ? 's' : ''\n          }`}</ValueContainer>\n        </Tooltip>\n      ) : (\n        !showBuiltInRole && <ValueContainer>No roles assigned</ValueContainer>\n      )}\n    </>\n  );\n};\n\nconst getRolePickerInputStyles = (\n  theme: GrafanaTheme2,\n  invalid: boolean,\n  focused: boolean,\n  disabled: boolean,\n  withPrefix: boolean,\n  width?: string\n) => {\n  const styles = getInputStyles({ theme, invalid });\n\n  return {\n    wrapper: cx(\n      styles.wrapper,\n      sharedInputStyle(theme, invalid),\n      focused &&\n        css`\n          ${styleMixins.focusCss(theme.v1)}\n        `,\n      disabled && styles.inputDisabled,\n      css({\n        minWidth: width || ROLE_PICKER_WIDTH + 'px',\n        width: width,\n        minHeight: '32px',\n        maxHeight: '200px',\n        overflow: 'scroll',\n        overflowX: 'hidden',\n        overflowY: 'auto',\n        height: 'auto',\n        flexDirection: 'row',\n        paddingRight: theme.spacing(1),\n        maxWidth: '100%',\n        alignItems: 'center',\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'flex-start',\n        position: 'relative',\n        boxSizing: 'border-box',\n        cursor: 'default',\n      }),\n      withPrefix &&\n        css`\n          padding-left: 0;\n        `\n    ),\n    input: cx(\n      sharedInputStyle(theme, invalid),\n      css`\n        max-width: 120px;\n        border: none;\n        cursor: ${focused ? 'default' : 'pointer'};\n      `\n    ),\n    suffix: styles.suffix,\n    dropdownIndicator: css`\n      cursor: pointer;\n    `,\n    selectedRoles: css`\n      display: flex;\n      align-items: center;\n      cursor: ${disabled ? 'not-allowed' : 'pointer'};\n    `,\n    tooltip: css`\n      p {\n        margin-bottom: ${theme.spacing(0.5)};\n      }\n    `,\n    spinner: css({\n      display: 'flex',\n      flexGrow: 1,\n      justifyContent: 'flex-end',\n    }),\n  };\n};\n\nconst getTooltipStyles = (theme: GrafanaTheme2) => ({\n  tooltip: css`\n    p {\n      margin-bottom: ${theme.spacing(0.5)};\n    }\n  `,\n});\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport {\n  ROLE_PICKER_MENU_MAX_WIDTH,\n  ROLE_PICKER_MENU_MIN_WIDTH,\n  ROLE_PICKER_SUBMENU_MAX_WIDTH,\n  ROLE_PICKER_SUBMENU_MIN_WIDTH,\n} from './constants';\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  hideScrollBar: css({\n    '.scrollbar-view': {\n      /* Hide scrollbar for Chrome, Safari, and Opera */\n      '&::-webkit-scrollbar': {\n        display: 'none',\n      },\n      /* Hide scrollbar for Firefox */\n      scrollbarWidth: 'none',\n    },\n  }),\n  menuWrapper: css({\n    display: 'flex',\n    maxHeight: '650px',\n    position: 'absolute',\n    zIndex: theme.zIndex.dropdown,\n    overflow: 'hidden',\n    minWidth: 'auto',\n  }),\n  menu: css({\n    minWidth: `${ROLE_PICKER_MENU_MIN_WIDTH}px`,\n    maxWidth: `${ROLE_PICKER_MENU_MAX_WIDTH}px`,\n    '& > div': {\n      paddingTop: theme.spacing(1),\n    },\n  }),\n  menuLeft: css({\n    flexDirection: 'row-reverse',\n  }),\n  subMenu: css({\n    height: '100%',\n    minWidth: `${ROLE_PICKER_SUBMENU_MIN_WIDTH}px`,\n    maxWidth: `${ROLE_PICKER_SUBMENU_MAX_WIDTH}px`,\n    display: 'flex',\n    flexDirection: 'column',\n    borderLeft: `1px solid ${theme.components.input.borderColor}`,\n\n    '& > div': {\n      paddingTop: theme.spacing(1),\n    },\n  }),\n  subMenuLeft: css({\n    borderRight: `1px solid ${theme.components.input.borderColor}`,\n    borderLeft: 'unset',\n  }),\n  groupHeader: css({\n    padding: theme.spacing(0, 4.5),\n    display: 'flex',\n    alignItems: 'center',\n    color: theme.colors.text.primary,\n    fontWeight: theme.typography.fontWeightBold,\n  }),\n  container: css({\n    padding: theme.spacing(1),\n    border: `1px ${theme.colors.border.weak} solid`,\n    borderRadius: theme.shape.radius.default,\n    backgroundColor: theme.colors.background.primary,\n    zIndex: theme.zIndex.modal,\n  }),\n  menuSection: css({\n    marginBottom: theme.spacing(2),\n  }),\n  menuOptionCheckbox: css({\n    display: 'flex',\n    margin: theme.spacing(0, 1, 0, 0.25),\n  }),\n  menuButtonRow: css({\n    backgroundColor: theme.colors.background.primary,\n    padding: theme.spacing(1),\n  }),\n  menuOptionBody: css({\n    fontWeight: theme.typography.fontWeightRegular,\n    padding: theme.spacing(0, 1.5, 0, 0),\n  }),\n  menuOptionDisabled: css({\n    color: theme.colors.text.disabled,\n    cursor: 'not-allowed',\n  }),\n  menuOptionExpand: css({\n    position: 'absolute',\n    right: theme.spacing(2.5),\n    color: theme.colors.text.disabled,\n\n    '&:after': {\n      content: '\">\"',\n    },\n  }),\n  menuOptionInfoSign: css({\n    color: theme.colors.text.disabled,\n  }),\n  basicRoleSelector: css({\n    margin: theme.spacing(1, 1.25, 1, 1.5),\n  }),\n  subMenuPortal: css({\n    height: '100%',\n    '> div': {\n      height: '100%',\n    },\n  }),\n  subMenuButtonRow: css({\n    backgroundColor: theme.colors.background.primary,\n    padding: theme.spacing(1),\n  }),\n  checkboxPartiallyChecked: css({\n    input: {\n      '&:checked + span': {\n        '&:after': {\n          borderWidth: '0 3px 0px 0',\n          transform: 'rotate(90deg)',\n        },\n      },\n    },\n  }),\n  loadingSpinner: css({\n    marginLeft: theme.spacing(1),\n  }),\n});\n","import { SelectableValue } from '@grafana/data';\nimport { Icon, RadioButtonList, Tooltip, useStyles2, useTheme2, PopoverContent } from '@grafana/ui';\nimport { OrgRole } from 'app/types';\n\nimport { getStyles } from './styles';\n\nconst BasicRoleOption: Array<SelectableValue<OrgRole>> = Object.values(OrgRole).map((r) => ({\n  label: r === OrgRole.None ? 'No basic role' : r,\n  value: r,\n}));\n\ninterface Props {\n  value?: OrgRole;\n  onChange: (value: OrgRole) => void;\n  disabled?: boolean;\n  disabledMesssage?: string;\n  tooltipMessage?: PopoverContent;\n}\n\nexport const BuiltinRoleSelector = ({ value, onChange, disabled, disabledMesssage, tooltipMessage }: Props) => {\n  const styles = useStyles2(getStyles);\n  const theme = useTheme2();\n\n  return (\n    <>\n      <div className={styles.groupHeader}>\n        <span style={{ marginRight: theme.spacing(1) }}>Basic roles</span>\n        {disabled && disabledMesssage && (\n          <Tooltip placement=\"right-end\" interactive={true} content={<div>{disabledMesssage}</div>}>\n            <Icon name=\"question-circle\" />\n          </Tooltip>\n        )}\n        {!disabled && tooltipMessage && (\n          <Tooltip placement=\"right-end\" interactive={true} content={tooltipMessage}>\n            <Icon name=\"info-circle\" size=\"xs\" />\n          </Tooltip>\n        )}\n      </div>\n      <RadioButtonList\n        name=\"Basic Role Selector\"\n        className={styles.basicRoleSelector}\n        options={BasicRoleOption}\n        value={value}\n        onChange={onChange}\n        disabled={disabled}\n      />\n    </>\n  );\n};\n","import { cx } from '@emotion/css';\nimport { FormEvent, memo } from 'react';\nimport * as React from 'react';\n\nimport { Checkbox, Portal, useStyles2, useTheme2 } from '@grafana/ui';\nimport { getSelectStyles } from '@grafana/ui/src/components/Select/getSelectStyles';\n\nimport { getStyles } from './styles';\n\ninterface RoleMenuGroupsOptionProps {\n  // display name\n  name: string;\n  // group id\n  value: string;\n  onChange: (value: string) => void;\n  onClick?: (value: string) => void;\n  onOpenSubMenu?: (value: string) => void;\n  onCloseSubMenu?: () => void;\n  isSelected?: boolean;\n  partiallySelected?: boolean;\n  isFocused?: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n  root?: HTMLElement;\n}\n\nexport const RoleMenuGroupOption = memo(\n  React.forwardRef<HTMLDivElement, RoleMenuGroupsOptionProps>(\n    (\n      {\n        name,\n        value,\n        isFocused,\n        isSelected,\n        partiallySelected,\n        disabled,\n        onChange,\n        onClick,\n        onOpenSubMenu,\n        onCloseSubMenu,\n        children,\n        root,\n      },\n      ref\n    ) => {\n      const theme = useTheme2();\n      const styles = getSelectStyles(theme);\n      const customStyles = useStyles2(getStyles);\n\n      const wrapperClassName = cx(\n        styles.option,\n        isFocused && styles.optionFocused,\n        disabled && customStyles.menuOptionDisabled\n      );\n\n      const onChangeInternal = (event: FormEvent<HTMLElement>) => {\n        if (disabled) {\n          return;\n        }\n        if (value) {\n          onChange(value);\n        }\n      };\n\n      const onClickInternal = (event: FormEvent<HTMLElement>) => {\n        if (onClick) {\n          onClick(value!);\n        }\n      };\n\n      const onMouseEnter = () => {\n        if (onOpenSubMenu) {\n          onOpenSubMenu(value!);\n        }\n      };\n\n      const onMouseLeave = () => {\n        if (onCloseSubMenu) {\n          onCloseSubMenu();\n        }\n      };\n\n      return (\n        <div onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n          {/* TODO: fix keyboard a11y */}\n          {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */}\n          <div ref={ref} className={wrapperClassName} aria-label=\"Role picker option\" onClick={onClickInternal}>\n            <Checkbox\n              value={isSelected}\n              className={cx(customStyles.menuOptionCheckbox, {\n                [customStyles.checkboxPartiallyChecked]: partiallySelected,\n              })}\n              onChange={onChangeInternal}\n              disabled={disabled}\n            />\n            <div className={cx(styles.optionBody, customStyles.menuOptionBody)}>\n              <span>{name}</span>\n              <span className={customStyles.menuOptionExpand} />\n            </div>\n            {root && children && (\n              <Portal className={customStyles.subMenuPortal} root={root}>\n                {children}\n              </Portal>\n            )}\n          </div>\n        </div>\n      );\n    }\n  )\n);\n\nRoleMenuGroupOption.displayName = 'RoleMenuGroupOption';\n","import { cx } from '@emotion/css';\nimport { forwardRef, FormEvent } from 'react';\n\nimport { Checkbox, Icon, Tooltip, useStyles2, useTheme2 } from '@grafana/ui';\nimport { getSelectStyles } from '@grafana/ui/src/components/Select/getSelectStyles';\nimport { Role } from 'app/types';\n\nimport { getStyles } from './styles';\n\ninterface RoleMenuOptionProps {\n  data: Role;\n  onChange: (value: Role) => void;\n  isSelected?: boolean;\n  isFocused?: boolean;\n  disabled?: boolean;\n  hideDescription?: boolean;\n}\n\nexport const RoleMenuOption = forwardRef<HTMLDivElement, React.PropsWithChildren<RoleMenuOptionProps>>(\n  ({ data, isFocused, isSelected, disabled, onChange, hideDescription }, ref) => {\n    const theme = useTheme2();\n    const styles = getSelectStyles(theme);\n    const customStyles = useStyles2(getStyles);\n\n    const wrapperClassName = cx(\n      styles.option,\n      isFocused && styles.optionFocused,\n      disabled && customStyles.menuOptionDisabled\n    );\n\n    const onChangeInternal = (event: FormEvent<HTMLElement>) => {\n      if (disabled) {\n        return;\n      }\n      event.preventDefault();\n      event.stopPropagation();\n      onChange(data);\n    };\n\n    return (\n      // TODO: fix keyboard a11y\n      // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n      <div ref={ref} className={wrapperClassName} aria-label=\"Role picker option\" onClick={onChangeInternal}>\n        <Checkbox\n          value={isSelected}\n          className={customStyles.menuOptionCheckbox}\n          onChange={onChangeInternal}\n          disabled={disabled}\n        />\n        <div className={cx(styles.optionBody, customStyles.menuOptionBody)}>\n          <span>{data.displayName || data.name}</span>\n          {!hideDescription && data.description && <div className={styles.optionDescription}>{data.description}</div>}\n        </div>\n        {data.description && (\n          <Tooltip content={data.description}>\n            <Icon name=\"info-circle\" className={customStyles.menuOptionInfoSign} />\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n);\n\nRoleMenuOption.displayName = 'RoleMenuOption';\n","import { cx } from '@emotion/css';\n\nimport { Button, CustomScrollbar, Stack, useStyles2, useTheme2 } from '@grafana/ui';\nimport { getSelectStyles } from '@grafana/ui/src/components/Select/getSelectStyles';\nimport { Role } from 'app/types';\n\nimport { RoleMenuOption } from './RoleMenuOption';\nimport { MENU_MAX_HEIGHT } from './constants';\nimport { getStyles } from './styles';\nimport { isNotDelegatable } from './utils';\n\ninterface RolePickerSubMenuProps {\n  options: Role[];\n  selectedOptions: Role[];\n  disabledOptions?: Role[];\n  onSelect: (option: Role) => void;\n  onClear?: () => void;\n  showOnLeft?: boolean;\n}\n\nexport const RolePickerSubMenu = ({\n  options,\n  selectedOptions,\n  disabledOptions,\n  onSelect,\n  onClear,\n  showOnLeft,\n}: RolePickerSubMenuProps): JSX.Element => {\n  const theme = useTheme2();\n  const styles = getSelectStyles(theme);\n  const customStyles = useStyles2(getStyles);\n\n  const onClearInternal = async () => {\n    if (onClear) {\n      onClear();\n    }\n  };\n\n  return (\n    <div\n      className={cx(customStyles.subMenu, { [customStyles.subMenuLeft]: showOnLeft })}\n      aria-label=\"Role picker submenu\"\n    >\n      <CustomScrollbar autoHide={false} autoHeightMax={`${MENU_MAX_HEIGHT}px`} hideHorizontalTrack>\n        <div className={styles.optionBody}>\n          {options.map((option, i) => (\n            <RoleMenuOption\n              data={option}\n              key={i}\n              isSelected={\n                !!(\n                  option.uid &&\n                  (!!selectedOptions.find((opt) => opt.uid === option.uid) ||\n                    disabledOptions?.find((opt) => opt.uid === option.uid))\n                )\n              }\n              disabled={\n                !!(option.uid && disabledOptions?.find((opt) => opt.uid === option.uid)) || isNotDelegatable(option)\n              }\n              onChange={onSelect}\n              hideDescription\n            />\n          ))}\n        </div>\n      </CustomScrollbar>\n      <div className={customStyles.subMenuButtonRow}>\n        <Stack justifyContent=\"flex-end\">\n          <Button size=\"sm\" fill=\"text\" onClick={onClearInternal}>\n            Clear\n          </Button>\n        </Stack>\n      </div>\n    </div>\n  );\n};\n","import { forwardRef, useCallback, useState } from 'react';\n\nimport { useStyles2, getSelectStyles, useTheme2 } from '@grafana/ui';\nimport { Role } from 'app/types';\n\nimport { RoleMenuGroupOption } from './RoleMenuGroupOption';\nimport { RoleMenuOption } from './RoleMenuOption';\nimport { RolePickerSubMenu } from './RolePickerSubMenu';\nimport { getStyles } from './styles';\nimport { isNotDelegatable } from './utils';\n\ninterface RoleMenuGroupsSectionProps {\n  roles: Role[];\n  renderedName: string;\n  showGroups?: boolean;\n  optionGroups: Array<{\n    name: string;\n    options: Role[];\n    value: string;\n  }>;\n  onGroupChange: (value: string) => void;\n  groupSelected: (group: string) => boolean;\n  groupPartiallySelected: (group: string) => boolean;\n  disabled?: boolean;\n  subMenuNode?: HTMLDivElement;\n  selectedOptions: Role[];\n  onRoleChange: (option: Role) => void;\n  onClearSubMenu: (group: string) => void;\n  showOnLeftSubMenu?: boolean;\n}\n\nexport const RoleMenuGroupsSection = forwardRef<HTMLDivElement, RoleMenuGroupsSectionProps>(\n  (\n    {\n      roles,\n      renderedName,\n      showGroups,\n      optionGroups,\n      onGroupChange,\n      groupSelected,\n      groupPartiallySelected,\n      subMenuNode,\n      selectedOptions,\n      onRoleChange,\n      onClearSubMenu,\n      showOnLeftSubMenu,\n    },\n    _ref\n  ) => {\n    const [showSubMenu, setShowSubMenu] = useState(false);\n    const [openedMenuGroup, setOpenedMenuGroup] = useState('');\n\n    const theme = useTheme2();\n    const selectStyles = getSelectStyles(theme);\n    const styles = useStyles2(getStyles);\n\n    const onOpenSubMenu = useCallback((value: string) => {\n      setOpenedMenuGroup(value);\n      setShowSubMenu(true);\n    }, []);\n\n    const onCloseSubMenu = useCallback(() => {\n      setShowSubMenu(false);\n      setOpenedMenuGroup('');\n    }, []);\n\n    return (\n      <div>\n        {roles.length > 0 && (\n          <div className={styles.menuSection}>\n            <div className={styles.groupHeader}>{renderedName}</div>\n            <div className={selectStyles.optionBody}></div>\n            {showGroups && !!optionGroups?.length\n              ? optionGroups.map((groupOption) => (\n                  <RoleMenuGroupOption\n                    key={groupOption.value}\n                    name={groupOption.name}\n                    value={groupOption.value}\n                    isSelected={groupSelected(groupOption.value) || groupPartiallySelected(groupOption.value)}\n                    partiallySelected={groupPartiallySelected(groupOption.value)}\n                    disabled={groupOption.options?.every(isNotDelegatable)}\n                    onChange={onGroupChange}\n                    onOpenSubMenu={onOpenSubMenu}\n                    onCloseSubMenu={onCloseSubMenu}\n                    root={subMenuNode}\n                    isFocused={showSubMenu && openedMenuGroup === groupOption.value}\n                  >\n                    {showSubMenu && openedMenuGroup === groupOption.value && (\n                      <RolePickerSubMenu\n                        options={groupOption.options}\n                        selectedOptions={selectedOptions}\n                        onSelect={onRoleChange}\n                        onClear={() => onClearSubMenu(openedMenuGroup)}\n                        showOnLeft={showOnLeftSubMenu}\n                      />\n                    )}\n                  </RoleMenuGroupOption>\n                ))\n              : roles.map((option) => (\n                  <RoleMenuOption\n                    data={option}\n                    key={option.uid}\n                    isSelected={!!(option.uid && !!selectedOptions.find((opt) => opt.uid === option.uid))}\n                    disabled={isNotDelegatable(option)}\n                    onChange={onRoleChange}\n                    hideDescription\n                  />\n                ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nRoleMenuGroupsSection.displayName = 'RoleMenuGroupsSection';\n","import { css, cx } from '@emotion/css';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { Button, CustomScrollbar, Stack, TextLink, useStyles2, useTheme2 } from '@grafana/ui';\nimport { getSelectStyles } from '@grafana/ui/src/components/Select/getSelectStyles';\nimport { OrgRole, Role } from 'app/types';\n\nimport { BuiltinRoleSelector } from './BuiltinRoleSelector';\nimport { RoleMenuGroupsSection } from './RoleMenuGroupsSection';\nimport { MENU_MAX_HEIGHT } from './constants';\nimport { getStyles } from './styles';\n\nenum GroupType {\n  fixed = 'fixed',\n  custom = 'custom',\n  plugin = 'plugin',\n}\n\ninterface RoleGroupOption {\n  name: string;\n  value: string;\n  options: Role[];\n}\n\ninterface RolesCollectionEntry {\n  groupType: GroupType;\n  optionGroup: RoleGroupOption[];\n  renderedName: string;\n  roles: Role[];\n}\n\nconst fixedRoleGroupNames: Record<string, string> = {\n  ldap: 'LDAP',\n  current: 'Current org',\n};\n\nconst tooltipMessage = (\n  <>\n    You can now select the &quot;No basic role&quot; option and add permissions to your custom needs. You can find more\n    information in&nbsp;\n    <TextLink\n      href=\"https://grafana.com/docs/grafana/latest/administration/roles-and-permissions/#organization-roles\"\n      variant=\"bodySmall\"\n      external\n    >\n      our documentation\n    </TextLink>\n    .\n  </>\n);\n\ninterface RolePickerMenuProps {\n  basicRole?: OrgRole;\n  options: Role[];\n  appliedRoles: Role[];\n  showGroups?: boolean;\n  basicRoleDisabled?: boolean;\n  disabledMessage?: string;\n  showBasicRole?: boolean;\n  onSelect: (roles: Role[]) => void;\n  onBasicRoleSelect?: (role: OrgRole) => void;\n  onUpdate: (newRoles: Role[], newBuiltInRole?: OrgRole) => void;\n  updateDisabled?: boolean;\n  apply?: boolean;\n  offset: { vertical: number; horizontal: number };\n  menuLeft?: boolean;\n}\n\nexport const RolePickerMenu = ({\n  basicRole,\n  options,\n  appliedRoles,\n  showGroups,\n  basicRoleDisabled,\n  disabledMessage,\n  showBasicRole,\n  onSelect,\n  onBasicRoleSelect,\n  onUpdate,\n  updateDisabled,\n  offset,\n  menuLeft,\n  apply,\n}: RolePickerMenuProps): JSX.Element => {\n  const [selectedOptions, setSelectedOptions] = useState<Role[]>(appliedRoles);\n  const [selectedBuiltInRole, setSelectedBuiltInRole] = useState<OrgRole | undefined>(basicRole);\n  const [rolesCollection, setRolesCollection] = useState<{ [key: string]: RolesCollectionEntry }>({});\n  const subMenuNode = useRef<HTMLDivElement | null>(null);\n  const theme = useTheme2();\n  const styles = getSelectStyles(theme);\n  const customStyles = useStyles2(getStyles);\n\n  // Call onSelect() on every selectedOptions change\n  useEffect(() => {\n    onSelect(selectedOptions);\n  }, [selectedOptions, onSelect]);\n\n  useEffect(() => {\n    if (onBasicRoleSelect && selectedBuiltInRole) {\n      onBasicRoleSelect(selectedBuiltInRole);\n    }\n  }, [selectedBuiltInRole, onBasicRoleSelect]);\n\n  // Evaluate rolesCollection only if options changed, otherwise\n  // it triggers unnecessary re-rendering of <RoleMenuGroupsSection /> component\n  useEffect(() => {\n    const customRoles = options.filter(filterCustomRoles).sort(sortRolesByName);\n    const fixedRoles = options.filter(filterFixedRoles).sort(sortRolesByName);\n    const pluginRoles = options.filter(filterPluginsRoles).sort(sortRolesByName);\n    const optionGroups = {\n      fixed: convertRolesToGroupOptions(fixedRoles).sort((a, b) => a.name.localeCompare(b.name)),\n      custom: convertRolesToGroupOptions(customRoles).sort((a, b) => a.name.localeCompare(b.name)),\n      plugin: convertRolesToGroupOptions(pluginRoles).sort((a, b) => a.name.localeCompare(b.name)),\n    };\n\n    setRolesCollection({\n      fixed: {\n        groupType: GroupType.fixed,\n        optionGroup: optionGroups.fixed,\n        renderedName: `Fixed roles`,\n        roles: fixedRoles,\n      },\n      custom: {\n        groupType: GroupType.custom,\n        optionGroup: optionGroups.custom,\n        renderedName: `Custom roles`,\n        roles: customRoles,\n      },\n      plugin: {\n        groupType: GroupType.plugin,\n        optionGroup: optionGroups.plugin,\n        renderedName: `Plugin roles`,\n        roles: pluginRoles,\n      },\n    });\n  }, [options]);\n\n  const getSelectedGroupOptions = (group: string) => {\n    const selectedGroupOptions = [];\n    for (const role of selectedOptions) {\n      if (getRoleGroup(role) === group) {\n        selectedGroupOptions.push(role);\n      }\n    }\n    return selectedGroupOptions;\n  };\n\n  const groupSelected = (groupType: GroupType, group: string) => {\n    const selectedGroupOptions = getSelectedGroupOptions(group);\n    const groupOptions = rolesCollection[groupType]?.optionGroup.find((g) => g.value === group);\n    return selectedGroupOptions.length > 0 && selectedGroupOptions.length >= groupOptions!.options.length;\n  };\n\n  const groupPartiallySelected = (groupType: GroupType, group: string) => {\n    const selectedGroupOptions = getSelectedGroupOptions(group);\n    const groupOptions = rolesCollection[groupType]?.optionGroup.find((g) => g.value === group);\n    return selectedGroupOptions.length > 0 && selectedGroupOptions.length < groupOptions!.options.length;\n  };\n\n  const onChange = (option: Role) => {\n    if (selectedOptions.find((role) => role.uid === option.uid)) {\n      setSelectedOptions(selectedOptions.filter((role) => role.uid !== option.uid));\n    } else {\n      setSelectedOptions([...selectedOptions, option]);\n    }\n  };\n\n  const onGroupChange = (groupType: GroupType, value: string) => {\n    const group = rolesCollection[groupType]?.optionGroup.find((g) => {\n      return g.value === value;\n    });\n\n    if (!group) {\n      return;\n    }\n\n    if (groupSelected(groupType, value) || groupPartiallySelected(groupType, value)) {\n      setSelectedOptions(selectedOptions.filter((role) => !group.options.find((option) => role.uid === option.uid)));\n    } else {\n      const groupOptions = group.options.filter((role) => role.delegatable);\n      const restOptions = selectedOptions.filter((role) => !group.options.find((option) => role.uid === option.uid));\n      setSelectedOptions([...restOptions, ...groupOptions]);\n    }\n  };\n\n  const onSelectedBuiltinRoleChange = (newRole: OrgRole) => {\n    setSelectedBuiltInRole(newRole);\n  };\n\n  const onClearInternal = async () => {\n    setSelectedOptions([]);\n  };\n\n  const onClearSubMenu = (group: string) => {\n    const options = selectedOptions.filter((role) => {\n      const roleGroup = getRoleGroup(role);\n      return roleGroup !== group;\n    });\n    setSelectedOptions(options);\n  };\n\n  const onUpdateInternal = () => {\n    onUpdate(selectedOptions, selectedBuiltInRole);\n  };\n\n  return (\n    <div\n      className={cx(\n        styles.menu,\n        customStyles.menuWrapper,\n        { [customStyles.menuLeft]: menuLeft },\n        css({\n          top: `${offset.vertical}px`,\n          left: !menuLeft ? `${offset.horizontal}px` : 'unset',\n          right: menuLeft ? `${offset.horizontal}px` : 'unset',\n        })\n      )}\n    >\n      <div className={customStyles.menu} aria-label=\"Role picker menu\">\n        <CustomScrollbar\n          autoHide={false}\n          autoHeightMax={`${MENU_MAX_HEIGHT}px`}\n          hideHorizontalTrack\n          hideVerticalTrack\n          // NOTE: this is a way to force hiding of the scrollbar\n          // the scrollbar makes the mouseEvents drop\n          className={cx(customStyles.hideScrollBar)}\n        >\n          {showBasicRole && (\n            <div className={customStyles.menuSection}>\n              <BuiltinRoleSelector\n                value={selectedBuiltInRole}\n                onChange={onSelectedBuiltinRoleChange}\n                disabled={basicRoleDisabled}\n                disabledMesssage={disabledMessage}\n                tooltipMessage={tooltipMessage}\n              />\n            </div>\n          )}\n          {Object.entries(rolesCollection).map(([groupId, collection]) => (\n            <RoleMenuGroupsSection\n              key={groupId}\n              roles={collection.roles}\n              renderedName={collection.renderedName}\n              showGroups={showGroups}\n              optionGroups={collection.optionGroup}\n              groupSelected={(group: string) => groupSelected(collection.groupType, group)}\n              groupPartiallySelected={(group: string) => groupPartiallySelected(collection.groupType, group)}\n              onGroupChange={(group: string) => onGroupChange(collection.groupType, group)}\n              subMenuNode={subMenuNode?.current!}\n              selectedOptions={selectedOptions}\n              onRoleChange={onChange}\n              onClearSubMenu={onClearSubMenu}\n              showOnLeftSubMenu={menuLeft}\n            />\n          ))}\n        </CustomScrollbar>\n        <div className={customStyles.menuButtonRow}>\n          <Stack justifyContent=\"flex-end\">\n            <Button size=\"sm\" fill=\"text\" onClick={onClearInternal} disabled={updateDisabled}>\n              Clear all\n            </Button>\n            <Button size=\"sm\" onClick={onUpdateInternal} disabled={updateDisabled}>\n              {apply ? `Apply` : `Update`}\n            </Button>\n          </Stack>\n        </div>\n      </div>\n      <div ref={subMenuNode} />\n    </div>\n  );\n};\n\nconst filterCustomRoles = (option: Role) => !option.name?.startsWith('fixed:') && !option.name.startsWith('plugins:');\nconst filterFixedRoles = (option: Role) => option.name?.startsWith('fixed:');\nconst filterPluginsRoles = (option: Role) => option.name?.startsWith('plugins:');\n\ninterface GroupsMap {\n  [key: string]: { roles: Role[]; name: string };\n}\n\nconst convertRolesToGroupOptions = (roles: Role[]) => {\n  const groupsMap: GroupsMap = {};\n  roles.forEach((role) => {\n    const groupId = getRoleGroup(role);\n    const groupName = getRoleGroupName(role);\n    if (!groupsMap[groupId]) {\n      groupsMap[groupId] = { name: groupName, roles: [] };\n    }\n    groupsMap[groupId].roles.push(role);\n  });\n  const groups = Object.entries(groupsMap).map(([groupId, groupEntry]) => {\n    return {\n      name: fixedRoleGroupNames[groupId] || capitalize(groupEntry.name),\n      value: groupId,\n      options: groupEntry.roles.sort(sortRolesByName),\n    };\n  });\n  return groups;\n};\n\nconst getRoleGroup = (role: Role) => {\n  const prefix = getRolePrefix(role);\n  const name = getRoleGroupName(role);\n  return `${prefix}:${name}`;\n};\n\nconst getRoleGroupName = (role: Role) => {\n  return role.group || 'Other';\n};\n\nconst getRolePrefix = (role: Role) => {\n  const prefixEnd = role.name.indexOf(':');\n  if (prefixEnd < 0) {\n    return 'unknown';\n  }\n  return role.name.substring(0, prefixEnd);\n};\n\nconst sortRolesByName = (a: Role, b: Role) => a.name.localeCompare(b.name);\n\nconst capitalize = (s: string): string => {\n  return s.slice(0, 1).toUpperCase() + s.slice(1);\n};\n","import { FormEvent, useCallback, useEffect, useState, useRef } from 'react';\n\nimport { ClickOutsideWrapper, Portal, useTheme2 } from '@grafana/ui';\nimport { Role, OrgRole } from 'app/types';\n\nimport { RolePickerInput } from './RolePickerInput';\nimport { RolePickerMenu } from './RolePickerMenu';\nimport {\n  MENU_MAX_HEIGHT,\n  ROLE_PICKER_MAX_MENU_WIDTH,\n  ROLE_PICKER_MENU_MAX_WIDTH,\n  ROLE_PICKER_WIDTH,\n} from './constants';\n\nexport interface Props {\n  basicRole?: OrgRole;\n  appliedRoles: Role[];\n  roleOptions: Role[];\n  isLoading?: boolean;\n  disabled?: boolean;\n  basicRoleDisabled?: boolean;\n  basicRoleDisabledMessage?: string;\n  showBasicRole?: boolean;\n  onRolesChange: (newRoles: Role[]) => void;\n  onBasicRoleChange?: (newRole: OrgRole) => void;\n  canUpdateRoles?: boolean;\n  /**\n   * Set {@link RolePickerMenu}'s button to display either `Apply` (apply=true) or `Update` (apply=false)\n   */\n  apply?: boolean;\n  maxWidth?: string | number;\n  width?: string | number;\n}\n\nexport const RolePicker = ({\n  basicRole,\n  appliedRoles,\n  roleOptions,\n  disabled,\n  isLoading,\n  basicRoleDisabled,\n  basicRoleDisabledMessage,\n  showBasicRole,\n  onRolesChange,\n  onBasicRoleChange,\n  canUpdateRoles = true,\n  apply = false,\n  maxWidth = ROLE_PICKER_WIDTH,\n  width,\n}: Props): JSX.Element | null => {\n  const [isOpen, setOpen] = useState(false);\n  const [selectedRoles, setSelectedRoles] = useState<Role[]>(appliedRoles);\n  const [selectedBuiltInRole, setSelectedBuiltInRole] = useState<OrgRole | undefined>(basicRole);\n  const [query, setQuery] = useState('');\n  const [offset, setOffset] = useState({ vertical: 0, horizontal: 0 });\n  const [menuLeft, setMenuLeft] = useState(false);\n  const ref = useRef<HTMLDivElement>(null);\n  const theme = useTheme2();\n  const widthPx = typeof width === 'number' ? theme.spacing(width) : width;\n\n  useEffect(() => {\n    setSelectedBuiltInRole(basicRole);\n    setSelectedRoles(appliedRoles);\n  }, [appliedRoles, basicRole, onBasicRoleChange]);\n\n  const setMenuPosition = useCallback(() => {\n    const { horizontal, vertical, menuToLeft } = calculateMenuPosition();\n    if (horizontal && vertical) {\n      setOffset({ horizontal, vertical });\n      setMenuLeft(menuToLeft);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isOpen) {\n      return;\n    }\n    setMenuPosition();\n  }, [isOpen, selectedRoles, setMenuPosition]);\n\n  const calculateMenuPosition = () => {\n    const dimensions = ref?.current?.getBoundingClientRect();\n    if (!dimensions) {\n      return {};\n    }\n    const { bottom, top, left, right } = dimensions;\n\n    const spaceBelow = window.innerHeight - bottom;\n    const spaceAbove = top;\n    const spaceRight = window.innerWidth - right;\n    const spaceLeft = left;\n\n    let horizontal = left;\n    let vertical = bottom;\n    let menuToLeft = false;\n    let menuToTop = false;\n\n    // Check vertical space\n    if (spaceBelow < MENU_MAX_HEIGHT && spaceAbove > spaceBelow) {\n      vertical = top - MENU_MAX_HEIGHT;\n      menuToTop = true;\n    }\n\n    // Check horizontal space\n    if (spaceRight < ROLE_PICKER_MENU_MAX_WIDTH && spaceLeft < ROLE_PICKER_MENU_MAX_WIDTH) {\n      horizontal = right - ROLE_PICKER_MENU_MAX_WIDTH;\n      menuToLeft = true;\n    } else {\n      horizontal = Math.max(0, left + (dimensions.width - ROLE_PICKER_MENU_MAX_WIDTH) / 2);\n    }\n\n    // Ensure the menu stays within the viewport\n    horizontal = Math.max(0, Math.min(horizontal, window.innerWidth - ROLE_PICKER_MAX_MENU_WIDTH));\n    vertical = Math.max(0, Math.min(vertical, window.innerHeight - MENU_MAX_HEIGHT));\n    if (menuToTop) {\n      // Adjust vertical position to align with the input\n      vertical -= 48;\n    }\n    return { horizontal, vertical, menuToLeft };\n  };\n\n  const onOpen = useCallback(\n    (event: FormEvent<HTMLElement>) => {\n      if (!disabled) {\n        event.preventDefault();\n        event.stopPropagation();\n        setMenuPosition();\n        setOpen(true);\n      }\n    },\n    [disabled, setMenuPosition]\n  );\n\n  const onClose = useCallback(() => {\n    setOpen(false);\n    setQuery('');\n    setSelectedRoles(appliedRoles);\n    setSelectedBuiltInRole(basicRole);\n  }, [appliedRoles, basicRole]);\n\n  // Only call onClose if menu is open. Prevent unnecessary calls for multiple pickers on the page.\n  const onClickOutside = () => isOpen && onClose();\n\n  const onInputChange = (query?: string) => {\n    if (query) {\n      setQuery(query);\n    } else {\n      setQuery('');\n    }\n  };\n\n  const onSelect = (roles: Role[]) => {\n    setSelectedRoles(roles);\n  };\n\n  const onBasicRoleSelect = (role: OrgRole) => {\n    setSelectedBuiltInRole(role);\n  };\n\n  const onUpdate = (newRoles: Role[], newBuiltInRole?: OrgRole) => {\n    if (onBasicRoleChange && newBuiltInRole && newBuiltInRole !== basicRole) {\n      onBasicRoleChange(newBuiltInRole);\n    }\n    if (canUpdateRoles) {\n      onRolesChange(newRoles);\n    }\n    setQuery('');\n    setOpen(false);\n  };\n\n  const getOptions = () => {\n    // if roles cannot be updated mark every role as non delegatable\n    const options = roleOptions.map((r) => ({ ...r, delegatable: canUpdateRoles && r.delegatable }));\n\n    if (query && query.trim() !== '') {\n      return options.filter((option) => option.name?.toLowerCase().includes(query.toLowerCase()));\n    }\n    return options;\n  };\n\n  return (\n    <div\n      data-testid=\"role-picker\"\n      style={{\n        position: 'relative',\n        maxWidth: widthPx || maxWidth,\n        width: widthPx,\n      }}\n      ref={ref}\n    >\n      <ClickOutsideWrapper onClick={onClickOutside} useCapture={false}>\n        <RolePickerInput\n          basicRole={selectedBuiltInRole}\n          appliedRoles={selectedRoles}\n          query={query}\n          onQueryChange={onInputChange}\n          onOpen={onOpen}\n          onClose={onClose}\n          isFocused={isOpen}\n          disabled={disabled}\n          showBasicRole={showBasicRole}\n          width={widthPx}\n          isLoading={isLoading}\n        />\n        {isOpen && (\n          <Portal>\n            {/* Since menu rendered in portal and whole component wrapped in ClickOutsideWrapper, */}\n            {/* we need to stop event propagation to prevent closing menu */}\n            {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */}\n            <div onClick={(e) => e.stopPropagation()}>\n              <RolePickerMenu\n                options={getOptions()}\n                basicRole={selectedBuiltInRole}\n                appliedRoles={appliedRoles}\n                onBasicRoleSelect={onBasicRoleSelect}\n                onSelect={onSelect}\n                onUpdate={onUpdate}\n                showGroups={query.length === 0 || query.trim() === ''}\n                basicRoleDisabled={basicRoleDisabled}\n                disabledMessage={basicRoleDisabledMessage}\n                showBasicRole={showBasicRole}\n                updateDisabled={basicRoleDisabled && !canUpdateRoles}\n                apply={apply}\n                offset={offset}\n                menuLeft={menuLeft}\n              />\n            </div>\n          </Portal>\n        )}\n      </ClickOutsideWrapper>\n    </div>\n  );\n};\n","import { getBackendSrv, isFetchError } from '@grafana/runtime';\nimport { Role } from 'app/types';\n\nimport { addDisplayNameForFixedRole } from './utils';\n\nexport const fetchRoleOptions = async (orgId?: number): Promise<Role[]> => {\n  let rolesUrl = '/api/access-control/roles?delegatable=true';\n  if (orgId) {\n    rolesUrl += `&targetOrgId=${orgId}`;\n  }\n  const roles = await getBackendSrv().get(rolesUrl);\n  if (!roles || !roles.length) {\n    return [];\n  }\n  return roles.map(addDisplayNameForFixedRole);\n};\n\nexport const fetchUserRoles = async (userId: number, orgId?: number): Promise<Role[]> => {\n  let userRolesUrl = `/api/access-control/users/${userId}/roles`;\n  if (orgId) {\n    userRolesUrl += `?targetOrgId=${orgId}`;\n  }\n  try {\n    const roles = await getBackendSrv().get(userRolesUrl);\n    if (!roles || !roles.length) {\n      return [];\n    }\n    return roles.map(addDisplayNameForFixedRole);\n  } catch (error) {\n    if (isFetchError(error)) {\n      error.isHandled = true;\n    }\n    return [];\n  }\n};\n\nexport const updateUserRoles = (roles: Role[], userId: number, orgId?: number) => {\n  let userRolesUrl = `/api/access-control/users/${userId}/roles`;\n  if (orgId) {\n    userRolesUrl += `?targetOrgId=${orgId}`;\n  }\n  const roleUids = roles.flatMap((x) => x.uid);\n  return getBackendSrv().put(userRolesUrl, {\n    orgId,\n    roleUids,\n  });\n};\n\nexport const fetchTeamRoles = async (teamId: number, orgId?: number): Promise<Role[]> => {\n  let teamRolesUrl = `/api/access-control/teams/${teamId}/roles`;\n  if (orgId) {\n    teamRolesUrl += `?targetOrgId=${orgId}`;\n  }\n  try {\n    const roles = await getBackendSrv().get(teamRolesUrl);\n    if (!roles || !roles.length) {\n      return [];\n    }\n    return roles.map(addDisplayNameForFixedRole);\n  } catch (error) {\n    if (isFetchError(error)) {\n      error.isHandled = true;\n    }\n    return [];\n  }\n};\n\nexport const updateTeamRoles = (roles: Role[], teamId: number, orgId?: number) => {\n  let teamRolesUrl = `/api/access-control/teams/${teamId}/roles`;\n  if (orgId) {\n    teamRolesUrl += `?targetOrgId=${orgId}`;\n  }\n  const roleUids = roles.flatMap((x) => x.uid);\n\n  return getBackendSrv().put(teamRolesUrl, {\n    orgId,\n    roleUids,\n  });\n};\n","import { Role } from 'app/types';\n\nexport const isNotDelegatable = (role: Role) => {\n  return role.delegatable !== undefined && !role.delegatable;\n};\n\n// addDisplayNameForFixedRole provides a fallback name for fixed roles\n// this is \"incase\" a fixed role is introduced but without a displayname set\n// example: currently this would give:\n// fixed:datasources:name -> datasources name\n// fixed:datasources:admin      -> datasources admin\nexport const addDisplayNameForFixedRole = (role: Role) => {\n  const fixedRolePrefix = 'fixed:';\n  if (!role.displayName && role.name.startsWith(fixedRolePrefix)) {\n    let newRoleName = '';\n    let rNameWithoutFixedPrefix = role.name.replace(fixedRolePrefix, '');\n    newRoleName = rNameWithoutFixedPrefix.replace(/:/g, ' ');\n    role.displayName = newRoleName;\n  }\n  return role;\n};\n"],"names":["ValueContainer","children","iconName","ref","styles","getStyles","Icon","theme","prefix","multiValueContainer","getSelectStyles","ROLE_PICKER_WIDTH","MENU_MAX_HEIGHT","ROLE_PICKER_MENU_MIN_WIDTH","ROLE_PICKER_MENU_MAX_WIDTH","ROLE_PICKER_SUBMENU_MIN_WIDTH","ROLE_PICKER_SUBMENU_MAX_WIDTH","ROLE_PICKER_MAX_MENU_WIDTH","stopPropagation","event","RolePickerInput","appliedRoles","basicRole","disabled","isFocused","query","showBasicRole","width","isLoading","onOpen","onClose","onQueryChange","rest","getRolePickerInputStyles","inputRef","onInputChange","showBasicRoleOnLabel","role","RolesLabel","Spinner","showBuiltInRole","numberOfRoles","getTooltipStyles","Tooltip","invalid","focused","withPrefix","BasicRoleOption","r","BuiltinRoleSelector","value","onChange","disabledMesssage","tooltipMessage","RadioButtonList","RoleMenuGroupOption","name","isSelected","partiallySelected","onClick","onOpenSubMenu","onCloseSubMenu","root","customStyles","wrapperClassName","onChangeInternal","onClickInternal","onMouseEnter","onMouseLeave","Checkbox","Portal","RoleMenuOption","data","hideDescription","RolePickerSubMenu","options","selectedOptions","disabledOptions","onSelect","onClear","showOnLeft","onClearInternal","CustomScrollbar","option","i","opt","Stack","Button","RoleMenuGroupsSection","roles","renderedName","showGroups","optionGroups","onGroupChange","groupSelected","groupPartiallySelected","subMenuNode","onRoleChange","onClearSubMenu","showOnLeftSubMenu","_ref","showSubMenu","setShowSubMenu","openedMenuGroup","setOpenedMenuGroup","selectStyles","groupOption","GroupType","fixedRoleGroupNames","TextLink","RolePickerMenu","basicRoleDisabled","disabledMessage","onBasicRoleSelect","onUpdate","updateDisabled","offset","menuLeft","apply","setSelectedOptions","selectedBuiltInRole","setSelectedBuiltInRole","rolesCollection","setRolesCollection","customRoles","filterCustomRoles","sortRolesByName","fixedRoles","filterFixedRoles","pluginRoles","filterPluginsRoles","convertRolesToGroupOptions","a","b","getSelectedGroupOptions","group","selectedGroupOptions","getRoleGroup","groupType","groupOptions","g","restOptions","onSelectedBuiltinRoleChange","newRole","onUpdateInternal","groupId","collection","groupsMap","groupName","getRoleGroupName","groupEntry","capitalize","getRolePrefix","prefixEnd","s","RolePicker","roleOptions","basicRoleDisabledMessage","onRolesChange","onBasicRoleChange","canUpdateRoles","maxWidth","isOpen","setOpen","selectedRoles","setSelectedRoles","setQuery","setOffset","setMenuLeft","widthPx","setMenuPosition","horizontal","vertical","menuToLeft","calculateMenuPosition","dimensions","bottom","top","left","right","spaceBelow","spaceAbove","spaceRight","spaceLeft","menuToTop","onClickOutside","newRoles","newBuiltInRole","getOptions","ClickOutsideWrapper","e","fetchRoleOptions","orgId","rolesUrl","fetchUserRoles","userId","userRolesUrl","error","updateUserRoles","roleUids","x","fetchTeamRoles","teamId","teamRolesUrl","updateTeamRoles","isNotDelegatable","addDisplayNameForFixedRole","fixedRolePrefix","newRoleName"],"sourceRoot":""}