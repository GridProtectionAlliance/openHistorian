(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1LJY":function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var n=function(e){return e.timeZone}},"5BoW":function(e,r,t){"use strict";t.d(r,"a",(function(){return u})),t.d(r,"b",(function(){return i}));var n=t("G4qV"),a=t("QJHg"),o=t("WnbS"),u=Object(n.a)((function(e){return e.logsResult&&e.logsResult.rows}),(function(e){return e.hiddenLogLevels}),(function(e){return e.dedupStrategy}),(function(e,r,t){if(!e||!e.length)return e;var n=Object(a.c)(e,new Set(r));return Object(a.b)(n,t)})),i=function(){return Object(o.a)().getExternal().map((function(e){return{value:e.name,name:e.name,meta:e.meta}}))}},Efza:function(e,r,t){"use strict";var n=t("AJqF"),a=t("67Y/"),o=t("psW0"),u=t("mChF"),i=t("kDLi"),c=t("Obii"),s=t("SMGL"),l=t("WnbS"),f=t("m257"),d=t("w9yp"),p=t("sBLX"),b=t("OTXG"),g=t("1LJY"),v=t("LCjV"),m=t("3SGO"),O=t("NPB1"),j=t("kHZm"),y=t("rd46"),h=(t("K47g"),t("5BoW")),x=t("ASqX"),w=t("F/XL"),I=t("t8hP"),S=t("LvDl"),q=t("66yP"),k=t("QJHg");function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach((function(r){P(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function P(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var A=function(e){var r;if(e.error)return D({},e,{graphFrames:[],tableFrames:[],logsFrames:[],traceFrames:[],graphResult:null,tableResult:null,logsResult:null});var t=[],n=[],a=[],o=[],u=!0,i=!1,c=void 0;try{for(var s,l=e.series[Symbol.iterator]();!(u=(s=l.next()).done);u=!0){var f=s.value;switch(null===(r=f.meta)||void 0===r?void 0:r.preferredVisualisationType){case"logs":a.push(f);break;case"graph":t.push(f);break;case"trace":o.push(f);break;case"table":n.push(f);break;default:E(f)?(t.push(f),n.push(f)):n.push(f)}}}catch(e){i=!0,c=e}finally{try{u||null==l.return||l.return()}finally{if(i)throw c}}return D({},e,{graphFrames:t,tableFrames:n,logsFrames:a,traceFrames:o,graphResult:null,tableResult:null,logsResult:null})},T=function(e){var r,t;return e.error?D({},e,{graphResult:null}):D({},e,{graphResult:0===e.graphFrames.length?null:Object(q.a)(e.graphFrames,null!==(r=null===(t=e.request)||void 0===t?void 0:t.timezone)&&void 0!==r?r:"browser",{},{showBars:!1,showLines:!0,showPoints:!1},{asTable:!1,isVisible:!0,placement:"under"})})},F=function(e){return e.error?Object(w.a)(D({},e,{tableResult:null})):0===e.tableFrames.length?Object(w.a)(D({},e,{tableResult:null})):(e.tableFrames.sort((function(e,r){var t=e.refId,n=r.refId;return t>n?1:t<n?-1:0})),(e.tableFrames.every((function(e){return E(e)}))?Object(w.a)(e.tableFrames).pipe(c.standardTransformers.seriesToColumnsTransformer.operator({})):Object(w.a)(e.tableFrames).pipe(c.standardTransformers.mergeTransformer.operator({}))).pipe(Object(a.a)((function(r){var t=r[0],n=!0,a=!1,o=void 0;try{for(var u,i=t.fields[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var s,l,f,d=u.value;d.display=null!==(s=d.display)&&void 0!==s?s:Object(c.getDisplayProcessor)({field:d,theme:I.config.theme,timeZone:null!==(l=null===(f=e.request)||void 0===f?void 0:f.timezone)&&void 0!==l?l:"browser"})}}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return D({},e,{tableResult:t})}))))};function E(e){var r,t=Object(S.groupBy)(e.fields,(function(e){return e.type}));return Boolean(2===Object.keys(t).length&&1===(null===(r=t[c.FieldType.time])||void 0===r?void 0:r.length)&&t[c.FieldType.number])}var N=t("UvM7");function L(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){B(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function B(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function J(e,r,t,n,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void t(e)}i.done?r(c):Promise.resolve(c).then(n,a)}function Q(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function u(e){J(o,n,a,u,i,"next",e)}function i(e){J(o,n,a,u,i,"throw",e)}u(void 0)}))}}function W(e,r){return function(t,n){var a=n().explore[e].queries,o=Object(f.h)(a,r);t(Object(b.a)({exploreId:e,index:r,query:o}))}}function M(e,r,t){return function(){var n=Q(regeneratorRuntime.mark((function n(a,o){var u,c,s,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=6;break}return n.next=3,Object(l.a)().get();case 3:u=n.sent,n.next=9;break;case 6:return n.next=8,Object(l.a)().get(r);case 8:u=n.sent;case 9:if(c=o().explore[e].datasourceInstance,s=o().explore[e].queries,f=o().user.orgId,a(Object(b.F)({exploreId:e,datasourceInstance:u})),!(null==t?void 0:t.importQueries)){n.next=16;break}return n.next=16,a(ee(e,s,c,u));case 16:return o().explore[e].isLive&&a(C(e,i.RefreshPicker.offOption.value)),n.next=19,a(re(e,u,f));case 19:(null==t?void 0:t.importQueries)&&a(ne(e));case 20:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()}function U(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(a,o){if(null===r){var u=o().explore[e].queries,i=u[t],c=i.refId,s=i.key;r=Object(f.i)({refId:c,key:s},u,t)}a(Object(b.e)({exploreId:e,query:r,index:t,override:n})),n&&a(ne(e))}}function z(e,r){var t=r.height,n=r.width;return Object(b.h)({exploreId:e,height:t,width:n})}t.d(r,"a",(function(){return W})),t.d(r,"c",(function(){return M})),t.d(r,"e",(function(){return U})),t.d(r,"g",(function(){return z})),t.d(r,"u",(function(){return X})),t.d(r,"f",(function(){return C})),t.d(r,"d",(function(){return G})),t.d(r,"h",(function(){return V})),t.d(r,"b",(function(){return Y})),t.d(r,"j",(function(){return $})),t.d(r,"k",(function(){return te})),t.d(r,"n",(function(){return ne})),t.d(r,"t",(function(){return ae})),t.d(r,"i",(function(){return oe})),t.d(r,"o",(function(){return se})),t.d(r,"p",(function(){return le})),t.d(r,"q",(function(){return fe})),t.d(r,"r",(function(){return de})),t.d(r,"s",(function(){return pe})),t.d(r,"m",(function(){return be})),t.d(r,"l",(function(){return ge}));var X=function(e){return function(r,t){t().explore.syncedTimes?(r(ce(Z({},e,{exploreId:p.a.left}))),r(ne(p.a.left)),r(ce(Z({},e,{exploreId:p.a.right}))),r(ne(p.a.right))):(r(ce(Z({},e))),r(ne(e.exploreId)))}};function C(e,r){return Object(b.g)({exploreId:e,refreshInterval:r})}var G=function(e,r){return Object(b.c)({exploreId:e,dedupStrategy:r})};function V(e){return function(r){r(Object(b.x)({exploreId:e})),r(Object(b.i)({exploreId:e})),r(ie())}}function Y(e){return function(r){r(Object(b.x)({exploreId:e})),r(Object(b.b)({exploreId:e})),r(ie())}}function K(e,r){return function(){var t=Q(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Object(h.b)().length>=1)){t.next=6;break}return t.next=4,n(M(e,r,{importQueries:!0}));case 4:t.next=7;break;case 6:n(Object(b.m)({exploreId:e}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function $(e,r,t,n,a,o,u){return function(){var i=Q(regeneratorRuntime.mark((function i(c,s){var l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c(K(e,r)),c(Object(b.l)({exploreId:e,containerWidth:a,eventBridge:o,queries:t,range:n,originPanelId:u})),c(ce({exploreId:e})),l=Object(d.j)(),c(Object(b.v)({richHistory:l}));case 5:case"end":return i.stop()}}),i)})));return function(e,r){return i.apply(this,arguments)}}()}var _=function(e,r,t){var n,a="grafana.explore.history.".concat(null===(n=r.meta)||void 0===n?void 0:n.id),o=s.a.getObject(a,[]);return s.a.set(Object(f.p)(t),r.name),Object(b.o)({exploreId:e,history:o})},ee=function(e,r,t,n){return function(){var a=Q(regeneratorRuntime.mark((function a(o){var u,i,c,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=3;break}return o(Object(b.q)({exploreId:e,queries:r})),a.abrupt("return");case 3:if(c=r,(null===(u=t.meta)||void 0===u?void 0:u.id)!==(null===(i=n.meta)||void 0===i?void 0:i.id)){a.next=8;break}c=L(r),a.next=15;break;case 8:if(!n.importQueries){a.next=14;break}return a.next=11,n.importQueries(r,t.meta);case 11:c=a.sent,a.next=15;break;case 14:c=Object(f.g)();case 15:s=Object(f.g)(c),o(Object(b.q)({exploreId:e,queries:s}));case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},re=function(e,r,t){return function(){var n=Q(regeneratorRuntime.mark((function n(a,o){var u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=r.name,a(Object(b.n)({exploreId:e,requestedDatasourceName:u})),r.init)try{r.init()}catch(e){console.error(e)}if(u===o().explore[e].requestedDatasourceName){n.next=5;break}return n.abrupt("return");case 5:a(_(e,r,t));case 6:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()};function te(e,r,t,n){return function(a){a(Object(b.p)({exploreId:e,modification:r,index:n,modifier:t})),r.preventSubmit||a(ne(e))}}var ne=function e(r){return function(t,i){t(ce({exploreId:r}));var s=i().explore.richHistory,l=i().explore[r],p=l.datasourceInstance,O=l.queries,y=l.containerWidth,h=l.isLive,x=l.range,w=l.scanning,I=l.queryResponse,S=l.querySubscription,q=l.history,R=l.refreshInterval,P=l.absoluteRange;if(!Object(f.o)(O))return t(Object(b.i)({exploreId:r})),void t(ie());if(p){var E=null==p?void 0:p.interval;Object(f.t)(S);var L=null==p?void 0:p.meta.id,H={minInterval:E,maxDataPoints:y,liveStreaming:h},Z=l.requestedDatasourceName,B=Object(g.a)(i().user),J=Object(f.b)(O,H,x,w,B),Q=!0;t(Object(b.d)({exploreId:r,loadingState:c.LoadingState.Loading}));var W=Object(j.c)(p,J.request).pipe(h?Object(n.a)(500):u.a,Object(a.a)((function(e){return Object(j.b)(e,I)})),Object(a.a)(A),Object(a.a)(T),Object(a.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var t,n,a;if(r.error)return D({},r,{logsResult:null});if(0===r.logsFrames.length)return D({},r,{logsResult:null});var o=null!==(t=null===(n=r.request)||void 0===n?void 0:n.timezone)&&void 0!==t?t:"browser",u=null===(a=r.request)||void 0===a?void 0:a.intervalMs,i=Object(k.a)(r.logsFrames,u,o,e.absoluteRange),s=Object(f.r)(e.refreshInterval),l=Object(c.sortLogsResult)(i,s),d=D({},l,{rows:l.rows,series:l.series});return D({},r,{logsResult:d})}}({absoluteRange:P,refreshInterval:R})),Object(o.b)(F)).subscribe((function(n){if(!n.error&&Q){var a=Object(f.u)(q,L,O),o=Object(d.c)(s||[],L,Z,O,!1,"","");t(Object(b.k)({exploreId:r,history:a})),t(Object(b.v)({richHistory:o})),t(ie())}if(Q=!1,t(Object(b.s)({exploreId:r,response:n})),i().explore[r].scanning)if(n.state===c.LoadingState.Done&&0===n.series.length){var u=Object(v.a)(-1,i().explore[r].range);t(ce({exploreId:r,absoluteRange:u})),t(e(r))}else t(Object(b.x)({exploreId:r}))}),(function(e){t(Object(m.b)(Object(N.a)("Query processing error",e))),t(Object(b.d)({exploreId:r,loadingState:c.LoadingState.Error})),console.error(e)}));t(Object(b.r)({exploreId:r,querySubscription:W}))}}},ae=function(e,r,t){return function(n,a){var o;"starred"===r&&(o=Object(d.n)(a().explore.richHistory,e)),"comment"===r&&(o=Object(d.m)(a().explore.richHistory,e,t)),"delete"===r&&(o=Object(d.h)(a().explore.richHistory,e)),n(Object(b.v)({richHistory:o}))}},oe=function(){return function(e){Object(d.g)(),e(Object(b.v)({richHistory:[]}))}},ue=function(e){var r=e.raw.from;Object(c.isDateTime)(r)&&(r=r.valueOf().toString(10));var t=e.raw.to;return Object(c.isDateTime)(t)&&(t=t.valueOf().toString(10)),{from:r,to:t}},ie=function(){return function(e,r){var t=r().explore,n=t.left,a=t.right,o=t.split,u=r().user.orgId.toString(),i=n&&!1===n.urlReplaced,c={orgId:u},s={datasource:n.datasourceInstance.name,queries:n.queries.map(f.c),range:ue(n.range)};if(c.left=Object(x.c)(s,!0),o){var l={datasource:a.datasourceInstance.name,queries:a.queries.map(f.c),range:ue(a.range)};c.right=Object(x.c)(l,!0)}e(Object(m.d)({query:c,replace:i})),i&&e(Object(b.A)({exploreId:p.a.left}))}},ce=function(e){return function(r,t){var n=e.exploreId,a=e.absoluteRange,o=e.rawRange,u=t().explore[n],i=Object(g.a)(t().user),s=u.range.raw;a&&(s={from:Object(c.dateTimeForTimeZone)(i,a.from),to:Object(c.dateTimeForTimeZone)(i,a.to)}),o&&(s=o);var l=Object(f.m)(i,s),d={from:l.from.valueOf(),to:l.to.valueOf()};Object(O.a)().init(new y.a({time:l.raw,refresh:!1,timeZone:i})),r(Object(b.f)({exploreId:n,range:l,absoluteRange:d}))}};function se(e){return function(r,t){r(Object(b.w)({exploreId:e}));var n=Object(v.a)(-1,t().explore[e].range);r(ce({exploreId:e,absoluteRange:n})),r(ne(e))}}function le(e,r){return function(t,n){var a=n().explore[e].queries,o=r.map((function(e,r){return Object(f.i)(e,a,r)}));t(Object(b.z)({exploreId:e,queries:o})),t(ne(e))}}function fe(e){return function(r){r(Object(b.B)({itemId:e})),r(ie())}}function de(e){return function(){var r=Q(regeneratorRuntime.mark((function r(t,n){var a,o,u,i,c,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n().explore[p.a.left],o=Z({},a),u=n().location.query[p.a.left],i=Object(f.q)(u),!e){r.next=24;break}return o.queries=[],o.graphResult=null,o.logsResult=null,o.tableResult=null,o.queryKeys=[],i.queries=[],o.urlState=i,e.range&&(i.range=e.range.raw,o.range=Z({},e.range,{raw:{from:e.range.from.utc().toISOString(),to:e.range.to.utc().toISOString()}})),t(Object(b.C)({itemState:o})),c=[Z({},e.query,{refId:"A"})],s=Object(l.a)().getDataSourceSettingsByUid(e.datasourceUid),r.next=18,t(M(p.a.right,s.name));case 18:return r.next=20,t(Object(b.z)({exploreId:p.a.right,queries:c}));case 20:return r.next=22,t(ne(p.a.right));case 22:r.next=27;break;case 24:o.queries=a.queries.slice(),o.urlState=i,t(Object(b.C)({itemState:o}));case 27:t(ie());case 28:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}function pe(e){return function(r,t){if(e===p.a.left){var n=t().explore.left;r(X({exploreId:p.a.right,rawRange:n.range.raw}))}else{var a=t().explore.right;r(X({exploreId:p.a.left,rawRange:a.range.raw}))}var o=t().explore.syncedTimes;r(Object(b.D)({syncedTimes:!o})),r(ie())}}function be(e){return function(r,t){var n=t().explore[e];if(n.initialized){var a=n.urlState,o=n.update,u=n.containerWidth,i=n.eventBridge;if(a){for(var c=a.datasource,s=a.queries,l=a.range,d=a.originPanelId,p=[],v=0;v<s.length;v++){var m=s[v];p.push(Object(f.i)(m,p,v))}var O=Object(g.a)(t().user),j=Object(f.n)(l,O);if(o.datasource){var y=Object(f.g)(s);r($(e,c,y,j,u,i,d))}else o.range&&r(ce({exploreId:e,rawRange:j.raw})),o.queries&&r(Object(b.z)({exploreId:e,queries:p})),(o.queries||o.range)&&r(ne(e))}}}}var ge=function(e,r){return function(){var t=Q(regeneratorRuntime.mark((function t(n){var a,o,u,i,c,s,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.getDataSourceSrv,o=r.getTimeSrv,u=r.getExploreUrl,i=r.openInNewWindow,c=a(),t.next=4,c.get(e.datasource);case 4:return s=t.sent,t.next=7,u({panel:e,panelTargets:e.targets,panelDatasource:s,datasourceSrv:c,timeSrv:o()});case 7:if(l=t.sent,!i||!l){t.next=11;break}return i(l),t.abrupt("return");case 11:f={},n(Object(m.d)({path:l,query:f}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},w9yp:function(e,r,t){"use strict";t.d(r,"a",(function(){return v})),t.d(r,"b",(function(){return b})),t.d(r,"c",(function(){return m})),t.d(r,"j",(function(){return O})),t.d(r,"g",(function(){return j})),t.d(r,"n",(function(){return y})),t.d(r,"m",(function(){return h})),t.d(r,"h",(function(){return x})),t.d(r,"f",(function(){return w})),t.d(r,"k",(function(){return I})),t.d(r,"e",(function(){return k})),t.d(r,"l",(function(){return R})),t.d(r,"d",(function(){return D})),t.d(r,"i",(function(){return P}));var n=t("LvDl"),a=t.n(n),o=t("Obii"),u=t("Xmxp"),i=t("SMGL"),c=t("5BoW"),s=t("ASqX");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b,g="grafana.explore.richHistory",v={retentionPeriod:"grafana.explore.richHistory.retentionPeriod",starredTabAsFirstTab:"grafana.explore.richHistory.starredTabAsFirstTab",activeDatasourceOnly:"grafana.explore.richHistory.activeDatasourceOnly",datasourceFilters:"grafana.explore.richHistory.datasourceFilters"};function m(e,r,t,n,c,s,l){var f=Date.now(),d=n&&n.filter((function(e){return function(e){var r=a.a.omit(e,["key","refId","datasource"]);if(Object.keys(r).length>0)return!0;return!1}(e)})),b=i.a.getObject(v.retentionPeriod,7),m=S(b,!1),O=e.filter((function(e){return e.ts>m||!0===e.starred}))||[];if(d.length>0){var j=d.map((function(e){return a.a.omit(e,["key","refId"])})),y=O.length>0&&O[0].queries.map((function(e){return a.a.omit(e,["key","refId"])}));if(a.a.isEqual(j,y))return e;var h=[{queries:d,ts:f,datasourceId:r,datasourceName:t,starred:c,comment:s,sessionName:l}].concat(p(O));try{return i.a.setObject(g,h),h}catch(r){return u.b.emit(o.AppEvents.alertError,[r]),e}}return e}function O(){return function(e){return e.map((function(e){var r=e.queries.map((function(e,r){return function(e,r,t){if("object"===l(r))return r;if(function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(r))return JSON.parse(r);return{expr:r,refId:"ABCDEFGHIJKLMNOPQRSTUVXYZ"[t]}}(0,e,r)}));return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e,{queries:r})}))}(i.a.getObject(g,[]))}function j(){return i.a.delete(g)}function y(e,r){var t=e.map((function(e){if(e.ts===r){var t=e.starred;return Object.assign({},e,{starred:!t})}return e}));try{return i.a.setObject(g,t),t}catch(r){return u.b.emit(o.AppEvents.alertError,[r]),e}}function h(e,r,t){var n=e.map((function(e){return e.ts===r?Object.assign({},e,{comment:t}):e}));try{return i.a.setObject(g,n),n}catch(r){return u.b.emit(o.AppEvents.alertError,[r]),e}}function x(e,r){var t=e.filter((function(e){return e.ts!==r}));try{return i.a.setObject(g,t),t}catch(r){return u.b.emit(o.AppEvents.alertError,[r]),e}}!function(e){e.Descending="Descending",e.Ascending="Ascending",e.DatasourceAZ="Datasource A-Z",e.DatasourceZA="Datasource Z-A"}(b||(b={}));var w=function(e){var r={range:{from:"now-1h",to:"now"},datasource:e.datasourceName,queries:e.queries,context:"explore"},t=Object(s.c)(r,!0),n=/.*(?=\/explore)/.exec("".concat(window.location.href))[0];return o.urlUtil.renderUrl("".concat(n,"/explore"),{left:t})},I=function(e){var r;switch(e){case 0:r="today";break;case 1:r="yesterday";break;case 7:r="a week ago";break;case 14:r="two weeks ago";break;default:r="".concat(e," days ago")}return r},S=function(e,r){var t=new Date,n=new Date(t.setDate(t.getDate()-e));return r?n.setHours(24,0,0,0):n.setHours(0,0,0,0)};function q(e,r){var t,n="";return r===b.DatasourceAZ||r===b.DatasourceZA?n=e.datasourceName:(t=e.ts,n=Object(o.dateTimeFormat)(t,{format:"MMMM D"})),n}function k(e,r){return(null==r?void 0:r.getQueryDisplayText)?r.getQueryDisplayText(e):function(e){var r=a.a.omit(e,["key","refId","datasource"]);return JSON.stringify(r)}(e)}function R(e,r){var t={};return e.forEach((function(e){var n=q(e,r);t[n]=n in t?[].concat(p(t[n]),[e]):[e]})),t}function D(e){var r=Object(c.b)(),t=[];return e.forEach((function(e){var n=r.findIndex((function(r){return r.name===e}));-1!==n?t.push({label:e,value:e,imgUrl:r[n].meta.info.logos.small,isRemoved:!1}):t.push({label:e,value:e,imgUrl:"public/img/icn-datasource.svg",isRemoved:!0})})),t}function P(e,r,t,n,o){var u=function(e,r){return e.filter((function(e){return!!e.comment.includes(r)||e.queries.filter((function(e){return Object.values(a.a.omit(e,["datasource","key","refId","hide","queryType"])).some((function(e){return null==e?void 0:e.toString().includes(r)}))})).length>0}))}(function(e,r){return r&&r.length>0?e.filter((function(e){return r.includes(e.datasourceName)})):e}(e,t),n);return function(e,r){var t;return r===b.Ascending&&(t=function(e,r){return e.ts<r.ts?-1:e.ts>r.ts?1:0}),r===b.Descending&&(t=function(e,r){return e.ts<r.ts?1:e.ts>r.ts?-1:0}),r===b.DatasourceZA&&(t=function(e,r){return e.datasourceName<r.datasourceName?-1:e.datasourceName>r.datasourceName?1:0}),r===b.DatasourceAZ&&(t=function(e,r){return e.datasourceName<r.datasourceName?1:e.datasourceName>r.datasourceName?-1:0}),e.sort(t)}(o?function(e,r){return e.filter((function(e){return e.ts<S(r[0],!0)&&e.ts>S(r[1],!1)}))}(u,o):u,r)}}}]);
//# sourceMappingURL=default~DashboardPage~SoloPanelPage~explore.591ee81e63053ad31983.js.map