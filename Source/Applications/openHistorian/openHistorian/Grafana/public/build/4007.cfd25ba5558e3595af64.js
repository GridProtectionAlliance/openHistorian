"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4007],{13471:(k,K,r)=>{r.d(K,{B:()=>S});var A=r(74848),g=r(32196),I=r(96540),j=r(40845),y=r(32982),P=r(56034),m=r(24293),p=r(94536),s=r(79871),h=r(10875),E=(R=>(R[R.Leading=0]="Leading",R[R.Trailing=1]="Trailing",R))(E||{});const u=({color:R=m.F,colorIndicator:J=s.Ev,position:q=0,lineStyle:at})=>{const F=(0,j.of)(c);return J===s.fX.series?(0,A.jsx)(p.p,{color:R,lineStyle:at,className:q===0?F.leading:F.trailing}):(0,A.jsx)("span",{style:{backgroundColor:R},className:(0,g.cx)(q===0?F.leading:F.trailing,(0,h.L$)(J,F))})},c=R=>({leading:(0,g.css)({marginRight:R.spacing(.5)}),trailing:(0,g.css)({marginLeft:R.spacing(.5)}),value:(0,g.css)({width:"12px",height:"12px",borderRadius:R.shape.radius.default,fontWeight:500,minWidth:"12px"}),hexagon:(0,g.css)({}),pie_1_4:(0,g.css)({}),pie_2_4:(0,g.css)({}),pie_3_4:(0,g.css)({}),marker_sm:(0,g.css)({width:"4px",height:"4px",borderRadius:R.shape.radius.circle,minWidth:"4px"}),marker_md:(0,g.css)({width:"8px",height:"8px",borderRadius:R.shape.radius.circle,minWidth:"8px"}),marker_lg:(0,g.css)({width:"12px",height:"12px",borderRadius:R.shape.radius.circle,minWidth:"12px"})});var C=(R=>(R.label="label",R.value="value",R))(C||{});const w="Copied to clipboard",X=2*1e3,D=7,S=({label:R,value:J,color:q,colorIndicator:at,colorPlacement:F=s.lJ.first,justify:Z="flex-start",isActive:W=!1,marginRight:$="0px",isPinned:ot,lineStyle:it,showValueScroll:dt})=>{const _=(0,j.of)(H,Z,$),n=dt?{maxHeight:55,whiteSpace:"wrap",wordBreak:"break-word",overflowY:"auto"}:{whiteSpace:"wrap",wordBreak:"break-word"},[i,l]=(0,I.useState)(!1),[d,x]=(0,I.useState)(null),[O,b]=(0,I.useState)(!1),M=(0,I.useRef)(null),V=(0,I.useRef)(null);(0,I.useEffect)(()=>{let z;return O&&(z=setTimeout(()=>{b(!1)},X)),()=>{window.clearTimeout(z)}},[O]);const L=async(z,Y)=>{if(!(navigator?.clipboard&&window.isSecureContext)){U(z,Y);return}try{await navigator.clipboard.writeText(z),x({[`${Y}`]:z}),b(!0)}catch{x(null)}},U=(z,Y)=>{const tt=document.createElement("textarea");M.current?.appendChild(tt),tt.value=z,tt.focus(),tt.select();try{document.execCommand("copy")&&(x({[`${Y}`]:z}),b(!0))}catch(st){console.error("Unable to copy to clipboard",st)}tt.remove()},B=z=>{z.currentTarget.offsetWidth<z.currentTarget.scrollWidth&&l(!0)},G=()=>l(!1);return R.length*D>window.innerWidth/2&&(R=R.replaceAll("{",`{
  `).replaceAll("}",`
}`).replaceAll(", ",`,
  `)),(0,A.jsxs)("div",{className:_.contentWrapper,children:[(q||R)&&(0,A.jsxs)("div",{className:_.valueWrapper,children:[q&&F===s.lJ.first&&(0,A.jsx)(u,{color:q,colorIndicator:at,lineStyle:it}),ot?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(P.m,{content:R,interactive:!1,show:i,children:(0,A.jsxs)(A.Fragment,{children:[O&&d?.label&&(0,A.jsx)(y.r,{placement:"top",referenceElement:M.current,children:w}),(0,A.jsx)("div",{className:(0,g.cx)(_.label,W&&_.activeSeries,navigator?.clipboard&&_.copy),onMouseEnter:B,onMouseLeave:G,onClick:()=>L(R,"label"),ref:M,children:R})]})})}):(0,A.jsx)("div",{className:(0,g.cx)(_.label,W&&_.activeSeries),children:R})]}),(0,A.jsxs)("div",{className:_.valueWrapper,children:[q&&F===s.lJ.leading&&(0,A.jsx)(u,{color:q,colorIndicator:at,position:E.Leading,lineStyle:it}),ot?(0,A.jsxs)(A.Fragment,{children:[O&&d?.value&&(0,A.jsx)(y.r,{placement:"top",referenceElement:V.current,children:w}),(0,A.jsx)("div",{className:(0,g.cx)(_.value,W,navigator?.clipboard&&_.copy),style:n,onClick:()=>L(J?J.toString():"","value"),ref:V,children:J})]}):(0,A.jsx)("div",{className:(0,g.cx)(_.value,W),style:n,children:J}),q&&F===s.lJ.trailing&&(0,A.jsx)(u,{color:q,colorIndicator:at,position:E.Trailing,lineStyle:it})]})]})},H=(R,J,q)=>({contentWrapper:(0,g.css)({display:"flex",alignItems:"start",justifyContent:J,marginRight:q}),label:(0,g.css)({color:R.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:R.spacing(2)}),value:(0,g.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),valueWrapper:(0,g.css)({display:"flex",alignItems:"center"}),activeSeries:(0,g.css)({fontWeight:R.typography.fontWeightBold,color:R.colors.text.maxContrast}),copy:(0,g.css)({cursor:"pointer"})})},74007:(k,K,r)=>{r.d(K,{i:()=>m});var A=r(74848),g=r(32196),I=r(40845),j=r(14689),y=r(13471),P=r(61994);const m=({displayValues:s,links:h,header:E="Exemplar"})=>{const u=(0,I.of)(p),c=s.find(C=>C.name==="Time");return s=s.filter(C=>C.name!=="Time"),(0,A.jsxs)("div",{className:u.exemplarWrapper,children:[(0,A.jsxs)("div",{className:u.exemplarHeader,children:[(0,A.jsx)("span",{className:u.title,children:E}),c&&(0,A.jsx)("span",{className:u.time,children:(0,P.A)(c.valueString)})]}),(0,A.jsx)("div",{className:u.exemplarContent,children:s.map((C,w)=>(0,A.jsx)(y.B,{label:C.name,value:(0,P.A)(C.valueString),justify:"space-between",isPinned:!1},w))}),h&&h.length>0&&(0,A.jsx)("div",{className:u.exemplarFooter,children:h.map((C,w)=>(0,A.jsx)(j.R,{link:C,buttonProps:{size:"md"}},w))})]})},p=(s,h=0)=>({exemplarWrapper:(0,g.css)({display:"flex",flexDirection:"column",flex:1,gap:4,whiteSpace:"pre",borderRadius:s.shape.radius.default,background:s.colors.background.primary,border:`1px solid ${s.colors.border.weak}`,boxShadow:`0 4px 8px ${s.colors.background.primary}`}),exemplarHeader:(0,g.css)({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:s.spacing(.5),color:s.colors.text.secondary,padding:s.spacing(1)}),time:(0,g.css)({color:s.colors.text.primary}),exemplarContent:(0,g.css)({display:"flex",flexDirection:"column",flex:1,gap:4,borderTop:`1px solid ${s.colors.border.medium}`,padding:s.spacing(1)}),exemplarFooter:(0,g.css)({display:"flex",flexDirection:"column",padding:s.spacing(1),borderTop:`1px solid ${s.colors.border.medium}`,gap:4}),linkButton:(0,g.css)({width:"fit-content"}),label:(0,g.css)({color:s.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:s.spacing(.5)}),value:(0,g.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),title:(0,g.css)({fontWeight:s.typography.fontWeightMedium,overflow:"hidden",display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",flexGrow:1})})},33744:(k,K,r)=>{r.d(K,{DY:()=>j,G4:()=>m,Sq:()=>s,T5:()=>p,W_:()=>g,_7:()=>I,fX:()=>y,wq:()=>P,yQ:()=>h,yu:()=>E});var A=r(52622),g=(u=>(u.Point="point",u.Line="line",u.Polygon="polygon",u.Any="*any*",u))(g||{});const I=5;var j=(u=>(u.Left="left",u.Center="center",u.Right="right",u))(j||{}),y=(u=>(u.Top="top",u.Middle="middle",u.Bottom="bottom",u))(y||{}),P=(u=>(u.Left="left",u.Center="center",u.Right="right",u))(P||{}),m=(u=>(u.Top="top",u.Center="center",u.Bottom="bottom",u))(m||{});const p=Object.freeze({size:{fixed:I,min:2,max:15},color:{fixed:"dark-green"},opacity:.4,symbol:{mode:A.q_.Fixed,fixed:"img/icons/marker/circle.svg"},symbolAlign:{horizontal:"center",vertical:"center"},textConfig:{fontSize:12,textAlign:"center",textBaseline:"middle",offsetX:0,offsetY:0},rotation:{fixed:0,mode:A.WQ.Mod,min:-360,max:360}});var s=(u=>(u.color="fill",u.opacity="fill-opacity",u.lineWidth="stroke-width",u))(s||{}),h=(u=>(u.color="marker-color",u.size="marker-size",u))(h||{}),E=(u=>(u.color="stroke",u.lineWidth="stroke-width",u))(E||{})},61994:(k,K,r)=>{r.d(K,{A:()=>j});var A=r(74848),g=r(32196),I=r(94478);const j=y=>(0,I.gU)(y)?(0,A.jsx)("a",{href:y,target:"_blank",className:(0,g.cx)("external-link"),rel:"noreferrer",children:y}):y},94478:(k,K,r)=>{r.d(K,{rd:()=>Ae,q:()=>Te,G_:()=>ye,ue:()=>pe,o3:()=>Pe,gU:()=>xe,Bz:()=>Re,cA:()=>Ce});var A=r(34120),g=r(50071),I=r(32135),j=r(90025),y=r(74238),P=r(4087),m=r(9703),p=r(70915),s=r(4622),h=r(60764),E=r(6933);class u extends j.A{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,P.b0)()}calculateMatrices2D(t){const e=t.viewState,a=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;(0,m.Zz)(a,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,m.T9)(o,a)}forEachFeatureAtCoordinate(t,e,a,o,v,T,N,Q){let et;const ht=e.viewState;function Et(nt,ct,vt,yt){return v.call(T,ct,nt?vt:null,yt)}const Pt=ht.projection,Ie=(0,E.Li)(t.slice(),Pt),Rt=[[0,0]];if(Pt.canWrapX()&&o){const nt=Pt.getExtent(),ct=(0,p.RG)(nt);Rt.push([-ct,0],[ct,0])}const wt=e.layerStatesArray,Me=wt.length,pt=[],xt=[];for(let nt=0;nt<Rt.length;nt++)for(let ct=Me-1;ct>=0;--ct){const vt=wt[ct],yt=vt.layer;if(yt.hasRenderer()&&(0,h.l)(vt,ht)&&N.call(Q,yt)){const St=yt.getRenderer(),Nt=yt.getSource();if(St&&Nt){const Kt=Nt.getWrapX()?Ie:t,Le=Et.bind(null,vt.managed);xt[0]=Kt[0]+Rt[nt][0],xt[1]=Kt[1]+Rt[nt][1],et=St.forEachFeatureAtCoordinate(xt,e,a,Le,pt)}if(et)return et}}if(pt.length===0)return;const Oe=1/pt.length;return pt.forEach((nt,ct)=>nt.distanceSq+=ct*Oe),pt.sort((nt,ct)=>nt.distanceSq-ct.distanceSq),pt.some(nt=>et=nt.callback(nt.feature,nt.layer,nt.geometry)),et}hasFeatureAtCoordinate(t,e,a,o,v,T){return this.forEachFeatureAtCoordinate(t,e,a,o,y.rT,this,v,T)!==void 0}getMap(){return this.map_}renderFrame(t){(0,P.b0)()}scheduleExpireIconCache(t){s.u.canExpireCache()&&t.postRenderFunctions.push(c)}}function c(f,t){s.u.expire()}const C=u;var w=r(28450),X=r(9960),D=r(83984),S=r(25176),H=r(38774),R=r(9438),J=r(68711);class q extends C{constructor(t){super(t),this.fontChangeListenerKey_=(0,R.KT)(H.yY,w.A.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=S.XI+" ol-layers";const a=t.getViewport();a.insertBefore(this.element_,a.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const a=this.getMap();if(a.hasListener(t)){const o=new X.A(t,void 0,e);a.dispatchEvent(o)}}disposeInternal(){(0,R.JH)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(D.A.PRECOMPOSE,t);const e=t.layerStatesArray.sort(function(T,N){return T.zIndex-N.zIndex}),a=t.viewState;this.children_.length=0;const o=[];let v=null;for(let T=0,N=e.length;T<N;++T){const Q=e[T];t.layerIndex=T;const et=Q.layer,ht=et.getSourceState();if(!(0,h.l)(Q,a)||ht!="ready"&&ht!="undefined"){et.unrender();continue}const Et=et.render(t,v);Et&&(Et!==v&&(this.children_.push(Et),v=Et),"getDeclutter"in et&&o.push(et))}for(let T=o.length-1;T>=0;--T)o[T].renderDeclutter(t);(0,J.WM)(this.element_,this.children_),this.dispatchRenderEvent(D.A.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}}const at=q;var F=r(6837),Z=r(35598),W=r(10277),$=r(73445);const ot={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var it=r(79332),dt=r(7771);class _ extends it.A{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e===void 0?1:e,this.down_=null;const a=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=a,this.pointerdownListenerKey_=(0,R.KT)(a,ot.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,R.KT)(a,ot.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(F.A.TOUCHMOVE,this.boundHandleTouchMove_,dt.FT?{passive:!1}:!1)}emulateClick_(t){let e=new W.A($.A.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new W.A($.A.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const a=new W.A($.A.SINGLECLICK,this.map_,t);this.dispatchEvent(a)},250)}updateActivePointers_(t){const e=t,a=e.pointerId;if(e.type==$.A.POINTERUP||e.type==$.A.POINTERCANCEL){delete this.trackedTouches_[a];for(const o in this.trackedTouches_)if(this.trackedTouches_[o].target!==e.target){delete this.trackedTouches_[o];break}}else(e.type==$.A.POINTERDOWN||e.type==$.A.POINTERMOVE)&&(this.trackedTouches_[a]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new W.A($.A.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(R.JH),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const e=new W.A($.A.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const a=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,R.KT)(a,$.A.POINTERMOVE,this.handlePointerMove_,this),(0,R.KT)(a,$.A.POINTERUP,this.handlePointerUp_,this),(0,R.KT)(this.element_,$.A.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push((0,R.KT)(this.element_.getRootNode(),$.A.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new W.A($.A.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new W.A($.A.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,R.JH)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(F.A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,R.JH)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(R.JH),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const n=_;var i=r(95801),l=r(82585);const d={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var x=r(90588),O=r(43530);const b=1/0;class M{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,O.I)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,a=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const o=this.keyFunction_(a);return delete this.queuedElements_[o],a}enqueue(t){(0,x.v)(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=b?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,a=this.priorities_,o=e.length,v=e[t],T=a[t],N=t;for(;t<o>>1;){const Q=this.getLeftChildIndex_(t),et=this.getRightChildIndex_(t),ht=et<o&&a[et]<a[Q]?et:Q;e[t]=e[ht],a[t]=a[ht],t=ht}e[t]=v,a[t]=T,this.siftDown_(N,t)}siftDown_(t,e){const a=this.elements_,o=this.priorities_,v=a[e],T=o[e];for(;e>t;){const N=this.getParentIndex_(e);if(o[N]>T)a[e]=a[N],o[e]=o[N],e=N;else break}a[e]=v,o[e]=T}reprioritize(){const t=this.priorityFunction_,e=this.elements_,a=this.priorities_;let o=0;const v=e.length;let T,N,Q;for(N=0;N<v;++N)T=e[N],Q=t(T),Q==b?delete this.queuedElements_[this.keyFunction_(T)]:(a[o]=Q,e[o++]=T);e.length=o,a.length=o,this.heapify_()}}const V=M;var L=r(11078);class U extends V{constructor(t,e){super(function(a){return t.apply(null,a)},function(a){return a[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(F.A.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,a=e.getState();if(a===L.A.LOADED||a===L.A.ERROR||a===L.A.EMPTY){a!==L.A.ERROR&&e.removeEventListener(F.A.CHANGE,this.boundHandleTileChange_);const o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let a=0,o,v,T;for(;this.tilesLoading_<t&&a<e&&this.getCount()>0;)v=this.dequeue()[0],T=v.getKey(),o=v.getState(),o===L.A.IDLE&&!(T in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[T]=!0,++this.tilesLoading_,++a,v.load())}}const B=U;function G(f,t,e,a,o){if(!f||!(e in f.wantedTiles)||!f.wantedTiles[e][t.getKey()])return b;const v=f.viewState.center,T=a[0]-v[0],N=a[1]-v[1];return 65536*Math.log(o)+Math.sqrt(T*T+N*N)/o}var z=r(91765),Y=r(62703),tt=r(57456),st=r(10972),lt=r(93474);class Wt extends st.A{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=t.className!==void 0?t.className:"ol-rotate",a=t.label!==void 0?t.label:"\u21E7",o=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof a=="string"?(this.label_=document.createElement("span"),this.label_.className=o,this.label_.textContent=a):(this.label_=a,this.label_.classList.add(o));const v=t.tipLabel?t.tipLabel:"Reset rotation",T=document.createElement("button");T.className=e+"-reset",T.setAttribute("type","button"),T.title=v,T.appendChild(this.label_),T.addEventListener(F.A.CLICK,this.handleClick_.bind(this),!1);const N=e+" "+S.XI+" "+S.$N,Q=this.element;Q.className=N,Q.appendChild(T),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(S.Si)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const a=e.getRotation();a!==void 0&&(this.duration_>0&&a%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:lt.vT}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const a=e.viewState.rotation;if(a!=this.rotation_){const o="rotate("+a+"rad)";if(this.autoHide_){const v=this.element.classList.contains(S.Si);!v&&a===0?this.element.classList.add(S.Si):v&&a!==0&&this.element.classList.remove(S.Si)}this.label_.style.transform=o}this.rotation_=a}}const Ut=Wt;var jt=r(69186);function Ft(f){f=f||{};const t=new g.A;return(f.zoom!==void 0?f.zoom:!0)&&t.push(new jt.A(f.zoomOptions)),(f.rotate!==void 0?f.rotate:!0)&&t.push(new Ut(f.rotateOptions)),(f.attribution!==void 0?f.attribution:!0)&&t.push(new tt.A(f.attributionOptions)),t}var ft=r(6292);class Bt extends ft.Ay{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let e=!1;if(t.type==$.A.DBLCLICK){const a=t.originalEvent,o=t.map,v=t.coordinate,T=a.shiftKey?-this.delta_:this.delta_,N=o.getView();(0,ft.D2)(N,T,v,this.duration_),a.preventDefault(),e=!0}return!e}}const zt=Bt;var ut=r(21409),rt=r(58704);class Zt extends ut.A{constructor(t){super({stopDown:y.W8}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,rt.Q7)(rt.TS,rt.fs);this.condition_=t.onFocusOnly?(0,rt.Q7)(rt.eL,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const a=this.targetPointers,o=e.getEventPixel((0,ut.v)(a));if(a.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){const v=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],N=t.map.getView();(0,E.hs)(v,N.getResolution()),(0,E.e$)(v,N.getRotation()),N.adjustCenterInternal(v)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=a.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,a=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const o=this.kinetic_.getDistance(),v=this.kinetic_.getAngle(),T=a.getCenterInternal(),N=e.getPixelFromCoordinateInternal(T),Q=e.getCoordinateFromPixelInternal([N[0]-o*Math.cos(v),N[1]-o*Math.sin(v)]);a.animateInternal({center:a.getConstrainedCenter(Q),duration:500,easing:lt.vT})}return this.panning_&&(this.panning_=!1,a.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const a=t.map.getView();return this.lastCentroid=null,a.getAnimating()&&a.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const Vt=Zt;var It=r(24498);class Ht extends ut.A{constructor(t){t=t||{},super({stopDown:y.W8}),this.condition_=t.condition?t.condition:rt.IO,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!(0,rt.A4)(t))return;const e=t.map,a=e.getView();if(a.getConstraints().rotation===It.b8)return;const o=e.getSize(),v=t.pixel,T=Math.atan2(o[1]/2-v[1],v[0]-o[0]/2);if(this.lastAngle_!==void 0){const N=T-this.lastAngle_;a.adjustRotationInternal(-N)}this.lastAngle_=T}handleUpEvent(t){return(0,rt.A4)(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return(0,rt.A4)(t)&&(0,rt.at)(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const Gt=Ht;var Xt=r(1685),kt=r(71064);class Yt extends j.A{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,a="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+a,o.top=Math.min(t[1],e[1])+a,o.width=Math.abs(e[0]-t[0])+a,o.height=Math.abs(e[1]-t[1])+a}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,o=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new kt.Ay([o])}getGeometry(){return this.geometry_}}const Jt=Yt,At={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Tt extends Xt.Ay{constructor(t,e,a){super(t),this.coordinate=e,this.mapBrowserEvent=a}}class $t extends ut.A{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Jt(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:rt.at,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,a){const o=a[0]-e[0],v=a[1]-e[1];return o*o+v*v>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Tt(At.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Tt(e?At.BOXEND:At.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Tt(At.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}}const Qt=$t;class qt extends Qt{constructor(t){t=t||{};const e=t.condition?t.condition:rt.Kg;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const a=this.getMap().getView();let o=this.getGeometry();if(this.out_){const v=a.rotatedExtentForGeometry(o),T=a.getResolutionForExtentInternal(v),N=a.getResolution()/T;o=o.clone(),o.scale(N*N)}a.fitInternal(o,{duration:this.duration_,easing:lt.vT})}}const te=qt,gt={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class ee extends ft.Ay{constructor(t){super(),t=t||{},this.defaultCondition_=function(e){return(0,rt.TS)(e)&&(0,rt.tE)(e)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==F.A.KEYDOWN){const a=t.originalEvent,o=a.key;if(this.condition_(t)&&(o==gt.DOWN||o==gt.LEFT||o==gt.RIGHT||o==gt.UP)){const T=t.map.getView(),N=T.getResolution()*this.pixelDelta_;let Q=0,et=0;o==gt.DOWN?et=-N:o==gt.LEFT?Q=-N:o==gt.RIGHT?Q=N:et=N;const ht=[Q,et];(0,E.e$)(ht,T.getRotation()),(0,ft.e4)(T,ht,this.duration_),a.preventDefault(),e=!0}}return!e}}const ne=ee;class ie extends ft.Ay{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:rt.tE,this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let e=!1;if(t.type==F.A.KEYDOWN||t.type==F.A.KEYPRESS){const a=t.originalEvent,o=a.key;if(this.condition_(t)&&(o==="+"||o==="-")){const v=t.map,T=o==="+"?this.delta_:-this.delta_,N=v.getView();(0,ft.D2)(N,T,void 0,this.duration_),a.preventDefault(),e=!0}}return!e}}const se=ie;class re{constructor(t,e,a){this.decay_=t,this.minVelocity_=e,this.delay_=a,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let a=e-3;for(;a>0&&this.points_[a+2]>t;)a-=3;const o=this.points_[e+2]-this.points_[a+2];if(o<1e3/60)return!1;const v=this.points_[e]-this.points_[a],T=this.points_[e+1]-this.points_[a+1];return this.angle_=Math.atan2(T,v),this.initialVelocity_=Math.sqrt(v*v+T*T)/o,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const ae=re;var oe=r(88751);class le extends ut.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=y.W8),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let e=0;const a=this.targetPointers[0],o=this.targetPointers[1],v=Math.atan2(o.clientY-a.clientY,o.clientX-a.clientX);if(this.lastAngle_!==void 0){const Q=v-this.lastAngle_;this.rotationDelta_+=Q,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=Q}this.lastAngle_=v;const T=t.map,N=T.getView();N.getConstraints().rotation!==It.b8&&(this.anchor_=T.getCoordinateFromPixelInternal(T.getEventPixel((0,ut.v)(this.targetPointers))),this.rotating_&&(T.render(),N.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const he=le;class ce extends ut.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=y.W8),super(e),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const a=this.targetPointers[0],o=this.targetPointers[1],v=a.clientX-o.clientX,T=a.clientY-o.clientY,N=Math.sqrt(v*v+T*T);this.lastDistance_!==void 0&&(e=this.lastDistance_/N),this.lastDistance_=N;const Q=t.map,et=Q.getView();e!=1&&(this.lastScaleDelta_=e),this.anchor_=Q.getCoordinateFromPixelInternal(Q.getEventPixel((0,ut.v)(this.targetPointers))),Q.render(),et.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const a=t.map.getView(),o=this.lastScaleDelta_>1?1:-1;return a.endInteraction(this.duration_,o),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const de=ce;function Mt(f){f=f||{};const t=new g.A,e=new ae(-.005,.05,100);return(f.altShiftDragRotate!==void 0?f.altShiftDragRotate:!0)&&t.push(new Gt),(f.doubleClickZoom!==void 0?f.doubleClickZoom:!0)&&t.push(new zt({delta:f.zoomDelta,duration:f.zoomDuration})),(f.dragPan!==void 0?f.dragPan:!0)&&t.push(new Vt({onFocusOnly:f.onFocusOnly,kinetic:e})),(f.pinchRotate!==void 0?f.pinchRotate:!0)&&t.push(new he),(f.pinchZoom!==void 0?f.pinchZoom:!0)&&t.push(new de({duration:f.zoomDuration})),(f.keyboard!==void 0?f.keyboard:!0)&&(t.push(new ne),t.push(new se({delta:f.zoomDelta,duration:f.zoomDuration}))),(f.mouseWheelZoom!==void 0?f.mouseWheelZoom:!0)&&t.push(new oe.A({onFocusOnly:f.onFocusOnly,duration:f.zoomDuration})),(f.shiftDragZoom!==void 0?f.shiftDragZoom:!0)&&t.push(new te({duration:f.zoomDuration})),t}var ue=r(66514),Ot=r(22796),Lt=r(6782),_e=r(54422);function Dt(f){if(f instanceof h.A){f.setMapInternal(null);return}f instanceof Z.A&&f.getLayers().forEach(Dt)}function bt(f,t){if(f instanceof h.A){f.setMapInternal(t);return}if(f instanceof Z.A){const e=f.getLayers().getArray();for(let a=0,o=e.length;a<o;++a)bt(e[a],t)}}class ge extends A.A{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=fe(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:dt.cr,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,m.vt)(),this.pixelToCoordinateTransform_=(0,m.vt)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||Ft(),this.interactions=e.interactions||Mt({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new B(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(d.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(d.VIEW,this.handleViewChanged_),this.addChangeListener(d.SIZE,this.handleSizeChanged_),this.addChangeListener(d.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const a=this;t.view&&!(t.view instanceof z.Ay)&&t.view.then(function(o){a.setView(new z.Ay(o))}),this.controls.addEventListener(I.A.ADD,o=>{o.element.setMap(this)}),this.controls.addEventListener(I.A.REMOVE,o=>{o.element.setMap(null)}),this.interactions.addEventListener(I.A.ADD,o=>{o.element.setMap(this)}),this.interactions.addEventListener(I.A.REMOVE,o=>{o.element.setMap(null)}),this.overlays_.addEventListener(I.A.ADD,o=>{this.addOverlayInternal_(o.element)}),this.overlays_.addEventListener(I.A.REMOVE,o=>{const v=o.element.getId();v!==void 0&&delete this.overlayIdIndex_[v.toString()],o.element.setMap(null)}),this.controls.forEach(o=>{o.setMap(this)}),this.interactions.forEach(o=>{o.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){bt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,a){if(!this.frameState_||!this.renderer_)return;const o=this.getCoordinateFromPixelInternal(t);a=a!==void 0?a:{};const v=a.hitTolerance!==void 0?a.hitTolerance:0,T=a.layerFilter!==void 0?a.layerFilter:y.rT,N=a.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,v,N,e,null,T,null)}getFeaturesAtPixel(t,e){const a=[];return this.forEachFeatureAtPixel(t,function(o){a.push(o)},e),a}getAllLayers(){const t=[];function e(a){a.forEach(function(o){o instanceof Z.A?e(o.getLayers()):t.push(o)})}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const a=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};const o=e.layerFilter!==void 0?e.layerFilter:y.rT,v=e.hitTolerance!==void 0?e.hitTolerance:0,T=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(a,this.frameState_,v,T,o,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const a=this.viewport_.getBoundingClientRect(),o=this.getSize(),v=a.width/o[0],T=a.height/o[1],N="changedTouches"in t?t.changedTouches[0]:t;return[(N.clientX-a.left)/v,(N.clientY-a.top)/T]}getTarget(){return this.get(d.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,Ot.te)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,m.Bb)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(d.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof g.A){e.setLayers(t);return}const a=e.getLayers();a.clear(),a.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,a=t.length;e<a;++e){const o=t[e];if(!o.visible)continue;const v=o.layer.getRenderer();if(v&&!v.ready)return!0;const T=o.layer.getSource();if(T&&T.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,Ot.Ad)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,m.Bb)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(d.SIZE)}getView(){return this.get(d.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,a,o){return G(this.frameState_,t,e,a,o)}handleBrowserEvent(t,e){e=e||t.type;const a=new W.A(e,this,t);this.handleMapBrowserEvent(a)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,a=e.type;if(a===ot.POINTERDOWN||a===F.A.WHEEL||a===F.A.KEYDOWN){const o=this.getOwnerDocument(),v=this.viewport_.getRootNode?this.viewport_.getRootNode():o,T=e.target;if(this.overlayContainerStopEvent_.contains(T)||!(v===o?o.documentElement:v).contains(T))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const o=this.getInteractions().getArray().slice();for(let v=o.length-1;v>=0;v--){const T=o[v];if(T.getMap()!==this||!T.getActive()||!this.getTargetElement())continue;if(!T.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let o=this.maxTilesLoading_,v=o;if(t){const T=t.viewHints;if(T[Y.A.ANIMATING]||T[Y.A.INTERACTING]){const N=Date.now()-t.time>8;o=N?0:8,v=N?0:2}}e.getTilesLoading()<o&&(e.reprioritize(),e.loadMoreTiles(o,v))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(D.A.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(D.A.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new i.A(l.A.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new i.A(l.A.LOADSTART,this,t))));const a=this.postRenderFunctions_;for(let o=0,v=a.length;o<v;++o)a[o](this,t);a.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let a=0,o=this.targetChangeHandlerKeys_.length;a<o;++a)(0,R.JH)(this.targetChangeHandlerKeys_[a]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(F.A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(F.A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,J.bf)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const a=this.targetElement_.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.unobserve(a.host),this.setSize(void 0)}const t=this.getTarget(),e=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new at(this)),this.mapBrowserEventHandler_=new n(this,this.moveTolerance_);for(const v in $.A)this.mapBrowserEventHandler_.addEventListener($.A[v],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(F.A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(F.A.WHEEL,this.boundHandleBrowserEvent_,dt.FT?{passive:!1}:!1);const a=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,R.KT)(a,F.A.KEYDOWN,this.handleBrowserEvent,this),(0,R.KT)(a,F.A.KEYPRESS,this.handleBrowserEvent,this)];const o=e.getRootNode();o instanceof ShadowRoot&&this.resizeObserver_.observe(o.host),this.resizeObserver_.observe(e)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,R.JH)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,R.JH)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,R.KT)(t,w.A.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,R.KT)(t,F.A.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(R.JH),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Z.i("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,R.KT)(t,w.A.PROPERTYCHANGE,this.render,this),(0,R.KT)(t,F.A.CHANGE,this.render,this),(0,R.KT)(t,"addlayer",this.handleLayerAdd_,this),(0,R.KT)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,a=t.length;e<a;++e){const o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){Dt(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),a=this.getView(),o=this.frameState_;let v=null;if(e!==void 0&&(0,Lt.Ie)(e)&&a&&a.isDef()){const T=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),N=a.getState();if(v={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,p.Bg)(N.center,N.resolution,N.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:N,viewHints:T,wantedTiles:{},mapId:(0,P.v6)(this),renderTargets:{}},N.nextCenter&&N.nextResolution){const Q=isNaN(N.nextRotation)?N.rotation:N.nextRotation;v.nextExtent=(0,p.Bg)(N.nextCenter,N.nextResolution,Q,e)}}this.frameState_=v,this.renderer_.renderFrame(v),v&&(v.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,v.postRenderFunctions),o&&(!this.previousExtent_||!(0,p.Im)(this.previousExtent_)&&!(0,p.aI)(v.extent,this.previousExtent_))&&(this.dispatchEvent(new i.A(l.A.MOVESTART,this,o)),this.previousExtent_=(0,p.aZ)(this.previousExtent_)),this.previousExtent_&&!v.viewHints[Y.A.ANIMATING]&&!v.viewHints[Y.A.INTERACTING]&&!(0,p.aI)(v.extent,this.previousExtent_)&&(this.dispatchEvent(new i.A(l.A.MOVEEND,this,v)),(0,p.o8)(v.extent,this.previousExtent_))),this.dispatchEvent(new i.A(l.A.POSTRENDER,this,v)),this.renderComplete_=this.hasListener(l.A.LOADSTART)||this.hasListener(l.A.LOADEND)||this.hasListener(D.A.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Z.i("removelayer",e)),this.set(d.LAYERGROUP,t)}setSize(t){this.set(d.SIZE,t)}setTarget(t){this.set(d.TARGET,t)}setView(t){if(!t||t instanceof z.Ay){this.set(d.VIEW,t);return}this.set(d.VIEW,new z.Ay);const e=this;t.then(function(a){e.setView(new z.Ay(a))})}updateSize(){const t=this.getTargetElement();let e;if(t){const o=getComputedStyle(t),v=t.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),T=t.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(v)&&!isNaN(T)&&(e=[v,T],!(0,Lt.Ie)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,_e.R8)("No map visible because the map container's width or height are 0."))}const a=this.getSize();e&&(!a||!(0,ue.aI)(e,a))&&(this.setSize(e),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let e;const a=getComputedStyle(this.viewport_);a.width&&a.height&&(e=[parseInt(a.width,10),parseInt(a.height,10)]),t.setViewportSize(e)}}}function fe(f){let t=null;f.keyboardEventTarget!==void 0&&(t=typeof f.keyboardEventTarget=="string"?document.getElementById(f.keyboardEventTarget):f.keyboardEventTarget);const e={},a=f.layers&&typeof f.layers.getLayers=="function"?f.layers:new Z.A({layers:f.layers});e[d.LAYERGROUP]=a,e[d.TARGET]=f.target,e[d.VIEW]=f.view instanceof z.Ay?f.view:new z.Ay;let o;f.controls!==void 0&&(Array.isArray(f.controls)?o=new g.A(f.controls.slice()):((0,x.v)(typeof f.controls.getArray=="function",47),o=f.controls));let v;f.interactions!==void 0&&(Array.isArray(f.interactions)?v=new g.A(f.interactions.slice()):((0,x.v)(typeof f.interactions.getArray=="function",48),v=f.interactions));let T;return f.overlays!==void 0?Array.isArray(f.overlays)?T=new g.A(f.overlays.slice()):((0,x.v)(typeof f.overlays.getArray=="function",49),T=f.overlays):T=new g.A,{controls:o,interactions:v,keyboardEventTarget:t,overlays:T,values:e}}const me=ge;var _t=r(63577),Ee=r(90183),mt=r(33744);function pe(f,t,e,a){const o={};return a&&Object.keys(a).length?(o.color=(0,_t.getColorDimension)(f,a.color??mt.T5.color,e),o.size=(0,_t.getScaledDimension)(f,a.size??mt.T5.size),o.rotation=(0,_t.getScalarDimension)(f,a.rotation??mt.T5.rotation),a.text&&(a.text.field||a.text.fixed)&&(o.text=(0,_t.getTextDimension)(f,a.text))):t.fields&&(t.fields.color&&(o.color=(0,_t.getColorDimension)(f,t.config.color??mt.T5.color,e)),t.fields.size&&(o.size=(0,_t.getScaledDimension)(f,t.config.size??mt.T5.size)),t.fields.text&&(o.text=(0,_t.getTextDimension)(f,t.config.text)),t.fields.rotation&&(o.rotation=(0,_t.getScalarDimension)(f,t.config.rotation??mt.T5.rotation))),o}let Ct;function ye(){return Ct||(Ct=[],ve()),Ct}async function ve(){const f=await(0,Ee.o)();for(let t of["maps","gazetteer"])f.listFiles(t).subscribe({next:e=>{e.forEach(a=>{if(a.name.endsWith(".geojson")){const o=`public/${t}/${a.name}`;Ct.push({value:o,label:o})}})}})}const Ae=(f,t,e)=>{const a=f.initMapView(t.view);return f.map=new me({view:a,pixelRatio:1,layers:[],controls:[],target:e,interactions:Mt({mouseWheelZoom:!1})})},Ce=(f,t)=>{f.initControls(t.controls),f.forceUpdate()},Re=(f,t,e)=>{f.panelContext&&f.panelContext.onInstanceStateChange&&f.panelContext.onInstanceStateChange({map:f.map,layers:t,selected:e,actions:f.actions})},Te=f=>{let t=f.layers.length;for(;t<100;){const e=`Layer ${t++}`;if(!f.byName.has(e))return e}return`Layer ${Date.now()}`};function Pe(f,t,e,a){const o=f.getPixelFromCoordinate(e),v=f.getPixelFromCoordinate(a),T=Math.abs(o[0]-v[0]),N=Math.abs(o[1]-v[1]);return T>t||N>t}const xe=f=>{try{return new URL(f).protocol.includes("http")}catch{return!1}}},50071:(k,K,r)=>{r.d(K,{A:()=>p});var A=r(70017),g=r(34120),I=r(32135),j=r(1685);const y={LENGTH:"length"};class P extends j.Ay{constructor(h,E,u){super(h),this.element=E,this.index=u}}class m extends g.A{constructor(h,E){if(super(),this.on,this.once,this.un,E=E||{},this.unique_=!!E.unique,this.array_=h||[],this.unique_)for(let u=0,c=this.array_.length;u<c;++u)this.assertUnique_(this.array_[u],u);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(h){for(let E=0,u=h.length;E<u;++E)this.push(h[E]);return this}forEach(h){const E=this.array_;for(let u=0,c=E.length;u<c;++u)h(E[u],u,E)}getArray(){return this.array_}item(h){return this.array_[h]}getLength(){return this.get(y.LENGTH)}insertAt(h,E){if(h<0||h>this.getLength())throw new Error("Index out of bounds: "+h);this.unique_&&this.assertUnique_(E),this.array_.splice(h,0,E),this.updateLength_(),this.dispatchEvent(new P(I.A.ADD,E,h))}pop(){return this.removeAt(this.getLength()-1)}push(h){this.unique_&&this.assertUnique_(h);const E=this.getLength();return this.insertAt(E,h),this.getLength()}remove(h){const E=this.array_;for(let u=0,c=E.length;u<c;++u)if(E[u]===h)return this.removeAt(u)}removeAt(h){if(h<0||h>=this.getLength())return;const E=this.array_[h];return this.array_.splice(h,1),this.updateLength_(),this.dispatchEvent(new P(I.A.REMOVE,E,h)),E}setAt(h,E){const u=this.getLength();if(h>=u){this.insertAt(h,E);return}if(h<0)throw new Error("Index out of bounds: "+h);this.unique_&&this.assertUnique_(E,h);const c=this.array_[h];this.array_[h]=E,this.dispatchEvent(new P(I.A.REMOVE,c,h)),this.dispatchEvent(new P(I.A.ADD,E,h))}updateLength_(){this.set(y.LENGTH,this.array_.length)}assertUnique_(h,E){for(let u=0,c=this.array_.length;u<c;++u)if(this.array_[u]===h&&u!==E)throw new A.A(58)}}const p=m},32135:(k,K,r)=>{r.d(K,{A:()=>A});const A={ADD:"add",REMOVE:"remove"}},10277:(k,K,r)=>{r.d(K,{A:()=>I});var A=r(95801);class g extends A.A{constructor(y,P,m,p,s,h){super(y,P,s),this.originalEvent=m,this.pixel_=null,this.coordinate_=null,this.dragging=p!==void 0?p:!1,this.activePointers=h}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(y){this.pixel_=y}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(y){this.coordinate_=y}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const I=g},73445:(k,K,r)=>{r.d(K,{A:()=>g});var A=r(6837);const g={SINGLECLICK:"singleclick",CLICK:A.A.CLICK,DBLCLICK:A.A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},95801:(k,K,r)=>{r.d(K,{A:()=>I});var A=r(1685);class g extends A.Ay{constructor(y,P,m){super(y),this.map=P,this.frameState=m!==void 0?m:null}}const I=g},82585:(k,K,r)=>{r.d(K,{A:()=>A});const A={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},11078:(k,K,r)=>{r.d(K,{A:()=>A});const A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},91765:(k,K,r)=>{r.d(K,{Ay:()=>dt});var A=r(34120),g=r(62703);const I={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var j=r(57115),y=r(22796),P=r(74238),m=r(6933),p=r(90588),s=r(61597);function h(_,n,i){return function(l,d,x,O,b){if(!l)return;if(!d&&!n)return l;const M=n?0:x[0]*d,V=n?0:x[1]*d,L=b?b[0]:0,U=b?b[1]:0;let B=_[0]+M/2+L,G=_[2]-M/2+L,z=_[1]+V/2+U,Y=_[3]-V/2+U;B>G&&(B=(G+B)/2,G=B),z>Y&&(z=(Y+z)/2,Y=z);let tt=(0,s.qE)(l[0],B,G),st=(0,s.qE)(l[1],z,Y);if(O&&i&&d){const lt=30*d;tt+=-lt*Math.log(1+Math.max(0,B-l[0])/lt)+lt*Math.log(1+Math.max(0,l[0]-G)/lt),st+=-lt*Math.log(1+Math.max(0,z-l[1])/lt)+lt*Math.log(1+Math.max(0,l[1]-Y)/lt)}return[tt,st]}}function E(_){return _}var u=r(70915),c=r(66514);function C(_,n,i,l){const d=(0,u.RG)(n)/i[0],x=(0,u.Oq)(n)/i[1];return l?Math.min(_,Math.max(d,x)):Math.min(_,Math.min(d,x))}function w(_,n,i){let l=Math.min(_,n);const d=50;return l*=Math.log(1+d*Math.max(0,_/n-1))/d+1,i&&(l=Math.max(l,i),l/=Math.log(1+d*Math.max(0,i/_-1))/d+1),(0,s.qE)(l,i/2,n*2)}function X(_,n,i,l){return n=n!==void 0?n:!0,function(d,x,O,b){if(d!==void 0){const M=_[0],V=_[_.length-1],L=i?C(M,i,O,l):M;if(b)return n?w(d,L,V):(0,s.qE)(d,V,L);const U=Math.min(L,d),B=Math.floor((0,c.FT)(_,U,x));return _[B]>L&&B<_.length-1?_[B+1]:_[B]}}}function D(_,n,i,l,d,x){return l=l!==void 0?l:!0,i=i!==void 0?i:0,function(O,b,M,V){if(O!==void 0){const L=d?C(n,d,M,x):n;if(V)return l?w(O,L,i):(0,s.qE)(O,i,L);const U=1e-9,B=Math.ceil(Math.log(n/L)/Math.log(_)-U),G=-b*(.5-U)+.5,z=Math.min(L,O),Y=Math.floor(Math.log(n/z)/Math.log(_)+G),tt=Math.max(B,Y),st=n/Math.pow(_,tt);return(0,s.qE)(st,i,L)}}}function S(_,n,i,l,d){return i=i!==void 0?i:!0,function(x,O,b,M){if(x!==void 0){const V=l?C(_,l,b,d):_;return!i||!M?(0,s.qE)(x,n,V):w(x,V,n)}}}var H=r(24498),R=r(93474),J=r(71064);const q=0;class at extends A.A{constructor(n){super(),this.on,this.once,this.un,n=Object.assign({},n),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,y.Av)(n.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,n.projection&&(0,y.RJ)(),n.center&&(n.center=(0,y.Ad)(n.center,this.projection_)),n.extent&&(n.extent=(0,y.SD)(n.extent,this.projection_)),this.applyOptions_(n)}applyOptions_(n){const i=Object.assign({},n);for(const b in I)delete i[b];this.setProperties(i,!0);const l=W(n);this.maxResolution_=l.maxResolution,this.minResolution_=l.minResolution,this.zoomFactor_=l.zoomFactor,this.resolutions_=n.resolutions,this.padding_=n.padding,this.minZoom_=l.minZoom;const d=Z(n),x=l.constraint,O=$(n);this.constraints_={center:d,resolution:x,rotation:O},this.setRotation(n.rotation!==void 0?n.rotation:0),this.setCenterInternal(n.center!==void 0?n.center:null),n.resolution!==void 0?this.setResolution(n.resolution):n.zoom!==void 0&&this.setZoom(n.zoom)}get padding(){return this.padding_}set padding(n){let i=this.padding_;this.padding_=n;const l=this.getCenterInternal();if(l){const d=n||[0,0,0,0];i=i||[0,0,0,0];const x=this.getResolution(),O=x/2*(d[3]-i[3]+i[1]-d[1]),b=x/2*(d[0]-i[0]+i[2]-d[2]);this.setCenterInternal([l[0]+O,l[1]-b])}}getUpdatedOptions_(n){const i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Object.assign({},i,n)}animate(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const i=new Array(arguments.length);for(let l=0;l<i.length;++l){let d=arguments[l];d.center&&(d=Object.assign({},d),d.center=(0,y.Ad)(d.center,this.getProjection())),d.anchor&&(d=Object.assign({},d),d.anchor=(0,y.Ad)(d.anchor,this.getProjection())),i[l]=d}this.animateInternal.apply(this,i)}animateInternal(n){let i=arguments.length,l;i>1&&typeof arguments[i-1]=="function"&&(l=arguments[i-1],--i);let d=0;for(;d<i&&!this.isDef();++d){const L=arguments[d];L.center&&this.setCenterInternal(L.center),L.zoom!==void 0?this.setZoom(L.zoom):L.resolution&&this.setResolution(L.resolution),L.rotation!==void 0&&this.setRotation(L.rotation)}if(d===i){l&&F(l,!0);return}let x=Date.now(),O=this.targetCenter_.slice(),b=this.targetResolution_,M=this.targetRotation_;const V=[];for(;d<i;++d){const L=arguments[d],U={start:x,complete:!1,anchor:L.anchor,duration:L.duration!==void 0?L.duration:1e3,easing:L.easing||R.T9,callback:l};if(L.center&&(U.sourceCenter=O,U.targetCenter=L.center.slice(),O=U.targetCenter),L.zoom!==void 0?(U.sourceResolution=b,U.targetResolution=this.getResolutionForZoom(L.zoom),b=U.targetResolution):L.resolution&&(U.sourceResolution=b,U.targetResolution=L.resolution,b=U.targetResolution),L.rotation!==void 0){U.sourceRotation=M;const B=(0,s.xP)(L.rotation-M+Math.PI,2*Math.PI)-Math.PI;U.targetRotation=M+B,M=U.targetRotation}ot(U)?U.complete=!0:x+=U.duration,V.push(U)}this.animations_.push(V),this.setHint(g.A.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[g.A.ANIMATING]>0}getInteracting(){return this.hints_[g.A.INTERACTING]>0}cancelAnimations(){this.setHint(g.A.ANIMATING,-this.hints_[g.A.ANIMATING]);let n;for(let i=0,l=this.animations_.length;i<l;++i){const d=this.animations_[i];if(d[0].callback&&F(d[0].callback,!1),!n)for(let x=0,O=d.length;x<O;++x){const b=d[x];if(!b.complete){n=b.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const n=Date.now();let i=!1;for(let l=this.animations_.length-1;l>=0;--l){const d=this.animations_[l];let x=!0;for(let O=0,b=d.length;O<b;++O){const M=d[O];if(M.complete)continue;const V=n-M.start;let L=M.duration>0?V/M.duration:1;L>=1?(M.complete=!0,L=1):x=!1;const U=M.easing(L);if(M.sourceCenter){const B=M.sourceCenter[0],G=M.sourceCenter[1],z=M.targetCenter[0],Y=M.targetCenter[1];this.nextCenter_=M.targetCenter;const tt=B+U*(z-B),st=G+U*(Y-G);this.targetCenter_=[tt,st]}if(M.sourceResolution&&M.targetResolution){const B=U===1?M.targetResolution:M.sourceResolution+U*(M.targetResolution-M.sourceResolution);if(M.anchor){const G=this.getViewportSize_(this.getRotation()),z=this.constraints_.resolution(B,0,G,!0);this.targetCenter_=this.calculateCenterZoom(z,M.anchor)}this.nextResolution_=M.targetResolution,this.targetResolution_=B,this.applyTargetState_(!0)}if(M.sourceRotation!==void 0&&M.targetRotation!==void 0){const B=U===1?(0,s.xP)(M.targetRotation+Math.PI,2*Math.PI)-Math.PI:M.sourceRotation+U*(M.targetRotation-M.sourceRotation);if(M.anchor){const G=this.constraints_.rotation(B,!0);this.targetCenter_=this.calculateCenterRotate(G,M.anchor)}this.nextRotation_=M.targetRotation,this.targetRotation_=B}if(this.applyTargetState_(!0),i=!0,!M.complete)break}if(x){this.animations_[l]=null,this.setHint(g.A.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const O=d[0].callback;O&&F(O,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(n,i){let l;const d=this.getCenterInternal();return d!==void 0&&(l=[d[0]-i[0],d[1]-i[1]],(0,m.e$)(l,n-this.getRotation()),(0,m.WQ)(l,i)),l}calculateCenterZoom(n,i){let l;const d=this.getCenterInternal(),x=this.getResolution();if(d!==void 0&&x!==void 0){const O=i[0]-n*(i[0]-d[0])/x,b=i[1]-n*(i[1]-d[1])/x;l=[O,b]}return l}getViewportSize_(n){const i=this.viewportSize_;if(n){const l=i[0],d=i[1];return[Math.abs(l*Math.cos(n))+Math.abs(d*Math.sin(n)),Math.abs(l*Math.sin(n))+Math.abs(d*Math.cos(n))]}return i}setViewportSize(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const n=this.getCenterInternal();return n&&(0,y.te)(n,this.getProjection())}getCenterInternal(){return this.get(I.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(n){return n!==void 0?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()}calculateExtent(n){const i=this.calculateExtentInternal(n);return(0,y.JR)(i,this.getProjection())}calculateExtentInternal(n){n=n||this.getViewportSizeMinusPadding_();const i=this.getCenterInternal();(0,p.v)(i,1);const l=this.getResolution();(0,p.v)(l!==void 0,2);const d=this.getRotation();return(0,p.v)(d!==void 0,3),(0,u.Bg)(i,l,d,n)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))}setConstrainResolution(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))}getProjection(){return this.projection_}getResolution(){return this.get(I.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(n,i){return this.getResolutionForExtentInternal((0,y.SD)(n,this.getProjection()),i)}getResolutionForExtentInternal(n,i){i=i||this.getViewportSizeMinusPadding_();const l=(0,u.RG)(n)/i[0],d=(0,u.Oq)(n)/i[1];return Math.max(l,d)}getResolutionForValueFunction(n){n=n||2;const i=this.getConstrainedResolution(this.maxResolution_),l=this.minResolution_,d=Math.log(i/l)/Math.log(n);return function(x){return i/Math.pow(n,x*d)}}getRotation(){return this.get(I.ROTATION)}getValueForResolutionFunction(n){const i=Math.log(n||2),l=this.getConstrainedResolution(this.maxResolution_),d=this.minResolution_,x=Math.log(l/d)/i;return function(O){return Math.log(l/O)/i/x}}getViewportSizeMinusPadding_(n){let i=this.getViewportSize_(n);const l=this.padding_;return l&&(i=[i[0]-l[1]-l[3],i[1]-l[0]-l[2]]),i}getState(){const n=this.getProjection(),i=this.getResolution(),l=this.getRotation();let d=this.getCenterInternal();const x=this.padding_;if(x){const O=this.getViewportSizeMinusPadding_();d=it(d,this.getViewportSize_(),[O[0]/2+x[3],O[1]/2+x[0]],i,l)}return{center:d.slice(0),projection:n!==void 0?n:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:l,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let n;const i=this.getResolution();return i!==void 0&&(n=this.getZoomForResolution(i)),n}getZoomForResolution(n){let i=this.minZoom_||0,l,d;if(this.resolutions_){const x=(0,c.FT)(this.resolutions_,n,1);i=x,l=this.resolutions_[x],x==this.resolutions_.length-1?d=2:d=l/this.resolutions_[x+1]}else l=this.maxResolution_,d=this.zoomFactor_;return i+Math.log(l/n)/Math.log(d)}getResolutionForZoom(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const i=(0,s.qE)(Math.floor(n),0,this.resolutions_.length-2),l=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(l,(0,s.qE)(n-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)}fit(n,i){let l;if((0,p.v)(Array.isArray(n)||typeof n.getSimplifiedGeometry=="function",24),Array.isArray(n)){(0,p.v)(!(0,u.Im)(n),25);const d=(0,y.SD)(n,this.getProjection());l=(0,J.VY)(d)}else if(n.getType()==="Circle"){const d=(0,y.SD)(n.getExtent(),this.getProjection());l=(0,J.VY)(d),l.rotate(this.getRotation(),(0,u.q1)(d))}else{const d=(0,y.Tf)();d?l=n.clone().transform(d,this.getProjection()):l=n}this.fitInternal(l,i)}rotatedExtentForGeometry(n){const i=this.getRotation(),l=Math.cos(i),d=Math.sin(-i),x=n.getFlatCoordinates(),O=n.getStride();let b=1/0,M=1/0,V=-1/0,L=-1/0;for(let U=0,B=x.length;U<B;U+=O){const G=x[U]*l-x[U+1]*d,z=x[U]*d+x[U+1]*l;b=Math.min(b,G),M=Math.min(M,z),V=Math.max(V,G),L=Math.max(L,z)}return[b,M,V,L]}fitInternal(n,i){i=i||{};let l=i.size;l||(l=this.getViewportSizeMinusPadding_());const d=i.padding!==void 0?i.padding:[0,0,0,0],x=i.nearest!==void 0?i.nearest:!1;let O;i.minResolution!==void 0?O=i.minResolution:i.maxZoom!==void 0?O=this.getResolutionForZoom(i.maxZoom):O=0;const b=this.rotatedExtentForGeometry(n);let M=this.getResolutionForExtentInternal(b,[l[0]-d[1]-d[3],l[1]-d[0]-d[2]]);M=isNaN(M)?O:Math.max(M,O),M=this.getConstrainedResolution(M,x?0:1);const V=this.getRotation(),L=Math.sin(V),U=Math.cos(V),B=(0,u.q1)(b);B[0]+=(d[1]-d[3])/2*M,B[1]+=(d[0]-d[2])/2*M;const G=B[0]*U-B[1]*L,z=B[1]*U+B[0]*L,Y=this.getConstrainedCenter([G,z],M),tt=i.callback?i.callback:P.tV;i.duration!==void 0?this.animateInternal({resolution:M,center:Y,duration:i.duration,easing:i.easing},tt):(this.targetResolution_=M,this.targetCenter_=Y,this.applyTargetState_(!1,!0),F(tt,!0))}centerOn(n,i,l){this.centerOnInternal((0,y.Ad)(n,this.getProjection()),i,l)}centerOnInternal(n,i,l){this.setCenterInternal(it(n,i,l,this.getResolution(),this.getRotation()))}calculateCenterShift(n,i,l,d){let x;const O=this.padding_;if(O&&n){const b=this.getViewportSizeMinusPadding_(-l),M=it(n,d,[b[0]/2+O[3],b[1]/2+O[0]],i,l);x=[n[0]-M[0],n[1]-M[1]]}return x}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(n){const i=(0,y.te)(this.targetCenter_,this.getProjection());this.setCenter([i[0]+n[0],i[1]+n[1]])}adjustCenterInternal(n){const i=this.targetCenter_;this.setCenterInternal([i[0]+n[0],i[1]+n[1]])}adjustResolution(n,i){i=i&&(0,y.Ad)(i,this.getProjection()),this.adjustResolutionInternal(n,i)}adjustResolutionInternal(n,i){const l=this.getAnimating()||this.getInteracting(),d=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(this.targetResolution_*n,0,d,l);i&&(this.targetCenter_=this.calculateCenterZoom(x,i)),this.targetResolution_*=n,this.applyTargetState_()}adjustZoom(n,i){this.adjustResolution(Math.pow(this.zoomFactor_,-n),i)}adjustRotation(n,i){i&&(i=(0,y.Ad)(i,this.getProjection())),this.adjustRotationInternal(n,i)}adjustRotationInternal(n,i){const l=this.getAnimating()||this.getInteracting(),d=this.constraints_.rotation(this.targetRotation_+n,l);i&&(this.targetCenter_=this.calculateCenterRotate(d,i)),this.targetRotation_+=n,this.applyTargetState_()}setCenter(n){this.setCenterInternal(n&&(0,y.Ad)(n,this.getProjection()))}setCenterInternal(n){this.targetCenter_=n,this.applyTargetState_()}setHint(n,i){return this.hints_[n]+=i,this.changed(),this.hints_[n]}setResolution(n){this.targetResolution_=n,this.applyTargetState_()}setRotation(n){this.targetRotation_=n,this.applyTargetState_()}setZoom(n){this.setResolution(this.getResolutionForZoom(n))}applyTargetState_(n,i){const l=this.getAnimating()||this.getInteracting()||i,d=this.constraints_.rotation(this.targetRotation_,l),x=this.getViewportSize_(d),O=this.constraints_.resolution(this.targetResolution_,0,x,l),b=this.constraints_.center(this.targetCenter_,O,x,l,this.calculateCenterShift(this.targetCenter_,O,d,x));this.get(I.ROTATION)!==d&&this.set(I.ROTATION,d),this.get(I.RESOLUTION)!==O&&(this.set(I.RESOLUTION,O),this.set("zoom",this.getZoom(),!0)),(!b||!this.get(I.CENTER)||!(0,m.aI)(this.get(I.CENTER),b))&&this.set(I.CENTER,b),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(n,i,l){n=n!==void 0?n:200;const d=i||0,x=this.constraints_.rotation(this.targetRotation_),O=this.getViewportSize_(x),b=this.constraints_.resolution(this.targetResolution_,d,O),M=this.constraints_.center(this.targetCenter_,b,O,!1,this.calculateCenterShift(this.targetCenter_,b,x,O));if(n===0&&!this.cancelAnchor_){this.targetResolution_=b,this.targetRotation_=x,this.targetCenter_=M,this.applyTargetState_();return}l=l||(n===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==b||this.getRotation()!==x||!this.getCenterInternal()||!(0,m.aI)(this.getCenterInternal(),M))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:x,center:M,resolution:b,duration:n,easing:R.vT,anchor:l}))}beginInteraction(){this.resolveConstraints(0),this.setHint(g.A.INTERACTING,1)}endInteraction(n,i,l){l=l&&(0,y.Ad)(l,this.getProjection()),this.endInteractionInternal(n,i,l)}endInteractionInternal(n,i,l){this.getInteracting()&&(this.setHint(g.A.INTERACTING,-1),this.resolveConstraints(n,i,l))}getConstrainedCenter(n,i){const l=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,i||this.getResolution(),l)}getConstrainedZoom(n,i){const l=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(l,i))}getConstrainedResolution(n,i){i=i||0;const l=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,l)}}function F(_,n){setTimeout(function(){_(n)},0)}function Z(_){if(_.extent!==void 0){const i=_.smoothExtentConstraint!==void 0?_.smoothExtentConstraint:!0;return h(_.extent,_.constrainOnlyCenter,i)}const n=(0,y.Av)(_.projection,"EPSG:3857");if(_.multiWorld!==!0&&n.isGlobal()){const i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,h(i,!1,!1)}return E}function W(_){let n,i,l,O=_.minZoom!==void 0?_.minZoom:q,b=_.maxZoom!==void 0?_.maxZoom:28;const M=_.zoomFactor!==void 0?_.zoomFactor:2,V=_.multiWorld!==void 0?_.multiWorld:!1,L=_.smoothResolutionConstraint!==void 0?_.smoothResolutionConstraint:!0,U=_.showFullExtent!==void 0?_.showFullExtent:!1,B=(0,y.Av)(_.projection,"EPSG:3857"),G=B.getExtent();let z=_.constrainOnlyCenter,Y=_.extent;if(!V&&!Y&&B.isGlobal()&&(z=!1,Y=G),_.resolutions!==void 0){const tt=_.resolutions;i=tt[O],l=tt[b]!==void 0?tt[b]:tt[tt.length-1],_.constrainResolution?n=X(tt,L,!z&&Y,U):n=S(i,l,L,!z&&Y,U)}else{const st=(G?Math.max((0,u.RG)(G),(0,u.Oq)(G)):360*y.Ig.degrees/B.getMetersPerUnit())/j.R/Math.pow(2,q),lt=st/Math.pow(2,28-q);i=_.maxResolution,i!==void 0?O=0:i=st/Math.pow(M,O),l=_.minResolution,l===void 0&&(_.maxZoom!==void 0?_.maxResolution!==void 0?l=i/Math.pow(M,b):l=st/Math.pow(M,b):l=lt),b=O+Math.floor(Math.log(i/l)/Math.log(M)),l=i/Math.pow(M,b-O),_.constrainResolution?n=D(M,i,l,L,!z&&Y,U):n=S(i,l,L,!z&&Y,U)}return{constraint:n,maxResolution:i,minResolution:l,minZoom:O,zoomFactor:M}}function $(_){if(_.enableRotation!==void 0?_.enableRotation:!0){const i=_.constrainRotation;return i===void 0||i===!0?(0,H.cq)():i===!1?H.dv:typeof i=="number"?(0,H.a$)(i):H.dv}return H.b8}function ot(_){return!(_.sourceCenter&&_.targetCenter&&!(0,m.aI)(_.sourceCenter,_.targetCenter)||_.sourceResolution!==_.targetResolution||_.sourceRotation!==_.targetRotation)}function it(_,n,i,l,d){const x=Math.cos(-d);let O=Math.sin(-d),b=_[0]*x-_[1]*O,M=_[1]*x+_[0]*O;b+=(n[0]/2-i[0])*l,M+=(i[1]-n[1]/2)*l,O=-O;const V=b*x-M*O,L=M*x+b*O;return[V,L]}const dt=at},62703:(k,K,r)=>{r.d(K,{A:()=>A});const A={ANIMATING:0,INTERACTING:1}},89352:(k,K,r)=>{r.d(K,{_j:()=>p,dI:()=>E,oJ:()=>y});var A=r(90588),g=r(61597);const I=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,j=/^([a-z]*)$|^hsla?\(.*\)$/i;function y(c){return typeof c=="string"?c:E(c)}function P(c){const C=document.createElement("div");if(C.style.color=c,C.style.color!==""){document.body.appendChild(C);const w=getComputedStyle(C).color;return document.body.removeChild(C),w}return""}const m=function(){const C={};let w=0;return function(X){let D;if(C.hasOwnProperty(X))D=C[X];else{if(w>=1024){let S=0;for(const H in C)S++&3||(delete C[H],--w)}D=s(X),C[X]=D,++w}return D}}();function p(c){return Array.isArray(c)?c:m(c)}function s(c){let C,w,X,D,S;if(j.exec(c)&&(c=P(c)),I.exec(c)){const H=c.length-1;let R;H<=4?R=1:R=2;const J=H===4||H===8;C=parseInt(c.substr(1+0*R,R),16),w=parseInt(c.substr(1+1*R,R),16),X=parseInt(c.substr(1+2*R,R),16),J?D=parseInt(c.substr(1+3*R,R),16):D=255,R==1&&(C=(C<<4)+C,w=(w<<4)+w,X=(X<<4)+X,J&&(D=(D<<4)+D)),S=[C,w,X,D/255]}else c.startsWith("rgba(")?(S=c.slice(5,-1).split(",").map(Number),h(S)):c.startsWith("rgb(")?(S=c.slice(4,-1).split(",").map(Number),S.push(1),h(S)):(0,A.v)(!1,14);return S}function h(c){return c[0]=(0,g.qE)(c[0]+.5|0,0,255),c[1]=(0,g.qE)(c[1]+.5|0,0,255),c[2]=(0,g.qE)(c[2]+.5|0,0,255),c[3]=(0,g.qE)(c[3],0,1),c}function E(c){let C=c[0];C!=(C|0)&&(C=C+.5|0);let w=c[1];w!=(w|0)&&(w=w+.5|0);let X=c[2];X!=(X|0)&&(X=X+.5|0);const D=c[3]===void 0?1:Math.round(c[3]*100)/100;return"rgba("+C+","+w+","+X+","+D+")"}function u(c){return j.test(c)&&(c=P(c)),I.test(c)||c.startsWith("rgba(")||c.startsWith("rgb(")}},57456:(k,K,r)=>{r.d(K,{A:()=>m});var A=r(10972),g=r(6837),I=r(25176),j=r(66514),y=r(68711);class P extends A.A{constructor(s){s=s||{},super({element:document.createElement("div"),render:s.render,target:s.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=s.collapsed!==void 0?s.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=s.collapsible!==void 0,this.collapsible_=s.collapsible!==void 0?s.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const h=s.className!==void 0?s.className:"ol-attribution",E=s.tipLabel!==void 0?s.tipLabel:"Attributions",u=s.expandClassName!==void 0?s.expandClassName:h+"-expand",c=s.collapseLabel!==void 0?s.collapseLabel:"\u203A",C=s.collapseClassName!==void 0?s.collapseClassName:h+"-collapse";typeof c=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=c,this.collapseLabel_.className=C):this.collapseLabel_=c;const w=s.label!==void 0?s.label:"i";typeof w=="string"?(this.label_=document.createElement("span"),this.label_.textContent=w,this.label_.className=u):this.label_=w;const X=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=E,this.toggleButton_.appendChild(X),this.toggleButton_.addEventListener(g.A.CLICK,this.handleClick_.bind(this),!1);const D=h+" "+I.XI+" "+I.$N+(this.collapsed_&&this.collapsible_?" "+I.nT:"")+(this.collapsible_?"":" ol-uncollapsible"),S=this.element;S.className=D,S.appendChild(this.toggleButton_),S.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(s){const h=Array.from(new Set(this.getMap().getAllLayers().flatMap(u=>u.getAttributions(s)))),E=!this.getMap().getAllLayers().some(u=>u.getSource()&&u.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(E),h}updateElement_(s){if(!s){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const h=this.collectSourceAttributions_(s),E=h.length>0;if(this.renderedVisible_!=E&&(this.element.style.display=E?"":"none",this.renderedVisible_=E),!(0,j.aI)(h,this.renderedAttributions_)){(0,y.gS)(this.ulElement_);for(let u=0,c=h.length;u<c;++u){const C=document.createElement("li");C.innerHTML=h[u],this.ulElement_.appendChild(C)}this.renderedAttributions_=h}}handleClick_(s){s.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(I.nT),this.collapsed_?(0,y.fo)(this.collapseLabel_,this.label_):(0,y.fo)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(s){this.collapsible_!==s&&(this.collapsible_=s,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(s){this.userCollapsed_=s,!(!this.collapsible_||this.collapsed_===s)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(s){this.updateElement_(s.frameState)}}const m=P},10972:(k,K,r)=>{r.d(K,{A:()=>m});var A=r(34120),g=r(82585),I=r(74238),j=r(9438),y=r(68711);class P extends A.A{constructor(s){super();const h=s.element;h&&!s.target&&!h.style.pointerEvents&&(h.style.pointerEvents="auto"),this.element=h||null,this.target_=null,this.map_=null,this.listenerKeys=[],s.render&&(this.render=s.render),s.target&&this.setTarget(s.target)}disposeInternal(){(0,y.bf)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(s){this.map_&&(0,y.bf)(this.element);for(let h=0,E=this.listenerKeys.length;h<E;++h)(0,j.JH)(this.listenerKeys[h]);this.listenerKeys.length=0,this.map_=s,s&&((this.target_?this.target_:s.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==I.tV&&this.listenerKeys.push((0,j.KT)(s,g.A.POSTRENDER,this.render,this)),s.render())}render(s){}setTarget(s){this.target_=typeof s=="string"?document.getElementById(s):s}}const m=P},69186:(k,K,r)=>{r.d(K,{A:()=>P});var A=r(10972),g=r(6837),I=r(25176),j=r(93474);class y extends A.A{constructor(p){p=p||{},super({element:document.createElement("div"),target:p.target});const s=p.className!==void 0?p.className:"ol-zoom",h=p.delta!==void 0?p.delta:1,E=p.zoomInClassName!==void 0?p.zoomInClassName:s+"-in",u=p.zoomOutClassName!==void 0?p.zoomOutClassName:s+"-out",c=p.zoomInLabel!==void 0?p.zoomInLabel:"+",C=p.zoomOutLabel!==void 0?p.zoomOutLabel:"\u2013",w=p.zoomInTipLabel!==void 0?p.zoomInTipLabel:"Zoom in",X=p.zoomOutTipLabel!==void 0?p.zoomOutTipLabel:"Zoom out",D=document.createElement("button");D.className=E,D.setAttribute("type","button"),D.title=w,D.appendChild(typeof c=="string"?document.createTextNode(c):c),D.addEventListener(g.A.CLICK,this.handleClick_.bind(this,h),!1);const S=document.createElement("button");S.className=u,S.setAttribute("type","button"),S.title=X,S.appendChild(typeof C=="string"?document.createTextNode(C):C),S.addEventListener(g.A.CLICK,this.handleClick_.bind(this,-h),!1);const H=s+" "+I.XI+" "+I.$N,R=this.element;R.className=H,R.appendChild(D),R.appendChild(S),this.duration_=p.duration!==void 0?p.duration:250}handleClick_(p,s){s.preventDefault(),this.zoomByDelta_(p)}zoomByDelta_(p){const h=this.getMap().getView();if(!h)return;const E=h.getZoom();if(E!==void 0){const u=h.getConstrainedZoom(E+p);this.duration_>0?(h.getAnimating()&&h.cancelAnimations(),h.animate({zoom:u,duration:this.duration_,easing:j.vT})):h.setZoom(u)}}}const P=y},25176:(k,K,r)=>{r.d(K,{$N:()=>y,K5:()=>s,Si:()=>A,XI:()=>I,nT:()=>P});const A="ol-hidden",g="ol-selectable",I="ol-unselectable",j="ol-unsupported",y="ol-control",P="ol-collapsed",m=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),p=["style","variant","weight","size","lineHeight","family"],s=function(h){const E=h.match(m);if(!E)return null;const u={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let c=0,C=p.length;c<C;++c){const w=E[c+1];w!==void 0&&(u[p[c]]=w)}return u.families=u.family.split(/,\s?/),u}},68711:(k,K,r)=>{r.d(K,{WM:()=>s,Y:()=>g,Yg:()=>I,bf:()=>m,fo:()=>P,gS:()=>p});var A=r(7771);function g(h,E,u,c){let C;return u&&u.length?C=u.shift():A.Wl?C=new OffscreenCanvas(h||300,E||300):C=document.createElement("canvas"),h&&(C.width=h),E&&(C.height=E),C.getContext("2d",c)}function I(h){const E=h.canvas;E.width=1,E.height=1,h.clearRect(0,0,1,1)}function j(h){let E=h.offsetWidth;const u=getComputedStyle(h);return E+=parseInt(u.marginLeft,10)+parseInt(u.marginRight,10),E}function y(h){let E=h.offsetHeight;const u=getComputedStyle(h);return E+=parseInt(u.marginTop,10)+parseInt(u.marginBottom,10),E}function P(h,E){const u=E.parentNode;u&&u.replaceChild(h,E)}function m(h){return h&&h.parentNode?h.parentNode.removeChild(h):null}function p(h){for(;h.lastChild;)h.removeChild(h.lastChild)}function s(h,E){const u=h.childNodes;for(let c=0;;++c){const C=u[c],w=E[c];if(!C&&!w)break;if(C!==w){if(!C){h.appendChild(w);continue}if(!w){h.removeChild(C),--c;continue}h.insertBefore(w,C)}}}},93474:(k,K,r)=>{r.d(K,{T9:()=>I,a6:()=>A,sn:()=>j,vT:()=>g});function A(P){return Math.pow(P,3)}function g(P){return 1-A(1-P)}function I(P){return 3*P*P-2*P*P*P}function j(P){return P}function y(P){return P<.5?I(2*P):1-I(2*(P-.5))}},58704:(k,K,r)=>{r.d(K,{A4:()=>J,Gk:()=>h,IO:()=>m,Js:()=>P,Kg:()=>H,Q7:()=>y,TS:()=>D,Zm:()=>c,at:()=>u,eL:()=>s,fs:()=>F,t5:()=>w,tE:()=>R});var A=r(73445),g=r(74238),I=r(7771),j=r(90588);function y(Z){const W=arguments;return function($){let ot=!0;for(let it=0,dt=W.length;it<dt&&(ot=ot&&W[it]($),!!ot);++it);return ot}}const P=function(Z){const W=Z.originalEvent;return W.altKey&&!(W.metaKey||W.ctrlKey)&&!W.shiftKey},m=function(Z){const W=Z.originalEvent;return W.altKey&&!(W.metaKey||W.ctrlKey)&&W.shiftKey},p=function(Z){const W=Z.map.getTargetElement(),$=Z.map.getOwnerDocument().activeElement;return W.contains($)},s=function(Z){return Z.map.getTargetElement().hasAttribute("tabindex")?p(Z):!0},h=g.rT,E=function(Z){return Z.type==MapBrowserEventType.CLICK},u=function(Z){const W=Z.originalEvent;return W.button==0&&!(I.j&&I.ew&&W.ctrlKey)},c=g.W8,C=function(Z){return Z.type=="pointermove"},w=function(Z){return Z.type==A.A.SINGLECLICK},X=function(Z){return Z.type==MapBrowserEventType.DBLCLICK},D=function(Z){const W=Z.originalEvent;return!W.altKey&&!(W.metaKey||W.ctrlKey)&&!W.shiftKey},S=function(Z){const W=Z.originalEvent;return!W.altKey&&(MAC?W.metaKey:W.ctrlKey)&&!W.shiftKey},H=function(Z){const W=Z.originalEvent;return!W.altKey&&!(W.metaKey||W.ctrlKey)&&W.shiftKey},R=function(Z){const W=Z.originalEvent,$=W.target.tagName;return $!=="INPUT"&&$!=="SELECT"&&$!=="TEXTAREA"&&!W.target.isContentEditable},J=function(Z){const W=Z.originalEvent;return(0,j.v)(W!==void 0,56),W.pointerType=="mouse"},q=function(Z){const W=Z.originalEvent;return assert(W!==void 0,56),W.pointerType==="touch"},at=function(Z){const W=Z.originalEvent;return assert(W!==void 0,56),W.pointerType==="pen"},F=function(Z){const W=Z.originalEvent;return(0,j.v)(W!==void 0,56),W.isPrimary&&W.button===0}},6292:(k,K,r)=>{r.d(K,{Ay:()=>m,D2:()=>P,e4:()=>y});var A=r(34120),g=r(82187),I=r(93474);class j extends A.A{constructor(s){super(),this.on,this.once,this.un,s&&s.handleEvent&&(this.handleEvent=s.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(g.A.ACTIVE)}getMap(){return this.map_}handleEvent(s){return!0}setActive(s){this.set(g.A.ACTIVE,s)}setMap(s){this.map_=s}}function y(p,s,h){const E=p.getCenterInternal();if(E){const u=[E[0]+s[0],E[1]+s[1]];p.animateInternal({duration:h!==void 0?h:250,easing:I.sn,center:p.getConstrainedCenter(u)})}}function P(p,s,h,E){const u=p.getZoom();if(u===void 0)return;const c=p.getConstrainedZoom(u+s),C=p.getResolutionForZoom(c);p.getAnimating()&&p.cancelAnimations(),p.animate({resolution:C,anchor:h,duration:E!==void 0?E:250,easing:I.vT})}const m=j},88751:(k,K,r)=>{r.d(K,{A:()=>m});var A=r(6837),g=r(6292),I=r(7771),j=r(58704),y=r(61597);class P extends g.Ay{constructor(s){s=s||{},super(s),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=s.maxDelta!==void 0?s.maxDelta:1,this.duration_=s.duration!==void 0?s.duration:250,this.timeout_=s.timeout!==void 0?s.timeout:80,this.useAnchor_=s.useAnchor!==void 0?s.useAnchor:!0,this.constrainResolution_=s.constrainResolution!==void 0?s.constrainResolution:!1;const h=s.condition?s.condition:j.Gk;this.condition_=s.onFocusOnly?(0,j.Q7)(j.eL,h):h,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const s=this.getMap();if(!s)return;s.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(s){if(!this.condition_(s)||s.type!==A.A.WHEEL)return!0;const E=s.map,u=s.originalEvent;u.preventDefault(),this.useAnchor_&&(this.lastAnchor_=s.coordinate);let c;if(s.type==A.A.WHEEL&&(c=u.deltaY,I._p&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(c/=I.cr),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(c*=40)),c===0)return!1;this.lastDelta_=c;const C=Date.now();this.startTime_===void 0&&(this.startTime_=C),(!this.mode_||C-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(c)<4?"trackpad":"wheel");const w=E.getView();if(this.mode_==="trackpad"&&!(w.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(w.getAnimating()&&w.cancelAnimations(),w.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),w.adjustZoom(-c/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=C,!1;this.totalDelta_+=c;const X=Math.max(this.timeout_-(C-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,E),X),!1}handleWheelZoom_(s){const h=s.getView();h.getAnimating()&&h.cancelAnimations();let E=-(0,y.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(h.getConstrainResolution()||this.constrainResolution_)&&(E=E?E>0?1:-1:0),(0,g.D2)(h,E,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(s){this.useAnchor_=s,s||(this.lastAnchor_=null)}}const m=P},21409:(k,K,r)=>{r.d(K,{A:()=>y,v:()=>j});var A=r(6292),g=r(73445);class I extends A.Ay{constructor(m){m=m||{},super(m),m.handleDownEvent&&(this.handleDownEvent=m.handleDownEvent),m.handleDragEvent&&(this.handleDragEvent=m.handleDragEvent),m.handleMoveEvent&&(this.handleMoveEvent=m.handleMoveEvent),m.handleUpEvent&&(this.handleUpEvent=m.handleUpEvent),m.stopDown&&(this.stopDown=m.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(m){return!1}handleDragEvent(m){}handleEvent(m){if(!m.originalEvent)return!0;let p=!1;if(this.updateTrackedPointers_(m),this.handlingDownUpSequence){if(m.type==g.A.POINTERDRAG)this.handleDragEvent(m),m.originalEvent.preventDefault();else if(m.type==g.A.POINTERUP){const s=this.handleUpEvent(m);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(m.type==g.A.POINTERDOWN){const s=this.handleDownEvent(m);this.handlingDownUpSequence=s,p=this.stopDown(s)}else m.type==g.A.POINTERMOVE&&this.handleMoveEvent(m);return!p}handleMoveEvent(m){}handleUpEvent(m){return!1}stopDown(m){return m}updateTrackedPointers_(m){m.activePointers&&(this.targetPointers=m.activePointers)}}function j(P){const m=P.length;let p=0,s=0;for(let h=0;h<m;h++)p+=P[h].clientX,s+=P[h].clientY;return{clientX:p/m,clientY:s/m}}const y=I},82187:(k,K,r)=>{r.d(K,{A:()=>A});const A={ACTIVE:"active"}},58620:(k,K,r)=>{r.d(K,{A:()=>m});var A=r(34120),g=r(75332),I=r(4087),j=r(90588),y=r(61597);class P extends A.A{constructor(s){super(),this.on,this.once,this.un,this.background_=s.background;const h=Object.assign({},s);typeof s.properties=="object"&&(delete h.properties,Object.assign(h,s.properties)),h[g.A.OPACITY]=s.opacity!==void 0?s.opacity:1,(0,j.v)(typeof h[g.A.OPACITY]=="number",64),h[g.A.VISIBLE]=s.visible!==void 0?s.visible:!0,h[g.A.Z_INDEX]=s.zIndex,h[g.A.MAX_RESOLUTION]=s.maxResolution!==void 0?s.maxResolution:1/0,h[g.A.MIN_RESOLUTION]=s.minResolution!==void 0?s.minResolution:0,h[g.A.MIN_ZOOM]=s.minZoom!==void 0?s.minZoom:-1/0,h[g.A.MAX_ZOOM]=s.maxZoom!==void 0?s.maxZoom:1/0,this.className_=h.className!==void 0?h.className:"ol-layer",delete h.className,this.setProperties(h),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(s){const h=this.state_||{layer:this,managed:s===void 0?!0:s},E=this.getZIndex();return h.opacity=(0,y.qE)(Math.round(this.getOpacity()*100)/100,0,1),h.visible=this.getVisible(),h.extent=this.getExtent(),h.zIndex=E===void 0&&!h.managed?1/0:E,h.maxResolution=this.getMaxResolution(),h.minResolution=Math.max(this.getMinResolution(),0),h.minZoom=this.getMinZoom(),h.maxZoom=this.getMaxZoom(),this.state_=h,h}getLayersArray(s){return(0,I.b0)()}getLayerStatesArray(s){return(0,I.b0)()}getExtent(){return this.get(g.A.EXTENT)}getMaxResolution(){return this.get(g.A.MAX_RESOLUTION)}getMinResolution(){return this.get(g.A.MIN_RESOLUTION)}getMinZoom(){return this.get(g.A.MIN_ZOOM)}getMaxZoom(){return this.get(g.A.MAX_ZOOM)}getOpacity(){return this.get(g.A.OPACITY)}getSourceState(){return(0,I.b0)()}getVisible(){return this.get(g.A.VISIBLE)}getZIndex(){return this.get(g.A.Z_INDEX)}setBackground(s){this.background_=s,this.changed()}setExtent(s){this.set(g.A.EXTENT,s)}setMaxResolution(s){this.set(g.A.MAX_RESOLUTION,s)}setMinResolution(s){this.set(g.A.MIN_RESOLUTION,s)}setMaxZoom(s){this.set(g.A.MAX_ZOOM,s)}setMinZoom(s){this.set(g.A.MIN_ZOOM,s)}setOpacity(s){(0,j.v)(typeof s=="number",64),this.set(g.A.OPACITY,s)}setVisible(s){this.set(g.A.VISIBLE,s)}setZIndex(s){this.set(g.A.Z_INDEX,s)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const m=P},35598:(k,K,r)=>{r.d(K,{A:()=>w,i:()=>u});var A=r(58620),g=r(50071),I=r(32135),j=r(1685),y=r(6837),P=r(28450),m=r(90588),p=r(43530),s=r(70915),h=r(4087),E=r(9438);class u extends j.Ay{constructor(D,S){super(D),this.layer=S}}const c={LAYERS:"layers"};class C extends A.A{constructor(D){D=D||{};const S=Object.assign({},D);delete S.layers;let H=D.layers;super(S),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(c.LAYERS,this.handleLayersChanged_),H?Array.isArray(H)?H=new g.A(H.slice(),{unique:!0}):(0,m.v)(typeof H.getArray=="function",43):H=new g.A(void 0,{unique:!0}),this.setLayers(H)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(E.JH),this.layersListenerKeys_.length=0;const D=this.getLayers();this.layersListenerKeys_.push((0,E.KT)(D,I.A.ADD,this.handleLayersAdd_,this),(0,E.KT)(D,I.A.REMOVE,this.handleLayersRemove_,this));for(const H in this.listenerKeys_)this.listenerKeys_[H].forEach(E.JH);(0,p.I)(this.listenerKeys_);const S=D.getArray();for(let H=0,R=S.length;H<R;H++){const J=S[H];this.registerLayerListeners_(J),this.dispatchEvent(new u("addlayer",J))}this.changed()}registerLayerListeners_(D){const S=[(0,E.KT)(D,P.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,E.KT)(D,y.A.CHANGE,this.handleLayerChange_,this)];D instanceof C&&S.push((0,E.KT)(D,"addlayer",this.handleLayerGroupAdd_,this),(0,E.KT)(D,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,h.v6)(D)]=S}handleLayerGroupAdd_(D){this.dispatchEvent(new u("addlayer",D.layer))}handleLayerGroupRemove_(D){this.dispatchEvent(new u("removelayer",D.layer))}handleLayersAdd_(D){const S=D.element;this.registerLayerListeners_(S),this.dispatchEvent(new u("addlayer",S)),this.changed()}handleLayersRemove_(D){const S=D.element,H=(0,h.v6)(S);this.listenerKeys_[H].forEach(E.JH),delete this.listenerKeys_[H],this.dispatchEvent(new u("removelayer",S)),this.changed()}getLayers(){return this.get(c.LAYERS)}setLayers(D){const S=this.getLayers();if(S){const H=S.getArray();for(let R=0,J=H.length;R<J;++R)this.dispatchEvent(new u("removelayer",H[R]))}this.set(c.LAYERS,D)}getLayersArray(D){return D=D!==void 0?D:[],this.getLayers().forEach(function(S){S.getLayersArray(D)}),D}getLayerStatesArray(D){const S=D!==void 0?D:[],H=S.length;this.getLayers().forEach(function(q){q.getLayerStatesArray(S)});const R=this.getLayerState();let J=R.zIndex;!D&&R.zIndex===void 0&&(J=0);for(let q=H,at=S.length;q<at;q++){const F=S[q];F.opacity*=R.opacity,F.visible=F.visible&&R.visible,F.maxResolution=Math.min(F.maxResolution,R.maxResolution),F.minResolution=Math.max(F.minResolution,R.minResolution),F.minZoom=Math.max(F.minZoom,R.minZoom),F.maxZoom=Math.min(F.maxZoom,R.maxZoom),R.extent!==void 0&&(F.extent!==void 0?F.extent=(0,s._N)(F.extent,R.extent):F.extent=R.extent),F.zIndex===void 0&&(F.zIndex=J)}return S}getSourceState(){return"ready"}}const w=C},60764:(k,K,r)=>{r.d(K,{A:()=>E,l:()=>h});var A=r(58620),g=r(6837),I=r(75332),j=r(83984),y=r(91765),P=r(90588),m=r(70915),p=r(9438);class s extends A.A{constructor(c){const C=Object.assign({},c);delete C.source,super(C),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,c.render&&(this.render=c.render),c.map&&this.setMap(c.map),this.addChangeListener(I.A.SOURCE,this.handleSourcePropertyChange_);const w=c.source?c.source:null;this.setSource(w)}getLayersArray(c){return c=c||[],c.push(this),c}getLayerStatesArray(c){return c=c||[],c.push(this.getLayerState()),c}getSource(){return this.get(I.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const c=this.getSource();return c?c.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,p.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const c=this.getSource();c&&(this.sourceChangeKey_=(0,p.KT)(c,g.A.CHANGE,this.handleSourceChange_,this),c.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(c){return this.renderer_?this.renderer_.getFeatures(c):Promise.resolve([])}getData(c){return!this.renderer_||!this.rendered?null:this.renderer_.getData(c)}isVisible(c){let C;const w=this.getMapInternal();!c&&w&&(c=w.getView()),c instanceof y.Ay?C={viewState:c.getState(),extent:c.calculateExtent()}:C=c,!C.layerStatesArray&&w&&(C.layerStatesArray=w.getLayerGroup().getLayerStatesArray());let X;C.layerStatesArray?X=C.layerStatesArray.find(S=>S.layer===this):X=this.getLayerState();const D=this.getExtent();return h(X,C.viewState)&&(!D||(0,m.HY)(D,C.extent))}getAttributions(c){if(!this.isVisible(c))return[];let C;const w=this.getSource();if(w&&(C=w.getAttributions()),!C)return[];const X=c instanceof y.Ay?c.getViewStateAndExtent():c;let D=C(X);return Array.isArray(D)||(D=[D]),D}render(c,C){const w=this.getRenderer();return w.prepareFrame(c)?(this.rendered=!0,w.renderFrame(c,C)):null}unrender(){this.rendered=!1}setMapInternal(c){c||this.unrender(),this.set(I.A.MAP,c)}getMapInternal(){return this.get(I.A.MAP)}setMap(c){this.mapPrecomposeKey_&&((0,p.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),c||this.changed(),this.mapRenderKey_&&((0,p.JH)(this.mapRenderKey_),this.mapRenderKey_=null),c&&(this.mapPrecomposeKey_=(0,p.KT)(c,j.A.PRECOMPOSE,function(C){const X=C.frameState.layerStatesArray,D=this.getLayerState(!1);(0,P.v)(!X.some(function(S){return S.layer===D.layer}),67),X.push(D)},this),this.mapRenderKey_=(0,p.KT)(this,g.A.CHANGE,c.render,c),this.changed())}setSource(c){this.set(I.A.SOURCE,c)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function h(u,c){if(!u.visible)return!1;const C=c.resolution;if(C<u.minResolution||C>=u.maxResolution)return!1;const w=c.zoom;return w>u.minZoom&&w<=u.maxZoom}const E=s},75332:(k,K,r)=>{r.d(K,{A:()=>A});const A={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},9960:(k,K,r)=>{r.d(K,{A:()=>I});var A=r(1685);class g extends A.Ay{constructor(y,P,m,p){super(y),this.inversePixelTransform=P,this.frameState=m,this.context=p}}const I=g},83984:(k,K,r)=>{r.d(K,{A:()=>A});const A={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},38774:(k,K,r)=>{r.d(K,{Jw:()=>it,M8:()=>w,MY:()=>C,NT:()=>c,Oq:()=>s,TA:()=>W,Tq:()=>X,ZV:()=>P,_K:()=>E,_m:()=>p,aq:()=>D,eL:()=>u,fZ:()=>q,jT:()=>$,qY:()=>m,vk:()=>h,yY:()=>S});var A=r(34120),g=r(7771),I=r(43530),j=r(68711),y=r(25176);const P="10px sans-serif",m="#000",p="round",s=[],h=0,E="round",u=10,c="#000",C="center",w="middle",X=[0,0,0,0],D=1,S=new A.A;let H=null,R;const J={},q=function(){const n="32px ",i=["monospace","serif"],l=i.length,d="wmytzilWMYTZIL@#/&?$%10\uF013";let x,O;function b(V,L,U){let B=!0;for(let G=0;G<l;++G){const z=i[G];if(O=Z(V+" "+L+" "+n+z,d),U!=z){const Y=Z(V+" "+L+" "+n+U+","+z,d);B=B&&Y!=O}}return!!B}function M(){let V=!0;const L=S.getKeys();for(let U=0,B=L.length;U<B;++U){const G=L[U];S.get(G)<100&&(b.apply(this,G.split(`
`))?((0,I.I)(J),H=null,R=void 0,S.set(G,100)):(S.set(G,S.get(G)+1,!0),V=!1))}V&&(clearInterval(x),x=void 0)}return function(V){const L=(0,y.K5)(V);if(!L)return;const U=L.families;for(let B=0,G=U.length;B<G;++B){const z=U[B],Y=L.style+`
`+L.weight+`
`+z;S.get(Y)===void 0&&(S.set(Y,100,!0),b(L.style,L.weight,z)||(S.set(Y,0,!0),x===void 0&&(x=setInterval(M,32))))}}}(),at=function(){let _;return function(n){let i=J[n];if(i==null){if(g.Wl){const l=(0,y.K5)(n),d=F(n,"\u017Dg");i=(isNaN(Number(l.lineHeight))?1.2:Number(l.lineHeight))*(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)}else _||(_=document.createElement("div"),_.innerHTML="M",_.style.minHeight="0",_.style.maxHeight="none",_.style.height="auto",_.style.padding="0",_.style.border="none",_.style.position="absolute",_.style.display="block",_.style.left="-99999px"),_.style.font=n,document.body.appendChild(_),i=_.offsetHeight,document.body.removeChild(_);J[n]=i}return i}}();function F(_,n){return H||(H=(0,j.Y)(1,1)),_!=R&&(H.font=_,R=H.font),H.measureText(n)}function Z(_,n){return F(_,n).width}function W(_,n,i){if(n in i)return i[n];const l=n.split(`
`).reduce((d,x)=>Math.max(d,Z(_,x)),0);return i[n]=l,l}function $(_,n){const i=[],l=[],d=[];let x=0,O=0,b=0,M=0;for(let V=0,L=n.length;V<=L;V+=2){const U=n[V];if(U===`
`||V===L){x=Math.max(x,O),d.push(O),O=0,b+=M;continue}const B=n[V+1]||_.font,G=Z(B,U);i.push(G),O+=G;const z=at(B);l.push(z),M=Math.max(M,z)}return{width:x,height:b,widths:i,heights:l,lineWidths:d}}function ot(_,n,i,l){n!==0&&(_.translate(i,l),_.rotate(n),_.translate(-i,-l))}function it(_,n,i,l,d,x,O,b,M,V,L){_.save(),i!==1&&(_.globalAlpha*=i),n&&_.setTransform.apply(_,n),l.contextInstructions?(_.translate(M,V),_.scale(L[0],L[1]),dt(l,_)):L[0]<0||L[1]<0?(_.translate(M,V),_.scale(L[0],L[1]),_.drawImage(l,d,x,O,b,0,0,O,b)):_.drawImage(l,d,x,O,b,M,V,O*L[0],b*L[1]),_.restore()}function dt(_,n){const i=_.contextInstructions;for(let l=0,d=i.length;l<d;l+=2)Array.isArray(i[l+1])?n[i[l]].apply(n,i[l+1]):n[i[l]]=i[l+1]}},24498:(k,K,r)=>{r.d(K,{a$:()=>j,b8:()=>g,cq:()=>y,dv:()=>I});var A=r(61597);function g(P){if(P!==void 0)return 0}function I(P){if(P!==void 0)return P}function j(P){const m=2*Math.PI/P;return function(p,s){if(s)return p;if(p!==void 0)return p=Math.floor(p/m+.5)*m,p}}function y(P){return P=P||(0,A.eh)(5),function(m,p){if(p)return m;if(m!==void 0)return Math.abs(m)<=P?0:m}}},6782:(k,K,r)=>{r.d(K,{Ie:()=>g,hs:()=>I,xq:()=>j});function A(y,P,m){return m===void 0&&(m=[0,0]),m[0]=y[0]+2*P,m[1]=y[1]+2*P,m}function g(y){return y[0]>0&&y[1]>0}function I(y,P,m){return m===void 0&&(m=[0,0]),m[0]=y[0]*P+.5|0,m[1]=y[1]*P+.5|0,m}function j(y,P){return Array.isArray(y)?y:(P===void 0?P=[y,y]:(P[0]=y,P[1]=y),P)}},4622:(k,K,r)=>{r.d(K,{u:()=>y});var A=r(89352);class g{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let m=0;for(const p in this.cache_){const s=this.cache_[p];!(m++&3)&&!s.hasListener()&&(delete this.cache_[p],--this.cacheSize_)}}}get(m,p,s){const h=I(m,p,s);return h in this.cache_?this.cache_[h]:null}set(m,p,s,h){const E=I(m,p,s);this.cache_[E]=h,++this.cacheSize_}setSize(m){this.maxCacheSize_=m,this.expire()}}function I(P,m,p){const s=p?(0,A.oJ)(p):"null";return m+":"+P+":"+s}var j=null;const y=new g},57115:(k,K,r)=>{r.d(K,{L:()=>A,R:()=>g});const A=42,g=256}}]);

//# sourceMappingURL=4007.cfd25ba5558e3595af64.js.map