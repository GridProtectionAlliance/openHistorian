"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[5331],{24300:(q,k,N)=>{N.d(k,{et:()=>P,fy:()=>F,nO:()=>b,np:()=>w});var v=N(38685),o=N(5367),I=N(14582);function P(p){return p.sort((l,g)=>l[0]-g[0]),p.reduce((l,g)=>{if(!l.length)return[g];const D=l.slice(-1)[0],[U,R]=D,[M,O]=g;return O<R?l:M>R?[...l,g]:[...l.slice(0,-1),[U,O]]},[]).reduce((l,g)=>l+(g[1]-g[0]),0)}function b(p){const i={};let l;for(let g=0;l=p(g),!!l;g++){i[l.id]?i[l.id].span=l.span:i[l.id]={span:l.span,children:[]};for(const D of l.parentIds)D&&(i[D]?i[D].children.push(l.id):i[D]={span:void 0,children:[l.id]})}return i}function F(p,i,l){return{main:`${C(p)}ms (${C(p/i*100)}%)`,secondary:`${C(l)}ms (${C(l/p*100)}%)`}}function C(p){return parseFloat(p.toFixed(2))}function w(){const p=new v.v({fields:[{name:o.z.id,type:I.fS.string},{name:o.z.title,type:I.fS.string},{name:o.z.subTitle,type:I.fS.string},{name:o.z.mainStat,type:I.fS.string,config:{displayName:"Total time (% of trace)"}},{name:o.z.secondaryStat,type:I.fS.string,config:{displayName:"Self time (% of total)"}},{name:o.z.color,type:I.fS.number,config:{color:{mode:"continuous-GrYlRd"},displayName:"Self time / Trace duration"}}],meta:{preferredVisualisationType:"nodeGraph"}}),i=new v.v({fields:[{name:o.z.id,type:I.fS.string},{name:o.z.target,type:I.fS.string},{name:o.z.source,type:I.fS.string}],meta:{preferredVisualisationType:"nodeGraph"}});return[p,i]}},69407:(q,k,N)=>{N.d(k,{$C:()=>U,BC:()=>x,M7:()=>F,NZ:()=>g,T1:()=>M,Yt:()=>i,rB:()=>D,t3:()=>O,vO:()=>R,yf:()=>l});var v=N(50235),o=N(5367),I=N(38685),P=N(66926),b=N(24300);function F(S){const{nodes:d,edges:f}=C(S),[u,m]=(0,b.np)();for(const T of d)u.add(T);for(const T of f)m.add(T);return[u,m]}function C(S){const d=[],f=[],u=new v.U(S),m=w(u),T=(0,b.nO)(E=>{if(E>=S.length)return;const s=u.get(E);return{span:{...s},id:s.spanID,parentIds:s.parentSpanID?[s.parentSpanID]:[]}});for(let E=0;E<u.length;E++){const s=u.get(E),h=T[s.spanID].children.map(Y=>{const V=T[Y].span;return[V.startTime,V.startTime+V.duration]}),K=(0,b.et)(h),z=s.duration-K,B=(0,b.fy)(s.duration,m,z);d.push({[o.z.id]:s.spanID,[o.z.title]:s.serviceName??"",[o.z.subTitle]:s.operationName,[o.z.mainStat]:B.main,[o.z.secondaryStat]:B.secondary,[o.z.color]:z/m}),s.parentSpanID&&T[s.parentSpanID].span&&f.push({[o.z.id]:s.parentSpanID+"--"+s.spanID,[o.z.target]:s.spanID,[o.z.source]:s.parentSpanID})}return{nodes:d,edges:f}}function w(S){let d=0,f=1/0;for(let u=0;u<S.length;u++){const m=S.get(u);m.startTime<f&&(f=m.startTime),m.startTime+m.duration>d&&(d=m.startTime+m.duration)}return d-f}const p="traces_service_graph_request_server_seconds_sum",i="traces_service_graph_request_total",l="traces_service_graph_request_failed_total",g="traces_service_graph_request_server_seconds_bucket",D={expr:"topk(5, sum(rate(traces_spanmetrics_calls_total{}[$__range])) by (span_name))",params:[]},U={expr:"topk(5, sum(rate(traces_spanmetrics_calls_total{}[$__range])) by (span_name))",params:['status_code="STATUS_CODE_ERROR"']},R={expr:"histogram_quantile(.9, sum(rate(traces_spanmetrics_latency_bucket{}[$__range])) by (le))",params:[]},M='span_kind="SPAN_KIND_SERVER"',O=[p,i,l,g];function x(S,d){const f=$(S),u={},m={};return L(f[i],"total",i,u,m),L(f[p],"seconds",p,u,m),L(f[l],"failed",l,u,m),H(u,m,d)}function W(){function S(u,m){return new I.v({name:u,fields:m,meta:{preferredVisualisationType:"nodeGraph"}})}const d=S("Nodes",[{name:o.z.id},{name:o.z.title,config:{displayName:"Service name"}},{name:o.z.mainStat,config:{unit:"ms/r",displayName:"Average response time"}},{name:o.z.secondaryStat,config:{unit:"r/sec",displayName:"Requests per second"}},{name:o.z.arc+"success",config:{displayName:"Success",color:{fixedColor:"green",mode:P.S.Fixed}}},{name:o.z.arc+"failed",config:{displayName:"Failed",color:{fixedColor:"red",mode:P.S.Fixed}}}]),f=S("Edges",[{name:o.z.id},{name:o.z.source},{name:o.z.target},{name:o.z.mainStat,config:{unit:"ms/r",displayName:"Average response time"}},{name:o.z.secondaryStat,config:{unit:"r/sec",displayName:"Requests per second"}}]);return[d,f]}function $(S){return S[0].data.reduce((d,f)=>(d[f.refId]=new v.U(f),d),{})}function L(S,d,f,u,m){if(!S)return;const T=`Value #${f}`;for(let E=0;E<S.length;E++){const s=S.get(E),h=`${s.client}_${s.server}`;m[h]?m[h][d]=(m[h][d]||0)+s[T]:m[h]={target:s.server,source:s.client,[d]:s[T]},u[s.server]?u[s.server][d]=(u[s.server][d]||0)+s[T]:u[s.server]={[d]:s[T]},u[s.client]||(u[s.client]={[d]:0})}}function H(S,d,f){const u=f.to.valueOf()-f.from.valueOf(),[m,T]=W();for(const E of Object.keys(S)){const s=S[E];m.add({[o.z.id]:E,[o.z.title]:E,[o.z.mainStat]:s.total?s.seconds/s.total*1e3:Number.NaN,[o.z.secondaryStat]:s.total?Math.round(s.total/(u/1e3)*100)/100:Number.NaN,[o.z.arc+"success"]:s.total?(s.total-Math.min(s.failed||0,s.total))/s.total:1,[o.z.arc+"failed"]:s.total?Math.min(s.failed||0,s.total)/s.total:0})}for(const E of Object.keys(d)){const s=d[E];T.add({[o.z.id]:E,[o.z.source]:s.source,[o.z.target]:s.target,[o.z.mainStat]:s.total?s.seconds/s.total*1e3:Number.NaN,[o.z.secondaryStat]:s.total?Math.round(s.total/(u/1e3)*100)/100:Number.NaN})}return{nodes:m,edges:T}}},45331:(q,k,N)=>{N.d(k,{n4:()=>h,xA:()=>z,IM:()=>H,g9:()=>S,Jk:()=>s,RY:()=>U});var v;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(v||(v={}));var o={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},I={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},P={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},b={EC2:"ec2",FARGATE:"fargate"},F={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},C={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},w={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"},p=N(38685),i=N(14582),l=N(38849),g=N(69407);function D(e,t,a,n){const r=new p.v({fields:[{name:"Time",type:i.fS.time,config:{custom:{width:200}}},{name:"traceID",type:i.fS.string,config:{displayNameFromDS:"Trace ID",custom:{width:180},links:[{title:"Click to open trace ${__value.raw}",url:"",internal:{datasourceUid:t,datasourceName:a,query:{query:"${__value.raw}"}}}]}},{name:"Message",type:i.fS.string}],meta:{preferredVisualisationType:"table"}});if(!e||n.length===0)return r;const c=e.fields.find(_=>_.type===i.fS.time);for(let _ of e.fields){let y=!1;if(_.type===i.fS.string){const A=_.values.toArray();for(let G=0;G<A.length;G++){const j=A[G];if(j)for(let J of n){const Z=j.match(J);if(Z){const X=Z[1],Q=c?c.values.get(G):null;r.fields[0].values.add(Q),r.fields[1].values.add(X),r.fields[2].values.add(j),y=!0}}}}if(y)break}return r}function U(e,t,a,n){return e.data.forEach((r,c)=>{const _=D(r,t,a,n);e.data[c]=_}),e}function R(e){const t=atob(e);let a="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n).toString(16);a+=r.length===2?r:"0"+r}return a.length>16?a.slice(16):a}function M(e){const t=e.match(/\w{2}/g)||[];return btoa(t.map(function(a){return String.fromCharCode(parseInt(a,16))}).join(""))}function O(e){if(e.stringValue)return e.stringValue;if(e.boolValue!==void 0)return Boolean(e.boolValue);if(e.intValue!==void 0)return Number.parseInt(e.intValue,10);if(e.doubleValue)return Number.parseFloat(e.doubleValue);if(e.arrayValue){const t=[];for(const a of e.arrayValue.values)t.push(O(a));return t}return""}function x(e){const t=[];let a="OTLPResourceNoServiceName";if(!e)return{serviceName:a,serviceTags:t};for(const n of e.attributes)n.key===o.SERVICE_NAME&&(a=n.value.stringValue||a),t.push({key:n.key,value:O(n.value)});return{serviceName:a,serviceTags:t}}function W(e,t){const a=[];if(t&&(t.name&&a.push({key:"otel.library.name",value:t.name}),t.version&&a.push({key:"otel.library.version",value:t.version})),e.attributes)for(const n of e.attributes)a.push({key:n.key,value:O(n.value)});if(e.status&&(e.status.code&&e.status.code!==v.UNSET&&(a.push({key:"otel.status_code",value:v[e.status.code]}),e.status.message&&a.push({key:"otel.status_description",value:e.status.message})),e.status.code===v.ERROR&&a.push({key:"error",value:!0})),e.kind!==void 0){const n=e.kind.toString().toLowerCase().split("_");a.push({key:"span.kind",value:n.length?n[n.length-1]:e.kind.toString()})}return a}function $(e){const t=[];if(e.links)for(const a of e.links){const{traceId:n,spanId:r}=a,c=[];if(a.attributes)for(const _ of a.attributes)c.push({key:_.key,value:O(_.value)});t.push({traceID:n,spanID:r,tags:c})}return t}function L(e){const t=[];if(e.events)for(const a of e.events){const n=[];if(a.attributes)for(const r of a.attributes)n.push({key:r.key,value:O(r.value)});t.push({fields:n,timestamp:a.timeUnixNano/1e6})}return t}function H(e,t=!1){const a=new p.v({fields:[{name:"traceID",type:i.fS.string},{name:"spanID",type:i.fS.string},{name:"parentSpanID",type:i.fS.string},{name:"operationName",type:i.fS.string},{name:"serviceName",type:i.fS.string},{name:"serviceTags",type:i.fS.other},{name:"startTime",type:i.fS.number},{name:"duration",type:i.fS.number},{name:"logs",type:i.fS.other},{name:"references",type:i.fS.other},{name:"tags",type:i.fS.other}],meta:{preferredVisualisationType:"trace",custom:{traceFormat:"otlp"}}});try{for(const r of e){const{serviceName:c,serviceTags:_}=x(r.resource);for(const y of r.instrumentationLibrarySpans)for(const A of y.spans)a.add({traceID:R(A.traceId),spanID:R(A.spanId),parentSpanID:R(A.parentSpanId||""),operationName:A.name||"",serviceName:c,serviceTags:_,startTime:A.startTimeUnixNano/1e6,duration:(A.endTimeUnixNano-A.startTimeUnixNano)/1e6,tags:W(A,y.instrumentationLibrary),logs:L(A),references:$(A)})}}catch(r){return console.error(r),{error:{message:"JSON is not valid OpenTelemetry format: "+r},data:[]}}let n=[a];return t&&n.push(...(0,g.M7)(a)),{data:n}}function S(e){let t={batches:[]},a={};for(let n=0;n<e.length;n++){const r=e.get(n);a[r.serviceName]||(a[r.serviceName]=t.batches.length,t.batches.push({resource:{attributes:[],droppedAttributesCount:0},instrumentationLibrarySpans:[{spans:[]}]}));let c=a[r.serviceName];if(t.batches[c].resource.attributes.length===0&&(t.batches[c].resource.attributes=f(r.serviceTags)),!t.batches[c].instrumentationLibrarySpans[0].instrumentationLibrary){let _=r.tags.find(y=>y.key==="otel.library.name")?.value;_&&(t.batches[c].instrumentationLibrarySpans[0].instrumentationLibrary={name:_,version:r.tags.find(y=>y.key==="otel.library.version")?.value})}t.batches[c].instrumentationLibrarySpans[0].spans.push({traceId:M(r.traceID.padStart(32,"0")),spanId:M(r.spanID),traceState:"",parentSpanId:M(r.parentSpanID||""),name:r.operationName,kind:d(r.tags),startTimeUnixNano:r.startTime*1e6,endTimeUnixNano:(r.startTime+r.duration)*1e6,attributes:f(r.tags),droppedAttributesCount:0,droppedEventsCount:0,droppedLinksCount:0,status:m(r.tags),events:T(r.logs),links:E(r.references)})}return t}function d(e){let t;switch(e.find(n=>n.key==="span.kind")?.value){case"server":t="SPAN_KIND_SERVER";break;case"client":t="SPAN_KIND_CLIENT";break;case"producer":t="SPAN_KIND_PRODUCER";break;case"consumer":t="SPAN_KIND_CONSUMER";break}return t}function f(e){return e.filter(t=>!["span.kind","otel.library.name","otel.libary.version","otel.status_description","otel.status_code"].includes(t.key)).reduce((t,a)=>[...t,{key:a.key,value:u(a)}],[])}function u(e){if(typeof e.value=="string")return{stringValue:e.value};if(typeof e.value=="boolean")return{boolValue:e.value};if(typeof e.value=="number")return e.value%1===0?{intValue:e.value}:{doubleValue:e.value};if(typeof e.value=="object"&&Array.isArray(e.value)){const t=[];for(const a of e.value)t.push(u(a));return{arrayValue:{values:t}}}return{stringValue:e.value}}function m(e){let t;const a=e.find(n=>n.key==="otel.status_code");return a&&(t={code:a.value,message:e.find(n=>n.key==="otel_status_description")?.value}),t}function T(e){if(!e||!e.length)return;let t=[];for(const a of e){let n={timeUnixNano:a.timestamp*1e6,attributes:[],droppedAttributesCount:0,name:""};for(const r of a.fields)n.attributes.push({key:r.key,value:u(r)});t.push(n)}return t}function E(e){if(!e||!e.length)return;let t=[];for(const a of e){let n={traceId:a.traceID,spanId:a.spanID,attributes:[],droppedAttributesCount:0};if(a.tags?.length)for(const r of a.tags)n.attributes?.push({key:r.key,value:u(r)});t.push(n)}return t}function s(e,t=!1){const a=e.data[0];if(!a)return V;let n=[...e.data];return t&&n.push(...(0,g.M7)(a)),{...e,data:n}}function h(e,t){const a=new p.v({fields:[{name:"traceID",type:i.fS.string,config:{unit:"string",displayNameFromDS:"Trace ID",links:[{title:"Trace: ${__value.raw}",url:"",internal:{datasourceUid:t.uid,datasourceName:t.name,query:{query:"${__value.raw}",queryType:"traceql"}}}]}},{name:"traceName",type:i.fS.string,config:{displayNameFromDS:"Trace name"}},{name:"startTime",type:i.fS.string,config:{displayNameFromDS:"Start time"}},{name:"traceDuration",type:i.fS.number,config:{displayNameFromDS:"Duration",unit:"ms"}}],meta:{preferredVisualisationType:"table"}});if(!e?.length)return a;const n=e.sort((r,c)=>parseInt(c?.startTimeUnixNano,10)/1e6-parseInt(r?.startTimeUnixNano,10)/1e6).map(K);for(const r of n)a.add(r);return a}function K(e){let t="";e.rootServiceName&&(t+=e.rootServiceName+" "),e.rootTraceName&&(t+=e.rootTraceName);const a=parseInt(e.startTimeUnixNano,10)/1e6;let n=isNaN(a)?"":(0,l.dq)(a);return{traceID:e.traceID,startTime:n,traceDuration:e.durationMs?.toString(),traceName:t}}function z(e,t){const a=new p.v({fields:[{name:"traceID",type:i.fS.string,config:{unit:"string",displayNameFromDS:"Trace ID",custom:{width:200},links:[{title:"Trace: ${__value.raw}",url:"",internal:{datasourceUid:t.uid,datasourceName:t.name,query:{query:"${__value.raw}",queryType:"traceql"}}}]}},{name:"startTime",type:i.fS.string,config:{displayNameFromDS:"Start time",custom:{width:200}}},{name:"traceName",type:i.fS.string,config:{displayNameFromDS:"Name"}},{name:"traceDuration",type:i.fS.number,config:{displayNameFromDS:"Duration",unit:"ms",custom:{width:120}}}],meta:{preferredVisualisationType:"table"}});if(!e?.length)return[a];const n=[],r=e.sort((c,_)=>parseInt(_?.startTimeUnixNano,10)/1e6-parseInt(c?.startTimeUnixNano,10)/1e6).reduce((c,_,y)=>{const A=K(_);return c.push(A),n.push(B(_,t,y)),c},[]);for(const c of r)a.add(c);return[a,...n]}const B=(e,t,a)=>{const n={};let r=!1;e.spanSet?.spans.forEach(_=>{_.name&&(r=!0),_.attributes?.forEach(y=>{n[y.key]={name:y.key,type:i.fS.string,config:{displayNameFromDS:y.key}}})});const c=new p.v({fields:[{name:"traceIdHidden",config:{custom:{hidden:!0}}},{name:"spanID",type:i.fS.string,config:{unit:"string",displayNameFromDS:"Span ID",custom:{width:200},links:[{title:"Span: ${__value.raw}",url:"",internal:{datasourceUid:t.uid,datasourceName:t.name,query:{query:"${__data.fields.traceIdHidden}",queryType:"traceql"},panelsState:{trace:{spanId:"${__value.raw}"}}}}]}},{name:"spanStartTime",type:i.fS.string,config:{displayNameFromDS:"Start time",custom:{width:200}}},{name:"name",type:i.fS.string,config:{displayNameFromDS:"Name",custom:{hidden:!r}}},...Object.values(n),{name:"duration",type:i.fS.number,config:{displayNameFromDS:"Duration",unit:"ns",custom:{width:120}}}],meta:{preferredVisualisationType:"table",custom:{parentRowIndex:a}}});return e.spanSet?.spans.forEach(_=>{c.add(Y(_,e.traceID))}),c};function Y(e,t){const a=parseInt(e.startTimeUnixNano,10)/1e6;let n=(0,l.dq)(a);const r={traceIdHidden:t,spanID:e.spanID,spanStartTime:n,duration:parseInt(e.durationNanos,10),name:e.name};return e.attributes?.forEach(c=>{c.value.boolValue&&(r[c.key]=c.value.boolValue),c.value.doubleValue&&(r[c.key]=c.value.doubleValue),c.value.intValue&&(r[c.key]=c.value.intValue),c.value.stringValue&&(r[c.key]=c.value.stringValue)}),r}const V={data:[new p.v({fields:[{name:"trace",type:i.fS.trace,values:[]}],meta:{preferredVisualisationType:"trace",custom:{traceFormat:"otlp"}}})]}}}]);

//# sourceMappingURL=5331.6fa47f2f5492205834c7.js.map