(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"0H9l":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("q1tI"),a=n.n(o),r=n("9LhM"),i=n("m257"),l=function(e){var t=e.queryErrors,n=Object(i.p)(t)?null:Object(i.l)(t),o=!!n,l=o?100:10,s=n?n.message:null;return a.a.createElement(r.a,{in:o,duration:l},a.a.createElement("div",{className:"alert-container"},a.a.createElement("div",{className:"alert-error alert"},a.a.createElement("div",{className:"alert-icon"},a.a.createElement("i",{className:"fa fa-exclamation-triangle"})),a.a.createElement("div",{className:"alert-body"},a.a.createElement("div",{className:"alert-title"},s)))))}},"3WX/":function(e,t,n){var o=n("ut/Y"),a=n("oKwy"),r=n("d8FT");e.exports=function(e,t){return r(e,a(o(t)))}},"5llT":function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o,a,r,i=n("mrSG"),l=n("q1tI"),s=n.n(l),c=n("PAeb"),u=n("Obii"),p=n("kDLi"),d=20,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hiddenSeries:[],showAllTimeSeries:!1},t.onShowAllTimeSeries=function(){t.setState({showAllTimeSeries:!0})},t.onClickGraphButton=function(){var e=t.props,n=e.onToggleGraph,o=e.showingGraph;n&&n(null!=o&&o)},t.onChangeTime=function(e,n){(0,t.props.onUpdateTimeRange)({from:e,to:n})},t.renderGraph=function(){var e=t.props,n=e.width,o=e.series,a=e.onHiddenSeriesChanged,r=e.timeZone,i=e.absoluteRange,l=e.showPanel,c=e.showingGraph,m=e.showingTable,g=e.showBars,h=e.showLines,b=e.isStacked,f=t.state.showAllTimeSeries;if(!o)return null;var v={from:Object(u.dateTimeForTimeZone)(r,i.from),to:Object(u.dateTimeForTimeZone)(r,i.to),raw:{from:Object(u.dateTimeForTimeZone)(r,i.from),to:Object(u.dateTimeForTimeZone)(r,i.to)}},E=!1===l?100:c&&m?200:400,y=h?1:5,x=f?o:o.slice(0,d);return s.a.createElement(p.GraphSeriesToggler,{series:x,onHiddenSeriesChanged:a},function(e){var o=e.onSeriesToggle,a=e.toggledSeries;return s.a.createElement(p.GraphWithLegend,{displayMode:p.LegendDisplayMode.List,height:E,isLegendVisible:!0,placement:"under",width:n,timeRange:v,timeZone:r,showBars:g,showLines:h,showPoints:!1,onToggleSort:function(){},series:a,isStacked:b,lineWidth:y,onSeriesToggle:o,onHorizontalRegionSelected:t.onChangeTime},s.a.createElement(p.Chart.Tooltip,{mode:g?"multi":"single"}))})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.series,n=e.showPanel,l=e.showingGraph,u=e.loading,m=e.theme,g=this.state.showAllTimeSeries,h=function(e){return{timeSeriesDisclaimer:Object(c.css)(o||(o=Object(i.__makeTemplateObject)(["\n    label: time-series-disclaimer;\n    width: 300px;\n    margin: "," auto;\n    padding: 10px 0;\n    border-radius: ",";\n    text-align: center;\n    background-color: ",";\n  "],["\n    label: time-series-disclaimer;\n    width: 300px;\n    margin: "," auto;\n    padding: 10px 0;\n    border-radius: ",";\n    text-align: center;\n    background-color: ",";\n  "])),e.spacing.sm,e.border.radius.md,Object(p.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark4},e.type)),disclaimerIcon:Object(c.css)(a||(a=Object(i.__makeTemplateObject)(["\n    label: disclaimer-icon;\n    color: ",";\n    margin-right: ",";\n  "],["\n    label: disclaimer-icon;\n    color: ",";\n    margin-right: ",";\n  "])),e.colors.yellow,e.spacing.xs),showAllTimeSeries:Object(c.css)(r||(r=Object(i.__makeTemplateObject)(["\n    label: show-all-time-series;\n    cursor: pointer;\n    color: ",";\n  "],["\n    label: show-all-time-series;\n    cursor: pointer;\n    color: ",";\n  "])),e.colors.linkExternal)}}(m);return s.a.createElement(s.a.Fragment,null,t&&t.length>d&&!g&&s.a.createElement("div",{className:Object(c.cx)([h.timeSeriesDisclaimer])},s.a.createElement("i",{className:Object(c.cx)(["fa fa-fw fa-warning",h.disclaimerIcon])}),"Showing only "+d+" time series. ",s.a.createElement("span",{className:Object(c.cx)([h.showAllTimeSeries]),onClick:this.onShowAllTimeSeries},"Show all "+t.length)),n&&s.a.createElement(p.Collapse,{label:"Graph",collapsible:!0,isOpen:l,loading:u,onToggle:this.onClickGraphButton},this.renderGraph()),!n&&this.renderGraph())},t}(l.PureComponent),g=Object(p.withTheme)(m);g.displayName="ExploreGraphPanel"},"9BUi":function(e,t,n){"use strict";(function(e){var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("sEfC"),l=n.n(i),s=n("OFL0"),c=n.n(s),u=n("0cfB"),p=n("/MKj"),d=n("y2tl"),m=n("kYjj"),g=n("Efza"),h=n("Obii"),b=n("sBLX"),f=n("OTXG"),v=function(){},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={textEditModeEnabled:!1},t.onRunQuery=function(){var e=t.props.exploreId;t.props.runQueries(e)},t.onChange=function(e,n){var o=t.props,a=o.datasourceInstance,r=o.exploreId,i=o.index;t.props.changeQuery(r,e,i,n),e&&!n&&a.getHighlighterExpression&&0===i&&t.updateLogsHighlights(e)},t.onClickToggleDisabled=function(){var e=t.props,n=e.exploreId,a=e.index,r=e.query,i=Object(o.__assign)(Object(o.__assign)({},r),{hide:!r.hide});t.props.changeQuery(n,i,a,!0)},t.onClickRemoveButton=function(){var e=t.props,n=e.exploreId,o=e.index;t.props.removeQueryRowAction({exploreId:n,index:o}),t.props.runQueries(n)},t.onClickToggleEditorMode=function(){t.setState({textEditModeEnabled:!t.state.textEditModeEnabled})},t.updateLogsHighlights=l()(function(e){var n=t.props.datasourceInstance;if(n.getHighlighterExpression){var o=t.props.exploreId,a=n.getHighlighterExpression(e);t.props.highlightLogsExpressionAction({exploreId:o,expressions:a})}},500),t}return Object(o.__extends)(t,e),t.prototype.componentWillUnmount=function(){console.log("QueryRow will unmount")},t.prototype.render=function(){var e,t,n,o,a=this.props,i=a.datasourceInstance,l=a.history,s=a.query,u=a.exploreEvents,p=a.range,g=a.absoluteRange,f=a.queryResponse,E=a.mode,y=a.latency,x=E===b.b.Metrics&&c()(i,"components.QueryCtrl.prototype.toggleEditorMode"),w=f.state===h.LoadingState.NotStarted,O=f.error&&f.error.refId===s.refId?[f.error]:[];return o=E===b.b.Metrics&&(null===(e=i.components)||void 0===e?void 0:e.ExploreMetricsQueryField)?i.components.ExploreMetricsQueryField:E===b.b.Logs&&(null===(t=i.components)||void 0===t?void 0:t.ExploreLogsQueryField)?i.components.ExploreLogsQueryField:null===(n=i.components)||void 0===n?void 0:n.ExploreQueryField,r.a.createElement("div",{className:"query-row"},r.a.createElement("div",{className:"query-row-field flex-shrink-1"},o?r.a.createElement(o,{datasource:i,query:s,history:l,onRunQuery:this.onRunQuery,onBlur:v,onChange:this.onChange,data:f,absoluteRange:g}):r.a.createElement(d.a,{error:O,datasource:i,onQueryChange:this.onChange,onExecuteQuery:this.onRunQuery,initialQuery:s,exploreEvents:u,range:p,textEditModeEnabled:this.state.textEditModeEnabled})),r.a.createElement(m.a,{canToggleEditorModes:x,isDisabled:s.hide,isNotStarted:w,latency:y,onClickToggleEditorMode:this.onClickToggleEditorMode,onClickToggleDisabled:this.onClickToggleDisabled,onClickRemoveButton:this.onClickRemoveButton}))},t}(a.PureComponent);var y={changeQuery:g.e,highlightLogsExpressionAction:f.i,modifyQueries:g.j,removeQueryRowAction:f.s,runQueries:g.m};t.a=Object(u.hot)(e)(Object(p.connect)(function(e,t){var n=t.exploreId,o=t.index,a=e.explore[n],r=a.datasourceInstance,i=a.history,l=a.queries,s=a.range,c=a.absoluteRange,u=a.mode,p=a.queryResponse,d=a.latency;return{datasourceInstance:r,history:i,query:l[o],range:s,absoluteRange:c,queryResponse:p,mode:u,latency:d}},y)(E))}).call(this,n("3UD+")(e))},Bdd1:function(e,t,n){"use strict";var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("PAeb"),l=n("Zss7"),s=n.n(l),c=n("kDLi"),u=n("Obii"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={elapsed:0},t.tick=function(){var e=Date.now()-t.offset;t.setState({elapsed:e})},t}return Object(o.__extends)(t,e),t.prototype.start=function(){this.offset=Date.now(),this.timer=window.setInterval(this.tick,150)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.time?clearInterval(this.timer):this.props.time&&this.start(),e.resetKey!==this.props.resetKey&&(clearInterval(this.timer),this.start())},t.prototype.componentDidMount=function(){this.start()},t.prototype.componentWillUnmount=function(){clearInterval(this.timer)},t.prototype.render=function(){var e=this.state.elapsed,t=this.props,n=t.className,o=t.time,a=t.humanize,i=((o||e)/1e3).toFixed(1)+"s";if(a){var l=Object(u.toDuration)(e),s=l.hours(),c=l.minutes(),p=l.seconds();i=s?s+"h "+c+"m "+p+"s":c?" "+c+"m "+p+"s":p+"s"}return r.a.createElement("span",{className:"elapsed-time "+n},i)},t}(a.PureComponent);n.d(t,"a",function(){return v});var d,m,g,h,b,f=function(e){function t(t){var n=e.call(this,t)||this;return n.liveEndDiv=null,n.scrollContainerRef=r.a.createRef(),n.lastScrollPos=null,n.onScroll=function(e){var t=n.props,o=t.isPaused,a=t.onPause,r=e.currentTarget,i=r.scrollTop,l=r.clientHeight,s=r.scrollHeight-(i+l);s>=5&&!o&&(a(),n.lastScrollPos=s)},n.rowsToRender=function(){var e=n.props.isPaused,t=n.state.logRowsToRender,o=void 0===t?[]:t;return e||(o=o.slice(-100)),o},n.state={logRowsToRender:t.logRows},n}return Object(o.__extends)(t,e),t.prototype.componentDidUpdate=function(e){if(!e.isPaused&&this.props.isPaused)if(this.lastScrollPos&&this.scrollContainerRef.current){var t=this.scrollContainerRef.current,n=t.clientHeight,o=t.scrollHeight-(this.lastScrollPos+n);this.scrollContainerRef.current.scrollTo(0,o),this.lastScrollPos=null}else this.liveEndDiv&&this.liveEndDiv.scrollIntoView(!1)},t.getDerivedStateFromProps=function(e,t){return e.isPaused?null:{logRowsToRender:e.logRows}},t.prototype.render=function(){var e=this,t=this.props,n=t.theme,a=t.timeZone,l=t.onPause,u=t.onResume,f=t.isPaused,v=function(e){return{logsRowsLive:Object(i.css)(d||(d=Object(o.__makeTemplateObject)(["\n    label: logs-rows-live;\n    font-family: ",";\n    font-size: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    height: 65vh;\n    overflow-y: auto;\n    :first-child {\n      margin-top: auto !important;\n    }\n  "],["\n    label: logs-rows-live;\n    font-family: ",";\n    font-size: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    height: 65vh;\n    overflow-y: auto;\n    :first-child {\n      margin-top: auto !important;\n    }\n  "])),e.typography.fontFamily.monospace,e.typography.size.sm),logsRowFade:Object(i.css)(m||(m=Object(o.__makeTemplateObject)(["\n    label: logs-row-fresh;\n    color: ",";\n    background-color: ",";\n    animation: fade 1s ease-out 1s 1 normal forwards;\n    @keyframes fade {\n      from {\n        background-color: ",";\n      }\n      to {\n        background-color: transparent;\n      }\n    }\n  "],["\n    label: logs-row-fresh;\n    color: ",";\n    background-color: ",";\n    animation: fade 1s ease-out 1s 1 normal forwards;\n    @keyframes fade {\n      from {\n        background-color: ",";\n      }\n      to {\n        background-color: transparent;\n      }\n    }\n  "])),e.colors.text,s()(e.colors.blueLight).setAlpha(.25).toString(),s()(e.colors.blueLight).setAlpha(.25).toString()),logsRowsIndicator:Object(i.css)(g||(g=Object(o.__makeTemplateObject)(["\n    font-size: ",";\n    padding-top: ",";\n    display: flex;\n    align-items: center;\n  "],["\n    font-size: ",";\n    padding-top: ",";\n    display: flex;\n    align-items: center;\n  "])),e.typography.size.md,e.spacing.sm),button:Object(i.css)(h||(h=Object(o.__makeTemplateObject)(["\n    margin-right: ",";\n  "],["\n    margin-right: ",";\n  "])),e.spacing.sm),fullWidth:Object(i.css)(b||(b=Object(o.__makeTemplateObject)(["\n    width: 100%;\n  "],["\n    width: 100%;\n  "])))}}(n),E="utc"===a,y=Object(c.getLogRowStyles)(n),x=y.logsRow,w=y.logsRowLocalTime,O=y.logsRowMessage;return r.a.createElement("div",null,r.a.createElement("table",{className:v.fullWidth},r.a.createElement("tbody",{onScroll:f?void 0:this.onScroll,className:Object(i.cx)(["logs-rows",v.logsRowsLive]),ref:this.scrollContainerRef},this.rowsToRender().map(function(e){return r.a.createElement("tr",{className:Object(i.cx)(x,v.logsRowFade),key:e.uid},E&&r.a.createElement("td",{className:Object(i.cx)(w),title:"Local: "+e.timeLocal+" ("+e.timeFromNow+")"},e.timeUtc),!E&&r.a.createElement("td",{className:Object(i.cx)(w),title:e.timeUtc+" ("+e.timeFromNow+")"},e.timeLocal),r.a.createElement("td",{className:Object(i.cx)(O)},e.entry))}),r.a.createElement("tr",{ref:function(t){e.liveEndDiv=t,e.liveEndDiv&&!f&&e.liveEndDiv.scrollIntoView(!1)}}))),r.a.createElement("div",{className:Object(i.cx)([v.logsRowsIndicator])},r.a.createElement("button",{onClick:f?u:l,className:Object(i.cx)("btn btn-secondary",v.button)},r.a.createElement("i",{className:Object(i.cx)("fa",f?"fa-play":"fa-pause")})," ",f?"Resume":"Pause"),r.a.createElement("button",{onClick:this.props.stopLive,className:Object(i.cx)("btn btn-inverse",v.button)},r.a.createElement("i",{className:"fa fa-stop"}),"  Exit live mode"),f||r.a.createElement("span",null,"Last line received: ",r.a.createElement(p,{resetKey:this.props.logRows,humanize:!0})," ago")))},t}(a.PureComponent),v=Object(c.withTheme)(f)},Gyt8:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o,a=n("mrSG"),r=n("q1tI"),i=n.n(r);!function(e){e.left="left",e.right="right"}(o||(o={}));var l=Object(r.forwardRef)(function(e,t){var n={iconSide:o.left},r=(e=Object(a.__assign)(Object(a.__assign)({},n),e)).title,l=e.onClick,s=e.buttonClassName,c=e.iconClassName,u=e.splitted,p=e.iconSide,d=e.disabled,m=Object(a.__rest)(e,["title","onClick","buttonClassName","iconClassName","splitted","iconSide","disabled"]);return i.a.createElement("div",Object(a.__assign)({ref:t},m),i.a.createElement("button",{className:"btn navbar-button "+(s||""),onClick:l,disabled:d||!1},c&&p===o.left?i.a.createElement("i",{className:""+c}):null,i.a.createElement("span",{className:"btn-title"},u?"":function(e,t){return t===o.left?" "+e:t===o.right?e+" ":e}(r,p)),c&&p===o.right?i.a.createElement("i",{className:""+c}):null))})},OFL0:function(e,t,n){var o=n("lvO4"),a=n("4sDh");e.exports=function(e,t){return null!=e&&a(e,t,o)}},OxIB:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("q1tI"),a=n("/MKj"),r=n("Efza"),i=n("OTXG"),l=n("kDLi");function s(e){var t,n,s,c,u,p,d=(t=e.exploreId,n=Object(a.useDispatch)(),s=Object(o.useCallback)(function(){n(Object(i.w)({exploreId:t,isPaused:!0}))},[t,n]),c=Object(o.useCallback)(function(){n(Object(i.w)({exploreId:t,isPaused:!1}))},[t,n]),u=Object(o.useCallback)(function(){s(),n(Object(r.f)(t,l.RefreshPicker.offOption.value)),n(Object(r.m)(t))},[t,n,s]),p=Object(o.useCallback)(function(){n(Object(r.f)(t,l.RefreshPicker.liveOption.value))},[t,n]),{pause:s,resume:c,stop:u,start:p});return e.children(d)}},TUgz:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o,a=n("mrSG"),r=n("q1tI"),i=n.n(r),l=n("PAeb"),s=n("kDLi"),c=function(){var e=Object(r.useContext)(s.ThemeContext),t=i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fa fa-rocket"}),i.a.createElement(i.a.Fragment,null," ProTip: You can also define data sources through configuration files. "),i.a.createElement("a",{href:"http://docs.grafana.org/administration/provisioning/#datasources?utm_source=explore",target:"_blank",rel:"noopener",className:"text-link"},"Learn more")),n=i.a.createElement(s.LinkButton,{size:"lg",href:"/datasources/new",icon:"gicon gicon-datasources"},"Add data source"),c=Object(l.css)(o||(o=Object(a.__makeTemplateObject)(["\n    max-width: ",";\n    margin-top: ",";\n    align-self: center;\n  "],["\n    max-width: ",";\n    margin-top: ",";\n    align-self: center;\n  "])),e.breakpoints.lg,e.spacing.md);return i.a.createElement(s.CallToActionCard,{callToActionElement:n,className:c,footer:t,message:"Explore requires at least one data source. Once you have added a data source, you can query it here.",theme:e})}},ajrG:function(e,t,n){"use strict";(function(e){var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("0cfB"),l=n("/MKj"),s=n("kDLi"),c=n("Obii"),u=n("Efza"),p=n("OTXG"),d=n("5BoW"),m=n("1LJY"),g=n("Bdd1"),h=n("gmR8"),b=n("lMcC"),f=n("OxIB"),v=n("MAcC"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChangeTime=function(e){var n=t.props,o=n.exploreId;(0,n.updateTimeRange)({exploreId:o,absoluteRange:e})},t.handleDedupStrategyChange=function(e){t.props.changeDedupStrategy(t.props.exploreId,e)},t.handleToggleLogLevel=function(e){var n=t.props.exploreId;t.props.toggleLogLevelAction({exploreId:n,hiddenLogLevels:e})},t.getLogRowContext=function(e,n){return Object(o.__awaiter)(t,void 0,Promise,function(){var t,a;return Object(o.__generator)(this,function(o){return t=this.props.datasourceInstance,(null===(a=t)||void 0===a?void 0:a.getLogRowContext)?[2,t.getLogRowContext(e,n)]:[2,[]]})})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.loading,o=t.logsHighlighterExpressions,a=t.logRows,i=t.logsMeta,l=t.logsSeries,u=t.dedupedRows,p=t.onClickFilterLabel,d=t.onClickFilterOutLabel,m=t.onStartScanning,E=t.onStopScanning,y=t.absoluteRange,x=t.timeZone,w=t.scanning,O=t.range,k=t.width,T=t.isLive,j=t.exploreId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{visible:T},r.a.createElement(s.Collapse,{label:"Logs",loading:!1,isOpen:!0},r.a.createElement(f.a,{exploreId:j},function(t){return r.a.createElement(g.a,{logRows:a,timeZone:x,stopLive:t.stop,isPaused:e.props.isPaused,onPause:t.pause,onResume:t.resume})}))),r.a.createElement(b.a,{visible:!T},r.a.createElement(s.Collapse,{label:"Logs",loading:n,isOpen:!0},r.a.createElement(h.a,{dedupStrategy:this.props.dedupStrategy||c.LogsDedupStrategy.none,logRows:a,logsMeta:i,logsSeries:l,dedupedRows:u,highlighterExpressions:o,loading:n,onChangeTime:this.onChangeTime,onClickFilterLabel:p,onClickFilterOutLabel:d,onStartScanning:m,onStopScanning:E,onDedupStrategyChange:this.handleDedupStrategyChange,onToggleLogLevel:this.handleToggleLogLevel,absoluteRange:y,timeZone:x,scanning:w,scanRange:O.raw,width:k,getRowContext:this.getLogRowContext,getFieldLinks:v.b}))))},t}(a.PureComponent);var y={changeDedupStrategy:u.c,toggleLogLevelAction:p.D,updateTimeRange:u.u};t.a=Object(i.hot)(e)(Object(l.connect)(function(e,t){var n=t.exploreId,o=e.explore[n],a=o.logsHighlighterExpressions,r=o.logsResult,i=o.loading,l=o.scanning,s=o.datasourceInstance,c=o.isLive,u=o.isPaused,p=o.range,g=o.absoluteRange,h=o.dedupStrategy,b=Object(d.a)(o),f=Object(m.a)(e.user);return{loading:i,logsHighlighterExpressions:a,logRows:r&&r.rows,logsMeta:r&&r.meta,logsSeries:r&&r.series,scanning:l,timeZone:f,dedupStrategy:h,dedupedRows:b,datasourceInstance:s,isLive:c,isPaused:u,range:p,absoluteRange:g}},y)(E))}).call(this,n("3UD+")(e))},bkob:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return N});var o,a=n("mrSG"),r=n("3WX/"),i=n.n(r),l=n("q1tI"),s=n.n(l),c=n("/MKj"),u=n("0cfB"),p=n("Wwog"),d=n("TSYQ"),m=n.n(d),g=n("PAeb"),h=n("sBLX"),b=n("kDLi"),f=n("Wkk1"),v=n("Efza"),E=n("3SGO"),y=n("1LJY"),x=n("p+Sq"),w=n("PbtU"),O=n("kd/b"),k=n("sQnn"),T=n("Gyt8"),j=n("nmUH"),S=n("OxIB"),C=n("5BoW"),L=n("J4KJ"),R=Object(p.default)(function(){return{liveTailButtons:Object(g.css)(o||(o=Object(a.__makeTemplateObject)(["\n      margin-left: 10px;\n      @media (max-width: 1110px) {\n        margin-left: 4px;\n      }\n    "],["\n      margin-left: 10px;\n      @media (max-width: 1110px) {\n        margin-left: 4px;\n      }\n    "])))}}),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChangeDatasource=function(e){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){return this.props.changeDatasource(this.props.exploreId,e.value),[2]})})},t.onClearAll=function(){t.props.clearAll(t.props.exploreId)},t.onRunQuery=function(){return t.props.runQueries(t.props.exploreId)},t.onChangeRefreshInterval=function(e){var n=t.props;(0,n.changeRefreshInterval)(n.exploreId,e)},t.onModeChange=function(e){var n=t.props;(0,n.changeMode)(n.exploreId,e)},t.onChangeTimeSync=function(){var e=t.props;(0,e.syncTimes)(e.exploreId)},t.returnToPanel=function(e){var n=(void 0===e?{}:e).withChanges,o=void 0!==n&&n;return Object(a.__awaiter)(t,void 0,void 0,function(){var e,t,n,r,l,s,c;return Object(a.__generator)(this,function(u){return e=this.props,t=e.originPanelId,n=e.queries,r=Object(x.a)(),l=r.getCurrent(),s=w.a.slugifyForUrl(l.title),o&&this.props.setDashboardQueriesToUpdateOnLoad(t,this.cleanQueries(n)),c={fullscreen:o||l.meta.fullscreen,edit:o||l.meta.isEditing},this.props.updateLocation({path:"/d/"+l.uid+"/:"+s,query:Object(a.__assign)(Object(a.__assign)({},i()(c,function(e){return!e})),{panelId:t})}),[2]})})},t.getSelectedDatasource=function(){var e=t.props.datasourceName,n=Object(C.b)();return e?n.find(function(t){return t.name===e}):void 0},t}return Object(a.__extends)(t,e),t.prototype.cleanQueries=function(e){return e.map(function(e){return delete e.context,delete e.key,e})},t.prototype.render=function(){var e=this,t=this.props,n=t.datasourceMissing,o=t.closeSplit,a=t.exploreId,r=t.loading,i=t.range,l=t.timeZone,c=t.splitted,u=t.syncedTimes,p=t.refreshInterval,d=t.onChangeTime,g=t.split,v=t.supportedModes,E=t.selectedMode,y=t.hasLiveOption,x=t.isLive,w=t.isPaused,L=t.originPanelId,I=t.datasourceLoading,_=t.containerWidth,N=R(),M=L&&Number.isInteger(L),D=m()("btn","navbar-button",{"btn--radius-right-0":M,"navbar-button navbar-button--border-right-0":M}),P=(c?_<700:_<800)||!1,B=c||_<1210;return s.a.createElement("div",{className:c?"explore-toolbar splitted":"explore-toolbar"},s.a.createElement("div",{className:"explore-toolbar-item"},s.a.createElement("div",{className:"explore-toolbar-header"},s.a.createElement("div",{className:"explore-toolbar-header-title"},"left"===a&&s.a.createElement("span",{className:"navbar-page-btn"},s.a.createElement("i",{className:"gicon gicon-explore"}),"Explore")),c&&s.a.createElement("a",{className:"explore-toolbar-header-close",onClick:function(){return o(a)}},s.a.createElement("i",{className:"fa fa-times fa-fw"})))),s.a.createElement("div",{className:"explore-toolbar-item"},s.a.createElement("div",{className:"explore-toolbar-content"},n?null:s.a.createElement("div",{className:"explore-toolbar-content-item"},s.a.createElement("div",{className:m()("explore-ds-picker",P?"explore-ds-picker--small":"")},s.a.createElement(f.a,{onChange:this.onChangeDatasource,datasources:Object(C.b)(),current:this.getSelectedDatasource(),showLoading:I,hideTextValue:P})),v.length>1?s.a.createElement("div",{className:"query-type-toggle"},s.a.createElement(b.ToggleButtonGroup,{label:"",transparent:!0},s.a.createElement(b.ToggleButton,{key:h.b.Metrics,value:h.b.Metrics,onChange:this.onModeChange,selected:E===h.b.Metrics},"Metrics"),s.a.createElement(b.ToggleButton,{key:h.b.Logs,value:h.b.Logs,onChange:this.onModeChange,selected:E===h.b.Logs},"Logs"))):null),L&&Number.isInteger(L)&&!c&&s.a.createElement("div",{className:"explore-toolbar-content-item"},s.a.createElement(b.Tooltip,{content:"Return to panel",placement:"bottom"},s.a.createElement("button",{className:D,onClick:function(){return e.returnToPanel()}},s.a.createElement("i",{className:"fa fa-arrow-left"}))),M&&s.a.createElement(b.ButtonSelect,{className:"navbar-button--attached btn--radius-left-0$",options:[{label:"Return to panel with changes",value:""}],onChange:function(){return e.returnToPanel({withChanges:!0})},maxMenuHeight:380})),"left"!==a||c?null:s.a.createElement("div",{className:"explore-toolbar-content-item explore-icon-align"},s.a.createElement(T.a,{splitted:c,title:"Split",onClick:g,iconClassName:"fa fa-fw fa-columns icon-margin-right",disabled:x})),!x&&s.a.createElement("div",{className:"explore-toolbar-content-item"},s.a.createElement(O.a,{exploreId:a,range:i,timeZone:l,onChangeTime:d,splitted:c,syncedTimes:u,onChangeTimeSync:this.onChangeTimeSync,hideText:B})),!x&&s.a.createElement("div",{className:"explore-toolbar-content-item explore-icon-align"},s.a.createElement(T.a,{splitted:c,title:"Clear All",onClick:this.onClearAll,iconClassName:"fa fa-fw fa-trash icon-margin-right"})),s.a.createElement("div",{className:"explore-toolbar-content-item"},s.a.createElement(j.a,{refreshInterval:p,onChangeRefreshInterval:this.onChangeRefreshInterval,splitted:c,loading:r||x&&!w,onRun:this.onRunQuery,showDropdown:!x}),p&&s.a.createElement(b.SetInterval,{func:this.onRunQuery,interval:p,loading:r})),y&&s.a.createElement("div",{className:"explore-toolbar-content-item "+N.liveTailButtons},s.a.createElement(S.a,{exploreId:a},function(e){return s.a.createElement(k.a,{splitted:c,isLive:x,isPaused:w,start:e.start,pause:e.pause,resume:e.resume,stop:e.stop})})))))},t}(l.PureComponent),_={changeDatasource:v.b,updateLocation:E.c,changeRefreshInterval:v.f,clearAll:v.h,runQueries:v.m,closeSplit:v.p,split:v.q,syncTimes:v.r,changeMode:v.d,setDashboardQueriesToUpdateOnLoad:L.o},N=Object(u.hot)(e)(Object(c.connect)(function(e,t){var n,o,a,r=t.exploreId,i=e.explore.split,l=e.explore.syncedTimes,s=e.explore[r],c=s.datasourceInstance,u=s.datasourceMissing,p=s.range,d=s.refreshInterval,m=s.loading,g=s.supportedModes,b=s.mode,f=s.isLive,v=s.isPaused,E=s.originPanelId,x=s.queries,w=s.datasourceLoading,O=s.containerWidth,k=(null===(o=null===(n=c)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.streaming)&&b===h.b.Logs;return{datasourceMissing:u,datasourceName:null===(a=c)||void 0===a?void 0:a.name,loading:m,range:p,timeZone:Object(y.a)(e.user),splitted:i,refreshInterval:d,supportedModes:g,selectedMode:g.includes(b)?b:g[0],hasLiveOption:k,isLive:f,isPaused:v,originPanelId:E,queries:x,syncedTimes:l,datasourceLoading:w,containerWidth:O}},_)(I))}).call(this,n("3UD+")(e))},cAtN:function(e,t,n){"use strict";var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("9BUi"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=void 0===t?"":t,o=e.exploreEvents,a=e.exploreId,l=e.queryKeys;return r.a.createElement("div",{className:n},l.map(function(e,t){return r.a.createElement(i.a,{key:e,exploreEvents:o,exploreId:a,index:t})}))},t}(a.PureComponent);t.a=l},d8FT:function(e,t,n){var o=n("eUgh"),a=n("ut/Y"),r=n("idmN"),i=n("G6z8");e.exports=function(e,t){if(null==e)return{};var n=o(i(e),function(e){return[e]});return t=a(t),r(e,n,function(e,n){return t(e,n[0])})}},eX1b:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Wrapper",function(){return d});var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("0cfB"),l=n("/MKj"),s=n("sBLX"),c=n("sguS"),u=n("kDLi"),p=n("OTXG"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.resetExploreAction({})},t.prototype.render=function(){var e=this.props.split;return r.a.createElement("div",{className:"page-scrollbar-wrapper"},r.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%",autoHeightMax:"",className:"custom-scrollbar--page"},r.a.createElement("div",{className:"explore-wrapper"},r.a.createElement(u.ErrorBoundaryAlert,{style:"page"},r.a.createElement(c.a,{exploreId:s.a.left})),e&&r.a.createElement(u.ErrorBoundaryAlert,{style:"page"},r.a.createElement(c.a,{exploreId:s.a.right})))))},t}(a.Component),m={resetExploreAction:p.t};t.default=Object(i.hot)(e)(Object(l.connect)(function(e){return{split:e.explore.split}},m)(d))}.call(this,n("3UD+")(e))},gmR8:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("Obii"),l=n("kDLi"),s=n("SMGL"),c=n("5llT"),u={showLabels:"grafana.explore.logs.showLabels",showTime:"grafana.explore.logs.showTime",wrapLogMessage:"grafana.explore.logs.wrapLogMessage"};var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showLabels:s.a.getBool(u.showLabels,!1),showTime:s.a.getBool(u.showTime,!0),wrapLogMessage:s.a.getBool(u.wrapLogMessage,!0)},t.onChangeDedup=function(e){var n=t.props.onDedupStrategyChange;return t.props.dedupStrategy===e?n(i.LogsDedupStrategy.none):n(e)},t.onChangeLabels=function(e){var n=e&&e.target;if(n){var o=n.checked;t.setState({showLabels:o}),s.a.set(u.showLabels,o)}},t.onChangeTime=function(e){var n=e&&e.target;if(n){var o=n.checked;t.setState({showTime:o}),s.a.set(u.showTime,o)}},t.onChangewrapLogMessage=function(e){var n=e&&e.target;if(n){var o=n.checked;t.setState({wrapLogMessage:o}),s.a.set(u.wrapLogMessage,o)}},t.onToggleLogLevel=function(e){var n=e.map(function(e){return i.LogLevel[e]});t.props.onToggleLogLevel(n)},t.onClickScan=function(e){e.preventDefault(),t.props.onStartScanning&&t.props.onStartScanning()},t.onClickStopScan=function(e){e.preventDefault(),t.props.onStopScanning&&t.props.onStopScanning()},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.logRows,a=t.logsMeta,s=t.logsSeries,u=t.highlighterExpressions,p=t.loading,d=void 0!==p&&p,m=t.onClickFilterLabel,g=t.onClickFilterOutLabel,h=t.timeZone,b=t.scanning,f=t.scanRange,v=t.width,E=t.dedupedRows,y=t.absoluteRange,x=t.onChangeTime,w=t.getFieldLinks;if(!n)return null;var O=this.state,k=O.showLabels,T=O.showTime,j=O.wrapLogMessage,S=this.props.dedupStrategy,C=n&&n.length>0,L=E?E.reduce(function(e,t){return t.duplicates?e+t.duplicates:e},0):0,R=a?Object(o.__spread)(a):[];S!==i.LogsDedupStrategy.none&&R.push({label:"Dedup count",value:L,kind:i.LogsMetaKind.Number});var I=f?"Scanning "+i.rangeUtil.describeTimeRange(f):"Scanning...",_=s||[];return r.a.createElement("div",{className:"logs-panel"},r.a.createElement("div",{className:"logs-panel-graph"},r.a.createElement(c.a,{series:_,width:v,onHiddenSeriesChanged:this.onToggleLogLevel,loading:d,absoluteRange:y,isStacked:!0,showPanel:!1,showingGraph:!0,showingTable:!0,timeZone:h,showBars:!0,showLines:!1,onUpdateTimeRange:x})),r.a.createElement("div",{className:"logs-panel-options"},r.a.createElement("div",{className:"logs-panel-controls"},r.a.createElement(l.Switch,{label:"Time",checked:T,onChange:this.onChangeTime,transparent:!0}),r.a.createElement(l.Switch,{label:"Unique labels",checked:k,onChange:this.onChangeLabels,transparent:!0}),r.a.createElement(l.Switch,{label:"Wrap lines",checked:j,onChange:this.onChangewrapLogMessage,transparent:!0}),r.a.createElement(l.ToggleButtonGroup,{label:"Dedup",transparent:!0},Object.keys(i.LogsDedupStrategy).map(function(t,n){return r.a.createElement(l.ToggleButton,{key:n,value:t,onChange:e.onChangeDedup,selected:S===t,tooltip:i.LogsDedupDescription[t]},t)})))),C&&R&&r.a.createElement("div",{className:"logs-panel-meta"},R.map(function(e){return r.a.createElement("div",{className:"logs-panel-meta__item",key:e.label},r.a.createElement("span",{className:"logs-panel-meta__label"},e.label,":"),r.a.createElement("span",{className:"logs-panel-meta__value"},(t=e.value,e.kind===i.LogsMetaKind.LabelsMap?r.a.createElement("span",{className:"logs-meta-item__labels"},r.a.createElement(l.LogLabels,{labels:t})):t)));var t})),r.a.createElement(l.LogRows,{logRows:n,deduplicatedRows:E,dedupStrategy:S,getRowContext:this.props.getRowContext,highlighterExpressions:u,rowLimit:n?n.length:void 0,onClickFilterLabel:m,onClickFilterOutLabel:g,showLabels:k,showTime:T,wrapLogMessage:j,timeZone:h,getFieldLinks:w}),!d&&!C&&!b&&r.a.createElement("div",{className:"logs-panel-nodata"},"No logs found.",r.a.createElement("a",{className:"link",onClick:this.onClickScan},"Scan for older logs")),b&&r.a.createElement("div",{className:"logs-panel-nodata"},r.a.createElement("span",null,I),r.a.createElement("a",{className:"link",onClick:this.onClickStopScan},"Stop scan")))},t}(a.PureComponent)},kYjj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("q1tI"),a=n.n(o);function r(e){var t=e.canToggleEditorModes,n=e.onClickToggleEditorMode,o=e.onClickToggleDisabled,r=e.onClickRemoveButton,i=e.isDisabled,l=e.isNotStarted,s=e.latency;return a.a.createElement("div",{className:"gf-form-inline flex-shrink-0"},t&&a.a.createElement("div",{className:"gf-form"},a.a.createElement("button",{"aria-label":"Edit mode button",className:"gf-form-label gf-form-label--btn",onClick:n},a.a.createElement("i",{className:"fa fa-pencil"}))),a.a.createElement("div",{className:"gf-form"},a.a.createElement("button",{disabled:!0,className:"gf-form-label",title:"Query row latency"},(s/1e3).toFixed(1)+"s")),a.a.createElement("div",{className:"gf-form"},a.a.createElement("button",{disabled:l,className:"gf-form-label gf-form-label--btn",onClick:o,title:"Disable/enable query"},a.a.createElement("i",{className:i?"fa fa-eye-slash":"fa fa-eye"}))),a.a.createElement("div",{className:"gf-form"},a.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:r,title:"Remove query"},a.a.createElement("i",{className:"fa fa-minus"}))))}},"kd/b":function(e,t,n){"use strict";var o,a,r,i=n("mrSG"),l=n("q1tI"),s=n.n(l),c=n("Obii"),u=n("TSYQ"),p=n.n(u),d=n("PAeb"),m=n("kDLi"),g=Object(m.stylesFactory)(function(e){return{timePickerSynced:Object(d.css)(o||(o=Object(i.__makeTemplateObject)(["\n      label: timePickerSynced;\n      border-color: ",";\n      background-image: none;\n      background-color: transparent;\n      color: ",";\n      &:focus,\n      :hover {\n        color: ",";\n        background-image: none;\n        background-color: transparent;\n      }\n    "],["\n      label: timePickerSynced;\n      border-color: ",";\n      background-image: none;\n      background-color: transparent;\n      color: ",";\n      &:focus,\n      :hover {\n        color: ",";\n        background-image: none;\n        background-color: transparent;\n      }\n    "])),e.colors.orangeDark,e.colors.orangeDark,e.colors.orangeDark),noRightBorderStyle:Object(d.css)(a||(a=Object(i.__makeTemplateObject)(["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "],["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "]))),topPadding:Object(d.css)(r||(r=Object(i.__makeTemplateObject)(["\n      label: topPadding;\n      padding-top: 1px;\n    "],["\n      label: topPadding;\n      padding-top: 1px;\n    "])))}});function h(e){var t,n=e.onClick,o=e.isSynced,a=Object(m.useTheme)(),r=g(a);return s.a.createElement(m.Tooltip,{content:function(){var t=e.isSynced?"Unsync all views":"Sync all views to this time range";return s.a.createElement(s.a.Fragment,null,t)},placement:"bottom"},s.a.createElement("button",{className:p()("btn navbar-button navbar-button--attached",(t={},t["explore-active-button-glow "+r.timePickerSynced]=o,t)),"aria-label":o?"Synced times":"Unsynced times",onClick:function(){return n()}},s.a.createElement("i",{className:p()("fa fa-link",r.topPadding,o&&"icon-brand-gradient")})))}var b=n("3Tvq"),f=n("LCjV");n.d(t,"a",function(){return v});var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMoveTimePicker=function(e){var n=t.props,o=n.range,a=n.onChangeTime,r=n.timeZone,i=Object(f.a)(e,o),l=i.from,s=i.to;a({from:Object(c.dateTimeForTimeZone)(r,l),to:Object(c.dateTimeForTimeZone)(r,s)})},t.onMoveForward=function(){return t.onMoveTimePicker(1)},t.onMoveBack=function(){return t.onMoveTimePicker(-1)},t.onChangeTimePicker=function(e){t.props.onChangeTime(e.raw)},t.onZoom=function(){var e=t.props,n=e.range,o=e.onChangeTime,a=e.timeZone,r=Object(f.b)(n,2),i=r.from,l=r.to;o({from:Object(c.dateTimeForTimeZone)(a,i),to:Object(c.dateTimeForTimeZone)(a,l)})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.range,n=e.timeZone,o=e.splitted,a=e.syncedTimes,r=e.onChangeTimeSync,l=e.hideText,c=o?s.a.createElement(h,{onClick:r,isSynced:a}):void 0,u={value:t,timeZone:n,onMoveBackward:this.onMoveBack,onMoveForward:this.onMoveForward,onZoom:this.onZoom,hideText:l};return s.a.createElement(b.a,Object(i.__assign)({},u,{timeSyncButton:c,isSynced:a,onChange:this.onChangeTimePicker}))},t}(l.Component)},lMcC:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o,a,r,i,l=n("mrSG"),s=n("q1tI"),c=n.n(s),u=n("Wwog"),p=n("PAeb"),d=n("1w3K"),m=500,g=100,h=Object(u.default)(function(){return{logsEnter:Object(p.css)(o||(o=Object(l.__makeTemplateObject)(["\n      label: logsEnter;\n      position: absolute;\n      opacity: 0;\n      height: auto;\n      width: 100%;\n    "],["\n      label: logsEnter;\n      position: absolute;\n      opacity: 0;\n      height: auto;\n      width: 100%;\n    "]))),logsEnterActive:Object(p.css)(a||(a=Object(l.__makeTemplateObject)(["\n      label: logsEnterActive;\n      opacity: 1;\n      transition: opacity ","ms ease-out ","ms;\n    "],["\n      label: logsEnterActive;\n      opacity: 1;\n      transition: opacity ","ms ease-out ","ms;\n    "])),m,g),logsExit:Object(p.css)(r||(r=Object(l.__makeTemplateObject)(["\n      label: logsExit;\n      position: absolute;\n      opacity: 1;\n      height: auto;\n      width: 100%;\n    "],["\n      label: logsExit;\n      position: absolute;\n      opacity: 1;\n      height: auto;\n      width: 100%;\n    "]))),logsExitActive:Object(p.css)(i||(i=Object(l.__makeTemplateObject)(["\n      label: logsExitActive;\n      opacity: 0;\n      transition: opacity ","ms ease-out ","ms;\n    "],["\n      label: logsExitActive;\n      opacity: 0;\n      transition: opacity ","ms ease-out ","ms;\n    "])),m,g)}});function b(e){var t=e.visible,n=e.children,o=h();return c.a.createElement(d.CSSTransition,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:m+g,classNames:{enter:o.logsEnter,enterActive:o.logsEnterActive,exit:o.logsExit,exitActive:o.logsExitActive}},n)}},lvO4:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},nmUH:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o,a=n("mrSG"),r=n("q1tI"),i=n.n(r),l=n("kDLi"),s=n("Wwog"),c=n("PAeb"),u=n("TSYQ"),p=n.n(u),d=n("Gyt8"),m=Object(s.default)(function(){return{selectButtonOverride:Object(c.css)(o||(o=Object(a.__makeTemplateObject)(["\n      label: selectButtonOverride;\n      .select-button-value {\n        color: white !important;\n      }\n    "],["\n      label: selectButtonOverride;\n      .select-button-value {\n        color: white !important;\n      }\n    "])))}});function g(e){var t=e.splitted,n=e.loading,o=e.onRun,a=e.onChangeRefreshInterval,r=e.refreshInterval,s=e.showDropdown,c=m(),u=i.a.createElement(d.a,{splitted:t,title:"Run Query",onClick:o,buttonClassName:p()("navbar-button--secondary",{"btn--radius-right-0":s}),iconClassName:n?"fa fa-spinner fa-fw fa-spin run-icon":"fa fa-refresh fa-fw"});return s?i.a.createElement(l.RefreshPicker,{onIntervalChanged:a,value:r,buttonSelectClassName:"navbar-button--secondary "+c.selectButtonOverride,refreshButton:u}):u}},oKwy:function(e,t){var n="Expected a function";e.exports=function(e){if("function"!=typeof e)throw new TypeError(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},sQnn:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var o,a,r,i,l,s,c,u,p=n("mrSG"),d=n("q1tI"),m=n.n(d),g=n("TSYQ"),h=n.n(g),b=n("Zss7"),f=n.n(b),v=n("PAeb"),E=n("1w3K"),y=n("kDLi"),x=n("Gyt8"),w=Object(y.stylesFactory)(function(e){var t=Object(y.selectThemeVariant)({light:e.colors.gray5,dark:e.colors.dark1},e.type),n=f()(e.colors.orangeDark).lighten(10).toString(),d=f()(e.colors.orangeDark).desaturate(90).toString();return{noRightBorderStyle:Object(v.css)(o||(o=Object(p.__makeTemplateObject)(["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "],["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "]))),liveButton:Object(v.css)(a||(a=Object(p.__makeTemplateObject)(["\n      label: liveButton;\n      margin: 0;\n    "],["\n      label: liveButton;\n      margin: 0;\n    "]))),isLive:Object(v.css)(r||(r=Object(p.__makeTemplateObject)(["\n      label: isLive;\n      border-color: ",";\n      color: ",";\n      background: transparent;\n      &:focus {\n        background: transparent;\n        border-color: ",";\n        color: ",";\n      }\n      &:hover {\n        background-color: ",";\n      }\n      &:active,\n      &:hover {\n        border-color: ",";\n        color: ",";\n      }\n    "],["\n      label: isLive;\n      border-color: ",";\n      color: ",";\n      background: transparent;\n      &:focus {\n        background: transparent;\n        border-color: ",";\n        color: ",";\n      }\n      &:hover {\n        background-color: ",";\n      }\n      &:active,\n      &:hover {\n        border-color: ",";\n        color: ",";\n      }\n    "])),e.colors.orangeDark,e.colors.orangeDark,e.colors.orangeDark,e.colors.orangeDark,t,n,n),isPaused:Object(v.css)(i||(i=Object(p.__makeTemplateObject)(["\n      label: isPaused;\n      border-color: ",";\n      background: transparent;\n      animation: pulse 3s ease-out 0s infinite normal forwards;\n      &:focus {\n        background: transparent;\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n      }\n      &:active,\n      &:hover {\n        border-color: ",";\n      }\n      @keyframes pulse {\n        0% {\n          color: ",";\n        }\n        50% {\n          color: ",";\n        }\n        100% {\n          color: ",";\n        }\n      }\n    "],["\n      label: isPaused;\n      border-color: ",";\n      background: transparent;\n      animation: pulse 3s ease-out 0s infinite normal forwards;\n      &:focus {\n        background: transparent;\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n      }\n      &:active,\n      &:hover {\n        border-color: ",";\n      }\n      @keyframes pulse {\n        0% {\n          color: ",";\n        }\n        50% {\n          color: ",";\n        }\n        100% {\n          color: ",";\n        }\n      }\n    "])),e.colors.orangeDark,e.colors.orangeDark,t,n,d,e.colors.orangeDark,d),stopButtonEnter:Object(v.css)(l||(l=Object(p.__makeTemplateObject)(["\n      label: stopButtonEnter;\n      width: 0;\n      opacity: 0;\n      overflow: hidden;\n    "],["\n      label: stopButtonEnter;\n      width: 0;\n      opacity: 0;\n      overflow: hidden;\n    "]))),stopButtonEnterActive:Object(v.css)(s||(s=Object(p.__makeTemplateObject)(["\n      label: stopButtonEnterActive;\n      opacity: 1;\n      width: 32px;\n    "],["\n      label: stopButtonEnterActive;\n      opacity: 1;\n      width: 32px;\n    "]))),stopButtonExit:Object(v.css)(c||(c=Object(p.__makeTemplateObject)(["\n      label: stopButtonExit;\n      width: 32px;\n      opacity: 1;\n      overflow: hidden;\n    "],["\n      label: stopButtonExit;\n      width: 32px;\n      opacity: 1;\n      overflow: hidden;\n    "]))),stopButtonExitActive:Object(v.css)(u||(u=Object(p.__makeTemplateObject)(["\n      label: stopButtonExitActive;\n      opacity: 0;\n      width: 0;\n    "],["\n      label: stopButtonExitActive;\n      opacity: 0;\n      width: 0;\n    "])))}}),O=function(){return m.a.createElement(m.a.Fragment,null,"Live")};function k(e){var t,n=e.start,o=e.pause,a=e.resume,r=e.isLive,i=e.isPaused,l=e.stop,s=e.splitted,c=Object(y.useTheme)(),u=w(c),p=r?i?a:o:n;return m.a.createElement(m.a.Fragment,null,m.a.createElement(y.Tooltip,{content:O,placement:"bottom"},m.a.createElement(x.a,{splitted:s,buttonClassName:h()("btn navbar-button",u.liveButton,(t={},t["btn--radius-right-0 explore-active-button-glow "+u.noRightBorderStyle]=r,t[u.isLive]=r&&!i,t[u.isPaused]=r&&i,t)),iconClassName:h()("fa",i||!r?"fa-play":"fa-pause",r&&"icon-brand-gradient"),onClick:p,title:" Live"})),m.a.createElement(E.CSSTransition,{mountOnEnter:!0,unmountOnExit:!0,timeout:500,in:r,classNames:{enter:u.stopButtonEnter,enterActive:u.stopButtonEnterActive,exit:u.stopButtonExit,exitActive:u.stopButtonExitActive}},m.a.createElement("div",null,m.a.createElement("button",{className:"btn navbar-button navbar-button--attached explore-active-button-glow "+u.isLive,onClick:l},m.a.createElement("i",{className:h()("fa fa-stop icon-brand-gradient")})))))}},sguS:function(e,t,n){"use strict";(function(e){var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("0cfB"),l=n("PAeb"),s=n("/MKj"),c=n("jYz7"),u=n("Wwog"),p=n("SMGL"),d=n("kDLi"),m=n("ajrG"),g=n("cAtN"),h=n("zLRG"),b=n("Efza"),f=n("Obii"),v=n("sBLX"),E=n("m257"),y=n("1524"),x=n("bkob"),w=n("TUgz"),O=n("1LJY"),k=n("0H9l"),T=n("OTXG"),j=n("5llT"),S=Object(u.default)(function(){return{logsMain:Object(l.css)(I||(I=Object(o.__makeTemplateObject)(["\n      label: logsMain;\n      // Is needed for some transition animations to work.\n      position: relative;\n    "],["\n      label: logsMain;\n      // Is needed for some transition animations to work.\n      position: relative;\n    "]))),exploreAddButton:Object(l.css)(_||(_=Object(o.__makeTemplateObject)(["\n      margin-top: 1em;\n    "],["\n      margin-top: 1em;\n    "])))}}),C=function(e){function t(t){var n=e.call(this,t)||this;return n.getRef=function(e){n.el=e},n.onChangeTime=function(e){var t=n.props;(0,t.updateTimeRange)({exploreId:t.exploreId,rawRange:e})},n.onClickExample=function(e){n.props.setQueries(n.props.exploreId,[e])},n.onClickFilterLabel=function(e,t){n.onModifyQueries({type:"ADD_FILTER",key:e,value:t})},n.onClickFilterOutLabel=function(e,t){n.onModifyQueries({type:"ADD_FILTER_OUT",key:e,value:t})},n.onClickAddQueryRowButton=function(){var e=n.props,t=e.exploreId,o=e.queryKeys;n.props.addQueryRow(t,o.length)},n.onModifyQueries=function(e,t){var o,a=n.props.datasourceInstance;if(null===(o=a)||void 0===o?void 0:o.modifyQuery){n.props.modifyQueries(n.props.exploreId,e,function(e,t){return a.modifyQuery(e,t)},t)}},n.onResize=function(e){n.props.changeSize(n.props.exploreId,e)},n.onStartScanning=function(){n.props.scanStart(n.props.exploreId)},n.onStopScanning=function(){n.props.scanStopAction({exploreId:n.props.exploreId})},n.onToggleGraph=function(e){var t=n.props;(0,t.toggleGraph)(t.exploreId,e)},n.onUpdateTimeRange=function(e){var t=n.props,o=t.exploreId;(0,t.updateTimeRange)({exploreId:o,absoluteRange:e})},n.refreshExplore=function(){var e=n.props,t=e.exploreId,o=e.update;(o.queries||o.ui||o.range||o.datasource||o.mode)&&n.props.refreshExplore(t)},n.renderEmptyState=function(){return r.a.createElement("div",{className:"explore-container"},r.a.createElement(w.a,null))},n.exploreEvents=new y.a,n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.initialized,n=e.exploreId,o=e.initialDatasource,a=e.initialQueries,r=e.initialRange,i=e.mode,l=e.initialUI,s=e.originPanelId,c=this.el?this.el.offsetWidth:0;t||this.props.initializeExplore(n,o,a,r,i,c,this.exploreEvents,l,s)},t.prototype.componentWillUnmount=function(){this.exploreEvents.removeAllListeners()},t.prototype.componentDidUpdate=function(e){this.refreshExplore()},t.prototype.render=function(){var e,t,n=this,o=this.props,a=o.datasourceInstance,i=o.datasourceMissing,l=o.exploreId,s=o.split,u=o.queryKeys,p=o.mode,b=o.graphResult,E=o.loading,y=o.absoluteRange,w=o.showingGraph,O=o.showingTable,T=o.timeZone,C=o.queryResponse,L=o.syncedTimes,R=o.isLive,I=s?"explore explore-split":"explore",_=S(),N=null===(t=null===(e=a)||void 0===e?void 0:e.components)||void 0===t?void 0:t.ExploreStartPage,M=!C||C.state===f.LoadingState.NotStarted;return r.a.createElement("div",{className:I,ref:this.getRef},r.a.createElement(x.a,{exploreId:l,onChangeTime:this.onChangeTime}),i?this.renderEmptyState():null,a&&r.a.createElement("div",{className:"explore-container"},r.a.createElement(g.a,{exploreEvents:this.exploreEvents,exploreId:l,queryKeys:u}),r.a.createElement("div",{className:"gf-form"},r.a.createElement("button",{"aria-label":"Add row button",className:"gf-form-label gf-form-label--btn "+_.exploreAddButton,onClick:this.onClickAddQueryRowButton,disabled:R},r.a.createElement("i",{className:"fa fa-fw fa-plus icon-margin-right"}),r.a.createElement("span",{className:"btn-title"}," Add query"))),r.a.createElement(k.a,{queryErrors:C.error?[C.error]:void 0}),r.a.createElement(c.a,{onResize:this.onResize,disableHeight:!0},function(e){var t=e.width;return 0===t?null:r.a.createElement("main",{className:"m-t-2 "+_.logsMain,style:{width:t}},r.a.createElement(d.ErrorBoundaryAlert,null,M&&N&&r.a.createElement("div",{className:"grafana-info-box grafana-info-box--max-lg"},r.a.createElement(N,{onClickExample:n.onClickExample,datasource:a,exploreMode:p})),!M&&r.a.createElement(r.a.Fragment,null,p===v.b.Metrics&&r.a.createElement(j.a,{series:b,width:t,loading:E,absoluteRange:y,isStacked:!1,showPanel:!0,showingGraph:w,showingTable:O,timeZone:T,onToggleGraph:n.onToggleGraph,onUpdateTimeRange:n.onUpdateTimeRange,showBars:!1,showLines:!0}),p===v.b.Metrics&&r.a.createElement(h.a,{width:t,exploreId:l,onClickCell:n.onClickFilterLabel}),p===v.b.Logs&&r.a.createElement(m.a,{width:t,exploreId:l,syncedTimes:L,onClickFilterLabel:n.onClickFilterLabel,onClickFilterOutLabel:n.onClickFilterOutLabel,onStartScanning:n.onStartScanning,onStopScanning:n.onStopScanning}))))})))},t}(r.a.PureComponent),L=Object(u.default)(E.h),R=Object(u.default)(E.o);var I,_,N={changeSize:b.g,initializeExplore:b.i,modifyQueries:b.j,refreshExplore:b.l,scanStart:b.n,scanStopAction:T.v,setQueries:b.o,updateTimeRange:b.u,toggleGraph:b.s,addQueryRow:b.a};t.a=Object(i.hot)(e)(Object(s.connect)(function(e,t){var n,o=t.exploreId,a=e.explore,r=a.split,i=a.syncedTimes,l=a[o],s=Object(O.a)(e.user),c=l.datasourceInstance,u=l.datasourceMissing,d=l.initialized,m=l.queryKeys,g=l.urlState,h=l.update,b=l.isLive,f=l.supportedModes,y=l.mode,x=l.graphResult,w=l.loading,k=l.showingGraph,T=l.showingTable,j=l.absoluteRange,S=l.queryResponse,C=g||{},I=C.datasource,_=C.queries,N=C.range,M=C.mode,D=C.ui,P=C.originPanelId,B=I||p.a.get(Object(E.r)(e.user.orgId)),A=L(_),Q=N?R(N,s):Object(E.n)(s,E.a);if(f.length){var F=f.includes(M);n=f.includes(y)?y:F?M:f[0]}else n=[v.b.Metrics,v.b.Logs].includes(M)?M:void 0;return{datasourceInstance:c,datasourceMissing:u,initialized:d,split:r,queryKeys:m,update:h,initialDatasource:B,initialQueries:A,initialRange:Q,mode:n,initialUI:D||E.b,isLive:b,graphResult:x,loading:w,showingGraph:k,showingTable:T,absoluteRange:j,queryResponse:S,originPanelId:P,syncedTimes:i,timeZone:s}},N)(C))}).call(this,n("3UD+")(e))},y2tl:function(e,t,n){"use strict";var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("t8hP"),l=n("NPB1"),s=(n("Vw/f"),n("Obii")),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(o.__awaiter)(this,void 0,void 0,function(){var e,t,n,a,r,l,s,c,u=this;return Object(o.__generator)(this,function(p){return this.element?(e=this.props,t=e.datasource,n=e.initialQuery,a=e.exploreEvents,r=e.range,this.initTimeSrv(r),l=Object(i.getAngularLoader)(),'<plugin-component type="query-ctrl"> </plugin-component>',s=Object(o.__assign)({datasource:t.name},n),c={ctrl:{datasource:t,target:s,refresh:function(){setTimeout(function(){var e,t,n,o;null===(t=(e=u.props).onQueryChange)||void 0===t||t.call(e,s),null===(o=(n=u.props).onExecuteQuery)||void 0===o||o.call(n)},1)},onQueryChange:function(){setTimeout(function(){var e,t;null===(t=(e=u.props).onQueryChange)||void 0===t||t.call(e,s)},1)},events:a,panel:{datasource:t,targets:[s]},dashboard:{}}},this.component=l.load(this.element,c,'<plugin-component type="query-ctrl"> </plugin-component>'),this.angularScope=c.ctrl,setTimeout(function(){var e,t,n,o;null===(t=(e=u.props).onQueryChange)||void 0===t||t.call(e,s),null===(o=(n=u.props).onExecuteQuery)||void 0===o||o.call(n)},1),[2]):[2]})})},t.prototype.componentDidUpdate=function(e){var t=e.textEditModeEnabled!==this.props.textEditModeEnabled,n=e.error!==this.props.error;this.component&&(t&&this.angularScope&&this.angularScope.toggleEditorMode&&this.angularScope.toggleEditorMode(),(n||t)&&setTimeout(this.component.digest))},t.prototype.componentWillUnmount=function(){this.component&&this.component.destroy()},t.prototype.initTimeSrv=function(e){Object(l.a)().init({time:{from:Object(s.dateTime)(e.from),to:Object(s.dateTime)(e.to)},refresh:!1,getTimezone:function(){return"utc"},timeRangeUpdated:function(){return console.log("refreshDashboard!")}})},t.prototype.render=function(){var e=this;return r.a.createElement("div",{className:"gf-form-query",ref:function(t){return e.element=t},style:{width:"100%"}})},t}(a.PureComponent);t.a=c},zLRG:function(e,t,n){"use strict";(function(e){var o=n("mrSG"),a=n("q1tI"),r=n.n(a),i=n("0cfB"),l=n("/MKj"),s=n("kDLi"),c=n("Efza"),u=n("ZFWI"),p=n("eXZ6"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickTableButton=function(){t.props.toggleTable(t.props.exploreId,t.props.showingTable)},t}return Object(o.__extends)(t,e),t.prototype.getTableHeight=function(){var e=this.props.tableResult;return e&&0!==e.length?Math.max(Math.min(600,35*e.length)+35):200},t.prototype.render=function(){var e=this.props,t=e.loading,n=e.onClickCell,o=e.showingTable,a=e.tableResult,i=e.width,l=this.getTableHeight(),c=i-2*u.a.theme.panelPadding-p.h;return r.a.createElement(s.Collapse,{label:"Table",loading:t,collapsible:!0,isOpen:o,onToggle:this.onClickTableButton},a&&r.a.createElement(s.Table,{data:a,width:c,height:l,onCellClick:n}))},t}(a.PureComponent);var m={toggleTable:c.t};t.a=Object(i.hot)(e)(Object(l.connect)(function(e,t){var n=t.exploreId,o=e.explore[n],a=o.loading,r=o.showingTable,i=o.tableResult;return{loading:!(i&&i.length>0)&&a,showingTable:r,tableResult:i}},m)(d))}).call(this,n("3UD+")(e))}}]);
//# sourceMappingURL=explore.4d0490a94b199a11f40c.js.map