{"version":3,"file":"6324.4a3c3887825551a24ebd.js","mappings":"4HA0DO,MAAMA,EAAiB,UACjBC,EAAmB,W,wICzBhC,MAAMC,EAAqBC,EAAAA,GAAI;;;;EAkCxB,MAAMC,EAAoD,CAC/DC,GAAI,OACJC,KAAM,OACNC,YAAa,mBAEbC,QAjCK,SAAqBC,GAC1B,MAAM,KAAEC,GAASD,EACjB,GAAKC,MAAAA,IAAAA,EAAMC,KACT,OAAO,KAGT,MAMMC,EAA0B,CAC9BC,KAAMH,MAAAA,OAAF,EAAEA,EAAMG,KACZC,OAAQJ,MAAAA,OAAF,EAAEA,EAAMK,YACdC,YAAaN,MAAAA,OAAF,EAAEA,EAAMI,QAGrB,OACE,SAAC,IAAD,CACEG,QAdY,KACVP,MAAAA,GAAAA,EAAMQ,MACRC,EAAAA,EAAAA,GAAQT,EAAKQ,MAabE,IAAKV,EAAKC,KACVU,MAAOT,EACPU,UAAWV,EAASI,YAAcd,OAAqBqB,KAY3DC,cAAgBC,GAAD,eACbC,UAAW,CACTC,MAAO,IACPC,OAAQ,IACRC,IAAK,EACLC,KAAM,IAELL,EAPU,CAQbM,OAAQ,CACNpB,KAAM,CACJqB,KAAMC,EAAAA,GAAAA,MACNC,MAAO,yCAETrB,KAAM,CAAEqB,MAAOlC,EAAAA,IAEjBmC,WAAY,CACVC,MAAO,CACLF,MAAO,kBAMbG,YAAa,CAACC,EAAuBC,KAAoB,QACvD,IAAI5B,EACA4B,EAAI5B,OACNA,EAAO2B,EAAIE,YAAYD,EAAI5B,MAAM8B,SAE9B9B,IAAS+B,EAAAA,EAAAA,UAAS/B,KACrBA,GAAOgC,EAAAA,EAAAA,IAAuB,0CAGhC,MAAMjC,EAAiB,CACrBC,KAAAA,EACAE,KAAM0B,EAAI1B,KAAOyB,EAAIM,SAASL,EAAI1B,MAAM4B,QAAUzC,EAAAA,EAClDkB,IAAG,UAAEqB,MAAAA,OAAF,EAAEA,EAAKrB,WAAP,aAAcK,GAIS,MADxB,UAAAgB,EAAIzB,cAAJ,SAAYa,OAASY,EAAIzB,OAAOsB,QAC9BG,EAAIzB,OAAOa,MAAQ,IACrBjB,EAAKI,OAAL,UAAcyB,EAAIzB,cAAlB,aAAc,EAAYa,MAC1BjB,EAAKK,YAAcuB,EAAIM,SAASL,EAAIzB,OAAOsB,OAAOK,UAGtD,OAAO/B,GAITmC,kBAAoBC,IAClB,MAAMC,EAAW,CAAC,QAClBD,EACGE,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,eACJM,KAAM,cACNL,KAAM,WACN2C,OAAQC,EAAAA,GACRC,SAAU,CACRC,aAAc,UAGjBJ,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,cACJM,KAAM,cACNL,KAAM,aACN2C,OAAQI,EAAAA,GACRF,SAAU,GACVG,aAAc,CAEZpB,MAAO,a,6DCzIjB,MAAMqB,UAAwBC,EAAAA,cAC5BC,SACE,MAAM,OAAE1B,GAAW2B,KAAKjD,MACxB,OACE,kCACE,yCACA,yBAAMkD,KAAKC,UAAU7B,EAAQ,KAAM,SAMpC,MAAM8B,EAAkD,CAC7DxD,GAAI,YACJC,KAAM,YACNC,YAAa,yDAEbC,QAAS+C,EAETO,YAAa,CACXnC,MAAO,IACPC,OAAQ,KAGVJ,cAAe,KAAM,CACnBO,OAAQ,O,+LCbZ,MAAMgC,UAAsBP,EAAAA,cAC1BC,SACE,MAAM,KAAE/C,GAASgD,KAAKjD,MAOtB,OACE,SAAC,EAAAuD,OAAD,CAAQC,KAAK,SAAShD,QAPR,KACVP,MAAAA,GAAAA,EAAMQ,MACRC,EAAAA,EAAAA,GAAQT,EAAKQ,MAKyBG,MAAO,CAAEc,WAAYnC,EAAAA,GAA7D,SACGU,MAAAA,OADH,EACGA,EAAMwD,QAMR,MAAMC,EAA0D,CACrE9D,GAAI,SACJC,KAAM,SACNC,YAAa,SAEbC,QAASuD,EAETD,YAAa,CACXnC,MAAO,GACPC,OAAQ,IAGVJ,cAAgBC,GAAD,iBACVA,EADU,CAEbU,WAAY,CACVC,MAAO,CACLF,MAAO,gBAGXR,UAAW,CACTC,MAAO,GACPC,OAAQ,GACRC,IAAK,EACLC,KAAM,KAKVO,YAAa,CAACC,EAAuBC,KAAsB,MAMzD,MALyB,CACvB2B,KAAM3B,MAAAA,GAAAA,EAAK2B,KAAO5B,EAAI8B,QAAQ7B,EAAI2B,MAAMzB,QAAU,GAClDvB,IAAG,UAAEqB,MAAAA,OAAF,EAAEA,EAAKrB,WAAP,aAAcK,IAOrBsB,kBAAoBC,IAClB,MAAMC,EAAW,CAAC,UAClBD,EACGE,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,eACJM,KAAM,cACNL,KAAM,OACN2C,OAAQoB,EAAAA,IAETrB,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,cACJM,KAAM,aACNL,KAAM,MACN2C,OAAQqB,EAAAA,M,kCCxEhB,MAsDaC,EAA8C,CACzDlE,GAAI,aACJC,KAAM,cACNC,YAAa,cAEbC,QA3DmFC,IACnF,MAAM+D,GAASC,EAAAA,EAAAA,YAAWC,IAEpB,KAAEhE,GAASD,EAEXkE,EAA4B,UAASjE,MAAAA,GAAAA,EAAMkE,UAAYlE,EAAKkE,UAAY,QAE9E,OACE,iBACEtD,UAAWkD,EAAOK,WAClBC,MAAM,6BACNC,WAAW,+BACXC,QAAQ,eACR3D,MAAO,CAAE4D,UAAWN,EAA0B7D,OAAQd,EAAAA,GALxD,iBAOE,eAAGsB,UAAU,OAAOR,OAAQd,EAAAA,EAAgBgB,YAAY,OAAxD,WACE,iBAAMkE,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,SACpC,iBAAMH,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,SACpC,iBAAMH,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,SACpC,iBAAMH,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,YAXxC,OAaE,eAAG/D,UAAU,OAAOR,OAAQd,EAAAA,EAAgBgB,YAAY,OAAxD,WACE,iBACEH,KAAK,OACLyE,EAAE,mRAEJ,mBAAQC,GAAG,MAAMC,GAAG,MAAMC,EAAE,KAAK5E,KAAK,aAlB1C,OAoBE,eAAGS,UAAU,SAASR,OAAQd,EAAAA,EAAgBgB,YAAY,OAA1D,WACE,iBACEM,UAAU,QACVT,KAAK,OACLyE,EAAE,4EAEJ,iBACEhE,UAAU,QACVT,KAAK,OACLyE,EAAE,mFA7BR,OAgCE,eAAGhE,UAAU,aAAaT,KAAMb,EAAAA,EAAhC,WACE,iBACEsB,UAAU,OACVgE,EAAE,8KAEJ,iBACEhE,UAAU,OACVgE,EAAE,wMAcVxB,YAAa,CACXnC,MAAO,IACPC,OAAQ,IAGVJ,cAAgBC,IAAD,wCACVA,EADU,CAEbU,WAAY,CACVC,MAAO,CACLF,MAAO,gBAGXR,UAAW,CACTC,MAAK,UAAEF,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBC,aAAtB,QAA+B,IACpCC,OAAM,UAAEH,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBE,cAAtB,QAAgC,GACtCC,IAAKJ,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBG,IACzBC,KAAML,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBI,SAK9BO,YAAa,CAACC,EAAuBC,KACN,CAC3BqC,UAAWrC,MAAAA,GAAAA,EAAKqC,UAAYtC,EAAIoD,UAAUnD,EAAIqC,WAAWnC,QAAU,IAMvEI,kBAAoBC,IAElBA,EAAQE,gBAAgB,CACtBD,SAFe,CAAC,eAGhB1C,GAAI,YACJM,KAAM,mBACNL,KAAM,aACN2C,OAAQ0C,EAAAA,OAKRjB,EAAakB,IAAD,CAChBf,WAAY1E,EAAAA,GAAI;;kBCvGlB,MAqDa0F,EAA6C,CACxDxF,GAAI,YACJC,KAAM,aACNC,YAAa,aAEbC,QA1DgFC,IAChF,MAAM+D,GAASC,EAAAA,EAAAA,YAAWC,IAEpB,KAAEhE,GAASD,EAEXqF,EAAgC,UAASpF,MAAAA,GAAAA,EAAMqF,WAAarF,EAAKqF,WAAa,QAEpF,OACE,iBACEzE,UAAWkD,EAAOwB,UAClBlB,MAAM,6BACNC,WAAW,+BACXC,QAAQ,eACR3D,MAAO,CAAE4D,UAAWa,EAA8BhF,OAAQd,EAAAA,GAL5D,iBAOE,eAAGsB,UAAU,OAAOR,OAAQd,EAAAA,EAAgBgB,YAAY,OAAxD,WACE,iBAAMkE,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,SACpC,iBAAMH,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,SACpC,iBAAMH,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,SACpC,iBAAMH,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,GAAG,YAXxC,OAaE,cAAG/D,UAAU,OAAOR,OAAQd,EAAAA,EAAgBgB,YAAY,OAAxD,UACE,iBACEH,KAAK,OACLyE,EAAE,qRAhBR,OAmBE,eAAGhE,UAAU,SAASR,OAAQd,EAAAA,EAAgBgB,YAAY,OAA1D,WACE,iBACEM,UAAU,QACVT,KAAK,OACLyE,EAAE,4EAEJ,iBACEhE,UAAU,QACVT,KAAK,OACLyE,EAAE,mFA5BR,OA+BE,eAAGhE,UAAU,aAAaT,KAAMb,EAAAA,EAAhC,WACE,iBACEsB,UAAU,OACVgE,EAAE,8KAEJ,iBACEhE,UAAU,OACVgE,EAAE,wMAcVxB,YAAa,CACXnC,MAAO,IACPC,OAAQ,IAGVJ,cAAgBC,IAAD,wCACVA,EADU,CAEbU,WAAY,CACVC,MAAO,CACLF,MAAO,gBAGXR,UAAW,CACTC,MAAK,UAAEF,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBC,aAAtB,QAA+B,IACpCC,OAAM,UAAEH,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBE,cAAtB,QAAgC,GACtCC,IAAKJ,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBG,IACzBC,KAAML,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBI,SAK9BO,YAAa,CAACC,EAAuBC,KACP,CAC1BwD,WAAYxD,MAAAA,GAAAA,EAAKwD,WAAazD,EAAIoD,UAAUnD,EAAIwD,YAAYtD,QAAU,IAM1EI,kBAAoBC,IAElBA,EAAQE,gBAAgB,CACtBD,SAFe,CAAC,cAGhB1C,GAAI,aACJM,KAAM,oBACNL,KAAM,cACN2C,OAAQ0C,EAAAA,OAKRjB,EAAakB,IAAD,CAChBI,UAAW7F,EAAAA,GAAI;;cC9FjB,MAyDa8F,EAA4C,CACvD5F,GAAI,WACJC,KAAM,YACNC,YAAa,YAEbC,QA9D6EC,IAC7E,MAAM+D,GAASC,EAAAA,EAAAA,YAAWC,IAEpB,KAAEhE,GAASD,EAEXyF,EAAwB,QAAOxF,MAAAA,GAAAA,EAAMyF,eAAiB,GAAKC,KAAKC,IAAI3F,EAAKyF,gBAAkB,qBAE3FG,EAAuB,QAAO5F,MAAAA,GAAAA,EAAM6F,cAAgB,GAAKH,KAAKC,IAAI3F,EAAK6F,eAAiB,qBAExFC,EAAwB,QAAO9F,MAAAA,GAAAA,EAAM+F,eAAiB,GAAKL,KAAKC,IAAI3F,EAAK+F,gBAAkB,qBAE3FC,EAAuB,QAAOhG,MAAAA,GAAAA,EAAMiG,cAAgB,GAAKP,KAAKC,IAAI3F,EAAKiG,eAAiB,qBAExFC,EAA0B,UAASlG,MAAAA,GAAAA,EAAMmG,SAAWnG,EAAKmG,SAAW,QAE1E,OACE,iBACE/B,MAAM,6BACNC,WAAW,+BACXC,QAAQ,kBACR8B,SAAS,WACTzF,MAAO,CAAE4D,UAAW2B,EAAwB/F,KAAMb,EAAAA,GALpD,iBAOE,iBACE+G,SAAS,UACTzB,EAAE,+oJATN,OAWE,iBACEyB,SAAS,UACTzB,EAAE,s7FAEJ,eAAGhE,UAAU,kBAAb,WACE,iBACEA,UAAY,GAAEkD,EAAOwC,aAAaxC,EAAOyC,cACzC5F,MAAO,CAAE6F,UAAWV,GACpBlB,EAAE,skBAEJ,iBACEhE,UAAY,GAAEkD,EAAOwC,aAAaxC,EAAO2C,eACzC9F,MAAO,CAAE6F,UAAWhB,GACpBZ,EAAE,ijBAEJ,iBACEhE,UAAY,GAAEkD,EAAOwC,aAAaxC,EAAO2C,eACzC9F,MAAO,CAAE6F,UAAWR,GACpBpB,EAAE,+iBAEJ,iBACEhE,UAAY,GAAEkD,EAAOwC,aAAaxC,EAAOyC,cACzC5F,MAAO,CAAE6F,UAAWZ,GACpBhB,EAAE,giBAcVxB,YAAa,CACXnC,MAAO,IACPC,OAAQ,KAGVJ,cAAgBC,GAAD,iBACVA,EADU,CAEbU,WAAY,CACVC,MAAO,CACLF,MAAO,kBAMbG,YAAa,CAACC,EAAuBC,KACR,CACzBkE,eAAgBlE,MAAAA,GAAAA,EAAKkE,eAAiBnE,EAAIoD,UAAUnD,EAAIkE,gBAAgBhE,QAAU,EAClFkE,cAAepE,MAAAA,GAAAA,EAAKoE,cAAgBrE,EAAIoD,UAAUnD,EAAIoE,eAAelE,QAAU,EAC/E0D,eAAgB5D,MAAAA,GAAAA,EAAK4D,eAAiB7D,EAAIoD,UAAUnD,EAAI4D,gBAAgB1D,QAAU,EAClF8D,cAAehE,MAAAA,GAAAA,EAAKgE,cAAgBjE,EAAIoD,UAAUnD,EAAIgE,eAAe9D,QAAU,EAC/EoE,SAAUtE,MAAAA,GAAAA,EAAKsE,SAAWvE,EAAIoD,UAAUnD,EAAIsE,UAAUpE,QAAU,IAMpEI,kBAAoBC,IAClB,MAAMC,EAAW,CAAC,aAClBD,EACGE,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,WACJM,KAAM,kBACNL,KAAM,YACN2C,OAAQ0C,EAAAA,KAET3C,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,iBACJM,KAAM,wBACNL,KAAM,wBACN2C,OAAQ0C,EAAAA,KAET3C,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,gBACJM,KAAM,uBACNL,KAAM,uBACN2C,OAAQ0C,EAAAA,KAET3C,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,iBACJM,KAAM,wBACNL,KAAM,uBACN2C,OAAQ0C,EAAAA,KAET3C,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,gBACJM,KAAM,uBACNL,KAAM,sBACN2C,OAAQ0C,EAAAA,OAKVjB,EAAakB,IAAD,CAChBoB,UAAW7G,EAAAA,GAAI;;;;;;;;;;;;IAaf8G,YAAa9G,EAAAA,GAAI;;IAGjBgH,aAAchH,EAAAA,GAAI;;2CClKb,IAAKiH,EAMAC,G,SANAD,GAAAA,EAAAA,KAAAA,OAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,Q,CAAAA,IAAAA,EAAAA,K,SAMAC,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,SAAAA,EAAAA,OAAAA,S,CAAAA,IAAAA,EAAAA,KAsBZ,MAAMC,UAAuB9D,EAAAA,cAC3BC,SACE,MAAM,KAAE/C,GAASgD,KAAKjD,MAChB+D,EAASE,EAAU3C,EAAAA,GAAAA,OAAerB,GACxC,OACE,gBAAKY,UAAWkD,EAAO+C,UAAvB,UACE,iBAAMjG,UAAWkD,EAAOgD,KAAxB,SAA+B9G,MAAAA,OAA/B,EAA+BA,EAAMwD,UAK7C,MAAMQ,GAAY+C,EAAAA,EAAAA,gBAAc,CAAC7B,EAAsBlF,KAAvB,CAC9B6G,UAAWpH,EAAAA,GAAI;;;;;IAMfqH,KAAMrH,EAAAA,GAAI;;sBAEUO,EAAKgH;kBACThH,EAAKiH;iBACNjH,MAAAA,OAJN,EAIMA,EAAMkH;aACVlH,MAAAA,OALF,EAKEA,EAAM0B;QAGNyF,EAA6D,CACxExH,GAAI,WACJC,KAAM,OACNC,YAAa,WAEbC,QAAS8G,EAETxD,YAAa,CACXnC,MAAO,IACPC,OAAQ,KAGVJ,cAAgBC,GAAD,iBACVA,EADU,CAEbM,OAAQ,CACN4F,MAAOP,EAAMU,OACbJ,OAAQL,EAAOU,OACf3F,MAAO,CACLF,MAAOjC,EAAAA,IAGXkC,WAAY,CACVC,MAAO,CACLF,MAAOlC,EAAAA,MAMbqC,YAAa,CAACC,EAAuBC,KAAuB,QAC1D,MAAM7B,EAAoB,CACxBwD,KAAM3B,EAAI2B,KAAO5B,EAAI8B,QAAQ7B,EAAI2B,MAAMzB,QAAU,GACjDkF,MAAK,UAAEpF,EAAIoF,aAAN,QAAeP,EAAMU,OAC1BJ,OAAM,UAAEnF,EAAImF,cAAN,QAAgBL,EAAOU,OAC7BH,KAAMrF,EAAIqF,MAOZ,OAJIrF,EAAIH,QACN1B,EAAK0B,MAAQE,EAAIM,SAASL,EAAIH,OAAOK,SAGhC/B,GAITmC,kBAAoBC,IAClB,MAAMC,EAAW,CAAC,YAClBD,EACGE,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,eACJM,KAAM,cACNL,KAAM,OACN2C,OAAQoB,EAAAA,IAETrB,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,eACJM,KAAM,eACNL,KAAM,aACN2C,OAAQI,EAAAA,EACRF,SAAU,GACVG,aAAc,KAEf0E,SAAS,CACRjF,SAAAA,EACApC,KAAM,eACNL,KAAM,aACN6C,SAAU,CACR1B,QAAS,CACP,CAAEgB,MAAO2E,EAAMa,KAAMC,MAAO,QAC5B,CAAEzF,MAAO2E,EAAMU,OAAQI,MAAO,UAC9B,CAAEzF,MAAO2E,EAAMe,MAAOD,MAAO,WAGjC5E,aAAc8D,EAAMa,OAErBD,SAAS,CACRjF,SAAAA,EACApC,KAAM,gBACNL,KAAM,iBACN6C,SAAU,CACR1B,QAAS,CACP,CAAEgB,MAAO4E,EAAOe,IAAKF,MAAO,OAC5B,CAAEzF,MAAO4E,EAAOU,OAAQG,MAAO,UAC/B,CAAEzF,MAAO4E,EAAOgB,OAAQH,MAAO,YAGnC5E,aAAc+D,EAAOU,SAEtBO,eAAe,CACdvF,SAAAA,EACApC,KAAM,cACNL,KAAM,YACN6C,SAAU,CACRoF,YAAa,Y,cChJvB,MAiDaC,EAA+C,CAC1DnI,GAAI,cACJC,KAAM,eACNC,YAAa,gBAEbC,QAtDsFC,IACtF,MAAM+D,GAASC,EAAAA,EAAAA,YAAWC,IAEpB,KAAEhE,GAASD,EAEXgI,EAAwB,QAAO/H,MAAAA,GAAAA,EAAMgI,IAAM,GAAKtC,KAAKC,IAAI3F,EAAKgI,KAAO,qBAE3E,OACE,iBAAK1D,QAAQ,sBAAsB2D,oBAAoB,gBAAgBtH,MAAO,CAAER,KAAMb,EAAAA,GAAtF,iBACE,oBAAQK,GAAG,QAAX,WACE,iBACEQ,KAAK,UACLR,GAAG,cACHiF,EAAE,gPAEJ,iBACEzE,KAAK,UACLR,GAAG,aACHiF,EAAE,qMAIN,gCACE,eAAGjF,GAAG,YAAY4E,UAAU,4BAA4B8B,SAAS,UAAjE,WACE,oBAAS1G,GAAG,QAAQQ,KAAK,UAAU+H,OAAO,8DAC1C,iBACEvI,GAAG,MACHQ,KAAK,mBACLyE,EAAE,2LAEJ,iBACEjF,GAAG,OACHQ,KAAK,UACLoE,UAAU,kBACVK,EAAE,qRAEJ,mBAAQjF,GAAG,UAAUQ,KAAK,UAAU0E,GAAG,QAAQC,GAAG,KAAKC,EAAE,WACzD,mBAAQpF,GAAG,UAAUQ,KAAK,OAAOC,OAAO,UAAUE,YAAY,OAAOuE,GAAG,SAASC,GAAG,SAASC,EAAE,aAEjG,eAAGnE,UAAWkD,EAAOqE,MAAOxH,MAAO,CAAE6F,UAAWuB,GAAhD,iBACE,gBAAKpI,GAAG,SAASyI,KAAK,SAASC,EAAE,QAAQC,EAAE,OAD7C,OAEE,gBAAK3I,GAAG,SAASyI,KAAK,SAASC,EAAE,QAAQC,EAAE,IAAI/D,UAAU,+BAF3D,OAGE,gBAAK5E,GAAG,SAASyI,KAAK,SAASC,EAAE,QAAQC,EAAE,IAAI/D,UAAU,0CAcjEnB,YAAa,CACXnC,MAAO,IACPC,OAAQ,KAGVJ,cAAgBC,IAAD,wCACVA,EADU,CAEbU,WAAY,CACVC,MAAO,CACLF,MAAO,gBAGXR,UAAW,CACTC,MAAK,UAAEF,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBC,aAAtB,QAA+B,IACpCC,OAAM,UAAEH,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBE,cAAtB,QAAgC,IACtCC,IAAKJ,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBG,IACzBC,KAAML,MAAAA,GAAF,UAAEA,EAASC,iBAAX,aAAE,EAAoBI,SAK9BO,YAAa,CAACC,EAAuBC,KACL,CAC5BmG,IAAKnG,MAAAA,GAAAA,EAAKmG,IAAMpG,EAAIoD,UAAUnD,EAAImG,KAAKjG,QAAU,IAMrDI,kBAAoBC,IAElBA,EAAQE,gBAAgB,CACtBD,SAFe,CAAC,gBAGhB1C,GAAI,MACJM,KAAM,aACNL,KAAM,MACN2C,OAAQ0C,EAAAA,OAKRjB,EAAakB,IAAD,CAChBiD,MAAO1I,EAAAA,GAAI;;;;;;;;;;;;MCzGA8I,EAAsD,OAAH,UAC3D7I,EAAAA,EAAAA,gBAD2D,CAE9D6D,KAAM7D,EAAAA,EAAAA,GACNE,KAAO,cAGI4I,EAAsB,CACjC9I,EAAAA,EACAyH,GAGIsB,EAAuB,CAAChF,EAAYqE,EAAiBvC,EAAc1B,EAAgBsB,GAE5EuD,EAAwB,IAAIC,EAAAA,UAA4B,IAAM,IACtEH,KACAC,M,kNCPL,IAAIG,EAAU,EAEP,MAAMC,EAgBXC,YAAmBC,EAAgChI,EAAsCiI,GAAqB,uBAd/FJ,KAc+F,eAbtG,GAasG,mBAZnF,IAYmF,mBAXnF,IAWmF,iGA+V/FK,IACbjG,KAAKkG,IAAMD,EACXjG,KAAKmG,4BAjWuG,oBAoWjGC,IAAkB,QAC7B,MAAMC,GAAgC,UAAArG,KAAKjC,QAAQuI,kBAAb,eAAyBC,cAAeC,EAAAA,GAAAA,OACxEC,GAA8B,UAAAzG,KAAKjC,QAAQuI,kBAAb,eAAyBI,YAAaC,EAAAA,GAAAA,OAC1E,GAAIN,GAAiCI,EAA6B,WAGhE,MAFqB,oBAAGzG,KAAK4G,kBAAR,iBAAG,EAAiBC,eAApB,aAAG,EAA0BC,qBAAqBC,cAAlD,QAA4D,GACtC,GACpB,SACrB,MAAMC,EAAgB,UAAGhH,KAAKkG,WAAR,aAAG,EAAUe,wBAC7B/I,EAAM,UAAG8I,MAAAA,OAAH,EAAGA,EAAkB9I,cAArB,QAA+B,IACrCgJ,EAAUT,EAA8BvI,EAAS,EAAI,EAE3D,YADAkI,EAAMH,OAAOtI,MAAM4D,UAAa,aAAY6E,EAAMe,UAAU,SAASf,EAAMe,UAAU,GAAKD,SAK9Fd,EAAMH,OAAOtI,MAAM4D,UAAY6E,EAAM7E,aAnXuE,sBAwX/F6E,IACb,MAAMpI,EAAYgC,KAAKjC,QAAQC,UAEzBL,EAAQyI,EAAMH,OAAOtI,MACrByJ,EAAShB,EAAMiB,MAAM,GACrBC,EAASlB,EAAMiB,MAAM,GACrBE,EAAQnB,EAAMoB,UAAU,GACxBC,EAAQrB,EAAMoB,UAAU,GAEhB,IAAVD,GACFvJ,EAAUC,MAAQmI,EAAMnI,MACxBN,EAAMM,MAAS,GAAED,EAAUC,YACP,IAAXsJ,IACTvJ,EAAUI,MAASgJ,EACnBpJ,EAAUC,MAAQmI,EAAMnI,MACxBN,EAAMS,KAAQ,GAAEJ,EAAUI,SAC1BT,EAAMM,MAAS,GAAED,EAAUC,YAGd,IAAXwJ,GACFzJ,EAAUG,KAAQmJ,EAClBtJ,EAAUE,OAASkI,EAAMlI,OACzBP,EAAMQ,IAAO,GAAEH,EAAUG,QACzBR,EAAMO,OAAU,GAAEF,EAAUE,YACT,IAAVuJ,IACTzJ,EAAUE,OAASkI,EAAMlI,OACzBP,EAAMO,OAAU,GAAEF,EAAUE,eAlZ8E,KAA3F6H,KAAAA,EAA2F,KAA3DhI,QAAAA,EAA2D,KAArBiI,OAAAA,EACvF,MAAM0B,EAAgB,WAAUC,KAAKC,QAChC7J,IACHiC,KAAKjC,QAAU,CAAEwC,KAAMwF,EAAKpJ,GAAIC,KAAM8K,IAGxC3J,EAAQuI,WAAR,UAAqBvI,EAAQuI,kBAA7B,QAA2C,CACzCI,SAAUC,EAAAA,GAAAA,IACVJ,WAAYC,EAAAA,GAAAA,MAEdzI,EAAQC,UAAR,UAAoBD,EAAQC,iBAA5B,QAAyC,CAAEC,MAAO,IAAKC,OAAQ,IAAKC,IAAK,EAAGC,KAAM,GAClFL,EAAQU,WAAR,UAAqBV,EAAQU,kBAA7B,QAA2C,CAAEC,MAAO,CAAEF,MAAO,gBAC7D,MAAMqJ,EAAQ7H,KAAK4G,WACnB,IAAK7I,EAAQnB,KAAM,CACjB,MAAMkL,EAAUD,MAAAA,OAAH,EAAGA,EAAOE,qBACvBhK,EAAQnB,KAAOkL,MAAAA,EAAAA,EAAWJ,EAE5BG,MAAAA,GAAAA,EAAOG,OAAOC,IAAIlK,EAAQnB,KAAMoD,MAG1B4G,WACN,IAAIsB,EAAOlI,KAAKgG,OAChB,KAAOkC,GAAM,CACX,GAAIA,EAAKC,SACP,OAAOD,EAAKL,MAEdK,EAAOA,EAAKlC,QAMhBoC,UACE,OAAOpI,KAAKjC,QAAQnB,KAItBuJ,uBAAuBkC,GAAgC,gDACrD,GAAIrI,KAAKmI,SAEP,OAGF,MAAM,WAAE7B,GAAetG,KAAKjC,SACtB,SAAE2I,EAAF,WAAYH,GAAeD,MAAAA,EAAAA,EAAc,GACzCtI,EAAS,UAAGgC,KAAKjC,QAAQC,iBAAhB,QAA8B,GAIvCL,EAA6B,CACjC2K,QAHkB,UAAGtI,KAAK4G,kBAAR,aAAG,EAAiB2B,kBAGb,OAAS,OAClCC,cAAeH,EAAuB,OAAS,OAC/CI,SAAU,WAEVC,SAAU,OACVC,UAAW,QAGPxB,EAAY,CAAC,MAAO,OAE1B,OAAQT,GACN,KAAKC,EAAAA,GAAAA,IACH3I,EAAUG,IAAV,UAAgBH,EAAUG,WAA1B,QAAiC,EACjCH,EAAUE,OAAV,UAAmBF,EAAUE,cAA7B,QAAuC,IACvCP,EAAMQ,IAAO,GAAEH,EAAUG,QACzBR,EAAMO,OAAU,GAAEF,EAAUE,kBACrBF,EAAU4K,OACjB,MACF,KAAKjC,EAAAA,GAAAA,OACH3I,EAAU4K,OAAV,UAAmB5K,EAAU4K,cAA7B,QAAuC,EACvC5K,EAAUE,OAAV,UAAmBF,EAAUE,cAA7B,QAAuC,IACvCP,EAAMiL,OAAU,GAAE5K,EAAU4K,WAC5BjL,EAAMO,OAAU,GAAEF,EAAUE,kBACrBF,EAAUG,IACjB,MACF,KAAKwI,EAAAA,GAAAA,UACH3I,EAAUG,IAAV,UAAgBH,EAAUG,WAA1B,QAAiC,EACjCH,EAAU4K,OAAV,UAAmB5K,EAAU4K,cAA7B,QAAuC,EACvCjL,EAAMQ,IAAO,GAAEH,EAAUG,QACzBR,EAAMiL,OAAU,GAAE5K,EAAU4K,kBACrB5K,EAAUE,OACjBP,EAAMO,OAAS,GACf,MACF,KAAKyI,EAAAA,GAAAA,OACH3I,EAAUG,IAAV,UAAgBH,EAAUG,WAA1B,QAAiC,EACjCH,EAAUE,OAAV,UAAmBF,EAAUE,cAA7B,QAAuC,IACvCiJ,EAAU,GAAK,OACfxJ,EAAMQ,IAAO,cAAaH,EAAUG,SACpCR,EAAMO,OAAU,GAAEF,EAAUE,kBACrBF,EAAU4K,OACjB,MACF,KAAKjC,EAAAA,GAAAA,MACH3I,EAAUG,IAAV,UAAgBH,EAAUG,WAA1B,QAAiC,EACjCH,EAAU4K,OAAV,UAAmB5K,EAAU4K,cAA7B,QAAuC,EACvCjL,EAAMQ,IAAO,GAAEH,EAAUG,OACzBR,EAAMiL,OAAU,GAAE5K,EAAU4K,iBACrB5K,EAAUE,OACjBP,EAAMO,OAAS,GAInB,OAAQqI,GACN,KAAKC,EAAAA,GAAAA,KACHxI,EAAUI,KAAV,UAAiBJ,EAAUI,YAA3B,QAAmC,EACnCJ,EAAUC,MAAV,UAAkBD,EAAUC,aAA5B,QAAqC,IACrCN,EAAMS,KAAQ,GAAEJ,EAAUI,SAC1BT,EAAMM,MAAS,GAAED,EAAUC,iBACpBD,EAAU6K,MACjB,MACF,KAAKrC,EAAAA,GAAAA,MACHxI,EAAU6K,MAAV,UAAkB7K,EAAU6K,aAA5B,QAAqC,EACrC7K,EAAUC,MAAV,UAAkBD,EAAUC,aAA5B,QAAqC,IACrCN,EAAMkL,MAAS,GAAE7K,EAAU6K,UAC3BlL,EAAMM,MAAS,GAAED,EAAUC,iBACpBD,EAAUI,KACjB,MACF,KAAKoI,EAAAA,GAAAA,UACHxI,EAAUI,KAAV,UAAiBJ,EAAUI,YAA3B,QAAmC,EACnCJ,EAAU6K,MAAV,UAAkB7K,EAAU6K,aAA5B,QAAqC,EACrClL,EAAMS,KAAQ,GAAEJ,EAAUI,SAC1BT,EAAMkL,MAAS,GAAE7K,EAAU6K,iBACpB7K,EAAUC,MACjBN,EAAMM,MAAQ,GACd,MACF,KAAKuI,EAAAA,GAAAA,OACHxI,EAAUI,KAAV,UAAiBJ,EAAUI,YAA3B,QAAmC,EACnCJ,EAAUC,MAAV,UAAkBD,EAAUC,aAA5B,QAAqC,IACrCkJ,EAAU,GAAK,OACfxJ,EAAMS,KAAQ,cAAaJ,EAAUI,UACrCT,EAAMM,MAAS,GAAED,EAAUC,iBACpBD,EAAU6K,MACjB,MACF,KAAKrC,EAAAA,GAAAA,MACHxI,EAAUI,KAAV,UAAiBJ,EAAUI,YAA3B,QAAmC,EACnCJ,EAAU6K,MAAV,UAAkB7K,EAAU6K,aAA5B,QAAqC,EACrClL,EAAMS,KAAQ,GAAEJ,EAAUI,QAC1BT,EAAMkL,MAAS,GAAE7K,EAAU6K,gBACpB7K,EAAUC,MACjBN,EAAMM,MAAQ,GAOlB,GAHAN,EAAM4D,UAAa,aAAY4F,EAAU,OAAOA,EAAU,MAC1DnH,KAAKjC,QAAQC,UAAYA,EACzBgC,KAAK8I,UAAYnL,EACbqC,KAAKkG,IAAK,CACZ,IAAK,MAAM6C,KAAO/I,KAAK8I,UACrB9I,KAAKkG,IAAIvI,MAAMoL,GAAe/I,KAAK8I,UAAkBC,GAGvD,IAAK,MAAMA,KAAO/I,KAAKgJ,UACrBhJ,KAAKkG,IAAIvI,MAAMoL,GAAe/I,KAAKgJ,UAAkBD,IAK3DE,2BAA2BjC,EAA4BkC,GAA2B,4BAChF,MAAM,WAAE5C,GAAetG,KAAKjC,SACtB,SAAE2I,EAAF,WAAYH,GAAeD,MAAAA,EAAAA,EAAc,GAE1CU,IACHA,EAAmBhH,KAAKkG,KAAOlG,KAAKkG,IAAIe,yBAE1C,IAAIkC,EAAoB,EACF,QAAjBD,IACHA,EAAkBlJ,KAAKkG,MAAL,UAAYlG,KAAKkG,IAAIkD,qBAArB,aAAY,EAAwBnC,yBACtDkC,EAAoBE,WAAWC,iBAAgB,UAACtJ,KAAKkG,WAAN,aAAC,EAAUkD,eAAgBG,cAG5E,MAAMC,EACJxC,GAAoBkC,EAChBxG,KAAK+G,MAAMzC,EAAiB7I,IAAM+K,EAAgB/K,IAAMgL,GACxD,EACAO,EACJ1C,GAAoBkC,EAChBxG,KAAK+G,MAAMP,EAAgBN,OAASO,EAAoBnC,EAAiB4B,QACzE,EACAe,EACJ3C,GAAoBkC,EAChBxG,KAAK+G,MAAMzC,EAAiB5I,KAAO8K,EAAgB9K,KAAO+K,GAC1D,EACAS,EACJ5C,GAAoBkC,EAChBxG,KAAK+G,MAAMP,EAAgBL,MAAQM,EAAoBnC,EAAiB6B,OACxE,EAEA7K,EAAY,GAEZC,EAAK,oBAAG+I,SAAH,aAAG,EAAkB/I,aAArB,QAA8B,IACnCC,EAAM,oBAAG8I,SAAH,aAAG,EAAkB9I,cAArB,QAA+B,IAE3C,OAAQwI,GACN,KAAKC,EAAAA,GAAAA,IACH3I,EAAUG,IAAMqL,EAChBxL,EAAUE,OAASA,EACnB,MACF,KAAKyI,EAAAA,GAAAA,OACH3I,EAAU4K,OAASc,EACnB1L,EAAUE,OAASA,EACnB,MACF,KAAKyI,EAAAA,GAAAA,UACH3I,EAAUG,IAAMqL,EAChBxL,EAAU4K,OAASc,EACnB,MACF,KAAK/C,EAAAA,GAAAA,OACH,MAAMkD,EAAgB7C,EAAmBwC,EAActL,EAAS,EAAI,EAE9D4L,GADeZ,EAAkBA,EAAgBhL,OAAS,EAAI,GAC1B2L,EAC1C7L,EAAUG,IAAM2L,EAChB9L,EAAUE,OAASA,EACnB,MACF,KAAKyI,EAAAA,GAAAA,MACH3I,EAAUG,IAAOqL,GAAW,oBAAIN,SAAJ,aAAI,EAAiBhL,cAArB,QAA+BA,GAAW,IACtEF,EAAU4K,OAAUc,GAAc,oBAAIR,SAAJ,aAAI,EAAiBhL,cAArB,QAA+BA,GAAW,IAIhF,OAAQqI,GACN,KAAKC,EAAAA,GAAAA,KACHxI,EAAUI,KAAOuL,EACjB3L,EAAUC,MAAQA,EAClB,MACF,KAAKuI,EAAAA,GAAAA,MACHxI,EAAU6K,MAAQe,EAClB5L,EAAUC,MAAQA,EAClB,MACF,KAAKuI,EAAAA,GAAAA,UACHxI,EAAUI,KAAOuL,EACjB3L,EAAU6K,MAAQe,EAClB,MACF,KAAKpD,EAAAA,GAAAA,OACH,MAAMqD,EAAgB7C,EAAmB2C,EAAe1L,EAAQ,EAAI,EAE9D6L,GADeZ,EAAkBA,EAAgBjL,MAAQ,EAAI,GACzB4L,EAC1C7L,EAAUI,KAAO0L,EACjB9L,EAAUC,MAAQA,EAClB,MACF,KAAKuI,EAAAA,GAAAA,MACHxI,EAAUI,KAAQuL,GAAY,oBAAIT,SAAJ,aAAI,EAAiBjL,aAArB,QAA8BA,GAAU,IACtED,EAAU6K,MAASe,GAAa,oBAAIV,SAAJ,aAAI,EAAiBjL,aAArB,QAA8BA,GAAU,IAI5E+B,KAAKjC,QAAQC,UAAYA,EAEzBgC,KAAKmG,yBACLnG,KAAK+J,QAGPC,WAAWpL,GAAuB,MAC5BoB,KAAK+F,KAAKpH,cACZqB,KAAKhD,KAAOgD,KAAK+F,KAAKpH,YAAYC,EAAKoB,KAAKjC,QAAQM,QACpD2B,KAAK+J,SAGP,MAAM,WAAEtL,EAAF,OAAcwL,GAAWjK,KAAKjC,QAC9BtB,EAAqB,GAC3B,GAAIgC,EAAY,CACd,GAAIA,EAAWC,MAAO,CACpB,MAAMA,EAAQE,EAAIM,SAAST,EAAWC,OACtCjC,EAAIyN,gBAAkBxL,EAAMK,QAE9B,GAAIN,EAAW0L,MAAO,CACpB,MAAMA,EAAQvL,EAAIE,YAAYL,EAAW0L,OACzC,GAAIA,EAAO,CACT,MAAMC,EAAID,EAAMpL,QAChB,GAAIqL,EAEF,OADA3N,EAAI4N,gBAAmB,QAAOD,MAC9B,UAAQ3L,EAAWyF,YAAnB,QAA2BoG,EAAAA,GAAAA,SACzB,KAAKA,EAAAA,GAAAA,QACH7N,EAAI8N,eAAiB,UACrB9N,EAAI+N,iBAAmB,YACvB,MACF,KAAKF,EAAAA,GAAAA,MACH7N,EAAI8N,eAAiB,QACrB9N,EAAI+N,iBAAmB,YACvB,MACF,KAAKF,EAAAA,GAAAA,SACH7N,EAAI+N,iBAAmB,YACvB,MACF,KAAKF,EAAAA,GAAAA,KACH7N,EAAI+N,iBAAmB,SACvB,MACF,KAAKF,EAAAA,GAAAA,KACH7N,EAAI8N,eAAiB,iBAIzB9N,EAAI4N,gBAAkB,KAM9B,GAAIJ,GAAUA,EAAOvL,OAASuL,EAAOhM,MAAO,CAC1C,MAAMS,EAAQE,EAAIM,SAAS+K,EAAOvL,OAClCjC,EAAI8M,YAAcU,EAAOhM,MACzBxB,EAAIgO,YAAc,QAClBhO,EAAIiO,YAAchM,EAAMK,QAGpBtC,EAAI4N,kBACN5N,EAAIkO,iBAAmB,eAI3B3K,KAAKgJ,UAAYvM,EACjBuD,KAAKmG,yBAGPgC,SACE,OAAO,EAITyC,MAAMC,GACJA,EAAQ7K,MAGV8K,SAAS/M,GAC4B,MAA/BiC,KAAK+F,KAAKpJ,KAAOoB,EAAQwC,OAC3BP,KAAK+F,KAAL,UAAYL,EAAAA,GAAAA,YAAkC3H,EAAQwC,aAAtD,QAA+DJ,EAAAA,GAIjE,MAAM4K,EAAU/K,KAAKjC,QAAQnB,KACvBkL,EAAU/J,EAAQnB,KAExBoD,KAAK+J,QACL/J,KAAKjC,QAAL,iBAAoBA,GACpB,IAAImK,EAAOlI,KAAKgG,OAChB,KAAOkC,GAAM,CACX,GAAIA,EAAKC,SAAU,CACjBD,EAAKL,MAAMmD,OACX,MAEF9C,EAAK6B,QACL7B,EAAOA,EAAKlC,OAGd,MAAM6B,EAAQ7H,KAAK4G,WACfmE,IAAYjD,GAAWD,IACzBA,EAAMG,OAAOiD,OAAOF,GACpBlD,EAAMG,OAAOC,IAAIH,EAAS9H,OAI9BkL,eACE,OAAO,OAAP,UAAYlL,KAAKjC,SA0DnBgC,SACE,MAAM,KAAEgG,GAAS/F,KACjB,OACE,gBAAoBmL,IAAKnL,KAAKoL,YAA9B,UACE,SAACrF,EAAKjJ,QAAN,CAAgDuB,OAAQ2B,KAAKjC,QAAQM,OAAQrB,KAAMgD,KAAKhD,MAApE,GAAEgD,KAAKqL,OAAOrL,KAAK+J,UAD/B/J,KAAKqL,Q,gBC7ad,IAAK7E,EAQAG,EAQA2D,EAmBAgB,E,sDAnCA9E,GAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,UAAAA,YAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,Q,CAAAA,IAAAA,EAAAA,K,SAQAG,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,SAAAA,EAAAA,UAAAA,YAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,Q,CAAAA,IAAAA,EAAAA,K,SAQA2D,GAAAA,EAAAA,SAAAA,WAAAA,EAAAA,QAAAA,UAAAA,EAAAA,MAAAA,QAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,O,CAAAA,IAAAA,EAAAA,K,SAmBAgB,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,SAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,iBAAAA,UAAAA,EAAAA,eAAAA,U,CAAAA,IAAAA,EAAAA,M,2HCvCZ,MAAMC,EAAsF,CAC1F9L,SAAU,IAGChC,EAAU,SAACD,GAAyC,IAAnBgO,EAAmB,wDACtD,MAALhO,IACFiO,EAAAA,EAAAA,iBACGC,MAAM,CACLC,IAAKnO,EAAIoO,SACTC,OAAQ,OACR7O,KAAI,UAAEQ,EAAIR,YAAN,QAAc,KAEnB8O,UAAU,CACTC,MAAQA,IACFP,IACFQ,EAAAA,GAAAA,KAAeC,EAAAA,UAAAA,WAAsB,CAAC,uBAAwBhM,KAAKC,UAAU6L,KAC7EG,QAAQH,MAAMA,KAGlBI,SAAU,KACJX,GACFQ,EAAAA,GAAAA,KAAeC,EAAAA,UAAAA,aAAwB,CAAC,wBAS7C,SAASrL,EAAT,GAAwD,YAArC,MAAE7B,EAAF,QAASqN,EAAT,SAAkBtB,GAAmB,EAC7D,MAEMuB,GAAmBC,EAAAA,EAAAA,cACtBV,IACCd,EAAS,OAAD,UACH/L,EADG,CAEN6M,SAAAA,OAGJ,CAACd,EAAU/L,IAGPwN,GAAeD,EAAAA,EAAAA,cAClBtP,IACC8N,EAAS,OAAD,UACH/L,EADG,CAEN/B,KAAAA,OAGJ,CAAC8N,EAAU/L,IA4Bb,OAAOV,EAAAA,OAAAA,qBACL,iCACE,SAAC,EAAAmO,eAAD,WACE,SAAC,EAAAC,YAAD,CAAajI,MAAO,WAAYkI,WAlDnB,EAkD2CC,MAAM,EAA9D,UACE,SAAC,IAAD,CACEP,QAASA,EACTrN,MAAOA,MAAAA,OAAF,EAAEA,EAAO6M,SACdd,SAAUuB,EACVtG,KAAMwF,SAIZ,SAAC,EAAAiB,eAAD,WACE,SAAC,EAAAC,YAAD,CAAajI,MAAO,OAAQkI,WA5Df,EA4DuCC,MAAM,EAA1D,UACE,SAAC,IAAD,CACEP,QAASA,EACTrN,MAAK,UAAEA,MAAAA,OAAF,EAAEA,EAAO/B,YAAT,QAAiB,KACtB8N,SAAUyB,EACVxG,KAAMwF,QA9Ba/N,CAAAA,IAC3B,GAAIA,GAAOA,EAAIoO,SACb,OACE,SAAC,EAAAtL,OAAD,CAAQ/C,QAAS,IAAME,EAAQD,GAAK,GAAOoP,MAAO,WAAlD,uBA+BDC,CAAoB9N,GArBvB,OAsBE,mBAhDgB/B,CAAAA,IAClB,IACE,MAAM8P,EAAO7M,KAAK8M,MAAM/P,GACxB,OAAO,SAAC,EAAAgQ,cAAD,CAAeF,KAAMA,IAC5B,MAAOf,GACP,OAAIA,aAAiBkB,MACX,0BAAyBlB,EAAMmB,UAEhC,0BAyCRC,CAAU,UAACpO,MAAAA,OAAD,EAACA,EAAO/B,YAAR,QAAgB,UAG7B,2F,2DC7GG,MAAMoQ,EAAiC,CAC5CC,cAAe,CAACjO,EAASgN,KACvB,MAAM/M,EAAW,CAAC,cAClBD,EACGE,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,mBACJM,KAAM,mBACNL,KAAM,QACN2C,OAAQI,EAAAA,GACRF,SAAU,GACVG,aAAc,CAEZpB,MAAO,MAGVc,gBAAgB,CACfD,SAAAA,EACA1C,GAAI,mBACJM,KAAM,mBACNL,KAAM,QACN2C,OAAQC,EAAAA,GACRC,SAAU,CACRC,aAAc,WAGjB4E,SAAS,CACRjF,SAAAA,EACApC,KAAM,kBACNL,KAAM,aACN6C,SAAU,CACR1B,QAAS,CACP,CAAEgB,MAAOuL,EAAAA,GAAAA,SAA8B9F,MAAO,YAC9C,CAAEzF,MAAOuL,EAAAA,GAAAA,QAA6B9F,MAAO,WAC7C,CAAEzF,MAAOuL,EAAAA,GAAAA,MAA2B9F,MAAO,SAC3C,CAAEzF,MAAOuL,EAAAA,GAAAA,KAA0B9F,MAAO,QAC1C,CAAEzF,MAAOuL,EAAAA,GAAAA,KAA0B9F,MAAO,UAG9C5E,aAAc0K,EAAAA,GAAAA,SAIpBgD,UAAW,CAAClO,EAASgN,KAAY,QAC/B,MAAM/M,EAAW,CAAC,UAClBD,EAAQmO,eAAe,CACrBlO,SAAAA,EACApC,KAAM,eACNL,KAAM,QACNgD,aAAc,EACdH,SAAU,CACR+N,IAAK,EACLC,IAAK,MAIT,UAAIrB,EAAQrO,eAAZ,iBAAI,EAAiBkM,cAArB,OAAI,EAAyBhM,OAC3BmB,EAAQE,gBAAgB,CACtBD,SAAAA,EACA1C,GAAI,eACJM,KAAM,eACNL,KAAM,QACN2C,OAAQI,EAAAA,GACRF,SAAU,GACVG,aAAc,CAEZpB,MAAO","sources":["webpack://grafana/./public/app/features/canvas/element.ts","webpack://grafana/./public/app/features/canvas/elements/icon.tsx","webpack://grafana/./public/app/features/canvas/elements/notFound.tsx","webpack://grafana/./public/app/features/canvas/elements/button.tsx","webpack://grafana/./public/app/features/canvas/elements/droneFront.tsx","webpack://grafana/./public/app/features/canvas/elements/droneSide.tsx","webpack://grafana/./public/app/features/canvas/elements/droneTop.tsx","webpack://grafana/./public/app/features/canvas/elements/textBox.tsx","webpack://grafana/./public/app/features/canvas/elements/windTurbine.tsx","webpack://grafana/./public/app/features/canvas/registry.ts","webpack://grafana/./public/app/features/canvas/runtime/element.tsx","webpack://grafana/./public/app/features/canvas/types.ts","webpack://grafana/./public/app/plugins/panel/canvas/editor/APIEditor.tsx","webpack://grafana/./public/app/plugins/panel/canvas/editor/options.ts"],"sourcesContent":["import { ComponentType } from 'react';\n\nimport { RegistryItem } from '@grafana/data';\nimport { PanelOptionsSupplier } from '@grafana/data/src/panel/PanelPlugin';\n\nimport { DimensionContext } from '../dimensions/context';\n\nimport { BackgroundConfig, Constraint, LineConfig, Placement } from './types';\n\n/**\n * This gets saved in panel json\n *\n * depending on the type, it may have additional config\n *\n * @alpha\n */\nexport interface CanvasElementOptions<TConfig = any> {\n  name: string; // configured unique display name\n  type: string;\n\n  // Custom options depending on the type\n  config?: TConfig;\n\n  // Standard options available for all elements\n  constraint?: Constraint; // defaults vertical - top, horizontal - left\n  placement?: Placement;\n  background?: BackgroundConfig;\n  border?: LineConfig;\n}\n\nexport interface CanvasElementProps<TConfig = any, TData = any> {\n  // Saved config\n  config: TConfig;\n\n  // Raw data\n  data?: TData;\n}\n\n/**\n * Canvas item builder\n *\n * @alpha\n */\nexport interface CanvasElementItem<TConfig = any, TData = any> extends RegistryItem {\n  /** The default width/height to use when adding  */\n  defaultSize?: Placement;\n\n  prepareData?: (ctx: DimensionContext, cfg: TConfig) => TData;\n\n  /** Component used to draw */\n  display: ComponentType<CanvasElementProps<TConfig, TData>>;\n\n  getNewOptions: (options?: CanvasElementOptions) => Omit<CanvasElementOptions<TConfig>, 'type' | 'name'>;\n\n  /** Build the configuration UI */\n  registerOptionsUI?: PanelOptionsSupplier<CanvasElementOptions<TConfig>>;\n}\n\nexport const defaultBgColor = '#D9D9D9';\nexport const defaultTextColor = '#000000';\n","import { css } from '@emotion/css';\nimport { isString } from 'lodash';\nimport React, { CSSProperties } from 'react';\nimport SVG from 'react-inlinesvg';\n\nimport {\n  ColorDimensionConfig,\n  ResourceDimensionConfig,\n  ResourceDimensionMode,\n  getPublicOrAbsoluteUrl,\n} from 'app/features/dimensions';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { ColorDimensionEditor, ResourceDimensionEditor } from 'app/features/dimensions/editors';\nimport { APIEditorConfig, callApi } from 'app/plugins/panel/canvas/editor/APIEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\nimport { LineConfig } from '../types';\n\nexport interface IconConfig {\n  path?: ResourceDimensionConfig;\n  fill?: ColorDimensionConfig;\n  stroke?: LineConfig;\n  api?: APIEditorConfig;\n}\n\ninterface IconData {\n  path: string;\n  fill: string;\n  strokeColor?: string;\n  stroke?: number;\n  api?: APIEditorConfig;\n}\n\n// When a stoke is defined, we want the path to be in page units\nconst svgStrokePathClass = css`\n  path {\n    vector-effect: non-scaling-stroke;\n  }\n`;\n\nexport function IconDisplay(props: CanvasElementProps) {\n  const { data } = props;\n  if (!data?.path) {\n    return null;\n  }\n\n  const onClick = () => {\n    if (data?.api) {\n      callApi(data.api);\n    }\n  };\n\n  const svgStyle: CSSProperties = {\n    fill: data?.fill,\n    stroke: data?.strokeColor,\n    strokeWidth: data?.stroke,\n  };\n\n  return (\n    <SVG\n      onClick={onClick}\n      src={data.path}\n      style={svgStyle}\n      className={svgStyle.strokeWidth ? svgStrokePathClass : undefined}\n    />\n  );\n}\n\nexport const iconItem: CanvasElementItem<IconConfig, IconData> = {\n  id: 'icon',\n  name: 'Icon',\n  description: 'SVG Icon display',\n\n  display: IconDisplay,\n\n  getNewOptions: (options) => ({\n    placement: {\n      width: 100,\n      height: 100,\n      top: 0,\n      left: 0,\n    },\n    ...options,\n    config: {\n      path: {\n        mode: ResourceDimensionMode.Fixed,\n        fixed: 'img/icons/unicons/question-circle.svg',\n      },\n      fill: { fixed: defaultBgColor },\n    },\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: IconConfig) => {\n    let path: string | undefined = undefined;\n    if (cfg.path) {\n      path = ctx.getResource(cfg.path).value();\n    }\n    if (!path || !isString(path)) {\n      path = getPublicOrAbsoluteUrl('img/icons/unicons/question-circle.svg');\n    }\n\n    const data: IconData = {\n      path,\n      fill: cfg.fill ? ctx.getColor(cfg.fill).value() : defaultBgColor,\n      api: cfg?.api ?? undefined,\n    };\n\n    if (cfg.stroke?.width && cfg.stroke.color) {\n      if (cfg.stroke.width > 0) {\n        data.stroke = cfg.stroke?.width;\n        data.strokeColor = ctx.getColor(cfg.stroke.color).value();\n      }\n    }\n    return data;\n  },\n\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    const category = ['Icon'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'iconSelector',\n        path: 'config.path',\n        name: 'SVG Path',\n        editor: ResourceDimensionEditor,\n        settings: {\n          resourceType: 'icon',\n        },\n      })\n      .addCustomEditor({\n        category,\n        id: 'config.fill',\n        path: 'config.fill',\n        name: 'Fill color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: 'grey',\n        },\n      });\n    // .addSliderInput({\n    //   category,\n    //   path: 'config.stroke.width',\n    //   name: 'Stroke',\n    //   defaultValue: 0,\n    //   settings: {\n    //     min: 0,\n    //     max: 10,\n    //   },\n    // })\n    // .addCustomEditor({\n    //   category,\n    //   id: 'config.stroke.color',\n    //   path: 'config.stroke.color',\n    //   name: 'Stroke color',\n    //   editor: ColorDimensionEditor,\n    //   settings: {},\n    //   defaultValue: {\n    //     // Configured values\n    //     fixed: 'grey',\n    //   },\n    //   showIf: (cfg) => Boolean(cfg?.config?.stroke?.width),\n    // })\n    // .addCustomEditor({\n    //   category,\n    //   id: 'apiSelector',\n    //   path: 'config.api',\n    //   name: 'API',\n    //   editor: APIEditor,\n    // });\n  },\n};\n","import React, { PureComponent } from 'react';\n\nimport { CanvasElementItem, CanvasElementProps } from '../element';\n\ninterface NotFoundConfig {\n  orig?: any;\n}\n\nclass NotFoundDisplay extends PureComponent<CanvasElementProps<NotFoundConfig>> {\n  render() {\n    const { config } = this.props;\n    return (\n      <div>\n        <h3>NOT FOUND:</h3>\n        <pre>{JSON.stringify(config, null, 2)}</pre>\n      </div>\n    );\n  }\n}\n\nexport const notFoundItem: CanvasElementItem<NotFoundConfig> = {\n  id: 'not-found',\n  name: 'Not found',\n  description: 'Display when element type is not found in the registry',\n\n  display: NotFoundDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 100,\n  },\n\n  getNewOptions: () => ({\n    config: {},\n  }),\n};\n","import React, { PureComponent } from 'react';\n\nimport { Button } from '@grafana/ui';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { TextDimensionEditor } from 'app/features/dimensions/editors/TextDimensionEditor';\nimport { TextDimensionConfig } from 'app/features/dimensions/types';\nimport { APIEditor, APIEditorConfig, callApi } from 'app/plugins/panel/canvas/editor/APIEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface ButtonData {\n  text?: string;\n  api?: APIEditorConfig;\n}\n\ninterface ButtonConfig {\n  text?: TextDimensionConfig;\n  api?: APIEditorConfig;\n}\n\nclass ButtonDisplay extends PureComponent<CanvasElementProps<ButtonConfig, ButtonData>> {\n  render() {\n    const { data } = this.props;\n    const onClick = () => {\n      if (data?.api) {\n        callApi(data.api);\n      }\n    };\n\n    return (\n      <Button type=\"submit\" onClick={onClick} style={{ background: defaultBgColor }}>\n        {data?.text}\n      </Button>\n    );\n  }\n}\n\nexport const buttonItem: CanvasElementItem<ButtonConfig, ButtonData> = {\n  id: 'button',\n  name: 'Button',\n  description: 'Button',\n\n  display: ButtonDisplay,\n\n  defaultSize: {\n    width: 32,\n    height: 32,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: 32,\n      height: 32,\n      top: 0,\n      left: 0,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: ButtonConfig) => {\n    const data: ButtonData = {\n      text: cfg?.text ? ctx.getText(cfg.text).value() : '',\n      api: cfg?.api ?? undefined,\n    };\n\n    return data;\n  },\n\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    const category = ['Button'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'textSelector',\n        path: 'config.text',\n        name: 'Text',\n        editor: TextDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'apiSelector',\n        path: 'config.api',\n        name: 'API',\n        editor: APIEditor,\n      });\n  },\n};\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface DroneFrontData {\n  rollAngle?: number;\n}\n\ninterface DroneFrontConfig {\n  rollAngle?: ScalarDimensionConfig;\n}\n\nconst DroneFrontDisplay: FC<CanvasElementProps<DroneFrontConfig, DroneFrontData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const droneFrontTransformStyle = `rotate(${data?.rollAngle ? data.rollAngle : 0}deg)`;\n\n  return (\n    <svg\n      className={styles.droneFront}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"0 0 1300 290\"\n      style={{ transform: droneFrontTransformStyle, stroke: defaultBgColor }}\n    >\n      <g className=\"arms\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <line x1=\"510\" x2=\"320\" y1=\"100\" y2=\"150\" />\n        <line x1=\"510\" x2=\"320\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"100\" y2=\"150\" />\n      </g>\n      <g className=\"body\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          fill=\"none\"\n          d=\" M 510 130 C 510 124 510 110 510 100 C 510 90 530 71 540 70 C 640 61 670 60 760 70 C 770 71 790 90 790 100 Q 790 120 790 130 L 790 130 Q 790 177 790 196 C 790 207 770 225 760 226 C 670 236 640 236 540 226 C 530 226 510 206 510 196 Q 510 177 510 130 Q 510 133 510 130 Z \"\n        />\n        <circle cx=\"650\" cy=\"160\" r=\"40\" fill=\"none\" />\n      </g>\n      <g className=\"motors\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 320 60 L 250 60 L 250 230 L 260 290 L 310 290 L 320 230 L 320 60 Z \"\n        />\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 1050 60 L 980 60 L 980 230 L 990 290 L 1040 290 L 1050 230 L 1050 60 Z \"\n        />\n      </g>\n      <g className=\"propellers\" fill={defaultBgColor}>\n        <path\n          className=\"prop\"\n          d=\" M 270 60 L 300 60 L 300 20 Q 311 30 330 30 Q 349 30 570 10 L 300 10 Q 300 0 290 0 C 286 0 284 0 280 0 Q 270 0 270 10 L 0 10 Q 220 30 240 30 Q 260 30 270 20 L 270 60 Z \"\n        />\n        <path\n          className=\"prop\"\n          d=\" M 1000 60 L 1030 60 L 1030 20 Q 1041 30 1060 30 Q 1079 30 1300 10 L 1030 10 Q 1030 0 1020 0 C 1016 0 1014 0 1010 0 Q 1000 0 1000 10 L 730 10 Q 950 30 970 30 Q 990 30 1000 20 L 1000 60 Z \"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const droneFrontItem: CanvasElementItem<any, any> = {\n  id: 'droneFront',\n  name: 'Drone Front',\n  description: 'Drone front',\n\n  display: DroneFrontDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 26,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: options?.placement?.width ?? 100,\n      height: options?.placement?.height ?? 26,\n      top: options?.placement?.top,\n      left: options?.placement?.left,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: DroneFrontConfig) => {\n    const data: DroneFrontData = {\n      rollAngle: cfg?.rollAngle ? ctx.getScalar(cfg.rollAngle).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Drone Front'];\n    builder.addCustomEditor({\n      category,\n      id: 'rollAngle',\n      path: 'config.rollAngle',\n      name: 'Roll Angle',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  droneFront: css`\n    transition: transform 0.4s;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface DroneSideData {\n  pitchAngle?: number;\n}\n\ninterface DroneSideConfig {\n  pitchAngle?: ScalarDimensionConfig;\n}\n\nconst DroneSideDisplay: FC<CanvasElementProps<DroneSideConfig, DroneSideData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const droneSidePitchTransformStyle = `rotate(${data?.pitchAngle ? data.pitchAngle : 0}deg)`;\n\n  return (\n    <svg\n      className={styles.droneSide}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"0 0 1300 290\"\n      style={{ transform: droneSidePitchTransformStyle, stroke: defaultBgColor }}\n    >\n      <g className=\"arms\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <line x1=\"510\" x2=\"320\" y1=\"100\" y2=\"150\" />\n        <line x1=\"510\" x2=\"320\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"100\" y2=\"150\" />\n      </g>\n      <g className=\"body\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          fill=\"none\"\n          d=\" M 510 130 C 510 124 510 110 510 100 C 510 90 530 71 540 70 C 640 61 670 60 760 70 C 770 71 790 90 790 100 Q 790 120 790 130 L 790 130 Q 790 177 790 196 C 790 207 770 225 760 226 C 670 236 640 236 540 226 C 530 226 510 206 510 196 Q 510 177 510 130 Q 510 133 510 130 Z \"\n        />\n      </g>\n      <g className=\"motors\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 320 60 L 250 60 L 250 230 L 260 290 L 310 290 L 320 230 L 320 60 Z \"\n        />\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 1050 60 L 980 60 L 980 230 L 990 290 L 1040 290 L 1050 230 L 1050 60 Z \"\n        />\n      </g>\n      <g className=\"propellers\" fill={defaultBgColor}>\n        <path\n          className=\"prop\"\n          d=\" M 270 60 L 300 60 L 300 20 Q 311 30 330 30 Q 349 30 570 10 L 300 10 Q 300 0 290 0 C 286 0 284 0 280 0 Q 270 0 270 10 L 0 10 Q 220 30 240 30 Q 260 30 270 20 L 270 60 Z \"\n        />\n        <path\n          className=\"prop\"\n          d=\" M 1000 60 L 1030 60 L 1030 20 Q 1041 30 1060 30 Q 1079 30 1300 10 L 1030 10 Q 1030 0 1020 0 C 1016 0 1014 0 1010 0 Q 1000 0 1000 10 L 730 10 Q 950 30 970 30 Q 990 30 1000 20 L 1000 60 Z \"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const droneSideItem: CanvasElementItem<any, any> = {\n  id: 'droneSide',\n  name: 'Drone Side',\n  description: 'Drone Side',\n\n  display: DroneSideDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 26,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: options?.placement?.width ?? 100,\n      height: options?.placement?.height ?? 26,\n      top: options?.placement?.top,\n      left: options?.placement?.left,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: DroneSideConfig) => {\n    const data: DroneSideData = {\n      pitchAngle: cfg?.pitchAngle ? ctx.getScalar(cfg.pitchAngle).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Drone Side'];\n    builder.addCustomEditor({\n      category,\n      id: 'pitchAngle',\n      path: 'config.pitchAngle',\n      name: 'Pitch Angle',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  droneSide: css`\n    transition: transform 0.4s;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface DroneTopData {\n  bRightRotorRPM?: number;\n  bLeftRotorRPM?: number;\n  fRightRotorRPM?: number;\n  fLeftRotorRPM?: number;\n  yawAngle?: number;\n}\n\ninterface DroneTopConfig {\n  bRightRotorRPM?: ScalarDimensionConfig;\n  bLeftRotorRPM?: ScalarDimensionConfig;\n  fRightRotorRPM?: ScalarDimensionConfig;\n  fLeftRotorRPM?: ScalarDimensionConfig;\n  yawAngle?: ScalarDimensionConfig;\n}\n\nconst DroneTopDisplay: FC<CanvasElementProps<DroneTopConfig, DroneTopData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const fRightRotorAnimation = `spin ${data?.fRightRotorRPM ? 60 / Math.abs(data.fRightRotorRPM) : 0}s linear infinite`;\n\n  const fLeftRotorAnimation = `spin ${data?.fLeftRotorRPM ? 60 / Math.abs(data.fLeftRotorRPM) : 0}s linear infinite`;\n\n  const bRightRotorAnimation = `spin ${data?.bRightRotorRPM ? 60 / Math.abs(data.bRightRotorRPM) : 0}s linear infinite`;\n\n  const bLeftRotorAnimation = `spin ${data?.bLeftRotorRPM ? 60 / Math.abs(data.bLeftRotorRPM) : 0}s linear infinite`;\n\n  const droneTopTransformStyle = `rotate(${data?.yawAngle ? data.yawAngle : 0}deg)`;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"-43 -43 640 640\"\n      xmlSpace=\"preserve\"\n      style={{ transform: droneTopTransformStyle, fill: defaultBgColor }}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\" M 137.95 127.967 C 137.14 127.157 136.189 126.58 135.178 126.218 C 138.173 121.545 139.967 116.036 140.125 110.123 L 217.64 151.862 C 214.049 157.411 211.8 163.922 211.386 170.95 L 209.694 199.712 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 Z  M 134.268 426.981 C 130.211 421.314 124.328 417.045 117.482 415.041 L 201.999 330.523 L 201.385 340.955 C 200.67 353.107 202.829 364.914 207.563 375.673 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 Z  M 324.765 373.673 L 228.527 373.673 Q 215.374 358.611 216.361 341.835 L 226.361 171.832 C 226.825 163.94 231.012 157.096 237.146 152.957 L 316.146 152.957 C 322.28 157.096 326.466 163.94 326.931 171.832 L 336.931 341.835 Q 337.918 358.611 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 Z  M 435.81 415.041 C 428.964 417.045 423.081 421.314 419.024 426.981 L 345.727 375.673 C 350.461 364.914 352.62 353.107 351.905 340.955 L 351.291 330.523 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 Z  M 343.596 199.713 L 341.904 170.951 C 341.49 163.923 339.242 157.411 335.651 151.863 L 413.167 110.124 C 413.325 116.037 415.119 121.546 418.114 126.219 C 417.103 126.581 416.152 127.158 415.342 127.968 L 343.596 199.713 L 343.596 199.713 L 343.596 199.713 L 343.596 199.713 L 343.596 199.713 Z  M 444.646 92.771 C 453.744 92.771 461.146 100.172 461.146 109.271 C 461.146 118.369 453.744 125.771 444.646 125.771 C 435.548 125.771 428.146 118.369 428.146 109.271 C 428.146 100.172 435.548 92.771 444.646 92.771 L 444.646 92.771 L 444.646 92.771 L 444.646 92.771 Z  M 108.647 92.771 C 117.745 92.771 125.147 100.172 125.147 109.271 C 125.147 118.369 117.745 125.771 108.647 125.771 C 99.549 125.771 92.147 118.369 92.147 109.271 C 92.147 100.172 99.549 92.771 108.647 92.771 L 108.647 92.771 L 108.647 92.771 Z  M 108.647 461.771 C 99.549 461.771 92.147 454.369 92.147 445.271 C 92.147 436.172 99.549 428.771 108.647 428.771 C 117.745 428.771 125.147 436.172 125.147 445.271 C 125.147 454.369 117.745 461.771 108.647 461.771 L 108.647 461.771 Z  M 92.322 136.202 C 97.086 139.1 102.675 140.771 108.647 140.771 C 114.883 140.771 120.697 138.941 125.594 135.802 C 125.956 136.813 126.534 137.764 127.343 138.573 L 207.342 218.573 C 207.711 218.942 208.109 219.264 208.528 219.54 L 203.212 309.908 C 201.794 310.182 200.44 310.869 199.342 311.967 L 95.343 415.967 C 94.954 416.356 94.62 416.779 94.335 417.224 C 93.651 417.575 92.976 417.942 92.322 418.34 Q 84.615 424.182 81.716 428.946 C 78.817 433.71 77.147 439.299 77.147 445.271 C 77.147 462.64 91.278 476.771 108.647 476.771 C 114.619 476.771 120.208 475.1 124.972 472.202 C 129.736 469.304 132.678 466.36 135.577 461.596 C 138.476 456.832 140.147 451.243 140.147 445.271 C 140.147 443.943 140.055 442.637 139.895 441.352 L 214.997 388.78 C 217.05 391.677 336.242 391.678 338.295 388.78 L 413.398 441.352 C 413.238 442.637 413.146 443.943 413.146 445.271 C 413.146 451.243 414.817 456.832 417.715 461.596 C 420.613 466.36 423.557 469.304 428.321 472.202 C 433.085 475.1 438.674 476.771 444.646 476.771 C 462.015 476.771 476.146 462.64 476.146 445.271 C 476.146 439.299 474.475 433.71 471.577 428.946 C 468.679 424.182 459.642 417.575 458.958 417.224 C 458.672 416.779 458.339 416.356 457.95 415.967 L 353.95 311.967 C 352.852 310.869 351.498 310.182 350.08 309.908 L 344.764 219.54 C 345.183 219.264 345.581 218.942 345.95 218.573 L 425.95 138.573 C 426.76 137.763 427.337 136.812 427.699 135.802 C 432.596 138.941 438.409 140.771 444.646 140.771 C 450.618 140.771 456.207 139.1 460.971 136.202 C 465.735 133.304 468.679 130.36 471.577 125.596 C 474.475 120.832 476.146 115.243 476.146 109.271 C 476.146 91.903 462.015 77.772 444.646 77.772 C 438.674 77.772 433.085 79.442 428.321 82.34 L 416.215 91.446 L 324.765 140.688 C 318.402 136.324 310.718 133.771 302.473 133.771 L 250.819 133.771 C 242.574 133.771 234.89 136.324 228.527 140.688 L 137.078 91.446 L 124.972 82.34 C 120.208 79.442 114.619 77.772 108.647 77.772 C 91.278 77.772 77.147 91.903 77.147 109.271 C 77.147 115.243 78.818 120.832 81.716 125.595 C 84.614 130.358 87.558 133.304 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 Z  M 444.646 461.771 C 435.548 461.771 428.146 454.369 428.146 445.271 C 428.146 436.172 435.548 428.771 444.646 428.771 C 453.744 428.771 461.146 436.172 461.146 445.271 C 461.146 454.369 453.744 461.771 444.646 461.771 Z \"\n      />\n      <path\n        fillRule=\"evenodd\"\n        d=\" M 259.458 334.235 L 259.458 337.211 L 254.514 337.211 L 254.514 350.795 L 250.842 350.795 L 250.842 337.211 L 245.898 337.211 L 245.898 334.235 L 259.458 334.235 Z  M 266.226 347.939 L 272.586 347.939 L 272.754 350.627 L 272.754 350.627 Q 270.498 350.867 265.074 350.867 L 265.074 350.867 L 265.074 350.867 Q 263.418 350.867 262.434 349.967 L 262.434 349.967 L 262.434 349.967 Q 261.45 349.067 261.426 347.531 L 261.426 347.531 L 261.426 337.499 L 261.426 337.499 Q 261.45 335.963 262.434 335.063 L 262.434 335.063 L 262.434 335.063 Q 263.418 334.163 265.074 334.163 L 265.074 334.163 L 265.074 334.163 Q 270.498 334.163 272.754 334.403 L 272.754 334.403 L 272.586 337.115 L 266.226 337.115 L 266.226 337.115 Q 265.626 337.115 265.362 337.403 L 265.362 337.403 L 265.362 337.403 Q 265.098 337.691 265.098 338.339 L 265.098 338.339 L 265.098 340.859 L 271.698 340.859 L 271.698 343.499 L 265.098 343.499 L 265.098 346.691 L 265.098 346.691 Q 265.098 347.363 265.362 347.651 L 265.362 347.651 L 265.362 347.651 Q 265.626 347.939 266.226 347.939 L 266.226 347.939 Z  M 275.202 333.995 L 278.73 333.995 L 278.73 346.931 L 278.73 346.931 Q 278.73 348.131 280.074 348.131 L 280.074 348.131 L 281.034 348.131 L 281.442 350.603 L 281.442 350.603 Q 280.53 351.083 278.61 351.083 L 278.61 351.083 L 278.61 351.083 Q 277.026 351.083 276.114 350.231 L 276.114 350.231 L 276.114 350.231 Q 275.202 349.379 275.202 347.819 L 275.202 347.819 L 275.202 333.995 Z  M 283.05 333.995 L 286.578 333.995 L 286.578 346.931 L 286.578 346.931 Q 286.578 348.131 287.922 348.131 L 287.922 348.131 L 288.882 348.131 L 289.29 350.603 L 289.29 350.603 Q 288.378 351.083 286.458 351.083 L 286.458 351.083 L 286.458 351.083 Q 284.874 351.083 283.962 350.231 L 283.962 350.231 L 283.962 350.231 Q 283.05 349.379 283.05 347.819 L 283.05 347.819 L 283.05 333.995 Z  M 292.086 335.759 L 292.086 335.759 L 292.086 335.759 Q 293.634 333.923 297.618 333.923 L 297.618 333.923 L 297.618 333.923 Q 301.602 333.923 303.162 335.759 L 303.162 335.759 L 303.162 335.759 Q 304.722 337.595 304.722 342.515 L 304.722 342.515 L 304.722 342.515 Q 304.722 347.435 303.162 349.271 L 303.162 349.271 L 303.162 349.271 Q 301.602 351.107 297.618 351.107 L 297.618 351.107 L 297.618 351.107 Q 293.634 351.107 292.086 349.271 L 292.086 349.271 L 292.086 349.271 Q 290.538 347.435 290.538 342.515 L 290.538 342.515 L 290.538 342.515 Q 290.538 337.595 292.086 335.759 Z  M 300.174 338.051 L 300.174 338.051 L 300.174 338.051 Q 299.49 336.875 297.618 336.875 L 297.618 336.875 L 297.618 336.875 Q 295.746 336.875 295.062 338.051 L 295.062 338.051 L 295.062 338.051 Q 294.378 339.227 294.378 342.515 L 294.378 342.515 L 294.378 342.515 Q 294.378 345.803 295.062 346.979 L 295.062 346.979 L 295.062 346.979 Q 295.746 348.155 297.618 348.155 L 297.618 348.155 L 297.618 348.155 Q 299.49 348.155 300.174 346.979 L 300.174 346.979 L 300.174 346.979 Q 300.858 345.803 300.858 342.515 L 300.858 342.515 L 300.858 342.515 Q 300.858 339.227 300.174 338.051 Z \"\n      />\n      <g className=\"propeller-group\">\n        <path\n          className={`${styles.propeller} ${styles.propellerCW}`}\n          style={{ animation: bRightRotorAnimation }}\n          d=\" M 461.563 418.77 L 463.992 416.34 Q 465.495 407.116 466.461 400.395 C 467.426 393.675 469.363 388.087 474.731 383.284 Q 533.862 341.514 538.196 338.859 C 542.529 336.203 548.345 334.299 551.492 338.29 C 554.639 342.282 553.481 346.02 549.419 350.082 L 471.147 428.354 L 461.563 418.77 Z  M 427.729 471.772 L 425.299 474.202 Q 423.797 483.426 422.831 490.146 C 421.866 496.867 419.929 502.454 414.561 507.257 Q 355.43 549.028 351.096 551.683 C 346.763 554.338 340.947 556.243 337.8 552.251 C 334.653 548.26 335.811 544.522 339.873 540.46 L 418.145 462.187 L 427.729 471.772 Z \"\n        />\n        <path\n          className={`${styles.propeller} ${styles.propellerCCW}`}\n          style={{ animation: fRightRotorAnimation }}\n          d=\" M 461.563 135.773 L 463.992 138.203 Q 465.495 147.426 466.461 154.147 C 467.426 160.868 469.363 166.455 474.731 171.258 Q 533.862 213.028 538.196 215.684 C 542.529 218.339 548.345 220.244 551.492 216.252 C 554.639 212.26 553.481 208.523 549.419 204.46 L 471.147 126.188 L 461.563 135.773 Z  M 427.729 82.77 L 425.299 80.34 Q 423.797 71.117 422.831 64.396 C 421.866 57.675 419.929 52.088 414.561 47.285 Q 355.43 5.515 351.096 2.859 C 346.763 0.204 340.947 -1.701 337.8 2.291 C 334.653 6.282 335.811 10.02 339.873 14.082 L 418.145 92.355 L 427.729 82.77 Z \"\n        />\n        <path\n          className={`${styles.propeller} ${styles.propellerCCW}`}\n          style={{ animation: bLeftRotorAnimation }}\n          d=\" M 125.563 471.772 L 127.993 474.202 Q 129.496 483.426 130.461 490.146 C 131.427 496.867 133.363 502.454 138.731 507.257 Q 197.863 549.028 202.196 551.683 C 206.53 554.338 212.345 556.243 215.492 552.251 C 218.639 548.26 217.482 544.522 213.419 540.46 L 135.148 462.187 L 125.563 471.772 Z  M 91.73 418.77 L 89.3 416.34 Q 87.797 407.116 86.832 400.395 C 85.866 393.675 83.93 388.087 78.562 383.284 Q 19.431 341.514 15.097 338.859 C 10.763 336.203 4.948 334.299 1.801 338.29 C -1.346 342.282 -0.189 346.02 3.874 350.082 L 82.146 428.354 L 91.73 418.77 Z \"\n        />\n        <path\n          className={`${styles.propeller} ${styles.propellerCW}`}\n          style={{ animation: fLeftRotorAnimation }}\n          d=\" M 125.563 82.77 L 127.993 80.34 Q 129.496 71.117 130.461 64.396 C 131.427 57.675 133.363 52.088 138.731 47.285 Q 197.863 5.515 202.196 2.859 C 206.53 0.204 212.345 -1.701 215.492 2.291 C 218.639 6.282 217.482 10.02 213.419 14.083 L 135.147 92.355 L 125.563 82.77 Z  M 91.73 135.773 L 89.3 138.203 Q 87.797 147.426 86.832 154.147 C 85.866 160.868 83.93 166.455 78.562 171.258 Q 19.431 213.028 15.097 215.684 C 10.763 218.339 4.948 220.243 1.801 216.252 C -1.346 212.26 -0.189 208.523 3.874 204.46 L 82.146 126.188 L 91.73 135.773 Z \"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const droneTopItem: CanvasElementItem<any, any> = {\n  id: 'droneTop',\n  name: 'Drone Top',\n  description: 'Drone top',\n\n  display: DroneTopDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 100,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: DroneTopConfig) => {\n    const data: DroneTopData = {\n      bRightRotorRPM: cfg?.bRightRotorRPM ? ctx.getScalar(cfg.bRightRotorRPM).value() : 0,\n      bLeftRotorRPM: cfg?.bLeftRotorRPM ? ctx.getScalar(cfg.bLeftRotorRPM).value() : 0,\n      fRightRotorRPM: cfg?.fRightRotorRPM ? ctx.getScalar(cfg.fRightRotorRPM).value() : 0,\n      fLeftRotorRPM: cfg?.fLeftRotorRPM ? ctx.getScalar(cfg.fLeftRotorRPM).value() : 0,\n      yawAngle: cfg?.yawAngle ? ctx.getScalar(cfg.yawAngle).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Drone Top'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'yawAngle',\n        path: 'config.yawAngle',\n        name: 'Yaw Angle',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'fRightRotorRPM',\n        path: 'config.fRightRotorRPM',\n        name: 'Front Right Rotor RPM',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'fLeftRotorRPM',\n        path: 'config.fLeftRotorRPM',\n        name: 'Front Left Rotor RPM',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'bRightRotorRPM',\n        path: 'config.bRightRotorRPM',\n        name: 'Back Right Rotor RPM',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'bLeftRotorRPM',\n        path: 'config.bLeftRotorRPM',\n        name: 'Back Left Rotor RPM',\n        editor: ScalarDimensionEditor,\n      });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  propeller: css`\n    transform-origin: 50% 50%;\n    transform-box: fill-box;\n    display: block;\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n  `,\n  propellerCW: css`\n    animation-direction: normal;\n  `,\n  propellerCCW: css`\n    animation-direction: reverse;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { PureComponent } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { stylesFactory } from '@grafana/ui';\nimport { config } from 'app/core/config';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { ColorDimensionEditor } from 'app/features/dimensions/editors/ColorDimensionEditor';\nimport { TextDimensionEditor } from 'app/features/dimensions/editors/TextDimensionEditor';\nimport { ColorDimensionConfig, TextDimensionConfig } from 'app/features/dimensions/types';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor, defaultTextColor } from '../element';\n\nexport enum Align {\n  Left = 'left',\n  Center = 'center',\n  Right = 'right',\n}\n\nexport enum VAlign {\n  Top = 'top',\n  Middle = 'middle',\n  Bottom = 'bottom',\n}\n\ninterface TextBoxData {\n  text?: string;\n  color?: string;\n  size?: number; // 0 or missing will \"auto size\"\n  align: Align;\n  valign: VAlign;\n}\n\ninterface TextBoxConfig {\n  text?: TextDimensionConfig;\n  color?: ColorDimensionConfig;\n  size?: number; // 0 or missing will \"auto size\"\n  align: Align;\n  valign: VAlign;\n}\n\nclass TextBoxDisplay extends PureComponent<CanvasElementProps<TextBoxConfig, TextBoxData>> {\n  render() {\n    const { data } = this.props;\n    const styles = getStyles(config.theme2, data);\n    return (\n      <div className={styles.container}>\n        <span className={styles.span}>{data?.text}</span>\n      </div>\n    );\n  }\n}\nconst getStyles = stylesFactory((theme: GrafanaTheme2, data) => ({\n  container: css`\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    display: table;\n  `,\n  span: css`\n    display: table-cell;\n    vertical-align: ${data.valign};\n    text-align: ${data.align};\n    font-size: ${data?.size}px;\n    color: ${data?.color};\n  `,\n}));\nexport const textBoxItem: CanvasElementItem<TextBoxConfig, TextBoxData> = {\n  id: 'text-box',\n  name: 'Text',\n  description: 'Text box',\n\n  display: TextBoxDisplay,\n\n  defaultSize: {\n    width: 240,\n    height: 160,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    config: {\n      align: Align.Center,\n      valign: VAlign.Middle,\n      color: {\n        fixed: defaultTextColor,\n      },\n    },\n    background: {\n      color: {\n        fixed: defaultBgColor,\n      },\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: TextBoxConfig) => {\n    const data: TextBoxData = {\n      text: cfg.text ? ctx.getText(cfg.text).value() : '',\n      align: cfg.align ?? Align.Center,\n      valign: cfg.valign ?? VAlign.Middle,\n      size: cfg.size,\n    };\n\n    if (cfg.color) {\n      data.color = ctx.getColor(cfg.color).value();\n    }\n\n    return data;\n  },\n\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    const category = ['Text box'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'textSelector',\n        path: 'config.text',\n        name: 'Text',\n        editor: TextDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'config.color',\n        path: 'config.color',\n        name: 'Text color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {},\n      })\n      .addRadio({\n        category,\n        path: 'config.align',\n        name: 'Align text',\n        settings: {\n          options: [\n            { value: Align.Left, label: 'Left' },\n            { value: Align.Center, label: 'Center' },\n            { value: Align.Right, label: 'Right' },\n          ],\n        },\n        defaultValue: Align.Left,\n      })\n      .addRadio({\n        category,\n        path: 'config.valign',\n        name: 'Vertical align',\n        settings: {\n          options: [\n            { value: VAlign.Top, label: 'Top' },\n            { value: VAlign.Middle, label: 'Middle' },\n            { value: VAlign.Bottom, label: 'Bottom' },\n          ],\n        },\n        defaultValue: VAlign.Middle,\n      })\n      .addNumberInput({\n        category,\n        path: 'config.size',\n        name: 'Text size',\n        settings: {\n          placeholder: 'Auto',\n        },\n      });\n  },\n};\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface WindTurbineData {\n  rpm?: number;\n}\n\ninterface WindTurbineConfig {\n  rpm?: ScalarDimensionConfig;\n}\n\nconst WindTurbineDisplay: FC<CanvasElementProps<WindTurbineConfig, WindTurbineData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const windTurbineAnimation = `spin ${data?.rpm ? 60 / Math.abs(data.rpm) : 0}s linear infinite`;\n\n  return (\n    <svg viewBox=\"0 0 189.326 283.989\" preserveAspectRatio=\"xMidYMid meet\" style={{ fill: defaultBgColor }}>\n      <symbol id=\"blade\">\n        <path\n          fill=\"#e6e6e6\"\n          id=\"blade-front\"\n          d=\"M14.6491879,1.85011601 C14.2684455,-0.0535962877 10.7150812,-0.815081206 9.06473318,3.37308585 L0.434338747,70.7658933 L8.93805104,91.9607889 L15.4106729,90.437819 L17.5684455,78.3807425 L14.5218097,1.97679814 L14.6491879,1.85011601 Z\"\n        />\n        <path\n          fill=\"#d0d6d7\"\n          id=\"blade-side\"\n          d=\"M11.0951276,0.581206497 C10.3336427,0.961948956 9.57215777,1.85011601 8.93735499,3.24640371 L0.306960557,70.6392111 L8.81067285,91.8341067 L3.35359629,70.0044084 L11.0951276,0.581206497 Z\"\n        />\n      </symbol>\n\n      <g>\n        <g id=\"structure\" transform=\"translate(58.123, 82.664)\" fillRule=\"nonzero\">\n          <polygon id=\"tower\" fill=\"#e6e6e6\" points=\"33.111,10.984 39.965,10.984 44.28,196.176 28.796,196.176\" />\n          <path\n            id=\"yaw\"\n            fill=\"rgba(0,0,0,0.25)\"\n            d=\"M40.3454756,23.2948956 L40.7262181,34.8445476 C38.8225058,35.0986079 35.7765661,35.0986079 32.349884,34.337123 L32.7306265,23.2955916 L40.3454756,23.2955916 L40.3454756,23.2948956 Z\"\n          />\n          <path\n            id=\"base\"\n            fill=\"#d0d6d7\"\n            transform=\"translate(0 42)\"\n            d=\"M26.3846868,150.591647 L46.5640371,150.591647 C48.8484919,150.591647 50.7522042,152.49536 50.7522042,154.779814 L50.7522042,158.967981 L22.0691415,158.967981 L22.0691415,154.779814 C22.0691415,152.49536 23.9728538,150.591647 26.2573086,150.591647 L26.3846868,150.591647 Z\"\n          />\n          <circle id=\"nacelle\" fill=\"#e6e6e6\" cx=\"36.54\" cy=\"12\" r=\"11.93\" />\n          <circle id=\"gearbox\" fill=\"none\" stroke=\"#d0d6d7\" strokeWidth=\"2.75\" cx=\"36.538\" cy=\"11.999\" r=\"5.8\" />\n        </g>\n        <g className={styles.blade} style={{ animation: windTurbineAnimation }}>\n          <use id=\"blade1\" href=\"#blade\" x=\"83.24\" y=\"0\" />\n          <use id=\"blade2\" href=\"#blade\" x=\"83.24\" y=\"0\" transform=\"rotate(120 94.663 94.663)\" />\n          <use id=\"blade3\" href=\"#blade\" x=\"83.24\" y=\"0\" transform=\"rotate(-120 94.663 94.663)\" />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport const windTurbineItem: CanvasElementItem<any, any> = {\n  id: 'windTurbine',\n  name: 'Wind Turbine',\n  description: 'Spinny spinny',\n\n  display: WindTurbineDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 155,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: options?.placement?.width ?? 100,\n      height: options?.placement?.height ?? 155,\n      top: options?.placement?.top,\n      left: options?.placement?.left,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: WindTurbineConfig) => {\n    const data: WindTurbineData = {\n      rpm: cfg?.rpm ? ctx.getScalar(cfg.rpm).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Wind Turbine'];\n    builder.addCustomEditor({\n      category,\n      id: 'rpm',\n      path: 'config.rpm',\n      name: 'RPM',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  blade: css`\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    transform-origin: 94.663px 94.663px;\n    transform: rotate(15deg);\n  `,\n});\n","import { Registry } from '@grafana/data';\n\nimport { CanvasElementItem, CanvasElementOptions } from './element';\nimport { buttonItem } from './elements/button';\nimport { droneFrontItem } from './elements/droneFront';\nimport { droneSideItem } from './elements/droneSide';\nimport { droneTopItem } from './elements/droneTop';\nimport { iconItem } from './elements/icon';\nimport { textBoxItem } from './elements/textBox';\nimport { windTurbineItem } from './elements/windTurbine';\n\nexport const DEFAULT_CANVAS_ELEMENT_CONFIG: CanvasElementOptions = {\n  ...iconItem.getNewOptions(),\n  type: iconItem.id,\n  name: `Element 1`,\n};\n\nexport const defaultElementItems = [\n  iconItem, // default for now\n  textBoxItem,\n];\n\nconst advancedElementItems = [buttonItem, windTurbineItem, droneTopItem, droneFrontItem, droneSideItem];\n\nexport const canvasElementRegistry = new Registry<CanvasElementItem>(() => [\n  ...defaultElementItems,\n  ...advancedElementItems,\n]);\n","import React, { CSSProperties } from 'react';\nimport { OnDrag, OnResize } from 'react-moveable/declaration/types';\n\nimport { LayerElement } from 'app/core/components/Layers/types';\nimport {\n  BackgroundImageSize,\n  CanvasElementItem,\n  CanvasElementOptions,\n  canvasElementRegistry,\n} from 'app/features/canvas';\nimport { notFoundItem } from 'app/features/canvas/elements/notFound';\nimport { DimensionContext } from 'app/features/dimensions';\n\nimport { Constraint, HorizontalConstraint, Placement, VerticalConstraint } from '../types';\n\nimport { FrameState } from './frame';\nimport { RootElement } from './root';\nimport { Scene } from './scene';\n\nlet counter = 0;\n\nexport class ElementState implements LayerElement {\n  // UID necessary for moveable to work (for now)\n  readonly UID = counter++;\n  revId = 0;\n  sizeStyle: CSSProperties = {};\n  dataStyle: CSSProperties = {};\n\n  // Temp stored constraint for visualization purposes (switch to top / left constraint to simplify some functionality)\n  tempConstraint: Constraint | undefined;\n\n  // Filled in by ref\n  div?: HTMLDivElement;\n\n  // Calculated\n  data?: any; // depends on the type\n\n  constructor(public item: CanvasElementItem, public options: CanvasElementOptions, public parent?: FrameState) {\n    const fallbackName = `Element ${Date.now()}`;\n    if (!options) {\n      this.options = { type: item.id, name: fallbackName };\n    }\n\n    options.constraint = options.constraint ?? {\n      vertical: VerticalConstraint.Top,\n      horizontal: HorizontalConstraint.Left,\n    };\n    options.placement = options.placement ?? { width: 100, height: 100, top: 0, left: 0 };\n    options.background = options.background ?? { color: { fixed: 'transparent' } };\n    const scene = this.getScene();\n    if (!options.name) {\n      const newName = scene?.getNextElementName();\n      options.name = newName ?? fallbackName;\n    }\n    scene?.byName.set(options.name, this);\n  }\n\n  private getScene(): Scene | undefined {\n    let trav = this.parent;\n    while (trav) {\n      if (trav.isRoot()) {\n        return trav.scene;\n      }\n      trav = trav.parent;\n    }\n\n    return undefined;\n  }\n\n  getName() {\n    return this.options.name;\n  }\n\n  /** Use the configured options to update CSS style properties directly on the wrapper div **/\n  applyLayoutStylesToDiv(disablePointerEvents?: boolean) {\n    if (this.isRoot()) {\n      // Root supersedes layout engine and is always 100% width + height of panel\n      return;\n    }\n\n    const { constraint } = this.options;\n    const { vertical, horizontal } = constraint ?? {};\n    const placement = this.options.placement ?? ({} as Placement);\n\n    const editingEnabled = this.getScene()?.isEditingEnabled;\n\n    const style: React.CSSProperties = {\n      cursor: editingEnabled ? 'grab' : 'auto',\n      pointerEvents: disablePointerEvents ? 'none' : 'auto',\n      position: 'absolute',\n      // Minimum element size is 10x10\n      minWidth: '10px',\n      minHeight: '10px',\n    };\n\n    const translate = ['0px', '0px'];\n\n    switch (vertical) {\n      case VerticalConstraint.Top:\n        placement.top = placement.top ?? 0;\n        placement.height = placement.height ?? 100;\n        style.top = `${placement.top}px`;\n        style.height = `${placement.height}px`;\n        delete placement.bottom;\n        break;\n      case VerticalConstraint.Bottom:\n        placement.bottom = placement.bottom ?? 0;\n        placement.height = placement.height ?? 100;\n        style.bottom = `${placement.bottom}px`;\n        style.height = `${placement.height}px`;\n        delete placement.top;\n        break;\n      case VerticalConstraint.TopBottom:\n        placement.top = placement.top ?? 0;\n        placement.bottom = placement.bottom ?? 0;\n        style.top = `${placement.top}px`;\n        style.bottom = `${placement.bottom}px`;\n        delete placement.height;\n        style.height = '';\n        break;\n      case VerticalConstraint.Center:\n        placement.top = placement.top ?? 0;\n        placement.height = placement.height ?? 100;\n        translate[1] = '-50%';\n        style.top = `calc(50% - ${placement.top}px)`;\n        style.height = `${placement.height}px`;\n        delete placement.bottom;\n        break;\n      case VerticalConstraint.Scale:\n        placement.top = placement.top ?? 0;\n        placement.bottom = placement.bottom ?? 0;\n        style.top = `${placement.top}%`;\n        style.bottom = `${placement.bottom}%`;\n        delete placement.height;\n        style.height = '';\n        break;\n    }\n\n    switch (horizontal) {\n      case HorizontalConstraint.Left:\n        placement.left = placement.left ?? 0;\n        placement.width = placement.width ?? 100;\n        style.left = `${placement.left}px`;\n        style.width = `${placement.width}px`;\n        delete placement.right;\n        break;\n      case HorizontalConstraint.Right:\n        placement.right = placement.right ?? 0;\n        placement.width = placement.width ?? 100;\n        style.right = `${placement.right}px`;\n        style.width = `${placement.width}px`;\n        delete placement.left;\n        break;\n      case HorizontalConstraint.LeftRight:\n        placement.left = placement.left ?? 0;\n        placement.right = placement.right ?? 0;\n        style.left = `${placement.left}px`;\n        style.right = `${placement.right}px`;\n        delete placement.width;\n        style.width = '';\n        break;\n      case HorizontalConstraint.Center:\n        placement.left = placement.left ?? 0;\n        placement.width = placement.width ?? 100;\n        translate[0] = '-50%';\n        style.left = `calc(50% - ${placement.left}px)`;\n        style.width = `${placement.width}px`;\n        delete placement.right;\n        break;\n      case HorizontalConstraint.Scale:\n        placement.left = placement.left ?? 0;\n        placement.right = placement.right ?? 0;\n        style.left = `${placement.left}%`;\n        style.right = `${placement.right}%`;\n        delete placement.width;\n        style.width = '';\n        break;\n    }\n\n    style.transform = `translate(${translate[0]}, ${translate[1]})`;\n    this.options.placement = placement;\n    this.sizeStyle = style;\n    if (this.div) {\n      for (const key in this.sizeStyle) {\n        this.div.style[key as any] = (this.sizeStyle as any)[key];\n      }\n\n      for (const key in this.dataStyle) {\n        this.div.style[key as any] = (this.dataStyle as any)[key];\n      }\n    }\n  }\n\n  setPlacementFromConstraint(elementContainer?: DOMRect, parentContainer?: DOMRect) {\n    const { constraint } = this.options;\n    const { vertical, horizontal } = constraint ?? {};\n\n    if (!elementContainer) {\n      elementContainer = this.div && this.div.getBoundingClientRect();\n    }\n    let parentBorderWidth = 0;\n    if (!parentContainer) {\n      parentContainer = this.div && this.div.parentElement?.getBoundingClientRect();\n      parentBorderWidth = parseFloat(getComputedStyle(this.div?.parentElement!).borderWidth);\n    }\n\n    const relativeTop =\n      elementContainer && parentContainer\n        ? Math.round(elementContainer.top - parentContainer.top - parentBorderWidth)\n        : 0;\n    const relativeBottom =\n      elementContainer && parentContainer\n        ? Math.round(parentContainer.bottom - parentBorderWidth - elementContainer.bottom)\n        : 0;\n    const relativeLeft =\n      elementContainer && parentContainer\n        ? Math.round(elementContainer.left - parentContainer.left - parentBorderWidth)\n        : 0;\n    const relativeRight =\n      elementContainer && parentContainer\n        ? Math.round(parentContainer.right - parentBorderWidth - elementContainer.right)\n        : 0;\n\n    const placement = {} as Placement;\n\n    const width = elementContainer?.width ?? 100;\n    const height = elementContainer?.height ?? 100;\n\n    switch (vertical) {\n      case VerticalConstraint.Top:\n        placement.top = relativeTop;\n        placement.height = height;\n        break;\n      case VerticalConstraint.Bottom:\n        placement.bottom = relativeBottom;\n        placement.height = height;\n        break;\n      case VerticalConstraint.TopBottom:\n        placement.top = relativeTop;\n        placement.bottom = relativeBottom;\n        break;\n      case VerticalConstraint.Center:\n        const elementCenter = elementContainer ? relativeTop + height / 2 : 0;\n        const parentCenter = parentContainer ? parentContainer.height / 2 : 0;\n        const distanceFromCenter = parentCenter - elementCenter;\n        placement.top = distanceFromCenter;\n        placement.height = height;\n        break;\n      case VerticalConstraint.Scale:\n        placement.top = (relativeTop / (parentContainer?.height ?? height)) * 100;\n        placement.bottom = (relativeBottom / (parentContainer?.height ?? height)) * 100;\n        break;\n    }\n\n    switch (horizontal) {\n      case HorizontalConstraint.Left:\n        placement.left = relativeLeft;\n        placement.width = width;\n        break;\n      case HorizontalConstraint.Right:\n        placement.right = relativeRight;\n        placement.width = width;\n        break;\n      case HorizontalConstraint.LeftRight:\n        placement.left = relativeLeft;\n        placement.right = relativeRight;\n        break;\n      case HorizontalConstraint.Center:\n        const elementCenter = elementContainer ? relativeLeft + width / 2 : 0;\n        const parentCenter = parentContainer ? parentContainer.width / 2 : 0;\n        const distanceFromCenter = parentCenter - elementCenter;\n        placement.left = distanceFromCenter;\n        placement.width = width;\n        break;\n      case HorizontalConstraint.Scale:\n        placement.left = (relativeLeft / (parentContainer?.width ?? width)) * 100;\n        placement.right = (relativeRight / (parentContainer?.width ?? width)) * 100;\n        break;\n    }\n\n    this.options.placement = placement;\n\n    this.applyLayoutStylesToDiv();\n    this.revId++;\n  }\n\n  updateData(ctx: DimensionContext) {\n    if (this.item.prepareData) {\n      this.data = this.item.prepareData(ctx, this.options.config);\n      this.revId++; // rerender\n    }\n\n    const { background, border } = this.options;\n    const css: CSSProperties = {};\n    if (background) {\n      if (background.color) {\n        const color = ctx.getColor(background.color);\n        css.backgroundColor = color.value();\n      }\n      if (background.image) {\n        const image = ctx.getResource(background.image);\n        if (image) {\n          const v = image.value();\n          if (v) {\n            css.backgroundImage = `url(\"${v}\")`;\n            switch (background.size ?? BackgroundImageSize.Contain) {\n              case BackgroundImageSize.Contain:\n                css.backgroundSize = 'contain';\n                css.backgroundRepeat = 'no-repeat';\n                break;\n              case BackgroundImageSize.Cover:\n                css.backgroundSize = 'cover';\n                css.backgroundRepeat = 'no-repeat';\n                break;\n              case BackgroundImageSize.Original:\n                css.backgroundRepeat = 'no-repeat';\n                break;\n              case BackgroundImageSize.Tile:\n                css.backgroundRepeat = 'repeat';\n                break;\n              case BackgroundImageSize.Fill:\n                css.backgroundSize = '100% 100%';\n                break;\n            }\n          } else {\n            css.backgroundImage = '';\n          }\n        }\n      }\n    }\n\n    if (border && border.color && border.width) {\n      const color = ctx.getColor(border.color);\n      css.borderWidth = border.width;\n      css.borderStyle = 'solid';\n      css.borderColor = color.value();\n\n      // Move the image to inside the border\n      if (css.backgroundImage) {\n        css.backgroundOrigin = 'padding-box';\n      }\n    }\n\n    this.dataStyle = css;\n    this.applyLayoutStylesToDiv();\n  }\n\n  isRoot(): this is RootElement {\n    return false;\n  }\n\n  /** Recursively visit all nodes */\n  visit(visitor: (v: ElementState) => void) {\n    visitor(this);\n  }\n\n  onChange(options: CanvasElementOptions) {\n    if (this.item.id !== options.type) {\n      this.item = canvasElementRegistry.getIfExists(options.type) ?? notFoundItem;\n    }\n\n    // rename handling\n    const oldName = this.options.name;\n    const newName = options.name;\n\n    this.revId++;\n    this.options = { ...options };\n    let trav = this.parent;\n    while (trav) {\n      if (trav.isRoot()) {\n        trav.scene.save();\n        break;\n      }\n      trav.revId++;\n      trav = trav.parent;\n    }\n\n    const scene = this.getScene();\n    if (oldName !== newName && scene) {\n      scene.byName.delete(oldName);\n      scene.byName.set(newName, this);\n    }\n  }\n\n  getSaveModel() {\n    return { ...this.options };\n  }\n\n  initElement = (target: HTMLDivElement) => {\n    this.div = target;\n    this.applyLayoutStylesToDiv();\n  };\n\n  applyDrag = (event: OnDrag) => {\n    const hasHorizontalCenterConstraint = this.options.constraint?.horizontal === HorizontalConstraint.Center;\n    const hasVerticalCenterConstraint = this.options.constraint?.vertical === VerticalConstraint.Center;\n    if (hasHorizontalCenterConstraint || hasVerticalCenterConstraint) {\n      const numberOfTargets = this.getScene()?.selecto?.getSelectedTargets().length ?? 0;\n      const isMultiSelection = numberOfTargets > 1;\n      if (!isMultiSelection) {\n        const elementContainer = this.div?.getBoundingClientRect();\n        const height = elementContainer?.height ?? 100;\n        const yOffset = hasVerticalCenterConstraint ? height / 4 : 0;\n        event.target.style.transform = `translate(${event.translate[0]}px, ${event.translate[1] - yOffset}px)`;\n        return;\n      }\n    }\n\n    event.target.style.transform = event.transform;\n  };\n\n  // kinda like:\n  // https://github.com/grafana/grafana-edge-app/blob/main/src/panels/draw/WrapItem.tsx#L44\n  applyResize = (event: OnResize) => {\n    const placement = this.options.placement!;\n\n    const style = event.target.style;\n    const deltaX = event.delta[0];\n    const deltaY = event.delta[1];\n    const dirLR = event.direction[0];\n    const dirTB = event.direction[1];\n\n    if (dirLR === 1) {\n      placement.width = event.width;\n      style.width = `${placement.width}px`;\n    } else if (dirLR === -1) {\n      placement.left! -= deltaX;\n      placement.width = event.width;\n      style.left = `${placement.left}px`;\n      style.width = `${placement.width}px`;\n    }\n\n    if (dirTB === -1) {\n      placement.top! -= deltaY;\n      placement.height = event.height;\n      style.top = `${placement.top}px`;\n      style.height = `${placement.height}px`;\n    } else if (dirTB === 1) {\n      placement.height = event.height;\n      style.height = `${placement.height}px`;\n    }\n  };\n\n  render() {\n    const { item } = this;\n    return (\n      <div key={this.UID} ref={this.initElement}>\n        <item.display key={`${this.UID}/${this.revId}`} config={this.options.config} data={this.data} />\n      </div>\n    );\n  }\n}\n","import { ColorDimensionConfig, ResourceDimensionConfig } from 'app/features/dimensions/types';\n\nexport interface Placement {\n  top?: number;\n  left?: number;\n  right?: number;\n  bottom?: number;\n\n  width?: number;\n  height?: number;\n}\n\nexport interface Constraint {\n  horizontal?: HorizontalConstraint;\n  vertical?: VerticalConstraint;\n}\n\nexport enum HorizontalConstraint {\n  Left = 'left',\n  Right = 'right',\n  LeftRight = 'leftright',\n  Center = 'center',\n  Scale = 'scale',\n}\n\nexport enum VerticalConstraint {\n  Top = 'top',\n  Bottom = 'bottom',\n  TopBottom = 'topbottom',\n  Center = 'center',\n  Scale = 'scale',\n}\n\nexport enum BackgroundImageSize {\n  Original = 'original',\n  Contain = 'contain',\n  Cover = 'cover',\n  Fill = 'fill',\n  Tile = 'tile',\n}\n\nexport interface BackgroundConfig {\n  color?: ColorDimensionConfig;\n  image?: ResourceDimensionConfig;\n  size?: BackgroundImageSize;\n}\n\nexport interface LineConfig {\n  color?: ColorDimensionConfig;\n  width?: number;\n}\n\nexport enum QuickPlacement {\n  Top = 'top',\n  Bottom = 'bottom',\n  Left = 'left',\n  Right = 'right',\n  HorizontalCenter = 'hcenter',\n  VerticalCenter = 'vcenter',\n}\n","import React, { useCallback } from 'react';\n\nimport { AppEvents, StandardEditorProps, StandardEditorsRegistryItem, StringFieldConfigSettings } from '@grafana/data';\nimport { config, getBackendSrv } from '@grafana/runtime';\nimport { Button, InlineField, InlineFieldRow, JSONFormatter } from '@grafana/ui';\nimport { StringValueEditor } from 'app/core/components/OptionsUI/string';\nimport { appEvents } from 'app/core/core';\n\nexport interface APIEditorConfig {\n  endpoint: string;\n  data?: string;\n}\n\nconst dummyStringSettings: StandardEditorsRegistryItem<string, StringFieldConfigSettings> = {\n  settings: {},\n} as any;\n\nexport const callApi = (api: APIEditorConfig, isTest = false) => {\n  if (api) {\n    getBackendSrv()\n      .fetch({\n        url: api.endpoint!,\n        method: 'POST',\n        data: api.data ?? {},\n      })\n      .subscribe({\n        error: (error: any) => {\n          if (isTest) {\n            appEvents.emit(AppEvents.alertError, ['Error has occurred: ', JSON.stringify(error)]);\n            console.error(error);\n          }\n        },\n        complete: () => {\n          if (isTest) {\n            appEvents.emit(AppEvents.alertSuccess, ['Test successful']);\n          }\n        },\n      });\n  }\n};\n\ntype Props = StandardEditorProps<APIEditorConfig, any, any>;\n\nexport function APIEditor({ value, context, onChange }: Props) {\n  const labelWidth = 9;\n\n  const onEndpointChange = useCallback(\n    (endpoint) => {\n      onChange({\n        ...value,\n        endpoint,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onDataChange = useCallback(\n    (data) => {\n      onChange({\n        ...value,\n        data,\n      });\n    },\n    [onChange, value]\n  );\n\n  const renderJSON = (data: string) => {\n    try {\n      const json = JSON.parse(data);\n      return <JSONFormatter json={json} />;\n    } catch (error) {\n      if (error instanceof Error) {\n        return `Invalid JSON provided: ${error.message}`;\n      } else {\n        return 'Invalid JSON provided';\n      }\n    }\n  };\n\n  const renderTestAPIButton = (api: APIEditorConfig) => {\n    if (api && api.endpoint) {\n      return (\n        <Button onClick={() => callApi(api, true)} title={'Test API'}>\n          Test API\n        </Button>\n      );\n    }\n\n    return;\n  };\n\n  return config.disableSanitizeHtml ? (\n    <>\n      <InlineFieldRow>\n        <InlineField label={'Endpoint'} labelWidth={labelWidth} grow={true}>\n          <StringValueEditor\n            context={context}\n            value={value?.endpoint}\n            onChange={onEndpointChange}\n            item={dummyStringSettings}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      <InlineFieldRow>\n        <InlineField label={'Data'} labelWidth={labelWidth} grow={true}>\n          <StringValueEditor\n            context={context}\n            value={value?.data ?? '{}'}\n            onChange={onDataChange}\n            item={dummyStringSettings}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      {renderTestAPIButton(value)}\n      <br />\n      {renderJSON(value?.data ?? '{}')}\n    </>\n  ) : (\n    <>Must enable disableSanitizeHtml feature flag to access</>\n  );\n}\n","import { PanelOptionsSupplier } from '@grafana/data/src/panel/PanelPlugin';\nimport { BackgroundImageSize, CanvasElementOptions } from 'app/features/canvas';\nimport { ColorDimensionEditor, ResourceDimensionEditor } from 'app/features/dimensions/editors';\n\ninterface OptionSuppliers {\n  addBackground: PanelOptionsSupplier<CanvasElementOptions>;\n  addBorder: PanelOptionsSupplier<CanvasElementOptions>;\n}\n\nexport const optionBuilder: OptionSuppliers = {\n  addBackground: (builder, context) => {\n    const category = ['Background'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'background.color',\n        path: 'background.color',\n        name: 'Color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: '',\n        },\n      })\n      .addCustomEditor({\n        category,\n        id: 'background.image',\n        path: 'background.image',\n        name: 'Image',\n        editor: ResourceDimensionEditor,\n        settings: {\n          resourceType: 'image',\n        },\n      })\n      .addRadio({\n        category,\n        path: 'background.size',\n        name: 'Image size',\n        settings: {\n          options: [\n            { value: BackgroundImageSize.Original, label: 'Original' },\n            { value: BackgroundImageSize.Contain, label: 'Contain' },\n            { value: BackgroundImageSize.Cover, label: 'Cover' },\n            { value: BackgroundImageSize.Fill, label: 'Fill' },\n            { value: BackgroundImageSize.Tile, label: 'Tile' },\n          ],\n        },\n        defaultValue: BackgroundImageSize.Cover,\n      });\n  },\n\n  addBorder: (builder, context) => {\n    const category = ['Border'];\n    builder.addSliderInput({\n      category,\n      path: 'border.width',\n      name: 'Width',\n      defaultValue: 2,\n      settings: {\n        min: 0,\n        max: 20,\n      },\n    });\n\n    if (context.options?.border?.width) {\n      builder.addCustomEditor({\n        category,\n        id: 'border.color',\n        path: 'border.color',\n        name: 'Color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: '',\n        },\n      });\n    }\n  },\n};\n"],"names":["defaultBgColor","defaultTextColor","svgStrokePathClass","css","iconItem","id","name","description","display","props","data","path","svgStyle","fill","stroke","strokeColor","strokeWidth","onClick","api","callApi","src","style","className","undefined","getNewOptions","options","placement","width","height","top","left","config","mode","ResourceDimensionMode","fixed","background","color","prepareData","ctx","cfg","getResource","value","isString","getPublicOrAbsoluteUrl","getColor","registerOptionsUI","builder","category","addCustomEditor","editor","ResourceDimensionEditor","settings","resourceType","ColorDimensionEditor","defaultValue","NotFoundDisplay","PureComponent","render","this","JSON","stringify","notFoundItem","defaultSize","ButtonDisplay","Button","type","text","buttonItem","getText","TextDimensionEditor","APIEditor","droneFrontItem","styles","useStyles2","getStyles","droneFrontTransformStyle","rollAngle","droneFront","xmlns","xmlnsXlink","viewBox","transform","x1","x2","y1","y2","d","cx","cy","r","getScalar","ScalarDimensionEditor","theme","droneSideItem","droneSidePitchTransformStyle","pitchAngle","droneSide","droneTopItem","fRightRotorAnimation","fRightRotorRPM","Math","abs","fLeftRotorAnimation","fLeftRotorRPM","bRightRotorAnimation","bRightRotorRPM","bLeftRotorAnimation","bLeftRotorRPM","droneTopTransformStyle","yawAngle","xmlSpace","fillRule","propeller","propellerCW","animation","propellerCCW","Align","VAlign","TextBoxDisplay","container","span","stylesFactory","valign","align","size","textBoxItem","Center","Middle","addRadio","Left","label","Right","Top","Bottom","addNumberInput","placeholder","windTurbineItem","windTurbineAnimation","rpm","preserveAspectRatio","points","blade","href","x","y","DEFAULT_CANVAS_ELEMENT_CONFIG","defaultElementItems","advancedElementItems","canvasElementRegistry","Registry","counter","ElementState","constructor","item","parent","target","div","applyLayoutStylesToDiv","event","hasHorizontalCenterConstraint","constraint","horizontal","HorizontalConstraint","hasVerticalCenterConstraint","vertical","VerticalConstraint","getScene","selecto","getSelectedTargets","length","elementContainer","getBoundingClientRect","yOffset","translate","deltaX","delta","deltaY","dirLR","direction","dirTB","fallbackName","Date","now","scene","newName","getNextElementName","byName","set","trav","isRoot","getName","disablePointerEvents","cursor","isEditingEnabled","pointerEvents","position","minWidth","minHeight","bottom","right","sizeStyle","key","dataStyle","setPlacementFromConstraint","parentContainer","parentBorderWidth","parentElement","parseFloat","getComputedStyle","borderWidth","relativeTop","round","relativeBottom","relativeLeft","relativeRight","elementCenter","distanceFromCenter","revId","updateData","border","backgroundColor","image","v","backgroundImage","BackgroundImageSize","backgroundSize","backgroundRepeat","borderStyle","borderColor","backgroundOrigin","visit","visitor","onChange","oldName","save","delete","getSaveModel","ref","initElement","UID","QuickPlacement","dummyStringSettings","isTest","getBackendSrv","fetch","url","endpoint","method","subscribe","error","appEvents","AppEvents","console","complete","context","onEndpointChange","useCallback","onDataChange","InlineFieldRow","InlineField","labelWidth","grow","title","renderTestAPIButton","json","parse","JSONFormatter","Error","message","renderJSON","optionBuilder","addBackground","addBorder","addSliderInput","min","max"],"sourceRoot":""}