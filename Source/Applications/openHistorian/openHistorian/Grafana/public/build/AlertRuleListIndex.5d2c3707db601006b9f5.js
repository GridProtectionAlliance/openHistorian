"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[2461,4286],{65007:(re,M,a)=>{a.r(M),a.d(M,{AlertRuleListUnconnected:()=>pe,default:()=>Se});var n=a(68404),e=a(36635),F=a(37932),B=a(35645),C=a(14747),$=a(53217),h=a(31403),H=a(52081),Y=a(18271),P=a(79396),K=a(45984),X=a(35029);function A({onDismiss:v}){return n.createElement(X.u,{title:"Adding an Alert",isOpen:!0,onDismiss:v,onClickBackdrop:v},n.createElement(H.wc,{spacing:"sm"},n.createElement("img",{src:"public/img/alert_howto_new.png",alt:""}),n.createElement("p",null,"Alerts are added and configured in the Alert tab of any dashboard graph panel, letting you build and visualize an alert using existing queries."),n.createElement("p",null,"Remember to save the dashboard to persist your alert rule changes.")))}var I=a(14677),O=a.n(I),k=a(72948),de=a(39904);const Ae=({rule:v,search:x,onTogglePause:w})=>{const ue=`${v.url}?editPanel=${v.panelId}&tab=alert`,ee=(0,n.useCallback)(fe=>n.createElement(O(),{key:fe,highlightClassName:"highlight-search-match",textToHighlight:fe,searchWords:[x]}),[x]);return n.createElement(k.Z,null,n.createElement(k.Z.Heading,null,ee(v.name)),n.createElement(k.Z.Figure,null,n.createElement(de.J,{size:"xl",name:v.stateIcon,className:`alert-rule-item__icon ${v.stateClass}`})),n.createElement(k.Z.Meta,null,n.createElement("span",{key:"state"},n.createElement("span",{key:"text",className:`${v.stateClass}`},ee(v.stateText)," "),"for ",v.stateAge),v.info?ee(v.info):null),n.createElement(k.Z.Actions,null,n.createElement(h.zx,{key:"play",variant:"secondary",icon:v.state==="paused"?"play":"pause",onClick:w},v.state==="paused"?"Resume":"Pause"),n.createElement(h.Qj,{key:"edit",variant:"secondary",href:ue,icon:"cog"},"Edit alert")))};var Ie=a(45253);const ge="grafana.legacyalerting.unifiedalertingpromo",Te=()=>n.createElement(Ie.b,{severity:"warning",title:"Grafana legacy alerting is going away soon"},n.createElement("p",null,"You are using Grafana legacy alerting, it has been deprecated and will be removed in the next major version of Grafana.",n.createElement("br",null),"We encourage you to upgrade to the new Grafana Alerting experience."),n.createElement("p",null,"See"," ",n.createElement("a",{href:"https://grafana.com/docs/grafana/latest/alerting/unified-alerting/difference-old-new/"},"What\u2019s New with Grafana Alerting")," ","to learn more about what\u2018s new or learn"," ",n.createElement("a",{href:"https://grafana.com/docs/grafana/latest/alerting/unified-alerting/opt-in/"},"how to enable the new Grafana Alerting feature"),"."));var Re=a(69119),ie=a(11626);const _=v=>v.searchQuery,b=v=>{const x=new RegExp(v.alertRules.searchQuery,"i");return v.alertRules.items.filter(w=>x.test(w.name)||x.test(w.stateText)||x.test(w.info))},se=(v,x)=>v.notificationChannel.id===x?v.notificationChannel:null;function W(v){return{alertRules:b(v),search:_(v.alertRules),isLoading:v.alertRules.isLoading}}const De={getAlertRulesAsync:Re.Au,setSearchQuery:ie.ql,togglePauseAlertRule:Re.en},Fe=(0,e.connect)(W,De);class pe extends n.PureComponent{constructor(){super(...arguments),this.stateFilters=[{label:"All",value:"all"},{label:"OK",value:"ok"},{label:"Not OK",value:"not_ok"},{label:"Alerting",value:"alerting"},{label:"No data",value:"no_data"},{label:"Paused",value:"paused"},{label:"Pending",value:"pending"}],this.onStateFilterChanged=x=>{F.E1.partial({state:x.value})},this.onOpenHowTo=()=>{Y.Z.publish(new K.Dn({component:A}))},this.onSearchQueryChange=x=>{this.props.setSearchQuery(x)},this.onTogglePause=x=>{this.props.togglePauseAlertRule(x.id,{paused:x.state!=="paused"})},this.alertStateFilterOption=({text:x,value:w})=>n.createElement("option",{key:w,value:w},x)}componentDidMount(){this.fetchRules()}componentDidUpdate(x){x.queryParams.state!==this.props.queryParams.state&&this.fetchRules()}async fetchRules(){await this.props.getAlertRulesAsync({state:this.getStateFilter()})}getStateFilter(){return this.props.queryParams.state??"all"}render(){const{alertRules:x,search:w,isLoading:ue}=this.props;return n.createElement(P.T,{navId:"alert-list"},n.createElement(P.T.Contents,{isLoading:ue},n.createElement("div",{className:"page-action-bar"},n.createElement("div",{className:"gf-form gf-form--grow"},n.createElement(C.H,{placeholder:"Search alerts",value:w,onChange:this.onSearchQueryChange})),n.createElement("div",{className:"gf-form"},n.createElement("label",{className:"gf-form-label",htmlFor:"alert-state-filter"},"States"),n.createElement("div",{className:"width-13"},n.createElement($.Ph,{inputId:"alert-state-filter",options:this.stateFilters,onChange:this.onStateFilterChanged,value:this.getStateFilter()}))),n.createElement("div",{className:"page-action-bar__spacer"}),B.v.unifiedAlertingEnabled&&n.createElement(h.Qj,{variant:"primary",href:"alerting/ng/new"},"Add NG Alert"),n.createElement(h.zx,{variant:"secondary",onClick:this.onOpenHowTo},"How to add an alert")),n.createElement(Te,null),n.createElement(H.wc,{spacing:"none"},x.map(ee=>n.createElement(Ae,{rule:ee,key:ee.id,search:w,onTogglePause:()=>this.onTogglePause(ee)})))))}}const Se=Fe(pe)},69119:(re,M,a)=>{a.d(M,{Au:()=>$,C2:()=>H,c1:()=>P,en:()=>h,fA:()=>K,fg:()=>Y,tk:()=>X});var n=a(54899),e=a(37932),F=a(659),B=a(60499),C=a(11626);function $(A){return async I=>{I((0,C.gz)());const O=await(0,n.i)().get("/api/alerts",A);I((0,C.Oc)(O))}}function h(A,I){return async O=>{await(0,n.i)().post(`/api/alerts/${A}/pause`,I);const k=e.E1.getSearchObject().state||"all";O($({state:k.toString()}))}}function H(A){return async I=>{try{await(0,n.i)().post("/api/alert-notifications",A),I((0,F.$l)((0,B.AT)("Notification created"))),e.E1.push("/alerting/notifications")}catch(O){(0,n.kW)(O)&&I((0,F.$l)((0,B.t_)(O.data.error)))}}}function Y(A){return async I=>{try{await(0,n.i)().put(`/api/alert-notifications/${A.id}`,A),I((0,F.$l)((0,B.AT)("Notification updated")))}catch(O){(0,n.kW)(O)&&I((0,F.$l)((0,B.t_)(O.data.error)))}}}function P(A){return async(I,O)=>{const k=O().notificationChannel.notificationChannel;await(0,n.i)().post("/api/alert-notifications/test",{id:k.id,...A})}}function K(){return async A=>{const O=(await(0,n.i)().get("/api/alert-notifiers")).sort((k,de)=>k.name>de.name?1:-1);A((0,C.T2)(O))}}function X(A){return async I=>{await I(K());const O=await(0,n.i)().get(`/api/alert-notifications/${A}`);I((0,C.K)(O))}}},84342:(re,M,a)=>{a.r(M),a.d(M,{default:()=>Yt});var n=a(9892),e=a(68404),F=a(70356),B=a(671),C=a(78337),$=a(27677),h=a(26418),H=a(54408),Y=a(53546),P=a(72648),K=a(31403),X=a(96044),A=a(81168),I=a(41904),O=a(45524),k=a(97097),de=a(69142),ye=a(39910);const Ae=()=>{const{canCreateGrafanaRules:t,canCreateCloudRules:l}=(0,ye.B)();return t||l?e.createElement(de.Z,{title:"You haven`t created any alert rules yet",buttonIcon:"bell",buttonLink:"alerting/new",buttonTitle:"Create alert rule",proTip:"you can also create alert rules from existing panels and queries.",proTipLink:"https://grafana.com/docs/",proTipLinkTitle:"Learn more",proTipTarget:"_blank",onClick:()=>(0,H.PN)(I.z7.alertRuleFromScratch)}):e.createElement(k._,{message:"No rules exist yet.",callToActionElement:e.createElement("div",null)})};var Ie=a(64681),ge=a.n(Ie),Te=a(24664),Re=a(45253),ie=a(6554),_=a(69945),b=a(45849),se=a(10505),W=a(79662);function De(){const[t,l]=(0,e.useState)(!1),[s,m]=(0,Te.Z)("grafana.unifiedalerting.hideErrors",!1),r=(0,_._)(u=>u.dataSources),o=(0,_._)(u=>u.promRules),c=(0,_._)(u=>u.rulerRules),i=(0,P.wW)(pe),d=(0,e.useMemo)(()=>{const[u,g,E]=[r,o,c].map(y=>(0,b.Eu)().reduce((f,z)=>{const V=y[z.name]?.error;return y[z.name]&&V&&!(0,W.m$)(y[z.name])?[...f,{dataSource:z,error:V}]:f},[])),N=o[b.GC]?.error,S=c[b.GC]?.error,T=[];return N&&T.push(e.createElement(e.Fragment,null,"Failed to load Grafana rules state: ",N.message||"Unknown error.")),S&&T.push(e.createElement(e.Fragment,null,"Failed to load Grafana rules config: ",S.message||"Unknown error.")),u.forEach(({dataSource:y,error:f})=>{T.push(e.createElement(e.Fragment,null,"Failed to load the data source configuration for"," ",e.createElement("a",{href:(0,se.__)(y),className:i.dsLink},y.name),": ",f.message||"Unknown error."))}),g.forEach(({dataSource:y,error:f})=>T.push(e.createElement(e.Fragment,null,"Failed to load rules state from"," ",e.createElement("a",{href:(0,se.__)(y),className:i.dsLink},y.name),": ",f.message||"Unknown error."))),E.forEach(({dataSource:y,error:f})=>T.push(e.createElement(e.Fragment,null,"Failed to load rules config from"," ",e.createElement("a",{href:(0,se.__)(y),className:i.dsLink},y.name),": ",f.message||"Unknown error."))),T},[r,o,c,i.dsLink]);return e.createElement(e.Fragment,null,!!d.length&&s&&e.createElement(Fe,{count:d.length,onClick:()=>m(u=>!u)}),!!d.length&&!s&&e.createElement(Re.b,{"data-testid":"cloud-rulessource-errors",title:"Errors loading rules",severity:"error",onRemove:()=>m(!0)},t&&d.map((u,g)=>e.createElement("div",{key:g},u)),!t&&e.createElement(e.Fragment,null,e.createElement("div",null,d[0]),d.length>=2&&e.createElement(K.zx,{className:i.moreButton,fill:"text",icon:"angle-right",size:"sm",onClick:()=>l(!0)},d.length-1," more ",ge()("error",d.length-1)))))}const Fe=({count:t,onClick:l})=>{const s=(0,P.wW)(pe);return e.createElement("div",{className:s.floatRight},e.createElement(ie.u,{content:"Show all errors",placement:"bottom"},e.createElement(K.zx,{fill:"text",variant:"destructive",icon:"exclamation-triangle",onClick:l},t>1?e.createElement(e.Fragment,null,t," errors"):e.createElement(e.Fragment,null,"1 error"))))},pe=t=>({moreButton:n.css`
    padding: 0;
  `,floatRight:n.css`
    display: flex;
    justify-content: flex-end;
  `,dsLink:n.css`
    font-weight: ${t.typography.fontWeightBold};
  `});var Se=a(51981),v=a(61744),x=a(67487),w=a(78889),ue=a(84952),ee=a(25724),fe=a(1562),Ce=a(46818),We=a(52081),oe=a(39904),te=a(19985),et=a(98102),tt=a(55485),at=a(8055),xe=a(72004),Ge=a(33950),Ue=a(29721),ce=a(65750),nt=a(61068),rt=a(9085),Be=a.n(rt),Ne=a(82897),$e=a(19677),lt=a(35029),st=a(3153),ot=a(60048),ct=a(45608);const it=t=>{const{group:l,namespace:s,onClose:m}=t,[r,o]=(0,e.useState)(!1),[c,i]=(0,e.useState)(l.rules),d=(0,P.wW)(Le),u=(0,e.useCallback)(E=>{if(!E.destination||E.destination.index===E.source.index)return;const S=mt(c,E.source.index,E.destination.index);i(S);const T=(0,b.EG)(s.rulesSource),y=(0,Ne.compact)(S.map(f=>f.rulerRule));o(!0),(0,st.WI)((0,xe.tg)({namespaceName:s.name,groupName:l.name,rulesSourceName:T,newRules:y})).unwrap().finally(()=>{o(!1)})},[l.name,s.name,s.rulesSource,c]),g=c.map(E=>({...E,uid:String((0,ot.Om)(E.rulerRule))}));return e.createElement(lt.u,{className:d.modal,isOpen:!0,title:e.createElement(ut,{namespace:s,group:l}),onDismiss:m,onClickBackdrop:m},e.createElement($e.Z5,{onDragEnd:u},e.createElement($e.bK,{droppableId:"alert-list",mode:"standard",renderClone:(E,N,S)=>e.createElement(He,{provided:E,rule:g[S.source.index],isClone:!0})},E=>e.createElement("div",{ref:E.innerRef,className:Be()(d.listContainer,r&&d.disabled),...E.droppableProps},g.map((N,S)=>e.createElement($e._l,{key:N.uid,draggableId:N.uid,index:S,isDragDisabled:r},T=>e.createElement(He,{key:N.uid,provided:T,rule:N}))),E.placeholder))))},He=({provided:t,rule:l,isClone:s=!1,isDragging:m=!1})=>{const r=(0,P.wW)(Le);return e.createElement("div",{className:Be()(r.listItem,s&&"isClone",m&&"isDragging"),ref:t.innerRef,...t.draggableProps,...t.dragHandleProps},(0,W.x_)(l.promRule)&&e.createElement(ct.l,{state:l.promRule.state}),(0,W.OP)(l.promRule)&&e.createElement(te.C,{text:"Recording",color:"blue"}),e.createElement("div",{className:r.listItemName},l.name),e.createElement(oe.J,{name:"draggabledots"}))},ut=({namespace:t,group:l})=>{const s=(0,P.wW)(Le);return e.createElement("div",{className:s.header},e.createElement(oe.J,{name:"folder"}),(0,b.jq)(t.rulesSource)&&e.createElement(ie.u,{content:t.rulesSource.name,placement:"top"},e.createElement("img",{alt:t.rulesSource.meta.name,className:s.dataSourceIcon,src:t.rulesSource.meta.info.logos.small})),e.createElement("span",null,t.name),e.createElement(oe.J,{name:"angle-right"}),e.createElement("span",null,l.name))},Le=t=>({modal:n.css`
    max-width: 640px;
    max-height: 80%;
    overflow: hidden;
  `,listItem:n.css`
    display: flex;
    flex-direction: row;
    align-items: center;

    gap: ${t.spacing()};

    background: ${t.colors.background.primary};
    color: ${t.colors.text.secondary};

    border-bottom: solid 1px ${t.colors.border.medium};
    padding: ${t.spacing(1)} ${t.spacing(2)};

    &:last-child {
      border-bottom: none;
    }

    &.isClone {
      border: solid 1px ${t.colors.primary.shade};
    }
  `,listContainer:n.css`
    user-select: none;
    border: solid 1px ${t.colors.border.medium};
  `,disabled:n.css`
    opacity: 0.5;
    pointer-events: none;
  `,listItemName:n.css`
    flex: 1;

    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  `,header:n.css`
    display: flex;
    align-items: center;

    gap: ${t.spacing(1)};
  `,dataSourceIcon:n.css`
    width: ${t.spacing(2)};
    height: ${t.spacing(2)};
  `});function mt(t,l,s){const m=Array.from(t),[r]=m.splice(l,1);return m.splice(s,0,r),m}var dt=a(70197),R=a(46063);const ze={total:0,recording:0,[R.x_.Firing]:0,[R.x_.Pending]:0,[R.x_.Inactive]:0,paused:0,error:0},Ke=({group:t,namespaces:l,includeTotal:s})=>{const m=t?.interval,[r,o]=(0,e.useState)(ze);(0,dt.Z)(()=>{const d={...ze},u=g=>{g.promRule&&(0,W.x_)(g.promRule)&&((0,W.E)(g)&&(d.paused+=1),d[g.promRule.state]+=1),gt(g)&&(d.error+=1),(g.promRule&&(0,W.OP)(g.promRule)||g.rulerRule&&(0,W.yF)(g.rulerRule))&&(d.recording+=1),d.total+=1};t&&t.rules.forEach(u),l&&l.forEach(g=>g.groups.forEach(E=>E.rules.forEach(u))),o(d)},400,[t,l]);const c=[];s&&c.push(e.createElement(e.Fragment,{key:"total"},r.total," ",ge()("rule",r.total))),r[R.x_.Firing]&&c.push(e.createElement(te.C,{color:"red",key:"firing",text:`${r[R.x_.Firing]} firing`})),r.error&&c.push(e.createElement(te.C,{color:"red",key:"errors",text:`${r.error} errors`})),r[R.x_.Pending]&&c.push(e.createElement(te.C,{color:"orange",key:"pending",text:`${r[R.x_.Pending]} pending`})),r[R.x_.Inactive]&&r.paused&&c.push(e.createElement(te.C,{color:"green",key:"paused",text:`${r[R.x_.Inactive]} normal (${r.paused} paused)`})),r[R.x_.Inactive]&&!r.paused&&c.push(e.createElement(te.C,{color:"green",key:"inactive",text:`${r[R.x_.Inactive]} normal`})),r.recording&&c.push(e.createElement(te.C,{color:"purple",key:"recording",text:`${r.recording} recording`}));const i=Boolean(c.length);return e.createElement(h.Stack,{direction:"row"},i&&e.createElement("div",null,e.createElement(h.Stack,{gap:.5},c)),m&&e.createElement(e.Fragment,null,e.createElement("div",null,"|"),e.createElement(te.C,{text:m,icon:"clock-nine",color:"blue"})))};function gt(t){return t.promRule?.health==="err"||t.promRule?.health==="error"}var Qe=a(62019);const Me=e.memo(({group:t,namespace:l,expandAll:s,viewMode:m})=>{const{rulesSource:r}=l,o=(0,A.useDispatch)(),c=(0,P.wW)(pt),[i,d]=(0,e.useState)(!1),[u,g]=(0,e.useState)(!1),[E,N]=(0,e.useState)(!1),[S,T]=(0,e.useState)(!s),{canEditRules:y}=(0,ye.B)();(0,e.useEffect)(()=>{T(!s)},[s]);const{hasRuler:f,rulerRulesLoaded:z}=(0,at.h)(),V=t.rules[0]?.rulerRule,D=V&&(0,W.Pc)(V)&&V.grafana_alert.namespace_uid||void 0,{folder:G}=(0,tt.W)(D),ae=f(r)&&z(r)&&!t.rules.find(Q=>!!Q.rulerRule),j=(0,W.Jq)(t),L=t.rules.some(Q=>(0,W.Pc)(Q.rulerRule)&&Q.rulerRule.grafana_alert.provenance),U=m==="list",ne=m==="grouped",Z=()=>{o((0,xe.oE)(l,t)),g(!1)},p=[];if(ae)p.push(e.createElement(We.Lh,{key:"is-deleting"},e.createElement(x.$,null),"deleting"));else if(r===b.GC){if(D){const Q=(0,se.HV)(D);G?.canSave&&(ne&&!L&&(p.push(e.createElement(ce.A,{"aria-label":"edit rule group","data-testid":"edit-group",key:"edit",icon:"pen",tooltip:"edit rule group",onClick:()=>d(!0)})),p.push(e.createElement(ce.A,{"aria-label":"re-order rules","data-testid":"reorder-group",key:"reorder",icon:"exchange-alt",tooltip:"reorder rules",className:c.rotate90,onClick:()=>N(!0)}))),U&&p.push(e.createElement(ce.A,{"aria-label":"go to folder",key:"goto",icon:"folder-open",tooltip:"go to folder",to:Q,target:"__blank"}))),G?.canAdmin&&U&&p.push(e.createElement(ce.A,{"aria-label":"manage permissions",key:"manage-perms",icon:"lock",tooltip:"manage permissions",to:Q+"/permissions",target:"__blank"}))}}else y(r.name)&&f(r)&&(j||(p.push(e.createElement(ce.A,{"aria-label":"edit rule group","data-testid":"edit-group",key:"edit",icon:"pen",tooltip:"edit rule group",onClick:()=>d(!0)})),p.push(e.createElement(ce.A,{"aria-label":"re-order rules","data-testid":"reorder-group",key:"reorder",icon:"exchange-alt",tooltip:"re-order rules",className:c.rotate90,onClick:()=>N(!0)}))),p.push(e.createElement(ce.A,{"aria-label":"delete rule group","data-testid":"delete-group",key:"delete-group",icon:"trash-alt",tooltip:"delete rule group",onClick:()=>g(!0)})));const q=U?e.createElement(Ue.V,{namespace:l.name}):e.createElement(Ue.V,{namespace:l.name,group:t.name}),ve=(Q=!1)=>{Q||(0,H.PN)(I.z7.leavingRuleGroupEdit),d(!1)};return e.createElement("div",{className:c.wrapper,"data-testid":"rule-group"},e.createElement("div",{className:c.header,"data-testid":"rule-group-header"},e.createElement(Ge.U,{size:"sm",className:c.collapseToggle,isCollapsed:S,onToggle:T,"data-testid":"group-collapse-toggle"}),e.createElement(oe.J,{name:S?"folder":"folder-open"}),(0,b.jq)(r)&&e.createElement(ie.u,{content:r.name,placement:"top"},e.createElement("img",{alt:r.meta.name,className:c.dataSourceIcon,src:r.meta.info.logos.small})),e.createElement("h6",{className:c.heading},j&&e.createElement(te.C,{color:"purple",text:"Federated"})," ",q),e.createElement("div",{className:c.spacer}),e.createElement("div",{className:c.headerStats},e.createElement(Ke,{group:t})),L&&e.createElement(e.Fragment,null,e.createElement("div",{className:c.actionsSeparator},"|"),e.createElement("div",{className:c.actionIcons},e.createElement(te.C,{color:"purple",text:"Provisioned"}))),!!p.length&&e.createElement(e.Fragment,null,e.createElement("div",{className:c.actionsSeparator},"|"),e.createElement("div",{className:c.actionIcons},e.createElement(h.Stack,{gap:.5},p)))),!S&&e.createElement(Qe.i,{showSummaryColumn:!0,className:c.rulesTable,showGuidelines:!0,showNextEvaluationColumn:Boolean(t.interval),rules:t.rules}),i&&e.createElement(nt.vq,{namespace:l,group:t,onClose:()=>ve(),folderUrl:G?.canEdit?(0,se.aH)(G):void 0}),E&&e.createElement(it,{group:t,namespace:l,onClose:()=>N(!1)}),e.createElement(et.s,{isOpen:u,title:"Delete group",body:e.createElement("div",null,"Deleting this group will permanently remove the group",e.createElement("br",null),"and ",t.rules.length," alert ",ge()("rule",t.rules.length)," belonging to it.",e.createElement("br",null),"Are you sure you want to delete this group?"),onConfirm:Z,onDismiss:()=>g(!1),confirmText:"Delete"}))});Me.displayName="RulesGroup";const pt=t=>({wrapper:n.css`
    & + & {
      margin-top: ${t.spacing(2)};
    }
  `,header:n.css`
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: ${t.spacing(1)} ${t.spacing(1)} ${t.spacing(1)} 0;
    background-color: ${t.colors.background.secondary};
    flex-wrap: wrap;
  `,headerStats:n.css`
    span {
      vertical-align: middle;
    }

    ${t.breakpoints.down("sm")} {
      order: 2;
      width: 100%;
      padding-left: ${t.spacing(1)};
    }
  `,heading:n.css`
    margin-left: ${t.spacing(1)};
    margin-bottom: 0;
  `,spacer:n.css`
    flex: 1;
  `,collapseToggle:n.css`
    background: none;
    border: none;
    margin-top: -${t.spacing(1)};
    margin-bottom: -${t.spacing(1)};

    svg {
      margin-bottom: 0;
    }
  `,dataSourceIcon:n.css`
    width: ${t.spacing(2)};
    height: ${t.spacing(2)};
    margin-left: ${t.spacing(2)};
  `,dataSourceOrigin:n.css`
    margin-right: 1em;
    color: ${t.colors.text.disabled};
  `,actionsSeparator:n.css`
    margin: 0 ${t.spacing(2)};
  `,actionIcons:n.css`
    width: 80px;
    align-items: center;
  `,rulesTable:n.css`
    margin-top: ${t.spacing(3)};
  `,rotate90:n.css`
    transform: rotate(90deg);
  `});function je(t){return(0,e.useMemo)(()=>t.flatMap(l=>l.groups.map(s=>({namespace:l,group:s}))),[t])}const ft=({namespaces:t,expandAll:l})=>{const s=(0,P.wW)(Et),m=(0,_._)(f=>f.dataSources),r=(0,_._)(f=>f.promRules),o=(0,e.useMemo)(b.Eu,[]),c=je(t),i=(0,e.useMemo)(()=>o.filter(f=>(0,Ce.op)(r[f.name])||(0,Ce.op)(m[f.name])),[r,m,o]),d=o.some(f=>r[f.name]?.result?.length??0>0),u=o.length>0,g=i.length>0,E=t.length>0,{numberOfPages:N,onPageChange:S,page:T,pageItems:y}=(0,ee.h)(c,1,ue.gN);return e.createElement("section",{className:s.wrapper},e.createElement("div",{className:s.sectionHeader},e.createElement("h5",null,"Mimir / Cortex / Loki"),i.length?e.createElement(v.u,{className:s.loader,text:`Loading rules from ${i.length} ${ge()("source",i.length)}`}):e.createElement("div",null)),y.map(({group:f,namespace:z})=>e.createElement(Me,{group:f,key:`${(0,b.v_)(z.rulesSource)}-${z.name}-${f.name}`,namespace:z,expandAll:l,viewMode:"grouped"})),!u&&e.createElement("p",null,"There are no Prometheus or Loki data sources configured."),u&&!g&&!E&&e.createElement("p",null,"No rules found."),!d&&g&&e.createElement(x.$,{size:24,className:s.spinner}),e.createElement(w.t,{className:s.pagination,currentPage:T,numberOfPages:N,onNavigate:S,hideWhenSinglePage:!0}))},Et=t=>({loader:n.css`
    margin-bottom: 0;
  `,sectionHeader:n.css`
    display: flex;
    justify-content: space-between;
  `,wrapper:n.css`
    margin-bottom: ${t.spacing(4)};
  `,spinner:n.css`
    text-align: center;
    padding: ${t.spacing(2)};
  `,pagination:(0,fe.Z)(t)});var we=a(61627);const ht=({namespaces:t,expandAll:l})=>{const s=(0,P.wW)(vt),[m]=(0,X.K)(),{prom:r,ruler:o}=(0,_._)(y=>({prom:y.promRules[b.GC]||Ce.oq,ruler:y.rulerRules[b.GC]||Ce.oq})),c=r.loading||o.loading,i=!!r.result||!!o.result,d=m.view==="list",u=d?(0,we.Kd)(t):t,g=je(u),{numberOfPages:E,onPageChange:N,page:S,pageItems:T}=(0,ee.h)(g,1,ue.gN);return e.createElement("section",{className:s.wrapper},e.createElement("div",{className:s.sectionHeader},e.createElement("h5",null,"Grafana"),c?e.createElement(v.u,{className:s.loader,text:"Loading..."}):e.createElement("div",null)),T.map(({group:y,namespace:f})=>e.createElement(Me,{group:y,key:`${f.name}-${y.name}`,namespace:f,expandAll:l,viewMode:d?"list":"grouped"})),i&&u?.length===0&&e.createElement("p",null,"No rules found."),!i&&c&&e.createElement(x.$,{size:24,className:s.spinner}),e.createElement(w.t,{className:s.pagination,currentPage:S,numberOfPages:E,onNavigate:N,hideWhenSinglePage:!0}))},vt=t=>({loader:n.css`
    margin-bottom: 0;
  `,sectionHeader:n.css`
    display: flex;
    justify-content: space-between;
  `,wrapper:n.css`
    margin-bottom: ${t.spacing(4)};
  `,spinner:n.css`
    text-align: center;
    padding: ${t.spacing(2)};
  `,pagination:(0,fe.Z)(t)}),yt=({namespaces:t,expandAll:l})=>{const[s,m]=(0,e.useMemo)(()=>{const r=t.map(o=>({...o,groups:o.groups.sort((c,i)=>c.name.localeCompare(i.name))})).sort((o,c)=>o.name.localeCompare(c.name));return[r.filter(o=>(0,b.HY)(o.rulesSource)),r.filter(o=>(0,b.jq)(o.rulesSource))]},[t]);return(0,e.useEffect)(()=>{(0,H.PN)(I.z7.loadedList)},[]),e.createElement(e.Fragment,null,e.createElement(Se.q,{actions:[A.AccessControlAction.AlertingRuleRead]},e.createElement(ht,{namespaces:s,expandAll:l})),e.createElement(Se.q,{actions:[A.AccessControlAction.AlertingRuleExternalRead]},e.createElement(ft,{namespaces:m,expandAll:l})))},Oe=({rules:t,state:l,defaultCollapsed:s=!1})=>{const[m,r]=(0,e.useState)(s),o=(0,P.wW)(Rt);return e.createElement(e.Fragment,null,e.createElement("h4",{className:o.header},e.createElement(Ge.U,{className:o.collapseToggle,size:"xxl",isCollapsed:m,onToggle:()=>r(!m)}),(0,W.SS)(l)," (",t.length,")"),!m&&e.createElement(Qe.i,{className:o.rulesTable,rules:t,showGroupColumn:!0}))},Rt=t=>({collapseToggle:n.css`
    vertical-align: middle;
  `,header:n.css`
    margin-top: ${t.spacing(2)};
  `,rulesTable:n.css`
    margin-top: ${t.spacing(3)};
  `}),St=({namespaces:t})=>{const l=(0,se.lC)((0,X.K)()[0]),s=(0,e.useMemo)(()=>{const m={[R.x_.Firing]:[],[R.x_.Inactive]:[],[R.x_.Pending]:[]};return t.forEach(r=>r.groups.forEach(o=>o.rules.forEach(c=>{c.promRule&&(0,W.x_)(c.promRule)&&m[c.promRule.state].push(c)}))),Object.values(m).forEach(r=>r.sort((o,c)=>o.name.localeCompare(c.name))),m},[t]);return e.createElement(e.Fragment,null,(!l.alertState||l.alertState===R.x_.Firing)&&e.createElement(Oe,{state:R.x_.Firing,rules:s[R.x_.Firing]}),(!l.alertState||l.alertState===R.x_.Pending)&&e.createElement(Oe,{state:R.x_.Pending,rules:s[R.x_.Pending]}),(!l.alertState||l.alertState===R.x_.Inactive)&&e.createElement(Oe,{defaultCollapsed:l.alertState!==R.x_.Inactive,state:R.x_.Inactive,rules:s[R.x_.Inactive]}))};var Ct=a(59052),Ve=a(24799),me=a(64353),Pe=a(2594),xt=a(46967),Nt=a(22759),Pt=a(39493),Ze=a(86647),Ee=a(734),he=a(20194),At=a(31808);function ke(){const[t,l]=(0,At.j)(),s=t.get("search")??"",m=(0,e.useMemo)(()=>(0,Ee.ug)(s),[s]),r=(0,e.useMemo)(()=>Object.values(m).some(i=>!(0,Ne.isEmpty)(i)),[m]),o=(0,e.useCallback)(i=>{const d=(0,Ee.HY)(s,i);l({search:d})},[s,l]),c=(0,e.useCallback)(i=>{l({search:i})},[l]);return(0,e.useEffect)(()=>{const i={dataSource:t.get("dataSource")??void 0,alertState:t.get("alertState")??void 0,ruleType:t.get("ruleType")??void 0,labels:(0,he.Zh)(t.get("queryString")??"").map(he.cm)};Object.values(i).some(u=>!(0,Ne.isEmpty)(u))&&(l({dataSource:void 0,alertState:void 0,ruleType:void 0,queryString:void 0}),o((0,Pt.ZP)(m,u=>{if(u.dataSourceNames??=i.dataSource?[i.dataSource]:[],i.alertState&&(0,R.I9)(i.alertState)&&(u.ruleState??=i.alertState),i.ruleType&&(0,W.Wd)(i.ruleType)&&(u.ruleType??=i.ruleType),u.labels.length===0&&i.labels.length>0){const g=i.labels.map(({name:E,operator:N,value:S})=>`${E}${N}${S}`);u.labels.push(...g)}})))},[t,o,m,l]),{filterState:m,hasActiveFilters:r,searchQuery:s,setSearchQuery:c,updateFilters:o}}const It=(t,l)=>(0,e.useMemo)(()=>Tt(t,l),[t,l]),be=new Nt.Z({intraMode:1,intraIns:1,intraSub:1,intraTrn:1,intraDel:1}),Tt=(t,l={dataSourceNames:[],labels:[],freeFormWords:[]})=>{let s=t;const m=l.dataSourceNames;m.length&&(s=s.filter(({rulesSource:o})=>(0,b.jq)(o)?m.includes(o.name):!0));const r=l.namespace;if(r){const o=s.map(u=>u.name),[c,i,d]=be.search(o,r);i&&d?s=d.map(u=>s[i.idx[u]]):c&&(s=c.map(u=>s[u]))}return s.reduce(Dt(l),[])},Dt=t=>(l,s)=>{const m=t.groupName;let r=s.groups;if(m){const o=r.map(u=>u.name),[c,i,d]=be.search(o,m);i&&d?r=d.map(u=>r[i.idx[u]]):c&&(r=c.map(u=>r[u]))}return r=r.reduce(Ft(t),[]),r.length&&l.push({...s,groups:r}),l},Ft=t=>{const l=t.ruleName??t.freeFormWords.join(" ");return(s,m)=>{let r=m.rules;if(l){const o=r.map(u=>u.name),[c,i,d]=be.search(o,l);i&&d?r=d.map(u=>r[i.idx[u]]):c&&(r=c.map(u=>r[u]))}return r=r.filter(o=>{if(t.ruleType&&t.ruleType!==o.promRule?.type)return!1;const c=(0,W.Pc)(o.rulerRule)&&!Lt(o.rulerRule,t);if(t.dataSourceNames?.length&&c)return!1;if(t.ruleHealth&&o.promRule){const i=(0,W.vU)(o.promRule.health);return t.ruleHealth===i}if(t.labels.length>0){const i=(0,Ne.compact)(t.labels.map($t)),d=i.length>0&&(0,he.eD)(o.labels,i),u=i.length>0&&o.promRule&&o.promRule.type===R.pz.Alerting&&o.promRule.alerts&&o.promRule.alerts.some(g=>(0,he.eD)(g.labels,i));if(!(d||u))return!1}return!(t.ruleState&&!(o.promRule&&(0,W.x_)(o.promRule)&&o.promRule.state===t.ruleState))}),r.length&&s.push({...m,rules:r}),s}};function $t(t){try{return(0,he.tC)(t)}catch{return{name:t,value:"",isRegex:!0,isEqual:!0}}}const Lt=(t,l)=>l.dataSourceNames?.length?!!t.grafana_alert.data.find(s=>{if(!s.datasourceUid)return!1;const m=(0,Ze.F)().getInstanceSettings(s.datasourceUid);return m?.name&&l?.dataSourceNames?.includes(m.name)}):!0;var Mt=a(42042),Ot=a(5916),bt=a(81850),Je=a(68183),Ye=a(22069),Wt=a(53217),Gt=a(51613);const Ut=t=>{const l=(0,Ze.F)(),[s,m]=(0,e.useState)(),r=(D,G)=>{if(G.action==="clear"&&t.onClear){t.onClear();return}const ae=D[D.length-1];let j,L;G.action==="pop-value"||G.action==="remove-value"?(j=G.removedValue?.value,L="remove"):(j=ae.value,L="add");const U=l.getInstanceSettings(j);U&&(t.onChange(U,L),m({error:void 0}))},o=()=>{const{current:D,hideTextValue:G,noDefault:ae}=t;if(!(!D&&ae))return D?.map(j=>{const L=l.getInstanceSettings(j);if(L)return{label:L.name.slice(0,37),value:L.name,imgUrl:L.meta.info.logos.small,hideText:G,meta:L.meta};const U=(0,Ot.BT)(j);return U===Ye.hr.uid||U===Ye.hr.name?{label:U,value:U,hideText:G}:{label:(U??"no name")+" - not found",value:U??void 0,imgUrl:"",hideText:G}})},c=()=>{const{alerting:D,tracing:G,metrics:ae,mixed:j,dashboard:L,variables:U,annotations:ne,pluginId:Z,type:p,filter:q,logs:ve}=t,Q=l.getList({alerting:D,tracing:G,metrics:ae,logs:ve,dashboard:L,mixed:j,variables:U,annotations:ne,pluginId:Z,filter:q,type:p}),Xt=Q.filter(b.G_).map(J=>({value:J.name,label:`${J.name}${J.isDefault?" (default)":""}`,imgUrl:J.meta.info.logos.small,meta:J.meta})),qt=Q.filter(J=>!(0,b.G_)(J)).map(J=>({value:J.name,label:`${J.name}${J.isDefault?" (default)":""}`,imgUrl:J.meta.info.logos.small,meta:J.meta}));return[{label:"Data sources with configured alert rules",options:Xt,expanded:!0},{label:"Other data sources",options:qt,expanded:!0}]},{autoFocus:i,onBlur:d,onClear:u,openMenuOnFocus:g,placeholder:E,width:N,inputId:S,disabled:T=!1,isLoading:y=!1}=t,f=c(),z=o(),V=typeof u=="function";return e.createElement("div",{"data-testid":Je.wl.components.DataSourcePicker.container},e.createElement(Wt.NU,{isLoading:y,disabled:T,"data-testid":Je.wl.components.DataSourcePicker.inputV2,inputId:S||"data-source-picker",className:"ds-picker select-container",isClearable:V,backspaceRemovesValue:!0,onChange:r,options:f,autoFocus:i,onBlur:d,width:N,openMenuOnFocus:g,maxMenuHeight:500,placeholder:E,noOptionsMessage:"No datasources found",value:z??[],invalid:Boolean(s?.error)||Boolean(t.invalid),getOptionLabel:D=>D.meta&&(0,bt.x)(D.meta.signature)&&D!==z?e.createElement(We.Lh,{align:"center",justify:"space-between",height:"auto"},e.createElement("span",null,D.label)," ",e.createElement(Gt.o,{status:D.meta.signature})):D.label||""}))},Xe=[{icon:"folder",label:"Grouped",value:"grouped"},{icon:"list-ul",label:"List",value:"list"},{icon:"heart-rate",label:"State",value:"state"}],Bt=[{label:"Alert ",value:R.pz.Alerting},{label:"Recording ",value:R.pz.Recording}],Ht=[{label:"Ok",value:Ee.VG.Ok},{label:"No Data",value:Ee.VG.NoData},{label:"Error",value:Ee.VG.Error}],zt=Object.entries(R.x_).map(([t,l])=>({label:(0,W.SS)(l),value:l})),Kt=({onFilterCleared:t=()=>{}})=>{const l=(0,P.wW)(Qt),[s,m]=(0,X.K)(),{filterState:r,hasActiveFilters:o,searchQuery:c,setSearchQuery:i,updateFilters:d}=ke(),[u,g]=(0,e.useState)(Math.floor(Math.random()*100)),E=`dataSource-${u}`,N=`queryString-${u}`,S=(0,e.useRef)(null),{handleSubmit:T,register:y,setValue:f}=(0,Ct.cI)({defaultValues:{searchQuery:c}}),{ref:z,...V}=y("searchQuery");(0,e.useEffect)(()=>{f("searchQuery",c)},[c,f]);const D=(p,q)=>{const ve=q==="add"?[...r.dataSourceNames].concat([p.name]):r.dataSourceNames.filter(Q=>Q!==p.name);d({...r,dataSourceNames:ve}),g(Q=>Q+1)},G=()=>{d({...r,dataSourceNames:[]}),g(p=>p+1)},ae=p=>{(0,H.PN)(I.z7.clickingAlertStateFilters),d({...r,ruleState:p}),g(q=>q+1)},j=p=>{m({view:p})},L=p=>{d({...r,ruleType:p}),g(q=>q+1)},U=p=>{d({...r,ruleHealth:p}),g(q=>q+1)},ne=()=>{i(void 0),t(),setTimeout(()=>g(u+1),100)},Z=e.createElement(oe.J,{name:"search"});return e.createElement("div",{className:l.container},e.createElement(h.Stack,{direction:"column",gap:1},e.createElement(h.Stack,{direction:"row",gap:1},e.createElement(Ve.g,{className:l.dsPickerContainer,label:e.createElement(me._,{htmlFor:"data-source-picker"},e.createElement(h.Stack,{gap:.5},e.createElement("span",null,"Search by data sources"),e.createElement(ie.u,{content:e.createElement("div",null,e.createElement("p",null,"Data sources containing configured alert rules are Mimir or Loki data sources where alert rules are stored and evaluated in the data source itself."),e.createElement("p",null,"In these data sources, you can select Manage alerts via Alerting UI to be able to manage these alert rules in the Grafana UI as well as in the data source where they were configured."))},e.createElement(oe.J,{name:"info-circle",size:"sm"}))))},e.createElement(Ut,{key:E,alerting:!0,noDefault:!0,placeholder:"All data sources",current:r.dataSourceNames,onChange:D,onClear:G})),e.createElement("div",null,e.createElement(me._,null,"State"),e.createElement(Pe.S,{options:zt,value:r.ruleState,onChange:ae})),e.createElement("div",null,e.createElement(me._,null,"Rule type"),e.createElement(Pe.S,{options:Bt,value:r.ruleType,onChange:L})),e.createElement("div",null,e.createElement(me._,null,"Health"),e.createElement(Pe.S,{options:Ht,value:r.ruleHealth,onChange:U}))),e.createElement(h.Stack,{direction:"column",gap:1},e.createElement(h.Stack,{direction:"row",gap:1},e.createElement("form",{className:l.searchInput,onSubmit:T(p=>{i(p.searchQuery),S.current?.blur()})},e.createElement(Ve.g,{label:e.createElement(me._,{htmlFor:"rulesSearchInput"},e.createElement(h.Stack,{gap:.5},e.createElement("span",null,"Search"),e.createElement(Mt.z,{content:e.createElement(jt,null)},e.createElement(oe.J,{name:"info-circle",size:"sm"}))))},e.createElement(xt.I,{id:"rulesSearchInput",key:N,prefix:Z,ref:p=>{z(p),S.current=p},...V,placeholder:"Search","data-testid":"search-query-input"})),e.createElement("input",{type:"submit",hidden:!0})),e.createElement("div",null,e.createElement(me._,null,"View as"),e.createElement(Pe.S,{options:Xe,value:String(s.view??Xe[0].value),onChange:j}))),o&&e.createElement("div",null,e.createElement(K.zx,{fullWidth:!1,icon:"times",variant:"secondary",onClick:ne},"Clear filters")))))},Qt=t=>({container:n.css`
      margin-bottom: ${t.spacing(1)};
    `,dsPickerContainer:n.css`
      width: 550px;
      flex-grow: 0;
      margin: 0;
    `,searchInput:n.css`
      flex: 1;
      margin: 0;
    `});function jt(){const t=(0,P.wW)(qe);return e.createElement("div",null,e.createElement("div",null,"Search syntax allows to query alert rules by the parameters defined below."),e.createElement("hr",null),e.createElement("div",{className:t.grid},e.createElement("div",null,"Filter type"),e.createElement("div",null,"Expression"),e.createElement(le,{title:"Datasources",expr:"datasource:mimir datasource:prometheus"}),e.createElement(le,{title:"Folder/Namespace",expr:"namespace:global"}),e.createElement(le,{title:"Group",expr:"group:cpu-usage"}),e.createElement(le,{title:"Rule",expr:'rule:"cpu 80%"'}),e.createElement(le,{title:"Labels",expr:"label:team=A label:cluster=a1"}),e.createElement(le,{title:"State",expr:"state:firing|normal|pending"}),e.createElement(le,{title:"Type",expr:"type:alerting|recording"}),e.createElement(le,{title:"Health",expr:"health:ok|nodata|error"})))}function le({title:t,expr:l}){const s=(0,P.wW)(qe);return e.createElement(e.Fragment,null,e.createElement("div",null,t),e.createElement("code",{className:s.code},l))}const qe=t=>({grid:n.css`
    display: grid;
    grid-template-columns: max-content auto;
    gap: ${t.spacing(1)};
    align-items: center;
  `,code:n.css`
    display: block;
    text-align: center;
  `}),wt=Kt;var Vt=a(37190),Zt=a(93411);const _e={groups:yt,state:St},kt=(0,Y.Pf)(()=>{const t=(0,A.useDispatch)(),l=(0,P.wW)(Jt),s=(0,e.useMemo)(b.mA,[]),m=(0,F.TH)(),[r,o]=(0,e.useState)(!1),c=(0,e.useCallback)(()=>o(!1),[]),[i]=(0,X.K)(),{filterState:d,hasActiveFilters:u}=ke(),{canCreateGrafanaRules:g,canCreateCloudRules:E,canReadProvisioning:N}=(0,ye.B)(),S=_e[i.view]?i.view:"groups",T=_e[S],y=(0,_._)(Z=>Z.promRules),f=(0,_._)(Z=>Z.rulerRules),z=s.some(Z=>y[Z]?.loading||f[Z]?.loading),V=Object.entries(y),D=V.every(([Z,p])=>p.dispatched&&(p?.result!==void 0||p?.error!==void 0)),G=V.every(([Z,p])=>p.dispatched&&p?.result?.length===0),[ae,j]=(0,B.Z)(async()=>{z||await t((0,xe.ei)())},[z]);(0,e.useEffect)(()=>{t((0,xe.ei)())},[t]),(0,C.Z)(j,Vt.p4);const L=D&&G&&V.length>0,U=(0,we.Zo)(),ne=It(U,d);return e.createElement(O.J,{pageId:"alert-list",isLoading:!1},e.createElement(De,null),e.createElement(wt,{onFilterCleared:c}),!L&&e.createElement(e.Fragment,null,e.createElement("div",{className:l.break}),e.createElement("div",{className:l.buttonsContainer},e.createElement("div",{className:l.statsContainer},S==="groups"&&u&&e.createElement(K.zx,{className:l.expandAllButton,icon:r?"angle-double-up":"angle-double-down",variant:"secondary",onClick:()=>o(!r)},r?"Collapse all":"Expand all"),e.createElement(Ke,{namespaces:ne,includeTotal:!0})),e.createElement(h.Stack,{direction:"row",gap:.5},N&&e.createElement(K.Qj,{href:(0,Zt.u)("/api/v1/provisioning/alert-rules/export",{download:"true",format:"yaml"}),icon:"download-alt",target:"_blank",rel:"noopener"},"Export"),(g||E)&&e.createElement(K.Qj,{href:$.Cj.renderUrl("alerting/new",{returnTo:m.pathname+m.search}),icon:"plus",onClick:()=>(0,H.PN)(I.z7.alertRuleFromScratch)},"Create alert rule")))),L&&e.createElement(Ae,null),!L&&e.createElement(T,{expandAll:r,namespaces:ne}))},{style:"page"}),Jt=t=>({break:n.css`
    width: 100%;
    height: 0;
    margin-bottom: ${t.spacing(2)};
    border-bottom: solid 1px ${t.colors.border.medium};
  `,buttonsContainer:n.css`
    margin-bottom: ${t.spacing(2)};
    display: flex;
    justify-content: space-between;
  `,statsContainer:n.css`
    display: flex;
    flex-direction: row;
    align-items: center;
  `,expandAllButton:n.css`
    margin-right: ${t.spacing(1)};
  `}),Yt=kt},51981:(re,M,a)=>{a.d(M,{q:()=>F});var n=a(68404),e=a(82002);const F=({actions:B,children:C,fallback:$=!0})=>B.some(h=>e.Vt.hasAccess(h,$))?n.createElement(n.Fragment,null,C):null},65750:(re,M,a)=>{a.d(M,{A:()=>B});var n=a(68404),e=a(6554),F=a(31403);const B=({tooltip:C,icon:$,to:h,target:H,onClick:Y,className:P,tooltipPlacement:K="top",...X})=>{const A=typeof C=="string"?C:void 0;return n.createElement(e.u,{content:C,placement:K},h?n.createElement(F.Qj,{variant:"secondary",fill:"text",icon:$,href:h,size:"sm",target:H,...X,"aria-label":A}):n.createElement(F.zx,{className:P,variant:"secondary",fill:"text",size:"sm",icon:$,type:"button",onClick:Y,...X,"aria-label":A}))}},31808:(re,M,a)=>{a.d(M,{j:()=>B});var n=a(68404),e=a(70356),F=a(37932);function B(){const{search:C}=(0,e.TH)(),$=(0,n.useMemo)(()=>new URLSearchParams(C),[C]),h=(0,n.useCallback)((H,Y)=>{F.E1.partial(H,Y)},[]);return[$,h]}},39910:(re,M,a)=>{a.d(M,{B:()=>F});var n=a(68404),e=a(97953);function F(){return(0,n.useMemo)(()=>(0,e.Rv)(),[])}},53739:(re,M,a)=>{a.d(M,{q:()=>F});var n=a(68404),e=a(46519);const F=({timeInMs:C,className:$,humanize:h})=>n.createElement("span",{className:$},B(C,h)),B=(C,$=!1)=>{const h=C/1e3;if(!$)return`${h.toFixed(1)}s`;const H=(0,e.Ks)(h,"seconds"),Y=H.hours(),P=H.minutes(),K=H.seconds();return Y?`${Y}h ${P}m ${K}s`:P?`${P}m ${K}s`:`${K}s`}},78337:(re,M,a)=>{a.d(M,{Z:()=>F});var n=a(68404),e=function(B,C){var $=(0,n.useRef)(function(){});(0,n.useEffect)(function(){$.current=B}),(0,n.useEffect)(function(){if(C!==null){var h=setInterval(function(){return $.current()},C||0);return function(){return clearInterval(h)}}},[C])};const F=e}}]);

//# sourceMappingURL=AlertRuleListIndex.5d2c3707db601006b9f5.js.map