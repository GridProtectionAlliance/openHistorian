{"version":3,"file":"2019.ec5667102966ff24ba5f.js","mappings":"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","sources":["webpack://grafana/./public/app/features/alerting/unified/components/DynamicTableWithGuidelines.tsx","webpack://grafana/./public/app/features/alerting/unified/components/RuleLocation.tsx","webpack://grafana/../../opt/drone/yarncache/date-fns-npm-2.29.3-fef7e3c72c-e01cf5b62a.zip/node_modules/date-fns/esm/isBefore/index.js","webpack://grafana/./public/app/features/alerting/unified/components/rules/RuleActionsButtons.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RuleConfigStatus.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RuleDetails.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/RulesTable.tsx","webpack://grafana/./public/app/features/alerting/unified/hooks/useHasRuler.ts"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { DynamicTable, DynamicTableProps } from './DynamicTable';\n\nexport type DynamicTableWithGuidelinesProps<T> = Omit<DynamicTableProps<T>, 'renderPrefixHeader, renderPrefixCell'>;\n\n// DynamicTable, but renders visual guidelines on the left, for larger screen widths\nexport const DynamicTableWithGuidelines = <T extends object>({\n  renderExpandedContent,\n  ...props\n}: DynamicTableWithGuidelinesProps<T>) => {\n  const styles = useStyles2(getStyles);\n  return (\n    <DynamicTable\n      renderExpandedContent={\n        renderExpandedContent\n          ? (item, index, items) => (\n              <>\n                {!(index === items.length - 1) && <div className={cx(styles.contentGuideline, styles.guideline)} />}\n                {renderExpandedContent(item, index, items)}\n              </>\n            )\n          : undefined\n      }\n      renderPrefixHeader={() => (\n        <div className={styles.relative}>\n          <div className={cx(styles.headerGuideline, styles.guideline)} />\n        </div>\n      )}\n      renderPrefixCell={(_, index, items) => (\n        <div className={styles.relative}>\n          <div className={cx(styles.topGuideline, styles.guideline)} />\n          {!(index === items.length - 1) && <div className={cx(styles.bottomGuideline, styles.guideline)} />}\n        </div>\n      )}\n      {...props}\n    />\n  );\n};\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  relative: css`\n    position: relative;\n    height: 100%;\n  `,\n  guideline: css`\n    left: -19px;\n    border-left: 1px solid ${theme.colors.border.medium};\n    position: absolute;\n\n    ${theme.breakpoints.down('md')} {\n      display: none;\n    }\n  `,\n  topGuideline: css`\n    width: 18px;\n    border-bottom: 1px solid ${theme.colors.border.medium};\n    top: 0;\n    bottom: 50%;\n  `,\n  bottomGuideline: css`\n    top: 50%;\n    bottom: 0;\n  `,\n  contentGuideline: css`\n    top: 0;\n    bottom: 0;\n    left: -49px !important;\n  `,\n  headerGuideline: css`\n    top: -25px;\n    bottom: 0;\n  `,\n});\n","import React from 'react';\n\nimport { Icon } from '@grafana/ui';\n\ninterface Props {\n  namespace: string;\n  group?: string;\n}\n\nconst RuleLocation = ({ namespace, group }: Props) => {\n  if (!group) {\n    return <>{namespace}</>;\n  }\n\n  return (\n    <>\n      {namespace} <Icon name=\"angle-right\" /> {group}\n    </>\n  );\n};\n\nexport { RuleLocation };\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isBefore\n * @category Common Helpers\n * @summary Is the first date before the second one?\n *\n * @description\n * Is the first date before the second one?\n *\n * @param {Date|Number} date - the date that should be before the other one to return true\n * @param {Date|Number} dateToCompare - the date to compare with\n * @returns {Boolean} the first date is before the second date\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Is 10 July 1989 before 11 February 1987?\n * const result = isBefore(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> false\n */\n\nexport default function isBefore(dirtyDate, dirtyDateToCompare) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var dateToCompare = toDate(dirtyDateToCompare);\n  return date.getTime() < dateToCompare.getTime();\n}","import { css } from '@emotion/css';\nimport React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Stack } from '@grafana/experimental';\nimport { Button, ClipboardButton, ConfirmModal, LinkButton, Tooltip, useStyles2 } from '@grafana/ui';\nimport { useAppNotification } from 'app/core/copy/appNotification';\nimport { useDispatch } from 'app/types';\nimport { CombinedRule, RulesSource } from 'app/types/unified-alerting';\n\nimport { useIsRuleEditable } from '../../hooks/useIsRuleEditable';\nimport { deleteRuleAction } from '../../state/actions';\nimport { getRulesSourceName } from '../../utils/datasource';\nimport { createShareLink, createViewLink } from '../../utils/misc';\nimport * as ruleId from '../../utils/rule-id';\nimport { isFederatedRuleGroup, isGrafanaRulerRule } from '../../utils/rules';\nimport { createUrl } from '../../utils/url';\n\nimport { CloneRuleButton } from './CloneRuleButton';\nexport const matchesWidth = (width: number) => window.matchMedia(`(max-width: ${width}px)`).matches;\n\ninterface Props {\n  rule: CombinedRule;\n  rulesSource: RulesSource;\n}\n\nexport const RuleActionsButtons = ({ rule, rulesSource }: Props) => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const notifyApp = useAppNotification();\n  const style = useStyles2(getStyles);\n  const { namespace, group, rulerRule } = rule;\n  const [ruleToDelete, setRuleToDelete] = useState<CombinedRule>();\n\n  const rulesSourceName = getRulesSourceName(rulesSource);\n\n  const isProvisioned = isGrafanaRulerRule(rule.rulerRule) && Boolean(rule.rulerRule.grafana_alert.provenance);\n\n  const buttons: JSX.Element[] = [];\n\n  const isFederated = isFederatedRuleGroup(group);\n  const { isEditable, isRemovable } = useIsRuleEditable(rulesSourceName, rulerRule);\n  const returnTo = location.pathname + location.search;\n  const isViewMode = inViewMode(location.pathname);\n\n  const deleteRule = () => {\n    if (ruleToDelete && ruleToDelete.rulerRule) {\n      const identifier = ruleId.fromRulerRule(\n        getRulesSourceName(ruleToDelete.namespace.rulesSource),\n        ruleToDelete.namespace.name,\n        ruleToDelete.group.name,\n        ruleToDelete.rulerRule\n      );\n\n      dispatch(deleteRuleAction(identifier, { navigateTo: isViewMode ? '/alerting/list' : undefined }));\n      setRuleToDelete(undefined);\n    }\n  };\n\n  const buildShareUrl = () => createShareLink(rulesSource, rule);\n\n  const sourceName = getRulesSourceName(rulesSource);\n\n  if (!isViewMode) {\n    buttons.push(\n      <Tooltip placement=\"top\" content={'View'}>\n        <LinkButton\n          className={style.button}\n          title=\"View\"\n          size=\"sm\"\n          key=\"view\"\n          variant=\"secondary\"\n          icon=\"eye\"\n          href={createViewLink(rulesSource, rule, returnTo)}\n        />\n      </Tooltip>\n    );\n  }\n\n  if (isEditable && rulerRule && !isFederated) {\n    const identifier = ruleId.fromRulerRule(sourceName, namespace.name, group.name, rulerRule);\n\n    if (!isProvisioned) {\n      const editURL = createUrl(`/alerting/${encodeURIComponent(ruleId.stringifyIdentifier(identifier))}/edit`, {\n        returnTo,\n      });\n\n      if (isViewMode) {\n        buttons.push(\n          <ClipboardButton\n            key=\"copy\"\n            icon=\"copy\"\n            onClipboardError={(copiedText) => {\n              notifyApp.error('Error while copying URL', copiedText);\n            }}\n            className={style.button}\n            size=\"sm\"\n            getText={buildShareUrl}\n          >\n            Copy link to rule\n          </ClipboardButton>\n        );\n      }\n\n      buttons.push(\n        <Tooltip placement=\"top\" content={'Edit'}>\n          <LinkButton\n            title=\"Edit\"\n            className={style.button}\n            size=\"sm\"\n            key=\"edit\"\n            variant=\"secondary\"\n            icon=\"pen\"\n            href={editURL}\n          />\n        </Tooltip>\n      );\n    }\n\n    buttons.push(\n      <Tooltip placement=\"top\" content=\"Copy\">\n        <CloneRuleButton ruleIdentifier={identifier} isProvisioned={isProvisioned} className={style.button} />\n      </Tooltip>\n    );\n  }\n\n  if (isRemovable && rulerRule && !isFederated && !isProvisioned) {\n    buttons.push(\n      <Tooltip placement=\"top\" content={'Delete'}>\n        <Button\n          title=\"Delete\"\n          className={style.button}\n          size=\"sm\"\n          type=\"button\"\n          key=\"delete\"\n          variant=\"secondary\"\n          icon=\"trash-alt\"\n          onClick={() => setRuleToDelete(rule)}\n        />\n      </Tooltip>\n    );\n  }\n\n  if (buttons.length) {\n    return (\n      <>\n        <Stack gap={1}>\n          {buttons.map((button, index) => (\n            <React.Fragment key={index}>{button}</React.Fragment>\n          ))}\n        </Stack>\n        {!!ruleToDelete && (\n          <ConfirmModal\n            isOpen={true}\n            title=\"Delete rule\"\n            body=\"Deleting this rule will permanently remove it from your alert rule list. Are you sure you want to delete this rule?\"\n            confirmText=\"Yes, delete\"\n            icon=\"exclamation-triangle\"\n            onConfirm={deleteRule}\n            onDismiss={() => setRuleToDelete(undefined)}\n          />\n        )}\n      </>\n    );\n  }\n\n  return null;\n};\n\nfunction inViewMode(pathname: string): boolean {\n  return pathname.endsWith('/view');\n}\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  button: css`\n    padding: 0 ${theme.spacing(2)};\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { useMemo } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data/src';\nimport { config } from '@grafana/runtime/src';\nimport { Icon, Tooltip, useStyles2 } from '@grafana/ui/src';\n\nimport { CombinedRule } from '../../../../../types/unified-alerting';\nimport { checkEvaluationIntervalGlobalLimit } from '../../utils/config';\n\ninterface RuleConfigStatusProps {\n  rule: CombinedRule;\n}\n\nexport function RuleConfigStatus({ rule }: RuleConfigStatusProps) {\n  const styles = useStyles2(getStyles);\n\n  const { exceedsLimit } = useMemo(\n    () => checkEvaluationIntervalGlobalLimit(rule.group.interval),\n    [rule.group.interval]\n  );\n\n  if (!exceedsLimit) {\n    return null;\n  }\n\n  return (\n    <Tooltip\n      theme=\"error\"\n      content={\n        <div>\n          A minimum evaluation interval of{' '}\n          <span className={styles.globalLimitValue}>{config.unifiedAlerting.minInterval}</span> has been configured in\n          Grafana and will be used instead of the {rule.group.interval} interval configured for the Rule Group.\n        </div>\n      }\n    >\n      <Icon name=\"stopwatch-slash\" className={styles.icon} />\n    </Tooltip>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    globalLimitValue: css`\n      font-weight: ${theme.typography.fontWeightBold};\n    `,\n    icon: css`\n      fill: ${theme.colors.warning.text};\n    `,\n  };\n}\n","import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2, dateTime, dateTimeFormat } from '@grafana/data';\nimport { useStyles2, Tooltip } from '@grafana/ui';\nimport { Time } from 'app/features/explore/Time';\nimport { CombinedRule } from 'app/types/unified-alerting';\n\nimport { useCleanAnnotations } from '../../utils/annotations';\nimport { isRecordingRulerRule } from '../../utils/rules';\nimport { isNullDate } from '../../utils/time';\nimport { AlertLabels } from '../AlertLabels';\nimport { DetailsField } from '../DetailsField';\n\nimport { RuleDetailsActionButtons } from './RuleDetailsActionButtons';\nimport { RuleDetailsAnnotations } from './RuleDetailsAnnotations';\nimport { RuleDetailsDataSources } from './RuleDetailsDataSources';\nimport { RuleDetailsExpression } from './RuleDetailsExpression';\nimport { RuleDetailsMatchingInstances } from './RuleDetailsMatchingInstances';\n\ninterface Props {\n  rule: CombinedRule;\n}\n\n// The limit is set to 15 in order to upkeep the good performance\n// and to encourage users to go to the rule details page to see the rest of the instances\n// We don't want to paginate the instances list on the alert list page\nconst INSTANCES_DISPLAY_LIMIT = 15;\n\nexport const RuleDetails = ({ rule }: Props) => {\n  const styles = useStyles2(getStyles);\n  const {\n    namespace: { rulesSource },\n  } = rule;\n\n  const annotations = useCleanAnnotations(rule.annotations);\n\n  return (\n    <div>\n      <RuleDetailsActionButtons rule={rule} rulesSource={rulesSource} isViewMode={false} />\n      <div className={styles.wrapper}>\n        <div className={styles.leftSide}>\n          {<EvaluationBehaviorSummary rule={rule} />}\n          {!!rule.labels && !!Object.keys(rule.labels).length && (\n            <DetailsField label=\"Labels\" horizontal={true}>\n              <AlertLabels labels={rule.labels} />\n            </DetailsField>\n          )}\n          <RuleDetailsExpression rulesSource={rulesSource} rule={rule} annotations={annotations} />\n          <RuleDetailsAnnotations annotations={annotations} />\n        </div>\n        <div className={styles.rightSide}>\n          <RuleDetailsDataSources rulesSource={rulesSource} rule={rule} />\n        </div>\n      </div>\n      <RuleDetailsMatchingInstances rule={rule} itemsDisplayLimit={INSTANCES_DISPLAY_LIMIT} />\n    </div>\n  );\n};\n\ninterface EvaluationBehaviorSummaryProps {\n  rule: CombinedRule;\n}\n\nconst EvaluationBehaviorSummary = ({ rule }: EvaluationBehaviorSummaryProps) => {\n  let forDuration: string | undefined;\n  let every = rule.group.interval;\n  let lastEvaluation = rule.promRule?.lastEvaluation;\n  let lastEvaluationDuration = rule.promRule?.evaluationTime;\n\n  // recording rules don't have a for duration\n  if (!isRecordingRulerRule(rule.rulerRule)) {\n    forDuration = rule.rulerRule?.for;\n  }\n\n  return (\n    <>\n      {every && (\n        <DetailsField label=\"Evaluate\" horizontal={true}>\n          Every {every}\n        </DetailsField>\n      )}\n      {forDuration && (\n        <DetailsField label=\"For\" horizontal={true}>\n          {forDuration}\n        </DetailsField>\n      )}\n\n      {lastEvaluation && !isNullDate(lastEvaluation) && (\n        <DetailsField label=\"Last evaluation\" horizontal={true}>\n          <Tooltip\n            placement=\"top\"\n            content={`${dateTimeFormat(lastEvaluation, { format: 'YYYY-MM-DD HH:mm:ss' })}`}\n            theme=\"info\"\n          >\n            <span>{`${dateTime(lastEvaluation).locale('en').fromNow(true)} ago`}</span>\n          </Tooltip>\n        </DetailsField>\n      )}\n\n      {lastEvaluation && !isNullDate(lastEvaluation) && lastEvaluationDuration !== undefined && (\n        <DetailsField label=\"Evaluation time\" horizontal={true}>\n          <Tooltip placement=\"top\" content={`${lastEvaluationDuration}s`} theme=\"info\">\n            <span>{Time({ timeInMs: lastEvaluationDuration * 1000, humanize: true })}</span>\n          </Tooltip>\n        </DetailsField>\n      )}\n    </>\n  );\n};\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  wrapper: css`\n    display: flex;\n    flex-direction: row;\n\n    ${theme.breakpoints.down('md')} {\n      flex-direction: column;\n    }\n  `,\n  leftSide: css`\n    flex: 1;\n  `,\n  rightSide: css`\n    ${theme.breakpoints.up('md')} {\n      padding-left: 90px;\n      width: 300px;\n    }\n  `,\n});\n","import { css, cx } from '@emotion/css';\nimport { isBefore, formatDuration } from 'date-fns';\nimport React, { useCallback, useMemo } from 'react';\n\nimport {\n  GrafanaTheme2,\n  addDurationToDate,\n  isValidDate,\n  isValidDuration,\n  parseDuration,\n  dateTimeFormat,\n  dateTime,\n} from '@grafana/data';\nimport { useStyles2, Tooltip } from '@grafana/ui';\nimport { CombinedRule } from 'app/types/unified-alerting';\n\nimport { DEFAULT_PER_PAGE_PAGINATION } from '../../../../../core/constants';\nimport { useHasRuler } from '../../hooks/useHasRuler';\nimport { Annotation } from '../../utils/constants';\nimport { isGrafanaRulerRule, isGrafanaRulerRulePaused } from '../../utils/rules';\nimport { DynamicTable, DynamicTableColumnProps, DynamicTableItemProps } from '../DynamicTable';\nimport { DynamicTableWithGuidelines } from '../DynamicTableWithGuidelines';\nimport { ProvisioningBadge } from '../Provisioning';\nimport { RuleLocation } from '../RuleLocation';\nimport { Tokenize } from '../Tokenize';\n\nimport { RuleActionsButtons } from './RuleActionsButtons';\nimport { RuleConfigStatus } from './RuleConfigStatus';\nimport { RuleDetails } from './RuleDetails';\nimport { RuleHealth } from './RuleHealth';\nimport { RuleState } from './RuleState';\n\ntype RuleTableColumnProps = DynamicTableColumnProps<CombinedRule>;\ntype RuleTableItemProps = DynamicTableItemProps<CombinedRule>;\n\ninterface Props {\n  rules: CombinedRule[];\n  showGuidelines?: boolean;\n  showGroupColumn?: boolean;\n  showSummaryColumn?: boolean;\n  showNextEvaluationColumn?: boolean;\n  emptyMessage?: string;\n  className?: string;\n}\n\nexport const RulesTable = ({\n  rules,\n  className,\n  showGuidelines = false,\n  emptyMessage = 'No rules found.',\n  showGroupColumn = false,\n  showSummaryColumn = false,\n  showNextEvaluationColumn = false,\n}: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const wrapperClass = cx(styles.wrapper, className, { [styles.wrapperMargin]: showGuidelines });\n\n  const items = useMemo((): RuleTableItemProps[] => {\n    return rules.map((rule, ruleIdx) => {\n      return {\n        id: `${rule.namespace.name}-${rule.group.name}-${rule.name}-${ruleIdx}`,\n        data: rule,\n      };\n    });\n  }, [rules]);\n\n  const columns = useColumns(showSummaryColumn, showGroupColumn, showNextEvaluationColumn);\n\n  if (!rules.length) {\n    return <div className={cx(wrapperClass, styles.emptyMessage)}>{emptyMessage}</div>;\n  }\n\n  const TableComponent = showGuidelines ? DynamicTableWithGuidelines : DynamicTable;\n\n  return (\n    <div className={wrapperClass} data-testid=\"rules-table\">\n      <TableComponent\n        cols={columns}\n        isExpandable={true}\n        items={items}\n        renderExpandedContent={({ data: rule }) => <RuleDetails rule={rule} />}\n        pagination={{ itemsPerPage: DEFAULT_PER_PAGE_PAGINATION }}\n        paginationStyles={styles.pagination}\n      />\n    </div>\n  );\n};\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  wrapperMargin: css`\n    ${theme.breakpoints.up('md')} {\n      margin-left: 36px;\n    }\n  `,\n  emptyMessage: css`\n    padding: ${theme.spacing(1)};\n  `,\n  wrapper: css`\n    width: auto;\n    border-radius: ${theme.shape.borderRadius()};\n  `,\n  pagination: css`\n    display: flex;\n    margin: 0;\n    padding-top: ${theme.spacing(1)};\n    padding-bottom: ${theme.spacing(0.25)};\n    justify-content: center;\n    border-left: 1px solid ${theme.colors.border.strong};\n    border-right: 1px solid ${theme.colors.border.strong};\n    border-bottom: 1px solid ${theme.colors.border.strong};\n  `,\n});\n\nfunction useColumns(showSummaryColumn: boolean, showGroupColumn: boolean, showNextEvaluationColumn: boolean) {\n  const { hasRuler, rulerRulesLoaded } = useHasRuler();\n\n  const calculateNextEvaluationDate = useCallback((rule: CombinedRule) => {\n    const isValidLastEvaluation = rule.promRule?.lastEvaluation && isValidDate(rule.promRule.lastEvaluation);\n    const isValidIntervalDuration = rule.group.interval && isValidDuration(rule.group.interval);\n\n    if (!isValidLastEvaluation || !isValidIntervalDuration || isGrafanaRulerRulePaused(rule)) {\n      return;\n    }\n\n    const intervalDuration = parseDuration(rule.group.interval!);\n    const lastEvaluationDate = Date.parse(rule.promRule?.lastEvaluation || '');\n    const nextEvaluationDate = addDurationToDate(lastEvaluationDate, intervalDuration);\n\n    //when `nextEvaluationDate` is a past date it means lastEvaluation was more than one evaluation interval ago.\n    //in this case we use the interval value to show a more generic estimate.\n    //See https://github.com/grafana/grafana/issues/65125\n    const isPastDate = isBefore(nextEvaluationDate, new Date());\n    if (isPastDate) {\n      return {\n        humanized: `within ${formatDuration(intervalDuration)}`,\n        fullDate: `within ${formatDuration(intervalDuration)}`,\n      };\n    }\n\n    return {\n      humanized: `in ${dateTime(nextEvaluationDate).locale('en').fromNow(true)}`,\n      fullDate: dateTimeFormat(nextEvaluationDate, { format: 'YYYY-MM-DD HH:mm:ss' }),\n    };\n  }, []);\n\n  return useMemo((): RuleTableColumnProps[] => {\n    const columns: RuleTableColumnProps[] = [\n      {\n        id: 'state',\n        label: 'State',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: rule }) => {\n          const { namespace } = rule;\n          const { rulesSource } = namespace;\n          const { promRule, rulerRule } = rule;\n\n          const isDeleting = !!(hasRuler(rulesSource) && rulerRulesLoaded(rulesSource) && promRule && !rulerRule);\n          const isCreating = !!(hasRuler(rulesSource) && rulerRulesLoaded(rulesSource) && rulerRule && !promRule);\n          const isPaused = isGrafanaRulerRulePaused(rule);\n\n          return <RuleState rule={rule} isDeleting={isDeleting} isCreating={isCreating} isPaused={isPaused} />;\n        },\n        size: '165px',\n      },\n      {\n        id: 'name',\n        label: 'Name',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: rule }) => rule.name,\n        size: showNextEvaluationColumn ? 4 : 5,\n      },\n      {\n        id: 'provisioned',\n        label: '',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: rule }) => {\n          const rulerRule = rule.rulerRule;\n          const isGrafanaManagedRule = isGrafanaRulerRule(rulerRule);\n\n          if (!isGrafanaManagedRule) {\n            return null;\n          }\n\n          const provenance = rulerRule.grafana_alert.provenance;\n          return provenance ? <ProvisioningBadge /> : null;\n        },\n        size: '100px',\n      },\n      {\n        id: 'warnings',\n        label: '',\n        renderCell: ({ data: combinedRule }) => <RuleConfigStatus rule={combinedRule} />,\n        size: '45px',\n      },\n      {\n        id: 'health',\n        label: 'Health',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: { promRule, group } }) => (promRule ? <RuleHealth rule={promRule} /> : null),\n        size: '75px',\n      },\n    ];\n    if (showSummaryColumn) {\n      columns.push({\n        id: 'summary',\n        label: 'Summary',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: rule }) => {\n          return <Tokenize input={rule.annotations[Annotation.summary] ?? ''} />;\n        },\n        size: showNextEvaluationColumn ? 4 : 5,\n      });\n    }\n\n    if (showNextEvaluationColumn) {\n      columns.push({\n        id: 'nextEvaluation',\n        label: 'Next evaluation',\n        renderCell: ({ data: rule }) => {\n          const nextEvalInfo = calculateNextEvaluationDate(rule);\n          return (\n            nextEvalInfo && (\n              <Tooltip placement=\"top\" content={`${nextEvalInfo?.fullDate}`} theme=\"info\">\n                <span>{nextEvalInfo?.humanized}</span>\n              </Tooltip>\n            )\n          );\n        },\n        size: 2,\n      });\n    }\n\n    if (showGroupColumn) {\n      columns.push({\n        id: 'group',\n        label: 'Group',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ data: rule }) => {\n          const { namespace, group } = rule;\n          // ungrouped rules are rules that are in the \"default\" group name\n          const isUngrouped = group.name === 'default';\n          const groupName = isUngrouped ? (\n            <RuleLocation namespace={namespace.name} />\n          ) : (\n            <RuleLocation namespace={namespace.name} group={group.name} />\n          );\n\n          return groupName;\n        },\n        size: 5,\n      });\n    }\n    columns.push({\n      id: 'actions',\n      label: 'Actions',\n      // eslint-disable-next-line react/display-name\n      renderCell: ({ data: rule }) => {\n        return <RuleActionsButtons rule={rule} rulesSource={rule.namespace.rulesSource} />;\n      },\n      size: '200px',\n    });\n\n    return columns;\n  }, [\n    showSummaryColumn,\n    showGroupColumn,\n    showNextEvaluationColumn,\n    hasRuler,\n    rulerRulesLoaded,\n    calculateNextEvaluationDate,\n  ]);\n}\n","import { useCallback } from 'react';\n\nimport { RulesSource } from 'app/types/unified-alerting';\n\nimport { getRulesSourceName, GRAFANA_RULES_SOURCE_NAME } from '../utils/datasource';\n\nimport { useUnifiedAlertingSelector } from './useUnifiedAlertingSelector';\n\n// datasource has ruler if it's grafana managed or if we're able to load rules from it\nexport function useHasRuler() {\n  const rulerRules = useUnifiedAlertingSelector((state) => state.rulerRules);\n\n  const hasRuler = useCallback(\n    (rulesSource: string | RulesSource) => {\n      const rulesSourceName = typeof rulesSource === 'string' ? rulesSource : rulesSource.name;\n      return rulesSourceName === GRAFANA_RULES_SOURCE_NAME || !!rulerRules[rulesSourceName]?.result;\n    },\n    [rulerRules]\n  );\n\n  const rulerRulesLoaded = useCallback(\n    (rulesSource: RulesSource) => {\n      const rulesSourceName = getRulesSourceName(rulesSource);\n      const result = rulerRules[rulesSourceName]?.result;\n\n      return Boolean(result);\n    },\n    [rulerRules]\n  );\n\n  return { hasRuler, rulerRulesLoaded };\n}\n"],"names":["DynamicTableWithGuidelines","renderExpandedContent","props","styles","getStyles","item","index","items","_","theme","RuleLocation","namespace","group","isBefore","dirtyDate","dirtyDateToCompare","requiredArgs","date","toDate","dateToCompare","matchesWidth","width","RuleActionsButtons","rule","rulesSource","dispatch","location","notifyApp","style","rulerRule","ruleToDelete","setRuleToDelete","rulesSourceName","isProvisioned","buttons","isFederated","isEditable","isRemovable","useIsRuleEditable","returnTo","isViewMode","inViewMode","deleteRule","identifier","buildShareUrl","sourceName","Tooltip","editURL","ClipboardButton","copiedText","CloneRuleButton","Button","button","ConfirmModal","pathname","RuleConfigStatus","exceedsLimit","config","Icon","INSTANCES_DISPLAY_LIMIT","RuleDetails","annotations","RuleDetailsActionButtons","EvaluationBehaviorSummary","DetailsField","AlertLabels","RuleDetailsExpression","RuleDetailsAnnotations","RuleDetailsDataSources","RuleDetailsMatchingInstances","forDuration","every","lastEvaluation","lastEvaluationDuration","Time","RulesTable","rules","className","showGuidelines","emptyMessage","showGroupColumn","showSummaryColumn","showNextEvaluationColumn","wrapperClass","ruleIdx","columns","useColumns","TableComponent","DynamicTable","hasRuler","rulerRulesLoaded","useHasRuler","calculateNextEvaluationDate","isValidLastEvaluation","isValidIntervalDuration","intervalDuration","lastEvaluationDate","nextEvaluationDate","formatDuration","promRule","isDeleting","isCreating","isPaused","RuleState","Provisioning","combinedRule","RuleHealth","Tokenize","nextEvalInfo","rulerRules","state","result"],"sourceRoot":""}