(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+4lh":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("Obii"),i=n("0/uQ"),o=n("t8hP"),s=n("3x4x"),l=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.query=function(e){var t=this,n=e.targets,r=e.intervalMs,l=e.maxDataPoints,c=e.range,u=0,d=o.config.bootData.user.orgId,p=n.map(function(e){if("__expr__"===e.datasource)return u++,Object(a.__assign)(Object(a.__assign)({},e),{datasourceId:t.id,orgId:d});var n=e.datasource&&"default"!==e.datasource?e.datasource:o.config.defaultDatasource,i=o.config.datasources[n];if(!i)throw new Error("Unknown Datasource: "+e.datasource);return Object(a.__assign)(Object(a.__assign)({},e),{datasourceId:i.id,intervalMs:r,maxDataPoints:l,orgId:d})}),f={expressionCount:u,queries:p};c&&(f.range=c,f.from=c.from.valueOf().toString(),f.to=c.to.valueOf().toString());var h=Object(s.c)().post("/api/ds/query",f).then(function(e){return t.toDataQueryResponse(e)});return Object(i.a)(h)},t.prototype.toDataQueryResponse=function(e){return Object(a.__awaiter)(this,void 0,Promise,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,n.e(24).then(n.bind(null,"JL5c"))];case 1:return[2,{data:(0,t.sent().resultsToDataFrames)(e)}]}})})},t.prototype.testDatasource=function(){return Promise.resolve({})},t}(r.DataSourceApi)},"+99A":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a,r,i,o,s=n("mrSG"),l=n("q1tI"),c=n.n(l),u=n("PAeb"),d=n("ZFWI"),p=n("kDLi"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoading:!1,showDeleteModal:!1,showDisableModal:!1},t.showDeleteUserModal=function(e){return function(){t.setState({showDeleteModal:e})}},t.showDisableUserModal=function(e){return function(){t.setState({showDisableModal:e})}},t.onUserDelete=function(){var e=t.props,n=e.user;(0,e.onUserDelete)(n.id)},t.onUserDisable=function(){var e=t.props,n=e.user;(0,e.onUserDisable)(n.id)},t.onUserEnable=function(){var e=t.props,n=e.user;(0,e.onUserEnable)(n.id)},t.onUserNameChange=function(e){var n=t.props,a=n.user;(0,n.onUserUpdate)(Object(s.__assign)(Object(s.__assign)({},a),{name:e}))},t.onUserEmailChange=function(e){var n=t.props,a=n.user;(0,n.onUserUpdate)(Object(s.__assign)(Object(s.__assign)({},a),{email:e}))},t.onUserLoginChange=function(e){var n=t.props,a=n.user;(0,n.onUserUpdate)(Object(s.__assign)(Object(s.__assign)({},a),{login:e}))},t.onPasswordChange=function(e){t.props.onPasswordChange(e)},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this.props.user,t=this.state,n=t.showDeleteModal,a=t.showDisableModal,r=h(d.a.theme);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"page-heading"},"User information"),c.a.createElement("div",{className:"gf-form-group"},c.a.createElement("div",{className:"gf-form"},c.a.createElement("table",{className:"filter-table form-inline"},c.a.createElement("tbody",null,c.a.createElement(m,{label:"Name",value:e.name,locked:e.isExternal,lockMessage:"Synced via LDAP",onChange:this.onUserNameChange}),c.a.createElement(m,{label:"Email",value:e.email,locked:e.isExternal,lockMessage:"Synced via LDAP",onChange:this.onUserEmailChange}),c.a.createElement(m,{label:"Username",value:e.login,locked:e.isExternal,lockMessage:"Synced via LDAP",onChange:this.onUserLoginChange}),c.a.createElement(m,{label:"Password",value:"********",inputType:"password",locked:e.isExternal,lockMessage:"Synced via LDAP",onChange:this.onPasswordChange})))),c.a.createElement("div",{className:r.buttonRow},c.a.createElement(p.Forms.Button,{variant:"destructive",onClick:this.showDeleteUserModal(!0)},"Delete User"),c.a.createElement(p.ConfirmModal,{isOpen:n,title:"Delete user",body:"Are you sure you want to delete this user?",confirmText:"Delete user",onConfirm:this.onUserDelete,onDismiss:this.showDeleteUserModal(!1)}),e.isDisabled?c.a.createElement(p.Forms.Button,{variant:"secondary",onClick:this.onUserEnable},"Enable User"):c.a.createElement(p.Forms.Button,{variant:"secondary",onClick:this.showDisableUserModal(!0)},"Disable User"),c.a.createElement(p.ConfirmModal,{isOpen:a,title:"Disable user",body:"Are you sure you want to disable this user?",confirmText:"Disable user",onConfirm:this.onUserDisable,onDismiss:this.showDisableUserModal(!1)}))))},t}(l.PureComponent),h=Object(p.stylesFactory)(function(e){return{buttonRow:Object(u.css)(a||(a=Object(s.__makeTemplateObject)(["\n      margin-top: 0.8rem;\n      > * {\n        margin-right: 16px;\n      }\n    "],["\n      margin-top: 0.8rem;\n      > * {\n        margin-right: 16px;\n      }\n    "])))}}),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={editing:!1,value:t.props.value||""},t.setInputElem=function(e){t.inputElem=e},t.onEditClick=function(){"password"===t.props.inputType?t.setState({editing:!0,value:""},t.focusInput):t.setState({editing:!0},t.focusInput)},t.onCancelClick=function(){t.setState({editing:!1,value:t.props.value||""})},t.onInputChange=function(e,n){n!==p.InputStatus.Invalid&&t.setState({value:e.target.value})},t.onInputBlur=function(e,n){n!==p.InputStatus.Invalid&&t.setState({value:e.target.value})},t.focusInput=function(){t.inputElem&&t.inputElem.focus&&t.inputElem.focus()},t.onSave=function(){t.props.onChange&&t.props.onChange(t.state.value)},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.locked,a=e.lockMessage,i=e.inputType,o=this.state.value,l=Object(u.cx)("width-16",Object(u.css)(r||(r=Object(s.__makeTemplateObject)(["\n        font-weight: 500;\n      "],["\n        font-weight: 500;\n      "])))),d=Object(u.cx)("pull-right");return n?c.a.createElement(g,{label:t,value:o,lockMessage:a}):c.a.createElement("tr",null,c.a.createElement("td",{className:l},t),c.a.createElement("td",{className:"width-25",colSpan:2},this.state.editing?c.a.createElement(p.Input,{className:"width-20",type:i,defaultValue:o,onBlur:this.onInputBlur,onChange:this.onInputChange,inputRef:this.setInputElem}):c.a.createElement("span",null,this.props.value)),c.a.createElement("td",null,c.a.createElement("div",{className:d},c.a.createElement(p.ConfirmButton,{confirmText:"Save",onClick:this.onEditClick,onConfirm:this.onSave,onCancel:this.onCancelClick},"Edit"))))},t.defaultProps={value:"",locked:!1,lockMessage:"",inputType:"text"},t}(l.PureComponent),g=function(e){var t=e.label,n=e.value,a=e.lockMessage,r=Object(u.cx)("pull-right",Object(u.css)(i||(i=Object(s.__makeTemplateObject)(["\n      font-style: italic;\n      margin-right: 0.6rem;\n    "],["\n      font-style: italic;\n      margin-right: 0.6rem;\n    "])))),l=Object(u.cx)("width-16",Object(u.css)(o||(o=Object(s.__makeTemplateObject)(["\n      font-weight: 500;\n    "],["\n      font-weight: 500;\n    "]))));return c.a.createElement("tr",null,c.a.createElement("td",{className:l},t),c.a.createElement("td",{className:"width-25",colSpan:2},n),c.a.createElement("td",null,c.a.createElement("span",{className:r},a)))}},"+JUD":function(e,t,n){"use strict";n.d(t,"g",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"b",function(){return y});var a=n("SMGL"),r=n("K47g"),i=n("Obii"),o=n("LvDl"),s=n("Xmxp"),l=n("ZFWI"),c=n("5kRJ"),u=n("eXZ6"),d=n("GQ3c"),p=function(e,t,n){if(!1===n)e.removePanel(t);else{var a=t.alert?"Panel includes an alert rule, removing panel will also remove alert rule":null,r=t.alert?"YES":null;s.b.emit(d.CoreEvents.showConfirmModal,{title:"Remove Panel",text:"Are you sure you want to remove this panel?",text2:a,icon:"fa-trash",confirmText:r,yesText:"Remove",onConfirm:function(){return p(e,t,!1)}})}},f=function(e,t){e.duplicatePanel(t)},h=function(e){a.a.set(u.f,JSON.stringify(e.getSaveModel())),s.b.emit(i.AppEvents.alertSuccess,["Panel copied. Open Add Panel to paste"])},m=function(e,t){var n={object:t.getSaveModel(),updateHandler:function(t,n){!function(e,t,n){var a=e.panels.findIndex(function(e){return e.id===n.id}),i=e.panels.splice(a,1)[0];e.events.emit(r.c,i),(t=new r.a(t)).id=n.id,e.panels.splice(a,0,t),e.sortPanelsByGridPos(),e.events.emit(r.b,t)}(e,t,n)},canUpdate:e.meta.canEdit,enableCopy:!0};s.b.emit(d.CoreEvents.showModal,{src:"public/app/partials/edit_json.html",model:n})},g=function(e,t){s.b.emit(d.CoreEvents.showModal,{src:"public/app/features/dashboard/components/ShareModal/template.html",model:{dashboard:e,panel:t}})};function b(e,t){var n={timeInfo:"",timeRange:t};if(e.timeFrom){var a=c.b.replace(e.timeFrom,e.scopedVars),r=i.rangeUtil.describeTextRange(a);if(r.invalid)return n.timeInfo="invalid time override",n;if(Object(o.isString)(t.raw.from)){var s=i.dateMath.parse(r.from);n.timeInfo=r.display,n.timeRange={from:s,to:i.dateMath.parse(r.to),raw:{from:r.from,to:r.to}}}}if(e.timeShift){var l=c.b.replace(e.timeShift,e.scopedVars);if(i.rangeUtil.describeTextRange(l).invalid)return n.timeInfo="invalid timeshift",n;var u="-"+l;n.timeInfo+=" timeshift "+u;var d=i.dateMath.parseDateMath(u,n.timeRange.from,!1),p=i.dateMath.parseDateMath(u,n.timeRange.to,!0);n.timeRange={from:d,to:p,raw:{from:d,to:p}}}return e.hideTimeOverride&&(n.timeInfo=""),n}function v(e){var t=document.getElementsByTagName("html")[0].getBoundingClientRect().width;return e.maxDataPoints?e.maxDataPoints:Math.ceil(t*(e.gridPos.w/24))}function y(e,t){var n=e.plugin&&e.plugin.noPadding?0:2*l.b.theme.panelPadding;return t-(e.hasTitle()?l.b.theme.panelHeaderHeight:0)-n-u.h}},"+dgx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("LvDl"),s=n.n(o),l=n("kDLi"),c=n("NXk7"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isLoading:!1},n.search=n.search.bind(n),n.debouncedSearch=Object(o.debounce)(n.search,300,{leading:!0,trailing:!0}),n}return Object(a.__extends)(t,e),t.prototype.search=function(e){var t=this,n=Object(c.b)();return this.setState({isLoading:!0}),s.a.isNil(e)&&(e=""),n.get("/api/org/users/lookup?query="+e+"&limit=10").then(function(e){return e.map(function(e){return{id:e.userId,value:e.userId,label:e.login,imgUrl:e.avatarUrl,login:e.login}})}).finally(function(){t.setState({isLoading:!1})})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.onSelected,a=this.state.isLoading;return i.a.createElement("div",{className:"user-picker"},i.a.createElement(l.AsyncSelect,{className:t,isLoading:a,defaultOptions:!0,loadOptions:this.debouncedSearch,onChange:n,placeholder:"Select user",noOptionsMessage:function(){return"No users found"}}))},t}(r.Component)},"+iHc":function(e,t,n){"use strict";var a=n("mrSG"),r=n("dt0z"),i=n.n(r),o=n("E+oP"),s=n.n(o),l=n("LvDl"),c=n.n(l),u=n("HJqT"),d=n("GNR5"),p=n("b+mb"),f=n("IjGO"),h=n("KgU3"),m=n("2wGe"),g=n("m+sf"),b=n("oetV"),v=n("UB5X"),y=n.n(v);function w(e,t){var n=t?t.type:h.GrafanaThemeType.Dark,a=e.config||{},r=a.thresholds,i=a.color,o=i&&i.mode===h.FieldColorMode.Fixed&&i.fixedColor?Object(g.e)(i.fixedColor,n):void 0,s=r&&r.mode===h.ThresholdsMode.Percentage,l=i&&i.mode===h.FieldColorMode.Scheme;if(s||l){var c=a.min,u=a.max;if(!y()(c)||!y()(u))if(e.values&&e.values.length){var d=Object(m.n)({field:e,reducers:[m.h.min,m.h.max]});y()(c)||(c=d[m.h.min]),y()(u)||(u=d[m.h.max])}else c=0,u=100;var p,f=u-c;return l&&(p=b["interpolate"+i.schemeName]),function(e){var t=(e-c)/f,a=r?x(s?100*t:e,r.steps):void 0,i=o;return p?i=p(t):a&&(i=Object(g.e)(a.color,n)),{percent:t,threshold:a,color:i}}}return r?function(e){var t=x(e,r.steps);return{threshold:t,color:null!=o?o:t?Object(g.e)(t.color,n):void 0}}:o?function(e){return{color:o}}:function(e){return{}}}function x(e,t){var n,r,i=t[0];try{for(var o=Object(a.__values)(t),s=o.next();!s.done;s=o.next()){var l=s.value;if(!(e>=l.value))break;i=l}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function O(e){return e.sort(function(e,t){return e.value-t.value})}var _={dateTimeAsIso:!0,dateTimeAsUS:!0,dateTimeFromNow:!0};function k(e){var t;if(!e||c.a.isEmpty(e)||!e.field)return C;var n=e.field,r=null!=(t=n.config)?t:{};n.type===u.a.time&&(r.unit&&_[r.unit]||r.unit&&r.unit.startsWith("time:")||(r.unit="time:"+f.a));var i=Object(d.b)(r.unit||"none"),o=w(n,e.theme);return function(t){var n=r.mappings,s=c.a.toString(t),l=j(t),u=void 0,d=void 0,f=!0;if(n&&n.length>0&&(m=Object(p.a)(n,t))){var h=j(s=m.text);isNaN(h)||(l=h),f=!1}if(!isNaN(l)){if(f&&!c.a.isBoolean(t)){var m,g=S(t,r.decimals),b=g.decimals,v=g.scaledDecimals;if(s=(h=i(l,b,v,e.timeZone)).text,d=h.suffix,u=h.prefix,n&&n.length>0)(m=Object(p.a)(n,s))&&(s=m.text)}if(s)return Object(a.__assign)({text:s,numeric:l,prefix:u,suffix:d},o(l))}return s||(s=r.noValue?r.noValue:""),{text:s,numeric:l,prefix:u,suffix:d}}}function j(e){return"number"==typeof e?e:""===e||null==e||Array.isArray(e)?NaN:"boolean"==typeof e?e?1:0:c.a.toNumber(e)}function C(e){return{text:c.a.toString(e),numeric:j(e)}}function S(e,t){if(c.a.isNumber(t))return{decimals:t,scaledDecimals:null};var n,a=1-Math.floor(Math.log(e)/Math.LN10),r=Math.pow(10,-a),i=e/r;i<1.5?n=1:i<3?(n=2,i>2.25&&(n=2.5,++a)):n=i<7.5?5:10,n*=r,e%1==0&&(a=0);var o=Math.max(0,a);return{decimals:o,scaledDecimals:o-Math.floor(Math.log(n)/Math.LN10)+2}}var E=n("U5HE"),T=n("if1/"),M=n("ZSVY"),A=n("0v62"),N=n("D1y2"),D=n.n(N),I=n("tLB3"),P=n.n(I),F=n("8//q");function L(e){var t,n;if(!e.data)return[];var r=e.fieldOptions;if(!r)return e.data;var i=void 0,o=[];if(r.overrides)try{for(var s=Object(a.__values)(r.overrides),l=s.next();!l.done;l=s.next()){var c=l.value,u=m.i.get(c.matcher.id);u&&o.push({match:u.get(c.matcher.options),properties:c.properties})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return e.data.map(function(t,n){var s=t.name;s||(s="Series["+n+"]");var l=t.fields.map(function(n){var s,l,c,u,d=Object(a.__assign)({},n.config)||{};n.type===h.FieldType.number&&function(e,t){var n,r;if(t){var i=Object.keys(t);try{for(var o=Object(a.__values)(i),s=o.next();!s.done;s=o.next()){var l=s.value,c=V(l,t[l]);null!=c&&D()(e,l,c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}B(e)}(d,r.defaults);try{for(var p=Object(a.__values)(o),f=p.next();!f.done;f=p.next()){var g=f.value;if(g.match(n))try{for(var b=(c=void 0,Object(a.__values)(g.properties)),v=b.next();!v.done;v=b.next()){$(d,{value:v.value,config:d,field:n,data:t,replaceVariables:e.replaceVariables})}}catch(e){c={error:e}}finally{try{v&&!v.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}}}catch(e){s={error:e}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}var w=n.type;if(!w||w===h.FieldType.other){var x=Object(F.n)(n);x&&(w=x)}"percent"===d.unit?(y()(d.min)||(d.min=0),y()(d.max)||(d.max=100)):"percentunit"===d.unit&&(y()(d.min)||(d.min=0),y()(d.max)||(d.max=1)),e.autoMinMax&&n.type===h.FieldType.number&&(y()(d.min)&&y()(d.max)||(i||(i=function(e){var t,n,r,i,o=Number.MAX_VALUE,s=Number.MIN_VALUE,l=[m.h.min,m.h.max];try{for(var c=Object(a.__values)(e),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var p=(r=void 0,Object(a.__values)(d.fields)),f=p.next();!f.done;f=p.next()){var g=f.value;if(g.type===h.FieldType.number){var b=Object(m.n)({field:g,reducers:l});b[m.h.min]<o&&(o=b[m.h.min]),b[m.h.max]>s&&(s=b[m.h.max])}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return{min:o,max:s}}(e.data)),y()(d.min)||(d.min=i.min),y()(d.max)||(d.max=i.max)));var O=Object(a.__assign)(Object(a.__assign)({},n),{config:d,type:w});return O.display=k({field:O,theme:e.theme,timeZone:e.timeZone}),O});return Object(a.__assign)(Object(a.__assign)({},t),{fields:l,name:s})})}var R={decimals:!0,min:!0,max:!0};function V(e,t,n){if(R[e]){var a=P()(t);return isNaN(a)?null:a}return t&&"unit"===e&&"none"===t?null:t}function $(e,t){var n=t.value,a=V(n.path,n.value);D()(e,n.path,a)}function B(e){var t=e.thresholds;if(t&&(t.mode||(t.mode=h.ThresholdsMode.Absolute),t.steps?t.steps.length&&(t.steps[0].value=-1/0):t.steps=[]),e.color)if(e.color.mode){var n=e.color;n.mode===h.FieldColorMode.Scheme?n.schemeName||(n.schemeName=h.ColorScheme.BrBG):delete n.schemeName}else delete e.color;else t&&(e.color={mode:h.FieldColorMode.Thresholds});if(e.hasOwnProperty("min")&&e.hasOwnProperty("max")&&e.min>e.max){var a=e.max;e.max=e.min,e.min=a}}var U="__series.name",q="__field.name",z="__calc";var H=function(e){var t,n,r,o=e.replaceVariables,l=e.fieldOptions,c=l.calcs.length?l.calcs:[M.a.last],u=[];if(e.data)for(var d=L(e),p=!1,f=l.limit?l.limit:25,m=function(e,t,n){var r,i;if(e)return e;if(!n||!n.length)return"No Data";var o=0;try{for(var s=Object(a.__values)(n[0].fields),l=s.next();!l.done;l=s.next())l.value.type===h.FieldType.number&&o++}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}var c=[];return t.length>1&&c.push("${"+z+"}"),n.length>1&&c.push("${"+U+"}"),(o>1||!c.length)&&c.push("${"+q+"}"),c.join(" ")}(l.defaults.title,c,d),g={},b=0;b<d.length&&!p;b++){var v=d[b];g.__series={text:"Series",value:{name:v.name}};for(var y=Object(A.b)(v).timeField,w=new T.a(v),x=0;x<v.fields.length&&!p;x++){var O=v.fields[x];if(O.type===h.FieldType.number){var _=O.config,j=O.name;j||(j="Field["+b+"]"),g.__field={text:"Field",value:{name:j}};var C=null!=(r=O.display)?r:k({field:O,theme:e.theme}),S=_.title?_.title:m;if(l.values)for(var N=S.indexOf("__cell_")>=0,D=0;D<O.values.length;D++){if(N)for(var I=0;I<v.fields.length;I++){var P=v.fields[I].values.get(D);g["__cell_"+I]={value:P,text:i()(P)}}if((B=C(O.values.get(D))).title=o(S,g),u.push({name:j,field:_,display:B,view:w,colIndex:x,rowIndex:D}),u.length>=f){p=!0;break}}else{var F=Object(M.c)({field:O,reducers:c}),R=void 0;e.sparkline&&y&&(R=Object(E.a)({xField:y,yField:v.fields[x]}));try{for(var V=(t=void 0,Object(a.__values)(c)),$=V.next();!$.done;$=V.next()){var B,H=$.value;g[z]={value:H,text:H},(B=C(F[H])).title=o(S,g),u.push({name:H,field:_,display:B,sparkline:R,view:w,colIndex:x})}}catch(e){t={error:e}}finally{try{$&&!$.done&&(n=V.return)&&n.call(V)}finally{if(t)throw t.error}}}}}}return 0===u.length?u.push(function(e){var t=e.fieldOptions.defaults,n=function(e,t){if(!e||s()(e.text))return t;return e.text}(k({field:{type:h.FieldType.other,config:t},theme:e.theme})(null),"No data");return{name:"No data",field:Object(a.__assign)({},t),display:{text:n,numeric:0}}}(e)):1!==u.length||l.defaults.title||(u[0].display.title=void 0),u};function G(e){for(var t={title:"",text:""},n=0,a=0,r=0;r<e.length;r++){var i=e[r].display;i.text&&i.text.length>t.text.length&&(t.text=i.text),i.title&&i.title.length>t.title.length&&(t.title=i.title),i.prefix&&i.prefix.length>n&&(t.prefix=i.prefix,n=i.prefix.length),i.suffix&&i.suffix.length>a&&(t.suffix=i.suffix,a=i.suffix.length)}return t}n.d(t,"e",function(){return U}),n.d(t,"d",function(){return q}),n.d(t,"b",function(){return z}),n.d(t,"c",function(){return"__cell_"}),n.d(t,"a",function(){return 25}),n.d(t,"k",function(){return H}),n.d(t,"j",function(){return G}),n.d(t,"i",function(){return k}),n.d(t,"h",function(){return S}),n.d(t,"l",function(){return w}),n.d(t,"g",function(){return x}),n.d(t,"m",function(){return O}),n.d(t,"f",function(){return L}),n.d(t,"n",function(){return B})},"+ujO":function(e,t,n){"use strict";var a=n("GNR5");n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return a.b}),n.d(t,"c",function(){return a.c}),n.d(t,"d",function(){return a.d}),n.d(t,"e",function(){return a.e}),n.d(t,"f",function(){return a.f}),n.d(t,"g",function(){return a.g}),n.d(t,"h",function(){return a.h}),n.d(t,"i",function(){return a.i}),n.d(t,"j",function(){return a.j})},"/2Ru":function(e,t){var n="public/app/features/datasources/partials/tls_auth_settings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n  <div class=gf-form>\n    <h6>TLS Auth Details</h6>\n    <info-popover mode=header>TLS Certs are encrypted and stored in the Grafana database.</info-popover>\n  </div>\n  <div ng-if=current.jsonData.tlsAuthWithCACert>\n    <div class=gf-form-inline>\n      <div class="gf-form gf-form--v-stretch"><label class="gf-form-label width-7">CA Cert</label></div>\n      <div class="gf-form gf-form--grow" ng-if=!current.secureJsonFields.tlsCACert>\n         <textarea rows=7 class="gf-form-input gf-form-textarea" ng-model=current.secureJsonData.tlsCACert placeholder="Begins with -----BEGIN CERTIFICATE-----"></textarea>\n      </div>\n\n      <div class=gf-form ng-if=current.secureJsonFields.tlsCACert>\n        <input type=text class="gf-form-input max-width-12" disabled=disabled value=configured />\n        <a class="btn btn-secondary gf-form-btn" href=# ng-click="current.secureJsonFields.tlsCACert = false">reset</a>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if=current.jsonData.tlsAuth>\n    <div class=gf-form-inline>\n      <div class="gf-form gf-form--v-stretch"><label class="gf-form-label width-7">Client Cert</label></div>\n      <div class="gf-form gf-form--grow" ng-if=!current.secureJsonFields.tlsClientCert>\n         <textarea rows=7 class="gf-form-input gf-form-textarea" ng-model=current.secureJsonData.tlsClientCert placeholder="Begins with -----BEGIN CERTIFICATE-----" required></textarea>\n      </div>\n      <div class=gf-form ng-if=current.secureJsonFields.tlsClientCert>\n        <input type=text class="gf-form-input max-width-12" disabled=disabled value=configured />\n        <a class="btn btn-secondary gf-form-btn" href=# ng-click="current.secureJsonFields.tlsClientCert = false">reset</a>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class="gf-form gf-form--v-stretch"><label class="gf-form-label width-7">Client Key</label></div>\n      <div class="gf-form gf-form--grow" ng-if=!current.secureJsonFields.tlsClientKey>\n         <textarea rows=7 class="gf-form-input gf-form-textarea" ng-model=current.secureJsonData.tlsClientKey placeholder="Begins with -----BEGIN RSA PRIVATE KEY-----" required></textarea>\n      </div>\n      <div class=gf-form ng-if=current.secureJsonFields.tlsClientKey>\n        <input type=text class="gf-form-input max-width-12" disabled=disabled value=configured />\n        <a class="btn btn-secondary gf-form-btn" href=# ng-click="current.secureJsonFields.tlsClientKey = false">reset</a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},"/8l8":function(e,t){var n="public/app/plugins/datasource/grafana/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=gf-form-group>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-9">\n\t\t\t\tFilter by\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>Dashboard: This will fetch annotation and alert state changes for whole dashboard and show them only on the event\'s originating panel.</li>\n\t\t\t\t\t\t<li>Tags: This will fetch any annotation events that match the tags filter.</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</info-popover>\n\t\t\t</span>\n\t\t\t<div class="gf-form-select-wrapper width-8">\n\t\t\t\t<select class=gf-form-input ng-model=ctrl.annotation.type ng-options="f.value as f.text for f in ctrl.types">\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>Max limit</span>\n\t\t\t<div class=gf-form-select-wrapper>\n\t\t\t\t<select class=gf-form-input ng-model=ctrl.annotation.limit ng-options="f for f in [10,50,100,200,300,500,1000,2000]">\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form ng-if="ctrl.annotation.type === \'tags\'">\n\t\t\t<gf-form-switch class=gf-form label="Match any" label-class=width-9 checked=ctrl.annotation.matchAny on-change=ctrl.refresh() tooltip="By default Grafana only shows annotations that match all tags in the query. Enabling this returns annotations that match any of the tags in the query."></gf-form-switch>\n\t\t</div>\n\t\t<div class=gf-form ng-if="ctrl.annotation.type === \'tags\'">\n\t\t\t<span class=gf-form-label>\n\t\t\t\tTags\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\tA tag entered here as \'foo\' will match\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>annotation tags \'foo\'</li>\n\t\t\t\t\t\t<li>annotation key-value tags formatted as \'foo:bar\'</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</info-popover>\n\t\t\t</span>\n\t\t\t<bootstrap-tagsinput ng-model=ctrl.annotation.tags tagclass="label label-tag" placeholder="add tags">\n\t\t\t</bootstrap-tagsinput>\n\t\t</div>\n\t</div>\n</div>\n\n\n')}]),e.exports=n},"/Dwp":function(e,t){var n="public/app/plugins/panel/text/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<p class="markdown-html panel-text-content" ng-bind-html=ctrl.content ng-show=ctrl.content>\n</p>\n')}]),e.exports=n},"/FV5":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.Admin="Admin",e.Editor="Editor",e.Viewer="Viewer"}(a||(a={}))},"/GJV":function(e,t,n){"use strict";n.r(t),n.d(t,"refresh",function(){return r}),n.d(t,"componentDidMount",function(){return i}),n.d(t,"dataError",function(){return o}),n.d(t,"dataReceived",function(){return s}),n.d(t,"dataSnapshotLoad",function(){return l}),n.d(t,"editModeInitialized",function(){return c}),n.d(t,"initPanelActions",function(){return u}),n.d(t,"panelChangeView",function(){return d}),n.d(t,"panelInitialized",function(){return p}),n.d(t,"panelSizeChanged",function(){return f}),n.d(t,"panelTeardown",function(){return h}),n.d(t,"render",function(){return m}),n.d(t,"viewModeChanged",function(){return g});var a=n("5m9O"),r=Object(a.a)("refresh"),i=Object(a.a)("component-did-mount"),o=Object(a.a)("data-error"),s=Object(a.a)("data-received"),l=Object(a.a)("data-snapshot-load"),c=Object(a.a)("init-edit-mode"),u=Object(a.a)("init-panel-actions"),d=Object(a.a)("panel-change-view"),p=Object(a.a)("panel-initialized"),f=Object(a.a)("panel-size-changed"),h=Object(a.a)("panel-teardown"),m=Object(a.a)("render"),g=Object(a.a)("view-mode-changed")},"/HFP":function(e,t){var n="public/app/plugins/datasource/influxdb/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl can-collapse=true has-text-edit-mode=true>\n  <div ng-if=ctrl.target.rawQuery>\n    <div class=gf-form>\n      <textarea rows=3 class=gf-form-input ng-model=ctrl.target.query spellcheck=false placeholder="InfluxDB Query" ng-model-onblur ng-change=ctrl.refresh()></textarea>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword">FORMAT AS</label>\n        <div class=gf-form-select-wrapper>\n          <select class="gf-form-input gf-size-auto" ng-model=ctrl.target.resultFormat ng-options="f.value as f.text for f in ctrl.resultFormats" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class="gf-form max-width-25" ng-hide="ctrl.target.resultFormat === \'table\'">\n        <label class="gf-form-label query-keyword">ALIAS BY</label>\n        <input type=text class=gf-form-input ng-model=ctrl.target.alias spellcheck=false placeholder="Naming pattern" ng-blur=ctrl.refresh() />\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if=!ctrl.target.rawQuery>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">FROM</label>\n\n        <metric-segment segment=ctrl.policySegment get-options=ctrl.getPolicySegments() on-change=ctrl.policyChanged()></metric-segment>\n        <metric-segment segment=ctrl.measurementSegment get-options=ctrl.getMeasurements($query) on-change=ctrl.measurementChanged()></metric-segment>\n      </div>\n\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword">WHERE</label>\n      </div>\n\n      <div class=gf-form ng-repeat="segment in ctrl.tagSegments">\n        <metric-segment segment=segment get-options="ctrl.getTagsOrValues(segment, $index)" on-change="ctrl.tagSegmentUpdated(segment, $index)"></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline ng-repeat="selectParts in ctrl.queryModel.selectModels">\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7"> <span ng-show="$index === 0">SELECT</span>&nbsp; </label>\n      </div>\n\n      <div class=gf-form ng-repeat="part in selectParts">\n        <query-part-editor class="gf-form-label query-part" part=part handle-event="ctrl.handleSelectPartEvent(selectParts, part, $event)">\n        </query-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <label class=dropdown dropdown-typeahead2=ctrl.selectMenu dropdown-typeahead-on-select="ctrl.addSelectPart(selectParts, $item, $subItem)" button-template-class="gf-form-label query-part">\n        </label>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">\n          <span>GROUP BY</span>\n        </label>\n\n        <query-part-editor ng-repeat="part in ctrl.queryModel.groupByParts" part=part class="gf-form-label query-part" handle-event="ctrl.handleGroupByPartEvent(part, $index, $event)">\n        </query-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <metric-segment segment=ctrl.groupBySegment get-options=ctrl.getGroupByOptions() on-change="ctrl.groupByAction(part, $index)"></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline ng-if="ctrl.target.orderByTime === \'DESC\'">\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">ORDER BY</label>\n        <label class="gf-form-label pointer" ng-click=ctrl.removeOrderByTime()>time <span class=query-keyword>DESC</span> <i class="fa fa-remove"></i></label>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline ng-if=ctrl.target.limit>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">LIMIT</label>\n        <input type=text class="gf-form-input width-9" ng-model=ctrl.target.limit spellcheck=false placeholder="No Limit" ng-blur=ctrl.refresh() />\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline ng-if=ctrl.target.slimit>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">SLIMIT</label>\n        <input type=text class="gf-form-input width-9" ng-model=ctrl.target.slimit spellcheck=false placeholder="No Limit" ng-blur=ctrl.refresh() />\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline ng-if=ctrl.target.tz>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">tz</label>\n        <input type=text class="gf-form-input width-9" ng-model=ctrl.target.tz spellcheck=false placeholder="No Timezone" ng-blur=ctrl.refresh() />\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">FORMAT AS</label>\n        <div class=gf-form-select-wrapper>\n          <select class="gf-form-input gf-size-auto" ng-model=ctrl.target.resultFormat ng-options="f.value as f.text for f in ctrl.resultFormats" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline ng-hide="ctrl.target.resultFormat === \'table\'">\n      <div class="gf-form max-width-30">\n        <label class="gf-form-label query-keyword width-7">ALIAS BY</label>\n        <input type=text class=gf-form-input ng-model=ctrl.target.alias spellcheck=false placeholder="Naming pattern" ng-blur=ctrl.refresh() />\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n  </div>\n</query-editor-row>\n')}]),e.exports=n},"/XDc":function(e,t){var n="public/app/plugins/panel/graph/tab_legend.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n\t<div class="section gf-form-group">\n\t\t<h5 class=section-heading>Options</h5>\n\t\t<gf-form-switch class=gf-form label=Show label-class=width-7 checked=ctrl.panel.legend.show on-change=ctrl.render()>\n\t\t</gf-form-switch>\n\t\t<gf-form-switch class=gf-form label="As Table" label-class=width-7 checked=ctrl.panel.legend.alignAsTable on-change=ctrl.render()>\n\t\t</gf-form-switch>\n\t\t<gf-form-switch class=gf-form label="To the right" label-class=width-7 checked=ctrl.panel.legend.rightSide on-change=ctrl.render()>\n\t\t</gf-form-switch>\n\t\t<div ng-if=ctrl.panel.legend.rightSide class=gf-form>\n\t\t\t<label class="gf-form-label width-7">Width</label>\n\t\t\t<input type=number class="gf-form-input max-width-5" placeholder=250 bs-tooltip="\'Set a min-width for the legend side table/block\'" data-placement=right ng-model=ctrl.panel.legend.sideWidth ng-change=ctrl.render() ng-model-onblur>\n\t\t</div>\n\t</div>\n\n\t<div class="section gf-form-group">\n\t\t<h5 class=section-heading>Values</h5>\n\n\t\t<div class=gf-form-inline>\n\t\t\t<gf-form-switch class=gf-form label=Min label-class=width-4 checked=ctrl.panel.legend.min on-change=ctrl.legendValuesOptionChanged()>\n\t\t\t</gf-form-switch>\n\n\t\t\t<gf-form-switch class="gf-form max-width-12" label=Max label-class=width-6 switch-class=max-width-5 checked=ctrl.panel.legend.max on-change=ctrl.legendValuesOptionChanged()>\n\t\t\t</gf-form-switch>\n\t\t</div>\n\n\t\t<div class=gf-form-inline>\n\t\t\t<gf-form-switch class=gf-form label=Avg label-class=width-4 checked=ctrl.panel.legend.avg on-change=ctrl.legendValuesOptionChanged()>\n\t\t\t</gf-form-switch>\n\n\t\t\t<gf-form-switch class="gf-form max-width-12" label=Current label-class=width-6 switch-class=max-width-5 checked=ctrl.panel.legend.current on-change=ctrl.legendValuesOptionChanged()>\n\t\t\t</gf-form-switch>\n\t\t</div>\n\n\t\t<div class=gf-form-inline>\n\t\t\t<gf-form-switch class=gf-form label=Total label-class=width-4 checked=ctrl.panel.legend.total on-change=ctrl.legendValuesOptionChanged()>\n\t\t\t</gf-form-switch>\n\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">Decimals</label>\n\t\t\t\t<input type=number class="gf-form-input width-5" placeholder=auto bs-tooltip="\'Override automatic decimal precision for legend and tooltips\'" data-placement=right ng-model=ctrl.panel.decimals ng-change=ctrl.render() ng-model-onblur>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="section gf-form-group">\n\t\t<h5 class=section-heading>Hide series</h5>\n\t\t<gf-form-switch class=gf-form label="With only nulls" label-class=width-10 checked=ctrl.panel.legend.hideEmpty on-change=ctrl.render()>\n\t\t</gf-form-switch>\n\t\t<gf-form-switch class=gf-form label="With only zeros" label-class=width-10 checked=ctrl.panel.legend.hideZero on-change=ctrl.render()>\n\t\t</gf-form-switch>\n\t</div>\n</div>\n')}]),e.exports=n},"/YHu":function(e,t){var n="public/app/partials/modal.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-header>\n  <button type=button class=close data-dismiss=modal aria-hidden=true>×</button>\n  <h3>{{modal.title}}</h3>\n</div>\n<div class=modal-body>\n\n  <div ng-bind-html=modal.body></div>\n\n</div>\n<div class=modal-footer>\n  <button type=button class="btn btn-danger" ng-click=dismiss()>Close</button>\n</div>')}]),e.exports=n},"/r3D":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var a,r=n("mrSG"),i=n("CnP+");!function(e){e.Dashboard="dashboard",e.Explore="explore"}(a||(a={}));var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.init=function(e){},t.prototype.setRootPage=function(e,t){return this.root=e,this.rootNav=t,this},t.prototype.setComponentsFromLegacyExports=function(e){var t,n;if(e.ConfigCtrl&&(this.angularConfigCtrl=e.ConfigCtrl),this.meta&&this.meta.includes)try{for(var a=Object(r.__values)(this.meta.includes),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.type===i.b.page&&s.component){var l=e[s.component];if(!l){console.warn("App Page uses unknown component: ",s.component,this.meta);continue}this.angularPages||(this.angularPages={}),this.angularPages[s.component]=l}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t}(i.a)},"/vR/":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var a=n("J9Im"),r=n("e7Q0"),i=n.n(r).a;function o(e){var t=a.b.bootData.user.lightTheme?e.light:e.dark;return i.import(t+"!css")}},"0+gp":function(e,t){var n="public/app/features/plugins/partials/plugin_page.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-if=ctrl.navModel>\n  <page-header model=ctrl.navModel></page-header>\n\n  <div class=page-container>\n    <div ng-if=ctrl.page>\n      <plugin-component type=app-page>\n      </plugin-component>\n    </div>\n  </div>\n</div>\n\n<footer/>\n")}]),e.exports=n},"0HV/":function(e,t){},"0LRa":function(e,t){var n="public/app/features/alerting/partials/alert_tab.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-if=ctrl.panel.alert>\n  <div class="alert alert-error m-b-2" ng-show=ctrl.error>\n    <i class="fa fa-warning"></i> {{ctrl.error}}\n  </div>\n  <div class=panel-options-group>\n    <div class=panel-options-group__body>\n      <div class=gf-form-group>\n        <h4 class=section-heading>Rule</h4>\n        <div class=gf-form-inline>\n          <div class=gf-form>\n            <span class="gf-form-label width-6">Name</span>\n            <input type=text class="gf-form-input width-20" ng-model=ctrl.alert.name>\n          </div>\n          <div class=gf-form>\n            <span class="gf-form-label width-9">Evaluate every</span>\n            <input class="gf-form-input max-width-6" type=text ng-model=ctrl.alert.frequency ng-blur=ctrl.checkFrequency()>\n          </div>\n          <div class="gf-form max-width-11">\n            <label class="gf-form-label width-5">For</label>\n            <input type=text class="gf-form-input max-width-6 gf-form-input--has-help-icon" ng-model=ctrl.alert.for spellcheck=false placeholder=5m>\n            <info-popover mode=right-absolute>\n              If an alert rule has a configured For and the query violates the configured\n              threshold it\n              will first go from OK to Pending.\n              Going from OK to Pending Grafana will not send any notifications. Once the alert\n              rule\n              has\n              been firing for more than For duration, it will change to Alerting and send alert\n              notifications.\n            </info-popover>\n          </div>\n        </div>\n        <div class=gf-form ng-if=ctrl.frequencyWarning>\n          <label class="gf-form-label text-warning">\n            <i class="fa fa-warning"></i> {{ctrl.frequencyWarning}}\n          </label>\n        </div>\n      </div>\n\n      <div class=gf-form-group>\n        <h4 class=section-heading>Conditions</h4>\n        <div class=gf-form-inline ng-repeat="conditionModel in ctrl.conditionModels">\n          <div class=gf-form>\n            <metric-segment-model css-class="query-keyword width-5" ng-if=$index property=conditionModel.operator.type options=ctrl.evalOperators custom=false></metric-segment-model>\n            <span class="gf-form-label query-keyword width-5" ng-if="$index===0">WHEN</span>\n          </div>\n          <div class=gf-form>\n            <query-part-editor class="gf-form-label query-part width-9" part=conditionModel.reducerPart handle-event="ctrl.handleReducerPartEvent(conditionModel, $event)">\n            </query-part-editor>\n            <span class="gf-form-label query-keyword">OF</span>\n          </div>\n          <div class=gf-form>\n            <query-part-editor class="gf-form-label query-part" part=conditionModel.queryPart handle-event="ctrl.handleQueryPartEvent(conditionModel, $event)">\n            </query-part-editor>\n          </div>\n          <div class=gf-form>\n            <metric-segment-model property=conditionModel.evaluator.type options=ctrl.evalFunctions custom=false css-class=query-keyword on-change=ctrl.evaluatorTypeChanged(conditionModel.evaluator)></metric-segment-model>\n            <input class="gf-form-input max-width-9" type=number step=any ng-hide="conditionModel.evaluator.params.length === 0" ng-model=conditionModel.evaluator.params[0] ng-change=ctrl.evaluatorParamsChanged() />\n            <label class="gf-form-label query-keyword" ng-show="conditionModel.evaluator.params.length === 2">TO</label>\n            <input class="gf-form-input max-width-9" type=number step=any ng-if="conditionModel.evaluator.params.length === 2" ng-model=conditionModel.evaluator.params[1] ng-change=ctrl.evaluatorParamsChanged() />\n          </div>\n          <div class=gf-form>\n            <label class=gf-form-label>\n              <a class=pointer tabindex=1 ng-click=ctrl.removeCondition($index)>\n                <i class="fa fa-trash"></i>\n              </a>\n            </label>\n          </div>\n        </div>\n\n        <div class=gf-form>\n          <label class="gf-form-label dropdown">\n            <a class="pointer dropdown-toggle" data-toggle=dropdown>\n              <i class="fa fa-plus"></i>\n            </a>\n            <ul class=dropdown-menu role=menu>\n              <li ng-repeat="ct in ctrl.conditionTypes" role=menuitem>\n                <a ng-click=ctrl.addCondition(ct.value);>{{ct.text}}</a>\n              </li>\n            </ul>\n          </label>\n        </div>\n      </div>\n\n      <div class=gf-form-group>\n        <h4 class=section-heading>No Data & Error Handling</h4>\n        <div class=gf-form-inline>\n          <div class=gf-form>\n            <span class="gf-form-label width-15">If no data or all values are null</span>\n          </div>\n          <div class=gf-form>\n            <span class="gf-form-label query-keyword">SET STATE TO</span>\n            <div class=gf-form-select-wrapper>\n              <select class=gf-form-input ng-model=ctrl.alert.noDataState ng-options="f.value as f.text for f in ctrl.noDataModes">\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <div class=gf-form-inline>\n          <div class=gf-form>\n            <span class="gf-form-label width-15">If execution error or timeout</span>\n          </div>\n          <div class=gf-form>\n            <span class="gf-form-label query-keyword">SET STATE TO</span>\n            <div class=gf-form-select-wrapper>\n              <select class=gf-form-input ng-model=ctrl.alert.executionErrorState ng-options="f.value as f.text for f in ctrl.executionErrorModes">\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=panel-options-group>\n    <div class=panel-options-group__header>Notifications</div>\n    <div class=panel-options-group__body>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <span class="gf-form-label width-8">Send to</span>\n        </div>\n        <div class=gf-form ng-repeat="nc in ctrl.alertNotifications">\n          <span class=gf-form-label ng-style="{\'background-color\': nc.bgColor }">\n            <i class={{nc.iconClass}}></i>&nbsp;{{nc.name}}&nbsp;\n            <i class="fa fa-remove pointer muted" ng-click=ctrl.removeNotification(nc) ng-if="nc.isDefault === false"></i>\n          </span>\n        </div>\n        <div class=gf-form>\n          <metric-segment segment=ctrl.addNotificationSegment get-options=ctrl.getNotifications() on-change=ctrl.notificationAdded()></metric-segment>\n        </div>\n      </div>\n      <div class="gf-form gf-form--v-stretch">\n        <span class="gf-form-label width-8">Message</span>\n        <textarea class=gf-form-input rows=10 ng-model=ctrl.alert.message placeholder="Notification message details..."></textarea>\n      </div>\n      <div class=gf-form>\n        <span class="gf-form-label width-8">Tags</span>\n        <div class=gf-form-group>\n          <div class=gf-form-inline ng-repeat="(name, value) in ctrl.alert.alertRuleTags">\n            <label class="gf-form-label width-15">{{ name }}</label>\n            <input class="gf-form-input width-15" placeholder="Tag value..." ng-model=ctrl.alert.alertRuleTags[name] type=text />\n            <label class=gf-form-label>\n              <a class=pointer tabindex=1 ng-click=ctrl.removeAlertRuleTag(name)>\n                <i class="fa fa-trash"></i>\n              </a>\n            </label>\n          </div>\n          <div class=gf-form-group>\n            <div class=gf-form-inline>\n              <div class=gf-form>\n                <input class="gf-form-input width-15" placeholder="New tag name..." ng-model=ctrl.newAlertRuleTag.name type=text>\n                <input class="gf-form-input width-15" placeholder="New tag value..." ng-model=ctrl.newAlertRuleTag.value type=text>\n              </div>\n            </div>\n            <div class=gf-form>\n              <label class=gf-form-label>\n                <a class=pointer tabindex=1 ng-click=ctrl.addAlertRuleTag()>\n                  <i class="fa fa-plus"></i>&nbsp;Add Tag\n                </a>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},"0Mjz":function(e,t,n){"use strict";
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
function a(e,t){return t&&Object.keys(t).length>0&&(e+="?"+i(t)),e}function r(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function i(e){var t=[],n=/\[\]$/,a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]="boolean"!=typeof n?r(e,!0)+"="+r(n,!0):r(e,!0)},o=function(e,r){var s,l,c;if(e)if(a(r))for(s=0,l=r.length;s<l;s++)n.test(e)?i(e,r[s]):o(e,r[s]);else if(r&&"[object Object]"===String(r))for(c in r)o(e+"["+c+"]",r[c]);else i(e,r);else if(a(r))for(s=0,l=r.length;s<l;s++)i(r[s].name,r[s].value);else for(c in r)o(c,r[c]);return t};return o("",e).join("&")}function o(e,t){if(null!=t&&""!==t){var n=e.indexOf("?");-1!==n?e.length-n>1&&(e+="&"):e+="?",e+=t}return e}n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o})},"0Rz9":function(e,t){},"0X5I":function(e,t){
/*!
 * jquery.flot.gauge v1.1.0 *
 *
 * Flot plugin for rendering gauge charts.
 *
 * Copyright (c) 2015 @toyoty99.
 * Licensed under the MIT license.
 */
!function(e){var t=function(){var t,i,o,s,l,c=function(e,a){t=a,i=e.getPlaceholder(),o=e.getOptions(),s=o.series.gauges,l=e.getData(),n(s.debug)};function u(e,t){"auto"===e.gauge.width&&(e.gauge.width=Math.max(5,t/8)),"auto"===e.label.margin&&(e.label.margin=Math.max(1,t/20)),"auto"===e.label.font.size&&(e.label.font.size=Math.max(5,t/8)),"auto"===e.value.margin&&(e.value.margin=Math.max(1,t/30)),"auto"===e.value.font.size&&(e.value.font.size=Math.max(5,t/9)),"auto"===e.threshold.width&&(e.threshold.width=Math.max(3,t/100)),"auto"===e.threshold.label.margin&&(e.threshold.label.margin=Math.max(3,t/40)),"auto"===e.threshold.label.font.size&&(e.threshold.label.font.size=Math.max(5,t/15))}function d(e,t,n){var a=e.gauge.startAngle+(e.gauge.endAngle-e.gauge.startAngle)*((n-e.gauge.min)/(e.gauge.max-e.gauge.min));return a<e.gauge.startAngle?a=e.gauge.startAngle:a>e.gauge.endAngle&&(a=e.gauge.endAngle),a}function p(e,n,a,i,o,s,l,c,u,d){o!==s&&(t.save(),r(t,e,n,a,i,o,s,l,c,u),d&&(r(t,e,n,a,i,o,s),t.clip(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=10,t.shadowColor="gray",r(t,e,n,a+1,i+2,o,s,l,1)),t.restore())}function f(e,t,n,r,i,o){h(n.cx+(t.thresholdLabelMargin+t.thresholdLabelFontSize/2+t.radius)*Math.cos(a(o)),n.cy+(t.thresholdLabelMargin+t.thresholdLabelFontSize/2+t.radius)*Math.sin(a(o)),"flotGagueThresholdValue"+r,e.threshold.label.formatter?e.threshold.label.formatter(i):i,e.threshold.label,o)}function h(t,n,a,r,o,s){var l=e(i).find("#"+a),c=l.length;c||((l=e("<span></span>")).attr("id",a),l.attr("class","flot-temp-elem"),i.append(l)),l.css("position","absolute"),l.css("top",n+"px"),l.css("white-space","nowrap"),o.font.size&&l.css("font-size",o.font.size+"px"),o.font.family&&l.css("font-family",o.font.family),o.color&&l.css("color",o.color),o.background.color&&l.css("background-color",o.background.color),o.background.opacity&&l.css("opacity",o.background.opacity),l.text(r),l.css("left",t+"px"),l.css("left",parseInt(l.css("left"))-l.width()/2+"px"),!c&&s&&(l.css("top",parseInt(l.css("top"))-l.height()/2+"px"),l.css("transform","rotate("+(180*s+90)+"deg)"))}return c.prototype.calculateLayout=function(){var e=i.width(),t=i.height(),n=Math.min(l.length,s.layout.columns),r=Math.ceil(l.length/n),o=s.layout.margin,c=s.layout.hMargin,d=s.layout.vMargin,p=(e-2*o-c*(n-1))/n,f=(t-2*o-d*(r-1))/r;if(s.layout.square){var h=Math.min(p,f);p=h,f=h}u(s,p);var m=s.cell.margin,g=0,b=0;s.label.show&&(g=s.label.margin,b=s.label.font.size);var v=0,y=0;s.value.show&&(v=s.value.margin,y=s.value.font.size);var w=0;s.threshold.show&&(w=s.threshold.width);var x=0,O=0;s.threshold.label.show&&(x=s.threshold.label.margin,O=s.threshold.label.font.size);for(var _=p/2-m-w-2*x-O,k=s.gauge.startAngle,j=s.gauge.endAngle,C=(j-k)/100,S=-1,E=k;E<j;E+=C)S=Math.max(S,Math.sin(a(E)));var T=(f-2*m-2*g-b)/(1+(S=Math.max(S,Math.sin(a(j)))));T*S<v+y/2&&(T=f-2*m-2*g-b-v-y/2);var M=T-2*x-O-w,A=Math.min(_,M),N=s.gauge.width;N>=A&&(N=Math.max(3,A/3));var D=2*x+O+w+A;return{canvasWidth:e,canvasHeight:t,margin:o,hMargin:c,vMargin:d,columns:n,rows:r,cellWidth:p,cellHeight:f,cellMargin:m,labelMargin:g,labelFontSize:b,valueMargin:v,valueFontSize:y,width:N,radius:A,thresholdWidth:w,thresholdLabelMargin:x,thresholdLabelFontSize:O,gaugeOuterHeight:Math.max(D*(1+S),D+v+y/2)}},c.prototype.calculateAutoValues=u,c.prototype.calculateCellLayout=function(e,t,n){var a=function(e,t){return t%e}(t.columns,n),r=function(e,t){return Math.floor(t/e)}(t.columns,n),i=t.margin+(t.cellWidth+t.hMargin)*a,o=t.margin+(t.cellHeight+t.vMargin)*r,s=i+t.cellWidth/2,l=o+t.cellMargin+2*t.labelMargin+t.labelFontSize+t.thresholdWidth+t.thresholdLabelFontSize+2*t.thresholdLabelMargin+t.radius,c=t.cellHeight-2*t.cellMargin-2*t.labelMargin-t.labelFontSize-t.gaugeOuterHeight,u=0;return"middle"===e.cell.vAlign?u=c/2:"bottom"===e.cell.vAlign&&(u=c),l+=u,{col:a,row:r,x:i,y:o,offsetY:u,cellWidth:t.cellWidth,cellHeight:t.cellHeight,cellMargin:t.cellMargin,cx:s,cy:l}},c.prototype.drawBackground=function(e){s.frame.show&&(t.save(),t.strokeStyle=o.grid.borderColor,t.lineWidth=o.grid.borderWidth,t.strokeRect(0,0,e.canvasWidth,e.canvasHeight),o.grid.backgroundColor&&(t.fillStyle=o.grid.backgroundColor,t.fillRect(0,0,e.canvasWidth,e.canvasHeight)),t.restore())},c.prototype.drawCellBackground=function(e,n){t.save(),e.cell.border&&e.cell.border.show&&e.cell.border.color&&e.cell.border.width&&(t.strokeStyle=e.cell.border.color,t.lineWidth=e.cell.border.width,t.strokeRect(n.x,n.y,n.cellWidth,n.cellHeight)),e.cell.background&&e.cell.background.color&&(t.fillStyle=e.cell.background.color,t.fillRect(n.x,n.y,n.cellWidth,n.cellHeight)),t.restore()},c.prototype.drawGauge=function(e,t,n,r,i){var o=e.gauge.shadow.show?e.gauge.shadow.blur:0;p(n.cx,n.cy,t.radius,t.width,a(e.gauge.startAngle),a(e.gauge.endAngle),e.gauge.border.color,e.gauge.border.width,e.gauge.background.color,o);var s=function(e,t){for(var n,a=0;a<e.threshold.values.length;a++){var r=e.threshold.values[a];if(n=r.color,t<r.value)break}return n}(e,i),l=d(e,t,i);p(n.cx,n.cy,t.radius-1,t.width-2,a(e.gauge.startAngle),a(l),s,1,s,o)},c.prototype.drawThreshold=function(e,n,i){for(var o=e.gauge.startAngle,s=0;s<e.threshold.values.length;s++){var l=e.threshold.values[s];c1=l.color,a2=d(e,0,l.value),r(t,i.cx,i.cy,n.radius+n.thresholdWidth,n.thresholdWidth-2,a(o),a(a2),c1,1,c1),o=a2}},c.prototype.drawLable=function(e,t,n,a,r){h(n.cx,n.y+n.cellMargin+t.labelMargin+n.offsetY,"flotGagueLabel"+a,e.label.formatter?e.label.formatter(r.label,r.data[0][1]):text,e.label)},c.prototype.drawValue=function(e,t,n,a,r){h(n.cx,n.cy-e.value.font.size/2,"flotGagueValue"+a,e.value.formatter?e.value.formatter(r.label,r.data[0][1]):text,e.value)},c.prototype.drawThresholdValues=function(e,t,n,a){f(e,t,n,"Min"+a,e.gauge.min,e.gauge.startAngle),f(e,t,n,"Max"+a,e.gauge.max,e.gauge.endAngle);for(var r=0;r<e.threshold.values.length;r++){var i=e.threshold.values[r];if(i.value>e.gauge.min&&i.value<e.gauge.max){var o=d(e,0,i.value);f(e,t,n,a+"_"+r,i.value,o)}}},c}();function n(e){return"undefined"!=typeof Logger?new Logger(e):null}function a(e){return e*Math.PI}function r(e,t,n,a,r,i,o,s,l,c){if(i!==o){e.save(),e.beginPath(),e.arc(t,n,a,i,o,!1),e.lineTo(t+(a-r)*Math.cos(o),n+(a-r)*Math.sin(o)),e.arc(t,n,a-r,o,i,!0),e.closePath(),l&&(e.lineWidth=l),s&&(e.strokeStyle=s,e.stroke()),c&&(e.fillStyle=c,e.fill()),e.restore()}}var i={series:{gauges:{debug:{log:!1,layout:!1,alert:!1},show:!1,layout:{margin:5,columns:3,hMargin:5,vMargin:5,square:!1},frame:{show:!0},cell:{background:{color:null},border:{show:!0,color:"black",width:1},margin:5,vAlign:"middle"},gauge:{width:"auto",startAngle:.9,endAngle:2.1,min:0,max:100,background:{color:"white"},border:{color:"lightgray",width:2},shadow:{show:!0,blur:5}},label:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:"sans-serif"},color:null,formatter:function(e,t){return e}},value:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:"sans-serif"},color:null,formatter:function(e,t){return parseInt(t)}},threshold:{show:!0,width:"auto",label:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:",sans-serif"},color:null,formatter:function(e){return e}},values:[]}}}};e.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(e,t){n(t.series.gauges.debug),t.series.gauges.show&&(t.grid.show=!1,t.legend.show=!1),t.series.gauges.threshold.values.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})}),a.hooks.draw.push(function(a,r){var i=a.getOptions().series.gauges;if(n(i.debug),i.show){var o=a.getData();if(o&&o.length){var s=new t(a,r),l=s.calculateLayout();i.debug.layout,s.drawBackground(l);for(var c=0;c<o.length;c++){var u=o[c],d=e.extend({},i,u.gauges);u.gauges&&s.calculateAutoValues(d,l.cellWidth);var p=s.calculateCellLayout(d,l,c);s.drawCellBackground(d,p),d.debug.layout,d.label.show&&s.drawLable(d,l,p,c,u),s.drawGauge(d,l,p,u.label,u.data[0][1]),d.threshold.show&&s.drawThreshold(d,l,p),d.threshold.label.show&&s.drawThresholdValues(d,l,p,c),d.value.show&&s.drawValue(d,l,p,c,u)}}}})},options:i,name:"gauge",version:"1.1.0"})}(jQuery)},"0ZQg":function(e,t){var n="public/app/plugins/panel/alertlist/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=panel-alert-list>\n  <div class=panel-alert-list__no-alerts ng-show=ctrl.noAlertsMessage>\n    {{ctrl.noAlertsMessage}}\n  </div>\n\n  <section ng-if="ctrl.panel.show === \'current\'">\n    <ol class=alert-rule-list>\n      <li class=alert-rule-item ng-repeat="alert in ctrl.currentAlerts">\n        <div class="alert-rule-item__icon {{alert.stateModel.stateClass}}">\n          <i class={{alert.stateModel.iconClass}}></i>\n        </div>\n        <div class=alert-rule-item__body>\n          <div class=alert-rule-item__header>\n            <p class=alert-rule-item__name>\n              <a href="{{alert.url}}?panelId={{alert.panelId}}&fullscreen&edit&tab=alert">\n                {{alert.name}}\n              </a>\n            </p>\n            <div class=alert-rule-item__text>\n              <span class={{alert.stateModel.stateClass}}>{{alert.stateModel.text}}</span>\n              <span class=alert-rule-item__time>for {{alert.newStateDateAgo}}</span>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ol>\n  </section>\n\n  <section ng-if="ctrl.panel.show === \'changes\'">\n    <ol class=alert-rule-list>\n      <li class=alert-rule-item ng-repeat="al in ctrl.alertHistory">\n        <div class="alert-rule-item__icon {{al.stateModel.stateClass}}">\n          <i class={{al.stateModel.iconClass}}></i>\n        </div>\n        <div class=alert-rule-item__body>\n          <div class=alert-rule-item__header>\n            <p class=alert-rule-item__name>{{al.alertName}}</p>\n            <div class=alert-rule-item__text>\n              <span class={{al.stateModel.stateClass}}>{{al.stateModel.text}}</span>\n            </div>\n          </div>\n          <span class=alert-rule-item__info>{{al.info}}</span>\n        </div>\n        <div class=alert-rule-item__time>\n          <span>{{al.time}}</span>\n        </div>\n      </li>\n    </ol>\n  </section>\n</div>\n')}]),e.exports=n},"0bcw":function(e,t){var n="public/app/partials/valueSelectDropdown.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=variable-link-wrapper>\n  <a ng-click=vm.show() class=variable-value-link aria-label={{vm.selectors.submenuItemValueDropDownValueLinkTexts(vm.linkText)}}>\n    {{vm.linkText}}\n    <span ng-repeat="tag in vm.selectedTags" bs-tooltip=tag.valuesText data-placement=bottom>\n      <span class=label-tag tag-color-from-name=tag.text>\n        &nbsp;&nbsp;<i class="fa fa-tag"></i>&nbsp; {{tag.text}}\n      </span>\n    </span>\n    <i class="fa fa-caret-down" style=font-size:12px></i>\n  </a>\n\n  <input type=text class=gf-form-input style=display:none ng-keydown=vm.keyDown($event) ng-model=vm.search.query ng-change=vm.debouncedQueryChanged() />\n\n  <div class=variable-value-dropdown ng-if=vm.dropdownVisible ng-class="{\'multi\': vm.variable.multi, \'single\': !vm.variable.multi}" aria-label={{::vm.selectors.submenuItemValueDropDownDropDown}}>\n    <div class=variable-options-wrapper>\n      <div class=variable-options-column>\n        <a class=variable-options-column-header ng-if=vm.variable.multi ng-class="{\'many-selected\': vm.selectedValues.length > 1}" bs-tooltip="\'Clear selections\'" data-placement=top ng-click=vm.clearSelections()>\n          <span class=variable-option-icon></span>\n          Selected ({{vm.selectedValues.length}})\n        </a>\n        <a class="variable-option pointer" ng-repeat="option in vm.search.options" ng-class="{\'selected\': option.selected, \'highlighted\': $index === vm.highlightIndex}" ng-click="vm.selectValue(option, $event)">\n          <span class=variable-option-icon></span>\n          <span aria-label={{vm.selectors.submenuItemValueDropDownOptionTexts(option.text)}}>{{option.text}}</span>\n        </a>\n      </div>\n      <div class=variable-options-column ng-if=vm.tags.length>\n        <div class="variable-options-column-header text-center">\n          Tags\n        </div>\n        <a class="variable-option-tag pointer" ng-repeat="tag in vm.tags" ng-click="vm.selectTag(tag, $event)" ng-class="{\'selected\': tag.selected}">\n          <span class="fa fa-fw variable-option-icon"></span>\n          <span class=label-tag tag-color-from-name=tag.text>{{tag.text}}&nbsp;&nbsp;<i class="fa fa-tag"></i>&nbsp;</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},"0mC0":function(e,t,n){"use strict";(function(e){var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("0cfB"),s=n("/MKj"),l=n("lzJ5"),c=n("X+V3"),u=n("ZFWI"),d=n("ZGyg"),p=n("+99A"),f=n("nvwu"),h=n("SH6B"),m=n("2k1X"),g=n("sAJe"),b=n("9XWl"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onUserUpdate=function(e){t.props.updateUser(e)},t.onPasswordChange=function(e){var n=t.props,a=n.userId;(0,n.setUserPassword)(a,e)},t.onUserDelete=function(e){t.props.deleteUser(e)},t.onUserDisable=function(e){t.props.disableUser(e)},t.onUserEnable=function(e){t.props.enableUser(e)},t.onGrafanaAdminChange=function(e){var n=t.props,a=n.userId;(0,n.updateUserPermissions)(a,e)},t.onOrgRemove=function(e){var n=t.props,a=n.userId;(0,n.deleteOrgUser)(a,e)},t.onOrgRoleChange=function(e,n){var a=t.props,r=a.userId;(0,a.updateOrgUserRole)(r,e,n)},t.onOrgAdd=function(e,n){var a=t.props,r=a.user;(0,a.addOrgUser)(r,e,n)},t.onSessionRevoke=function(e){var n=t.props,a=n.userId;(0,n.revokeSession)(e,a)},t.onAllSessionsRevoke=function(){var e=t.props,n=e.userId;(0,e.revokeAllSessions)(n)},t.onUserSync=function(){var e=t.props,n=e.userId;(0,e.syncLdapUser)(n)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(a.__generator)(this,function(n){return e=this.props,t=e.userId,(0,e.loadAdminUserPage)(t),[2]})})},t.prototype.render=function(){var e=this.props,t=e.navModel,n=e.user,a=e.orgs,r=e.sessions,o=e.ldapSyncInfo,s=e.isLoading,l=n&&n.isExternal&&n.authLabels&&n.authLabels.includes("LDAP");return i.a.createElement(d.a,{navModel:t},i.a.createElement(d.a.Contents,{isLoading:s},n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{user:n,onUserUpdate:this.onUserUpdate,onUserDelete:this.onUserDelete,onUserDisable:this.onUserDisable,onUserEnable:this.onUserEnable,onPasswordChange:this.onPasswordChange}),l&&u.b.licenseInfo.hasLicense&&o&&i.a.createElement(m.a,{ldapSyncInfo:o,user:n,onUserSync:this.onUserSync}),i.a.createElement(f.a,{isGrafanaAdmin:n.isGrafanaAdmin,onGrafanaAdminChange:this.onGrafanaAdminChange})),a&&i.a.createElement(b.a,{orgs:a,onOrgRemove:this.onOrgRemove,onOrgRoleChange:this.onOrgRoleChange,onOrgAdd:this.onOrgAdd}),r&&i.a.createElement(h.a,{sessions:r,onSessionRevoke:this.onSessionRevoke,onAllSessionsRevoke:this.onAllSessionsRevoke})))},t}(r.PureComponent),y={loadAdminUserPage:g.h,updateUser:g.q,setUserPassword:g.n,disableUser:g.f,enableUser:g.g,deleteUser:g.e,updateUserPermissions:g.r,addOrgUser:g.a,updateOrgUserRole:g.p,deleteOrgUser:g.d,revokeSession:g.m,revokeAllSessions:g.l,syncLdapUser:g.o};t.a=Object(o.hot)(e)(Object(s.connect)(function(e){return{userId:Object(c.a)(e.location),navModel:Object(l.a)(e.navIndex,"global-users"),user:e.userAdmin.user,sessions:e.userAdmin.sessions,orgs:e.userAdmin.orgs,ldapSyncInfo:e.ldap.syncInfo,isLoading:e.userAdmin.isLoading,error:e.userAdmin.error}},y)(v))}).call(this,n("3UD+")(e))},"0pSv":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=function(e){var t=e.info,n=e.showAttributeMapping;return r.a.createElement("div",{className:"gf-form-group"},r.a.createElement("div",{className:"gf-form"},r.a.createElement("table",{className:"filter-table form-inline"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2},"User information"),n&&r.a.createElement("th",null,"LDAP attribute"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"width-16"},"First name"),r.a.createElement("td",null,t.name.ldapValue),n&&r.a.createElement("td",null,t.name.cfgAttrValue)),r.a.createElement("tr",null,r.a.createElement("td",{className:"width-16"},"Surname"),r.a.createElement("td",null,t.surname.ldapValue),n&&r.a.createElement("td",null,t.surname.cfgAttrValue)),r.a.createElement("tr",null,r.a.createElement("td",{className:"width-16"},"Username"),r.a.createElement("td",null,t.login.ldapValue),n&&r.a.createElement("td",null,t.login.cfgAttrValue)),r.a.createElement("tr",null,r.a.createElement("td",{className:"width-16"},"Email"),r.a.createElement("td",null,t.email.ldapValue),n&&r.a.createElement("td",null,t.email.cfgAttrValue))))))},o=function(e){var t=e.permissions;return r.a.createElement("div",{className:"gf-form-group"},r.a.createElement("div",{className:"gf-form"},r.a.createElement("table",{className:"filter-table form-inline"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:1},"Permissions"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"width-16"}," Grafana admin"),r.a.createElement("td",null,t.isGrafanaAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"gicon gicon-shield"})," Yes"):"No")),r.a.createElement("tr",null,r.a.createElement("td",{className:"width-16"},"Status"),r.a.createElement("td",null,t.isDisabled?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-fw fa-times"})," Inactive"):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-fw fa-check"})," Active")))))))},s=n("kDLi"),l=function(e){var t=e.groups,n=e.showAttributeMapping,a=n?t:t.filter(function(e){return e.orgRole});return r.a.createElement("div",{className:"gf-form-group"},r.a.createElement("div",{className:"gf-form"},r.a.createElement("table",{className:"filter-table form-inline"},r.a.createElement("thead",null,r.a.createElement("tr",null,n&&r.a.createElement("th",null,"LDAP Group"),r.a.createElement("th",null,"Organization",r.a.createElement(s.Tooltip,{placement:"top",content:"Only the first match for an Organization will be used",theme:"info"},r.a.createElement("span",{className:"gf-form-help-icon"},r.a.createElement("i",{className:"fa fa-info-circle"})))),r.a.createElement("th",null,"Role"))),r.a.createElement("tbody",null,a.map(function(e,t){return r.a.createElement("tr",{key:e.orgId+"-"+t},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.groupDN),!e.orgRole&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("span",{className:"text-warning"},"No match",r.a.createElement(s.Tooltip,{placement:"top",content:"No matching groups found",theme:"info"},r.a.createElement("span",{className:"gf-form-help-icon"},r.a.createElement("i",{className:"fa fa-info-circle"}))))))),e.orgName&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.orgName),r.a.createElement("td",null,e.orgRole)))})))))},c=function(e){var t=e.teams,n=e.showAttributeMapping,a=n?t:t.filter(function(e){return e.teamName});return r.a.createElement("div",{className:"gf-form-group"},r.a.createElement("div",{className:"gf-form"},r.a.createElement("table",{className:"filter-table form-inline"},r.a.createElement("thead",null,r.a.createElement("tr",null,n&&r.a.createElement("th",null,"LDAP Group"),r.a.createElement("th",null,"Organisation"),r.a.createElement("th",null,"Team"))),r.a.createElement("tbody",null,a.map(function(e,t){return r.a.createElement("tr",{key:e.teamName+"-"+t},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.groupDN),!e.orgName&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("div",{className:"text-warning"},"No match",r.a.createElement(s.Tooltip,{placement:"top",content:"No matching teams found",theme:"info"},r.a.createElement("span",{className:"gf-form-help-icon"},r.a.createElement("i",{className:"fa fa-info-circle"}))))))),e.orgName&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.orgName),r.a.createElement("td",null,e.teamName)))})))))};n.d(t,"a",function(){return u});var u=function(e){var t=e.ldapUser,n=e.showAttributeMapping;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{info:t.info,showAttributeMapping:n}),r.a.createElement(o,{permissions:t.permissions}),t.roles&&t.roles.length>0&&r.a.createElement(l,{groups:t.roles,showAttributeMapping:n}),t.teams&&t.teams.length>0?r.a.createElement(c,{teams:t.teams,showAttributeMapping:n}):r.a.createElement("div",{className:"gf-form-group"},r.a.createElement("div",{className:"gf-form"},r.a.createElement("table",{className:"filter-table form-inline"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"No teams found via LDAP")))))))}},"0uOV":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){function e(e){this.buffer=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.buffer.push(e)},e.prototype.get=function(e){return this.buffer[e]},e.prototype.set=function(e,t){this.buffer[e]=t},e.prototype.reverse=function(){this.buffer.reverse()},e.prototype.toArray=function(){return this.buffer},e.prototype.toJSON=function(){return this.buffer},e}()},"0v62":function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"h",function(){return w}),n.d(t,"b",function(){return x}),n.d(t,"a",function(){return O}),n.d(t,"k",function(){return _});var a=n("mrSG"),r=n("LvDl"),i=n("KgU3"),o=n("tAX7"),s=n("lhB2"),l=n("0uOV"),c=n("ir79"),u=n("YmbM");var d=/^\s*(-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?|NAN)\s*$/i;function p(e){return Object(r.isNumber)(e)?i.FieldType.number:Object(r.isString)(e)?d.test(e)?i.FieldType.number:"true"===e||"TRUE"===e||"True"===e||"false"===e||"FALSE"===e||"False"===e?i.FieldType.boolean:i.FieldType.string:Object(r.isBoolean)(e)?i.FieldType.boolean:e instanceof Date||Object(o.f)(e)?i.FieldType.time:i.FieldType.other}function f(e){if(e.name){var t=e.name.toLowerCase();if("date"===t||"time"===t)return i.FieldType.time}for(var n=0;n<e.values.length;n++){var a=e.values.get(n);if(null!==a)return p(a)}}var h=function(e){for(var t=0;t<e.fields.length;t++)if(!e.fields[t].type)return Object(a.__assign)(Object(a.__assign)({},e),{fields:e.fields.map(function(e){return e.type&&e.type!==i.FieldType.other?e:Object(a.__assign)(Object(a.__assign)({},e),{type:f(e)||i.FieldType.other})})});return e},m=function(e){return e&&e.hasOwnProperty("columns")},g=function(e){return e&&e.hasOwnProperty("fields")},b=function(e){if(e.hasOwnProperty("fields")){if(e.hasOwnProperty("rows")){for(var t=new c.b(e),n=e.rows,o=0;o<n.length;o++)t.appendRow(n[o]);return Object(s.a)("DataFrame",".rows","columnar format"),t}return e.hasOwnProperty("length")?e:new c.b(e)}if(e.hasOwnProperty("type")&&"docs"===e.type)return function(e){var t,n,r=[{name:e.target,type:i.FieldType.other,labels:e.tags,config:{unit:e.unit,filterable:e.filterable},values:new l.a}];try{for(var o=Object(a.__values)(e.datapoints),s=o.next();!s.done;s=o.next()){var c=s.value;r[0].values.buffer.push(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{name:e.target,refId:e.target,meta:{json:!0},fields:r,length:e.datapoints.length}}(e);if(e.hasOwnProperty("datapoints"))return function(e){var t,n,r=[],o=[];try{for(var s=Object(a.__values)(e.datapoints),c=s.next();!c.done;c=s.next()){var u=c.value;o.push(u[0]),r.push(u[1])}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var d=[{name:e.target||"Value",type:i.FieldType.number,config:{unit:e.unit},values:new l.a(o),labels:e.tags},{name:"Time",type:i.FieldType.time,config:{},values:new l.a(r)}];return{name:e.target,refId:e.refId,meta:e.meta,fields:d,length:o.length}}(e);if(e.hasOwnProperty("data"))return function(e){for(var t=new l.a,n=new l.a,a=0;a<e.data.length;a++){var r=e.data[a];t.buffer.push(r[1]),n.buffer.push(r[0])}return{name:e.label,fields:[{name:e.label||"Value",type:i.FieldType.number,config:{},values:t},{name:"Time",type:i.FieldType.time,config:{unit:"dateTimeAsIso"},values:n}],length:t.buffer.length}}(e);if(e.hasOwnProperty("columns"))return function(e){var t,n,o,s,c=e.columns.map(function(e){return{name:e.text,config:Object(a.__rest)(e,["text"])||{},values:new l.a,type:i.FieldType.other}});if(!Object(r.isArray)(e.rows))throw new Error("Expected table rows to be array, got "+typeof e.rows+".");try{for(var u=Object(a.__values)(e.rows),d=u.next();!d.done;d=u.next())for(var p=d.value,h=0;h<c.length;h++)c[h].values.buffer.push(p[h])}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}try{for(var m=Object(a.__values)(c),g=m.next();!g.done;g=m.next()){var b=g.value,v=f(b);v&&(b.type=v)}}catch(e){o={error:e}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}return{fields:c,refId:e.refId,meta:e.meta,name:e.name,length:e.rows.length}}(e);throw console.warn("Can not convert",e),new Error("Unsupported data format")},v=function(e){for(var t=e.fields,n=e.length,r=[],o=0;o<n;o++){for(var s=[],l=0;l<t.length;l++)s.push(t[l].values.get(o));r.push(s)}if(2===t.length){var c=t[1].type;if(c||(c=f(t[1])||i.FieldType.other),c===i.FieldType.time)return{alias:t[0].name||e.name,target:t[0].name||e.name,datapoints:r,unit:t[0].config?t[0].config.unit:void 0,refId:e.refId,meta:e.meta}}return e.meta&&e.meta.json?{alias:t[0].name||e.name,target:t[0].name||e.name,datapoints:t[0].values.toArray(),filterable:t[0].config?t[0].config.filterable:void 0,type:"docs"}:{columns:t.map(function(e){var t=e.name,n=e.config;if(n){var r=Object(a.__rest)(n,[]);return r.text=t,r}return{text:t}}),type:"table",refId:e.refId,meta:e.meta,rows:r}};function y(e,t,n){void 0===n&&(n=!1);var r=e.fields[t];if(!r)return e;for(var o=[],s=0;s<e.length;s++)o.push(s);var l=r.values,c=function(e,t){return l.get(e)-l.get(t)};return r.type===i.FieldType.string&&(c=function(e,t){var n=l.get(e),a=l.get(t);return n.localeCompare(a)}),o.sort(c),n&&o.reverse(),Object(a.__assign)(Object(a.__assign)({},e),{fields:e.fields.map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{values:new u.a(e.values,o)})})})}function w(e){return Object(a.__assign)(Object(a.__assign)({},e),{fields:e.fields.map(function(e){var t=Object(a.__spread)(e.values.toArray());return t.reverse(),Object(a.__assign)(Object(a.__assign)({},e),{values:new l.a(t)})})})}var x=function(e){for(var t=0;t<e.fields.length;t++)if(e.fields[t].type===i.FieldType.time)return{timeField:e.fields[t],timeIndex:t};return{}};function O(e,t){var n,r,i=[];try{for(var o=Object(a.__values)(e.fields),s=o.next();!s.done;s=o.next()){var l=s.value;i.push(l.values.get(t))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function _(e){return{fields:e.fields.map(function(e){var t=e.values.toArray();if(!Array.isArray(t)){t=[];for(var n=0;n<e.values.length;n++)t.push(e.values.get(n))}return{name:e.name,type:e.type,config:e.config,values:t,labels:e.labels}}),refId:e.refId,meta:e.meta,name:e.name}}},"0xpV":function(e,t){!function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,t,n){if(null!=t.stack&&!1!==t.stack){var a=function(e,t){for(var n=null,a=0;a<t.length&&e!=t[a];++a)t[a].stack==e.stack&&(n=t[a]);return n}(t,e.getData());if(a){for(var r,i,o,s,l,c,u,d,p=n.pointsize,f=n.points,h=a.datapoints.pointsize,m=a.datapoints.points,g=[],b=t.lines.show,v=t.bars.horizontal,y=p>2&&(v?n.format[2].x:n.format[2].y),w=b&&t.lines.steps,x=v?1:0,O=v?0:1,_=0,k=0;!(_>=f.length&&k>=m.length);){if(u=g.length,_<f.length&&null==f[_]){for(d=0;d<p;++d)g.push(f[_+d]);_+=p}else if(_>=f.length){for(d=0;d<p;++d)g.push(m[k+d]);y&&(g[u+2]=m[k+O]),k+=h}else if(k>=m.length){for(d=0;d<p;++d)g.push(f[_+d]);_+=p}else if(k<m.length&&null==m[k])k+=h;else{if(r=f[_+x],i=f[_+O],s=m[k+x],l=m[k+O],c=0,r==s){for(d=0;d<p;++d)g.push(f[_+d]);g[u+O]+=l,c=l,_+=p,k+=h}else if(r>s){if(0==_){for(d=0;d<p;++d)g.push(m[k+d]);c=l}if(_>0&&null!=f[_-p]){for(o=i+(f[_-p+O]-i)*(s-r)/(f[_-p+x]-r),g.push(s),g.push(o+l),d=2;d<p;++d)g.push(f[_+d]);c=l}k+=h}else{for(d=0;d<p;++d)g.push(f[_+d]);k>0&&null!=m[k-h]&&(c=l+(m[k-h+O]-l)*(r-s)/(m[k-h+x]-s)),g[u+O]+=c,_+=p}fromgap=!1,u!=g.length&&y&&(g[u+2]=c)}if(w&&u!=g.length&&u>0&&null!=g[u]&&g[u]!=g[u-p]&&g[u+1]!=g[u-p+1]){for(d=0;d<p;++d)g[u+p+d]=g[u+d];g[u+1]=g[u-p+1]}}n.points=g}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})}()},"13X4":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("i7Pf"),s=n("0Mjz"),l={url:"",path:"",query:{},routeParams:{},replace:!1,lastUpdated:0},c=Object(o.b)("location/updateLocation"),u=function(e,t){if(void 0===e&&(e=l),c.match(t)){var n=t.payload,r=n.path,o=n.routeParams,u=n.replace,d=n.query||e.query;return n.partial&&(d=i.a.defaults(d,e.query),d=i.a.omitBy(d,i.a.isNull)),{url:Object(s.b)(r||e.path,d),path:r||e.path,query:Object(a.__assign)({},d),routeParams:o||e.routeParams,replace:!0===u,lastUpdated:(new Date).getTime()}}return e}},1524:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("uhBA"),r=function(){function e(){this.emitter=new a.EventEmitter}return e.prototype.emit=function(e,t){"string"==typeof e?(console.log("Using strings as events is deprecated and will be removed in a future version. ("+e+")"),this.emitter.emit(e,t)):this.emitter.emit(e.name,t)},e.prototype.on=function(e,t,n){var a=this;if("string"!=typeof e){if(this.emitter.on(e.name,t),n)var r=n.$on("$destroy",function(){a.emitter.off(e.name,t),r()})}else if(console.log("Using strings as events is deprecated and will be removed in a future version. ("+e+")"),this.emitter.on(e,t),n)var i=n.$on("$destroy",function(){a.emitter.off(e,t),i()})},e.prototype.off=function(e,t){if("string"==typeof e)return console.log("Using strings as events is deprecated and will be removed in a future version. ("+e+")"),void this.emitter.off(e,t);this.emitter.off(e.name,t)},e.prototype.removeAllListeners=function(e){this.emitter.removeAllListeners(e)},e.prototype.getEventCount=function(){return this.emitter._eventsCount},e}()},"1BU0":function(e,t,n){"use strict";var a,r;n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),function(e){e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error"}(a||(a={})),function(e){e.Null="null",e.Ignore="connected",e.AsZero="null as zero"}(r||(r={}))},"1VFa":function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a,r,i,o,s=n("mrSG"),l=n("q1tI"),c=n.n(l),u=n("ODSy"),d=n("Lrfw"),p=n("PAeb"),f=n("Fts8"),h=n("MIBK"),m=Object(h.g)(function(e){return{item:Object(p.css)(a||(a=Object(s.__makeTemplateObject)(["\n    padding-left: 10px;\n    display: flex;\n    font-size: ",";\n    white-space: nowrap;\n  "],["\n    padding-left: 10px;\n    display: flex;\n    font-size: ",";\n    white-space: nowrap;\n  "])),e.typography.size.sm),wrapper:Object(p.css)(r||(r=Object(s.__makeTemplateObject)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n  "],["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n  "]))),section:Object(p.css)(i||(i=Object(s.__makeTemplateObject)(["\n    display: flex;\n  "],["\n    display: flex;\n  "]))),sectionRight:Object(p.css)(o||(o=Object(s.__makeTemplateObject)(["\n    justify-content: flex-end;\n    flex-grow: 1;\n  "],["\n    justify-content: flex-end;\n    flex-grow: 1;\n  "])))}}),g=function(e){var t=e.items,n=e.itemRenderer,a=e.placement,r=e.className,i=Object(l.useContext)(f.a),o=m(i),s=function(e,t){return c.a.createElement("span",{className:o.item},n?n(e,t):e.label)},h=function(e){return""+e.label};return"under"===a?c.a.createElement("div",{className:Object(p.cx)(o.wrapper,r)},c.a.createElement("div",{className:o.section},c.a.createElement(u.a,{items:t.filter(function(e){return 1===e.yAxis}),renderItem:s,getItemKey:h})),c.a.createElement("div",{className:Object(p.cx)(o.section,o.sectionRight)},c.a.createElement(u.a,{items:t.filter(function(e){return 1!==e.yAxis}),renderItem:s,getItemKey:h}))):c.a.createElement(d.a,{items:t,renderItem:s,getItemKey:h,className:r})};g.displayName="LegendList"},"1Zgx":function(e,t,n){"use strict";n.d(t,"b",function(){return c});var a=n("mrSG"),r=n("nwiq"),i=n("LvDl"),o=n.n(i),s=n("Obii");function l(e,t){if(!e)return!1;if("/"===e[0]){var n=Object(s.stringToJsRegex)(e);return null!=t.match(n)}return e===t}function c(e,t,n){for(var a=0;a<e.length;a++){var i=e[a],l=t.yaxes[(i.yaxis||1)-1],c=Object(s.getValueFormat)(l.format);if(o.a.isNumber(t.decimals))i.updateLegendValues(c,t.decimals,null);else if(o.a.isNumber(l.decimals))i.updateLegendValues(c,l.decimals+1,null);else{var d=u(e),p=d.datamin,f=d.datamax,h=Object(r.getFlotTickDecimals)(p,f,l,n),m=h.tickDecimals,g=h.scaledDecimals,b=(m||-1)+1;i.updateLegendValues(c,b,g+2)}}}function u(e){var t,n,r=null,i=null;try{for(var o=Object(a.__values)(e),s=o.next();!s.done;s=o.next()){var l=s.value;(null===i||i<l.stats.max)&&(i=l.stats.max),(null===r||r>l.stats.min)&&(r=l.stats.min)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{datamin:r,datamax:i}}var d=function(){function e(e){this.datapoints=e.datapoints,this.label=e.alias,this.id=e.alias,this.alias=e.alias,this.aliasEscaped=o.a.escape(e.alias),this.color=e.color,this.bars={fillColor:e.color},this.valueFormater=Object(s.getValueFormat)("none"),this.stats={},this.legend=!0,this.unit=e.unit,this.dataFrameIndex=e.dataFrameIndex,this.fieldIndex=e.fieldIndex,this.hasMsResolution=this.isMsResolutionNeeded()}return e.prototype.applySeriesOverrides=function(e){this.lines={},this.dashes={dashLength:[]},this.points={},this.yaxis=1,this.zindex=0,this.nullPointMode=null,delete this.stack,delete this.bars.show;for(var t=0;t<e.length;t++){var n=e[t];l(n.alias,this.alias)&&(void 0!==n.lines&&(this.lines.show=n.lines),void 0!==n.dashes&&(this.dashes.show=n.dashes,this.lines.lineWidth=0),void 0!==n.points&&(this.points.show=n.points),void 0!==n.bars&&(this.bars.show=n.bars),void 0!==n.fill&&(this.lines.fill=0===(r=n.fill)?.001:r/10),void 0!==n.fillGradient&&(this.lines.fillColor=(a=n.fillGradient)?{colors:[{opacity:0},{opacity:a/10}]}:null),void 0!==n.stack&&(this.stack=n.stack),void 0!==n.linewidth&&(this.lines.lineWidth=this.dashes.show?0:n.linewidth,this.dashes.lineWidth=n.linewidth),void 0!==n.dashLength&&(this.dashes.dashLength[0]=n.dashLength),void 0!==n.spaceLength&&(this.dashes.dashLength[1]=n.spaceLength),void 0!==n.nullPointMode&&(this.nullPointMode=n.nullPointMode),void 0!==n.pointradius&&(this.points.radius=n.pointradius),void 0!==n.steppedLine&&(this.lines.steps=n.steppedLine),void 0!==n.zindex&&(this.zindex=n.zindex),void 0!==n.fillBelowTo&&(this.fillBelowTo=n.fillBelowTo),void 0!==n.color&&this.setColor(n.color),void 0!==n.transform&&(this.transform=n.transform),void 0!==n.legend&&(this.legend=n.legend),void 0!==n.hideTooltip&&(this.hideTooltip=n.hideTooltip),void 0!==n.yaxis&&(this.yaxis=n.yaxis),void 0!==n.hiddenSeries&&(this.hiddenSeries=n.hiddenSeries))}var a,r},e.prototype.getFlotPairs=function(e){var t=[];this.stats.total=0,this.stats.max=-Number.MAX_VALUE,this.stats.min=Number.MAX_VALUE,this.stats.logmin=Number.MAX_VALUE,this.stats.avg=null,this.stats.current=null,this.stats.first=null,this.stats.delta=0,this.stats.diff=null,this.stats.range=null,this.stats.timeStep=Number.MAX_VALUE,this.allIsNull=!0,this.allIsZero=!0;for(var n,a,r,i="connected"===e,s="null as zero"===e,l=0,c=0,u=!0,d=0;d<this.datapoints.length;d++){if(a=this.datapoints[d][0],n=this.datapoints[d][1],void 0!==r){var p=n-r;p<this.stats.timeStep&&(this.stats.timeStep=p)}if(r=n,null===a){if(i)continue;s&&(a=0)}null!==a&&(o.a.isNumber(a)&&(this.stats.total+=a,this.allIsNull=!1,l++),a>this.stats.max&&(this.stats.max=a),a<this.stats.min&&(this.stats.min=a),null===this.stats.first?this.stats.first=a:c>a?(u=!1,d===this.datapoints.length-1&&(this.stats.delta+=a)):(this.stats.delta+=u?a-c:a,u=!0),c=a,a<this.stats.logmin&&a>0&&(this.stats.logmin=a),0!==a&&(this.allIsZero=!1)),t.push([n,a])}return this.stats.max===-Number.MAX_VALUE&&(this.stats.max=null),this.stats.min===Number.MAX_VALUE&&(this.stats.min=null),t.length&&!this.allIsNull&&(this.stats.avg=this.stats.total/l,this.stats.current=t[t.length-1][1],null===this.stats.current&&t.length>1&&(this.stats.current=t[t.length-2][1])),null!==this.stats.max&&null!==this.stats.min&&(this.stats.range=this.stats.max-this.stats.min),null!==this.stats.current&&null!==this.stats.first&&(this.stats.diff=this.stats.current-this.stats.first),this.stats.count=t.length,t},e.prototype.updateLegendValues=function(e,t,n){this.valueFormater=e,this.decimals=t,this.scaledDecimals=n},e.prototype.formatValue=function(e){return o.a.isFinite(e)||(e=null),Object(s.formattedValueToString)(this.valueFormater(e,this.decimals,this.scaledDecimals))},e.prototype.isMsResolutionNeeded=function(){for(var e=0;e<this.datapoints.length;e++)if(null!==this.datapoints[e][1]&&void 0!==this.datapoints[e][1]){var t=this.datapoints[e][1].toString();if(13===t.length&&t%1e3!=0)return!0}return!1},e.prototype.hideFromLegend=function(e){return!(!e.hideEmpty||!this.allIsNull)||(!this.legend||!(!e.hideZero||!this.allIsZero))},e.prototype.setColor=function(e){this.color=e,this.bars.fillColor=e},e}();t.a=d},"1duI":function(e,t){var n="public/app/features/admin/partials/admin_home.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n\n  <div class="grafana-info-box span8">\n    Grafana is a multi-tenant system where most can be configured per organization. These\n    admin pages are for server admins where you can manage orgs, & all users across all orgs.\n  </div>\n\n</div>\n\n<footer/>\n')}]),e.exports=n},"1gCF":function(e,t,n){"use strict";var a=n("mrSG"),r=function(e){return'[aria-label="'+e+'"]'},i=function(e){var t=(e=e||"").replace("^/","");return""+(A.env("BASE_URL")||A.config().baseUrl||"http://localhost:3000")+t},o=function(e){var t=e.match("\\/d\\/(.*)\\/");if(!t)throw new Error("Couldn't parse uid from "+e);return t[1]},s=function(e){var t=e.url,n=e.selectors,o={};return Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t&&(o[e]=function(){return A().logToConsole("Retrieving Selector:",t),A().get(r(t))}),"function"==typeof t&&(o[e]=function(e){if(!e){var n=t();return A().logToConsole("Retrieving Selector:",n),A().get(n)}var a=t(e);return A().logToConsole("Retrieving Selector:",a),A().get(r(a))})}),Object(a.__assign)(Object(a.__assign)({visit:function(e){if(!t)return A().visit("");var n="";return"string"==typeof t&&(n=i(t)),"function"==typeof t&&e&&(n=i(t(e))),A().logToConsole("Visiting",n),A().visit(n)}},o),{selectors:n})},l={lastAddedDataSource:"",lastAddedDashboard:"",lastAddedDashboardUid:""},c=s({url:"/login",selectors:{username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"}}),u=s({url:"/datasources/new",selectors:{dataSourcePlugins:function(e){return"Data source plugin item "+e}}}),d=s({url:"",selectors:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",saveAndTest:"Data source settings page Save and Test button",alert:"Data source settings page Alert",alertMessage:"Data source settings page Alert message"}}),p=s({url:"/datasources",selectors:{dataSources:function(e){return"Data source list item "+e}}}),f=s({url:"",selectors:{delete:"Confirm Modal Danger Button"}}),h=s({url:"/dashboard/new",selectors:{ctaButtons:function(e){return"Add Panel Widget CTA Button "+e}}}),m=s({url:function(e){return"/d/"+e},selectors:{toolbarItems:function(e){return"Dashboard navigation bar button "+e},backArrow:"Dashboard settings Go Back button",navBar:function(){return".navbar"}}}),g=s({url:"",selectors:{newName:"Save dashboard title field",save:"Save dashboard button"}}),b=s({url:"/dashboards",selectors:{dashboards:function(e){return"Dashboard search item "+e}}}),v=s({url:"",selectors:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:function(e){return"Dashboard settings section item "+e},saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button"}}),y=s({url:"",selectors:{tabItems:function(e){return"Edit panel tab item "+e}}}),w={QueryTab:s({url:"",selectors:{scenarioSelect:"Test Data Query scenario select"}})},x={VisualizationTab:s({url:"",selectors:{xAxisSection:"X-Axis section"}})},O=s({url:"",selectors:{save:"Dashboard settings Save Dashboard Modal Save button"}}),_=s({url:"",selectors:{title:function(e){return"Panel header title item "+e},headerItems:function(e){return"Panel header item "+e}}}),k=s({url:"",selectors:{linkToRenderedImage:"Link to rendered image"}}),j=s({url:"",selectors:{addVariableCTA:"Call to action button Add variable",newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:function(e){return"Variable editor Table Name field "+e},tableRowDefinitionFields:function(e){return"Variable editor Table Definition field "+e},tableRowArrowUpButtons:function(e){return"Variable editor Table ArrowUp button "+e},tableRowArrowDownButtons:function(e){return"Variable editor Table ArrowDown button "+e},tableRowDuplicateButtons:function(e){return"Variable editor Table Duplicate button "+e},tableRowRemoveButtons:function(e){return"Variable editor Table Remove button "+e}}}),C=s({url:"",selectors:{submenuItem:"Dashboard template variables submenu item",submenuItemLabels:function(e){return"Dashboard template variables submenu Label "+e},submenuItemValueDropDownValueLinkTexts:function(e){return"Dashboard template variables Variable Value DropDown value link text "+e},submenuItemValueDropDownDropDown:"Dashboard template variables Variable Value DropDown DropDown",submenuItemValueDropDownOptionTexts:function(e){return"Dashboard template variables Variable Value DropDown option text "+e}}}),S=s({url:"",selectors:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",addButton:"Variable editor Add button",updateButton:"Variable editor Update button"}}),E=s({url:"",selectors:{queryOptionsDataSourceSelect:"Variable editor Form Query DataSource select",queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"}}),T=s({url:"",selectors:{constantOptionsQueryInput:"Variable editor Form Constant Query field"}}),M={env:function(e){return Cypress.env(e)},config:function(){return Cypress.config()},blobToBase64String:function(e){return Cypress.Blob.blobToBase64String(e)},imgSrcToBlob:function(e){return Cypress.Blob.imgSrcToBlob(e)},scenario:function(e){return n=(t=e).describeName,a=t.itName,r=t.scenario,i=t.skipScenario,o=void 0!==i&&i,s=t.addScenarioDataSource,l=void 0!==s&&s,c=t.addScenarioDashBoard,u=void 0!==c&&c,void describe(n,function(){o?it.skip(a,function(){expect(!1).equals(!0)}):(beforeEach(function(){A.flows.login("admin","admin"),l&&A.flows.addDataSource("TestData DB"),u&&A.flows.addDashboard()}),afterEach(function(){A.context().get("lastAddedDataSource")&&A.flows.deleteDataSource(A.context().get("lastAddedDataSource")),A.context().get("lastAddedDashboardUid")&&A.flows.deleteDashboard(A.context().get("lastAddedDashboardUid"))}),it(a,function(){r()}))});var t,n,a,r,i,o,s,l,c,u},context:function(){return{get:function(e){return l[e]},set:function(e,t){l[e]=t}}},pages:{Login:c,DataSource:d,DataSources:p,AddDataSource:u,ConfirmModal:f,AddDashboard:h,Dashboard:{visit:function(e){return m.visit(e)},Toolbar:m,SubMenu:C,Settings:{General:v,Variables:{List:j,Edit:{General:S,QueryVariable:E,ConstantVariable:T}}},Panels:{Panel:_,EditPanel:y,DataSource:{TestData:w},Visualization:{Graph:x}}},Dashboards:b,SaveDashboardAsModal:g,SaveDashboardModal:O,SharePanelModal:k},flows:{login:function(e,t){A().logToConsole("Trying to login with:",{username:e,password:t}),A.pages.Login.visit(),A.pages.Login.username().should("be.visible").type(e),A.pages.Login.password().type(t),A.pages.Login.submit().click(),A.pages.Login.skip().should("be.visible").click(),A().get(".login-page").should("not.exist"),A().logToConsole("Logged in with",{username:e,password:t})},addDataSource:function(e){e=e||"TestData DB",A().logToConsole("Adding data source with pluginName:",e),A.pages.AddDataSource.visit(),A.pages.AddDataSource.dataSourcePlugins(e).scrollIntoView().should("be.visible").click();var t="e2e-"+(new Date).getTime();return A.pages.DataSource.name().clear(),A.pages.DataSource.name().type(t),A.pages.DataSource.saveAndTest().click(),A.pages.DataSource.alert().should("exist"),A.pages.DataSource.alertMessage().should("contain.text","Data source is working"),A().logToConsole("Added data source with name:",t),A.context().set("lastAddedDataSource",t),t},deleteDataSource:function(e){A().logToConsole("Deleting data source with name:",e),A().request("DELETE",i("/api/datasources/name/"+e))},addDashboard:function(){A().logToConsole("Adding dashboard"),A.pages.AddDashboard.visit();var e=A.flows.saveNewDashboard();A().logToConsole("Added dashboard with title:",e),A().url().then(function(t){A.context().set("lastAddedDashboard",e),A.context().set("lastAddedDashboardUid",o(t))})},assertSuccessNotification:function(){A().get(".alert-success").should("exist")},deleteDashboard:function(e){A().logToConsole("Deleting dashboard with uid:",e),A().request("DELETE",i("/api/dashboards/uid/"+e))},openDashboard:function(e){A.pages.Dashboard.visit(e)},saveNewDashboard:function(){A.pages.Dashboard.Toolbar.toolbarItems("Save dashboard").click();var e="e2e-"+(new Date).getTime();return A.pages.SaveDashboardAsModal.newName().clear(),A.pages.SaveDashboardAsModal.newName().type(e),A.pages.SaveDashboardAsModal.save().click(),A.flows.assertSuccessNotification(),e},saveDashboard:function(){A.pages.Dashboard.Toolbar.toolbarItems("Save dashboard").click(),A.pages.SaveDashboardModal.save().click(),A.flows.assertSuccessNotification()}}},A=Object.assign(function(){return cy},M);n.d(t,"a",function(){return A})},"1kYe":function(e,t){var n="public/app/plugins/datasource/mssql/partials/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<h3 class=page-heading>MSSQL Connection</h3>\n\n<div class=gf-form-group>\n\t<div class="gf-form max-width-30">\n\t\t<span class="gf-form-label width-7">Host</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.current.url placeholder=localhost:1433 bs-typeahead="{{[\'localhost\', \'localhost:1433\']}}" required>\n\t</div>\n\n\t<div class="gf-form max-width-30">\n\t\t<span class="gf-form-label width-7">Database</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.current.database placeholder="database name" required>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form max-width-15">\n\t\t\t<span class="gf-form-label width-7">User</span>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.current.user placeholder=user>\n\t\t</div>\n    <div class=gf-form>\n      <secret-form-field isconfigured=ctrl.current.secureJsonFields.password value=ctrl.current.secureJsonData.password on-reset=ctrl.onPasswordReset on-change=ctrl.onPasswordChange inputwidth=9 />\n    </div>\n\t</div>\n\n\t<div class=gf-form>\n\t\t<label class="gf-form-label width-7">Encrypt</label>\n\t\t<div class="gf-form-select-wrapper max-width-15 gf-form-select-wrapper--has-help-icon">\n\t\t\t<select class=gf-form-input ng-model=ctrl.current.jsonData.encrypt ng-options="mode for mode in [\'disable\', \'false\', \'true\']" ng-init=ctrl.current.jsonData.encrypt></select>\n\t\t\t<info-popover mode=right-absolute>\n\t\t\t\tDetermines whether or to which extent a secure SSL TCP/IP connection will be negotiated with the server.\n\t\t\t\t<ul>\n\t\t\t\t\t<li><i>disable</i> - Data sent between client and server is not encrypted.</li>\n\t\t\t\t\t<li><i>false</i> - Data sent between client and server is not encrypted beyond the login packet. (default)</li>\n\t\t\t\t\t<li><i>true</i> - Data sent between client and server is encrypted.</li>\n\t\t\t\t</ul>\n\t\t\t\tIf you\'re using an older version of Microsoft SQL Server like 2008 and 2008R2 you may need to disable encryption to be able to connect.\n\t\t\t</info-popover>\n\t\t</div>\n\t</div>\n</div>\n\n<b>Connection limits</b>\n\n<div class=gf-form-group>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max open</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.maxOpenConns placeholder=unlimited>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum number of open connections to the database. If <i>Max idle connections</i> is greater than 0 and the\n\t\t\t<i>Max open connections</i> is less than <i>Max idle connections</i>, then <i>Max idle connections</i> will be\n\t\t\treduced to match the <i>Max open connections</i> limit. If set to 0, there is no limit on the number of open\n\t\t\tconnections.\n\t\t</info-popover>\n\t</div>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max idle</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.maxIdleConns placeholder=2>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum number of connections in the idle connection pool. If <i>Max open connections</i> is greater than 0 but\n\t\t\tless than the <i>Max idle connections</i>, then the <i>Max idle connections</i> will be reduced to match the\n\t\t\t<i>Max open connections</i> limit. If set to 0, no idle connections are retained.\n\t\t</info-popover>\n\t</div>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max lifetime</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.connMaxLifetime placeholder=14400>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum amount of time in seconds a connection may be reused. If set to 0, connections are reused forever.\n\t\t</info-popover>\n\t</div>\n</div>\n\n<h3 class=page-heading>MSSQL details</h3>\n\n<div class=gf-form-group>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-9">Min time interval</span>\n\t\t\t<input type=text class="gf-form-input width-6 gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.timeInterval spellcheck=false placeholder=1m ng-pattern=/^\\d+(ms|[Mwdhmsy])$/ >\n\t\t\t<info-popover mode=right-absolute>\n\t\t\t\tA lower limit for the auto group by time interval. Recommended to be set to write frequency,\n\t\t\t\tfor example <code>1m</code> if your data is written every minute.\n\t\t\t</info-popover>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=gf-form-group>\n\t<div class=grafana-info-box>\n\t\t<h5>User Permission</h5>\n\t\t<p>\n\t\t\tThe database user should only be granted SELECT permissions on the specified database &amp; tables you want to query.\n\t\t\tGrafana does not validate that queries are safe so queries can contain any SQL statement. For example, statements\n\t\t\tlike <code>USE otherdb;</code> and <code>DROP TABLE user;</code> would be executed. To protect against this we\n\t\t\t<strong>Highly</strong> recommmend you create a specific MSSQL user with restricted permissions.\n\t\t</p>\n\t</div>\n</div>\n\n')}]),e.exports=n},"1yDb":function(e,t){var n="public/app/features/admin/partials/edit_org.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n\t<h3 class=page-sub-heading>Edit Organization</h3>\n\n\t<form name=orgDetailsForm class=gf-form-group>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Name</span>\n\t\t\t<input type=text required ng-model=org.name class="gf-form-input max-width-14">\n\t\t</div>\n\n\t\t<div class=gf-form-button-row>\n\t\t\t<button type=submit class="btn btn-primary" ng-click=update() ng-show=!createMode>Update</button>\n\t\t</div>\n\t</form>\n\n\t<h3 class=page-heading>Organization Users</h3>\n\n\t<table class=filter-table>\n\t\t<tr>\n\t\t\t<th>Username</th>\n\t\t\t<th>Email</th>\n\t\t\t<th>Role</th>\n\t\t\t<th></th>\n\t\t</tr>\n\t\t<tr ng-repeat="orgUser in orgUsers">\n\t\t\t<td>{{orgUser.login}}</td>\n\t\t\t<td>{{orgUser.email}}</td>\n\t\t\t<td>\n        <div class=gf-form>\n          <span class=gf-form-select-wrapper>\n              <select type=text ng-model=orgUser.role class="gf-form-input max-width-8" ng-options="f for f in [\'Viewer\', \'Editor\', \'Admin\']" ng-change=updateOrgUser(orgUser)>\n              </select>\n          </span>\n        </div>\n\t\t\t</td>\n\t\t\t<td style=width:1%>\n\t\t\t\t<a ng-click=removeOrgUser(orgUser) class="btn btn-danger btn-small">\n\t\t\t\t\t<i class="fa fa-remove"></i>\n\t\t\t\t</a>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</div>\n\n<footer/>\n')}]),e.exports=n},"2KQq":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return function(t){return t.finally(e.$evalAsync)}}},"2L+O":function(e,t,n){"use strict";var a,r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),function(e){e.Home="home-dashboard",e.New="new-dashboard",e.Normal="normal-dashboard",e.Scripted="scripted-dashboard"}(a||(a={})),function(e){e.NotStarted="Not started",e.Fetching="Fetching",e.Services="Services",e.Failed="Failed",e.Completed="Completed"}(r||(r={}));var i="tv"},"2L8i":function(e,t){var n,a,r,i,o;n=document,a=n.createElement("STYLE"),r="addEventListener"in n,i=function(e,t){r?n.addEventListener(e,t):n.attachEvent("on"+e,t)},o=function(e){a.styleSheet?a.styleSheet.cssText=e:a.innerHTML=e},n.getElementsByTagName("HEAD")[0].appendChild(a),i("mousedown",function(){o(":focus{outline:0 !important}::-moz-focus-inner{border:0;}")}),i("keydown",function(){o("")})},"2euF":function(e,t){var n="public/app/plugins/panel/singlestat/mappings.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n  <div class=gf-form-group>\n    <div class=gf-form>\n        <span class=gf-form-label>\n          Type\n        </span>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=ctrl.panel.mappingType ng-options="f.value as f.name for f in ctrl.panel.mappingTypes" ng-change=ctrl.refresh()></select>\n        </div>\n    </div>\n  </div>\n</div>\n<div class=editor-row ng-if="ctrl.panel.mappingType==1">\n  <h5 class=section-heading>Set value mappings</h5>\n  <div class=gf-form-group>\n    <div class=gf-form ng-repeat="map in ctrl.panel.valueMaps">\n      <span class=gf-form-label>\n        <i class="fa fa-remove pointer" ng-click=ctrl.removeValueMap(map)></i>\n      </span>\n      <input type=text ng-model=map.value placeholder=value class="gf-form-input max-width-6" ng-blur=ctrl.refresh()>\n      <span class=gf-form-label>\n        <i class="fa fa-arrow-right"></i>\n      </span>\n      <input type=text placeholder=text ng-model=map.text class="gf-form-input max-width-8" ng-blur=ctrl.refresh()>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button class="btn btn-inverse" ng-click=ctrl.addValueMap();>\n        <i class="fa fa-plus"></i>\n        Add a value mapping\n      </button>\n    </div>\n  </div>\n</div>\n<div class=editor-row ng-if="ctrl.panel.mappingType==2">\n  <h5 class=section-heading>Set range mappings</h5>\n  <div class=gf-form-group>\n    <div class=gf-form ng-repeat="rangeMap in ctrl.panel.rangeMaps">\n        <span class=gf-form-label>\n          <i class="fa fa-remove pointer" ng-click=ctrl.removeRangeMap(rangeMap)></i>\n        </span>\n        <span class=gf-form-label>From</span>\n        <input type=text ng-model=rangeMap.from class="gf-form-input max-width-6" ng-blur=ctrl.refresh()>\n        <span class=gf-form-label>To</span>\n        <input type=text ng-model=rangeMap.to class="gf-form-input max-width-6" ng-blur=ctrl.refresh()>\n        <span class=gf-form-label>Text</span>\n        <input type=text ng-model=rangeMap.text class="gf-form-input max-width-8" ng-blur=ctrl.refresh()>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button class="btn btn-inverse" ng-click=ctrl.addRangeMap()>\n        <i class="fa fa-plus"></i>\n        Add a range mapping\n      </button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},"2k1X":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("Obii"),s=n("kDLi"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUserSync=function(){t.props.onUserSync()},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.ldapSyncInfo,n=e.user,a=Object(o.dateTime)(t.nextSync).format("dddd YYYY-MM-DD HH:mm zz"),r=t&&t.prevSync,l=r?Object(o.dateTime)(t.prevSync.started).format("dddd YYYY-MM-DD HH:mm zz"):"",c="/admin/ldap?user="+(n&&n.login);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"page-heading"},"LDAP Synchronisation"),i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("div",{className:"gf-form"},i.a.createElement("table",{className:"filter-table form-inline"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"External sync"),i.a.createElement("td",null,"User synced via LDAP – some changes must be done in LDAP or mappings."),i.a.createElement("td",null,i.a.createElement("span",{className:"label label-tag"},"LDAP"))),i.a.createElement("tr",null,t.enabled?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",null,"Next scheduled synchronisation"),i.a.createElement("td",{colSpan:2},a)):i.a.createElement(i.a.Fragment,null,i.a.createElement("td",null,"Next scheduled synchronisation"),i.a.createElement("td",{colSpan:2},"Not enabled"))),i.a.createElement("tr",null,r?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",null,"Last synchronisation"),i.a.createElement("td",null,l),i.a.createElement("td",null,"Successful")):i.a.createElement("td",{colSpan:3},"Last synchronisation"))))),i.a.createElement("div",{className:"gf-form-button-row"},i.a.createElement(s.Button,{variant:"secondary",onClick:this.onUserSync},"Sync user"),i.a.createElement(s.LinkButton,{variant:"inverse",href:c},"Debug LDAP Mapping"))))},t}(r.PureComponent)},"2kIT":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("mrSG"),r=function(){function e(e){this.init=e,this.ordered=[],this.byId=new Map,this.initalized=!1}return e.prototype.getIfExists=function(e){var t,n;if(!this.initalized){if(this.init)try{for(var r=Object(a.__values)(this.init()),i=r.next();!i.done;i=r.next()){var o=i.value;this.register(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.sort(),this.initalized=!0}if(e)return this.byId.get(e)},e.prototype.get=function(e){var t=this.getIfExists(e);if(!t)throw new Error("Undefined: "+e);return t},e.prototype.selectOptions=function(e,t){var n,r,i,o;this.initalized||this.getIfExists("xxx");var s={options:[],current:[]},l={};if(e)try{for(var c=Object(a.__values)(e),u=c.next();!u.done;u=c.next()){l[u.value]=!0}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var d=Object(a.__values)(this.ordered),p=d.next();!p.done;p=d.next()){var f=p.value;if(!f.excludeFromPicker&&(!t||t(f))){var h={value:f.id,label:f.name,description:f.description};s.options.push(h),l[f.id]&&s.current.push(h)}}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return s},e.prototype.list=function(e){var t,n;if(e){var r=[];try{for(var i=Object(a.__values)(e),o=i.next();!o.done;o=i.next()){var s=o.value,l=this.getIfExists(s);l&&r.push(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return this.initalized||this.getIfExists("xxx"),Object(a.__spread)(this.ordered)},e.prototype.register=function(e){var t,n;if(this.byId.has(e.id))throw new Error("Duplicate Key:"+e.id);if(this.byId.set(e.id,e),this.ordered.push(e),e.aliasIds)try{for(var r=Object(a.__values)(e.aliasIds),i=r.next();!i.done;i=r.next()){var o=i.value;this.byId.has(o)||this.byId.set(o,e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.initalized&&this.sort()},e.prototype.sort=function(){},e}()},"2l57":function(e,t,n){"use strict";var a;!function(e){e.DashHitDB="dash-db",e.DashHitHome="dash-home",e.DashHitFolder="dash-folder"}(a||(a={}))},"2nhE":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var a=n("mrSG"),r=function(){return{type:"query",query:{params:["A","5m","now"]},reducer:{type:"avg",params:[]},evaluator:{type:"gt",params:[null]},operator:{type:"and"}}},i=function(e,t,n,r){return Object(a.__awaiter)(void 0,void 0,Promise,function(){var i,o,s,l,c,u,d,p,f,h;return Object(a.__generator)(this,function(m){switch(m.label){case 0:if(0===t.length)return[2,"Could not find any metric queries"];if(e&&e.length)return[2,"Transformations are not supported in alert queries"];i=0,o=0,m.label=1;case 1:m.trys.push([1,6,7,8]),s=Object(a.__values)(t),l=s.next(),m.label=2;case 2:return l.done?[3,5]:(c=l.value,u=c.datasource||r,[4,n.get(u)]);case 3:(d=m.sent()).meta.alerting?d.targetContainsTemplate&&d.targetContainsTemplate(c)&&o++:i++,m.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return p=m.sent(),f={error:p},[3,8];case 7:try{l&&!l.done&&(h=s.return)&&h.call(s)}finally{if(f)throw f.error}return[7];case 8:return i===t.length?[2,"The datasource does not support alerting queries"]:o===t.length?[2,"Template variables are not supported in alert queries"]:[2,""]}})})}},"2r/H":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.GroupTitle="GroupTitle"}(a||(a={}))},"2rVl":function(e,t){var n="public/app/plugins/datasource/graphite/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n  <div class=gf-form>\n    <span class="gf-form-label width-12">Graphite query</span>\n    <input type=text class=gf-form-input ng-model=ctrl.annotation.target placeholder="Example: statsd.application.counters.*.count">\n  </div>\n\n\t<h5 class=section-heading>Or</h5>\n\n  <div class=gf-form>\n    <span class="gf-form-label width-12">Graphite events tags</span>\n    <input type=text class=gf-form-input ng-model=ctrl.annotation.tags placeholder="Example: event_tag_name">\n  </div>\n</div>\n')}]),e.exports=n},"2t1j":function(e,t,n){"use strict";var a=n("mrSG"),r=n("HJRA"),i=n("+2Rf"),o=n.n(i),s=n("LvDl"),l=n.n(s),c=n("KHwQ"),u=n.n(c),d=n("ZFWI"),p=n("GQ3c"),f=n("Obii"),h=n("1gCF"),m=n("UIT+"),g=function(){function e(e,t,n,a,i,o){var s=this;this.$scope=e,this.$route=t,this.$location=n,this.$rootScope=a,this.backendSrv=i,this.dashboardSrv=o,e.dashboard=this.dashboard,this.$scope.$on("$destroy",function(){s.dashboard.updateSubmenuVisibility(),setTimeout(function(){s.$rootScope.appEvent(p.CoreEvents.dashScroll,{restore:!0}),s.dashboard.startRefresh()})}),this.canSaveAs=r.b.hasEditPermissionInFolders,this.canSave=this.dashboard.meta.canSave,this.canDelete=this.dashboard.meta.canSave,this.buildSectionList(),this.onRouteUpdated(),this.$rootScope.onAppEvent(p.CoreEvents.routeUpdated,this.onRouteUpdated.bind(this),e),this.$rootScope.appEvent(p.CoreEvents.dashScroll,{animate:!1,pos:0}),this.$rootScope.onAppEvent(p.CoreEvents.dashboardSaved,this.onPostSave.bind(this),e),this.selectors=h.a.pages.Dashboard.Settings.General.selectors}return e.$inject=["$scope","$route","$location","$rootScope","backendSrv","dashboardSrv"],e.prototype.buildSectionList=function(){var e,t;this.sections=[],this.dashboard.meta.canEdit&&(this.sections.push({title:"General",id:"settings",icon:"gicon gicon-preferences"}),this.sections.push({title:"Annotations",id:"annotations",icon:"gicon gicon-annotation"}),this.sections.push({title:"Variables",id:"templating",icon:"gicon gicon-variable"}),this.sections.push({title:"Links",id:"links",icon:"gicon gicon-link"})),this.dashboard.id&&this.dashboard.meta.canSave&&this.sections.push({title:"Versions",id:"versions",icon:"fa fa-fw fa-history"}),this.dashboard.id&&this.dashboard.meta.canAdmin&&this.sections.push({title:"Permissions",id:"permissions",icon:"fa fa-fw fa-lock"}),this.dashboard.meta.canMakeEditable&&this.sections.push({title:"General",icon:"gicon gicon-preferences",id:"make_editable"}),this.sections.push({title:"JSON Model",id:"dashboard_json",icon:"gicon gicon-json"});var n=this.$location.search(),r=this.$location.path();try{for(var i=Object(a.__values)(this.sections),s=i.next();!s.done;s=i.next()){var c=s.value,u=l.a.defaults({editview:c.id},n);c.url=d.b.appSubUrl+r+"?"+o.a.param(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.onRouteUpdated=function(){this.viewId=this.$location.search().editview,this.viewId&&(this.json=u.a.toJson(this.dashboard.getSaveModelClone(),!0)),"settings"===this.viewId&&this.dashboard.meta.canMakeEditable&&(this.viewId="make_editable"),l.a.find(this.sections,{id:this.viewId})||(this.sections.unshift({title:"Not found",id:"404",icon:"fa fa-fw fa-warning"}),this.viewId="404")},e.prototype.openSaveAsModal=function(){this.dashboardSrv.showSaveAsModal()},e.prototype.saveDashboard=function(){this.dashboardSrv.saveDashboard()},e.prototype.saveDashboardJson=function(){var e=this;this.dashboardSrv.saveJSONDashboard(this.json).then(function(){e.$route.reload()})},e.prototype.onPostSave=function(){this.hasUnsavedFolderChange=!1},e.prototype.hideSettings=function(){var e=this,t=this.$location.search();delete t.editview,setTimeout(function(){e.$rootScope.$apply(function(){e.$location.search(t)})})},e.prototype.makeEditable=function(){this.dashboard.editable=!0,this.dashboard.meta.canMakeEditable=!1,this.dashboard.meta.canEdit=!0,this.dashboard.meta.canSave=!0,this.canDelete=!0,this.viewId="settings",this.buildSectionList();var e=l.a.find(this.sections,{id:this.viewId});this.$location.url(m.a.stripBaseFromUrl(e.url))},e.prototype.deleteDashboard=function(){var e=this,t="",n=this.dashboard.title;if(this.dashboard.meta.provisioned)r.a.emit(p.CoreEvents.showConfirmModal,{title:"Cannot delete provisioned dashboard",text:"\n          This dashboard is managed by Grafanas provisioning and cannot be deleted. Remove the dashboard from the\n          config file to delete it.\n        ",text2:'\n          <i>See <a class="external-link" href="http://docs.grafana.org/administration/provisioning/#dashboards" target="_blank">\n          documentation</a> for more information about provisioning.</i>\n          </br>\n          File path: '+this.dashboard.meta.provisionedExternalId+"\n        ",text2htmlBind:!0,icon:"fa-trash",noText:"OK"});else{var a=l.a.sumBy(this.dashboard.panels,function(e){return e.alert?1:0});a>0&&(t="DELETE",n="This dashboard contains "+a+" alerts. Deleting this dashboard will also delete those alerts"),r.a.emit(p.CoreEvents.showConfirmModal,{title:"Delete",text:"Do you want to delete this dashboard?",text2:n,icon:"fa-trash",confirmText:t,yesText:"Delete",onConfirm:function(){e.dashboard.meta.canSave=!1,e.deleteDashboardConfirmed()}})}},e.prototype.deleteDashboardConfirmed=function(){var e=this;this.backendSrv.deleteDashboard(this.dashboard.uid,!1).then(function(){r.a.emit(f.AppEvents.alertSuccess,["Dashboard Deleted",e.dashboard.title+" has been deleted"]),e.$location.url("/")})},e.prototype.onFolderChange=function(e){this.dashboard.meta.folderId=e.id,this.dashboard.meta.folderTitle=e.title,this.hasUnsavedFolderChange=!0},e.prototype.getFolder=function(){return{id:this.dashboard.meta.folderId,title:this.dashboard.meta.folderTitle,url:this.dashboard.meta.folderUrl}},e}();r.c.directive("dashboardSettings",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/DashboardSettings/template.html",controller:g,bindToController:!0,controllerAs:"ctrl",transclude:!0,scope:{dashboard:"="}}});var b=n("q1tI"),v=n.n(b),y=n("t8hP"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=Object(y.getAngularLoader)(),t={dashboard:this.props.dashboard};this.angularCmp=e.load(this.element,t,'<dashboard-settings dashboard="dashboard" class="dashboard-settings" />')},t.prototype.componentWillUnmount=function(){this.angularCmp&&this.angularCmp.destroy()},t.prototype.render=function(){var e=this;return v.a.createElement("div",{className:"panel-height-helper",ref:function(t){return e.element=t}})},t}(b.PureComponent),x=n("txxJ"),O=function(){return function(){this.panel=this.dashboard.timepicker,this.panel.refresh_intervals=this.panel.refresh_intervals||["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]}}(),_='\n<div class="editor-row">\n\t<h5 class="section-heading">Time Options</h5>\n\n  <div class="gf-form-group">\n\t\t<div class="gf-form">\n\t\t\t<label class="gf-form-label width-10">Timezone</label>\n\t\t\t<div class="gf-form-select-wrapper">\n\t\t\t\t<select ng-model="ctrl.dashboard.timezone" class=\'gf-form-input\' ng-options="f.value as f.text for f in\n\t\t\t\t  [{value: \'\', text: \'Default\'}, {value: \'browser\', text: \'Local browser time\'},{value: \'utc\', text: \'UTC\'}]">\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="gf-form">\n\t\t\t<span class="gf-form-label width-10">Auto-refresh</span>\n\t\t\t<input type="text" class="gf-form-input max-width-25" ng-model="ctrl.panel.refresh_intervals" array-join>\n\t\t</div>\n\t\t<div class="gf-form">\n\t\t\t<span class="gf-form-label width-10">Now delay now-</span>\n\t\t\t<input type="text" class="gf-form-input max-width-25" ng-model="ctrl.panel.nowDelay"\n\t\t\t    placeholder="0m"\n\t\t\t    valid-time-span\n\t\t\t    bs-tooltip="\'Enter 1m to ignore the last minute (because it can contain incomplete metrics)\'"\n \t\t\t\t  data-placement="right">\n\t\t</div>\n\n\t\t<gf-form-switch class="gf-form" label="Hide time picker" checked="ctrl.panel.hidden" label-class="width-10">\n\t\t</gf-form-switch>\n\t</div>\n</div>\n';x.c.directive("gfTimePickerSettings",function(){return{restrict:"E",template:_,controller:O,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}),n.d(t,"a",function(){return w})},"2wGe":function(e,t,n){"use strict";var a,r,i,o;!function(e){e.anyMatch="anyMatch",e.allMatch="allMatch",e.invertMatch="invertMatch",e.alwaysMatch="alwaysMatch",e.neverMatch="neverMatch"}(a||(a={})),function(e){e.numeric="numeric",e.time="time",e.byType="byType",e.byName="byName"}(r||(r={})),function(e){e.byName="byName",e.byRefId="byRefId",e.byIndex="byIndex",e.byLabel="byLabel"}(i||(i={})),function(e){e.append="append",e.reduce="reduce",e.filterFields="filterFields",e.filterFieldsByName="filterFieldsByName",e.filterFrames="filterFrames",e.filterByRefId="filterByRefId",e.noop="noop"}(o||(o={}));var s=n("mrSG"),l={id:a.anyMatch,name:"Any",description:"Any child matches (OR)",excludeFromPicker:!0,defaultOptions:[],get:function(e){var t=e.map(function(e){return I(e)});return function(e){var n,a;try{for(var r=Object(s.__values)(t),i=r.next();!i.done;i=r.next()){if((0,i.value)(e))return!0}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return!1}},getOptionsDisplayText:function(e){var t,n,a="";try{for(var r=Object(s.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value;a.length>0&&(a+=" OR ");var l=N.get(o.id);a+=l.getOptionsDisplayText?l.getOptionsDisplayText(o):l.name}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a}},c={id:a.anyMatch,name:"Any",description:"Any child matches (OR)",excludeFromPicker:!0,defaultOptions:[],get:function(e){var t=e.map(function(e){return P(e)});return function(e){var n,a;try{for(var r=Object(s.__values)(t),i=r.next();!i.done;i=r.next()){if((0,i.value)(e))return!0}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return!1}},getOptionsDisplayText:function(e){var t,n,a="";try{for(var r=Object(s.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value;a.length>0&&(a+=" OR ");var l=D.get(o.id);a+=l.getOptionsDisplayText?l.getOptionsDisplayText(o):l.name}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a}},u={id:a.allMatch,name:"All",description:"Everything matches (AND)",excludeFromPicker:!0,defaultOptions:[],get:function(e){var t=e.map(function(e){return I(e)});return function(e){var n,a;try{for(var r=Object(s.__values)(t),i=r.next();!i.done;i=r.next()){if(!(0,i.value)(e))return!1}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return!0}},getOptionsDisplayText:function(e){var t,n,a="";try{for(var r=Object(s.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value;a.length>0&&(a+=" AND ");var l=N.get(o.id);a+=l.getOptionsDisplayText?l.getOptionsDisplayText(o):l.name}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a}},d={id:a.allMatch,name:"All",description:"Everything matches (AND)",excludeFromPicker:!0,defaultOptions:[],get:function(e){var t=e.map(function(e){return P(e)});return function(e){var n,a;try{for(var r=Object(s.__values)(t),i=r.next();!i.done;i=r.next()){if(!(0,i.value)(e))return!1}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return!0}},getOptionsDisplayText:function(e){var t,n,a="";try{for(var r=Object(s.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value;a.length>0&&(a+=" AND ");var l=D.get(o.id);a+=l.getOptionsDisplayText?l.getOptionsDisplayText(o):l.name}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a}},p={id:a.invertMatch,name:"NOT",description:"Inverts other matchers",excludeFromPicker:!0,get:function(e){var t=I(e);return function(e){return!t(e)}},getOptionsDisplayText:function(e){var t=N.get(e.id);return"NOT "+(t.getOptionsDisplayText?t.getOptionsDisplayText(e.options):t.name)}},f={id:a.invertMatch,name:"NOT",description:"Inverts other matchers",excludeFromPicker:!0,get:function(e){var t=P(e);return function(e){return!t(e)}},getOptionsDisplayText:function(e){var t=D.get(e.id);return"NOT "+(t.getOptionsDisplayText?t.getOptionsDisplayText(e.options):t.name)}},h=function(e){return!0},m=function(e){return!0},g=function(e){return!1},b=function(e){return!1},v={id:a.alwaysMatch,name:"All Fields",description:"Always Match",get:function(e){return h},getOptionsDisplayText:function(e){return"Always"}},y={id:a.alwaysMatch,name:"All Frames",description:"Always Match",get:function(e){return m},getOptionsDisplayText:function(e){return"Always"}},w={id:a.neverMatch,name:"No Fields",description:"Never Match",excludeFromPicker:!0,get:function(e){return g},getOptionsDisplayText:function(e){return"Never"}},x={id:a.neverMatch,name:"No Frames",description:"Never Match",get:function(e){return b},getOptionsDisplayText:function(e){return"Never"}};var O=n("oOjz"),_={id:r.byName,name:"Field Name",description:"match the field name",defaultOptions:"/.*/",get:function(e){var t=Object(O.c)(e);return function(e){return t.test(e.name)}},getOptionsDisplayText:function(e){return"Field name: "+e}},k={id:i.byName,name:"Frame Name",description:"match the frame name",defaultOptions:"/.*/",get:function(e){var t=Object(O.c)(e);return function(e){return t.test(e.name||"")}},getOptionsDisplayText:function(e){return"Frame name: "+e}};var j=n("HJqT"),C={id:r.byType,name:"Field Type",description:"match based on the field type",defaultOptions:j.a.number,get:function(e){return function(t){return e===t.type}},getOptionsDisplayText:function(e){return"Field type: "+e}},S={id:r.numeric,name:"Numeric Fields",description:"Fields with type number",get:function(){return C.get(j.a.number)},getOptionsDisplayText:function(){return"Numeric Fields"}},E={id:r.time,name:"Time Fields",description:"Fields with type time",get:function(){return C.get(j.a.time)},getOptionsDisplayText:function(){return"Time Fields"}};var T=n("Cawo"),M={id:i.byRefId,name:"Query refId",description:"match the refId",defaultOptions:"A",get:function(e){var t=Object(T.h)(e);return function(e){return t.test(e.refId||"")}},getOptionsDisplayText:function(e){return"RefID: "+e}};var A=n("2kIT"),N=new A.a(function(){return Object(s.__spread)([l,u,p,v,w],[C,S,E],[_])}),D=new A.a(function(){return Object(s.__spread)([c,d,f,y,x],[k],[M])});function I(e){var t=N.get(e.id);if(!t)throw new Error("Unknown Matcher: "+e.id);return t.get(e.options)}function P(e){var t=D.get(e.id);if(!t)throw new Error("Unknown Matcher: "+e.id);return t.get(e.options)}var F=n("ir79"),L={id:o.append,name:"Append",description:"Append values into a single DataFrame.  This uses the name as the key",defaultOptions:{},transformer:function(e){return function(e){var t,n;if(e.length<2)return e;var a=new F.b;try{for(var r=Object(s.__values)(e[0].fields),i=r.next();!i.done;i=r.next()){var o=i.value;a.addField(Object(s.__assign)(Object(s.__assign)({},o),{values:Object(s.__spread)(o.values.toArray())}))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(var l=1;l<e.length;l++){for(var c=e[l],u=c.length,d=0;d<c.fields.length;d++){var p=c.fields[d],f=a.values[p.name];f||(f=a.addField(Object(s.__assign)(Object(s.__assign)({},p),{values:[]}),u).values);for(var h=0;h<c.length;h++)f.add(p.values.get(h))}a.validate()}return[a]}}},R=n("ZSVY"),V=n("0uOV"),$=n("0v62"),B={id:o.reduce,name:"Reducer",description:"Return a DataFrame with the reduction results",defaultOptions:{reducers:[R.a.min,R.a.max,R.a.mean,R.a.last]},transformer:function(e){var t=e.fields?I(e.fields):h,n=e.reducers&&e.reducers.length?R.b.list(e.reducers):[],a=n.map(function(e){return e.id});return function(e){var r,i,o,l,c,u,d,p,f=[];try{for(var h=Object(s.__values)(e),m=h.next();!m.done;m=h.next()){var g=m.value,b=[],v=[],y={};b.push(new V.a),v.push({name:"Field",type:j.a.string,values:b[0],config:{}});try{for(var w=(o=void 0,Object(s.__values)(n)),x=w.next();!x.done;x=w.next()){var O=x.value,_=new V.a;y[O.id]=_,b.push(_),v.push({name:O.id,type:j.a.other,values:b[b.length-1],config:{title:O.name}})}}catch(e){o={error:e}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}for(var k=0;k<g.fields.length;k++){var C=g.fields[k];if(t(C)){var S=Object(R.c)({field:C,reducers:a});b[0].buffer.push(C.name);try{for(var E=(c=void 0,Object(s.__values)(n)),T=E.next();!T.done;T=E.next()){var M=S[(O=T.value).id];y[O.id].buffer.push(M)}}catch(e){c={error:e}}finally{try{T&&!T.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}}}try{for(var A=(d=void 0,Object(s.__values)(v)),N=A.next();!N.done;N=A.next()){var D=N.value,I=Object($.c)(D);I&&(D.type=I)}}catch(e){d={error:e}}finally{try{N&&!N.done&&(p=A.return)&&p.call(A)}finally{if(d)throw d.error}}f.push(Object(s.__assign)(Object(s.__assign)({},g),{fields:v,length:b[0].length}))}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return f}}},U={id:o.noop,name:"noop",description:"No-operation transformer",defaultOptions:{},transformer:function(e){return function(e){return e}}},q={id:o.filterFields,name:"Filter Fields",description:"select a subset of fields",defaultOptions:{include:{id:r.numeric}},transformer:function(e){if(!e.include&&!e.exclude)return U.transformer({});var t=e.include?I(e.include):null,n=e.exclude?I(e.exclude):null;return function(e){var a,r,i=[];try{for(var o=Object(s.__values)(e),l=o.next();!l.done;l=o.next()){for(var c=l.value,u=[],d=0;d<c.fields.length;d++){var p=c.fields[d];if(n){if(n(p))continue;t||u.push(p)}t&&t(p)&&u.push(p)}if(u.length){var f=Object(s.__assign)(Object(s.__assign)({},c),{fields:u});i.push(f)}}}catch(e){a={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i}}},z={id:o.filterFrames,name:"Filter Frames",description:"select a subset of frames",defaultOptions:{},transformer:function(e){if(!e.include&&!e.exclude)return U.transformer({});var t=e.include?P(e.include):null,n=e.exclude?P(e.exclude):null;return function(e){var a,r,i=[];try{for(var o=Object(s.__values)(e),l=o.next();!l.done;l=o.next()){var c=l.value;if(n){if(n(c))continue;t||i.push(c)}t&&t(c)&&i.push(c)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i}}},H={id:o.filterFieldsByName,name:"Filter fields by name",description:"select a subset of fields",defaultOptions:{},transformer:function(e){var t={};return e.include&&(t.include={id:r.byName,options:e.include}),e.exclude&&(t.exclude={id:r.byName,options:e.exclude}),q.transformer(t)}},G={id:o.filterByRefId,name:"Filter data by query refId",description:"select a subset of results",defaultOptions:{},transformer:function(e){var t={};return e.include&&(t.include={id:i.byRefId,options:e.include}),e.exclude&&(t.exclude={id:i.byRefId,options:e.exclude}),z.transformer(t)}};function W(e,t){var n,a,r,i,o=t;try{for(var l=Object(s.__values)(e),c=l.next();!c.done;c=l.next()){var u=c.value,d=Q.get(u.id),p=d.transformer(u.options)(o);if(p&&p!==o){try{for(var f=(r=void 0,Object(s.__values)(p)),h=f.next();!h.done;h=f.next()){var m=h.value;m.meta||(m.meta={}),m.meta.transformations?m.meta.transformations=Object(s.__spread)(m.meta.transformations,[d.id]):m.meta.transformations=[d.id]}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=p}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return o}var Q=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.append=function(e,t){return L.transformer(t||L.defaultOptions)(e)[0]},t.prototype.reduce=function(e,t){return B.transformer(t)(e)},t}(A.a))(function(){return[U,q,H,z,G,L,B]});n.d(t,"f",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"i",function(){return N}),n.d(t,"k",function(){return D}),n.d(t,"l",function(){return I}),n.d(t,"m",function(){return P}),n.d(t,"o",function(){return W}),n.d(t,"p",function(){return Q}),n.d(t,"h",function(){return R.a}),n.d(t,"n",function(){return R.c}),n.d(t,"j",function(){return R.b}),n.d(t,"c",function(){}),n.d(t,"d",function(){}),n.d(t,"g",function(){})},"3CYn":function(e,t){var n="public/app/plugins/datasource/loki/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<loki-annotations-query-editor expr=ctrl.annotation.expr on-change=ctrl.onQueryChange datasource=ctrl.datasource />\n")}]),e.exports=n},"3SGO":function(e,t,n){"use strict";var a=n("vMjj");n.d(t,"b",function(){return a.c}),n.d(t,"a",function(){return a.b});var r=n("13X4");n.d(t,"c",function(){return r.b});var i=n("R9Tc");n.d(t,"d",function(){return i.c})},"3Tvq":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("SMGL"),s=function(e){function t(t){var n=e.call(this,t)||this;n.onSaveToStore=function(e){var t=n.props.storageKey;o.a.setObject(t,e),n.setState({value:e})};var a=t.storageKey,r=t.defaultValue;return n.state={value:o.a.getObject(a,r)},n}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.children,t=this.state.value;return i.a.createElement(i.a.Fragment,null,e(t,this.onSaveToStore))},t}(r.PureComponent),l=n("Obii"),c=n("3VL2");n.d(t,"a",function(){return u});var u=function(e){return i.a.createElement(s,{storageKey:"grafana.dashboard.timepicker.history",defaultValue:[]},function(t,n){return i.a.createElement(c.a,Object(a.__assign)({},e,{history:t,onChange:function(r){!function(e,t,n){if(r=e,!Object(l.isDateTime)(r.raw.from)&&!Object(l.isDateTime)(r.raw.to))return;var r;var i=function(e){return e.slice(0,4)}(Object(a.__spread)([e],t));n(i)}(r,t,n),e.onChange(r)}}))})}},"3VL2":function(e,t,n){"use strict";var a,r,i,o,s,l,c,u,d,p,f,h=n("mrSG"),m=n("q1tI"),g=n.n(m),b=n("PAeb"),v=n("5/7A"),y=n("lSEo"),w=n("MIBK"),x=n("Obii"),O=Object(w.g)(function(e){return{text:Object(b.css)(a||(a=Object(h.__makeTemplateObject)(["\n      font-size: ",";\n      font-weight: ",";\n      color: ",";\n    "],["\n      font-size: ",";\n      font-weight: ",";\n      color: ",";\n    "])),e.typography.size.md,e.typography.weight.semibold,e.colors.formLabel)}}),_=Object(m.memo)(function(e){var t=e.children,n=Object(w.h)(),a=O(n);return g.a.createElement("span",{className:a.text},t)}),k=function(e,t,n){return Object(x.isDateTime)(e)?e:-1!==e.indexOf("now")?x.dateMath.isValid(e)&&x.dateMath.parse(e,t,n)||Object(x.dateTime)():Object(x.dateTimeForTimeZone)(n,e,x.TIME_FORMAT)},j=function(e){return x.dateMath.isValid(e)},C=function(e,t){var n=S(e.from,!1,t).format(x.TIME_FORMAT),a=S(e.to,!0,t).format(x.TIME_FORMAT);return{from:E(e.from,t),to:E(e.to,t),section:3,display:n+" to "+a}},S=function(e,t,n){return Object(x.isDateTime)(e)?"utc"===n?e.utc():e:-1!==e.indexOf("now")?x.dateMath.isValid(e)&&x.dateMath.parse(e,t,n)||Object(x.dateTime)():Object(x.dateTimeForTimeZone)(n,e,x.TIME_FORMAT)},E=function(e,t){return Object(x.isDateTime)(e)?"utc"===t?e.utc().format(x.TIME_FORMAT):e.format(x.TIME_FORMAT):e},T=n("sQeT"),M=n.n(T),A=n("lcef"),N=n("BC3V"),D=n("eGKl"),I=function(e){return{border:Object(D.a)({light:e.colors.gray4,dark:e.colors.gray25},e.type),background:Object(D.a)({dark:e.colors.dark2,light:e.background.dropdown},e.type),shadow:Object(D.a)({light:e.colors.gray85,dark:e.colors.black},e.type),formBackground:Object(D.a)({dark:e.colors.gray15,light:e.colors.gray98},e.type)}},P=n("bTeP"),F=Object(w.g)(function(e){var t=I(e);return{container:Object(b.css)(r||(r=Object(h.__makeTemplateObject)(["\n      top: 0;\n      position: absolute;\n      right: 546px;\n      box-shadow: 0px 0px 20px ",";\n      background-color: ",";\n      z-index: -1;\n\n      &:after {\n        display: block;\n        background-color: ",";\n        width: 19px;\n        height: 381px;\n        content: ' ';\n        position: absolute;\n        top: 0;\n        right: -19px;\n        border-left: 1px solid ",";\n      }\n    "],["\n      top: 0;\n      position: absolute;\n      right: 546px;\n      box-shadow: 0px 0px 20px ",";\n      background-color: ",";\n      z-index: -1;\n\n      &:after {\n        display: block;\n        background-color: ",";\n        width: 19px;\n        height: 381px;\n        content: ' ';\n        position: absolute;\n        top: 0;\n        right: -19px;\n        border-left: 1px solid ",";\n      }\n    "])),t.shadow,t.background,t.background,t.border),modal:Object(b.css)(i||(i=Object(h.__makeTemplateObject)(["\n      position: fixed;\n      top: 20%;\n      width: 100%;\n      z-index: ",";\n    "],["\n      position: fixed;\n      top: 20%;\n      width: 100%;\n      z-index: ",";\n    "])),e.zIndex.modal),content:Object(b.css)(o||(o=Object(h.__makeTemplateObject)(["\n      margin: 0 auto;\n      width: 268px;\n    "],["\n      margin: 0 auto;\n      width: 268px;\n    "]))),backdrop:Object(b.css)(s||(s=Object(h.__makeTemplateObject)(["\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      background: #202226;\n      opacity: 0.7;\n      z-index: ",";\n      text-align: center;\n    "],["\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      background: #202226;\n      opacity: 0.7;\n      z-index: ",";\n      text-align: center;\n    "])),e.zIndex.modalBackdrop)}}),L=Object(w.g)(function(e){var t=I(e);return{container:Object(b.css)(l||(l=Object(h.__makeTemplateObject)(["\n      background-color: ",";\n      display: flex;\n      justify-content: center;\n      padding: 10px;\n      align-items: stretch;\n    "],["\n      background-color: ",";\n      display: flex;\n      justify-content: center;\n      padding: 10px;\n      align-items: stretch;\n    "])),t.background),apply:Object(b.css)(c||(c=Object(h.__makeTemplateObject)(["\n      margin-right: 4px;\n      width: 100%;\n      justify-content: center;\n    "],["\n      margin-right: 4px;\n      width: 100%;\n      justify-content: center;\n    "])))}}),R=Object(w.g)(function(e){var t=I(e);return{title:Object(b.css)(u||(u=Object(h.__makeTemplateObject)(["\n      color: ","\n      background-color: ",";\n      font-size: ",";\n      border: 1px solid transparent;\n\n      &:hover {\n        position: relative;\n      }\n    "],["\n      color: ","\n      background-color: ",";\n      font-size: ",";\n      border: 1px solid transparent;\n\n      &:hover {\n        position: relative;\n      }\n    "])),e.colors.text,t.background,e.typography.size.md),body:Object(b.css)(d||(d=Object(h.__makeTemplateObject)(["\n      z-index: ",";\n      background-color: ",";\n      width: 268px;\n\n      .react-calendar__navigation__label,\n      .react-calendar__navigation__arrow,\n      .react-calendar__navigation {\n        padding-top: 4px;\n        background-color: inherit;\n        color: ",";\n        border: 0;\n        font-weight: ",";\n      }\n\n      .react-calendar__month-view__weekdays {\n        background-color: inherit;\n        text-align: center;\n        color: ",";\n\n        abbr {\n          border: 0;\n          text-decoration: none;\n          cursor: default;\n          display: block;\n          padding: 4px 0 4px 0;\n        }\n      }\n\n      .react-calendar__month-view__days {\n        background-color: inherit;\n      }\n\n      .react-calendar__tile,\n      .react-calendar__tile--now {\n        margin-bottom: 4px;\n        background-color: inherit;\n        height: 26px;\n      }\n\n      .react-calendar__navigation__label,\n      .react-calendar__navigation > button:focus,\n      .time-picker-calendar-tile:focus {\n        outline: 0;\n      }\n\n      .react-calendar__tile--active,\n      .react-calendar__tile--active:hover {\n        color: ",";\n        font-weight: ",";\n        background: ",";\n        box-shadow: none;\n        border: 0px;\n      }\n\n      .react-calendar__tile--rangeEnd,\n      .react-calendar__tile--rangeStart {\n        padding: 0;\n        border: 0px;\n        color: ",";\n        font-weight: ",";\n        background: ",";\n\n        abbr {\n          background-color: ",";\n          border-radius: 100px;\n          display: block;\n          padding-top: 2px;\n          height: 26px;\n        }\n      }\n\n      .react-calendar__tile--rangeStart {\n        border-top-left-radius: 20px;\n        border-bottom-left-radius: 20px;\n      }\n\n      .react-calendar__tile--rangeEnd {\n        border-top-right-radius: 20px;\n        border-bottom-right-radius: 20px;\n      }\n    "],["\n      z-index: ",";\n      background-color: ",";\n      width: 268px;\n\n      .react-calendar__navigation__label,\n      .react-calendar__navigation__arrow,\n      .react-calendar__navigation {\n        padding-top: 4px;\n        background-color: inherit;\n        color: ",";\n        border: 0;\n        font-weight: ",";\n      }\n\n      .react-calendar__month-view__weekdays {\n        background-color: inherit;\n        text-align: center;\n        color: ",";\n\n        abbr {\n          border: 0;\n          text-decoration: none;\n          cursor: default;\n          display: block;\n          padding: 4px 0 4px 0;\n        }\n      }\n\n      .react-calendar__month-view__days {\n        background-color: inherit;\n      }\n\n      .react-calendar__tile,\n      .react-calendar__tile--now {\n        margin-bottom: 4px;\n        background-color: inherit;\n        height: 26px;\n      }\n\n      .react-calendar__navigation__label,\n      .react-calendar__navigation > button:focus,\n      .time-picker-calendar-tile:focus {\n        outline: 0;\n      }\n\n      .react-calendar__tile--active,\n      .react-calendar__tile--active:hover {\n        color: ",";\n        font-weight: ",";\n        background: ",";\n        box-shadow: none;\n        border: 0px;\n      }\n\n      .react-calendar__tile--rangeEnd,\n      .react-calendar__tile--rangeStart {\n        padding: 0;\n        border: 0px;\n        color: ",";\n        font-weight: ",";\n        background: ",";\n\n        abbr {\n          background-color: ",";\n          border-radius: 100px;\n          display: block;\n          padding-top: 2px;\n          height: 26px;\n        }\n      }\n\n      .react-calendar__tile--rangeStart {\n        border-top-left-radius: 20px;\n        border-bottom-left-radius: 20px;\n      }\n\n      .react-calendar__tile--rangeEnd {\n        border-top-right-radius: 20px;\n        border-bottom-right-radius: 20px;\n      }\n    "])),e.zIndex.modal,t.background,e.colors.text,e.typography.weight.semibold,e.colors.blueShade,e.colors.white,e.typography.weight.semibold,e.colors.blue95,e.colors.white,e.typography.weight.semibold,e.colors.blue95,e.colors.blue77)}}),V=Object(w.g)(function(e){var t=I(e);return{container:Object(b.css)(p||(p=Object(h.__makeTemplateObject)(["\n      background-color: ",";\n      display: flex;\n      justify-content: space-between;\n      padding: 7px;\n    "],["\n      background-color: ",";\n      display: flex;\n      justify-content: space-between;\n      padding: 7px;\n    "])),t.background),close:Object(b.css)(f||(f=Object(h.__makeTemplateObject)(["\n      cursor: pointer;\n      font-size: ",";\n    "],["\n      cursor: pointer;\n      font-size: ",";\n    "])),e.typography.size.lg)}}),$=function(e){return e.stopPropagation()},B=Object(m.memo)(function(e){var t=Object(w.h)(),n=F(t),a=e.isOpen,r=e.isFullscreen;return a?r?g.a.createElement(P.a,{onClick:e.onClose},g.a.createElement("div",{className:n.container,onClick:$},g.a.createElement(q,Object(h.__assign)({},e)))):g.a.createElement(N.a,null,g.a.createElement("div",{className:n.modal,onClick:$},g.a.createElement("div",{className:n.content},g.a.createElement(U,Object(h.__assign)({},e)),g.a.createElement(q,Object(h.__assign)({},e)),g.a.createElement(z,Object(h.__assign)({},e)))),g.a.createElement("div",{className:n.backdrop,onClick:$})):null}),U=Object(m.memo)(function(e){var t=e.onClose,n=Object(w.h)(),a=V(n);return g.a.createElement("div",{className:a.container},g.a.createElement(_,null,"Select a time range"),g.a.createElement("i",{className:Object(b.cx)(a.close,"fa","fa-times"),onClick:t}))}),q=Object(m.memo)(function(e){var t=e.onChange,n=e.from,a=e.to,r=Object(h.__read)(Object(m.useState)(),2),i=r[0],o=r[1],s=Object(w.h)(),l=R(s);return Object(m.useEffect)(function(){o(function(e,t){var n=k(e),a=k(t),r=n.isValid()?n.toDate():new Date,i=a.isValid()?a.toDate():new Date;if(r>i)return[i,r];return[r,i]}(n,a))},[]),g.a.createElement(M.a,{selectRange:!0,next2Label:null,prev2Label:null,className:l.body,tileClassName:l.title,value:i,nextLabel:g.a.createElement("span",{className:"fa fa-angle-right"}),prevLabel:g.a.createElement("span",{className:"fa fa-angle-left"}),onChange:function(e){return function(e,t){var n=Object(h.__read)(e,2),a=n[0],r=n[1],i=Object(x.dateTime)(a).format(x.TIME_FORMAT),o=Object(x.dateTime)(r).format(x.TIME_FORMAT);return t(i,o)}(e,t)},locale:"en"})}),z=Object(m.memo)(function(e){var t=e.onClose,n=e.onApply,a=Object(w.h)(),r=L(a);return g.a.createElement("div",{className:r.container},g.a.createElement(A.a.Button,{className:r.apply,onClick:n},"Apply time range"),g.a.createElement(A.a.Button,{variant:"secondary",onClick:t},"Cancel"))});var H=function(e){var t=e.value,n=e.isFullscreen,a=void 0!==n&&n,r=e.timeZone,i=e.roundup,o=Object(h.__read)(Object(m.useState)(W(t.raw.from,!1,r)),2),s=o[0],l=o[1],c=Object(h.__read)(Object(m.useState)(W(t.raw.to,!0,r)),2),u=c[0],d=c[1],p=Object(h.__read)(Object(m.useState)(!1),2),f=p[0],b=p[1],v=Object(m.useCallback)(function(e){e.preventDefault(),b(!0)},[b]),y=Object(m.useCallback)(function(e){a&&v(e)},[a,v]),w=Object(m.useCallback)(function(){u.invalid||s.invalid||e.onApply(function(e,t,n,a){var r=k(e,n,a),i=k(t,n,a);return x.dateMath.isMathString(e)||x.dateMath.isMathString(t)?{from:r,to:i,raw:{from:e,to:t}}:{from:r,to:i,raw:{from:r,to:i}}}(s.value,u.value,i,r))},[s,u,i,r]),O=Object(m.useCallback)(function(e,t){l(W(e,!1,r)),d(W(t,!0,r))},[r]),_=a?null:g.a.createElement(A.a.Button,{icon:"fa fa-calendar",variant:"secondary",onClick:v});return g.a.createElement(g.a.Fragment,null,g.a.createElement(A.a.Field,{label:"From",invalid:s.invalid,error:'Please enter a past date or "now"'},g.a.createElement(A.a.Input,{onClick:function(e){return e.stopPropagation()},onFocus:y,onChange:function(e){return l(G(e,!1,r))},addonAfter:_,value:s.value})),g.a.createElement(A.a.Field,{label:"To",invalid:u.invalid,error:'Please enter a past date or "now"'},g.a.createElement(A.a.Input,{onClick:function(e){return e.stopPropagation()},onFocus:y,onChange:function(e){return d(G(e,!0,r))},addonAfter:_,value:u.value})),g.a.createElement(A.a.Button,{onClick:w},"Apply time range"),g.a.createElement(B,{isFullscreen:a,isOpen:f,from:s.value,to:u.value,onApply:w,onClose:function(){return b(!1)},onChange:O}))};function G(e,t,n){return W(e.currentTarget.value,t,n)}function W(e,t,n){var a=function(e){if(Object(x.isDateTime)(e))return e.format(x.TIME_FORMAT);return e}(e);return{value:a,invalid:!function(e,t,n){if(x.dateMath.isMathString(e))return j(e);return k(e,t,n).isValid()}(a,t,n)}}var Q,Y,K,J=n("vkM9"),Z=Object(w.g)(function(e){var t=Object(w.e)({light:e.colors.gray7,dark:e.colors.dark3},e.type);return{container:Object(b.css)(Q||(Q=Object(h.__makeTemplateObject)(["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 7px 9px 7px 9px;\n      border-left: 2px solid rgba(255, 255, 255, 0);\n\n      &:hover {\n        background: ",";\n        border-image: linear-gradient(#f05a28 30%, #fbca0a 99%);\n        border-image-slice: 1;\n        border-style: solid;\n        border-top: 0;\n        border-right: 0;\n        border-bottom: 0;\n        border-left-width: 2px;\n        cursor: pointer;\n      }\n    "],["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 7px 9px 7px 9px;\n      border-left: 2px solid rgba(255, 255, 255, 0);\n\n      &:hover {\n        background: ",";\n        border-image: linear-gradient(#f05a28 30%, #fbca0a 99%);\n        border-image-slice: 1;\n        border-style: solid;\n        border-top: 0;\n        border-right: 0;\n        border-bottom: 0;\n        border-left-width: 2px;\n        cursor: pointer;\n      }\n    "])),t)}}),X=Object(m.memo)(function(e){var t=e.value,n=e.onSelect,a=e.selected,r=void 0!==a&&a,i=Object(w.h)(),o=Z(i);return g.a.createElement("div",{className:o.container,onClick:function(){return n(t)},tabIndex:-1},g.a.createElement("span",null,t.display),r?g.a.createElement("i",{className:"fa fa-check"}):null)}),ee=Object(w.g)(function(){return{title:Object(b.css)(Y||(Y=Object(h.__makeTemplateObject)(["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 8px 16px 5px 9px;\n    "],["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 8px 16px 5px 9px;\n    "])))}}),te=Object(w.g)(function(){return{grow:Object(b.css)(K||(K=Object(h.__makeTemplateObject)(["\n      flex-grow: 1;\n      align-items: flex-start;\n    "],["\n      flex-grow: 1;\n      align-items: flex-start;\n    "])))}}),ne=function(e){var t=ee(),n=e.title,a=e.options,r=e.placeholderEmpty;return void 0!==r&&a.length<=0?g.a.createElement(g.a.Fragment,null,r):n?g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:t.title},g.a.createElement(_,null,n)),g.a.createElement(ae,Object(h.__assign)({},e))):g.a.createElement(ae,Object(h.__assign)({},e))},ae=function(e){var t=e.options,n=e.value,a=e.onSelect,r=e.timeZone,i=te();return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",null,t.map(function(e,t){return g.a.createElement(X,{key:re(e,t),value:e,selected:ie(e,n),onSelect:function(e){return a(function(e,t){return{from:S(e.from,!1,t),to:S(e.to,!0,t),raw:{from:e.from,to:e.to}}}(e,r))}})})),g.a.createElement("div",{className:i.grow}))};function re(e,t){return e.from+"-"+e.to+"-"+t}function ie(e,t){return!(!t||!e)&&(t.raw.from===e.from&&t.raw.to===e.to)}var oe,se,le,ce,ue,de,pe,fe,he,me,ge,be,ve=Object(w.g)(function(e){var t=I(e);return{container:Object(b.css)(oe||(oe=Object(h.__makeTemplateObject)(["\n      display: flex;\n      background: ",";\n      box-shadow: 0px 0px 20px ",";\n      position: absolute;\n      z-index: ",";\n      width: 546px;\n      height: 381px;\n      top: 116%;\n      margin-left: -322px;\n\n      @media only screen and (max-width: ",") {\n        width: 218px;\n        margin-left: 6px;\n      }\n\n      @media only screen and (max-width: ",") {\n        width: 264px;\n        margin-left: -100px;\n      }\n    "],["\n      display: flex;\n      background: ",";\n      box-shadow: 0px 0px 20px ",";\n      position: absolute;\n      z-index: ",";\n      width: 546px;\n      height: 381px;\n      top: 116%;\n      margin-left: -322px;\n\n      @media only screen and (max-width: ",") {\n        width: 218px;\n        margin-left: 6px;\n      }\n\n      @media only screen and (max-width: ",") {\n        width: 264px;\n        margin-left: -100px;\n      }\n    "])),t.background,t.shadow,e.zIndex.modal,e.breakpoints.lg,e.breakpoints.sm),leftSide:Object(b.css)(se||(se=Object(h.__makeTemplateObject)(["\n      display: flex;\n      flex-direction: column;\n      border-right: 1px solid ",";\n      width: 60%;\n      overflow: hidden;\n\n      @media only screen and (max-width: ",") {\n        display: none;\n      }\n    "],["\n      display: flex;\n      flex-direction: column;\n      border-right: 1px solid ",";\n      width: 60%;\n      overflow: hidden;\n\n      @media only screen and (max-width: ",") {\n        display: none;\n      }\n    "])),t.border,e.breakpoints.lg),rightSide:Object(b.css)(le||(le=Object(h.__makeTemplateObject)(["\n      width: 40% !important;\n\n      @media only screen and (max-width: ",") {\n        width: 100% !important;\n      }\n    "],["\n      width: 40% !important;\n\n      @media only screen and (max-width: ",") {\n        width: 100% !important;\n      }\n    "])),e.breakpoints.lg),spacing:Object(b.css)(ce||(ce=Object(h.__makeTemplateObject)(["\n      margin-top: 16px;\n    "],["\n      margin-top: 16px;\n    "])))}}),ye=Object(w.g)(function(e){var t=I(e);return{header:Object(b.css)(ue||(ue=Object(h.__makeTemplateObject)(["\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid ",";\n      padding: 7px 9px 7px 9px;\n    "],["\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid ",";\n      padding: 7px 9px 7px 9px;\n    "])),t.border),body:Object(b.css)(de||(de=Object(h.__makeTemplateObject)(["\n      border-bottom: 1px solid ",";\n      background: ",";\n      box-shadow: inset 0px 2px 2px ",";\n    "],["\n      border-bottom: 1px solid ",";\n      background: ",";\n      box-shadow: inset 0px 2px 2px ",";\n    "])),t.border,t.formBackground,t.shadow),form:Object(b.css)(pe||(pe=Object(h.__makeTemplateObject)(["\n      padding: 7px 9px 7px 9px;\n    "],["\n      padding: 7px 9px 7px 9px;\n    "])))}}),we=Object(w.g)(function(e){return{container:Object(b.css)(fe||(fe=Object(h.__makeTemplateObject)(["\n      padding-top: 9px;\n      padding-left: 11px;\n      padding-right: 20%;\n    "],["\n      padding-top: 9px;\n      padding-left: 11px;\n      padding-right: 20%;\n    "]))),title:Object(b.css)(he||(he=Object(h.__makeTemplateObject)(["\n      margin-bottom: 11px;\n    "],["\n      margin-bottom: 11px;\n    "]))),recent:Object(b.css)(me||(me=Object(h.__makeTemplateObject)(["\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-end;\n    "],["\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-end;\n    "])))}}),xe=Object(w.g)(function(e){var t=I(e);return{container:Object(b.css)(ge||(ge=Object(h.__makeTemplateObject)(["\n      background-color: ",";\n      padding: 12px;\n      margin: 12px;\n\n      a,\n      span {\n        font-size: 13px;\n      }\n    "],["\n      background-color: ",";\n      padding: 12px;\n      margin: 12px;\n\n      a,\n      span {\n        font-size: 13px;\n      }\n    "])),t.formBackground),link:Object(b.css)(be||(be=Object(h.__makeTemplateObject)(["\n      color: ",";\n    "],["\n      color: ",";\n    "])),e.colors.linkExternal)}}),Oe=function(e){var t=Object(w.h)(),n=ve(t),a=function(e,t){if(!Array.isArray(e)||0===e.length)return[];return e.slice(e.length-4).map(function(e){return C(e,t)})}(e.history,e.timeZone),r=e.quickOptions,i=void 0===r?[]:r,o=e.otherOptions,s=void 0===o?[]:o,l=e.isFullscreen;return g.a.createElement("div",{className:n.container},g.a.createElement("div",{className:n.leftSide},g.a.createElement(je,Object(h.__assign)({},e,{visible:l,historyOptions:a}))),g.a.createElement(J.a,{className:n.rightSide},g.a.createElement(ke,Object(h.__assign)({},e,{visible:!l,historyOptions:a})),g.a.createElement(ne,{title:"Relative time ranges",options:i,onSelect:e.onChange,value:e.value,timeZone:e.timeZone}),g.a.createElement("div",{className:n.spacing}),g.a.createElement(ne,{title:"Other quick ranges",options:s,onSelect:e.onChange,value:e.value,timeZone:e.timeZone})))},_e=function(e){var t=Object(w.h)(),n=Object(y.a)("(min-width: "+t.breakpoints.lg+")");return g.a.createElement(Oe,Object(h.__assign)({},e,{isFullscreen:n}))},ke=function(e){if(!e.visible)return null;var t=Object(w.h)(),n=ye(t),a=Object(x.isDateTime)(e.value.raw.from)||Object(x.isDateTime)(e.value.raw.to),r=Object(h.__read)(Object(m.useState)(a),2),i=r[0],o=r[1];return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:n.header,onClick:function(){return o(!i)}},g.a.createElement(_,null,"Absolute time range"),i?g.a.createElement("i",{className:"fa fa-caret-up"}):g.a.createElement("i",{className:"fa fa-caret-down"})),i&&g.a.createElement("div",{className:n.body},g.a.createElement("div",{className:n.form},g.a.createElement(H,{value:e.value,onApply:e.onChange,timeZone:e.timeZone,isFullscreen:!1})),g.a.createElement(ne,{title:"Recently used absolute ranges",options:e.historyOptions||[],onSelect:e.onChange,value:e.value,placeholderEmpty:null,timeZone:e.timeZone})))},je=function(e){if(!e.visible)return null;var t=Object(w.h)(),n=we(t);return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:n.container},g.a.createElement("div",{className:n.title},g.a.createElement(_,null,"Absolute time range")),g.a.createElement(H,{value:e.value,timeZone:e.timeZone,onApply:e.onChange,isFullscreen:!0})),g.a.createElement("div",{className:n.recent},g.a.createElement(ne,{title:"Recently used absolute ranges",options:e.historyOptions||[],onSelect:e.onChange,value:e.value,placeholderEmpty:g.a.createElement(Ce,null),timeZone:e.timeZone})))},Ce=Object(m.memo)(function(){var e=Object(w.h)(),t=xe(e);return g.a.createElement("div",{className:t.container},g.a.createElement("div",null,g.a.createElement("span",null,"It looks like you haven't used this timer picker before. As soon as you enter some time intervals, recently used intervals will appear here.")),g.a.createElement("div",null,g.a.createElement("a",{className:t.link,href:"https://grafana.com/docs/grafana/latest/reference/timerange/",target:"_new"},"Read the documentation"),g.a.createElement("span",null," to find out more about how to enter custom time ranges.")))});var Se=n("qQGB"),Ee=n("Fts8");n.d(t,"a",function(){return Ge});var Te,Me,Ae,Ne,De,Ie,Pe,Fe=[{from:"now-5m",to:"now",display:"Last 5 minutes",section:3},{from:"now-15m",to:"now",display:"Last 15 minutes",section:3},{from:"now-30m",to:"now",display:"Last 30 minutes",section:3},{from:"now-1h",to:"now",display:"Last 1 hour",section:3},{from:"now-3h",to:"now",display:"Last 3 hours",section:3},{from:"now-6h",to:"now",display:"Last 6 hours",section:3},{from:"now-12h",to:"now",display:"Last 12 hours",section:3},{from:"now-24h",to:"now",display:"Last 24 hours",section:3},{from:"now-2d",to:"now",display:"Last 2 days",section:3},{from:"now-7d",to:"now",display:"Last 7 days",section:3},{from:"now-30d",to:"now",display:"Last 30 days",section:3},{from:"now-90d",to:"now",display:"Last 90 days",section:3},{from:"now-6M",to:"now",display:"Last 6 months",section:3},{from:"now-1y",to:"now",display:"Last 1 year",section:3},{from:"now-2y",to:"now",display:"Last 2 years",section:3},{from:"now-5y",to:"now",display:"Last 5 years",section:3}],Le=[{from:"now-1d/d",to:"now-1d/d",display:"Yesterday",section:3},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday",section:3},{from:"now-7d/d",to:"now-7d/d",display:"This day last week",section:3},{from:"now-1w/w",to:"now-1w/w",display:"Previous week",section:3},{from:"now-1M/M",to:"now-1M/M",display:"Previous month",section:3},{from:"now-1y/y",to:"now-1y/y",display:"Previous year",section:3},{from:"now/d",to:"now/d",display:"Today",section:3},{from:"now/d",to:"now",display:"Today so far",section:3},{from:"now/w",to:"now/w",display:"This week",section:3},{from:"now/w",to:"now",display:"This week so far",section:3},{from:"now/M",to:"now/M",display:"This month",section:3},{from:"now/M",to:"now",display:"This month so far",section:3},{from:"now/y",to:"now/y",display:"This year",section:3},{from:"now/y",to:"now",display:"This year so far",section:3}],Re=Object(Se.a)(function(e){return{container:Object(b.css)(Te||(Te=Object(h.__makeTemplateObject)(["\n      position: relative;\n      display: flex;\n      flex-flow: column nowrap;\n    "],["\n      position: relative;\n      display: flex;\n      flex-flow: column nowrap;\n    "]))),buttons:Object(b.css)(Me||(Me=Object(h.__makeTemplateObject)(["\n      display: flex;\n    "],["\n      display: flex;\n    "]))),caretIcon:Object(b.css)(Ae||(Ae=Object(h.__makeTemplateObject)(["\n      margin-left: 3px;\n\n      i {\n        font-size: ",";\n      }\n    "],["\n      margin-left: 3px;\n\n      i {\n        font-size: ",";\n      }\n    "])),e.typography.size.md),syncedTimePicker:Object(b.css)(Ne||(Ne=Object(h.__makeTemplateObject)(["\n      label: syncedTimePicker;\n      border-color: ",";\n      background-image: none;\n      background-color: transparent;\n      color: ",";\n      &:focus,\n      :hover {\n        color: ",";\n        background-image: none;\n        background-color: transparent;\n      }\n    "],["\n      label: syncedTimePicker;\n      border-color: ",";\n      background-image: none;\n      background-color: transparent;\n      color: ",";\n      &:focus,\n      :hover {\n        color: ",";\n        background-image: none;\n        background-color: transparent;\n      }\n    "])),e.colors.orangeDark,e.colors.orangeDark,e.colors.orangeDark),noRightBorderStyle:Object(b.css)(De||(De=Object(h.__makeTemplateObject)(["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "],["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "])))}}),Ve=Object(Se.a)(function(e){return{container:Object(b.css)(Ie||(Ie=Object(h.__makeTemplateObject)(["\n      display: inline-block;\n    "],["\n      display: inline-block;\n    "]))),utc:Object(b.css)(Pe||(Pe=Object(h.__makeTemplateObject)(["\n      color: ",";\n      font-size: 75%;\n      padding: 3px;\n      font-weight: ",";\n    "],["\n      color: ",";\n      font-size: 75%;\n      padding: 3px;\n      font-weight: ",";\n    "])),e.colors.orange,e.typography.weight.semibold)}}),$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.onChange=function(e){t.props.onChange(e),t.setState({isOpen:!1})},t.onOpen=function(e){var n=t.state.isOpen;e.stopPropagation(),t.setState({isOpen:!n})},t.onClose=function(){t.setState({isOpen:!1})},t}return Object(h.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props,a=n.value,r=n.onMoveBackward,i=n.onMoveForward,o=n.onZoom,s=n.timeZone,l=n.timeSyncButton,c=n.isSynced,u=n.theme,d=n.history,p=this.state.isOpen,f=Re(u),m=Object(x.isDateTime)(a.raw.from)||Object(x.isDateTime)(a.raw.to),y=l&&c,w=Object(b.cx)("fa fa-clock-o fa-fw",((e={})["icon-brand-gradient"]=y,e)),O=Object(b.cx)("btn navbar-button navbar-button--tight",((t={})["btn--radius-right-0 "+f.noRightBorderStyle]=!!l,t["explore-active-button-glow "+f.syncedTimePicker]=y,t));return g.a.createElement("div",{className:f.container},g.a.createElement("div",{className:f.buttons},m&&g.a.createElement("button",{className:"btn navbar-button navbar-button--tight",onClick:r},g.a.createElement("i",{className:"fa fa-chevron-left"})),g.a.createElement("div",null,g.a.createElement(v.b,{content:g.a.createElement(Ue,{timeRange:a}),placement:"bottom"},g.a.createElement("button",{"aria-label":"TimePicker Open Button",className:O,onClick:this.onOpen},g.a.createElement("i",{className:w}),g.a.createElement(qe,Object(h.__assign)({},this.props)),g.a.createElement("span",{className:f.caretIcon},p?g.a.createElement("i",{className:"fa fa-caret-up fa-fw"}):g.a.createElement("i",{className:"fa fa-caret-down fa-fw"})))),p&&g.a.createElement(P.a,{onClick:this.onClose},g.a.createElement(_e,{timeZone:s,value:a,onChange:this.onChange,otherOptions:Le,quickOptions:Fe,history:d}))),l,m&&g.a.createElement("button",{className:"btn navbar-button navbar-button--tight",onClick:i},g.a.createElement("i",{className:"fa fa-chevron-right"})),g.a.createElement(v.b,{content:Be,placement:"bottom"},g.a.createElement("button",{className:"btn navbar-button navbar-button--zoom",onClick:o},g.a.createElement("i",{className:"fa fa-search-minus"})))))},t}(m.PureComponent),Be=function(){return g.a.createElement(g.a.Fragment,null,"Time range zoom out ",g.a.createElement("br",null)," CTRL+Z")},Ue=function(e){var t=e.timeRange;return g.a.createElement(g.a.Fragment,null,t.from.format(x.TIME_FORMAT),g.a.createElement("div",{className:"text-center"},"to"),t.to.format(x.TIME_FORMAT))},qe=Object(m.memo)(function(e){var t=Object(Ee.c)(),n=Ve(t),a="utc"===e.timeZone;return e.hideText?null:g.a.createElement("span",{className:n.container},g.a.createElement("span",null,ze(e.value,a)),a&&g.a.createElement("span",{className:n.utc},"UTC"))}),ze=function(e,t){var n={to:x.dateMath.isMathString(e.raw.to)?e.raw.to:He(e.to,t),from:x.dateMath.isMathString(e.raw.from)?e.raw.from:He(e.from,t)};return x.rangeUtil.describeTimeRange(n)},He=function(e,t){return t?e.utc()||null:e.local()||null},Ge=Object(Ee.d)($e)},"3XPa":function(e,t){var n="public/app/features/folders/partials/create_folder.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body" ng-cloak>\n\n\t<h3 class=page-sub-heading>New Dashboard Folder</h3>\n\n  <form name=ctrl.saveForm ng-submit=ctrl.create() novalidate>\n\t\t<div class=gf-form-inline>\n\t\t\t<div class="gf-form gf-form--grow">\n\t\t\t\t<label class="gf-form-label width-10">Name</label>\n\t\t\t\t<input type=text class=gf-form-input ng-model=ctrl.title give-focus=true ng-change=ctrl.titleChanged() ng-model-options="{ debounce: 400 }" ng-class="{\'validation-error\': ctrl.nameExists || !ctrl.dash.title}">\n\t\t\t\t<label class="gf-form-label text-success" ng-if="ctrl.titleTouched && !ctrl.hasValidationError">\n\t\t\t\t\t<i class="fa fa-check"></i>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=gf-form-inline ng-if=ctrl.hasValidationError>\n\t\t\t<div class="gf-form offset-width-10 gf-form--grow">\n\t\t\t\t<label class="gf-form-label text-warning gf-form-label--grow">\n\t\t\t\t\t<i class="fa fa-warning"></i>\n\t\t\t\t\t{{ctrl.validationError}}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=gf-form-button-row>\n\t\t\t<button type=submit class="btn btn-primary width-12" ng-disabled="!ctrl.titleTouched || ctrl.hasValidationError">\n\t\t\t\tCreate\n\t\t\t</button>\n\t\t</div>\n\t</form>\n\n</div>\n\n<footer/>\n')}]),e.exports=n},"3lkw":function(e,t){var n="public/app/features/manage-dashboards/components/MoveToFolderModal/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body>\n  <div class=modal-header>\n    <h2 class=modal-header-title>\n\t\t\t<i class="gicon gicon-folder-new"></i>\n      <span class=p-l-1>Choose Dashboard Folder</span>\n    </h2>\n\n    <a class=modal-header-close ng-click=ctrl.dismiss();>\n      <i class="fa fa-remove"></i>\n    </a>\n  </div>\n\n  <form name=ctrl.saveForm ng-submit=ctrl.save() class="modal-content folder-modal" novalidate>\n    <p>Move the {{ctrl.dashboards.length}} selected dashboards to the following folder:</p>\n\n    <div class=p-t-2>\n      <div class=gf-form>\n          <folder-picker on-load=ctrl.onFolderChange($folder) on-change=ctrl.onFolderChange($folder) enter-folder-creation=ctrl.onEnterFolderCreation() exit-folder-creation=ctrl.onExitFolderCreation() enable-create-new=true label-class=width-7>\n          </folder-picker>\n      </div>\n    </div>\n    <div class="gf-form-button-row text-center">\n      <button type=submit class="btn btn-primary" ng-disabled="ctrl.saveForm.$invalid || !ctrl.isValidFolderSelection">Move</button>\n      <a class=btn-text ng-click=ctrl.dismiss();>Cancel</a>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},"3oeA":function(e,t){!function(e){e.plot.plugins.push({init:function(t){var n={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},a={},r=null;function i(e){n.active&&(d(e),t.getPlaceholder().trigger("plotselecting",[s()]))}function o(i){1==i.which&&(document.body.focus(),void 0!==document.onselectstart&&null==a.onselectstart&&(a.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==a.ondrag&&(a.ondrag=document.ondrag,document.ondrag=function(){return!1}),u(n.first,i),n.active=!0,r=function(e){!function(e){r=null,void 0!==document.onselectstart&&(document.onselectstart=a.onselectstart),void 0!==document.ondrag&&(document.ondrag=a.ondrag),n.active=!1,d(e),h()?l(e):(t.getPlaceholder().trigger("plotunselected",[]),t.getPlaceholder().trigger("plotselecting",[null])),setTimeout(function(){t.isSelecting=!1},10)}(e)},e(document).one("mouseup",r))}function s(){if(!h())return null;if(!n.show)return null;var a={},r=n.first,i=n.second,o=t.getAxes();return e.each(o,function(e,t){t.used&&(anyUsed=!1)}),e.each(o,function(e,t){t.used;var n=t.c2p(r[t.direction]),o=t.c2p(i[t.direction]);a[e]={from:Math.min(n,o),to:Math.max(n,o)}}),a}function l(e){var n=s();n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,t.getPlaceholder().trigger("plotselected",[n]),n.xaxis&&n.yaxis&&t.getPlaceholder().trigger("selected",[{x1:n.xaxis.from,y1:n.yaxis.from,x2:n.xaxis.to,y2:n.yaxis.to}])}function c(e,t,n){return t<e?e:t>n?n:t}function u(e,a){var r=t.getOptions(),i=t.getPlaceholder().offset(),o=t.getPlotOffset();e.x=c(0,a.pageX-i.left-o.left,t.width()),e.y=c(0,a.pageY-i.top-o.top,t.height()),"y"==r.selection.mode&&(e.x=e==n.first?0:t.width()),"x"==r.selection.mode&&(e.y=e==n.first?0:t.height())}function d(e){null!=e.pageX&&(u(n.second,e),h()?(t.isSelecting=!0,n.show=!0,t.triggerRedrawOverlay()):p(!0))}function p(e){n.show&&(n.show=!1,t.triggerRedrawOverlay(),e||t.getPlaceholder().trigger("plotunselected",[]))}function f(e,n){var a,r,i,o,s=t.getAxes();for(var l in s)if((a=s[l]).direction==n&&(e[o=n+a.n+"axis"]||1!=a.n||(o=n+"axis"),e[o])){r=e[o].from,i=e[o].to;break}if(e[o]||(a="x"==n?t.getXAxes()[0]:t.getYAxes()[0],r=e[n+"1"],i=e[n+"2"]),null!=r&&null!=i&&r>i){var c=r;r=i,i=c}return{from:r,to:i,axis:a}}function h(){var e=t.getOptions().selection.minSize;return Math.abs(n.second.x-n.first.x)>=e&&Math.abs(n.second.y-n.first.y)>=e}t.clearSelection=p,t.setSelection=function(e,a){var r,i=t.getOptions();"y"==i.selection.mode?(n.first.x=0,n.second.x=t.width()):(r=f(e,"x"),n.first.x=r.axis.p2c(r.from),n.second.x=r.axis.p2c(r.to)),"x"==i.selection.mode?(n.first.y=0,n.second.y=t.height()):(r=f(e,"y"),n.first.y=r.axis.p2c(r.from),n.second.y=r.axis.p2c(r.to)),n.show=!0,t.triggerRedrawOverlay(),!a&&h()&&l()},t.getSelection=s,t.hooks.bindEvents.push(function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(i),t.mousedown(o))}),t.hooks.drawOverlay.push(function(t,a){if(n.show&&h()){var r=t.getPlotOffset(),i=t.getOptions();a.save(),a.translate(r.left,r.top);var o=e.color.parse(i.selection.color);a.strokeStyle=o.scale("a",.8).toString(),a.lineWidth=1,a.lineJoin=i.selection.shape,a.fillStyle=o.scale("a",.4).toString();var s=Math.min(n.first.x,n.second.x)+.5,l=Math.min(n.first.y,n.second.y)+.5,c=Math.abs(n.second.x-n.first.x)-1,u=Math.abs(n.second.y-n.first.y)-1;a.fillRect(s,l,c,u),a.strokeRect(s,l,c,u),a.restore()}}),t.hooks.shutdown.push(function(t,n){n.unbind("mousemove",i),n.unbind("mousedown",o),r&&(e(document).unbind("mouseup",r),void 0!==document.onselectstart&&(document.onselectstart=a.onselectstart),void 0!==document.ondrag&&(document.ondrag=a.ondrag))})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery)},"3p3q":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s=n("9iwZ");function l(e){var t=e.item;return t.userAvatarUrl?i.a.createElement("img",{className:"filter-table__avatar",src:t.userAvatarUrl}):t.teamAvatarUrl?i.a.createElement("img",{className:"filter-table__avatar",src:t.teamAvatarUrl}):"Editor"===t.role?i.a.createElement("i",{style:{width:"25px",height:"25px"},className:"gicon gicon-editor"}):i.a.createElement("i",{style:{width:"25px",height:"25px"},className:"gicon gicon-viewer"})}function c(e){var t=e.item;return t.userId?i.a.createElement("span",{className:"filter-table__weak-italic"},"(User)"):t.teamId?i.a.createElement("span",{className:"filter-table__weak-italic"},"(Team)"):i.a.createElement("span",{className:"filter-table__weak-italic"},"(Role)")}var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPermissionChanged=function(e){t.props.onPermissionChanged(t.props.item,e.value)},t.onRemoveItem=function(){t.props.onRemoveItem(t.props.item)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.item,a=t.folderInfo,r=-1===n.dashboardId&&!n.inherited,u=s.f.find(function(e){return e.value===n.permission});return i.a.createElement("tr",{className:(e=n.inherited,e?"gf-form-disabled":"")},i.a.createElement("td",{style:{width:"1%"}},i.a.createElement(l,{item:n})),i.a.createElement("td",{style:{width:"90%"}},n.name," ",i.a.createElement(c,{item:n})),i.a.createElement("td",null,n.inherited&&a&&i.a.createElement("em",{className:"muted no-wrap"},"Inherited from folder"," ",i.a.createElement("a",{className:"text-link",href:a.url+"/permissions"},a.title)," "),r&&i.a.createElement("em",{className:"muted no-wrap"},"Default Permission")),i.a.createElement("td",{className:"query-keyword"},"Can"),i.a.createElement("td",null,i.a.createElement("div",{className:"gf-form"},i.a.createElement(o.Select,{isSearchable:!1,options:s.f,onChange:this.onPermissionChanged,isDisabled:n.inherited,className:"gf-form-select-box__control--menu-right",value:u}))),i.a.createElement("td",null,n.inherited?i.a.createElement("button",{className:"btn btn-inverse btn-small"},i.a.createElement("i",{className:"fa fa-lock"})):i.a.createElement("a",{className:"btn btn-danger btn-small",onClick:this.onRemoveItem},i.a.createElement("i",{className:"fa fa-remove"}))))},t}(r.PureComponent),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.item,t=s.f.find(function(t){return t.value===e.permission});return i.a.createElement("tr",{className:"gf-form-disabled"},i.a.createElement("td",{style:{width:"1%"}},i.a.createElement("i",{style:{width:"25px",height:"25px"},className:"gicon gicon-shield"})),i.a.createElement("td",{style:{width:"90%"}},e.name,i.a.createElement("span",{className:"filter-table__weak-italic"}," (Role)")),i.a.createElement("td",null),i.a.createElement("td",{className:"query-keyword"},"Can"),i.a.createElement("td",null,i.a.createElement("div",{className:"gf-form"},i.a.createElement(o.Select,{options:s.f,onChange:function(){},isDisabled:!0,className:"gf-form-select-box__control--menu-right",value:t}))),i.a.createElement("td",null,i.a.createElement("button",{className:"btn btn-inverse btn-small"},i.a.createElement("i",{className:"fa fa-lock"}))))},t}(r.Component),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.onRemoveItem,a=e.onPermissionChanged,r=e.isFetching,o=e.folderInfo;return i.a.createElement("table",{className:"filter-table gf-form-group"},i.a.createElement("tbody",null,i.a.createElement(d,{key:0,item:{name:"Admin",permission:4,icon:"fa fa-fw fa-street-view"}}),t.map(function(e,t){return i.a.createElement(u,{key:t+1,item:e,onRemoveItem:n,onPermissionChanged:a,folderInfo:o})}),!0===r&&t.length<1?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:4},i.a.createElement("em",null,"Loading permissions..."))):null,!1===r&&t.length<1?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:4},i.a.createElement("em",null,"No permissions are set. Will only be accessible by admins."))):null))},t}(r.PureComponent);t.a=p},"3ulR":function(e,t,n){"use strict";var a=n("LvDl"),r=n.n(a),i=n("QNPh"),o=new i.b({type:"query",params:[{name:"queryRefId",type:"string",dynamicLookup:!0},{name:"from",type:"string",options:["10s","1m","5m","10m","15m","1h","24h","48h"]},{name:"to",type:"string",options:["now","now-1m","now-5m","now-10m","now-1h"]}],defaultParams:["#A","15m","now","avg"]});function s(e,t){return r.a.reduce(e,function(e,t){return void 0!==t.metric&&void 0!==t.value&&e.push(t.metric+"="+t.value),void 0!==t.Metric&&void 0!==t.Value&&e.push(t.Metric+"="+t.Value),e},[]).join(t)}t.a={alertQueryDef:o,getStateDisplayModel:function(e){switch(e){case"ok":return{text:"OK",iconClass:"icon-gf icon-gf-online",stateClass:"alert-state-ok"};case"alerting":return{text:"ALERTING",iconClass:"icon-gf icon-gf-critical",stateClass:"alert-state-critical"};case"no_data":return{text:"NO DATA",iconClass:"fa fa-question",stateClass:"alert-state-warning"};case"paused":return{text:"PAUSED",iconClass:"fa fa-pause",stateClass:"alert-state-paused"};case"pending":return{text:"PENDING",iconClass:"fa fa-exclamation",stateClass:"alert-state-warning"};case"unknown":return{text:"UNKNOWN",iconClass:"fa fa-question",stateClass:"alert-state-paused"}}throw{message:"Unknown alert state"}},conditionTypes:[{text:"Query",value:"query"}],evalFunctions:[{text:"IS ABOVE",value:"gt"},{text:"IS BELOW",value:"lt"},{text:"IS OUTSIDE RANGE",value:"outside_range"},{text:"IS WITHIN RANGE",value:"within_range"},{text:"HAS NO VALUE",value:"no_value"}],evalOperators:[{text:"OR",value:"or"},{text:"AND",value:"and"}],noDataModes:[{text:"Alerting",value:"alerting"},{text:"No Data",value:"no_data"},{text:"Keep Last State",value:"keep_state"},{text:"Ok",value:"ok"}],executionErrorModes:[{text:"Alerting",value:"alerting"},{text:"Keep Last State",value:"keep_state"}],reducerTypes:[{text:"avg()",value:"avg"},{text:"min()",value:"min"},{text:"max()",value:"max"},{text:"sum()",value:"sum"},{text:"count()",value:"count"},{text:"last()",value:"last"},{text:"median()",value:"median"},{text:"diff()",value:"diff"},{text:"percent_diff()",value:"percent_diff"},{text:"count_non_null()",value:"count_non_null"}],createReducerPart:function(e){var t=new i.b({type:e.type,defaultParams:[]});return new i.a(e,t)},getAlertAnnotationInfo:function(e){return r.a.isArray(e.data)?s(e.data,", "):r.a.isArray(e.data.evalMatches)?s(e.data.evalMatches,", "):e.data.error?"Error: "+e.data.error:""},alertStateSortScore:{alerting:1,no_data:2,pending:3,ok:4,paused:5}}},"3x4x":function(e,t,n){"use strict";var a,r,i,o;function s(e){a=e}function l(){return a}function c(e){r=e}function u(){return r}function d(e){i=e}function p(){return i}function f(e){o=e}function h(){return o}var m=n("zlcF");n.d(t,"i",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return m.a}),n.d(t,"k",function(){return m.d}),n.d(t,"e",function(){return m.b}),n.d(t,"g",function(){return m.c})},"4DTL":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s=n("Xmxp"),l=n("GQ3c"),c=function(e){var t=e.main,n=e.customCss,a=t.children.find(function(e){return!0===e.active});return i.a.createElement("div",{className:"gf-form-select-wrapper width-20 "+n},i.a.createElement("label",{className:"gf-form-select-icon "+a.icon,htmlFor:"page-header-select-nav"}),i.a.createElement("select",{className:"gf-select-nav gf-form-input",value:a.url,onChange:function(e){var t=e.target,n=t.options[t.selectedIndex].value;s.b.emit(l.CoreEvents.locationChange,{href:n})},id:"page-header-select-nav"},t.children.map(function(e){return e.hideFromTabs?null:i.a.createElement("option",{key:e.url,value:e.url},e.text)})))},u=function(e){var t=e.main;return i.a.createElement("nav",null,i.a.createElement(c,{customCss:"page-header__select-nav",main:t}),i.a.createElement(o.TabsBar,{className:"page-header__tabs",hideBorder:!0},t.children.map(function(e,n){return!e.hideFromTabs&&i.a.createElement(o.Tab,{label:e.text,active:e.active,key:e.url+"-"+n,icon:e.icon,onChangeTab:function(){return function(e){t.children.forEach(function(t,n){n===e&&s.b.emit(l.CoreEvents.locationChange,{href:t.url})})}(n)}})})))},d=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.renderTitle=function(e,t){var n,r;if(!(e||t&&0!==t.length))return null;if(!t||0===t.length)return i.a.createElement("h1",{className:"page-header__title"},e);var o=[];try{for(var s=Object(a.__values)(t),l=s.next();!l.done;l=s.next()){var c=l.value;c.url?o.push(i.a.createElement("a",{className:"text-link",key:o.length,href:c.url},c.title)):o.push(i.a.createElement("span",{key:o.length}," / ",c.title))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.push(i.a.createElement("span",{key:t.length+1}," / ",e)),i.a.createElement("h1",{className:"page-header__title"},o)},t.prototype.renderHeaderTitle=function(e){return i.a.createElement("div",{className:"page-header__inner"},i.a.createElement("span",{className:"page-header__logo"},e.icon&&i.a.createElement("i",{className:"page-header__icon "+e.icon}),e.img&&i.a.createElement("img",{className:"page-header__img",src:e.img})),i.a.createElement("div",{className:"page-header__info-block"},this.renderTitle(e.text,e.breadcrumbs),e.subTitle&&i.a.createElement("div",{className:"page-header__sub-title"},e.subTitle)))},t.prototype.render=function(){var e=this.props.model;if(!e)return null;var t=e.main;return i.a.createElement("div",{className:"page-header-canvas"},i.a.createElement("div",{className:"page-container"},i.a.createElement("div",{className:"page-header"},this.renderHeaderTitle(t),t.children&&i.a.createElement(u,{main:t}))))},t}(i.a.Component);t.a=d},"4Qg+":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return m});var a,r,i,o,s,l,c=n("mrSG"),u=n("PAeb"),d=function(e){return"\n  outline: 2px dotted transparent;\n  outline-offset: 2px;\n  box-shadow: 0 0 0 2px "+e.colors.pageBg+", 0 0 0px 4px "+e.colors.formFocusOutline+";\n  transition: all 0.2s cubic-bezier(0.19, 1, 0.22, 1);\n"},p=function(e){return Object(u.css)(a||(a=Object(c.__makeTemplateObject)(["\n  &:focus {\n    ","\n  }\n"],["\n  &:focus {\n    ","\n  }\n"])),d(e))},f=function(e,t){void 0===t&&(t=!1);var n=e.colors,a=t?n.redBase:n.formInputBorder;return Object(u.css)(r||(r=Object(c.__makeTemplateObject)(["\n    background-color: ",";\n    line-height: ",";\n    font-size: ",";\n    color: ",";\n    border: 1px solid ",";\n    padding: 0 "," 0 ",";\n\n    &:hover {\n      border-color: ",";\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &:disabled {\n      background-color: ",";\n      color: ",";\n    }\n  "],["\n    background-color: ",";\n    line-height: ",";\n    font-size: ",";\n    color: ",";\n    border: 1px solid ",";\n    padding: 0 "," 0 ",";\n\n    &:hover {\n      border-color: ",";\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &:disabled {\n      background-color: ",";\n      color: ",";\n    }\n  "])),n.formInputBg,e.typography.lineHeight.md,e.typography.size.md,n.formInputText,a,e.spacing.sm,e.spacing.sm,a,n.formInputBgDisabled,n.formInputDisabledText)},h=function(){return{sm:Object(u.css)(i||(i=Object(c.__makeTemplateObject)(["\n      width: 200px;\n    "],["\n      width: 200px;\n    "]))),md:Object(u.css)(o||(o=Object(c.__makeTemplateObject)(["\n      width: 320px;\n    "],["\n      width: 320px;\n    "]))),lg:Object(u.css)(s||(s=Object(c.__makeTemplateObject)(["\n      width: 580px;\n    "],["\n      width: 580px;\n    "]))),auto:Object(u.css)(l||(l=Object(c.__makeTemplateObject)(["\n      width: auto;\n    "],["\n      width: auto;\n    "])))}},m=function(e,t){switch(t){case"sm":return{padding:"0 "+e.spacing.sm,fontSize:e.typography.size.sm,height:e.height.sm};case"md":return{padding:"0 "+e.spacing.md,fontSize:e.typography.size.md,height:e.spacing.formButtonHeight+"px"};case"lg":return{padding:"0 "+e.spacing.lg,fontSize:e.typography.size.lg,height:e.height.lg};default:return{padding:"0 "+e.spacing.md,fontSize:e.typography.size.base,height:e.height.md}}}},"4RCQ":function(e,t,n){"use strict";var a=n("mrSG"),r=n("6blF"),i="-- Dashboard --",o=n("p+Sq"),s=n("Obii");function l(e){if(!e)return!1;if(e===i)return!0;var t=e;return t.meta&&t.meta.name===i}function c(e){return new r.a(function(t){var n=Object(o.a)().getCurrent(),r=function(e){if(!e||!e.length)return;return e[0].panelId}(e.queries);if(!r)return t.next(u("Missing panel reference ID")),null;var i=n.getPanelById(e.panelId),s=n.getPanelById(r);if(!s)return t.next(u("Unknown Panel: "+r)),null;var l=s.getQueryRunner(),c=l.getData(!1).subscribe({next:function(e){t.next(e)}});if(i.fullscreen){var d=s.datasource,p=s.targets,f=Object(a.__assign)(Object(a.__assign)({},e),{datasource:d,panelId:r,queries:p});l.run(f)}return function(){console.log("runSharedRequest unsubscribe"),c.unsubscribe()}})}function u(e){return{state:s.LoadingState.Error,series:[],error:{message:e},timeRange:s.DefaultTimeRange}}var d=n("q1tI"),p=n.n(d),f=n("kDLi"),h=n("ZFWI"),m=n("PAeb"),g=n("WnbS"),b=n("O945");function v(e){return JSON.stringify(e)}var y=function(e){function t(t){var n=e.call(this,t)||this;return n.onPanelChanged=function(e){var t=n.props.onChange,a=n.getQuery();a.panelId=e,t(a),n.props.panel.refresh()},n.getPanelDescription=function(e){var t=n.state.defaultDatasource,a=e.datasource?e.datasource:t;return 1===e.targets.length?"1 query to "+a:e.targets.length+" queries to "+a},n.state={defaultDatasource:"",results:[]},n}return Object(a.__extends)(t,e),t.prototype.getQuery=function(){return this.props.panel.targets[0]},t.prototype.componentDidMount=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(e){return this.componentDidUpdate(null),[2]})})},t.prototype.componentDidUpdate=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,s,l,c,u,d,p,f,h,m,y,w,x,O,_;return Object(a.__generator)(this,function(k){switch(k.label){case 0:return t=this.props.panelData,e&&e.panelData===t?[3,13]:(n=this.props.panel.targets[0],[4,Object(g.a)().get(null)]);case 1:return r=k.sent(),i=Object(o.a)().getCurrent(),(s=i.getPanelById(n.panelId))?[4,Object(g.a)().get(s.datasource)]:(this.setState({defaultDatasource:r.name}),[2]);case 2:l=k.sent(),c=[],k.label=3;case 3:k.trys.push([3,10,11,12]),u=Object(a.__values)(s.targets),d=u.next(),k.label=4;case 4:return d.done?[3,9]:(p=d.value).datasource?[4,Object(g.a)().get(p.datasource)]:[3,6];case 5:return h=k.sent(),[3,7];case 6:h=l,k.label=7;case 7:m=(f=h).getQueryDisplayText?f.getQueryDisplayText:v,y=Object(b.b)(t,p.refId),w=y||t,c.push({refId:p.refId,query:m(p),img:f.meta.info.logos.small,data:w.series,error:w.error}),k.label=8;case 8:return d=u.next(),[3,4];case 9:return[3,12];case 10:return x=k.sent(),O={error:x},[3,12];case 11:try{d&&!d.done&&(_=u.return)&&_.call(u)}finally{if(O)throw O.error}return[7];case 12:this.setState({defaultDatasource:r.name,results:c}),k.label=13;case 13:return[2]}})})},t.prototype.renderQueryData=function(e){var t=this.state.results;return p.a.createElement("div",null,t.map(function(t,n){return p.a.createElement("div",{className:"query-editor-row__header",key:n},p.a.createElement("div",{className:"query-editor-row__ref-id"},p.a.createElement("img",{src:t.img,width:16,className:Object(m.css)({marginRight:"8px"})}),t.refId,":"),p.a.createElement("div",{className:"query-editor-row__collapsed-text"},p.a.createElement("a",{href:e},t.query," ",p.a.createElement("i",{className:"fa fa-external-link"}))))}))},t.prototype.render=function(){var e,t,n,r=this,s=Object(o.a)().getCurrent(),l=this.getQuery(),c=[];try{for(var u=Object(a.__values)(s.panels),d=u.next();!d.done;d=u.next()){var g=d.value,b=h.b.panels[g.type];if(b&&(g.targets&&g.datasource!==i)){var v={value:g.id,label:g.title?g.title:"Panel "+g.id,description:this.getPanelDescription(g),imgUrl:b.info.logos.small};c.push(v),l.panelId===g.id&&(n=v)}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(c.length<1)return p.a.createElement("div",{className:Object(m.css)({padding:"10px"})},"This dashboard does not have other panels. Add queries to other panels and try again");var y="d/"+s.uid+"/"+s.title+"?&fullscreen&edit&panelId="+l.panelId;return p.a.createElement("div",null,p.a.createElement("div",{className:"gf-form"},p.a.createElement("div",{className:"gf-form-label"},"Use results from panel"),p.a.createElement(f.Select,{placeholder:"Choose Panel",isSearchable:!0,options:c,value:n,onChange:function(e){return r.onPanelChanged(e.value)}})),p.a.createElement("div",{className:Object(m.css)({padding:"16px"})},l.panelId&&this.renderQueryData(y)))},t}(d.PureComponent);n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return y})},"4Umt":function(e,t){!function(e){function t(e,t){return t*Math.floor(e/t)}function n(e,t,n,a){if("function"==typeof e.strftime)return e.strftime(t);var r,i=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},o=[],s=!1,l=e.getHours(),c=l<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==a&&(a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),r=l>12?l-12:0==l?12:l;for(var u=0;u<t.length;++u){var d=t.charAt(u);if(s){switch(d){case"a":d=""+a[e.getDay()];break;case"b":d=""+n[e.getMonth()];break;case"d":d=i(e.getDate(),"");break;case"e":d=i(e.getDate()," ");break;case"h":case"H":d=i(l);break;case"I":d=i(r);break;case"l":d=i(r," ");break;case"m":d=i(e.getMonth()+1,"");break;case"M":d=i(e.getMinutes());break;case"q":d=""+(Math.floor(e.getMonth()/3)+1);break;case"S":d=i(e.getSeconds());break;case"y":d=i(e.getFullYear()%100);break;case"Y":d=""+e.getFullYear();break;case"p":d=c?"am":"pm";break;case"P":d=c?"AM":"PM";break;case"w":d=""+e.getDay()}o.push(d),s=!1}else"%"==d?s=!0:o.push(d)}return o.join("")}function a(e){function t(e,t,n,a){e[t]=function(){return n[a].apply(n,arguments)}}var n={date:e};null!=e.strftime&&t(n,"strftime",e,"strftime"),t(n,"getTime",e,"getTime"),t(n,"setTime",e,"setTime");for(var a=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<a.length;r++)t(n,"get"+a[r],e,"getUTC"+a[r]),t(n,"set"+a[r],e,"setUTC"+a[r]);return n}function r(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(t.timezone),n.setTime(e),n}return a(new Date(e))}return a(new Date(e))}var i={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},o=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],s=o.concat([[3,"month"],[6,"month"],[1,"year"]]),l=o.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(a,o){e.each(a.getAxes(),function(e,a){var o=a.options;"time"==o.mode&&(a.tickGenerator=function(e){var n=[],a=r(e.min,o),c=0,u=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?l:s;null!=o.minTickSize&&(c="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*i[o.minTickSize[1]]);for(var d=0;d<u.length-1&&!(e.delta<(u[d][0]*i[u[d][1]]+u[d+1][0]*i[u[d+1][1]])/2&&u[d][0]*i[u[d][1]]>=c);++d);var p=u[d][0],f=u[d][1];if("year"==f){if(null!=o.minTickSize&&"year"==o.minTickSize[1])p=Math.floor(o.minTickSize[0]);else{var h=Math.pow(10,Math.floor(Math.log(e.delta/i.year)/Math.LN10)),m=e.delta/i.year/h;p=m<1.5?1:m<3?2:m<7.5?5:10,p*=h}p<1&&(p=1)}e.tickSize=o.tickSize||[p,f];var g=e.tickSize[0];f=e.tickSize[1];var b=g*i[f];"second"==f?a.setSeconds(t(a.getSeconds(),g)):"minute"==f?a.setMinutes(t(a.getMinutes(),g)):"hour"==f?a.setHours(t(a.getHours(),g)):"month"==f?a.setMonth(t(a.getMonth(),g)):"quarter"==f?a.setMonth(3*t(a.getMonth()/3,g)):"year"==f&&a.setFullYear(t(a.getFullYear(),g)),a.setMilliseconds(0),b>=i.minute&&a.setSeconds(0),b>=i.hour&&a.setMinutes(0),b>=i.day&&a.setHours(0),b>=4*i.day&&a.setDate(1),b>=2*i.month&&a.setMonth(t(a.getMonth(),3)),b>=2*i.quarter&&a.setMonth(t(a.getMonth(),6)),b>=i.year&&a.setMonth(0);var v,y=0,w=Number.NaN;do{if(v=w,w=a.getTime(),n.push(w),"month"==f||"quarter"==f)if(g<1){a.setDate(1);var x=a.getTime();a.setMonth(a.getMonth()+("quarter"==f?3:1));var O=a.getTime();a.setTime(w+y*i.hour+(O-x)*g),y=a.getHours(),a.setHours(0)}else a.setMonth(a.getMonth()+g*("quarter"==f?3:1));else"year"==f?a.setFullYear(a.getFullYear()+g):a.setTime(w+b)}while(w<e.max&&w!=v);return n},a.tickFormatter=function(e,t){var a=r(e,t.options);if(null!=o.timeformat)return n(a,o.timeformat,o.monthNames,o.dayNames);var s=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],l=t.tickSize[0]*i[t.tickSize[1]],c=t.max-t.min,u=o.twelveHourClock?" %p":"",d=o.twelveHourClock?"%I":"%H";return n(a,l<i.minute?d+":%M:%S"+u:l<i.day?c<2*i.day?d+":%M"+u:"%b %d "+d+":%M"+u:l<i.month?"%b %d":s&&l<i.quarter||!s&&l<i.year?c<i.year?"%b":"%b %Y":s&&l<i.year?c<i.year?"Q%q":"Q%q %Y":"%Y",o.monthNames,o.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),e.plot.formatDate=n}(jQuery)},"4aoj":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("zlcF"),r=function(e){Object(a.b)().addEvent({type:a.a.MetaAnalytics,payload:e})}},"4qJB":function(e,t,n){"use strict";n.d(t,"h",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"i",function(){return f}),n.d(t,"f",function(){return h});var a=n("LvDl"),r=n.n(a),i=n("PSiG");n.d(t,"d",function(){return i.a});var o,s,l,c=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g,u=function(e){return c.lastIndex=0,c.exec(e)},d=function(e){return!(!e||"string"!=typeof e)&&-1!==e.indexOf("__searchFilter")},p=function(e){var t=e.query,n=e.wildcardChar;if(!d(t))return{};var a=e.options;return{__searchFilter:{value:(a=a||{searchFilter:""}).searchFilter?""+a.searchFilter+n:""+n,text:""}}};!function(e){e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged"}(o||(o={})),function(e){e[e.dontHide=0]="dontHide",e[e.hideVariable=1]="hideVariable",e[e.hideLabel=2]="hideLabel"}(s||(s={})),function(e){e[e.disabled=0]="disabled",e[e.alphabeticalAsc=1]="alphabeticalAsc",e[e.alphabeticalDesc=2]="alphabeticalDesc",e[e.numericalAsc=3]="numericalAsc",e[e.numericalDesc=4]="numericalDesc",e[e.alphabeticalCaseInsensitiveAsc=5]="alphabeticalCaseInsensitiveAsc",e[e.alphabeticalCaseInsensitiveDesc=6]="alphabeticalCaseInsensitiveDesc"}(l||(l={}));var f={};function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];e[0]=r.a.isString(e[0])?e[0]:Object.values(e[0]).join(" ");var a=e.slice(0,-1).join(" ").match(c);return!!(null!==a&&a.find(function(e){var t=u(e);return null!==t&&t.indexOf(n)>-1}))}},"4x4p":function(e,t){var n="public/app/features/playlist/partials/playlist_search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=playlist-search-field-wrapper>\n  <span style=position:relative>\n    <input type=text placeholder="Find dashboards by name" tabindex=1 ng-keydown=ctrl.keyDown($event) ng-model=ctrl.query.query ng-model-options="{ debounce: 500 }" spellcheck=false ng-change=ctrl.searchDashboards() />\n\t\t<div class=playlist-search-switches>\n\t\t\t<i class="fa fa-filter"></i>\n\t\t\t<a class=pointer href="javascript:void 0;" ng-click=ctrl.showStarred() tabindex=2>\n\t\t\t\t<i class="fa fa-remove" ng-show=ctrl.query.starred></i>\n\t\t\t\tstarred\n\t\t\t</a> |\n\t\t\t<a class=pointer href="javascript:void 0;" ng-click=ctrl.getTags() tabindex=3>\n\t\t\t\t<i class="fa fa-remove" ng-show=ctrl.tagsMode></i>\n\t\t\t\ttags\n\t\t\t</a>\n\t\t\t<span ng-if=ctrl.query.tag.length>\n\t\t\t\t|\n\t\t\t\t<span ng-repeat="tagName in ctrl.query.tag">\n\t\t\t\t\t<a ng-click="ctrl.removeTag(tagName, $event)" tag-color-from-name=ctrl.tagName class="label label-tag">\n\t\t\t\t\t\t<i class="fa fa-remove"></i>\n\t\t\t\t\t\t{{tagName}}\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t</span>\n</div>\n')}]),e.exports=n},"5/7A":function(e,t,n){"use strict";n.d(t,"b",function(){return l});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("uomI"),s=n("rEbV"),l=function(e){var t=e.children,n=e.theme,l=Object(a.__rest)(e,["children","theme"]),c=Object(r.createRef)(),u="popper__background"+(n?" popper__background--"+n:"");return i.a.createElement(s.a,Object(a.__assign)({},l),function(e,n,r){var s=Object(a.__assign)(Object(a.__assign)({},r),{show:void 0!==l.show?l.show:r.show});return i.a.createElement(i.a.Fragment,null,c.current&&i.a.createElement(o.a,Object(a.__assign)({},s,{onMouseEnter:e,onMouseLeave:n,referenceElement:c.current,wrapperClassName:"popper",className:u,renderArrow:function(e){var t=e.arrowProps,n=e.placement;return i.a.createElement("div",Object(a.__assign)({className:"popper__arrow","data-placement":n},t))}})),i.a.cloneElement(t,{ref:c,onMouseEnter:e,onMouseLeave:n}))})}},"5C3A":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return l});var a=n("q1tI"),r=n.n(a),i=n("ZFWI"),o=function(){return[{text:"Documentation",icon:"fa fa-file-code-o",url:"https://grafana.com/docs/grafana/latest/?utm_source=grafana_footer",target:"_blank"},{text:"Support",icon:"fa fa-support",url:"https://grafana.com/products/enterprise/?utm_source=grafana_footer",target:"_blank"},{text:"Community",icon:"fa fa-comments-o",url:"https://community.grafana.com/?utm_source=grafana_footer",target:"_blank"}]},s=function(){var e=i.b.buildInfo,t=i.b.licenseInfo,n=[],a=t.stateInfo?" ("+t.stateInfo+")":"";return n.push({text:""+e.edition+a,url:t.licenseUrl}),n.push({text:"v"+e.version+" ("+e.commit+")"}),e.hasUpdate&&n.push({text:"New version available!",icon:"fa fa-download",url:"https://grafana.com/grafana/download?utm_source=grafana_footer",target:"_blank"}),n};var l=r.a.memo(function(){var e=o().concat(s());return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"text-center"},r.a.createElement("ul",null,e.map(function(e){return r.a.createElement("li",{key:e.text},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener"},r.a.createElement("i",{className:e.icon})," ",e.text))}))))})},"5VON":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i});var a="browser",r="YYYY-MM-DD HH:mm:ss",i={from:{},to:{},raw:{from:"6h",to:"now"}}},"5kRJ":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("mrSG"),r=n("PbtU"),i=n("LvDl"),o=n.n(i),s=n("4qJB"),l=n("VX0D");function c(e){return e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}var u=function(){function e(){this.regex=s.h,this.index={},this.grafanaVariables={},this.builtIns={},this.timeRange=null,this.fieldAccessorCache={},this.builtIns.__interval={text:"1s",value:"1s"},this.builtIns.__interval_ms={text:"100",value:"100"},this.variables=[]}return e.prototype.init=function(e,t){this.variables=e,this.timeRange=t,this.updateIndex()},e.prototype.getBuiltInIntervalValue=function(){return this.builtIns.__interval.value},e.prototype.updateIndex=function(){var e;if(this.index=this.variables.reduce(function(e,t){var n;return t.current&&(t.current.isNone||((n=t.current.value)||""===n))&&(e[t.name]=t),e},{}),this.timeRange){var t=this.timeRange.from.valueOf().toString(),n=this.timeRange.to.valueOf().toString();this.index=Object(a.__assign)(Object(a.__assign)({},this.index),((e={}).__from={current:{value:t,text:t}},e.__to={current:{value:n,text:n}},e))}},e.prototype.updateTimeRange=function(e){this.timeRange=e,this.updateIndex()},e.prototype.variableInitialized=function(e){this.index[e.name]=e},e.prototype.getAdhocFilters=function(e){var t=[];if(this.variables)for(var n=0;n<this.variables.length;n++){var a=this.variables[n];"adhoc"===a.type&&(null===a.datasource||a.datasource===e?t=t.concat(a.filters):0===a.datasource.indexOf("$")&&this.replace(a.datasource)===e&&(t=t.concat(a.filters)))}return t},e.prototype.luceneFormat=function(e){return"string"==typeof e?c(e):e instanceof Array&&0===e.length?"__empty__":"("+o.a.map(e,function(e){return'"'+c(e)+'"'}).join(" OR ")+")"},e.prototype.encodeURIComponentStrict=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},e.prototype.formatValue=function(e,t,n){if(n=n||{},"function"==typeof t)return t(e,n,this.formatValue);switch(t){case"regex":if("string"==typeof e)return r.a.regexEscape(e);var a=o.a.map(e,r.a.regexEscape);return 1===a.length?a[0]:"("+a.join("|")+")";case"lucene":return this.luceneFormat(e);case"pipe":return"string"==typeof e?e:e.join("|");case"distributed":return"string"==typeof e?e:this.distributeVariable(e,n.name);case"csv":return o.a.isArray(e)?e.join(","):e;case"html":return o.a.isArray(e)?Object(l.a)(e.join(", ")):Object(l.a)(e);case"json":return JSON.stringify(e);case"percentencode":return o.a.isArray(e)?this.encodeURIComponentStrict("{"+e.join(",")+"}"):this.encodeURIComponentStrict(e);default:return o.a.isArray(e)&&e.length>1?"{"+e.join(",")+"}":e}},e.prototype.setGrafanaVariable=function(e,t){this.grafanaVariables[e]=t},e.prototype.setGlobalVariable=function(e,t){var n;this.index=Object(a.__assign)(Object(a.__assign)({},this.index),((n={})[e]={current:t},n))},e.prototype.getVariableName=function(e){this.regex.lastIndex=0;var t=this.regex.exec(e);return t?t.slice(1).find(function(e){return void 0!==e}):null},e.prototype.variableExists=function(e){var t=this.getVariableName(e);return t&&void 0!==this.index[t]},e.prototype.highlightVariablesAsHtml=function(e){var t=this;return e&&o.a.isString(e)?(e=o.a.escape(e),this.regex.lastIndex=0,e.replace(this.regex,function(e,n,a,r,i){return t.index[n||a||i]||t.builtIns[n||a||i]?'<span class="template-variable">'+e+"</span>":e})):e},e.prototype.getAllValue=function(e){if(e.allValue)return e.allValue;for(var t=[],n=1;n<e.options.length;n++)t.push(e.options[n].value);return t},e.prototype.getFieldAccessor=function(e){var t=this.fieldAccessorCache[e];return t||(this.fieldAccessorCache[e]=o.a.property(e))},e.prototype.getVariableValue=function(e,t,n){var a=n[e];return a?t?this.getFieldAccessor(t)(a.value):a.value:null},e.prototype.replace=function(e,t,n){var a=this;return e?(this.regex.lastIndex=0,e.replace(this.regex,function(e,r,i,o,s,l,c){var u,d=r||i||s,p=a.index[d],f=o||c||n;if(t){var h=a.getVariableValue(d,l,t);if(null!=h)return a.formatValue(h,f,p)}if(!p)return e;var m=a.grafanaVariables[p.current.value];if(m)return a.formatValue(m,f,p);var g=p.current.value;if(a.isAllValue(g)&&(g=a.getAllValue(p),p.allValue))return a.replace(g);if(l){var b=a.getVariableValue(d,l,((u={})[d]={value:g,text:""},u));if(null!=b)return a.formatValue(b,f,p)}return a.formatValue(g,f,p)})):e},e.prototype.isAllValue=function(e){return"$__all"===e||Array.isArray(e)&&"$__all"===e[0]},e.prototype.replaceWithText=function(e,t){var n,a=this;return e?(this.regex.lastIndex=0,e.replace(this.regex,function(e,r,i,o,s){if(t){var l=t[r||i||s];if(l)return l.text}if(!(n=a.index[r||i||s]))return e;var c=a.grafanaVariables[n.current.value];return"string"==typeof c?c:n.current.text})):e},e.prototype.fillVariableValuesForUrl=function(e,t){o.a.each(this.variables,function(n){if(t&&void 0!==t[n.name]){if(t[n.name].skipUrlSync)return;e["var-"+n.name]=t[n.name].value}else{if(n.skipUrlSync)return;e["var-"+n.name]=n.getValueForUrl()}})},e.prototype.distributeVariable=function(e,t){return(e=o.a.map(e,function(e,n){return 0!==n?t+"="+e:e})).join(",")},e}();t.b=new u},"5m9O":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=new Set;function r(e){if(a.has(e))throw new Error("There is already an event defined with type '"+e+"'");return a.add(e),{name:e}}},"66yP":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("mrSG"),r=n("kDLi"),i=n("Obii"),o=function(e,t,n,o,s,l){var c,u,d,p,f,h,m,g=[],b=Object(i.getDisplayProcessor)({field:{config:{unit:null===(h=null===(f=l)||void 0===f?void 0:f.defaults)||void 0===h?void 0:h.unit,decimals:s.decimals}}}),v=-1;try{for(var y=Object(a.__values)(e),w=y.next();!w.done;w=y.next()){var x=w.value,O=Object(i.getTimeField)(x).timeField;if(O){var _=function(e){if(e.type!==i.FieldType.number)return"continue";v++;var o=Object(i.getFlotPairs)({xField:O,yField:e,nullValueMode:i.NullValueMode.Null});if(o.length>0){var c=Object(i.reduceField)({field:e,reducers:s.stats}),u=void 0;s.stats&&(u=s.stats.map(function(e){var t=b(c[e]);return Object(a.__assign)(Object(a.__assign)({},t),{title:e})}));var d=void 0;d=n[e.name]&&n[e.name].color?{mode:i.FieldColorMode.Fixed,fixedColor:n[e.name].color}:e.config&&e.config.color?e.config.color:{mode:i.FieldColorMode.Fixed,fixedColor:r.colors[g.length%r.colors.length]},e.config=l?Object(a.__assign)(Object(a.__assign)({},e.config),{unit:l.defaults.unit,decimals:l.defaults.decimals,color:d}):Object(a.__assign)(Object(a.__assign)({},e.config),{color:d}),e.display=Object(i.getDisplayProcessor)({field:e});var p=Object(i.getSeriesTimeStep)(O),f=Object(i.hasMsResolution)(O);O.display=Object(i.getDisplayProcessor)({timeZone:t,field:Object(a.__assign)(Object(a.__assign)({},O),{type:O.type,config:{unit:"time:"+(f?i.MS_DATE_TIME_FORMAT:i.DEFAULT_DATE_TIME_FORMAT)}})}),g.push({label:e.name,data:o,color:null===(m=e.config.color)||void 0===m?void 0:m.fixedColor,info:u,isVisible:!0,yAxis:{index:n[e.name]&&n[e.name].yAxis||1},seriesIndex:v,timeField:Object(a.__assign)({},O),valueField:Object(a.__assign)({},e),timeStep:p})}};try{for(var k=(d=void 0,Object(a.__values)(x.fields)),j=k.next();!j.done;j=k.next()){_(j.value)}}catch(e){d={error:e}}finally{try{j&&!j.done&&(p=k.return)&&p.call(k)}finally{if(d)throw d.error}}}}}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}return g}},"6V0m":function(e,t){var n="public/app/features/templating/partials/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-controller=VariableEditorCtrl ng-init=init()>\n  <div class=page-action-bar>\n    <h3 class=dashboard-settings__header>\n      <a ng-click="setMode(\'list\')" aria-label={{::selectors.headerLink}}>Variables</a>\n      <span ng-show="mode === \'new\'"><i class="fa fa-fw fa-chevron-right" aria-label={{::selectors.modeLabelNew}}></i> New</span>\n      <span ng-show="mode === \'edit\'"><i class="fa fa-fw fa-chevron-right" aria-label={{::selectors.modeLabelEdit}}></i> Edit</span>\n    </h3>\n\n    <div class=page-action-bar__spacer></div>\n    <a type=button class="btn btn-primary" ng-click="setMode(\'new\');" ng-if="variables.length > 0" ng-hide="mode === \'edit\' || mode === \'new\'" aria-label={{::selectors.newButton}}>\n      New\n    </a>\n  </div>\n\n  <div ng-if="mode === \'list\'">\n    <div ng-if="variables.length === 0">\n      <empty-list-cta on-click=setNewMode title=emptyListCta.title infobox=emptyListCta.infoBox infoboxtitle=emptyListCta.infoBoxTitle buttontitle=emptyListCta.buttonTitle buttonicon=emptyListCta.buttonIcon />\n    </div>\n\n    <div ng-if=variables.length>\n      <table class="filter-table filter-table--hover" aria-label={{::selectors.table}}>\n        <thead>\n          <tr>\n            <th>Variable</th>\n            <th>Definition</th>\n            <th colspan=5></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="variable in variables">\n            <td style=width:1%>\n              <span ng-click=edit(variable) class="pointer template-variable" aria-label={{::selectors.tableRowNameFields(variable.name)}}>\n                ${{ variable.name }}\n              </span>\n            </td>\n            <td style=max-width:200px ng-click=edit(variable) class="pointer max-width" aria-label={{::selectors.tableRowDefinitionFields(variable.name)}}>\n              {{ variable.definition ? variable.definition : variable.query }}\n            </td>\n            <td style=width:1%>\n              <i ng-click=_.move(variables,$index,$index-1) ng-hide=$first class="pointer fa fa-arrow-up" aria-label={{::selectors.tableRowArrowUpButtons(variable.name)}}></i>\n            </td>\n            <td style=width:1%>\n              <i ng-click=_.move(variables,$index,$index+1) ng-hide=$last class="pointer fa fa-arrow-down" aria-label={{::selectors.tableRowArrowDownButtons(variable.name)}}></i>\n            </td>\n            <td style=width:1%>\n              <a ng-click=duplicate(variable) class="btn btn-inverse btn-small" aria-label={{::selectors.tableRowDuplicateButtons(variable.name)}}>\n                Duplicate\n              </a>\n            </td>\n            <td style=width:1%>\n              <a ng-click=removeVariable(variable) class="btn btn-danger btn-small" aria-label={{::selectors.tableRowRemoveButtons(variable.name)}}>\n                <i class="fa fa-remove"></i>\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <form ng-if="mode === \'edit\' || mode === \'new\'" name=ctrl.form aria-label="Variable editor Form">\n    <h5 class=section-heading>General</h5>\n    <div class=gf-form-group>\n      <div class=gf-form-inline>\n        <div class="gf-form max-width-19">\n          <span class="gf-form-label width-6">Name</span>\n          <input type=text class=gf-form-input name=name placeholder=name ng-model=current.name required ng-pattern=namePattern aria-label={{::selectors.generalNameInput}} />\n        </div>\n        <div class="gf-form max-width-19">\n          <span class="gf-form-label width-6">\n            Type\n            <info-popover mode=right-normal>\n              {{ variableTypes[current.type].description }}\n            </info-popover>\n          </span>\n          <div class="gf-form-select-wrapper max-width-17">\n            <select class=gf-form-input ng-model=current.type ng-options="k as v.name for (k, v) in variableTypes" ng-change=typeChanged() aria-label={{::selectors.generalTypeSelect}}></select>\n          </div>\n        </div>\n      </div>\n\n      <div class=gf-form ng-show=ctrl.form.name.$error.pattern>\n        <span class="gf-form-label gf-form-label--error">Template names cannot begin with \'__\', that\'s reserved for Grafana\'s global variables</span>\n      </div>\n\n      <div class=gf-form-inline>\n        <div class="gf-form max-width-19">\n          <span class="gf-form-label width-6">Label</span>\n          <input type=text class=gf-form-input ng-model=current.label placeholder="optional display name" aria-label={{::selectors.generalLabelInput}} />\n        </div>\n        <div class="gf-form max-width-19">\n          <span class="gf-form-label width-6">Hide</span>\n          <div class="gf-form-select-wrapper max-width-15">\n            <select class=gf-form-input ng-model=current.hide ng-options="f.value as f.text for f in hideOptions" aria-label={{::selectors.generalHideSelect}}></select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="current.type === \'interval\'" class=gf-form-group>\n      <h5 class=section-heading>Interval Options</h5>\n\n      <div class=gf-form>\n        <span class="gf-form-label width-9">Values</span>\n        <input type=text class=gf-form-input ng-model=current.query placeholder=1m,10m,1h,6h,1d,7d ng-model-onblur ng-change=runQuery() required aria-label="Variable editor Form Interval Query field"/>\n      </div>\n\n      <div class=gf-form-inline>\n        <gf-form-switch class=gf-form label="Auto Option" label-class=width-9 checked=current.auto on-change=runQuery() aria-label="Variable editor Form Interval AutoOption switch">\n        </gf-form-switch>\n\n        <div class=gf-form>\n          <span class="gf-form-label width-9" ng-show=current.auto>\n            Step count <tip>How many times should the current time range be divided to calculate the value</tip>\n          </span>\n          <div class="gf-form-select-wrapper max-width-10" ng-show=current.auto>\n            <select class=gf-form-input ng-model=current.auto_count ng-options="f for f in [1,2,3,4,5,10,20,30,40,50,100,200,300,400,500]" ng-change=runQuery() aria-label="Variable editor Form Interval AutoCount select"></select>\n          </div>\n        </div>\n        <div class=gf-form>\n          <span class=gf-form-label ng-show=current.auto>\n            Min interval <tip>The calculated value will not go below this threshold</tip>\n          </span>\n          <input type=text class="gf-form-input max-width-10" ng-show=current.auto ng-model=current.auto_min ng-change=runQuery() placeholder=10s aria-label="Variable editor Form Interval AutoMin field"/>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="current.type === \'custom\'" class=gf-form-group>\n      <h5 class=section-heading>Custom Options</h5>\n      <div class=gf-form>\n        <span class="gf-form-label width-14">Values separated by comma</span>\n        <input type=text class=gf-form-input ng-model=current.query ng-blur=runQuery() placeholder="1, 10, 20, myvalue, escaped\\,value" required aria-label="Variable editor Form Custom Query field"/>\n      </div>\n    </div>\n\n    <div ng-if="current.type === \'constant\'" class=gf-form-group>\n      <h5 class=section-heading>Constant options</h5>\n      <div class=gf-form>\n        <span class=gf-form-label>Value</span>\n        <input type=text class=gf-form-input ng-model=current.query ng-blur=runQuery() placeholder="your metric prefix" aria-label={{::selectors.constantOptionsQueryInput}} />\n      </div>\n    </div>\n\n    <div ng-if="current.type === \'textbox\'" class=gf-form-group>\n      <h5 class=section-heading>Text options</h5>\n      <div class=gf-form>\n        <span class=gf-form-label>Default value</span>\n        <input type=text class=gf-form-input ng-model=current.query ng-blur=runQuery() placeholder="default value, if any" aria-label="Variable editor Form TextBox Query field"/>\n      </div>\n    </div>\n\n    <div ng-if="current.type === \'query\'" class=gf-form-group>\n      <h5 class=section-heading>Query Options</h5>\n\n      <div class=gf-form-inline>\n        <div class="gf-form max-width-21">\n          <span class="gf-form-label width-10">Data source</span>\n          <div class="gf-form-select-wrapper max-width-14">\n            <select class=gf-form-input ng-model=current.datasource ng-options="f.value as f.name for f in datasources" ng-change=datasourceChanged() required aria-label={{::selectors.queryOptionsDataSourceSelect}}>\n              <option value="" ng-if=false></option>\n            </select>\n          </div>\n        </div>\n\n        <div class="gf-form max-width-22">\n          <span class="gf-form-label width-10">\n            Refresh\n            <info-popover mode=right-normal>\n              When to update the values of this variable.\n            </info-popover>\n          </span>\n          <div class="gf-form-select-wrapper width-15">\n            <select class=gf-form-input ng-model=current.refresh ng-options="f.value as f.text for f in refreshOptions" aria-label={{::selectors.queryOptionsRefreshSelect}}></select>\n          </div>\n        </div>\n      </div>\n\n      <rebuild-on-change property=currentDatasource>\n        <variable-query-editor-loader> </variable-query-editor-loader>\n      </rebuild-on-change>\n\n      <div class=gf-form>\n        <span class="gf-form-label width-10">\n          Regex\n          <info-popover mode=right-normal>\n            Optional, if you want to extract part of a series name or metric node segment.\n          </info-popover>\n        </span>\n        <input type=text class=gf-form-input ng-model=current.regex placeholder=/.*-(.*)-.*/ ng-model-onblur ng-change=runQuery() aria-label={{::selectors.queryOptionsRegExInput}} />\n      </div>\n      <div class="gf-form max-width-21">\n        <span class="gf-form-label width-10">\n          Sort\n          <info-popover mode=right-normal>\n            How to sort the values of this variable.\n          </info-popover>\n        </span>\n        <div class="gf-form-select-wrapper max-width-14">\n          <select class=gf-form-input ng-model=current.sort ng-options="f.value as f.text for f in sortOptions" ng-change=runQuery() aria-label={{::selectors.queryOptionsSortSelect}}></select>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="current.type === \'datasource\'" class=gf-form-group>\n      <h5 class=section-heading>Data source options</h5>\n\n      <div class=gf-form>\n        <label class="gf-form-label width-12">Type</label>\n        <div class="gf-form-select-wrapper max-width-18">\n          <select class=gf-form-input ng-model=current.query ng-options="f.value as f.text for f in datasourceTypes" ng-change=runQuery() aria-label="Variable editor Form DataSource Query field"></select>\n        </div>\n      </div>\n\n      <div class=gf-form>\n        <label class="gf-form-label width-12">\n          Instance name filter\n          <info-popover mode=right-normal>\n            Regex filter for which data source instances to choose from in the variable value dropdown. Leave empty for\n            all.\n            <br/><br/>\n            Example: <code>/^prod/</code>\n          </info-popover>\n        </label>\n        <input type=text class="gf-form-input max-width-18" ng-model=current.regex placeholder=/.*-(.*)-.*/ ng-model-onblur ng-change=runQuery() aria-label="Variable editor Form DataSource RegEx field"/>\n      </div>\n    </div>\n\n    <div ng-if="current.type === \'adhoc\'" class=gf-form-group>\n      <h5 class=section-heading>Options</h5>\n      <div class="gf-form max-width-21">\n        <span class="gf-form-label width-8">Data source</span>\n        <div class="gf-form-select-wrapper max-width-14">\n          <select class=gf-form-input ng-model=current.datasource ng-options="f.value as f.name for f in datasources" required ng-change=validate() aria-label="Variable editor Form AdHoc DataSource select">\n            <option value="" ng-if=false></option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="section gf-form-group" ng-show=variableTypes[current.type].supportsMulti>\n      <h5 class=section-heading>Selection Options</h5>\n      <div class=section>\n        <gf-form-switch class=gf-form label=Multi-value label-class=width-10 tooltip="Enables multiple values to be selected at the same time" checked=current.multi on-change=runQuery() aria-label={{::selectors.selectionOptionsMultiSwitch}}>\n        </gf-form-switch>\n        <gf-form-switch class=gf-form label="Include All option" label-class=width-10 checked=current.includeAll on-change=runQuery() aria-label={{::selectors.selectionOptionsIncludeAllSwitch}}>\n        </gf-form-switch>\n      </div>\n      <div class=gf-form ng-if=current.includeAll>\n        <span class="gf-form-label width-10">Custom all value</span>\n        <input type=text class="gf-form-input max-width-15" ng-model=current.allValue placeholder="blank = auto" aria-label={{::selectors.selectionOptionsCustomAllInput}} />\n      </div>\n    </div>\n\n    <div class=gf-form-group ng-if="current.type === \'query\'">\n      <h5>Value groups/tags (Experimental feature)</h5>\n      <gf-form-switch class=gf-form label=Enabled label-class=width-10 checked=current.useTags on-change=runQuery() aria-label={{::selectors.valueGroupsTagsEnabledSwitch}}>\n      </gf-form-switch>\n      <div class="gf-form last" ng-if=current.useTags>\n        <span class="gf-form-label width-10">Tags query</span>\n        <input type=text class=gf-form-input ng-model=current.tagsQuery placeholder="metric name or tags query" ng-model-onblur aria-label={{::selectors.valueGroupsTagsTagsQueryInput}} />\n      </div>\n      <div class=gf-form ng-if=current.useTags>\n        <li class="gf-form-label width-10">Tag values query</li>\n        <input type=text class=gf-form-input ng-model=current.tagValuesQuery placeholder=apps.$tag.* ng-model-onblur aria-label={{::selectors.valueGroupsTagsTagsValuesQueryInput}} />\n      </div>\n    </div>\n\n    <div class=gf-form-group ng-show=current.options.length>\n      <h5>Preview of values</h5>\n      <div class=gf-form-inline>\n        <div class=gf-form ng-repeat="option in current.options | limitTo: optionsLimit">\n          <span class=gf-form-label aria-label={{::selectors.previewOfValuesOption}}>{{ option.text }}</span>\n        </div>\n        <div class=gf-form ng-if="current.options.length > optionsLimit">\n          <a class="gf-form-label btn-secondary" ng-click=showMoreOptions() aria-label="Variable editor Preview of Values Show More link">\n            Show more\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div class="alert alert-info gf-form-group" ng-if=infoText aria-label="Variable editor Form Alert">\n      {{ infoText }}\n    </div>\n\n    <div class="gf-form-button-row p-y-0">\n      <button type=submit class="btn btn-primary" ng-show="mode === \'edit\'" ng-click=update(); aria-label={{::selectors.updateButton}}>\n        Update\n      </button>\n      <button type=submit class="btn btn-primary" ng-show="mode === \'new\'" ng-click=add(); aria-label={{::selectors.addButton}}>\n        Add\n      </button>\n    </div>\n  </form>\n</div>\n')}]),e.exports=n},"6edu":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e[e.ValueToText=1]="ValueToText",e[e.RangeToText=2]="RangeToText"}(a||(a={}))},"6iRR":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("PAeb"),s=n("4Qg+"),l=n("MIBK"),c=n("Vt59"),u=function(){var e=Object(a.__read)(Object(r.useState)(null),2),t=e[0],n=e[1];return[t,Object(r.useCallback)(function(e){null!==e&&n(e.getBoundingClientRect())},[])]};n.d(t,"b",function(){return w}),n.d(t,"a",function(){return x});var d,p,f,h,m,g,b,v,y,w=Object(l.g)(function(e){var t=e.theme,n=e.invalid,r=void 0!==n&&n,i=t.colors,l=t.border.radius.sm,c=t.spacing.formInputHeight,u=Object(o.css)(d||(d=Object(a.__makeTemplateObject)(["\n    position: absolute;\n    top: 0;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-grow: 0;\n    flex-shrink: 0;\n    font-size: ",";\n    height: 100%;\n    /* Min width specified for prefix/suffix classes used outside React component*/\n    min-width: ",";\n  "],["\n    position: absolute;\n    top: 0;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-grow: 0;\n    flex-shrink: 0;\n    font-size: ",";\n    height: 100%;\n    /* Min width specified for prefix/suffix classes used outside React component*/\n    min-width: ",";\n  "])),t.typography.size.md,"28px");return{wrapper:Object(o.cx)(Object(o.css)(p||(p=Object(a.__makeTemplateObject)(["\n        label: input-wrapper;\n        display: flex;\n        width: 100%;\n        height: ",";\n        border-radius: ",";\n        &:hover {\n          > .prefix,\n          .suffix,\n          .input {\n            border-color: ",";\n          }\n        }\n      "],["\n        label: input-wrapper;\n        display: flex;\n        width: 100%;\n        height: ",";\n        border-radius: ",";\n        &:hover {\n          > .prefix,\n          .suffix,\n          .input {\n            border-color: ",";\n          }\n        }\n      "])),c,l,r?i.redBase:i.formInputBorder)),inputWrapper:Object(o.css)(f||(f=Object(a.__makeTemplateObject)(["\n      label: input-inputWrapper;\n      position: relative;\n      flex-grow: 1;\n      /* we want input to be above addons, especially for focused state */\n      z-index: 1;\n\n      /* when input rendered with addon before only*/\n      &:not(:first-child):last-child {\n        > input {\n          border-left: none;\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n\n      /* when input rendered with addon after only*/\n      &:first-child:not(:last-child) {\n        > input {\n          border-right: none;\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      /* when rendered with addon before and after */\n      &:not(:first-child):not(:last-child) {\n        > input {\n          border-right: none;\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n\n      input {\n        /* paddings specified for classes used outside React component */\n        &:not(:first-child) {\n          padding-left: ",";\n        }\n        &:not(:last-child) {\n          padding-right: ",";\n        }\n        &[readonly] {\n          cursor: default;\n        }\n      }\n    "],["\n      label: input-inputWrapper;\n      position: relative;\n      flex-grow: 1;\n      /* we want input to be above addons, especially for focused state */\n      z-index: 1;\n\n      /* when input rendered with addon before only*/\n      &:not(:first-child):last-child {\n        > input {\n          border-left: none;\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n\n      /* when input rendered with addon after only*/\n      &:first-child:not(:last-child) {\n        > input {\n          border-right: none;\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      /* when rendered with addon before and after */\n      &:not(:first-child):not(:last-child) {\n        > input {\n          border-right: none;\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n\n      input {\n        /* paddings specified for classes used outside React component */\n        &:not(:first-child) {\n          padding-left: ",";\n        }\n        &:not(:last-child) {\n          padding-right: ",";\n        }\n        &[readonly] {\n          cursor: default;\n        }\n      }\n    "])),"28px","28px"),input:Object(o.cx)(Object(s.b)(t),Object(s.e)(t,r),Object(o.css)(h||(h=Object(a.__makeTemplateObject)(["\n        label: input-input;\n        position: relative;\n        z-index: 0;\n        flex-grow: 1;\n        border-radius: ",";\n        height: 100%;\n        width: 100%;\n\n        /*\n         Restoring increase/decrease spinner on number inputs. Overwriting rules implemented in\n         https://github.com/grafana/grafana/commit/488fe62f158a9e0a0bced2b678ada5d43cf3998e.\n         */\n\n        &[type='number']::-webkit-outer-spin-button,\n        &[type='number']::-webkit-inner-spin-button {\n          -webkit-appearance: inner-spin-button !important;\n          opacity: 1;\n        }\n\n        &[type='number'] {\n          -moz-appearance: number-input;\n        }\n      "],["\n        label: input-input;\n        position: relative;\n        z-index: 0;\n        flex-grow: 1;\n        border-radius: ",";\n        height: 100%;\n        width: 100%;\n\n        /*\n         Restoring increase/decrease spinner on number inputs. Overwriting rules implemented in\n         https://github.com/grafana/grafana/commit/488fe62f158a9e0a0bced2b678ada5d43cf3998e.\n         */\n\n        &[type='number']::-webkit-outer-spin-button,\n        &[type='number']::-webkit-inner-spin-button {\n          -webkit-appearance: inner-spin-button !important;\n          opacity: 1;\n        }\n\n        &[type='number'] {\n          -moz-appearance: number-input;\n        }\n      "])),l)),inputDisabled:Object(o.css)(m||(m=Object(a.__makeTemplateObject)(["\n      background-color: ",";\n      color: ",";\n    "],["\n      background-color: ",";\n      color: ",";\n    "])),i.formInputBgDisabled,i.formInputDisabledText),addon:Object(o.css)(g||(g=Object(a.__makeTemplateObject)(["\n        label: input-addon;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-grow: 0;\n        flex-shrink: 0;\n        position: relative;\n\n        &:first-child {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n          > :last-child {\n            border-top-right-radius: 0;\n            border-bottom-right-radius: 0;\n          }\n        }\n\n        &:last-child {\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n          > :first-child {\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n          }\n        }\n        > *:focus {\n          /* we want anything that has focus and is an addon to be above input */\n          z-index: 2;\n        }\n        }\n      "],["\n        label: input-addon;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-grow: 0;\n        flex-shrink: 0;\n        position: relative;\n\n        &:first-child {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n          > :last-child {\n            border-top-right-radius: 0;\n            border-bottom-right-radius: 0;\n          }\n        }\n\n        &:last-child {\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n          > :first-child {\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n          }\n        }\n        > *:focus {\n          /* we want anything that has focus and is an addon to be above input */\n          z-index: 2;\n        }\n        }\n      "]))),prefix:Object(o.cx)(u,Object(o.css)(b||(b=Object(a.__makeTemplateObject)(["\n        label: input-prefix;\n        padding-left: ",";\n        padding-right: ",";\n        border-right: none;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n      "],["\n        label: input-prefix;\n        padding-left: ",";\n        padding-right: ",";\n        border-right: none;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n      "])),t.spacing.sm,t.spacing.xs)),suffix:Object(o.cx)(u,Object(o.css)(v||(v=Object(a.__makeTemplateObject)(["\n        label: input-suffix;\n        padding-right: ",";\n        padding-left: ",";\n        border-left: none;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        right: 0;\n      "],["\n        label: input-suffix;\n        padding-right: ",";\n        padding-left: ",";\n        border-left: none;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        right: 0;\n      "])),t.spacing.sm,t.spacing.xs)),loadingIndicator:Object(o.css)(y||(y=Object(a.__makeTemplateObject)(["\n      & + * {\n        margin-left: ",";\n      }\n    "],["\n      & + * {\n        margin-left: ",";\n      }\n    "])),t.spacing.xs)}}),x=i.a.forwardRef(function(e,t){var n=e.addonAfter,r=e.addonBefore,d=e.prefix,p=e.suffix,f=e.invalid,h=e.loading,m=e.size,g=void 0===m?"auto":m,b=Object(a.__rest)(e,["addonAfter","addonBefore","prefix","suffix","invalid","loading","size"]),v=Object(a.__read)(u(),2),y=v[0],x=v[1],O=Object(a.__read)(u(),2),_=O[0],k=O[1],j=Object(l.h)(),C=w({theme:j,invalid:!!f});return i.a.createElement("div",{className:Object(o.cx)(C.wrapper,Object(s.d)()[g])},!!r&&i.a.createElement("div",{className:C.addon},r),i.a.createElement("div",{className:C.inputWrapper},d&&i.a.createElement("div",{className:C.prefix,ref:x},d),i.a.createElement("input",Object(a.__assign)({ref:t,className:C.input},b,{style:{paddingLeft:y?y.width:void 0,paddingRight:_?_.width:void 0}})),(p||h)&&i.a.createElement("div",{className:C.suffix,ref:k},h&&i.a.createElement(c.a,{name:"spinner",className:Object(o.cx)("fa-spin",C.loadingIndicator)}),p)),!!n&&i.a.createElement("div",{className:C.addon},n))})},"6rcN":function(e,t){var n="public/app/features/admin/partials/styleguide.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n\n\t<h3 class=page-heading>Buttons</h3>\n\n\t<div class=tab-pane>\n\t\t<div ng-repeat="variant in ctrl.buttonVariants" class=row>\n\t\t\t<div ng-repeat="btnSize in ctrl.buttonSizes" class="style-guide-button-list p-a-2 col-md-4">\n\t\t\t\t<button ng-repeat="buttonName in ctrl.buttonNames" class="btn btn{{variant}}{{buttonName}} {{btnSize}}">\n\t\t\t\t\tbtn{{variant}}{{buttonName}}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<h3 class=page-heading>Forms</h3>\n\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<label class=gf-form-label>Label</label>\n\t\t\t<input type=text class=gf-form-input />\n\t\t</div>\n\t</div>\n\n</div>\n\n')}]),e.exports=n},"7Nqv":function(e,t,n){"use strict";var a,r;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c}),function(e){e.METRIC_KIND_UNSPECIFIED="METRIC_KIND_UNSPECIFIED",e.GAUGE="GAUGE",e.DELTA="DELTA",e.CUMULATIVE="CUMULATIVE"}(a||(a={})),function(e){e.VALUE_TYPE_UNSPECIFIED="VALUE_TYPE_UNSPECIFIED",e.BOOL="BOOL",e.INT64="INT64",e.DOUBLE="DOUBLE",e.STRING="STRING",e.DISTRIBUTION="DISTRIBUTION",e.MONEY="MONEY"}(r||(r={}));var i=[{text:"delta",value:"ALIGN_DELTA",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.CUMULATIVE,a.DELTA]},{text:"rate",value:"ALIGN_RATE",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.CUMULATIVE,a.DELTA]},{text:"interpolate",value:"ALIGN_INTERPOLATE",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE]},{text:"next older",value:"ALIGN_NEXT_OLDER",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION,r.STRING,r.VALUE_TYPE_UNSPECIFIED,r.BOOL],metricKinds:[a.GAUGE]},{text:"min",value:"ALIGN_MIN",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA]},{text:"max",value:"ALIGN_MAX",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA]},{text:"mean",value:"ALIGN_MEAN",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA]},{text:"count",value:"ALIGN_COUNT",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.BOOL],metricKinds:[a.GAUGE,a.DELTA]},{text:"sum",value:"ALIGN_SUM",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA]},{text:"stddev",value:"ALIGN_STDDEV",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA]},{text:"count true",value:"ALIGN_COUNT_TRUE",valueTypes:[r.BOOL],metricKinds:[a.GAUGE]},{text:"count false",value:"ALIGN_COUNT_FALSE",valueTypes:[r.BOOL],metricKinds:[a.GAUGE]},{text:"fraction true",value:"ALIGN_FRACTION_TRUE",valueTypes:[r.BOOL],metricKinds:[a.GAUGE]},{text:"percentile 99",value:"ALIGN_PERCENTILE_99",valueTypes:[r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA]},{text:"percentile 95",value:"ALIGN_PERCENTILE_95",valueTypes:[r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA]},{text:"percentile 50",value:"ALIGN_PERCENTILE_50",valueTypes:[r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA]},{text:"percentile 05",value:"ALIGN_PERCENTILE_05",valueTypes:[r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA]},{text:"percent change",value:"ALIGN_PERCENT_CHANGE",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA]}],o=[{text:"none",value:"REDUCE_NONE",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION,r.BOOL,r.STRING],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE,a.METRIC_KIND_UNSPECIFIED]},{text:"mean",value:"REDUCE_MEAN",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA]},{text:"min",value:"REDUCE_MIN",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE,a.METRIC_KIND_UNSPECIFIED]},{text:"max",value:"REDUCE_MAX",valueTypes:[r.INT64,r.DOUBLE,r.MONEY],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE,a.METRIC_KIND_UNSPECIFIED]},{text:"sum",value:"REDUCE_SUM",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE,a.METRIC_KIND_UNSPECIFIED]},{text:"std. dev.",value:"REDUCE_STDDEV",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE,a.METRIC_KIND_UNSPECIFIED]},{text:"count",value:"REDUCE_COUNT",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION,r.BOOL,r.STRING],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE]},{text:"count true",value:"REDUCE_COUNT_TRUE",valueTypes:[r.BOOL],metricKinds:[a.GAUGE,a.DELTA]},{text:"count false",value:"REDUCE_COUNT_FALSE",valueTypes:[r.BOOL],metricKinds:[a.GAUGE,a.DELTA]},{text:"99th percentile",value:"REDUCE_PERCENTILE_99",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE]},{text:"95th percentile",value:"REDUCE_PERCENTILE_95",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE]},{text:"50th percentile",value:"REDUCE_PERCENTILE_50",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE]},{text:"5th percentile",value:"REDUCE_PERCENTILE_05",valueTypes:[r.INT64,r.DOUBLE,r.MONEY,r.DISTRIBUTION],metricKinds:[a.GAUGE,a.DELTA,a.CUMULATIVE]}],s=[{text:"grafana auto",value:"grafana-auto"},{text:"stackdriver auto",value:"stackdriver-auto"},{text:"1m",value:"+60s"},{text:"2m",value:"+120s"},{text:"5m",value:"+300s"},{text:"10m",value:"+600s"},{text:"30m",value:"+1800s"},{text:"1h",value:"+3600s"},{text:"3h",value:"+7200s"},{text:"6h",value:"+21600s"},{text:"1d",value:"+86400s"},{text:"3d",value:"+259200s"},{text:"1w",value:"+604800s"}],l={bit:"bits",By:"bytes",s:"s",min:"m",h:"h",d:"d",us:"µs",ms:"ms",ns:"ns",percent:"percent",MiBy:"mbytes","By/s":"Bps",GBy:"decgbytes"},c=["metadata.system_labels.cloud_account","metadata.system_labels.name","metadata.system_labels.region","metadata.system_labels.state","metadata.system_labels.instance_group","metadata.system_labels.node_name","metadata.system_labels.service_name","metadata.system_labels.top_level_controller_type","metadata.system_labels.top_level_controller_name","metadata.system_labels.container_image"]},"7dpV":function(e,t){var n="public/app/plugins/panel/pluginlist/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Mode</span>\n\t\t\t<div class="gf-form-select-wrapper max-width-10">\n\t\t\t\t<select class=gf-form-input ng-model=ctrl.panel.mode ng-options="f for f in ctrl.modes" ng-change=ctrl.refresh()></select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=gf-form ng-show="ctrl.panel.mode === \'recently viewed\'">\n\t\t\t<span class=gf-form-label>\n\t\t\t\t<i class="grafana-tip fa fa-question-circle ng-scope" bs-tooltip="\'WARNING: This list will be cleared when clearing browser cache\'" data-original-title="" title=""></i>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline ng-if="ctrl.panel.mode === \'search\'">\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Search options</span>\n\t\t\t<span class=gf-form-label>Query</span>\n\n\t\t\t<input type=text class=gf-form-input placeholder="title query" ng-model=ctrl.panel.query ng-change=ctrl.refresh() ng-model-onblur>\n\n\t\t</div>\n\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>Tags</span>\n\n\t\t\t<bootstrap-tagsinput ng-model=ctrl.panel.tags tagclass="label label-tag" placeholder="add tags" on-tags-updated=ctrl.refresh()>\n\t\t\t</bootstrap-tagsinput>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Limit number to</span>\n\t\t\t<input class=gf-form-input type=number ng-model=ctrl.panel.limit ng-model-onblur ng-change=ctrl.refresh()>\n\t\t</div>\n\t</div>\n</div>\n')}]),e.exports=n},"7teh":function(e,t){var n="public/app/partials/signup_invited.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n\t<h3 class=page-sub-heading>Hello {{greeting}}.</h3>\n\n\t<div class="modal-tagline p-b-2">\n\t\t<em>{{invitedBy}}</em> has invited you to join Grafana and the organization <span class=highlight-word>{{contextSrv.user.orgName}}</span><br>Please complete the following and choose a password to accept your invitation and continue:\n\t</div>\n\n\t<form name=inviteForm class="login-form gf-form-group">\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-7">Email</span>\n\t\t\t<input type=email name=email class="gf-form-input max-width-21" required ng-model=formModel.email placeholder=Email>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-7">Name</span>\n\t\t\t<input type=text name=name class="gf-form-input max-width-21" ng-model=formModel.name placeholder="Name (optional)">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-7">Username</span>\n\t\t\t<input type=text name=username class="gf-form-input max-width-21" required ng-model=formModel.username placeholder=Username>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-7">Password</span>\n\t\t\t<input type=password name=password class="gf-form-input max-width-21" required ng-model=formModel.password id=inputPassword placeholder=password>\n\t\t</div>\n\n\t\t<div class=gf-form-button-row>\n\t\t\t<button type=submit class="btn btn-primary" ng-click=submit(); ng-disable=!inviteForm.$valid>\n\t\t\t\tSign Up\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</div>\n\n<footer/>\n')}]),e.exports=n},"7wpZ":function(e,t){var n="public/app/plugins/datasource/stackdriver/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<query-editor-row query-ctrl=ctrl has-text-edit-mode=false>\n  <stackdriver-query-editor target=ctrl.target events=ctrl.panelCtrl.events datasource=ctrl.datasource template-srv=ctrl.templateSrv on-query-change=(ctrl.onQueryChange) on-execute-query=(ctrl.onExecuteQuery)></stackdriver-query-editor>\n</query-editor-row>\n")}]),e.exports=n},"7ym3":function(e,t){var n="public/app/plugins/datasource/mysql/partials/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<h3 class=page-heading>MySQL Connection</h3>\n\n<div class=gf-form-group>\n\t<div class="gf-form max-width-30">\n\t\t<span class="gf-form-label width-7">Host</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.current.url placeholder=localhost:3306 bs-typeahead="{{[\'localhost:3306\', \'localhost:3307\']}}" required>\n\t</div>\n\n\t<div class="gf-form max-width-30">\n\t\t<span class="gf-form-label width-7">Database</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.current.database placeholder="database name" required>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form max-width-15">\n\t\t\t<span class="gf-form-label width-7">User</span>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.current.user placeholder=user>\n\t\t</div>\n\t\t<div class=gf-form>\n      <secret-form-field isconfigured=ctrl.current.secureJsonFields.password value=ctrl.current.secureJsonData.password on-reset=ctrl.onPasswordReset on-change=ctrl.onPasswordChange inputwidth=9 />\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-group>\n\t\t<div class=gf-form-inline>\n\t\t\t<gf-form-checkbox class=gf-form label="TLS Client Auth" label-class=width-10 checked=ctrl.current.jsonData.tlsAuth switch-class=max-width-6></gf-form-checkbox>\n\t\t\t<gf-form-checkbox class=gf-form label="With CA Cert" tooltip="Needed for\n\t\t\t\tverifing self-signed TLS Certs" checked=ctrl.current.jsonData.tlsAuthWithCACert label-class=width-11 switch-class=max-width-6></gf-form-checkbox>\n\t\t</div>\n\t\t<div class=gf-form-inline>\n\t\t\t<gf-form-checkbox class=gf-form label="Skip TLS Verify" label-class=width-10 checked=ctrl.current.jsonData.tlsSkipVerify switch-class=max-width-6></gf-form-checkbox>\n\t\t</div>\n\t</div>\n\n<datasource-tls-auth-settings current=ctrl.current ng-if="(ctrl.current.jsonData.tlsAuth || ctrl.current.jsonData.tlsAuthWithCACert)">\n</datasource-tls-auth-settings>\n\n<b>Connection limits</b>\n\n<div class=gf-form-group>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max open</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.maxOpenConns placeholder=unlimited>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum number of open connections to the database. If <i>Max idle connections</i> is greater than 0 and the\n\t\t\t<i>Max open connections</i> is less than <i>Max idle connections</i>, then <i>Max idle connections</i> will be\n\t\t\treduced to match the <i>Max open connections</i> limit. If set to 0, there is no limit on the number of open\n\t\t\tconnections.\n\t\t</info-popover>\n\t</div>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max idle</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.maxIdleConns placeholder=2>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum number of connections in the idle connection pool. If <i>Max open connections</i> is greater than 0 but\n\t\t\tless than the <i>Max idle connections</i>, then the <i>Max idle connections</i> will be reduced to match the\n\t\t\t<i>Max open connections</i> limit. If set to 0, no idle connections are retained.\n\t\t</info-popover>\n\t</div>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max lifetime</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.connMaxLifetime placeholder=14400>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum amount of time in seconds a connection may be reused. If set to 0, connections are reused forever.<br/><br/>\n\t\t\tThis should always be lower than configured <a href=https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_wait_timeout target=_blank>wait_timeout</a> in MySQL.\n\t\t</info-popover>\n\t</div>\n</div>\n\n<h3 class=page-heading>MySQL details</h3>\n\n<div class=gf-form-group>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-9">Min time interval</span>\n\t\t\t<input type=text class="gf-form-input width-6 gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.timeInterval spellcheck=false placeholder=1m ng-pattern=/^\\d+(ms|[Mwdhmsy])$/ >\n\t\t\t<info-popover mode=right-absolute>\n\t\t\t\tA lower limit for the auto group by time interval. Recommended to be set to write frequency,\n\t\t\t\tfor example <code>1m</code> if your data is written every minute.\n\t\t\t</info-popover>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=gf-form-group>\n\t<div class=grafana-info-box>\n\t\t<h5>User Permission</h5>\n\t\t<p>\n\t\t\tThe database user should only be granted SELECT permissions on the specified database &amp; tables you want to query.\n\t\t\tGrafana does not validate that queries are safe so queries can contain any SQL statement. For example, statements\n\t\t\tlike <code>USE otherdb;</code> and <code>DROP TABLE user;</code> would be executed. To protect against this we\n\t\t\t<strong>Highly</strong> recommmend you create a specific MySQL user with restricted permissions.\n\n\t\t\tCheckout the <a class=external-link target=_blank href=http://docs.grafana.org/features/datasources/mysql/ >MySQL Data Source Docs</a> for more information.\n\t\t</p>\n\t</div>\n</div>\n</div>')}]),e.exports=n},"8//q":function(e,t,n){"use strict";var a=n("if1/"),r=n("mrSG"),i=n("Obii"),o=function(){function e(e){this.fields=[],this.fieldByName={},this.fieldByType={},this.fields=e.fields.map(function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{index:t})});for(var t=0;t<e.fields.length;t++){var n=e.fields[t];if(n.type===i.FieldType.other){var a=Object(i.guessFieldTypeForField)(n);a&&(n.type=a)}this.fieldByType[n.type]||(this.fieldByType[n.type]=[]),this.fieldByType[n.type].push(Object(r.__assign)(Object(r.__assign)({},n),{index:t})),this.fieldByName[n.name]?console.warn("Duplicate field names in DataFrame: ",n.name):this.fieldByName[n.name]=Object(r.__assign)(Object(r.__assign)({},n),{index:t})}}return e.prototype.getFields=function(e){if(!e)return Object(r.__spread)(this.fields);var t=this.fieldByType[e];return t?Object(r.__spread)(t):[]},e.prototype.hasFieldOfType=function(e){var t=this.fieldByType[e];return t&&t.length>0},e.prototype.getFirstFieldOfType=function(e){var t=this.fieldByType[e];if(t&&t.length>0)return t[0]},e.prototype.hasFieldNamed=function(e){return!!this.fieldByName[e]},e.prototype.getFieldByName=function(e){return this.fieldByName[e]},e}(),s=n("ir79"),l=n("Rabt"),c=function(e){function t(t){return e.call(this,void 0,function(e){return new l.a(Object(r.__assign)(Object(r.__assign)({},t),{buffer:e}))})||this}return Object(r.__extends)(t,e),t}(s.b),u=n("0v62"),d=function(e,t){return{name:e,columns:t}},p=function(e){return e.columns},f=function(e,t){return e.columns[t]},h=function(e,t,n){return e.columns[t].values.get(n)},m=function(e,t,n){return e.columns.map(function(e){return e.values.get(n)})},g=function(e,t){return e[t]};n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return s.a}),n.d(t,"e",function(){return s.b}),n.d(t,"o",function(){return u.d}),n.d(t,"n",function(){return u.c}),n.d(t,"p",function(){return u.e}),n.d(t,"r",function(){return u.g}),n.d(t,"q",function(){return u.f}),n.d(t,"u",function(){return u.j}),n.d(t,"w",function(){return u.l}),n.d(t,"t",function(){return u.i}),n.d(t,"s",function(){return u.h}),n.d(t,"l",function(){return u.b}),n.d(t,"j",function(){return u.a}),n.d(t,"v",function(){return u.k}),n.d(t,"f",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"k",function(){return g})},"85rF":function(e,t){!function(e){e.color={},e.color.make=function(t,n,a,r){var i={};return i.r=t||0,i.g=n||0,i.b=a||0,i.a=null!=r?r:1,i.add=function(e,t){for(var n=0;n<e.length;++n)i[e.charAt(n)]+=t;return i.normalize()},i.scale=function(e,t){for(var n=0;n<e.length;++n)i[e.charAt(n)]*=t;return i.normalize()},i.toString=function(){return i.a>=1?"rgb("+[i.r,i.g,i.b].join(",")+")":"rgba("+[i.r,i.g,i.b,i.a].join(",")+")"},i.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}return i.r=e(0,parseInt(i.r),255),i.g=e(0,parseInt(i.g),255),i.b=e(0,parseInt(i.b),255),i.a=e(0,i.a,1),i},i.clone=function(){return e.color.make(i.r,i.b,i.g,i.a)},i.normalize()},e.color.extract=function(t,n){var a;do{if(""!=(a=t.css(n).toLowerCase())&&"transparent"!=a)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==a&&(a="transparent"),e.color.parse(a)},e.color.parse=function(n){var a,r=e.color.make;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10));if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4]));if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]));if(a=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]),parseFloat(a[4]));if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16));if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16));var i=e.trim(n).toLowerCase();return"transparent"==i?r(255,255,255,0):r((a=t[i]||[0,0,0])[0],a[1],a[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){var t=Object.prototype.hasOwnProperty;function n(t,n){var a=n.children("."+t)[0];if(null==a&&((a=document.createElement("canvas")).className=t,e(a).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!a.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");a=window.G_vmlCanvasManager.initElement(a)}this.element=a;var r=this.context=a.getContext("2d"),i=window.devicePixelRatio||1,o=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=i/o,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function a(t,a,r,i){var o=[],s={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,eventSectionHeight:0,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},l=null,c=null,u=null,d=null,p=null,f=[],h=[],m={left:0,right:0,top:0,bottom:0},g=0,b=0,v={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],processRange:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;function w(e,t){t=[y].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function x(t){o=function(t){for(var n=[],a=0;a<t.length;++a){var r=e.extend(!0,{},s.series);null!=t[a].data?(r.data=t[a].data,delete t[a].data,e.extend(!0,r,t[a]),t[a].data=r.data):r.data=t[a],n.push(r)}return n}(t),function(){var t,n=o.length,a=-1;for(t=0;t<o.length;++t){var r=o[t].color;null!=r&&(n--,"number"==typeof r&&r>a&&(a=r))}n<=a&&(n=a+1);var i,l=[],c=s.colors,u=c.length,d=0;for(t=0;t<n;t++)i=e.color.parse(c[t%u]||"#666"),t%u==0&&t&&(d=d>=0?d<.5?-d-.2:0:-d),l[t]=i.scale("rgb",1+d);var p,m=0;for(t=0;t<o.length;++t){if(null==(p=o[t]).color?(p.color=l[m].toString(),++m):"number"==typeof p.color&&(p.color=l[p.color].toString()),null==p.lines.show){var g,b=!0;for(g in p)if(p[g]&&p[g].show){b=!1;break}b&&(p.lines.show=!0)}null==p.lines.zero&&(p.lines.zero=!!p.lines.fill),p.xaxis=j(f,O(p,"x")),p.yaxis=j(h,O(p,"y"))}}(),function(){var t,n,a,r,i,s,l,c,u,d,p,f,h=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=Number.MAX_VALUE;function b(e,t,n){t<e.datamin&&t!=-g&&(e.datamin=t),n>e.datamax&&n!=g&&(e.datamax=n)}for(e.each(_(),function(e,t){t.datamin=h,t.datamax=m,t.used=!1}),t=0;t<o.length;++t)(i=o[t]).datapoints={points:[]},w(v.processRawData,[i,i.data,i.datapoints]);for(t=0;t<o.length;++t){if(i=o[t],p=i.data,!(f=i.datapoints.format)){if((f=[]).push({x:!0,number:!0,required:!0}),f.push({y:!0,number:!0,required:!0}),i.stack||i.bars.show||i.lines.show&&i.lines.fill){var y=!!(i.bars.show&&i.bars.zero||i.lines.show&&i.lines.zero);f.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),i.bars.horizontal&&(delete f[f.length-1].y,f[f.length-1].x=!0)}i.datapoints.format=f}if(null==i.datapoints.pointsize){i.datapoints.pointsize=f.length,l=i.datapoints.pointsize,s=i.datapoints.points;var x=i.lines.show&&i.lines.steps;for(i.xaxis.used=i.yaxis.used=!0,n=a=0;n<p.length;++n,a+=l){var O=null==(d=p[n]);if(!O)for(r=0;r<l;++r)c=d[r],(u=f[r])&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=g:c==-1/0&&(c=-g)),null==c&&(u.required&&(O=!0),null!=u.defaultValue&&(c=u.defaultValue))),s[a+r]=c;if(O)for(r=0;r<l;++r)null!=(c=s[a+r])&&!1!==(u=f[r]).autoscale&&(u.x&&b(i.xaxis,c,c),u.y&&b(i.yaxis,c,c)),s[a+r]=null;if(x&&a>0&&(!O||null!=s[a-l])){for(r=0;r<l;++r)s[a+l+r]=s[a+r];s[a+1]=s[a-l+1]||0,O&&(s[a]=d[0]),a+=l}}}}for(t=0;t<o.length;++t){if(i=o[t],s=i.datapoints.points,l=i.datapoints.pointsize,"negative-Y"===i.transform)for(n=0;n<s.length;n+=l)null!=s[n]&&(c=s[n+1],s[n+1]=-c);w(v.processDatapoints,[i,i.datapoints])}for(t=0;t<o.length;++t){i=o[t],s=i.datapoints.points,l=i.datapoints.pointsize,f=i.datapoints.format;var k=h,j=h,C=m,S=m;for(n=0;n<s.length;n+=l)if(null!=s[n])for(r=0;r<l;++r)c=s[n+r],(u=f[r])&&!1!==u.autoscale&&c!=g&&c!=-g&&(u.x&&(c<k&&(k=c),c>C&&(C=c)),u.y&&(c<j&&(j=c),c>S&&(S=c)));if(i.bars.show){var E;switch(i.bars.align){case"left":E=0;break;case"right":E=-i.bars.barWidth;break;default:E=-i.bars.barWidth/2}i.bars.horizontal?(j+=E,S+=E+i.bars.barWidth):(k+=E,C+=E+i.bars.barWidth)}b(i.xaxis,k,C),b(i.yaxis,j,S)}e.each(_(),function(e,t){t.datamin==h&&(t.datamin=null),t.datamax==m&&(t.datamax=null)})}()}function O(e,t){var n=e[t+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function _(){return e.grep(f.concat(h),function(e){return e})}function k(e){var t,n,a={};for(t=0;t<f.length;++t)(n=f[t])&&(a["x"+n.n]=n.c2p(e.left));for(t=0;t<h.length;++t)(n=h[t])&&(a["y"+n.n]=n.c2p(e.top));return void 0!==a.x1&&(a.x=a.x1),void 0!==a.y1&&(a.y=a.y1),a}function j(t,n){return t[n-1]||(t[n-1]={n:n,direction:t==f?"x":"y",options:e.extend(!0,{},t==f?s.xaxis:s.yaxis)}),t[n-1]}function C(){B&&clearTimeout(B),u.unbind("mousemove",U),u.unbind("mouseleave",q),u.unbind("click",z),e(document).unbind("touchend",H),w(v.shutdown,[u])}function S(e){for(var t=e.options,n=e.ticks||[],a=t.labelWidth||0,r=t.labelHeight||0,i=a||("x"==e.direction?Math.floor(l.width/(n.length||1)):null),o=e.direction+"Axis "+e.direction+e.n+"Axis",s="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,c=t.font||"flot-tick-label tickLabel",u=0;u<n.length;++u){var d=n[u];if(d.label){var p=l.getTextInfo(s,d.label,c,null,i);a=Math.max(a,p.width+1),r=Math.max(r,p.height)}}e.labelWidth=t.labelWidth||a,e.labelHeight=t.labelHeight||r}function E(t){var n=t.labelWidth,a=t.labelHeight,r=t.options.position,i="x"===t.direction,o=t.options.tickLength,c=s.grid.axisMargin,u=s.grid.labelMargin,d=s.grid.eventSectionHeight,p=!0,g=!0,b=!0,v=!1;e.each(i?f:h,function(e,n){n&&(n.show||n.reserveSpace)&&(n===t?v=!0:n.options.position===r&&(v?g=!1:p=!1),v||(b=!1))}),g&&(c=0),null==o&&(o=b?"full":5),isNaN(+o)||(u+=+o),i?(a+=u,a+=d,"bottom"==r?(m.bottom+=a+c,t.box={top:l.height-m.bottom,height:a}):(t.box={top:m.top+c,height:a},m.top+=a+c)):(n+=u,"left"==r?(t.box={left:m.left+c,width:n},m.left+=n+c):(m.right+=n+c,t.box={left:l.width-m.right,width:n})),t.position=r,t.tickLength=o,t.box.padding=u,t.box.eventSectionPadding=d,t.innermost=p}function T(){var n=_(),a=s.grid.show;for(var r in m){var i=s.grid.margin||0;m[r]="number"==typeof i?i:i[r]||0}for(var r in w(v.processOffset,[m]),m)"object"==typeof s.grid.borderWidth?m[r]+=a?s.grid.borderWidth[r]:0:m[r]+=a?s.grid.borderWidth:0;if(e.each(n,function(e,t){var n=t.options;t.show=null==n.show?t.used:n.show,t.reserveSpace=null==n.reserveSpace?t.show:n.reserveSpace,function(e){var t=e.options,n=+(null!=t.min?t.min:e.datamin),a=+(null!=t.max?t.max:e.datamax),r=a-n;if(0==r){var i=Math.abs(0==a?1:.25*a);null==t.min&&(n-=i),null!=t.max&&null==t.min||(a+=i)}else{var o=t.autoscaleMargin;null!=o&&(null==t.min&&(n-=r*o)<0&&null!=e.datamin&&e.datamin>=0&&(n=0),null==t.max&&(a+=r*o)>0&&null!=e.datamax&&e.datamax<=0&&(a=0))}e.min=n,e.max=a}(t)}),w(v.processRange,[]),a){for(var c=e.grep(n,function(e){return e.show||e.reserveSpace}),u=!1,d=0;d<2&&(e.each(c,function(e,t){M(t),A(t),u=N(t,t.ticks)||u,S(t)}),u&&v.processRange.length>0);d++)w(v.processRange,[]),u=!1;for(d=c.length-1;d>=0;--d)E(c[d]);!function(){var t,n=s.grid.minBorderMargin;if(null==n)for(n=0,t=0;t<o.length;++t)n=Math.max(n,2*(o[t].points.radius+o[t].points.lineWidth/2));var a={left:n,right:n,top:n,bottom:n};e.each(_(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(a.left=Math.max(a.left,t.labelWidth/2),a.right=Math.max(a.right,t.labelWidth/2)):(a.bottom=Math.max(a.bottom,t.labelHeight/2),a.top=Math.max(a.top,t.labelHeight/2)))}),m.left=Math.ceil(Math.max(a.left,m.left)),m.right=Math.ceil(Math.max(a.right,m.right)),m.top=Math.ceil(Math.max(a.top,m.top)),m.bottom=Math.ceil(Math.max(a.bottom,m.bottom))}(),e.each(c,function(e,t){!function(e){"x"==e.direction?(e.box.left=m.left-e.labelWidth/2,e.box.width=l.width-m.left-m.right+e.labelWidth):(e.box.top=m.top-e.labelHeight/2,e.box.height=l.height-m.bottom-m.top+e.labelHeight)}(t)})}g=l.width-m.left-m.right,b=l.height-m.bottom-m.top,e.each(n,function(e,t){!function(e){function t(e){return e}var n,a,r=e.options.transform||t,i=e.options.inverseTransform;"x"==e.direction?(n=e.scale=g/Math.abs(r(e.max)-r(e.min)),a=Math.min(r(e.max),r(e.min))):(n=-(n=e.scale=b/Math.abs(r(e.max)-r(e.min))),a=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-a)*n}:function(e){return(r(e)-a)*n},e.c2p=i?function(e){return i(a+e/n)}:function(e){return a+e/n}}(t)}),a&&e.each(_(),function(e,t){var n,a,r,i,o,s=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,d=t.options.font||"flot-tick-label tickLabel";if(l.removeText(u),t.show&&0!=t.ticks.length)for(var p=0;p<t.ticks.length;++p)!(n=t.ticks[p]).label||n.v<t.min||n.v>t.max||("x"==t.direction?(i="center",a=m.left+t.p2c(n.v),"bottom"==t.position?r=s.top+s.padding+s.eventSectionPadding:(r=s.top+s.height-s.padding,o="bottom")):(o="middle",r=m.top+t.p2c(n.v),"left"==t.position?(a=s.left+s.width-s.padding,i="right"):a=s.left+s.padding),l.addText(u,a,r,n.label,d,null,null,i,o))}),function(){null!=s.legend.container?e(s.legend.container).html(""):t.find(".legend").remove();if(!s.legend.show)return;for(var n,a,r=[],i=[],l=!1,c=s.legend.labelFormatter,u=0;u<o.length;++u)(n=o[u]).label&&(a=c?c(n.label,n):n.label)&&i.push({label:a,color:n.color});if(s.legend.sorted)if(e.isFunction(s.legend.sorted))i.sort(s.legend.sorted);else if("reverse"==s.legend.sorted)i.reverse();else{var d="descending"!=s.legend.sorted;i.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=d?1:-1})}for(var u=0;u<i.length;++u){var p=i[u];u%s.legend.noColumns==0&&(l&&r.push("</tr>"),r.push("<tr>"),l=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+s.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+p.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+p.label+"</td>")}l&&r.push("</tr>");if(0==r.length)return;var f='<table style="font-size:smaller;color:'+s.grid.color+'">'+r.join("")+"</table>";if(null!=s.legend.container)e(s.legend.container).html(f);else{var h="",g=s.legend.position,b=s.legend.margin;null==b[0]&&(b=[b,b]),"n"==g.charAt(0)?h+="top:"+(b[1]+m.top)+"px;":"s"==g.charAt(0)&&(h+="bottom:"+(b[1]+m.bottom)+"px;"),"e"==g.charAt(1)?h+="right:"+(b[0]+m.right)+"px;":"w"==g.charAt(1)&&(h+="left:"+(b[0]+m.left)+"px;");var v=e('<div class="legend">'+f.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(t);if(0!=s.legend.backgroundOpacity){var y=s.legend.backgroundColor;null==y&&((y=(y=s.grid.backgroundColor)&&"string"==typeof y?e.color.parse(y):e.color.extract(v,"background-color")).a=1,y=y.toString());var w=v.children();e('<div style="position:absolute;width:'+w.width()+"px;height:"+w.height()+"px;"+h+"background-color:"+y+';"> </div>').prependTo(v).css("opacity",s.legend.backgroundOpacity)}}}()}function M(t){var n,a=t.options;n="number"==typeof a.ticks&&a.ticks>0?a.ticks:.3*Math.sqrt("x"==t.direction?l.width:l.height);var r=(t.max-t.min)/n,i=-Math.floor(Math.log(r)/Math.LN10),o=a.tickDecimals;null!=o&&i>o&&(i=o);var s,c=Math.pow(10,-i),u=r/c;if(u<1.5?s=1:u<3?(s=2,u>2.25&&(null==o||i+1<=o)&&(s=2.5,++i)):s=u<7.5?5:10,s*=c,null!=a.minTickSize&&s<a.minTickSize&&(s=a.minTickSize),t.delta=r,t.tickDecimals=Math.max(0,null!=o?o:i),t.tickSize=a.tickSize||s,null!==a.tickDecimals&&void 0!==a.tickDecimals||(t.scaledDecimals=t.tickDecimals+i),"time"==a.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t,n,a,r=[],i=(n=e.min,(a=e.tickSize)*Math.floor(n/a)),o=0,s=Number.NaN;do{t=s,s=i+o*e.tickSize,r.push(s),++o}while(s<e.max&&s!=t);return r},t.tickFormatter=function(e,t){var n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,a=""+Math.round(e*n)/n;if(null!=t.tickDecimals){var r=a.indexOf("."),i=-1==r?0:a.length-r-1;if(i<t.tickDecimals)return(i?a:a+".")+(""+n).substr(1,t.tickDecimals-i)}return a}),e.isFunction(a.tickFormatter)&&(t.tickFormatter=function(e,t){return""+a.tickFormatter(e,t)}),null!=a.alignTicksWithAxis){var d=("x"==t.direction?f:h)[a.alignTicksWithAxis-1];if(d&&d.used&&d!=t){var p=t.tickGenerator(t);if(p.length>0&&(null==a.min&&(t.min=Math.min(t.min,p[0])),null==a.max&&p.length>1&&(t.max=Math.max(t.max,p[p.length-1]))),t.tickGenerator=function(e){var t,n,a=[];for(n=0;n<d.ticks.length;++n)t=(d.ticks[n].v-d.min)/(d.max-d.min),t=e.min+t*(e.max-e.min),a.push(t);return a},!t.mode&&null==a.tickDecimals){var m=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),g=t.tickGenerator(t);g.length>1&&/\..*0$/.test((g[1]-g[0]).toFixed(m))||(t.tickDecimals=m)}}}}function A(t){var n,a,r=t.options.ticks,i=[];for(null==r||"number"==typeof r&&r>0?i=t.tickGenerator(t):r&&(i=e.isFunction(r)?r(t):r),t.ticks=[],n=0;n<i.length;++n){var o=null,s=i[n];"object"==typeof s?(a=+s[0],s.length>1&&(o=s[1])):a=+s,null==o&&(o=t.tickFormatter(a,t)),isNaN(a)||t.ticks.push({v:a,label:o})}}function N(e,t){var n=!1;return e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v),n=!0),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v),n=!0)),n}function D(){l.clear(),w(v.drawBackground,[d]);var e=s.grid;e.show&&e.backgroundColor&&(d.save(),d.translate(m.left,m.top),d.fillStyle=ee(s.grid.backgroundColor,b,0,"rgba(255, 255, 255, 0)"),d.fillRect(0,0,g,b),d.restore()),e.show&&!e.aboveData&&P();for(var t=0;t<o.length;++t)w(v.drawSeries,[d,o[t]]),F(o[t]);w(v.draw,[d]),e.show&&e.aboveData&&P(),l.render(),W()}function I(e,t){for(var n,a,r,i,o=_(),s=0;s<o.length;++s)if((n=o[s]).direction==t&&(e[i=t+n.n+"axis"]||1!=n.n||(i=t+"axis"),e[i])){a=e[i].from,r=e[i].to;break}if(e[i]||(n="x"==t?f[0]:h[0],a=e[t+"1"],r=e[t+"2"]),null!=a&&null!=r&&a>r){var l=a;a=r,r=l}return{from:a,to:r,axis:n}}function P(){var t,n,a,r;d.save(),d.translate(m.left,m.top);var i=s.grid.markings;if(i)for(e.isFunction(i)&&((n=y.getAxes()).xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,i=i(n)),t=0;t<i.length;++t){var o=i[t],l=I(o,"x"),c=I(o,"y");if(null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),null==c.from&&(c.from=c.axis.min),null==c.to&&(c.to=c.axis.max),!(l.to<l.axis.min||l.from>l.axis.max||c.to<c.axis.min||c.from>c.axis.max)){l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,c.axis.max);var u=l.from===l.to,p=c.from===c.to;if(!u||!p)if(l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c.from=Math.floor(c.axis.p2c(c.from)),c.to=Math.floor(c.axis.p2c(c.to)),u||p){var f=o.lineWidth||s.grid.markingsLineWidth,h=f%2?.5:0;d.beginPath(),d.strokeStyle=o.color||s.grid.markingsColor,d.lineWidth=f,u?(d.moveTo(l.to+h,c.from),d.lineTo(l.to+h,c.to)):(d.moveTo(l.from,c.to+h),d.lineTo(l.to,c.to+h)),d.stroke()}else d.fillStyle=o.color||s.grid.markingsColor,d.fillRect(l.from,c.to,l.to-l.from,c.from-c.to)}}n=_(),a=s.grid.borderWidth;for(var v=0;v<n.length;++v){var w,x,O,k,j=n[v],C=j.box,S=j.tickLength;if(j.show&&0!=j.ticks.length){for(d.lineWidth=1,"x"==j.direction?(w=0,x="full"==S?"top"==j.position?0:b:C.top-m.top+("top"==j.position?C.height:0)):(x=0,w="full"==S?"left"==j.position?0:g:C.left-m.left+("left"==j.position?C.width:0)),j.innermost||(d.strokeStyle=j.options.color,d.beginPath(),O=k=0,"x"==j.direction?O=g+1:k=b+1,1==d.lineWidth&&("x"==j.direction?x=Math.floor(x)+.5:w=Math.floor(w)+.5),d.moveTo(w,x),d.lineTo(w+O,x+k),d.stroke()),d.strokeStyle=j.options.tickColor,d.beginPath(),t=0;t<j.ticks.length;++t){var E=j.ticks[t].v;O=k=0,isNaN(E)||E<j.min||E>j.max||"full"==S&&("object"==typeof a&&a[j.position]>0||a>0)&&(E==j.min||E==j.max)||("x"==j.direction?(w=j.p2c(E),k="full"==S?-b:S,"top"==j.position&&(k=-k)):(x=j.p2c(E),O="full"==S?-g:S,"left"==j.position&&(O=-O)),1==d.lineWidth&&("x"==j.direction?w=Math.floor(w)+.5:x=Math.floor(x)+.5),d.moveTo(w,x),d.lineTo(w+O,x+k))}d.stroke()}}a&&(r=s.grid.borderColor,"object"==typeof a||"object"==typeof r?("object"!=typeof a&&(a={top:a,right:a,bottom:a,left:a}),"object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),a.top>0&&(d.strokeStyle=r.top,d.lineWidth=a.top,d.beginPath(),d.moveTo(0-a.left,0-a.top/2),d.lineTo(g,0-a.top/2),d.stroke()),a.right>0&&(d.strokeStyle=r.right,d.lineWidth=a.right,d.beginPath(),d.moveTo(g+a.right/2,0-a.top),d.lineTo(g+a.right/2,b),d.stroke()),a.bottom>0&&(d.strokeStyle=r.bottom,d.lineWidth=a.bottom,d.beginPath(),d.moveTo(g+a.right,b+a.bottom/2),d.lineTo(0,b+a.bottom/2),d.stroke()),a.left>0&&(d.strokeStyle=r.left,d.lineWidth=a.left,d.beginPath(),d.moveTo(0-a.left/2,b+a.bottom),d.lineTo(0-a.left/2,0),d.stroke())):(d.lineWidth=a,d.strokeStyle=s.grid.borderColor,d.strokeRect(-a/2,-a/2,g+a,b+a))),d.restore()}function F(e){e.lines.show&&(function(e){function t(e,t,n,a,r){var i=e.points,o=e.pointsize,s=null,l=null;d.beginPath();for(var c=o;c<i.length;c+=o){var u=i[c-o],p=i[c-o+1],f=i[c],h=i[c+1];if(null!=u&&null!=f){if(p<=h&&p<r.min){if(h<r.min)continue;u=(r.min-p)/(h-p)*(f-u)+u,p=r.min}else if(h<=p&&h<r.min){if(p<r.min)continue;f=(r.min-p)/(h-p)*(f-u)+u,h=r.min}if(p>=h&&p>r.max){if(h>r.max)continue;u=(r.max-p)/(h-p)*(f-u)+u,p=r.max}else if(h>=p&&h>r.max){if(p>r.max)continue;f=(r.max-p)/(h-p)*(f-u)+u,h=r.max}if(u<=f&&u<a.min){if(f<a.min)continue;p=(a.min-u)/(f-u)*(h-p)+p,u=a.min}else if(f<=u&&f<a.min){if(u<a.min)continue;h=(a.min-u)/(f-u)*(h-p)+p,f=a.min}if(u>=f&&u>a.max){if(f>a.max)continue;p=(a.max-u)/(f-u)*(h-p)+p,u=a.max}else if(f>=u&&f>a.max){if(u>a.max)continue;h=(a.max-u)/(f-u)*(h-p)+p,f=a.max}u==s&&p==l||d.moveTo(a.p2c(u)+t,r.p2c(p)+n),s=f,l=h,d.lineTo(a.p2c(f)+t,r.p2c(h)+n)}}d.stroke()}d.save(),d.translate(m.left,m.top),d.lineJoin="round";var n=e.lines.lineWidth,a=e.shadowSize;if(n>0&&a>0){d.lineWidth=a,d.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;t(e.datapoints,Math.sin(r)*(n/2+a/2),Math.cos(r)*(n/2+a/2),e.xaxis,e.yaxis),d.lineWidth=a/2,t(e.datapoints,Math.sin(r)*(n/2+a/4),Math.cos(r)*(n/2+a/4),e.xaxis,e.yaxis)}d.lineWidth=n,d.strokeStyle=e.color;var i=V(e.lines,e.color,0,b);i&&(d.fillStyle=i,function(e,t,n){var a=e.points,r=e.pointsize,i=Math.min(Math.max(0,n.min),n.max),o=0,s=!1,l=1,c=0,u=0;for(;!(r>0&&o>a.length+r);){var p=a[(o+=r)-r],f=a[o-r+l],h=a[o],m=a[o+l];if(s){if(r>0&&null!=p&&null==h){u=o,r=-r,l=2;continue}if(r<0&&o==c+r){d.fill(),s=!1,l=1,o=c=u+(r=-r);continue}}if(null!=p&&null!=h){if(p<=h&&p<t.min){if(h<t.min)continue;f=(t.min-p)/(h-p)*(m-f)+f,p=t.min}else if(h<=p&&h<t.min){if(p<t.min)continue;m=(t.min-p)/(h-p)*(m-f)+f,h=t.min}if(p>=h&&p>t.max){if(h>t.max)continue;f=(t.max-p)/(h-p)*(m-f)+f,p=t.max}else if(h>=p&&h>t.max){if(p>t.max)continue;m=(t.max-p)/(h-p)*(m-f)+f,h=t.max}if(s||(d.beginPath(),d.moveTo(t.p2c(p),n.p2c(i)),s=!0),f>=n.max&&m>=n.max)d.lineTo(t.p2c(p),n.p2c(n.max)),d.lineTo(t.p2c(h),n.p2c(n.max));else if(f<=n.min&&m<=n.min)d.lineTo(t.p2c(p),n.p2c(n.min)),d.lineTo(t.p2c(h),n.p2c(n.min));else{var g=p,b=h;f<=m&&f<n.min&&m>=n.min?(p=(n.min-f)/(m-f)*(h-p)+p,f=n.min):m<=f&&m<n.min&&f>=n.min&&(h=(n.min-f)/(m-f)*(h-p)+p,m=n.min),f>=m&&f>n.max&&m<=n.max?(p=(n.max-f)/(m-f)*(h-p)+p,f=n.max):m>=f&&m>n.max&&f<=n.max&&(h=(n.max-f)/(m-f)*(h-p)+p,m=n.max),p!=g&&d.lineTo(t.p2c(g),n.p2c(f)),d.lineTo(t.p2c(p),n.p2c(f)),d.lineTo(t.p2c(h),n.p2c(m)),h!=b&&(d.lineTo(t.p2c(h),n.p2c(m)),d.lineTo(t.p2c(b),n.p2c(m)))}}}}(e.datapoints,e.xaxis,e.yaxis));n>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);d.restore()}(e),e.points.show||e.bars.show||function(e){for(var t=[],n=null,a=null,r=e.datapoints,i=[],o=0;o<r.pointsize-2;o++)i.push(0);for(var s=0;s<r.points.length;s+=r.pointsize){var l=r.points[s],c=r.points[s+1];a=s===r.points.length-r.pointsize?null:r.points[s+r.pointsize],null!==l&&null!==c&&null===n&&null===a&&(t.push(l),t.push(c),t.push.apply(t,i)),n=l}var u=r.points;r.points=t,e.points.radius=e.lines.lineWidth/2,L(e),r.points=u}(e)),e.bars.show&&function(e){var t;switch(d.save(),d.translate(m.left,m.top),d.lineWidth=e.bars.lineWidth,d.strokeStyle=e.color,e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;default:t=-e.bars.barWidth/2}var n=e.bars.fill?function(t,n){return V(e.bars,e.color,t,n)}:null;(function(t,n,a,r,i,o){for(var s=t.points,l=t.pointsize,c=0;c<s.length;c+=l)null!=s[c]&&R(s[c],s[c+1],s[c+2],n,a,r,i,o,d,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,n,e.xaxis,e.yaxis),d.restore()}(e),e.points.show&&L(e)}function L(e){function t(e,t,n,a,r,i,o,s){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c){var p=l[u],f=l[u+1];null==p||p<i.min||p>i.max||f<o.min||f>o.max||(d.beginPath(),p=i.p2c(p),f=o.p2c(f)+a,"circle"==s?d.arc(p,f,t,0,r?Math.PI:2*Math.PI,!1):s(d,p,f,t,r),d.closePath(),n&&(d.fillStyle=n,d.fill()),d.stroke())}}d.save(),d.translate(m.left,m.top);var n=e.points.lineWidth,a=e.shadowSize,r=e.points.radius,i=e.points.symbol;if(0==n&&(n=1e-4),n>0&&a>0){var o=a/2;d.lineWidth=o,d.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,o+o/2,!0,e.xaxis,e.yaxis,i),d.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,o/2,!0,e.xaxis,e.yaxis,i)}d.lineWidth=n,d.strokeStyle=e.color,t(e.datapoints,r,V(e.points,e.color),0,!1,e.xaxis,e.yaxis,i),d.restore()}function R(e,t,n,a,r,i,o,s,l,c,u){var d,p,f,h,m,g,b,v,y;c?(v=g=b=!0,m=!1,h=t+a,f=t+r,(p=e)<(d=n)&&(y=p,p=d,d=y,m=!0,g=!1)):(m=g=b=!0,v=!1,d=e+a,p=e+r,(h=t)<(f=n)&&(y=h,h=f,f=y,v=!0,b=!1)),p<o.min||d>o.max||h<s.min||f>s.max||(d<o.min&&(d=o.min,m=!1),p>o.max&&(p=o.max,g=!1),f<s.min&&(f=s.min,v=!1),h>s.max&&(h=s.max,b=!1),d=o.p2c(d),f=s.p2c(f),p=o.p2c(p),h=s.p2c(h),i&&(l.fillStyle=i(f,h),l.fillRect(d,h,p-d,f-h)),u>0&&(m||g||b||v)&&(l.beginPath(),l.moveTo(d,f),m?l.lineTo(d,h):l.moveTo(d,h),b?l.lineTo(p,h):l.moveTo(p,h),g?l.lineTo(p,f):l.moveTo(p,f),v?l.lineTo(d,f):l.moveTo(d,f),l.stroke()))}function V(t,n,a,r){var i=t.fill;if(!i)return null;if(t.fillColor)return ee(t.fillColor,a,r,n);var o=e.color.parse(n);return o.a="number"==typeof i?i:.4,o.normalize(),o.toString()}y.setData=x,y.setupGrid=T,y.draw=D,y.getPlaceholder=function(){return t},y.getCanvas=function(){return l.element},y.getPlotOffset=function(){return m},y.width=function(){return g},y.height=function(){return b},y.offset=function(){var e=u.offset();return e.left+=m.left,e.top+=m.top,e},y.getData=function(){return o},y.getAxes=function(){var t={};return e.each(f.concat(h),function(e,n){n&&(t[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),t},y.getXAxes=function(){return f},y.getYAxes=function(){return h},y.c2p=k,y.p2c=function(e){var t,n,a,r={};for(t=0;t<f.length;++t)if((n=f[t])&&n.used&&(a="x"+n.n,null==e[a]&&1==n.n&&(a="x"),null!=e[a])){r.left=n.p2c(e[a]);break}for(t=0;t<h.length;++t)if((n=h[t])&&n.used&&(a="y"+n.n,null==e[a]&&1==n.n&&(a="y"),null!=e[a])){r.top=n.p2c(e[a]);break}return r},y.getOptions=function(){return s},y.highlight=Y,y.unhighlight=K,y.triggerRedrawOverlay=W,y.pointOffset=function(e){return{left:parseInt(f[O(e,"x")-1].p2c(+e.x)+m.left,10),top:parseInt(h[O(e,"y")-1].p2c(+e.y)+m.top,10)}},y.shutdown=C,y.destroy=function(){C(),t.removeData("plot").empty(),o=[],s=null,l=null,c=null,u=null,d=null,p=null,f=[],h=[],v=null,$=[],y=null},y.resize=function(){var e=t.width(),n=t.height();l.resize(e,n),c.resize(e,n)},y.hooks=v,function(){for(var t={Canvas:n},a=0;a<i.length;++a){var r=i[a];r.init(y,t),r.options&&e.extend(!0,s,r.options)}}(),function(n){e.extend(!0,s,n),n&&n.colors&&(s.colors=n.colors);null==s.xaxis.color&&(s.xaxis.color=e.color.parse(s.grid.color).scale("a",.22).toString());null==s.yaxis.color&&(s.yaxis.color=e.color.parse(s.grid.color).scale("a",.22).toString());null==s.xaxis.tickColor&&(s.xaxis.tickColor=s.grid.tickColor||s.xaxis.color);null==s.yaxis.tickColor&&(s.yaxis.tickColor=s.grid.tickColor||s.yaxis.color);null==s.grid.borderColor&&(s.grid.borderColor=s.grid.color);null==s.grid.tickColor&&(s.grid.tickColor=e.color.parse(s.grid.color).scale("a",.22).toString());var a,r,i,o=t.css("font-size"),l=o?+o.replace("px",""):13,c={style:t.css("font-style"),size:Math.round(.8*l),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(i=s.xaxes.length||1,a=0;a<i;++a)(r=s.xaxes[a])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},s.xaxis,r),s.xaxes[a]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(i=s.yaxes.length||1,a=0;a<i;++a)(r=s.yaxes[a])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},s.yaxis,r),s.yaxes[a]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));s.xaxis.noTicks&&null==s.xaxis.ticks&&(s.xaxis.ticks=s.xaxis.noTicks);s.yaxis.noTicks&&null==s.yaxis.ticks&&(s.yaxis.ticks=s.yaxis.noTicks);s.x2axis&&(s.xaxes[1]=e.extend(!0,{},s.xaxis,s.x2axis),s.xaxes[1].position="top",null==s.x2axis.min&&(s.xaxes[1].min=null),null==s.x2axis.max&&(s.xaxes[1].max=null));s.y2axis&&(s.yaxes[1]=e.extend(!0,{},s.yaxis,s.y2axis),s.yaxes[1].position="right",null==s.y2axis.min&&(s.yaxes[1].min=null),null==s.y2axis.max&&(s.yaxes[1].max=null));s.grid.coloredAreas&&(s.grid.markings=s.grid.coloredAreas);s.grid.coloredAreasColor&&(s.grid.markingsColor=s.grid.coloredAreasColor);s.lines&&e.extend(!0,s.series.lines,s.lines);s.points&&e.extend(!0,s.series.points,s.points);s.bars&&e.extend(!0,s.series.bars,s.bars);null!=s.shadowSize&&(s.series.shadowSize=s.shadowSize);null!=s.highlightColor&&(s.series.highlightColor=s.highlightColor);for(a=0;a<s.xaxes.length;++a)j(f,a+1).options=s.xaxes[a];for(a=0;a<s.yaxes.length;++a)j(h,a+1).options=s.yaxes[a];for(var u in v)s.hooks[u]&&s.hooks[u].length&&(v[u]=v[u].concat(s.hooks[u]));w(v.processOptions,[s])}(r),function(){t.find(".flot-temp-elem").remove(),"static"==t.css("position")&&t.css("position","relative");l=new n("flot-base",t),c=new n("flot-overlay",t),d=l.context,p=c.context,u=e(c.element).unbind();var a=t.data("plot");a&&(a.shutdown(),c.clear());t.data("plot",y)}(),x(a),T(),D(),function(){s.grid.hoverable&&(u.mousemove(U),u.bind("mouseleave",q),e(document).bind("touchend",H));s.grid.clickable&&u.click(z);w(v.bindEvents,[u])}();var $=[],B=null;function U(e){s.grid.hoverable&&G("plothover",e,function(e){return 0!=e.hoverable})}function q(e){s.grid.hoverable&&G("plothover",e,function(e){return!1})}function z(e){y.isSelecting||G("plotclick",e,function(e){return 0!=e.clickable})}function H(e){e.cancelable&&(u.is(e.target)||0!==u.has(e.target).length?(U(function(e){if(!e||!e.originalEvent)return e;if(e.pageX&&e.pageY)return e;var t=e.originalEvent;if(0===t.changedTouches.length)return e;var n=t.changedTouches[0];return e.pageX=n.pageX,e.pageY=n.pageY,e}(e)),e.preventDefault()):G("plotleave",e,function(e){}))}function G(e,n,a){var r=u.offset(),i=n.pageX-r.left-m.left,l=n.pageY-r.top-m.top,c=k({left:i,top:l});c.pageX=n.pageX,c.pageY=n.pageY,c.ctrlKey=n.ctrlKey,c.metaKey=n.metaKey;var d=function(e,t,n){var a,r,i,l=s.grid.mouseActiveRadius,c=l*l+1,u=null;for(a=o.length-1;a>=0;--a)if(n(o[a])){var d=o[a],p=d.xaxis,f=d.yaxis,h=d.datapoints.points,m=p.c2p(e),g=f.c2p(t),b=l/p.scale,v=l/f.scale;if(i=d.datapoints.pointsize,p.options.inverseTransform&&(b=Number.MAX_VALUE),f.options.inverseTransform&&(v=Number.MAX_VALUE),d.lines.show||d.points.show)for(r=0;r<h.length;r+=i){var y=h[r],w=h[r+1];if(null!=y&&!(y-m>b||y-m<-b||w-g>v||w-g<-v)){var x=Math.abs(p.p2c(y)-e),O=Math.abs(f.p2c(w)-t),_=x*x+O*O;_<c&&(c=_,u=[a,r/i])}}if(d.bars.show&&!u){var k,j;switch(d.bars.align){case"left":k=0;break;case"right":k=-d.bars.barWidth;break;default:k=-d.bars.barWidth/2}for(j=k+d.bars.barWidth,r=0;r<h.length;r+=i){y=h[r],w=h[r+1];var C=h[r+2];null!=y&&(o[a].bars.horizontal?m<=Math.max(C,y)&&m>=Math.min(C,y)&&g>=w+k&&g<=w+j:m>=y+k&&m<=y+j&&g>=Math.min(C,w)&&g<=Math.max(C,w))&&(u=[a,r/i])}}}return u?(a=u[0],r=u[1],i=o[a].datapoints.pointsize,{datapoint:o[a].datapoints.points.slice(r*i,(r+1)*i),dataIndex:r,series:o[a],seriesIndex:a}):null}(i,l,a);if(d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+r.left+m.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+r.top+m.top,10)),s.grid.autoHighlight){for(var p=0;p<$.length;++p){var f=$[p];f.auto!=e||d&&f.series==d.series&&f.point[0]==d.datapoint[0]&&f.point[1]==d.datapoint[1]||K(f.series,f.point)}d&&Y(d.series,d.datapoint,e)}t.trigger(e,[c,d])}function W(){var e=s.interaction.redrawOverlayInterval;-1!=e?B||(B=setTimeout(Q,e)):Q()}function Q(){var e,t;for(B=null,p.save(),c.clear(),p.translate(m.left,m.top),e=0;e<$.length;++e)(t=$[e]).series.bars.show?X(t.series,t.point):Z(t.series,t.point);p.restore(),w(v.drawOverlay,[p])}function Y(e,t,n){if("number"==typeof e&&(e=o[e]),"number"==typeof t){var a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}var r=J(e,t);-1==r?($.push({series:e,point:t,auto:n}),W()):n||($[r].auto=!1)}function K(e,t){if(null==e&&null==t)return $=[],void W();if("number"==typeof e&&(e=o[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var a=J(e,t);-1!=a&&($.splice(a,1),W())}function J(e,t){for(var n=0;n<$.length;++n){var a=$[n];if(a.series==e&&a.point[0]==t[0]&&a.point[1]==t[1])return n}return-1}function Z(t,n){var a=n[0],r=n[1],i=t.xaxis,o=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(a<i.min||a>i.max||r<o.min||r>o.max)){var l=t.points.radius+t.points.lineWidth/2;p.lineWidth=l,p.strokeStyle=s;var c=1.5*l;a=i.p2c(a),r=o.p2c(r),p.beginPath(),"circle"==t.points.symbol?p.arc(a,r,c,0,2*Math.PI,!1):t.points.symbol(p,a,r,c,!1),p.closePath(),p.stroke()}}function X(t,n){var a,r="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),i=r;switch(t.bars.align){case"left":a=0;break;case"right":a=-t.bars.barWidth;break;default:a=-t.bars.barWidth/2}p.lineWidth=t.bars.lineWidth,p.strokeStyle=r,R(n[0],n[1],n[2]||0,a,a+t.bars.barWidth,function(){return i},t.xaxis,t.yaxis,p,t.bars.horizontal,t.bars.lineWidth)}function ee(t,n,a,r){if("string"==typeof t)return t;for(var i=d.createLinearGradient(0,a,0,n),o=0,s=t.colors.length;o<s;++o){var l=t.colors[o];if("string"!=typeof l){var c=e.color.parse(r);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}i.addColorStop(o/(s-1),l)}return i}}e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),n.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var n=this.element,a=this.context,r=this.pixelRatio;this.width!=e&&(n.width=e*r,n.style.width=e+"px",this.width=e),this.height!=t&&(n.height=t*r,n.style.height=t+"px",this.height=t),a.restore(),a.save(),a.scale(r,r)},n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.render=function(){var e=this._textCache;for(var n in e)if(t.call(e,n)){var a=this.getTextLayer(n),r=e[n];for(var i in a.hide(),r)if(t.call(r,i)){var o=r[i];for(var s in o)if(t.call(o,s)){for(var l,c=o[s].positions,u=0;l=c[u];u++)l.active?l.rendered||(a.append(l.element),l.rendered=!0):(c.splice(u--,1),l.rendered&&l.element.detach());0==c.length&&delete o[s]}}a.show()}},n.prototype.getTextLayer=function(t){var n=this.text[t];return null==n&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text flot-temp-elem'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},n.prototype.getTextInfo=function(t,n,a,r,i){var o,s,l,c;if(n=""+n,o="object"==typeof a?a.style+" "+a.variant+" "+a.weight+" "+a.size+"px/"+a.lineHeight+"px "+a.family:a,null==(s=this._textCache[t])&&(s=this._textCache[t]={}),null==(l=s[o])&&(l=s[o]={}),null==(c=l[n])){var u=e("<div></div>").html(n).css({position:"absolute","max-width":i,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof a?u.css({font:o,color:a.color}):"string"==typeof a&&u.addClass(a),c=l[n]={element:u,positions:[]};var d=this._textSizeCache[n];d?(c.width=d.width,c.height=d.height):(c.width=u.outerWidth(!0),c.height=u.outerHeight(!0),this._textSizeCache[n]={width:c.width,height:c.height}),u.detach()}return c},n.prototype.addText=function(e,t,n,a,r,i,o,s,l){var c=this.getTextInfo(e,a,r,i,o),u=c.positions;"center"==s?t-=c.width/2:"right"==s&&(t-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var d,p=0;d=u[p];p++)if(d.x==t&&d.y==n)return void(d.active=!0);d={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:t,y:n},u.push(d),d.element.css({top:Math.round(n),left:Math.round(t),"text-align":s})},n.prototype.removeText=function(e,n,a,r,i,o){if(null==r){var s=this._textCache[e];if(null!=s)for(var l in s)if(t.call(s,l)){var c=s[l];for(var u in c)if(t.call(c,u))for(var d=c[u].positions,p=0;f=d[p];p++)f.active=!1}}else{var f;for(d=this.getTextInfo(e,r,i,o).positions,p=0;f=d[p];p++)f.x==n&&f.y==a&&(f.active=!1)}},e.plot=function(t,n,r){return new a(e(t),n,r,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,n){return this.each(function(){e.plot(this,t,n)})}}(jQuery)},"8iRp":function(e,t){var n="public/app/plugins/panel/singlestat/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=singlestat-panel>\n\n</div>\n")}]),e.exports=n},"94Nu":function(e,t){},"9CCn":function(e,t){var n="public/app/plugins/panel/text/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=gf-form-inline>\n\t<div class=gf-form>\n\t\t<span class=gf-form-label>Mode</span>\n\t\t<span class=gf-form-select-wrapper>\n\t\t\t<select class=gf-form-input ng-model=ctrl.panel.mode ng-options=\"f for f in ['html','markdown']\"></select>\n\t\t</span>\n\t</div>\n</div>\n\n<div class=gf-form-inline>\n\t<div class=\"gf-form gf-form--grow\">\n\t\t<code-editor content=ctrl.panel.content on-change=ctrl.render() data-mode=markdown data-max-lines=20>\n\t\t</code-editor>\n\t</div>\n</div>\n")}]),e.exports=n},"9RCP":function(e,t){var n="public/app/plugins/datasource/mysql/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=gf-form-group>\n  <div class=gf-form-inline>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<textarea rows=10 class=gf-form-input ng-model=ctrl.annotation.rawQuery spellcheck=false placeholder="query expression" data-min-length=0 data-items=100 ng-model-onblur ng-change=ctrl.panelCtrl.refresh()></textarea>\n\t\t</div>\n\t</div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n\t\t</div>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showHelp>\n\t\t<pre class="gf-form-pre alert alert-info"><h6>Annotation Query Format</h6>\nAn annotation is an event that is overlaid on top of graphs. The query can have up to four columns per row, the <i>time</i> or <i>time_sec</i> column is mandatory. Annotation rendering is expensive so it is important to limit the number of rows returned.\n\n- column with alias: <b>time</b> or <i>time_sec</i> for the annotation event time. Use epoch time or any native date data type.\n- column with alias: <b>timeend</b> for the annotation event end time. Use epoch time or any native date data type.\n- column with alias: <b>text</b> for the annotation text\n- column with alias: <b>tags</b> for annotation tags. This is a comma separated string of tags e.g. \'tag1,tag2\'\n\n\nMacros:\n- $__time(column) -&gt; UNIX_TIMESTAMP(column) as time (or as time_sec)\n- $__timeEpoch(column) -&gt; UNIX_TIMESTAMP(column) as time (or as time_sec)\n- $__timeFilter(column) -&gt; column BETWEEN FROM_UNIXTIME(1492750877) AND FROM_UNIXTIME(1492750877)\n- $__unixEpochFilter(column) -&gt;  time_unix_epoch &gt; 1492750877 AND time_unix_epoch &lt; 1492750877\n- $__unixEpochNanoFilter(column) -&gt;  column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n\nOr build your own conditionals using these macros which just return the values:\n- $__timeFrom() -&gt; FROM_UNIXTIME(1492750877)\n- $__timeTo() -&gt;  FROM_UNIXTIME(1492750877)\n- $__unixEpochFrom() -&gt;  1492750877\n- $__unixEpochTo() -&gt;  1492750877\n- $__unixEpochNanoFrom() -&gt;  1494410783152415214\n- $__unixEpochNanoTo() -&gt;  1494497183142514872\n\t\t</pre>\n\t</div>\n</div>\n')}]),e.exports=n},"9XWl":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("PAeb"),s=n("kDLi"),l=n("NXk7"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoading:!1},t.getOrgOptions=function(e){return Object(a.__awaiter)(t,void 0,Promise,function(){return Object(a.__generator)(this,function(e){switch(e.label){case 0:return this.orgs?[3,2]:[4,this.loadOrgs()];case 1:e.sent(),e.label=2;case 2:return[2,this.orgs.map(function(e){return{id:e.id,value:e.id,label:e.name,name:e.name}})]}})})},t}return Object(a.__extends)(t,e),t.prototype.loadOrgs=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.setState({isLoading:!0}),[4,Object(l.b)().get("/api/orgs")];case 1:return e=t.sent(),this.orgs=e,this.setState({isLoading:!1}),[2,e]}})})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.onSelected,a=this.state.isLoading;return i.a.createElement("div",{className:"org-picker"},i.a.createElement(s.AsyncSelect,{className:t,isLoading:a,defaultOptions:!0,isSearchable:!1,loadOptions:this.getOrgOptions,onChange:n,placeholder:"Select organization",noOptionsMessage:function(){return"No organizations found"}}))},t}(r.PureComponent);n.d(t,"a",function(){return m});var u,d,p,f,h,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showAddOrgModal:!1},t.showOrgAddModal=function(e){return function(){t.setState({showAddOrgModal:e})}},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.orgs,n=e.onOrgRoleChange,r=e.onOrgRemove,l=e.onOrgAdd,c=this.state.showAddOrgModal,d=Object(o.css)(u||(u=Object(a.__makeTemplateObject)(["\n      margin-top: 0.8rem;\n    "],["\n      margin-top: 0.8rem;\n    "])));return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"page-heading"},"Organisations"),i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("div",{className:"gf-form"},i.a.createElement("table",{className:"filter-table form-inline"},i.a.createElement("tbody",null,t.map(function(e,t){return i.a.createElement(y,{key:e.orgId+"-"+t,org:e,onOrgRoleChange:n,onOrgRemove:r})})))),i.a.createElement("div",{className:d},i.a.createElement(s.Forms.Button,{variant:"secondary",onClick:this.showOrgAddModal(!0)},"Add user to organization")),i.a.createElement(x,{isOpen:c,onOrgAdd:l,onDismiss:this.showOrgAddModal(!1)})))},t}(r.PureComponent),g=["Viewer","Editor","Admin"],b=Object(s.stylesFactory)(function(e){return{removeButton:Object(o.css)(d||(d=Object(a.__makeTemplateObject)(["\n      margin-right: 0.6rem;\n      text-decoration: underline;\n      color: ",";\n    "],["\n      margin-right: 0.6rem;\n      text-decoration: underline;\n      color: ",";\n    "])),e.colors.blue95),label:Object(o.css)(p||(p=Object(a.__makeTemplateObject)(["\n      font-weight: 500;\n    "],["\n      font-weight: 500;\n    "])))}}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentRole:t.props.org.role,isChangingRole:!1,isRemovingFromOrg:!1},t.onOrgRemove=function(){var e=t.props.org;t.props.onOrgRemove(e.orgId)},t.onChangeRoleClick=function(){var e=t.props.org;t.setState({isChangingRole:!0,currentRole:e.role})},t.onOrgRemoveClick=function(){t.setState({isRemovingFromOrg:!0})},t.onOrgRoleChange=function(e){var n=e.target.value;t.setState({currentRole:n})},t.onOrgRoleSave=function(){t.props.onOrgRoleChange(t.props.org.orgId,t.state.currentRole)},t.onCancelClick=function(){t.setState({isChangingRole:!1,isRemovingFromOrg:!1})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.org,n=e.theme,a=this.state,r=a.currentRole,l=a.isChangingRole,c=a.isRemovingFromOrg,u=b(n),d=Object(o.cx)("width-16",u.label);return i.a.createElement("tr",null,i.a.createElement("td",{className:d},t.name),l?i.a.createElement("td",null,i.a.createElement("div",{className:"gf-form-select-wrapper width-8"},i.a.createElement("select",{value:r,className:"gf-form-input",onChange:this.onOrgRoleChange},g.map(function(e,t){return i.a.createElement("option",{value:e,key:e+"-"+t},e)})))):i.a.createElement("td",{className:"width-25"},t.role),!c&&i.a.createElement("td",{colSpan:l?2:1},i.a.createElement("div",{className:"pull-right"},i.a.createElement(s.ConfirmButton,{confirmText:"Save",onClick:this.onChangeRoleClick,onCancel:this.onCancelClick,onConfirm:this.onOrgRoleSave},"Change role"))),!l&&i.a.createElement("td",{colSpan:c?2:1},i.a.createElement("div",{className:"pull-right"},i.a.createElement(s.ConfirmButton,{confirmText:"Confirm removal",confirmVariant:"danger",onClick:this.onOrgRemoveClick,onCancel:this.onCancelClick,onConfirm:this.onOrgRemove},"Remove from organisation"))))},t}(r.PureComponent),y=Object(s.withTheme)(v),w=Object(s.stylesFactory)(function(){return{modal:Object(o.css)(f||(f=Object(a.__makeTemplateObject)(["\n    width: 500px;\n  "],["\n    width: 500px;\n  "]))),buttonRow:Object(o.css)(h||(h=Object(a.__makeTemplateObject)(["\n    text-align: center;\n  "],["\n    text-align: center;\n  "])))}}),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedOrg:null,role:"Admin"},t.onOrgSelect=function(e){t.setState({selectedOrg:Object(a.__assign)({},e)})},t.onOrgRoleChange=function(e){t.setState({role:e.target.value})},t.onAddUserToOrg=function(){var e=t.state,n=e.selectedOrg,a=e.role;t.props.onOrgAdd(n.id,a)},t.onCancel=function(){t.props.onDismiss()},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.isOpen,t=this.state.role,n=w(),a=Object(o.cx)("gf-form-button-row",n.buttonRow);return i.a.createElement(s.Modal,{className:n.modal,title:"Add to an organization",isOpen:e,onDismiss:this.onCancel},i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("h6",{className:""},"Organisation"),i.a.createElement(c,{className:"width-25",onSelected:this.onOrgSelect})),i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("h6",{className:""},"Role"),i.a.createElement("div",{className:"gf-form-select-wrapper width-16"},i.a.createElement("select",{value:t,className:"gf-form-input",onChange:this.onOrgRoleChange},g.map(function(e,t){return i.a.createElement("option",{value:e,key:e+"-"+t},e)})))),i.a.createElement("div",{className:a},i.a.createElement(s.Forms.Button,{variant:"primary",onClick:this.onAddUserToOrg},"Add to organization"),i.a.createElement(s.Forms.Button,{variant:"secondary",onClick:this.onCancel},"Cancel")))},t}(r.PureComponent)},"9iwZ":function(e,t,n){"use strict";var a,r,i,o;n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return u}),function(e){e.Viewer="Viewer",e.Editor="Editor",e.Admin="Admin"}(a||(a={})),function(e){e[e.View=1]="View",e[e.Edit=2]="Edit",e[e.Admin=4]="Admin"}(r||(r={})),function(e){e[e.Query=1]="Query",e[e.Admin=2]="Admin"}(i||(i={})),function(e){e.Team="Team",e.User="User",e.Viewer="Viewer",e.Editor="Editor"}(o||(o={}));i.Query;var s,l=[{value:o.Team,text:"Team"},{value:o.User,text:"User"},{value:o.Viewer,text:"Everyone With Viewer Role"},{value:o.Editor,text:"Everyone With Editor Role"}],c=[{value:r.View,label:"View",description:"Can view dashboards."},{value:r.Edit,label:"Edit",description:"Can add, edit and delete dashboards."},{value:r.Admin,label:"Admin",description:"Can add/remove permissions and can add, edit and delete dashboards."}];!function(e){e[e.Member=0]="Member",e[e.Admin=4]="Admin"}(s||(s={}));var u=[{value:s.Member,label:"Member",description:"Is team member"},{value:s.Admin,label:"Admin",description:"Can add/remove permissions, members and delete team."}]},"9o1o":function(e,t,n){"use strict";function a(){return{clearIndicator:function(){return{}},container:function(){return{}},control:function(){return{}},dropdownIndicator:function(){return{}},group:function(){return{}},groupHeading:function(){return{}},indicatorsContainer:function(){return{}},indicatorSeparator:function(){return{}},input:function(){return{}},loadingIndicator:function(){return{}},loadingMessage:function(){return{}},menu:function(){return{}},menuList:function(e){return{maxHeight:e.maxHeight}},multiValue:function(){return{}},multiValueLabel:function(){return{}},multiValueRemove:function(){return{}},noOptionsMessage:function(){return{}},option:function(){return{}},placeholder:function(){return{}},singleValue:function(){return{}},valueContainer:function(){return{}}}}n.d(t,"a",function(){return a})},ADUO:function(e,t){var n="public/app/plugins/datasource/grafana-azure-monitor-datasource/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl can-collapse=false has-text-edit-mode="ctrl.target.queryType === \'Application Insights\'">\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword width-9">Service</label>\n      <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n        <select class="gf-form-input service-dropdown" ng-model=ctrl.target.queryType ng-options="f as f for f in [\'Application Insights\', \'Azure Monitor\', \'Azure Log Analytics\']" ng-change=ctrl.onQueryTypeChange()></select>\n      </div>\n    </div>\n    <div class=gf-form ng-if="ctrl.target.queryType === \'Azure Monitor\' || ctrl.target.queryType === \'Azure Log Analytics\'">\n      <label class="gf-form-label query-keyword width-9">Subscription</label>\n      <gf-form-dropdown model=ctrl.target.subscription allow-custom=true lookup-text=true get-options=ctrl.getSubscriptions() on-change=ctrl.onSubscriptionChange() css-class=min-width-12>\n      </gf-form-dropdown>\n    </div>\n    <div class="gf-form gf-form--grow">\n      <div class="gf-form-label gf-form-label--grow"></div>\n    </div>\n  </div>\n  <div ng-if="ctrl.target.queryType === \'Azure Monitor\'">\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Resource Group</label>\n        <gf-form-dropdown model=ctrl.target.azureMonitor.resourceGroup allow-custom=true lookup-text=true get-options=ctrl.getResourceGroups($query) on-change=ctrl.onResourceGroupChange() css-class=min-width-12>\n        </gf-form-dropdown>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Namespace</label>\n        <gf-form-dropdown model=ctrl.target.azureMonitor.metricDefinition allow-custom=true lookup-text=true get-options=ctrl.getMetricDefinitions($query) on-change=ctrl.onMetricDefinitionChange() css-class=min-width-20>\n        </gf-form-dropdown>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Resource Name</label>\n        <gf-form-dropdown model=ctrl.target.azureMonitor.resourceName allow-custom=true lookup-text=true get-options=ctrl.getResourceNames($query) on-change=ctrl.onResourceNameChange() css-class=min-width-12>\n        </gf-form-dropdown>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Metric Namespace</label>\n        <gf-form-dropdown model=ctrl.target.azureMonitor.metricNamespace allow-custom=true lookup-text=true get-options=ctrl.getMetricNamespaces($query) on-change=ctrl.onMetricNamespacesChange() css-class=min-width-12>\n        </gf-form-dropdown>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Metric</label>\n        <gf-form-dropdown model=ctrl.target.azureMonitor.metricName allow-custom=true lookup-text=true get-options=ctrl.getMetricNames($query) on-change=ctrl.onMetricNameChange() css-class=min-width-12>\n        </gf-form-dropdown>\n      </div>\n      <div class="gf-form gf-form--grow aggregation-dropdown-wrapper">\n        <label class="gf-form-label query-keyword width-9">Aggregation</label>\n        <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n          <select class="gf-form-input width-11" ng-model=ctrl.target.azureMonitor.aggregation ng-options="f as f for f in ctrl.target.azureMonitor.aggOptions" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Time Grain</label>\n        <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent timegrainunit-dropdown-wrapper">\n          <select class=gf-form-input ng-model=ctrl.target.azureMonitor.timeGrain ng-options="f.value as f.text for f in ctrl.target.azureMonitor.timeGrains" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class=gf-form ng-show="ctrl.target.azureMonitor.timeGrain.trim() === \'auto\'">\n        <label class=gf-form-label>Auto Interval</label>\n        <label class=gf-form-label>{{ctrl.getAzureMonitorAutoInterval()}}</label>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n    <div class=gf-form-inline ng-show="ctrl.target.azureMonitor.dimensions.length > 0">\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Dimension</label>\n        <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n          <select class="gf-form-input min-width-12" ng-model=ctrl.target.azureMonitor.dimension ng-options="f.value as f.text for f in ctrl.target.azureMonitor.dimensions" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-3">eq</label>\n        <input type=text class="gf-form-input width-17" ng-model=ctrl.target.azureMonitor.dimensionFilter spellcheck=false placeholder=auto ng-blur=ctrl.refresh()>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Top</label>\n        <input type=text class="gf-form-input width-3" ng-model=ctrl.target.azureMonitor.top spellcheck=false placeholder=10 ng-blur=ctrl.refresh()>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Legend Format</label>\n        <input type=text class="gf-form-input width-30" ng-model=ctrl.target.azureMonitor.alias spellcheck=false placeholder="alias patterns (see help for more info)" ng-blur=ctrl.refresh()>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="ctrl.target.queryType === \'Azure Log Analytics\'">\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Workspace</label>\n        <gf-form-dropdown model=ctrl.target.azureLogAnalytics.workspace allow-custom=true lookup-text=true get-options=ctrl.getWorkspaces() on-change=ctrl.refresh() css-class=min-width-12>\n        </gf-form-dropdown>\n        <div class=gf-form>\n          <div class=width-1></div>\n        </div>\n        <div class=gf-form>\n          <button class="btn btn-primary width-10" ng-click=ctrl.refresh()>Run</button>\n        </div>\n        <div class=gf-form>\n          <label class=gf-form-label>(Run Query: Shift+Enter, Trigger Suggestion: Ctrl+Space)</label>\n        </div>\n        <div class="gf-form gf-form--grow">\n          <div class="gf-form-label gf-form-label--grow"></div>\n        </div>\n      </div>\n    </div>\n\n    <div class="gf-form gf-form--grow">\n      <kusto-editor class="gf-form gf-form--grow" query=ctrl.target.azureLogAnalytics.query change=ctrl.onLogAnalyticsQueryChange execute=ctrl.onLogAnalyticsQueryExecute variables=ctrl.templateVariables getschema=ctrl.getAzureLogAnalyticsSchema />\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-7">Format As</label>\n        <div class=gf-form-select-wrapper>\n          <select class="gf-form-input gf-size-auto" ng-model=ctrl.target.azureLogAnalytics.resultFormat ng-options="f.value as f.text for f in ctrl.resultFormats" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">\n          Show Help\n          <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n          <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n        </label>\n      </div>\n      <div class=gf-form ng-show=ctrl.lastQuery>\n        <label class="gf-form-label query-keyword" ng-click="ctrl.showLastQuery = !ctrl.showLastQuery">\n          Raw Query\n          <i class="fa fa-caret-down" ng-show=ctrl.showLastQuery></i>\n          <i class="fa fa-caret-right" ng-hide=ctrl.showLastQuery></i>\n        </label>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form ng-show=ctrl.showLastQuery>\n      <pre class=gf-form-pre>{{ctrl.lastQuery}}</pre>\n    </div>\n    <div class=gf-form ng-show=ctrl.showHelp>\n      <pre class="gf-form-pre alert alert-info">\n    Format as Table:\n    - return any set of columns\n\n    Format as Time series:\n    - Requires a column of type datetime\n    - returns the first column with a numeric datatype as the value\n    - (Optional: returns the first column with type string to represent the series name. If no column is found the column name of the value column is used as series name)\n\n    Example Time Series Query:\n\n    AzureActivity\n    | where $__timeFilter()\n    | summarize count() by Category, bin(TimeGenerated, 60min)\n    | order by TimeGenerated asc\n\n    Macros:\n    - $__timeFilter() -&gt; TimeGenerated &ge; datetime(2018-06-05T18:09:58.907Z) and TimeGenerated &le; datetime(2018-06-05T20:09:58.907Z)\n    - $__timeFilter(datetimeColumn) -&gt;  datetimeColumn  &ge; datetime(2018-06-05T18:09:58.907Z) and datetimeColumn &le; datetime(2018-06-05T20:09:58.907Z)\n    - $__escapeMulti($myTemplateVar) -&gt; $myTemplateVar should be a multi-value template variables that contains illegal characters\n    - $__contains(aColumn, $myTemplateVar) -&gt; aColumn in ($myTemplateVar)\n      If using the All option, then check the Include All Option checkbox and in the Custom all value field type in: all. If All is chosen -&gt; 1 == 1\n\n    Or build your own conditionals using these built-in variables which just return the values:\n    - $__timeFrom -&gt;  datetime(2018-06-05T18:09:58.907Z)\n    - $__timeTo -&gt; datetime(2018-06-05T20:09:58.907Z)\n    - $__interval -&gt; 5m\n\n    Examples:\n    - ¡ where $__timeFilter\n    - | where TimeGenerated &ge; $__timeFrom and TimeGenerated &le; $__timeTo\n    - | summarize count() by Category, bin(TimeGenerated, $__interval)\n      </pre>\n    </div>\n\n  </div>\n\n  <div ng-if="ctrl.target.queryType === \'Application Insights\'">\n    <div ng-show=!ctrl.target.appInsights.rawQuery>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Metric</label>\n          <gf-form-dropdown model=ctrl.target.appInsights.metricName allow-custom=true lookup-text=true get-options=ctrl.getAppInsightsMetricNames($query) on-change=ctrl.onAppInsightsMetricNameChange() css-class=min-width-20>\n          </gf-form-dropdown>\n        </div>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Aggregation</label>\n          <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n            <select class=gf-form-input ng-model=ctrl.target.appInsights.aggregation ng-options="f as f for f in ctrl.target.appInsights.aggOptions" ng-change=ctrl.refresh()></select>\n          </div>\n        </div>\n        <div class="gf-form gf-form--grow">\n          <div class="gf-form-label gf-form-label--grow"></div>\n        </div>\n      </div>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Group By</label>\n          <gf-form-dropdown allow-custom=true ng-hide="ctrl.target.appInsights.dimension !== \'none\'" model=ctrl.target.appInsights.dimension lookup-text=true get-options=ctrl.getAppInsightsGroupBySegments($query) on-change=ctrl.refresh() css-class=min-width-20>\n          </gf-form-dropdown>\n          <label class="gf-form-label min-width-20 pointer" ng-hide="ctrl.target.appInsights.dimension === \'none\'" ng-click=ctrl.resetAppInsightsGroupBy()>{{ctrl.target.appInsights.dimension}}\n            <i class="fa fa-remove"></i>\n          </label>\n        </div>\n        <div class=gf-form-inline>\n          <div class=gf-form>\n            <label class="gf-form-label query-keyword width-9">Filter</label>\n            <input type=text class="gf-form-input width-17" ng-model=ctrl.target.appInsights.dimensionFilter spellcheck=false placeholder="your/groupby eq \'a_value\'" ng-blur=ctrl.refresh()>\n          </div>\n        </div>\n        <div class="gf-form gf-form--grow">\n          <div class="gf-form-label gf-form-label--grow"></div>\n        </div>\n      </div>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Time Grain</label>\n          <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n            <select class=gf-form-input ng-model=ctrl.target.appInsights.timeGrainType ng-options="f as f for f in [\'auto\', \'none\', \'specific\']" ng-change=ctrl.updateTimeGrainType()></select>\n          </div>\n        </div>\n        <div class=gf-form ng-hide="ctrl.target.appInsights.timeGrainType === \'auto\' || ctrl.target.appInsights.timeGrainType === \'none\'">\n          <input type=text class="gf-form-input width-3" ng-model=ctrl.target.appInsights.timeGrainCount spellcheck=false placeholder="" ng-blur=ctrl.updateAppInsightsTimeGrain()>\n        </div>\n        <div class=gf-form ng-hide="ctrl.target.appInsights.timeGrainType === \'auto\' || ctrl.target.appInsights.timeGrainType === \'none\'">\n            <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent timegrainunit-dropdown-wrapper">\n            <select class=gf-form-input ng-model=ctrl.target.appInsights.timeGrainUnit ng-options="f as f for f in [\'minute\', \'hour\', \'day\', \'month\', \'year\']" ng-change=ctrl.updateAppInsightsTimeGrain()></select>\n            </div>\n          </div>\n        <div class=gf-form ng-hide="ctrl.target.appInsights.timeGrainType !== \'auto\'">\n            <label class=gf-form-label>Auto Interval</label>\n          <label class=gf-form-label>{{ctrl.getAppInsightsAutoInterval()}}</label>\n        </div>\n        <div class="gf-form gf-form--grow">\n          <div class="gf-form-label gf-form-label--grow"></div>\n        </div>\n      </div>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Legend Format</label>\n          <input type=text class="gf-form-input width-30" ng-model=ctrl.target.appInsights.alias spellcheck=false placeholder="alias patterns (see help for more info)" ng-blur=ctrl.refresh()>\n        </div>\n      </div>\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n    <div ng-show=ctrl.target.appInsights.rawQuery>\n      \x3c!-- <div class="gf-form">\n        <textarea rows="3" class="gf-form-input" ng-model="ctrl.target.appInsights.rawQueryString" spellcheck="false"\n          placeholder="Application Insights Query" ng-model-onblur ng-change="ctrl.refresh()"></textarea>\n      </div> --\x3e\n      <div class="gf-form gf-form--grow">\n        <kusto-editor class="gf-form gf-form--grow" query=ctrl.target.appInsights.rawQueryString placeholder="\'Application Insights Query\'" change=ctrl.onAppInsightsQueryChange execute=ctrl.onAppInsightsQueryExecute variables=ctrl.templateVariables getschema=ctrl.getAppInsightsQuerySchema />\n      </div>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">X-axis</label>\n          <gf-form-dropdown model=ctrl.target.appInsights.timeColumn allow-custom=true placeholder="eg. \'timestamp\'" get-options=ctrl.getAppInsightsColumns($query) on-change=ctrl.onAppInsightsColumnChange() css-class=min-width-20>\n          </gf-form-dropdown>\n        </div>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Y-axis</label>\n          <gf-form-dropdown model=ctrl.target.appInsights.valueColumn allow-custom=true get-options=ctrl.getAppInsightsColumns($query) on-change=ctrl.onAppInsightsColumnChange() css-class=min-width-20>\n          </gf-form-dropdown>\n        </div>\n        <div class="gf-form gf-form--grow">\n          <div class="gf-form-label gf-form-label--grow"></div>\n        </div>\n      </div>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <label class="gf-form-label query-keyword width-9">Split On</label>\n          <gf-form-dropdown model=ctrl.target.appInsights.segmentColumn allow-custom=true get-options=ctrl.getAppInsightsColumns($query) on-change=ctrl.onAppInsightsColumnChange() css-class=min-width-20>\n          </gf-form-dropdown>\n        </div>\n        <div class="gf-form gf-form--grow">\n          <div class="gf-form-label gf-form-label--grow"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=gf-form ng-show=ctrl.lastQueryError>\n    <pre class="gf-form-pre alert alert-error">{{ctrl.lastQueryError}}</pre>\n  </div>\n</query-editor-row>\n')}]),e.exports=n},AI1G:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("/MKj"),s=n("iODs");function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=o.connect.apply(void 0,Object(a.__spread)(t))(e);return function(e){return i.a.createElement(r,Object(a.__assign)({},e,{store:s.b}))}}},ASW2:function(e,t){},AVRW:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("VX0D"),s=n("ZFWI"),l=n("HJRA"),c=n("LtRX"),u=n("+JUD"),d=n("eXZ6"),p=n("MAcC"),f=n("Obii"),h=n("t8hP"),m=function(){function e(e,t){var n=this;this.onPluginTypeChange=function(e){},this.$injector=t,this.$location=t.get("$location"),this.$scope=e,this.$timeout=t.get("$timeout"),this.editorTabs=[],this.events=this.panel.events,this.timing={};var a=s.b.panels[this.panel.type];a&&(this.pluginId=a.id,this.pluginName=a.name),e.$on(f.PanelEvents.componentDidMount.name,function(){return n.panelDidMount()})}return e.prototype.panelDidMount=function(){this.events.emit(f.PanelEvents.componentDidMount),this.dashboard.panelInitialized(this.panel)},e.prototype.renderingCompleted=function(){l.d.renderingCompleted()},e.prototype.refresh=function(){this.panel.refresh()},e.prototype.publishAppEvent=function(e,t){this.$scope.$root.appEvent(e,t)},e.prototype.changeView=function(e,t){this.publishAppEvent(f.PanelEvents.panelChangeView,{fullscreen:e,edit:t,panelId:this.panel.id})},e.prototype.viewPanel=function(){this.changeView(!0,!1)},e.prototype.editPanel=function(){this.changeView(!0,!0)},e.prototype.exitFullscreen=function(){this.changeView(!1,!1)},e.prototype.initEditMode=function(){this.editModeInitiated||(this.editModeInitiated=!0,this.events.emit(f.PanelEvents.editModeInitialized),this.maxPanelsPerRowOptions=Object(c.a)(d.e))},e.prototype.addEditorTab=function(e,t,n,a){var r={title:e,directiveFn:t,icon:a};i.a.isString(t)&&(r.directiveFn=function(){return{templateUrl:t}}),n?this.editorTabs.splice(n,0,r):this.editorTabs.push(r)},e.prototype.getMenu=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return(e=[]).push({text:"View",click:"ctrl.viewPanel();",icon:"gicon gicon-viewer",shortcut:"v"}),this.dashboard.canEditPanel(this.panel)&&e.push({text:"Edit",click:"ctrl.editPanel();",role:"Editor",icon:"gicon gicon-editor",shortcut:"e"}),e.push({text:"Share",click:"ctrl.sharePanel();",icon:"fa fa-fw fa-share",shortcut:"p s"}),s.b.featureToggles.inspect&&e.push({text:"Inspect",icon:"fa fa-fw fa-info-circle",click:"ctrl.inspectPanel();",shortcut:"p i"}),n=(t=e.push).apply,r=[e],[4,this.getAdditionalMenuItems()];case 1:return n.apply(t,r.concat([a.__spread.apply(void 0,[o.sent()])])),i=this.getExtendedMenu(),e.push({text:"More ...",click:"",icon:"fa fa-fw fa-cube",submenu:i}),this.dashboard.canEditPanel(this.panel)&&(e.push({divider:!0,role:"Editor"}),e.push({text:"Remove",click:"ctrl.removePanel();",role:"Editor",icon:"fa fa-fw fa-trash",shortcut:"p r"})),[2,e]}})})},e.prototype.getExtendedMenu=function(){var e=[];return!this.panel.fullscreen&&this.dashboard.canEditPanel(this.panel)&&(e.push({text:"Duplicate",click:"ctrl.duplicate()",role:"Editor",shortcut:"p d"}),e.push({text:"Copy",click:"ctrl.copyPanel()",role:"Editor"})),e.push({text:"Panel JSON",click:"ctrl.editPanelJson(); dismiss();"}),this.events.emit(f.PanelEvents.initPanelActions,e),e},e.prototype.getAdditionalMenuItems=function(){return Object(a.__awaiter)(this,void 0,Promise,function(){return Object(a.__generator)(this,function(e){return[2,[]]})})},e.prototype.otherPanelInFullscreenMode=function(){return this.dashboard.meta.fullscreen&&!this.panel.fullscreen},e.prototype.calculatePanelHeight=function(e){this.containerHeight=e,this.height=Object(u.b)(this.panel,e)},e.prototype.render=function(e){this.events.emit(f.PanelEvents.render,e)},e.prototype.duplicate=function(){Object(u.d)(this.dashboard,this.panel)},e.prototype.removePanel=function(){Object(u.g)(this.dashboard,this.panel,!0)},e.prototype.editPanelJson=function(){Object(u.e)(this.dashboard,this.panel)},e.prototype.copyPanel=function(){Object(u.c)(this.panel)},e.prototype.sharePanel=function(){Object(u.h)(this.dashboard,this.panel)},e.prototype.inspectPanel=function(){Object(h.getLocationSrv)().update({query:{inspect:this.panel.id},partial:!0})},e.prototype.getInfoMode=function(){return this.error?"error":this.panel.description?"info":this.panel.links&&this.panel.links.length?"links":""},e.prototype.getInfoContent=function(e){var t,n,r=this.panel,i=r.description||"";"tooltip"===e.mode&&(i=this.error||r.description||"");var l=this.$injector.get("templateSrv").replace(i,r.scopedVars),c='<div class="markdown-html panel-info-content">';if(c+=Object(f.renderMarkdown)(l),r.links&&r.links.length>0){var u=Object(p.c)(r).getLinks();c+='<ul class="panel-info-corner-links">';try{for(var d=Object(a.__values)(u),h=d.next();!h.done;h=d.next()){var m=h.value;c+='<li><a class="panel-menu-link" href="'+Object(o.a)(m.href)+'" target="'+Object(o.a)(m.target)+'">'+Object(o.a)(m.title)+"</a></li>"}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}c+="</ul>"}return c+="</div>",s.b.disableSanitizeHtml?c:Object(o.c)(c)},e}()},AWKi:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a,r,i=n("mrSG"),o=n("q1tI"),s=n.n(o),l=n("PAeb"),c=n("MIBK"),u=Object(c.g)(function(e,t){return{wrapper:Object(l.css)(r||(r=Object(i.__makeTemplateObject)(["\n      font-size: ","px;\n      ","\n    "],["\n      font-size: ","px;\n      ","\n    "])),e,t?Object(l.css)(a||(a=Object(i.__makeTemplateObject)(["\n            display: inline-block;\n          "],["\n            display: inline-block;\n          "]))):"")}}),d=function(e){var t=e.className,n=e.inline,a=void 0!==n&&n,r=e.iconClassName,i=e.style,o=e.size,c=u(void 0===o?16:o,a);return s.a.createElement("div",{style:i,className:Object(l.cx)(c.wrapper,t)},s.a.createElement("i",{className:Object(l.cx)("fa fa-spinner fa-spin",r)}))}},AZV9:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var a=null,r={};function i(e,t){var n=t+"px 'Roboto'",i=e+n,o=r[i];if(o)return o;null===a&&(a=document.createElement("canvas"));var s=a.getContext("2d");if(!s)throw new Error("Could not create context");s.font=n;var l=s.measureText(e);return r[i]=l,l}function o(e,t,n,a,r){var o=t/(i(e,14).width+2)*14,s=n/a,l=Math.min(s,o);return Math.min(l,null!=r?r:l)}},Abyo:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("q1tI"),r=n.n(a),i=n("kDLi"),o=n("GQ3c"),s=function(e){var t=e.ldapConnectionInfo;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"page-heading"},"LDAP Connection"),r.a.createElement("div",{className:"gf-form-group"},r.a.createElement("div",{className:"gf-form"},r.a.createElement("table",{className:"filter-table form-inline"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Host"),r.a.createElement("th",{colSpan:2},"Port"))),r.a.createElement("tbody",null,t&&t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.host),r.a.createElement("td",null,e.port),r.a.createElement("td",null,e.available?r.a.createElement("i",{className:"fa fa-fw fa-check pull-right"}):r.a.createElement("i",{className:"fa fa-fw fa-exclamation-triangle pull-right"})))})))),r.a.createElement("div",{className:"gf-form-group"},r.a.createElement(l,{ldapConnectionInfo:t}))))},l=function(e){var t=e.ldapConnectionInfo;if(!t.some(function(e){return e.error}))return null;var n=[];t.forEach(function(e){e.error&&n.push(e)});var a=n.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("span",{style:{fontWeight:500}},e.host,":",e.port,r.a.createElement("br",null)),r.a.createElement("span",null,e.error),t!==n.length-1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null)))});return r.a.createElement(i.Alert,{title:"Connection error",severity:o.AppNotificationSeverity.Error,children:a})}},Al41:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a,r,i,o,s=n("mrSG"),l=n("q1tI"),c=n.n(l),u=n("PAeb"),d=n("1w3K"),p=n("MIBK"),f=Object(p.g)(function(e,t,n){return{enter:Object(u.css)(a||(a=Object(s.__makeTemplateObject)(["\n      label: enter;\n      ",": 0;\n      opacity: 0;\n    "],["\n      label: enter;\n      ",": 0;\n      opacity: 0;\n    "])),t),enterActive:Object(u.css)(r||(r=Object(s.__makeTemplateObject)(["\n      label: enterActive;\n      ",": ","px;\n      opacity: 1;\n      transition: opacity ","ms ease-out, "," ","ms ease-out;\n    "],["\n      label: enterActive;\n      ",": ","px;\n      opacity: 1;\n      transition: opacity ","ms ease-out, "," ","ms ease-out;\n    "])),t,n,e,t,e),exit:Object(u.css)(i||(i=Object(s.__makeTemplateObject)(["\n      label: exit;\n      ",": ","px;\n      opacity: 1;\n    "],["\n      label: exit;\n      ",": ","px;\n      opacity: 1;\n    "])),t,n),exitActive:Object(u.css)(o||(o=Object(s.__makeTemplateObject)(["\n      label: exitActive;\n      opacity: 0;\n      ",": 0;\n      transition: opacity ","ms ease-out, "," ","ms ease-out;\n    "],["\n      label: exitActive;\n      opacity: 0;\n      ",": 0;\n      transition: opacity ","ms ease-out, "," ","ms ease-out;\n    "])),t,e,t,e)}});function h(e){var t=e.visible,n=e.children,a=e.duration,r=void 0===a?250:a,i=e.horizontal,o=e.size,s=f(r,i?"width":"height",o);return c.a.createElement(d.CSSTransition,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:r,classNames:s},n)}},BAXh:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u});var a,r=n("mrSG"),i=n("i7Pf"),o=n("ZJ8E"),s=Object(i.c)({name:"folder",initialState:{id:0,uid:"loading",title:"loading",url:"",canSave:!1,hasChanged:!1,version:1,permissions:[]},reducers:{loadFolder:function(e,t){return Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},e),t.payload),{hasChanged:!1})},setFolderTitle:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{title:t.payload,hasChanged:t.payload.trim().length>0})},loadFolderPermissions:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{permissions:Object(o.a)(t.payload)})}}}),l=(a=s.actions).loadFolderPermissions,c=a.loadFolder,u=a.setFolderTitle,d=s.reducer;t.a={folder:d}},BC3V:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n("i8i4"),o=n.n(i),s=function(e){function t(t){var n=e.call(this,t)||this;n.node=document.createElement("div");var a=n.props,r=a.className,i=a.root,o=void 0===i?document.body:i;return r&&n.node.classList.add(r),n.portalRoot=o,n.portalRoot.appendChild(n.node),n}return Object(a.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.portalRoot.removeChild(this.node)},t.prototype.render=function(){return o.a.createPortal(this.props.children,this.node)},t}(r.PureComponent)},BDxW:function(e,t){!function(e){jQuery.plot.plugins.push({init:function(e){var t={x:-1,y:-1,locked:!1};function n(n){t.locked||-1!=t.x&&(t.x=-1,e.triggerRedrawOverlay())}function a(n){if(!t.locked)if(e.getSelection&&e.getSelection())t.x=-1;else{var a=e.offset();t.x=Math.max(0,Math.min(n.pageX-a.left,e.width())),t.y=Math.max(0,Math.min(n.pageY-a.top,e.height())),e.triggerRedrawOverlay()}}e.setCrosshair=function(n){if(n){var a=e.p2c(n);t.x=Math.max(0,Math.min(a.left,e.width())),t.y=Math.max(0,Math.min(a.top,e.height()))}else t.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(n){n&&e.setCrosshair(n),t.locked=!0},e.unlockCrosshair=function(){t.locked=!1},e.hooks.bindEvents.push(function(e,t){e.getOptions().crosshair.mode&&(t.mouseout(n),t.mousemove(a))}),e.hooks.drawOverlay.push(function(e,n){var a=e.getOptions().crosshair;if(a.mode){var r=e.getPlotOffset();if(n.save(),n.translate(r.left,r.top),-1!=t.x){var i=e.getOptions().crosshair.lineWidth%2?.5:0;if(n.strokeStyle=a.color,n.lineWidth=a.lineWidth,n.lineJoin="round",n.beginPath(),-1!=a.mode.indexOf("x")){var o=Math.floor(t.x)+i;n.moveTo(o,0),n.lineTo(o,e.height())}if(-1!=a.mode.indexOf("y")){var s=Math.floor(t.y)+i;n.moveTo(0,s),n.lineTo(e.width(),s)}n.stroke()}n.restore()}}),e.hooks.shutdown.push(function(e,t){t.unbind("mouseout",n),t.unbind("mousemove",a)})},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})}()},BPIC:function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return m});var a,r,i=n("mrSG"),o=n("i7Pf"),s=Object(o.c)({name:"teams",initialState:{teams:[],searchQuery:"",hasFetched:!1},reducers:{teamsLoaded:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{hasFetched:!0,teams:t.payload})},setSearchQuery:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{searchQuery:t.payload})}}}),l=(a=s.actions).teamsLoaded,c=a.setSearchQuery,u=s.reducer,d=Object(o.c)({name:"team",initialState:{team:{},members:[],groups:[],searchMemberQuery:""},reducers:{teamLoaded:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{team:t.payload})},teamMembersLoaded:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{members:t.payload})},setSearchMemberQuery:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{searchMemberQuery:t.payload})},teamGroupsLoaded:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{groups:t.payload})}}}),p=(r=d.actions).teamLoaded,f=r.teamGroupsLoaded,h=r.teamMembersLoaded,m=r.setSearchMemberQuery,g=d.reducer;t.a={teams:u,team:g}},BVom:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("S3Uj"),s=n.n(o),l={transition:"max-height 200ms ease-in-out",overflow:"hidden"},c=function(e){var t=e.children,n=e.in,r=e.maxHeight,o=void 0===r?"200px":r,c=e.style,u=void 0===c?l:c,d={exited:{maxHeight:0},entering:{maxHeight:o},entered:{maxHeight:"unset",overflow:"visible"},exiting:{maxHeight:0}};return i.a.createElement(s.a,{in:n,timeout:200},function(e){return i.a.createElement("div",{style:Object(a.__assign)(Object(a.__assign)({},u),d[e])},t)})}},BvEB:function(e,t){var n="public/app/features/alerting/partials/notifications_list.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n\n  <div ng-if=ctrl.notifications.length>\n    <div class=page-action-bar>\n      <div class=page-action-bar__spacer>\n      </div>\n\n      <a href=alerting/notification/new class="btn btn-primary">\n        New channel\n      </a>\n    </div>\n\n    <table class="filter-table filter-table--hover">\n      <thead>\n        <th style=min-width:200px>\n          <strong>Name</strong>\n        </th>\n        <th style=min-width:100px>Type</th>\n        <th style=width:1%></th>\n      </thead>\n      <tbody>\n        <tr ng-repeat="notification in ctrl.notifications">\n          <td class=link-td>\n            <a href=alerting/notification/{{notification.id}}/edit>\n              {{notification.name}}\n            </a>\n          </td>\n          <td class=link-td>\n            <a href=alerting/notification/{{notification.id}}/edit>\n              {{notification.type}}\n            </a>\n          </td>\n          <td class=text-right>\n            <span class="btn btn-secondary btn-small" ng-show="notification.isDefault == true">\n              default\n            </span>\n            <a ng-click=ctrl.deleteNotification(notification.id) class="btn btn-danger btn-small">\n              <i class="fa fa-remove"></i>\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-if="ctrl.notifications.length === 0">\n    <empty-list-cta title="\'There are no notification channels defined yet\'" buttonicon="\'gicon gicon-alert-notification-channel\'" buttonlink="\'alerting/notification/new\'" buttontitle="\'Add channel\'" protip="\'You can include images in your alert notifications.\'" protiplink="\'http://docs.grafana.org/alerting/notifications/\'" protiplinktitle="\'Learn more\'" protiptarget="\'_blank\'"/>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},BwrN:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var a,r=n("mrSG"),i=function(e){function t(t){var n=e.call(this)||this;return n.panel=t,n}return Object(r.__extends)(t,e),t.prototype.setEditor=function(e){return this.editor=e,this},t.prototype.setDefaults=function(e){return this.defaults=e,this},t.prototype.setNoPadding=function(){return this.noPadding=!0,this},t.prototype.setMigrationHandler=function(e){return this.onPanelMigration=e,this},t.prototype.setPanelChangeHandler=function(e){return this.onPanelTypeChanged=e,this},t}(n("CnP+").a);!function(e){e.Auto="auto",e.Vertical="vertical",e.Horizontal="horizontal"}(a||(a={}))},BxXJ:function(e,t){},Cawo:function(e,t,n){"use strict";var a=n("oOjz"),r=n("mrSG"),i=n("DlQD"),o=n.n(i),s={renderer:new o.a.Renderer,pedantic:!1,gfm:!0,tables:!0,sanitize:!0,smartLists:!0,smartypants:!1,xhtml:!1};function l(e){o.a.setOptions(Object(r.__assign)(Object(r.__assign)({},s),e))}function c(e){return o()(e||"")}function u(e){var t=e.searchWords,n=e.textToHighlight;return t.reduce(function(e,t){return Object(r.__spread)(e,p(n,t))},[])}var d=function(e){return e.replace(/[[{(][\w,.-?:*+]+$/,"")};function p(e,t){if(!e||!t)return[];var n,a=[],r=m(d(t)),i=r.cleaned,o=r.flags;try{n=new RegExp("(?:"+i+")",o)}catch(e){return a}return e.replace(n,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){var r=t[t.length-2];a.push({text:e,start:r,length:e.length,end:r+e.length})}return""}),a}var f="-",h=/\(\?([ims-]+)\)/g;function m(e){var t=new Set(["g"]);return{cleaned:e.replace(h,function(e,n){for(var a=n.startsWith(f),r=0;r<n.length;++r){var i=n.charAt(r);a||n.charAt(r-1)===f?t.delete(i):i!==f&&t.add(i)}return""}),flags:Array.from(t).join("")}}n.d(t,"a",function(){return a.a}),n.d(t,"m",function(){return a.h}),n.d(t,"g",function(){return a.b}),n.d(t,"h",function(){return a.c}),n.d(t,"i",function(){return a.d}),n.d(t,"l",function(){return a.g}),n.d(t,"k",function(){return a.f}),n.d(t,"j",function(){return a.e}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m})},"CnP+":function(e,t,n){"use strict";var a,r,i;n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),function(e){e.alpha="alpha",e.beta="beta"}(a||(a={})),function(e){e.panel="panel",e.datasource="datasource",e.app="app",e.renderer="renderer"}(r||(r={})),function(e){e.dashboard="dashboard",e.page="page",e.panel="panel",e.datasource="datasource"}(i||(i={}));var o=function(){function e(){}return e.prototype.addConfigPage=function(e){return this.configPages||(this.configPages=[]),this.configPages.push(e),this},e}()},CqUX:function(e,t,n){"use strict";var a={"[":"]","{":"}","(":")"},r="brace_match";function i(){return{onKeyDown:function(e,t,n){var i=e,o=t.value;switch(i.key){case"(":case"{":case"[":var s=o.selection,l=s.start,c=l.offset,u=l.key,d=s.end,p=d.offset,f=d.key,h=s.focus.offset,m=o.focusText.text;if(o.selection.isExpanded)return i.preventDefault(),t.insertTextByKey(u,c,i.key).insertTextByKey(f,p+1,a[i.key]).moveEndBackward(1),!0;if(h===m.length||" "===m[h]||Object.values(a).includes(m[h])){i.preventDefault();var g=a[i.key],b={key:r+"-"+Date.now(),type:r+"-"+g,anchor:{key:u,offset:c,object:"point"},focus:{key:f,offset:p+1,object:"point"},object:"annotation"};return t.insertText(i.key).insertText(g).addAnnotation(b).moveBackward(1),!0}break;case")":case"}":case"]":var v=(m=o.anchorText.text)[x=o.selection.anchor.offset],y=(g=i.key,r+"-"+g),w=o.annotations.find(function(e){var t;return(null===(t=e)||void 0===t?void 0:t.type)===y&&e.anchor.key===o.anchorText.key});if(w&&v===g&&!o.selection.isExpanded)return i.preventDefault(),t.moveFocusForward(1).removeAnnotation(w).moveAnchorForward(1),!0;break;case"Backspace":var x,O=(m=o.anchorText.text)[(x=o.selection.anchor.offset)-1];v=m[x];if(a[O]&&a[O]===v)return i.preventDefault(),t.deleteBackward(1).deleteForward(1).focus(),!0}return n()}}}function o(){return{onKeyDown:function(e,t,n){var a=e,r=t.value;if(r.selection.isExpanded)return n();if("k"===a.key&&a.ctrlKey){a.preventDefault();var i=r.anchorText.text,o=r.selection.anchor.offset,s=i.length-o;return t.deleteForward(s),!0}return n()}}}var s=n("mrSG"),l=function(e,t,n){if(e.length){var a=e.slice(0,-1).join("").length+e.length-1;return e.join("\n").slice(t,a+n)}};function c(){var e={onCopy:function(e,t,n){var a=e;a.preventDefault();var r=t.value,i=r.document,o=r.selection,s=o.start.offset,c=o.end.offset,u=i.getLeafBlocksAtRange(o).toArray().map(function(e){return e.text}),d=l(u,s,c);return d&&a.clipboardData&&a.clipboardData.setData("Text",d),!0},onPaste:function(e,t,n){var a,r,i=e;if(i.preventDefault(),i.clipboardData){var o=i.clipboardData.getData("Text").split("\n");if(o.length){t.insertText(o[0]);try{for(var l=Object(s.__values)(o.slice(1)),c=l.next();!c.done;c=l.next()){var u=c.value;t.splitBlock().insertText(u)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(a)throw a.error}}}}return!0}};return Object(s.__assign)(Object(s.__assign)({},e),{onCut:function(t,n,a){return e.onCopy(t,n,a),n.deleteAtRange(n.value.selection),!0}})}var u=n("0aAt"),d=n("Uaxt"),p=Object(d.isKeyHotkey)("mod+["),f=Object(d.isKeyHotkey)("shift+tab"),h=Object(d.isKeyHotkey)("mod+]"),m=function(e,t,n){var a=t.value,r=a.startBlock,i=a.endBlock,o=a.selection,s=o.start,l=s.offset,c=s.key,u=o.end,d=u.offset,p=u.key,f=r.getFirstText();f&&0===l&&c===f.key&&d===f.text.length&&p===f.key||!r.equals(i)?g(t,"right"):t.insertText("  ")},g=function(e,t){var n,a,r,i,o=e.value.selection,l=e.value.document.getLeafBlocksAtRange(o).toArray();if("left"===t)try{for(var c=Object(s.__values)(l),d=c.next();!d.done;d=c.next()){var p=(y=d.value).text.length-y.text.trimLeft().length,f=y.getFirstText().key,h={anchor:{key:f,offset:p,path:[]},focus:{key:f,offset:p,path:[]}};e.deleteBackwardAtRange(u.k.create(h),Math.min("  ".length,p))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}else{var m=e.value.startText.text.slice(0,o.start.offset),g=/^\s*$/.test(m);try{for(var b=Object(s.__values)(l),v=b.next();!v.done;v=b.next()){var y=v.value;e.insertTextByKey(y.getFirstText().key,0,"  ")}}catch(e){r={error:e}}finally{try{v&&!v.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}g&&e.moveStartBackward("  ".length)}};function b(){return{onKeyDown:function(e,t,n){var a=e;if(p(a)||f(a))a.preventDefault(),g(t,"left");else if(h(a))a.preventDefault(),g(t,"right");else{if("Tab"!==a.key)return n();a.preventDefault(),m(a,t,n)}return!0}}}function v(){return{onKeyDown:function(e,t,n){var a=e,r=t.value;if(r.selection.isExpanded)return n();if("Enter"===a.key&&a.shiftKey){a.preventDefault();var i=function(e){var t=e.length-e.trimLeft().length;if(t){for(var n=e[0];--t;)n+=e[0];return n}return""}(r.startBlock.text);return t.splitBlock().insertText(i).focus()}return n()}}}function y(e){var t=e.handler;return{onKeyDown:function(e,n,a){var r=e;return t&&"Enter"===r.key&&!r.shiftKey?(r.preventDefault(),t(r),!0):a()}}}var w=Object(d.isKeyHotkey)("mod+l");function x(){return{onKeyDown:function(e,t,n){var a=e;if(!w(a))return n();a.preventDefault();var r=t.value,i=r.focusBlock,o=r.document;return t.moveAnchorToStartOfBlock(),o.getNextBlock(i.key)?t.moveFocusToStartOfNextBlock():t.moveFocusToEndOfText(),!0}}}var O=n("wZee"),_=n.n(O),k=n("q1tI"),j=n.n(k),C=n("JPcv"),S="prism-token";var E=function(e){function t(t){return e.call(this,t)||this}return Object(s.__extends)(t,e),t}(Object(C.Record)({onlyIn:function(e){return"block"===e.object&&"code_block"===e.type},getSyntax:function(e){return"javascript"},renderDecoration:function(e,t,n){var a=e.decoration;if(a.type!==S)return n();var r=a.data.get("className");return j.a.createElement("span",{className:r},e.children)}}));function T(e){void 0===e&&(e={});var t=new E(e);return{decorateNode:function(e,n,a){return t.onlyIn(e)?function(e,t){var n=e.getSyntax(t),a=_.a.languages[n];if(!a)return[];var r=t.getTexts(),i=r.map(function(e){return e&&e.getText()}).join("\n"),o=_.a.tokenize(i,a),s=[],l=0,c=0;return r.forEach(function(e){c=l+e.getText().length;var n=0;o.forEach(function a(r,i){var o;if("string"==typeof r)i&&(o=M({text:e,textStart:l,textEnd:c,start:n,end:n+r.length,className:"prism-token token "+i,block:t}))&&s.push(o),n+=r.length;else if(i=i+" "+r.type+" "+(r.alias||""),"string"==typeof r.content)(o=M({text:e,textStart:l,textEnd:c,start:n,end:n+r.content.length,className:"prism-token token "+i,block:t}))&&s.push(o),n+=r.content.length;else for(var u=0;u<r.content.length;u+=1)a(r.content[u],i)}),l=c+1}),s}(t,u.a.create(e)):a()},renderDecoration:function(e,n,a){return t.renderDecoration({children:e.children,decoration:e.decoration},n,a)}}}function M(e){var t=e.text,n=e.textStart,a=e.textEnd,r=e.start,i=e.end,o=e.className,s=e.block;return r>=a||i<=n?null:(r=Math.max(r,n),i=Math.min(i,a),r-=n,i-=n,s.createDecoration({object:"decoration",anchor:{key:t.key,offset:r,object:"point"},focus:{key:t.key,offset:i,object:"point"},type:S,data:{className:o}}))}var A,N,D,I,P,F=n("sEfC"),L=n.n(F),R=n("xweI"),V=n.n(R),$=n("i8i4"),B=n.n($),U=n("LvDl"),q=n.n(U),z=n("iR1w"),H=n("PAeb"),G=n("kDLi"),W=function(e){var t=e.item,n=e.height,a=t&&!!t.documentation,r=t?t.label:"",i=t&&t.documentation?t.documentation:"",o=function(e,t,n){return{typeaheadItem:Object(H.css)(A||(A=Object(s.__makeTemplateObject)(["\n      label: type-ahead-item;\n      padding: "," "," "," ",";\n      border-radius: ",";\n      border: ",";\n      overflow-y: scroll;\n      overflow-x: hidden;\n      outline: none;\n      background: ",";\n      color: ",";\n      box-shadow: ",";\n      visibility: ",";\n      width: 250px;\n      height: ","px;\n      position: relative;\n    "],["\n      label: type-ahead-item;\n      padding: "," "," "," ",";\n      border-radius: ",";\n      border: ",";\n      overflow-y: scroll;\n      overflow-x: hidden;\n      outline: none;\n      background: ",";\n      color: ",";\n      box-shadow: ",";\n      visibility: ",";\n      width: 250px;\n      height: ","px;\n      position: relative;\n    "])),e.spacing.sm,e.spacing.sm,e.spacing.sm,e.spacing.md,e.border.radius.md,Object(G.selectThemeVariant)({light:"solid 1px "+e.colors.gray5,dark:"solid 1px "+e.colors.dark1},e.type),Object(G.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark4},e.type),e.colors.text,Object(G.selectThemeVariant)({light:"0 5px 10px 0 "+e.colors.gray5,dark:"0 5px 10px 0 "+e.colors.black},e.type),!0===n?"visible":"hidden",t+parseInt(e.spacing.xxs,10))}}(Object(k.useContext)(G.ThemeContext),n,a);return j.a.createElement("div",{className:Object(H.cx)([o.typeaheadItem])},j.a.createElement("b",null,r),j.a.createElement("hr",null),j.a.createElement("span",null,i))},Q=n("WG1l"),Y=n.n(Q),K=n("eGKl"),J=n("2r/H"),Z=n("Fts8"),X=function(e){var t=function(e){return{typeaheadItem:Object(H.css)(N||(N=Object(s.__makeTemplateObject)(["\n    label: type-ahead-item;\n    height: auto;\n    font-family: ",";\n    padding: "," "," "," ",";\n    font-size: ",";\n    text-overflow: ellipsis;\n    overflow: hidden;\n    z-index: 1;\n    display: block;\n    white-space: nowrap;\n    cursor: pointer;\n    transition: color 0.3s cubic-bezier(0.645, 0.045, 0.355, 1), border-color 0.3s cubic-bezier(0.645, 0.045, 0.355, 1),\n      background 0.3s cubic-bezier(0.645, 0.045, 0.355, 1), padding 0.15s cubic-bezier(0.645, 0.045, 0.355, 1);\n  "],["\n    label: type-ahead-item;\n    height: auto;\n    font-family: ",";\n    padding: "," "," "," ",";\n    font-size: ",";\n    text-overflow: ellipsis;\n    overflow: hidden;\n    z-index: 1;\n    display: block;\n    white-space: nowrap;\n    cursor: pointer;\n    transition: color 0.3s cubic-bezier(0.645, 0.045, 0.355, 1), border-color 0.3s cubic-bezier(0.645, 0.045, 0.355, 1),\n      background 0.3s cubic-bezier(0.645, 0.045, 0.355, 1), padding 0.15s cubic-bezier(0.645, 0.045, 0.355, 1);\n  "])),e.typography.fontFamily.monospace,e.spacing.sm,e.spacing.sm,e.spacing.sm,e.spacing.md,e.typography.size.sm),typeaheadItemSelected:Object(H.css)(D||(D=Object(s.__makeTemplateObject)(["\n    label: type-ahead-item-selected;\n    background-color: ",";\n  "],["\n    label: type-ahead-item-selected;\n    background-color: ",";\n  "])),Object(K.a)({light:e.colors.gray6,dark:e.colors.dark9},e.type)),typeaheadItemMatch:Object(H.css)(I||(I=Object(s.__makeTemplateObject)(["\n    label: type-ahead-item-match;\n    color: ",";\n    border-bottom: 1px solid ",";\n    padding: inherit;\n    background: inherit;\n  "],["\n    label: type-ahead-item-match;\n    color: ",";\n    border-bottom: 1px solid ",";\n    padding: inherit;\n    background: inherit;\n  "])),e.colors.yellow,e.colors.yellow),typeaheadItemGroupTitle:Object(H.css)(P||(P=Object(s.__makeTemplateObject)(["\n    label: type-ahead-item-group-title;\n    color: ",";\n    font-size: ",";\n    line-height: ",";\n    padding: ",";\n  "],["\n    label: type-ahead-item-group-title;\n    color: ",";\n    font-size: ",";\n    line-height: ",";\n    padding: ",";\n  "])),e.colors.textWeak,e.typography.size.sm,e.typography.lineHeight.md,e.spacing.sm)}}(Object(k.useContext)(Z.a)),n=e.isSelected,a=e.item,r=e.prefix,i=e.style,o=e.onMouseEnter,l=e.onMouseLeave,c=e.onClickItem,u=n?Object(H.cx)([t.typeaheadItem,t.typeaheadItemSelected]):Object(H.cx)([t.typeaheadItem]),d=Object(H.cx)([t.typeaheadItemMatch]),p=Object(H.cx)([t.typeaheadItemGroupTitle]),f=a.label||"";return a.kind===J.a.GroupTitle?j.a.createElement("li",{className:p,style:i},j.a.createElement("span",null,f)):j.a.createElement("li",{className:u,style:i,onMouseDown:c,onMouseEnter:o,onMouseLeave:l},j.a.createElement(Y.a,{textToHighlight:f,searchWords:[r],highlightClassName:d}))},ee=n("pHSZ"),te=n.n(ee),ne=function(e){return e.reduce(function(e,t){var n={label:t.label,kind:J.a.GroupTitle};return e.concat(n,t.items)},new Array)},ae=function(e){return e.reduce(function(e,t){return e.length<t.label.length?t.label:e},"")},re=function(e,t,n){var a=te()(n,{font:e.typography.fontFamily.monospace,fontSize:e.typography.size.sm,fontWeight:"normal"}),r=oe(a.width,e),i=ie(a.height,e);return{listWidth:r,listHeight:se(i,t),itemHeight:i}},ie=function(e,t){return e+2*parseInt(t.spacing.sm,10)},oe=function(e,t){var n=parseInt(t.spacing.sm,10)+parseInt(t.spacing.md,10);return Math.min(Math.max(e+n,200),800)},se=function(e,t){var n=Math.min(t.length,10)*e;return Math.max(n,100)},le=function(e,t){return e-t*Math.floor(e/t)},ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listRef=Object(k.createRef)(),t.state={hoveredItem:null,typeaheadIndex:1,allItems:[],listWidth:-1,listHeight:-1,itemHeight:-1},t.componentDidMount=function(){t.props.menuRef&&t.props.menuRef(t),document.addEventListener("selectionchange",t.handleSelectionChange);var e=ne(t.props.groupedItems),n=ae(e),a=re(t.context,e,n),r=a.listWidth,i=a.listHeight,o=a.itemHeight;t.setState({listWidth:r,listHeight:i,itemHeight:o,allItems:e})},t.componentWillUnmount=function(){document.removeEventListener("selectionchange",t.handleSelectionChange)},t.handleSelectionChange=function(){t.forceUpdate()},t.componentDidUpdate=function(e,n){if(n.typeaheadIndex!==t.state.typeaheadIndex&&t.listRef&&t.listRef.current){if(1===t.state.typeaheadIndex)return void t.listRef.current.scrollToItem(0);t.listRef.current.scrollToItem(t.state.typeaheadIndex)}if(!1===q.a.isEqual(e.groupedItems,t.props.groupedItems)){var a=ne(t.props.groupedItems),r=ae(a),i=re(t.context,a,r),o=i.listWidth,s=i.listHeight,l=i.itemHeight;t.setState({listWidth:o,listHeight:s,itemHeight:l,allItems:a})}},t.onMouseEnter=function(e){t.setState({hoveredItem:e})},t.onMouseLeave=function(){t.setState({hoveredItem:null})},t.moveMenuIndex=function(e){var n=t.state.allItems.length;if(n){var a=le(t.state.typeaheadIndex+e,n);return t.state.allItems[a].kind===J.a.GroupTitle&&(a=le(a+e,n)),void t.setState({typeaheadIndex:a})}},t.insertSuggestion=function(){t.props.onSelectSuggestion&&t.props.onSelectSuggestion(t.state.allItems[t.state.typeaheadIndex])},t}return Object(s.__extends)(t,e),Object.defineProperty(t.prototype,"menuPosition",{get:function(){if(!window.getSelection)return"";var e=window.getSelection(),t=e&&e.anchorNode;if(t&&t.parentElement){var n=t.parentElement.getBoundingClientRect(),a=window.scrollX,r=window.scrollY;return"position: absolute; display: flex; top: "+(n.top+r+n.height+6)+"px; left: "+(n.left+a-2)+"px"}return""},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,n=t.prefix,a=t.isOpen,r=void 0!==a&&a,i=t.origin,o=this.state,s=o.allItems,l=o.listWidth,c=o.listHeight,u=o.itemHeight,d=o.hoveredItem,p=o.typeaheadIndex,f=d||p;return j.a.createElement(ue,{origin:i,isOpen:r,style:this.menuPosition},j.a.createElement("ul",{className:"typeahead"},j.a.createElement(z.a,{ref:this.listRef,itemCount:s.length,itemSize:u,itemKey:function(e){var t=s&&s[e];return t?e+"-"+t.label:""+e},width:l,height:c},function(t){var a=t.index,r=t.style,i=s&&s[a];return i?j.a.createElement(X,{onClickItem:function(){return e.props.onSelectSuggestion?e.props.onSelectSuggestion(i):{}},isSelected:s[p]===i,item:i,prefix:n,style:r,onMouseEnter:function(){return e.onMouseEnter(a)},onMouseLeave:e.onMouseLeave}):null})),f&&j.a.createElement(W,{height:c,item:s[d||p]}))},t.contextType=Z.a,t}(j.a.PureComponent),ue=function(e){function t(t){var n=e.call(this,t)||this,a=t.index,r=void 0===a?0:a,i=t.origin,o=void 0===i?"query":i,s=t.style;return n.node=document.createElement("div"),n.node.setAttribute("style",s),n.node.classList.add("slate-typeahead","slate-typeahead-"+o+"-"+r),document.body.appendChild(n.node),n}return Object(s.__extends)(t,e),t.prototype.componentWillUnmount=function(){document.body.removeChild(this.node)},t.prototype.render=function(){return this.props.isOpen?(this.node.setAttribute("style",this.props.style),this.node.classList.add("slate-typeahead--open"),B.a.createPortal(this.props.children,this.node)):(this.node.classList.remove("slate-typeahead--open"),null)},t}(j.a.PureComponent),de=n("zp0N"),pe=250;function fe(e){var t,n=e.onTypeahead,a=e.cleanText,r=e.onWillApplySuggestion,i=e.portalOrigin,o={groupedItems:[],typeaheadPrefix:"",typeaheadContext:"",typeaheadText:""},l=L()(he,pe),c=function(e){o=Object(s.__assign)(Object(s.__assign)({},o),e)};return{onBlur:function(e,t,n){return o=Object(s.__assign)(Object(s.__assign)({},o),{groupedItems:[]}),n()},onClick:function(e,t,n){return o=Object(s.__assign)(Object(s.__assign)({},o),{groupedItems:[]}),n()},onKeyDown:function(e,r,i){var u=e,d=o.groupedItems.length;switch(u.key){case"Escape":if(d)return u.preventDefault(),o=Object(s.__assign)(Object(s.__assign)({},o),{groupedItems:[]}),r.insertText("");break;case"ArrowDown":case"ArrowUp":if(d)return u.preventDefault(),void t.moveMenuIndex("ArrowDown"===u.key?1:-1);break;case"Enter":case"Tab":if(d)return u.preventDefault(),t.insertSuggestion();break;default:l(r,c,n,a)}return i()},commands:{selectSuggestion:function(e,t){var r=o.groupedItems;if(!r||!r.length)return e;var i=e.applyTypeahead(t);return l(e,c,n,a),i},applyTypeahead:function(e,t){var n=t.insertText||t.label,i="function"===t.kind,l=t.move||0,c=o.typeaheadPrefix,u=o.typeaheadText,d=o.typeaheadContext;r&&(n=r(n,{groupedItems:o.groupedItems,typeaheadContext:d,typeaheadPrefix:c,typeaheadText:u}));var p=t.deleteBackwards||c.length,f=(a?a(u):u).length-c.length,h=u.indexOf(c),m=c&&(f>0&&h>-1||n===u)&&!i?f+h:0;if(n.match(/\n/)){var g=Object(de.b)(n);return e.deleteBackward(p).deleteForward(m).insertFragment(g).focus()}return o=Object(s.__assign)(Object(s.__assign)({},o),{groupedItems:[]}),e.deleteBackward(p).deleteForward(m).insertText(n).moveForward(l).focus()}},renderEditor:function(e,n,a){if(n.value.selection.isExpanded)return a();var r=a();return j.a.createElement(j.a.Fragment,null,r,j.a.createElement(ce,{menuRef:function(e){return t=e},origin:i,prefix:o.typeaheadPrefix,isOpen:!!o.groupedItems.length,groupedItems:o.groupedItems,onSelectSuggestion:n.selectSuggestion}))}}}var he=function(e,t,n,a){return Object(s.__awaiter)(void 0,void 0,Promise,function(){var r,i,o,l,c,u,d,p,f,h,m,g,b,v,y,w;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return n?(r=e.value,i=r.selection,o=r.document.getClosestBlock(r.focusBlock.key),l=r.selection.start.offset-1,c=o&&o.getDecorations(e),u=c?c.filter(function(e){return e.start.offset<=l&&e.end.offset>l&&e.type===S}).toArray():[],d=c&&c.filter(function(e){return e.end.offset<=l&&e.type===S&&e.data.get("className").includes("label-key")}).last(),p=d&&r.focusText.text.slice(d.start.offset,d.end.offset),f=u.map(function(e){return e.data.get("className")}).join(" ").split(" ").filter(function(e){return e.length}),h=r.focusText.text,m=h.slice(0,i.focus.offset),u.length&&(h=r.focusText.text.slice(u[0].start.offset,u[0].end.offset),m=r.focusText.text.slice(u[0].start.offset,i.focus.offset)),(g=m.match(/(?:!?=~?"?|")(.*)/))?m=g[1]:a&&(m=a(m)),[4,n({prefix:m,text:h,value:r,wrapperClasses:f,labelKey:p||void 0})]):[2];case 1:return b=s.sent(),v=b.suggestions,y=b.context,w=v.map(function(e){return e.items?(m&&(e.skipFilter||(e.items=e.items.filter(function(e){return(e.filterText||e.label).length>=m.length}),e.prefixMatch?e.items=e.items.filter(function(e){return(e.filterText||e.label).startsWith(m)}):e.items=e.items.filter(function(e){return(e.filterText||e.label).includes(m)})),e.items=e.items.filter(function(e){return e.insertText||(e.filterText||e.label)!==m})),e.skipSort||(e.items=V()(e.items,function(e){return e.sortText||e.label})),e):e}).filter(function(e){return e.items&&e.items.length}),t({groupedItems:w,typeaheadPrefix:m,typeaheadContext:y,typeaheadText:h}),e.blur().focus(),[2]}})})};n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return x}),n.d(t,"h",function(){return T}),n.d(t,"i",function(){return fe})},"DBN/":function(e,t){var n="public/app/features/dashboard/components/ShareModal/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body ng-controller=ShareModalCtrl ng-init=init()>\n  <div class=modal-header>\n    <h2 class=modal-header-title>\n      <i class="fa fa-share-square-o"></i>\n      <span class=p-l-1>{{ modalTitle }}</span>\n    </h2>\n\n    <ul class=gf-tabs>\n      <li class=gf-tabs-item ng-repeat="tab in tabs">\n        <a class=gf-tabs-link ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">\n          {{::tab.title}}\n        </a>\n      </li>\n    </ul>\n\n    <a class=modal-header-close ng-click=dismiss();>\n      <i class="fa fa-remove"></i>\n    </a>\n  </div>\n\n  <div class=modal-content ng-repeat="tab in tabs" ng-if="editor.index == $index">\n    <div ng-include src=tab.src class=share-modal-body></div>\n  </div>\n</div>\n\n<script type=text/ng-template id=shareEmbed.html>\n  <div class="share-modal-header">\n  \t<div class="share-modal-big-icon">\n  \t\t<i class="fa fa-code"></i>\n  \t</div>\n  \t<div class="share-modal-content">\n  \t\t<div ng-include src="\'shareLinkOptions.html\'"></div>\n\n       <p class="share-modal-info-text">\n  \t\t The html code below can be pasted and included in another web page. Unless anonymous access\n  \t\t is enabled, the user viewing that page need to be signed into grafana for the graph to load.\n       </p>\n\n       <div class="gf-form-group gf-form--grow">\n  \t\t\t<div class="gf-form">\n  \t\t\t\t<textarea rows="5" data-share-panel-url class="gf-form-input" ng-model=\'iframeHtml\'></textarea>\n  \t\t\t</div>\n  \t\t</div>\n\n  \t</div>\n  </div>\n<\/script>\n\n<script type=text/ng-template id=shareExport.html>\n  <dash-export-modal dismiss="dismiss()"></dash-export-modal>\n<\/script>\n\n<script type=text/ng-template id=shareLinkOptions.html>\n  <div class="gf-form-group">\n  \t<gf-form-switch class="gf-form"\n  \t\tlabel="Current time range" label-class="width-12" switch-class="max-width-6"\n  \t\tchecked="options.forCurrent" on-change="buildUrl()">\n  \t</gf-form-switch>\n  \t<gf-form-switch class="gf-form"\n  \t\tlabel="Template variables" label-class="width-12" switch-class="max-width-6"\n  \t\tchecked="options.includeTemplateVars" on-change="buildUrl()">\n  \t</gf-form-switch>\n  \t<div class="gf-form">\n  \t\t<span class="gf-form-label width-12">Theme</span>\n  \t\t<div class="gf-form-select-wrapper width-10">\n  \t\t\t<select class="gf-form-input" ng-model="options.theme" ng-options="f as f for f in [\'current\', \'dark\', \'light\']" ng-change="buildUrl()"></select>\n  \t\t</div>\n  \t</div>\n  </div>\n<\/script>\n\n<script type=text/ng-template id=shareLink.html>\n  <div class="share-modal-header">\n  \t<div class="share-modal-big-icon">\n  \t\t<i class="gicon gicon-link"></i>\n  \t</div>\n  \t<div class="share-modal-content">\n  \t\t<p class="share-modal-info-text">\n  \t\t\tCreate a direct link to this dashboard or panel, customized with the options below.\n  \t\t</p>\n  \t\t<div ng-include src="\'shareLinkOptions.html\'"></div>\n  \t\t<div>\n  \t\t\t<div class="gf-form-group">\n  \t\t\t\t<div class="gf-form-inline">\n  \t\t\t\t\t<div class="gf-form gf-form--grow">\n  \t\t\t\t\t\t<input type="text" data-share-panel-url class="gf-form-input" ng-model="shareUrl">\n  \t\t\t\t\t</div>\n  \t\t\t\t\t<div class="gf-form">\n  \t\t\t\t\t\t<button class="btn btn-inverse" clipboard-button="getShareUrl()">Copy</button>\n  \t\t\t\t\t</div>\n  \t\t\t\t</div>\n  \t\t\t</div>\n  \t\t</div>\n  \t\t<div class="gf-form" ng-show="modeSharePanel">\n  \t\t\t<a href="{{imageUrl}}" target="_blank" aria-label={{selectors.linkToRenderedImage}}><i class="fa fa-camera"></i> Direct link rendered image</a>\n  \t\t</div>\n  \t</div>\n<\/script>\n\n<script type=text/ng-template id=shareSnapshot.html>\n  \t<div class="ng-cloak" ng-cloak ng-controller="ShareSnapshotCtrl" ng-init="init()">\n  \t\t<div class="share-modal-header">\n  \t\t\t<div class="share-modal-big-icon">\n  \t\t\t\t<i ng-if="loading" class="fa fa-spinner fa-spin"></i>\n  \t\t\t\t<i ng-if="!loading" class="gicon gicon-snapshots"></i>\n  \t\t\t</div>\n        <div class="share-modal-content">\n          <div ng-if="step === 1">\n            <p class="share-modal-info-text">\n              A snapshot is an instant way to share an interactive dashboard publicly.\n              When created, we <strong>strip sensitive data</strong> like queries (metric, template and annotation) and panel links,\n              leaving only the visible metric data and series names embedded into your dashboard.\n            </p>\n            <p class="share-modal-info-text">\n              Keep in mind, your <strong>snapshot can be viewed by anyone</strong> that has the link and can reach the URL.\n              Share wisely.\n            </p>\n          </div>\n\n  \t\t\t\t<div class="share-modal-header" ng-if="step === 3">\n  \t\t\t\t\t<p class="share-modal-info-text">\n  \t\t\t\t\t\tThe snapshot has now been deleted. If it you have already accessed it once, It might take up to an hour before it is removed from\n  \t\t\t\t\t\tbrowser caches or CDN caches.\n  \t\t\t\t\t</p>\n  \t\t\t\t</div>\n\n  \t\t\t\t<div class="gf-form-group share-modal-options">\n  \t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n  \t\t\t\t\t\t<span class="gf-form-label width-12">Snapshot name</span>\n  \t\t\t\t\t\t<input type="text" ng-model="snapshot.name" class="gf-form-input max-width-15">\n  \t\t\t\t\t</div>\n  \t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n  \t\t\t\t\t\t<span class="gf-form-label width-12">Expire</span>\n  \t\t\t\t\t\t<div class="gf-form-select-wrapper max-width-15">\n  \t\t\t\t\t\t\t<select class="gf-form-input" ng-model="snapshot.expires" ng-options="f.value as f.text for f in expireOptions"></select>\n  \t\t\t\t\t\t</div>\n  \t\t\t\t\t</div>\n\n  \t\t\t\t\t<div class="gf-form" ng-if="step === 2" style="margin-top: 40px">\n  \t\t\t\t\t\t<div class="gf-form-row">\n  \t\t\t\t\t\t\t<a href="{{snapshotUrl}}" class="large share-modal-link" target="_blank">\n  \t\t\t\t\t\t\t\t<i class="fa fa-external-link-square"></i>\n  \t\t\t\t\t\t\t\t{{snapshotUrl}}\n  \t\t\t\t\t\t\t</a>\n  \t\t\t\t\t\t\t<br>\n  \t\t\t\t\t\t\t<button class="btn btn-inverse" clipboard-button="getSnapshotUrl()">Copy Link</button>\n  \t\t\t\t\t\t</div>\n  \t\t\t\t\t</div>\n  \t\t\t\t</div>\n\n  \t\t\t\t<div ng-if="step === 1">\n  \t\t\t\t\t<p class="share-modal-info-text">\n  \t\t\t\t\t\tYou may need to configure the timeout value if it takes a long time to collect your dashboard\'s metrics.\n  \t\t\t\t\t</p>\n  \t\t\t\t</div>\n\n  \t\t\t\t<div class="gf-form-group share-modal-options">\n  \t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n  \t\t\t\t\t\t<span class="gf-form-label width-12">Timeout (seconds)</span>\n  \t\t\t\t\t\t<input type="number" ng-model="snapshot.timeoutSeconds" class="gf-form-input max-width-15">\n  \t\t\t\t\t</div>\n  \t\t\t\t</div>\n\n  \t\t\t\t<div ng-if="step === 1" class="gf-form-button-row">\n  \t\t\t\t\t<button class="btn gf-form-btn width-10 btn-primary" ng-click="createSnapshot()" ng-disabled="loading">\n  \t\t\t\t\t\tLocal Snapshot\n  \t\t\t\t\t</button>\n  \t\t\t\t\t<button class="btn gf-form-btn width-16 btn-secondary" ng-if="externalEnabled" ng-click="createSnapshot(true)" ng-disabled="loading">\n  \t\t\t\t\t\t{{sharingButtonText}}\n  \t\t\t\t\t</button>\n  \t\t\t\t\t<a class="btn btn-link" ng-click="dismiss()">Cancel</a>\n  \t\t\t\t</div>\n\n  \t\t\t\t<div class="pull-right" ng-if="step === 2" style="padding: 5px">\n  \t\t\t\t\tDid you make a mistake? <a class="pointer" ng-click="deleteSnapshot()" target="_blank">delete snapshot.</a>\n  \t\t\t\t</div>\n  \t\t\t</div>\n  \t\t</div>\n  \t</div>\n\n  </div>\n<\/script>\n')}]),e.exports=n},E1lu:function(e,t){var n="public/app/plugins/datasource/cloudwatch/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<cloudwatch-annotation-query-editor datasource=ctrl.datasource on-change=ctrl.onChange query=ctrl.annotation></cloudwatch-annotation-query-editor>\n")}]),e.exports=n},EOC3:function(e,t){var n="public/app/core/components/manage_dashboards/manage_dashboards.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=dashboard-list>\n  <div class="page-action-bar page-action-bar--narrow" ng-hide="ctrl.folderId && !ctrl.hasFilters && ctrl.sections.length === 0">\n    <label class="gf-form gf-form--grow gf-form--has-input-icon">\n      <input type=text class="gf-form-input max-width-30" placeholder="Find Dashboard by name" tabindex=1 give-focus=true ng-model=ctrl.query.query ng-model-options="{ debounce: 500 }" spellcheck=false ng-change=ctrl.onQueryChange() />\n      <i class="gf-form-input-icon fa fa-search"></i>\n    </label>\n    <div class=page-action-bar__spacer></div>\n    <a class="btn btn-primary" ng-href={{ctrl.createDashboardUrl()}} ng-if="ctrl.hasEditPermissionInFolders || ctrl.canSave">\n      New Dashboard\n    </a>\n    <a class="btn btn-inverse" href=dashboards/folder/new ng-if="!ctrl.folderId && ctrl.isEditor">\n      New Folder\n    </a>\n    <a class="btn btn-inverse" href={{ctrl.importDashboardUrl()}} ng-if="ctrl.hasEditPermissionInFolders || ctrl.canSave">\n      Import\n    </a>\n  </div>\n\n  <div class="page-action-bar page-action-bar--narrow" ng-show=ctrl.hasFilters>\n    <div class=gf-form-inline>\n      <div class=gf-form ng-show="ctrl.query.tag.length > 0">\n        <label class="gf-form-label width-4">\n          Tags\n        </label>\n        <div class="gf-form-input gf-form-input--plaintext" ng-show="ctrl.query.tag.length > 0">\n          <span ng-repeat="tagName in ctrl.query.tag">\n            <a ng-click="ctrl.removeTag(tagName, $event)" tag-color-from-name=tagName class="tag label label-tag">\n              <i class="fa fa-remove"></i>&nbsp;{{tagName}}\n            </a>\n          </span>\n        </div>\n      </div>\n      <div class=gf-form ng-show=ctrl.query.starred>\n        <label class=gf-form-label>\n          <a class=pointer ng-click=ctrl.removeStarred()>\n            <i class="fa fa-fw fa-check"></i> Starred\n          </a>\n        </label>\n      </div>\n      <div class=gf-form>\n        <label class=gf-form-label>\n          <a class=pointer ng-click=ctrl.clearFilters() bs-tooltip="\'Clear current search query and filters\'">\n            <i class="fa fa-remove"></i>&nbsp;Clear\n          </a>\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div class=search-results ng-show="ctrl.hasFilters && ctrl.sections.length === 0">\n    <em class=muted>\n      No dashboards matching your query were found.\n    </em>\n  </div>\n\n\t<div class=search-results ng-show="!ctrl.folderId && !ctrl.hasFilters && ctrl.sections.length === 0">\n    <em class=muted>\n        No dashboards found.\n    </em>\n  </div>\n\n  <div class=search-results ng-show="ctrl.sections.length > 0">\n    <div class=search-results-filter-row>\n      <gf-form-checkbox on-change=ctrl.onSelectAllChanged() checked=ctrl.selectAllChecked switch-class=gf-form-checkbox--transparent />\n      <div class=search-results-filter-row__filters>\n        <div class=gf-form-select-wrapper ng-show="!(ctrl.canMove || ctrl.canDelete)">\n          <select class="search-results-filter-row__filters-item gf-form-input" ng-model=ctrl.selectedStarredFilter ng-options="t.text disable when t.disabled for t in ctrl.starredFilterOptions" ng-change=ctrl.onStarredFilterChange() />\n        </div>\n        <div class=gf-form-select-wrapper ng-show="!(ctrl.canMove || ctrl.canDelete)">\n          <select class="search-results-filter-row__filters-item gf-form-input" ng-model=ctrl.selectedTagFilter ng-options="t.term disable when t.disabled for t in ctrl.tagFilterOptions" ng-change=ctrl.onTagFilterChange() />\n        </div>\n        <div class=gf-form-button-row ng-show="ctrl.canMove || ctrl.canDelete">\n          <button type=button class="btn gf-form-button btn-inverse" ng-disabled=!ctrl.canMove ng-click=ctrl.moveTo() bs-tooltip="ctrl.canMove ? \'\' : \'Select a dashboard to move (cannot move folders)\'" data-placement=bottom>\n          <i class="fa fa-exchange"></i>&nbsp;&nbsp;Move\n          </button>\n          <button type=button class="btn gf-form-button btn-danger" ng-click=ctrl.delete() ng-disabled=!ctrl.canDelete>\n            <i class="fa fa-trash"></i>&nbsp;&nbsp;Delete\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=search-results-container>\n      <dashboard-search-results results=ctrl.sections editable=true on-selection-changed=ctrl.selectionChanged() on-tag-selected=ctrl.filterByTag($tag) />\n    </div>\n  </div>\n\n</div>\n\n<div ng-if="ctrl.canSave && ctrl.folderId && !ctrl.hasFilters && ctrl.sections.length === 0">\n  <empty-list-cta title="\'This folder doesn\\\'t have any dashboards yet\'" buttonicon="\'gicon gicon-dashboard-new\'" buttonlink="\'dashboard/new?folderId={{ctrl.folderId}}\'" buttontitle="\'Create Dashboard\'" protip="\'Add/move dashboards to your folder at ->\'" protiplink="\'dashboards\'" protiplinktitle="\'Manage dashboards\'" protiptarget=""/>\n</div>\n')}]),e.exports=n},F03Y:function(e,t,n){"use strict";function a(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.get(n);return t}n.d(t,"a",function(){return a})},"FFN/":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"h",function(){return b}),n.d(t,"g",function(){return v}),n.d(t,"o",function(){return y}),n.d(t,"p",function(){return w}),n.d(t,"n",function(){return x});var a=n("mrSG"),r=n("i7Pf"),i={dataSources:[],plugins:[],categories:[],dataSource:{},layoutMode:n("Wu7z").a.List,searchQuery:"",dataSourcesCount:0,dataSourceTypeSearchQuery:"",hasFetched:!1,isLoadingDataSources:!1,dataSourceMeta:{}},o=Object(r.b)("dataSources/dataSourceLoaded"),s=Object(r.b)("dataSources/dataSourcesLoaded"),l=Object(r.b)("dataSources/dataSourceMetaLoaded"),c=Object(r.b)("dataSources/dataSourcePluginsLoad"),u=Object(r.b)("dataSources/dataSourcePluginsLoaded"),d=Object(r.b)("dataSources/setDataSourcesSearchQuery"),p=Object(r.b)("dataSources/setDataSourcesLayoutMode"),f=Object(r.b)("dataSources/setDataSourceTypeSearchQuery"),h=Object(r.b)("dataSources/setDataSourceName"),m=Object(r.b)("dataSources/setIsDefault"),g={testingStatus:{status:null,message:null},loadError:null,plugin:null},b=Object(r.b)("dataSourceSettings/initDataSourceSettingsSucceeded"),v=Object(r.b)("dataSourceSettings/initDataSourceSettingsFailed"),y=Object(r.b)("dataSourceSettings/testDataSourceStarting"),w=Object(r.b)("dataSourceSettings/testDataSourceSucceeded"),x=Object(r.b)("dataSourceSettings/testDataSourceFailed");t.f={dataSources:function(e,t){return void 0===e&&(e=i),s.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{hasFetched:!0,dataSources:t.payload,dataSourcesCount:t.payload.length}):o.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{dataSource:t.payload}):d.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{searchQuery:t.payload}):p.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{layoutMode:t.payload}):c.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{plugins:[],isLoadingDataSources:!0}):u.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{plugins:t.payload.plugins,categories:t.payload.categories,isLoadingDataSources:!1}):f.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{dataSourceTypeSearchQuery:t.payload}):l.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{dataSourceMeta:t.payload}):h.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{dataSource:Object(a.__assign)(Object(a.__assign)({},e.dataSource),{name:t.payload})}):m.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{dataSource:Object(a.__assign)(Object(a.__assign)({},e.dataSource),{isDefault:t.payload})}):e},dataSourceSettings:function(e,t){return void 0===e&&(e=g),b.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{plugin:t.payload,loadError:null}):v.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{plugin:null,loadError:t.payload.message}):y.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{testingStatus:{message:"Testing...",status:"info"}}):w.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{testingStatus:{status:t.payload.status,message:t.payload.message}}):x.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{testingStatus:{status:"error",message:t.payload.message}}):e}}},FO4H:function(e,t,n){"use strict";n.r(t),n.d(t,"convertSeriesListToCsv",function(){return w}),n.d(t,"exportSeriesListToCsv",function(){return x}),n.d(t,"convertSeriesListToCsvColumns",function(){return O}),n.d(t,"exportSeriesListToCsvColumns",function(){return _}),n.d(t,"convertTableDataToCsv",function(){return k}),n.d(t,"exportTableDataToCsv",function(){return j}),n.d(t,"saveSaveBlob",function(){return C});var a=n("mrSG"),r=n("LvDl"),i=n("JEAp"),o=n("7tlc"),s=n("Obii"),l=1,c=0,u=";",d="\r\n",p='"',f="grafana_data_export.csv",h={dateTimeFormat:"YYYY-MM-DDTHH:mm:ssZ",excel:!1,timezone:""};function m(e){return e?e.split(p).join(p+p).replace(/^([-+=@])/,"'$1").replace(/\s+$/,""):e}var g=new DOMParser;function b(e){if(!e)return e;var t=/&[^;]+;/g;function n(e){return g.parseFromString(e,"text/html").body.textContent}return e.replace(t,n).replace(t,n)}function v(e){return e?"sep="+u+d:""}function y(e,t){void 0===t&&(t=!0);for(var n="",a=0;a<e.length;a+=1)Object(r.isBoolean)(e[a])||Object(r.isNumber)(e[a])||Object(o.isNullOrUndefined)(e[a])?n+=e[a]:n+=""+p+m(Object(r.unescape)(b(e[a])))+p,a<e.length-1&&(n+=u);return t?n+d:n}function w(e,t){for(var n=Object(a.__assign)(Object(a.__assign)({},h),t),r=n.dateTimeFormat,i=n.excel,o=n.timezone,u=v(i)+y(["Series","Time","Value"]),d=0;d<e.length;d+=1)for(var p=0;p<e[d].datapoints.length;p+=1)u+=y([e[d].alias,"utc"===o?Object(s.dateTime)(e[d].datapoints[p][l]).utc().format(r):Object(s.dateTime)(e[d].datapoints[p][l]).format(r),e[d].datapoints[p][c]],p<e[d].datapoints.length-1||d<e.length-1);return u}function x(e,t){C(w(e,t),f)}function O(e,t){for(var n=Object(a.__assign)(Object(a.__assign)({},h),t),i=n.dateTimeFormat,o=n.excel,u=n.timezone,d=v(o)+y(["Time"].concat(e.map(function(e){return e.alias}))),p=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=e[n].datapoints,i=0;i<a.length;i++)t.push(a[i][l]);t=Object(r.sortedUniq)(t.sort());for(var o=[],n=0;n<e.length;n++){for(var a=e[n].datapoints,s=a.map(function(e){return e[l]}),c=[],i=0;i<t.length;i++){var u=t[i],d=Object(r.sortedIndexOf)(s,u);-1!==d?c.push(a[d]):c.push([null,u])}o.push(c)}return o}(e),f=function(e){var t="utc"===u?Object(s.dateTime)(p[0][e][l]).utc().format(i):Object(s.dateTime)(p[0][e][l]).format(i);d+=y([t].concat(p.map(function(t){return t[e][c]})),e<p[0].length-1)},m=0;m<p[0].length;m+=1)f(m);return d}function _(e,t){C(O(e,t),f)}function k(e,t){void 0===t&&(t=!1);var n=v(t);n+=y(e.columns.map(function(e){return e.title||e.text}));for(var a=0;a<e.rows.length;a+=1)n+=y(e.rows[a],a<e.rows.length-1);return n}function j(e,t){void 0===t&&(t=!1),C(k(e,t),f)}function C(e,t){var n=new Blob([e],{type:"text/csv;charset=utf-8;header=present;"});Object(i.saveAs)(n,t)}},Fts8:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("2mql"),s=n.n(o),l=n("J4FA"),c=n("Obii"),u=null,d=i.a.createContext(Object(l.a)(c.GrafanaThemeType.Dark));d.displayName="ThemeContext";var p=function(e){var t=function(t){var n=u||d;return i.a.createElement(n.Consumer,null,function(n){return i.a.createElement(e,Object(a.__assign)({},t,{theme:n}))})};return t.displayName="WithTheme("+e.displayName+")",s()(t,e),t};function f(){return Object(r.useContext)(u||d)}var h=function(e){return u=i.a.createContext(e),function(){u=null}}},G0UC:function(e,t){},GNR5:function(e,t,n){"use strict";var a,r,i=n("mrSG"),o=n("tAX7");!function(e){e.Year="year",e.Month="month",e.Week="week",e.Day="day",e.Hour="hour",e.Minute="minute",e.Second="second",e.Millisecond="millisecond"}(r||(r={}));var s=((a={})[r.Year]=31536e3,a[r.Month]=2592e3,a[r.Week]=604800,a[r.Day]=86400,a[r.Hour]=3600,a[r.Minute]=60,a[r.Second]=1,a[r.Millisecond]=.001,a);function l(e,t,n){return null===e?{text:""}:Math.abs(e)<1e3?{text:B(e,t),suffix:" ns"}:Math.abs(e)<1e6?U(e/1e3,t,n,3," µs"):Math.abs(e)<1e9?U(e/1e6,t,n,6," ms"):Math.abs(e)<6e10?U(e/1e9,t,n,9," s"):U(e/6e10,t,n,12," min")}function c(e,t,n){return null===e?{text:""}:Math.abs(e)<1e3?{text:B(e,t),suffix:" µs"}:Math.abs(e)<1e6?U(e/1e3,t,n,3," ms"):U(e/1e6,t,n,6," s")}function u(e,t,n){return null===e?{text:""}:Math.abs(e)<1e3?{text:B(e,t),suffix:" ms"}:Math.abs(e)<6e4?U(e/1e3,t,n,3," s"):Math.abs(e)<36e5?U(e/6e4,t,n,5," min"):Math.abs(e)<864e5?U(e/36e5,t,n,7," hour"):Math.abs(e)<31536e6?U(e/864e5,t,n,8," day"):U(e/31536e6,t,n,10," year")}function d(e,t){if(null!=e&&null!=t)return e-t}function p(e,t,n){return null===e?{text:""}:Math.abs(e)<1e-6?U(1e9*e,t,d(n,t),-9," ns"):Math.abs(e)<.001?U(1e6*e,t,d(n,t),-6," µs"):Math.abs(e)<1?U(1e3*e,t,d(n,t),-3," ms"):Math.abs(e)<60?{text:B(e,t),suffix:" s"}:Math.abs(e)<3600?U(e/60,t,n,1," min"):Math.abs(e)<86400?U(e/3600,t,n,4," hour"):Math.abs(e)<604800?U(e/86400,t,n,5," day"):Math.abs(e)<31536e3?U(e/604800,t,n,6," week"):U(e/31556900,t,n,7," year")}function f(e,t,n){return null===e?{text:""}:Math.abs(e)<60?{text:B(e,t),suffix:" min"}:Math.abs(e)<1440?U(e/60,t,n,2," hour"):Math.abs(e)<10080?U(e/1440,t,n,3," day"):Math.abs(e)<604800?U(e/10080,t,n,4," week"):U(e/525948,t,n,5," year")}function h(e,t,n){return null===e?{text:""}:Math.abs(e)<24?{text:B(e,t),suffix:" hour"}:Math.abs(e)<168?U(e/24,t,n,2," day"):Math.abs(e)<8760?U(e/168,t,n,3," week"):U(e/8760,t,n,4," year")}function m(e,t,n){return null===e?{text:""}:Math.abs(e)<7?{text:B(e,t),suffix:" day"}:Math.abs(e)<365?U(e/7,t,n,2," week"):U(e/365,t,n,3," year")}function g(e,t,n){if(null===e)return{text:""};if(0===e)return{text:"0",suffix:" "+n+"s"};if(e<0){var a=g(-e,t,n);return a.suffix||(a.suffix=""),a.suffix+=" ago",a}var i=[{long:r.Year},{long:r.Month},{long:r.Week},{long:r.Day},{long:r.Hour},{long:r.Minute},{long:r.Second},{long:r.Millisecond}];e*=1e3*s[n];var o=[],l=!1,c=0;null===t&&void 0===t||(c=t);for(var u=0;u<i.length&&c>=0;u++){var d=1e3*s[i[u].long],p=e/d;if(p>=1||l){l=!0;var f=Math.floor(p),h=i[u].long+(1!==f?"s":"");o.push(f+" "+h),e%=d,c--}}return{text:o.join(", ")}}function b(e,t){if(null===e)return{text:""};if(e<1e3)return{text:Object(o.i)(e).format("SSS\\m\\s")};if(e<6e4){var n="ss\\s:SSS\\m\\s";return 0===t&&(n="ss\\s"),{text:Object(o.i)(e).format(n)}}if(e<36e5){var a="mm\\m:ss\\s:SSS\\m\\s";return 0===t?a="mm\\m":1===t&&(a="mm\\m:ss\\s"),{text:Object(o.i)(e).format(a)}}var r="mm\\m:ss\\s:SSS\\m\\s",i=("0"+Math.floor(Object(o.h)(e,"milliseconds").asHours())).slice(-2)+"h";return 0===t?r="":1===t?r="mm\\m":2===t&&(r="mm\\m:ss\\s"),{text:r?i+":"+Object(o.i)(e).format(r):i}}function v(e,t){return g(e,t,r.Millisecond)}function y(e,t){return g(e,t,r.Second)}function w(e){if(e<0){var t=w(-e);return t.suffix||(t.suffix=""),t.suffix+=" ago",t}var n=[],a=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return a>9?n.push(""+a):n.push("0"+a),r>9?n.push(""+r):n.push("0"+r),i>9?n.push(""+i):n.push("0"+i),{text:n.join(":")}}function x(e,t,n){return p(e/100,t,n)}function O(e,t){return b(e,t)}function _(e,t){return b(1e3*e,t)}function k(e,t){return function(n,a,r,i){var s="utc"===i?Object(o.i)(n):Object(o.b)(n);return t&&Object(o.b)().isSame(n,"day")?{text:s.format(t)}:{text:s.format(e)}}}var j=k("YYYY-MM-DD HH:mm:ss","HH:mm:ss"),C=k("MM/DD/YYYY h:mm:ss a","h:mm:ss a");function S(e,t,n,a){return{text:("utc"===a?Object(o.i)(e):Object(o.b)(e)).fromNow()}}function E(e,t){return null===e?{text:""}:{text:B(e,t),suffix:"%"}}function T(e,t){return null===e?{text:""}:{text:B(100*e,t),suffix:"%"}}function M(e,t){if(null==e)return{text:""};var n=A(e,t);return"-"===n.text.substring(0,1)?n.text="-0x"+n.text.substring(1):n.text="0x"+n.text,n}function A(e,t){return null==e?{text:""}:{text:parseFloat(B(e,t)).toString(16).toUpperCase()}}function N(e,t){return null==e?{text:""}:{text:e.toExponential(t)}}function D(e,t){var n=z(1e3,["","K","M","B","T"]);return function(a,r,i){if(null===a)return{text:""};var o=n(a,r,i);return t?o.suffix=e:o.prefix=e,o}}function I(e,t){return void 0===t&&(t=0),z(1024,["","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"].slice(t).map(function(t){return" "+t+e}))}function P(e,t){void 0===t&&(t=0);var n=["f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];return z(1e3,(n=n.slice(5+(t||0))).map(function(t){return" "+t+e}))}var F=function(){return[{name:"Misc",formats:[{name:"none",id:"none",fn:q("")},{name:"short",id:"short",fn:z(1e3,[""," K"," Mil"," Bil"," Tri"," Quadr"," Quint"," Sext"," Sept"])},{name:"percent (0-100)",id:"percent",fn:E},{name:"percent (0.0-1.0)",id:"percentunit",fn:T},{name:"Humidity (%H)",id:"humidity",fn:q("%H")},{name:"decibel",id:"dB",fn:q("dB")},{name:"hexadecimal (0x)",id:"hex0x",fn:M},{name:"hexadecimal",id:"hex",fn:A},{name:"scientific notation",id:"sci",fn:N},{name:"locale format",id:"locale",fn:H},{name:"Pixels",id:"pixel",fn:q("px")}]},{name:"Acceleration",formats:[{name:"Meters/sec²",id:"accMS2",fn:q("m/sec²")},{name:"Feet/sec²",id:"accFS2",fn:q("f/sec²")},{name:"G unit",id:"accG",fn:q("g")}]},{name:"Angle",formats:[{name:"Degrees (°)",id:"degree",fn:q("°")},{name:"Radians",id:"radian",fn:q("rad")},{name:"Gradian",id:"grad",fn:q("grad")},{name:"Arc Minutes",id:"arcmin",fn:q("arcmin")},{name:"Arc Seconds",id:"arcsec",fn:q("arcsec")}]},{name:"Area",formats:[{name:"Square Meters (m²)",id:"areaM2",fn:q("m²")},{name:"Square Feet (ft²)",id:"areaF2",fn:q("ft²")},{name:"Square Miles (mi²)",id:"areaMI2",fn:q("mi²")}]},{name:"Computation",formats:[{name:"FLOP/s",id:"flops",fn:P("FLOP/s")},{name:"MFLOP/s",id:"mflops",fn:P("FLOP/s",2)},{name:"GFLOP/s",id:"gflops",fn:P("FLOP/s",3)},{name:"TFLOP/s",id:"tflops",fn:P("FLOP/s",4)},{name:"PFLOP/s",id:"pflops",fn:P("FLOP/s",5)},{name:"EFLOP/s",id:"eflops",fn:P("FLOP/s",6)},{name:"ZFLOP/s",id:"zflops",fn:P("FLOP/s",7)},{name:"YFLOP/s",id:"yflops",fn:P("FLOP/s",8)}]},{name:"Concentration",formats:[{name:"parts-per-million (ppm)",id:"ppm",fn:q("ppm")},{name:"parts-per-billion (ppb)",id:"conppb",fn:q("ppb")},{name:"nanogram per cubic meter (ng/m³)",id:"conngm3",fn:q("ng/m³")},{name:"nanogram per normal cubic meter (ng/Nm³)",id:"conngNm3",fn:q("ng/Nm³")},{name:"microgram per cubic meter (μg/m³)",id:"conμgm3",fn:q("μg/m³")},{name:"microgram per normal cubic meter (μg/Nm³)",id:"conμgNm3",fn:q("μg/Nm³")},{name:"milligram per cubic meter (mg/m³)",id:"conmgm3",fn:q("mg/m³")},{name:"milligram per normal cubic meter (mg/Nm³)",id:"conmgNm3",fn:q("mg/Nm³")},{name:"gram per cubic meter (g/m³)",id:"congm3",fn:q("g/m³")},{name:"gram per normal cubic meter (g/Nm³)",id:"congNm3",fn:q("g/Nm³")},{name:"milligrams per decilitre (mg/dL)",id:"conmgdL",fn:q("mg/dL")},{name:"millimoles per litre (mmol/L)",id:"conmmolL",fn:q("mmol/L")}]},{name:"Currency",formats:[{name:"Dollars ($)",id:"currencyUSD",fn:D("$")},{name:"Pounds (£)",id:"currencyGBP",fn:D("£")},{name:"Euro (€)",id:"currencyEUR",fn:D("€")},{name:"Yen (¥)",id:"currencyJPY",fn:D("¥")},{name:"Rubles (₽)",id:"currencyRUB",fn:D("₽")},{name:"Hryvnias (₴)",id:"currencyUAH",fn:D("₴")},{name:"Real (R$)",id:"currencyBRL",fn:D("R$")},{name:"Danish Krone (kr)",id:"currencyDKK",fn:D("kr",!0)},{name:"Icelandic Króna (kr)",id:"currencyISK",fn:D("kr",!0)},{name:"Norwegian Krone (kr)",id:"currencyNOK",fn:D("kr",!0)},{name:"Swedish Krona (kr)",id:"currencySEK",fn:D("kr",!0)},{name:"Czech koruna (czk)",id:"currencyCZK",fn:D("czk")},{name:"Swiss franc (CHF)",id:"currencyCHF",fn:D("CHF")},{name:"Polish Złoty (PLN)",id:"currencyPLN",fn:D("PLN")},{name:"Bitcoin (฿)",id:"currencyBTC",fn:D("฿")},{name:"South African Rand (R)",id:"currencyZAR",fn:D("R")},{name:"Indian Rupee (₹)",id:"currencyINR",fn:D("₹")},{name:"South Korean Won (₩)",id:"currencyKRW",fn:D("₩")}]},{name:"Data (IEC)",formats:[{name:"bits",id:"bits",fn:I("b")},{name:"bytes",id:"bytes",fn:I("B")},{name:"kibibytes",id:"kbytes",fn:I("B",1)},{name:"mebibytes",id:"mbytes",fn:I("B",2)},{name:"gibibytes",id:"gbytes",fn:I("B",3)},{name:"tebibytes",id:"tbytes",fn:I("B",4)},{name:"pebibytes",id:"pbytes",fn:I("B",5)}]},{name:"Data (Metric)",formats:[{name:"bits",id:"decbits",fn:P("b")},{name:"bytes",id:"decbytes",fn:P("B")},{name:"kilobytes",id:"deckbytes",fn:P("B",1)},{name:"megabytes",id:"decmbytes",fn:P("B",2)},{name:"gigabytes",id:"decgbytes",fn:P("B",3)},{name:"terabytes",id:"dectbytes",fn:P("B",4)},{name:"petabytes",id:"decpbytes",fn:P("B",5)}]},{name:"Data Rate",formats:[{name:"packets/sec",id:"pps",fn:P("pps")},{name:"bits/sec",id:"bps",fn:P("bps")},{name:"bytes/sec",id:"Bps",fn:P("Bs")},{name:"kilobytes/sec",id:"KBs",fn:P("Bs",1)},{name:"kilobits/sec",id:"Kbits",fn:P("bps",1)},{name:"megabytes/sec",id:"MBs",fn:P("Bs",2)},{name:"megabits/sec",id:"Mbits",fn:P("bps",2)},{name:"gigabytes/sec",id:"GBs",fn:P("Bs",3)},{name:"gigabits/sec",id:"Gbits",fn:P("bps",3)},{name:"terabytes/sec",id:"TBs",fn:P("Bs",4)},{name:"terabits/sec",id:"Tbits",fn:P("bps",4)},{name:"petabytes/sec",id:"PBs",fn:P("Bs",5)},{name:"petabits/sec",id:"Pbits",fn:P("bps",5)}]},{name:"Date & Time",formats:[{name:"YYYY-MM-DD HH:mm:ss",id:"dateTimeAsIso",fn:j},{name:"MM/DD/YYYY h:mm:ss a",id:"dateTimeAsUS",fn:C},{name:"From Now",id:"dateTimeFromNow",fn:S}]},{name:"Energy",formats:[{name:"Watt (W)",id:"watt",fn:P("W")},{name:"Kilowatt (kW)",id:"kwatt",fn:P("W",1)},{name:"Megawatt (MW)",id:"megwatt",fn:P("W",2)},{name:"Gigawatt (GW)",id:"gwatt",fn:P("W",3)},{name:"Milliwatt (mW)",id:"mwatt",fn:P("W",-1)},{name:"Watt per square meter (W/m²)",id:"Wm2",fn:q("W/m²")},{name:"Volt-ampere (VA)",id:"voltamp",fn:P("VA")},{name:"Kilovolt-ampere (kVA)",id:"kvoltamp",fn:P("VA",1)},{name:"Volt-ampere reactive (var)",id:"voltampreact",fn:P("var")},{name:"Kilovolt-ampere reactive (kvar)",id:"kvoltampreact",fn:P("var",1)},{name:"Watt-hour (Wh)",id:"watth",fn:P("Wh")},{name:"Watt-hour per Kilogram (Wh/kg)",id:"watthperkg",fn:P("Wh/kg")},{name:"Kilowatt-hour (kWh)",id:"kwatth",fn:P("Wh",1)},{name:"Kilowatt-min (kWm)",id:"kwattm",fn:P("W-Min",1)},{name:"Ampere-hour (Ah)",id:"amph",fn:P("Ah")},{name:"Kiloampere-hour (kAh)",id:"kamph",fn:P("Ah",1)},{name:"Milliampere-hour (mAh)",id:"mamph",fn:P("Ah",-1)},{name:"Joule (J)",id:"joule",fn:P("J")},{name:"Electron volt (eV)",id:"ev",fn:P("eV")},{name:"Ampere (A)",id:"amp",fn:P("A")},{name:"Kiloampere (kA)",id:"kamp",fn:P("A",1)},{name:"Milliampere (mA)",id:"mamp",fn:P("A",-1)},{name:"Volt (V)",id:"volt",fn:P("V")},{name:"Kilovolt (kV)",id:"kvolt",fn:P("V",1)},{name:"Millivolt (mV)",id:"mvolt",fn:P("V",-1)},{name:"Decibel-milliwatt (dBm)",id:"dBm",fn:P("dBm")},{name:"Ohm (Ω)",id:"ohm",fn:P("Ω")},{name:"Kiloohm (kΩ)",id:"kohm",fn:P("Ω",1)},{name:"Megaohm (MΩ)",id:"Mohm",fn:P("Ω",2)},{name:"Farad (F)",id:"farad",fn:P("F")},{name:"Microfarad (µF)",id:"µfarad",fn:P("F",-2)},{name:"Nanofarad (nF)",id:"nfarad",fn:P("F",-3)},{name:"Picofarad (pF)",id:"pfarad",fn:P("F",-4)},{name:"Femtofarad (fF)",id:"ffarad",fn:P("F",-5)},{name:"Henry (H)",id:"henry",fn:P("H")},{name:"Millihenry (mH)",id:"mhenry",fn:P("H",-1)},{name:"Microhenry (µH)",id:"µhenry",fn:P("H",-2)},{name:"Lumens (Lm)",id:"lumens",fn:P("Lm")}]},{name:"Flow",formats:[{name:"Gallons/min (gpm)",id:"flowgpm",fn:q("gpm")},{name:"Cubic meters/sec (cms)",id:"flowcms",fn:q("cms")},{name:"Cubic feet/sec (cfs)",id:"flowcfs",fn:q("cfs")},{name:"Cubic feet/min (cfm)",id:"flowcfm",fn:q("cfm")},{name:"Litre/hour",id:"litreh",fn:q("L/h")},{name:"Litre/min (L/min)",id:"flowlpm",fn:q("L/min")},{name:"milliLitre/min (mL/min)",id:"flowmlpm",fn:q("mL/min")},{name:"Lux (lx)",id:"lux",fn:q("lux")}]},{name:"Force",formats:[{name:"Newton-meters (Nm)",id:"forceNm",fn:P("Nm")},{name:"Kilonewton-meters (kNm)",id:"forcekNm",fn:P("Nm",1)},{name:"Newtons (N)",id:"forceN",fn:P("N")},{name:"Kilonewtons (kN)",id:"forcekN",fn:P("N",1)}]},{name:"Hash Rate",formats:[{name:"hashes/sec",id:"Hs",fn:P("H/s")},{name:"kilohashes/sec",id:"KHs",fn:P("H/s",1)},{name:"megahashes/sec",id:"MHs",fn:P("H/s",2)},{name:"gigahashes/sec",id:"GHs",fn:P("H/s",3)},{name:"terahashes/sec",id:"THs",fn:P("H/s",4)},{name:"petahashes/sec",id:"PHs",fn:P("H/s",5)},{name:"exahashes/sec",id:"EHs",fn:P("H/s",6)}]},{name:"Mass",formats:[{name:"milligram (mg)",id:"massmg",fn:P("g",-1)},{name:"gram (g)",id:"massg",fn:P("g")},{name:"kilogram (kg)",id:"masskg",fn:P("g",1)},{name:"metric ton (t)",id:"masst",fn:q("t")}]},{name:"length",formats:[{name:"millimeter (mm)",id:"lengthmm",fn:P("m",-1)},{name:"feet (ft)",id:"lengthft",fn:q("ft")},{name:"meter (m)",id:"lengthm",fn:P("m")},{name:"kilometer (km)",id:"lengthkm",fn:P("m",1)},{name:"mile (mi)",id:"lengthmi",fn:q("mi")}]},{name:"Pressure",formats:[{name:"Millibars",id:"pressurembar",fn:P("bar",-1)},{name:"Bars",id:"pressurebar",fn:P("bar")},{name:"Kilobars",id:"pressurekbar",fn:P("bar",1)},{name:"Hectopascals",id:"pressurehpa",fn:q("hPa")},{name:"Kilopascals",id:"pressurekpa",fn:q("kPa")},{name:"Inches of mercury",id:"pressurehg",fn:q('"Hg')},{name:"PSI",id:"pressurepsi",fn:z(1e3,["psi","ksi","Mpsi"])}]},{name:"Radiation",formats:[{name:"Becquerel (Bq)",id:"radbq",fn:P("Bq")},{name:"curie (Ci)",id:"radci",fn:P("Ci")},{name:"Gray (Gy)",id:"radgy",fn:P("Gy")},{name:"rad",id:"radrad",fn:P("rad")},{name:"Sievert (Sv)",id:"radsv",fn:P("Sv")},{name:"milliSievert (mSv)",id:"radmsv",fn:P("mSv",-1)},{name:"microSievert (µSv)",id:"radusv",fn:P("µSv",-2)},{name:"rem",id:"radrem",fn:P("rem")},{name:"Exposure (C/kg)",id:"radexpckg",fn:P("C/kg")},{name:"roentgen (R)",id:"radr",fn:P("R")},{name:"Sievert/hour (Sv/h)",id:"radsvh",fn:P("Sv/h")},{name:"milliSievert/hour (mSv/h)",id:"radmsvh",fn:P("Sv/h",-1)},{name:"microSievert/hour (µSv/h)",id:"radusvh",fn:P("Sv/h",-2)}]},{name:"Temperature",formats:[{name:"Celsius (°C)",id:"celsius",fn:q("°C")},{name:"Fahrenheit (°F)",id:"fahrenheit",fn:q("°F")},{name:"Kelvin (K)",id:"kelvin",fn:q("K")}]},{name:"Time",formats:[{name:"Hertz (1/s)",id:"hertz",fn:P("Hz")},{name:"nanoseconds (ns)",id:"ns",fn:l},{name:"microseconds (µs)",id:"µs",fn:c},{name:"milliseconds (ms)",id:"ms",fn:u},{name:"seconds (s)",id:"s",fn:p},{name:"minutes (m)",id:"m",fn:f},{name:"hours (h)",id:"h",fn:h},{name:"days (d)",id:"d",fn:m},{name:"duration (ms)",id:"dtdurationms",fn:v},{name:"duration (s)",id:"dtdurations",fn:y},{name:"duration (hh:mm:ss)",id:"dthms",fn:w},{name:"Timeticks (s/100)",id:"timeticks",fn:x},{name:"clock (ms)",id:"clockms",fn:O},{name:"clock (s)",id:"clocks",fn:_}]},{name:"Throughput",formats:[{name:"counts/sec (cps)",id:"cps",fn:G("cps")},{name:"ops/sec (ops)",id:"ops",fn:G("ops")},{name:"requests/sec (rps)",id:"reqps",fn:G("reqps")},{name:"reads/sec (rps)",id:"rps",fn:G("rps")},{name:"writes/sec (wps)",id:"wps",fn:G("wps")},{name:"I/O ops/sec (iops)",id:"iops",fn:G("iops")},{name:"counts/min (cpm)",id:"cpm",fn:G("cpm")},{name:"ops/min (opm)",id:"opm",fn:G("opm")},{name:"reads/min (rpm)",id:"rpm",fn:G("rpm")},{name:"writes/min (wpm)",id:"wpm",fn:G("wpm")}]},{name:"Velocity",formats:[{name:"meters/second (m/s)",id:"velocityms",fn:q("m/s")},{name:"kilometers/hour (km/h)",id:"velocitykmh",fn:q("km/h")},{name:"miles/hour (mph)",id:"velocitymph",fn:q("mph")},{name:"knot (kn)",id:"velocityknot",fn:q("kn")}]},{name:"Volume",formats:[{name:"millilitre (mL)",id:"mlitre",fn:P("L",-1)},{name:"litre (L)",id:"litre",fn:P("L")},{name:"cubic meter",id:"m3",fn:q("m³")},{name:"Normal cubic meter",id:"Nm3",fn:q("Nm³")},{name:"cubic decimeter",id:"dm3",fn:q("dm³")},{name:"gallons",id:"gallons",fn:q("gal")}]}]};function L(e){var t,n;return""+(null!=(t=e.prefix)?t:"")+e.text+(null!=(n=e.suffix)?n:"")}n.d(t,"a",function(){return L}),n.d(t,"h",function(){return B}),n.d(t,"i",function(){return U}),n.d(t,"j",function(){return q}),n.d(t,"f",function(){return z}),n.d(t,"e",function(){return H}),n.d(t,"g",function(){return G}),n.d(t,"b",function(){return Q}),n.d(t,"d",function(){return Y}),n.d(t,"c",function(){return K});var R=[],V={},$=!1;function B(e,t){if(null===e)return"";if(e===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY)return e.toLocaleString();var n=t?Math.pow(10,Math.max(0,t)):1,a=String(Math.round(e*n)/n);if(-1!==a.indexOf("e")||0===e)return a;if(null!=t){var r=a.indexOf("."),i=-1===r?0:a.length-r-1;if(i<t)return(i?a:a+".")+String(n).substr(1,t-i)}return a}function U(e,t,n,a,r){return null==n?{text:B(e,t),suffix:r}:{text:B(e,n+a),suffix:r}}function q(e,t){return function(n,a){if(null===n)return{text:""};var r=B(n,a);return e?t?{text:r,prefix:e}:{text:r,suffix:" "+e}:{text:r}}}function z(e,t){return function(n,a,r){if(null===n)return{text:""};if(n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY||isNaN(n))return{text:n.toLocaleString()};for(var i=0,o=t.length;Math.abs(n)>=e;)if(n/=e,++i>=o)return{text:"NA"};return i>0&&null!=r&&(a=r+3*i),{text:B(n,a),suffix:t[i]}}}function H(e,t){return null==e?{text:""}:{text:e.toLocaleString(void 0,{maximumFractionDigits:t})}}function G(e){var t=z(1e3,["","K","M","B","T"]);return function(n,a,r){if(null===n)return{text:""};var i=t(n,a,r);return i.suffix+=" "+e,i}}function W(){var e,t,n,a;R=F();try{for(var r=Object(i.__values)(R),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var l=(n=void 0,Object(i.__values)(s.formats)),c=l.next();!c.done;c=l.next()){var u=c.value;V[u.id]=u.fn}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}[{from:"farenheit",to:"fahrenheit"}].forEach(function(e){var t=V[e.to];t&&(V[e.from]=t)}),$=!0}function Q(e){$||W();var t=V[e];if(!t&&e){var n=e.indexOf(":");if(n>0){var a=e.substring(0,n),r=e.substring(n+1);if("prefix"===a)return q(r,!0);if("time"===a)return k(r);if("si"===a){var i=function(e){switch(e){case"f":return-5;case"p":return-4;case"n":return-3;case"μ":case"µ":return-2;case"m":return-1;case"":return 0;case"k":return 1;case"M":return 2;case"G":return 3;case"T":return 4;case"P":return 5;case"E":return 6;case"Z":return 7;case"Y":return 8}return 0}(r.charAt(0));return P(0===i?r:r.substring(1),i)}if("count"===a)return G(r);if("currency"===a)return D(r)}return q(e)}return t}function Y(){return $||W(),V}function K(){return $||W(),R.map(function(e){return{text:e.name,submenu:e.formats.map(function(e){return{text:e.name,value:e.id}})}})}},GQ3c:function(e,t,n){"use strict";var a=n("ASW2");n.o(a,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return a.AppNotificationSeverity}),n.o(a,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return a.AppNotificationTimeout}),n.o(a,"DashboardInitPhase")&&n.d(t,"DashboardInitPhase",function(){return a.DashboardInitPhase}),n.o(a,"DashboardRouteInfo")&&n.d(t,"DashboardRouteInfo",function(){return a.DashboardRouteInfo}),n.o(a,"ExploreMode")&&n.d(t,"ExploreMode",function(){return a.ExploreMode}),n.o(a,"KIOSK_MODE_TV")&&n.d(t,"KIOSK_MODE_TV",function(){return a.KIOSK_MODE_TV}),n.o(a,"OrgRole")&&n.d(t,"OrgRole",function(){return a.OrgRole}),n.o(a,"TeamPermissionLevel")&&n.d(t,"TeamPermissionLevel",function(){return a.TeamPermissionLevel}),n.o(a,"teamsPermissionLevels")&&n.d(t,"teamsPermissionLevels",function(){return a.teamsPermissionLevels});var r=n("HFoM");n.o(r,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return r.AppNotificationSeverity}),n.o(r,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return r.AppNotificationTimeout}),n.o(r,"DashboardInitPhase")&&n.d(t,"DashboardInitPhase",function(){return r.DashboardInitPhase}),n.o(r,"DashboardRouteInfo")&&n.d(t,"DashboardRouteInfo",function(){return r.DashboardRouteInfo}),n.o(r,"ExploreMode")&&n.d(t,"ExploreMode",function(){return r.ExploreMode}),n.o(r,"KIOSK_MODE_TV")&&n.d(t,"KIOSK_MODE_TV",function(){return r.KIOSK_MODE_TV}),n.o(r,"OrgRole")&&n.d(t,"OrgRole",function(){return r.OrgRole}),n.o(r,"TeamPermissionLevel")&&n.d(t,"TeamPermissionLevel",function(){return r.TeamPermissionLevel}),n.o(r,"teamsPermissionLevels")&&n.d(t,"teamsPermissionLevels",function(){return r.teamsPermissionLevels});var i=n("hU0f");n.o(i,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return i.AppNotificationSeverity}),n.o(i,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return i.AppNotificationTimeout}),n.o(i,"DashboardInitPhase")&&n.d(t,"DashboardInitPhase",function(){return i.DashboardInitPhase}),n.o(i,"DashboardRouteInfo")&&n.d(t,"DashboardRouteInfo",function(){return i.DashboardRouteInfo}),n.o(i,"ExploreMode")&&n.d(t,"ExploreMode",function(){return i.ExploreMode}),n.o(i,"KIOSK_MODE_TV")&&n.d(t,"KIOSK_MODE_TV",function(){return i.KIOSK_MODE_TV}),n.o(i,"OrgRole")&&n.d(t,"OrgRole",function(){return i.OrgRole}),n.o(i,"TeamPermissionLevel")&&n.d(t,"TeamPermissionLevel",function(){return i.TeamPermissionLevel}),n.o(i,"teamsPermissionLevels")&&n.d(t,"teamsPermissionLevels",function(){return i.teamsPermissionLevels});var o=n("LUja");n.o(o,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return o.AppNotificationSeverity}),n.o(o,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return o.AppNotificationTimeout}),n.o(o,"DashboardInitPhase")&&n.d(t,"DashboardInitPhase",function(){return o.DashboardInitPhase}),n.o(o,"DashboardRouteInfo")&&n.d(t,"DashboardRouteInfo",function(){return o.DashboardRouteInfo}),n.o(o,"ExploreMode")&&n.d(t,"ExploreMode",function(){return o.ExploreMode}),n.o(o,"KIOSK_MODE_TV")&&n.d(t,"KIOSK_MODE_TV",function(){return o.KIOSK_MODE_TV}),n.o(o,"OrgRole")&&n.d(t,"OrgRole",function(){return o.OrgRole}),n.o(o,"TeamPermissionLevel")&&n.d(t,"TeamPermissionLevel",function(){return o.TeamPermissionLevel}),n.o(o,"teamsPermissionLevels")&&n.d(t,"teamsPermissionLevels",function(){return o.teamsPermissionLevels});var s=n("2L+O");n.d(t,"DashboardInitPhase",function(){return s.a}),n.d(t,"DashboardRouteInfo",function(){return s.b}),n.d(t,"KIOSK_MODE_TV",function(){return s.c});var l=n("9iwZ");n.d(t,"OrgRole",function(){return l.b}),n.d(t,"TeamPermissionLevel",function(){return l.d}),n.d(t,"teamsPermissionLevels",function(){return l.g});var c=n("tOGo");n.o(c,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return c.AppNotificationSeverity}),n.o(c,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return c.AppNotificationTimeout}),n.o(c,"ExploreMode")&&n.d(t,"ExploreMode",function(){return c.ExploreMode});var u=n("nHyz");n.o(u,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return u.AppNotificationSeverity}),n.o(u,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return u.AppNotificationTimeout}),n.o(u,"ExploreMode")&&n.d(t,"ExploreMode",function(){return u.ExploreMode});var d=n("SZug");n.o(d,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return d.AppNotificationSeverity}),n.o(d,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return d.AppNotificationTimeout}),n.o(d,"ExploreMode")&&n.d(t,"ExploreMode",function(){return d.ExploreMode});var p=n("HXnQ");n.o(p,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return p.AppNotificationSeverity}),n.o(p,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return p.AppNotificationTimeout}),n.o(p,"ExploreMode")&&n.d(t,"ExploreMode",function(){return p.ExploreMode});var f=n("o85q");n.o(f,"AppNotificationSeverity")&&n.d(t,"AppNotificationSeverity",function(){return f.AppNotificationSeverity}),n.o(f,"AppNotificationTimeout")&&n.d(t,"AppNotificationTimeout",function(){return f.AppNotificationTimeout}),n.o(f,"ExploreMode")&&n.d(t,"ExploreMode",function(){return f.ExploreMode});var h=n("TKrP");n.d(t,"AppNotificationSeverity",function(){return h.a}),n.d(t,"AppNotificationTimeout",function(){return h.b});n("2l57");var m=n("sBLX");n.d(t,"ExploreMode",function(){return m.b});n("PGgk"),n("OQpy"),n("KBRh"),n("94Nu");var g=n("xAj+");n.d(t,"CoreEvents",function(){return g})},Gj0f:function(e,t,n){"use strict";n.r(t);var a=n("sjC4");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var i=n("0Rz9");for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n("2r/H");n.d(t,"CompletionItemKind",function(){return o.a})},GkHB:function(e,t,n){"use strict";n.d(t,"d",function(){return y}),n.d(t,"b",function(){return x}),n.d(t,"a",function(){return O}),n.d(t,"e",function(){return k}),n.d(t,"c",function(){return j});var a,r=n("mrSG"),i=n("LvDl"),o=n.n(i),s=n("5kRJ"),l=n("txxJ"),c=n("0Mjz"),u=n("VX0D"),d=n("ZFWI"),p=n("UIT+"),f=n("kDLi"),h=n("Obii"),m=[{value:""+f.DataLinkBuiltInVars.keepTime,label:"Time range",documentation:"Adds current time range",origin:f.VariableOrigin.BuiltIn},{value:""+f.DataLinkBuiltInVars.timeRangeFrom,label:"Time range: from",documentation:"Adds current time range's from value",origin:f.VariableOrigin.BuiltIn},{value:""+f.DataLinkBuiltInVars.timeRangeTo,label:"Time range: to",documentation:"Adds current time range's to value",origin:f.VariableOrigin.BuiltIn}],g=[{value:""+f.DataLinkBuiltInVars.seriesName,label:"Name",documentation:"Name of the series",origin:f.VariableOrigin.Series}],b=[{value:""+f.DataLinkBuiltInVars.valueNumeric,label:"Numeric",documentation:"Numeric representation of selected value",origin:f.VariableOrigin.Value},{value:""+f.DataLinkBuiltInVars.valueText,label:"Text",documentation:"Text representation of selected value",origin:f.VariableOrigin.Value},{value:""+f.DataLinkBuiltInVars.valueRaw,label:"Raw",documentation:"Raw value",origin:f.VariableOrigin.Value}],v=function(e){return e.indexOf(".")>-1?'["'+e+'"]':"."+e},y=function(){return Object(r.__spread)(s.b.variables.map(function(e){return{value:e.name,label:e.name,origin:f.VariableOrigin.Template}}),[{value:""+f.DataLinkBuiltInVars.includeVars,label:"All variables",documentation:"Adds current variables",origin:f.VariableOrigin.Template}],m)},w=function(e){var t,n,a,i,s,l,c=[];try{for(var u=Object(r.__values)(e),d=u.next();!d.done;d=u.next()){var p=d.value;try{for(var h=(a=void 0,Object(r.__values)(p.fields)),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.labels)try{for(var b=(s=void 0,Object(r.__values)(Object.keys(g.labels))),y=b.next();!y.done;y=b.next()){var w=y.value;c.push(w)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}}}catch(e){a={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var x=o.a.chain(c).flatten().uniq().value();return Object(r.__spread)([{value:""+f.DataLinkBuiltInVars.fieldName,label:"Name",documentation:"Field name of the clicked datapoint (in ms epoch)",origin:f.VariableOrigin.Field}],x.map(function(e){return{value:"__field.labels"+v(e),label:"labels."+e,documentation:e+" label value",origin:f.VariableOrigin.Field}}))},x=function(e){var t={value:""+f.DataLinkBuiltInVars.valueTime,label:"Time",documentation:"Time value of the clicked datapoint (in ms epoch)",origin:f.VariableOrigin.Value};return Object(r.__spread)(g,w(e),b,[t],function(e){var t,n,a,i,o=void 0,s=void 0,l=[],c={};try{for(var u=Object(r.__values)(e),d=u.next();!d.done;d=u.next()){var p=d.value;try{for(var m=(a=void 0,Object(r.__values)(p.fields)),g=m.next();!g.done;g=m.next()){var b=g.value;c[b.name]||(l.push({value:"__data.fields["+b.name+"]",label:""+b.name,documentation:"Formatted value for "+b.name+" on the same row",origin:f.VariableOrigin.Fields}),c[b.name]=!0,o||b.type!==h.FieldType.number||(o=b),!s&&b.config.title&&b.config.title!==b.name&&(s=b))}}catch(e){a={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return l.length&&l.push({value:"__data.fields[0]",label:"Select by index",documentation:"Enter the field order",origin:f.VariableOrigin.Fields}),o&&(l.push({value:"__data.fields["+o.name+"].numeric",label:"Show numeric value",documentation:"the numeric field value",origin:f.VariableOrigin.Fields}),l.push({value:"__data.fields["+o.name+"].text",label:"Show text value",documentation:"the text value",origin:f.VariableOrigin.Fields})),s&&l.push({value:"__data.fields["+s.config.title+"]",label:"Select by title",documentation:"Use the title to pick the field",origin:f.VariableOrigin.Fields}),l}(e),y())},O=function(e){var t=w(e),n={value:""+f.DataLinkBuiltInVars.valueCalc,label:"Calculation name",documentation:"Name of the calculation the value is a result of",origin:f.VariableOrigin.Value};return Object(r.__spread)(g,t,b,[n],y())},_=function(){function e(e,t){var n=this;this.templateSrv=e,this.timeSrv=t,this.getDataLinkUIModel=function(e,t,a){var i,o={},s=Object(c.c)(n.timeSrv.timeRangeForUrl()),l=e.url;e.onBuildUrl&&(l=e.onBuildUrl({origin:a,scopedVars:t}));var h=void 0;e.onClick&&(h=function(n){e.onClick({origin:a,scopedVars:t,e:n})});var m={href:p.a.assureBaseUrl(l.replace(/\s|\n/g,"")),title:n.templateSrv.replace(e.title||"",t),target:e.targetBlank?"_blank":"_self",origin:a,onClick:h};n.templateSrv.fillVariableValuesForUrl(o,t);var g=Object(c.c)(o);return m.href=n.templateSrv.replace(m.href,Object(r.__assign)(Object(r.__assign)({},t),((i={})[f.DataLinkBuiltInVars.keepTime]={text:s,value:s},i[f.DataLinkBuiltInVars.includeVars]={text:g,value:g},i))),m.href=Object(d.c)().disableSanitizeHtml?m.href:Object(u.d)(m.href),m}}return e.$inject=["templateSrv","timeSrv"],e.prototype.getLinkUrl=function(e){var t=p.a.assureBaseUrl(this.templateSrv.replace(e.url||"")),n={};if(e.keepTime){var a=this.timeSrv.timeRangeForUrl();n.from=a.from,n.to=a.to}return e.includeVars&&this.templateSrv.fillVariableValuesForUrl(n),t=Object(c.a)(t,Object(c.c)(n)),Object(d.c)().disableSanitizeHtml?t:Object(u.d)(t)},e.prototype.getAnchorInfo=function(e){var t={};return t.href=this.getLinkUrl(e),t.title=this.templateSrv.replace(e.title||""),t},e.prototype.getPanelLinkAnchorInfo=function(e,t){return Object(h.deprecationWarning)("link_srv.ts","getPanelLinkAnchorInfo","getDataLinkUIModel"),this.getDataLinkUIModel(e,t,{})},e}();function k(e){a=e}function j(){return a}l.c.service("linkSrv",_)},"Gz/h":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l});var a,r=n("mrSG"),i=n("i7Pf"),o=Object(i.c)({name:"apiKeys",initialState:{keys:[],searchQuery:"",hasFetched:!1,includeExpired:!1},reducers:{apiKeysLoaded:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{hasFetched:!0,keys:t.payload})},setSearchQuery:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{searchQuery:t.payload})}}}),s=(a=o.actions).setSearchQuery,l=a.apiKeysLoaded,c=o.reducer;t.b={apiKeys:c}},HFoM:function(e,t){},HJRA:function(e,t,n){"use strict";l.$inject=["$compile"],c.$inject=["$compile"],u.$inject=["$compile"],d.$inject=["$compile","$sce","templateSrv"],p.$inject=["uiSegmentSrv"],y.$inject=["$compile"],w.$inject=["$compile"],x.$inject=["$compile"],O.$inject=["$compile","$interpolate"],_.$inject=["$parse","$compile","$timeout"],U.$inject=["$compile","$window","$timeout","$rootScope"],q.$inject=["$animate"],Ae.$inject=["$rootScope"],Ve.$inject=["templateSrv"],Be.$inject=["templateSrv"],et.$inject=["googleAnalyticsSrv"],tt.$inject=["$compile","$rootScope","$timeout"],nt.$inject=["$sce","templateSrv"],lt.$inject=["templateSrv"];var a=n("LvDl"),r=n.n(a),i=n("+2Rf"),o=n.n(i),s=n("txxJ");function l(e){return{scope:{menuItems:"=dropdownTypeahead",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:function(t,n,a){var i=o()('<input type="text" class="gf-form-input input-medium tight-form-input" spellcheck="false" style="display:none"></input>'),s=o()('<a class="gf-form-label tight-form-func dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" ><i class="fa fa-plus"></i></a>');i.appendTo(n),s.appendTo(n),a.linkText&&s.html(a.linkText),a.ngModel&&t.$watch("model",function(e){r.a.each(t.menuItems,function(t){r.a.each(t.submenu,function(t){t.value===e&&s.html(t.text)})})});var l=r.a.reduce(t.menuItems,function(e,t,n){return t.submenu?r.a.each(t.submenu,function(a,r){a.click="menuItemSelected("+n+","+r+")",e.push(t.text+" "+a.text)}):(t.click="menuItemSelected("+n+")",e.push(t.text)),e},[]);t.menuItemSelected=function(e,a){var r=t.menuItems[e],o={$item:r};r.submenu&&void 0!==a&&(o.$subItem=r.submenu[a]),t.dropdownTypeaheadOnSelect(o),i.hide(),i.val(""),s.show(),s.focus(),n.removeClass("open")},i.attr("data-provide","typeahead"),i.typeahead({source:l,minLength:1,items:10,updater:function(e){var n={};return r.a.each(t.menuItems,function(t){r.a.each(t.submenu,function(a){e===t.text+" "+a.text&&(n.$subItem=a,n.$item=t)})}),n.$item&&t.$apply(function(){t.dropdownTypeaheadOnSelect(n)}),i.trigger("blur"),""}}),s.click(function(){s.hide(),i.show(),i.focus()}),i.keyup(function(){n.toggleClass("open",""===i.val())}),n.mousedown(function(e){e.preventDefault()}),i.blur(function(){i.hide(),i.val(""),s.show(),s.focus(),setTimeout(function(){n.removeClass("open")},200)}),e(n.contents())(t)}}}function c(e){return{scope:{menuItems:"=dropdownTypeahead2",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel",buttonTemplateClass:"@"},link:function(t,n,a){var i=o()('<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>');t.buttonTemplateClass||(t.buttonTemplateClass="gf-form-input");var s=o()('<a class="{{buttonTemplateClass}} dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" ><i class="fa fa-plus"></i></a>'),l={blur:null};i.appendTo(n),s.appendTo(n),a.linkText&&s.html(a.linkText),a.ngModel&&t.$watch("model",function(e){r.a.each(t.menuItems,function(t){r.a.each(t.submenu,function(t){t.value===e&&s.html(t.text)})})});var c=r.a.reduce(t.menuItems,function(e,t,n){return t.submenu?r.a.each(t.submenu,function(a,r){a.click="menuItemSelected("+n+","+r+")",e.push(t.text+" "+a.text)}):(t.click="menuItemSelected("+n+")",e.push(t.text)),e},[]),u=function(){i.hide(),i.val(""),s.show(),s.focus(),n.removeClass("open")};t.menuItemSelected=function(e,n){var a=t.menuItems[e],r={$item:a};a.submenu&&void 0!==n&&(r.$subItem=a.submenu[n]),t.dropdownTypeaheadOnSelect(r),u()},i.attr("data-provide","typeahead"),i.typeahead({source:c,minLength:1,items:10,updater:function(e){var n={};return r.a.each(t.menuItems,function(t){r.a.each(t.submenu,function(a){e===t.text+" "+a.text&&(n.$subItem=a,n.$item=t)})}),n.$item&&t.$apply(function(){t.dropdownTypeaheadOnSelect(n)}),i.trigger("blur"),""}}),s.click(function(){s.hide(),i.show(),i.focus()}),i.keyup(function(){n.toggleClass("open",""===i.val())}),n.mousedown(function(e){e.preventDefault(),l.blur=null}),i.blur(function(){l.blur=setTimeout(function(){u()},1)}),e(n.contents())(t)}}}function u(e){return{link:function(e,t){var n=t[0],a=function(){var e=new Event("change");return n.dispatchEvent(e)},r=function(e){switch(e.animationName){case"onAutoFillStart":case"onAutoFillCancel":return a()}return null};n.addEventListener("animationstart",r),e.$on("$destroy",function(){n.removeEventListener("animationstart",r)})}}}function d(e,t,n){return{scope:{segment:"=",getOptions:"&",onChange:"&",debounce:"@"},link:function(a,i){var s=o()('<input type="text" data-provide="typeahead"  class="gf-form-input input-medium" spellcheck="false" style="display:none"></input>'),l=a.segment,c=o()(l.selectMode?'<a class="gf-form-input gf-form-input--dropdown" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>':'<a class="gf-form-label" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>'),u=null,d=null,p=!0,f=a.debounce;s.appendTo(i),c.appendTo(i),a.updateVariableValue=function(e){""!==e&&l.value!==e&&a.$apply(function(){var i=r.a.find(a.altSegments,{value:e});i?(l.value=i.value,l.html=i.html||t.trustAsHtml(n.highlightVariablesAsHtml(i.value)),l.fake=!1,l.expandable=i.expandable,i.type&&(l.type=i.type)):"false"!==l.custom&&(l.value=e,l.html=t.trustAsHtml(n.highlightVariablesAsHtml(e)),l.expandable=!0,l.fake=!1),a.onChange()})},a.switchToLink=function(e){p&&!e||(clearTimeout(d),d=null,p=!0,s.hide(),c.show(),a.updateVariableValue(s.val()))},a.inputBlur=function(){d=setTimeout(a.switchToLink,200)},a.source=function(e,t){a.$apply(function(){a.getOptions({$query:e}).then(function(e){a.altSegments=e,u=r.a.map(a.altSegments,function(e){return r.a.escape(e.value)}),"false"!==l.custom&&(l.fake||-1!==r.a.indexOf(u,l.value)||u.unshift(r.a.escape(l.value))),t(u)})})},a.updater=function(e){return(e=r.a.unescape(e))===l.value?(clearTimeout(d),s.focus(),e):(s.val(e),a.switchToLink(!0),e)},a.matcher=function(e){if(p)return!1;var t=this.query;"/"===t[0]&&(t=t.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1));try{return e.toLowerCase().match(t.toLowerCase())}catch(e){return!1}},s.attr("data-provide","typeahead"),s.typeahead({source:a.source,minLength:0,items:1e4,updater:a.updater,matcher:a.matcher});var h=s.data("typeahead");h.lookup=function(){this.query=this.$element.val()||"";var e=this.source(this.query,o.a.proxy(this.process,this));return e?this.process(e):e},f&&(h.lookup=r.a.debounce(h.lookup,500,{leading:!0})),c.keydown(function(e){40!==e.keyCode&&13!==e.keyCode||c.click()}),c.click(function(){u=null,s.css("width",Math.max(c.width(),80)+16+"px"),c.hide(),s.show(),s.focus(),p=!1;var e=s.data("typeahead");e&&(s.val(""),e.lookup())}),s.blur(a.inputBlur),e(i.contents())(a)}}}function p(e){return{template:'<metric-segment segment="segment" get-options="getOptionsInternal()" on-change="onSegmentChange()"></metric-segment>',restrict:"E",scope:{property:"=",options:"=",getOptions:"&",onChange:"&"},link:{pre:function(t,n,a){var i;t.valueToSegment=function(n){var i=r.a.find(t.options,{value:n}),o={cssClass:a.cssClass,custom:a.custom,value:i?i.text:n,selectMode:a.selectMode};return e.newSegment(o)},t.getOptionsInternal=function(){return t.options?(i=t.options,Promise.resolve(r.a.map(t.options,function(e){return{value:e.text}}))):t.getOptions().then(function(e){return i=e,r.a.map(e,function(e){return e.html?e:{value:e.text}})})},t.onSegmentChange=function(){if(i){var e=r.a.find(i,{text:t.segment.value});e&&e.value!==t.property?t.property=e.value:"false"!==a.custom&&(t.property=t.segment.value)}else t.property=t.segment.value;t.$$postDigest(function(){t.$apply(function(){t.onChange()})})},t.segment=t.valueToSegment(t.property)}}}}s.c.directive("dropdownTypeahead",l),s.c.directive("dropdownTypeahead2",c),s.c.directive("autofillEventFix",u),s.c.directive("metricSegment",d),s.c.directive("metricSegmentModel",p);var f=n("KHwQ"),h=n.n(f),m=n("sxGJ"),g=n.n(m),b=n("PbtU"),v=n("Obii");function y(e){return{restrict:"E",link:function(t,n,a){var r='<i class="grafana-tip fa fa-'+(a.icon||"question-circle")+'" bs-tooltip="\''+b.a.addslashes(n.text())+"'\"></i>";r=r.replace(/{/g,"\\{").replace(/}/g,"\\}"),n.replaceWith(e(h.a.element(r))(t))}}}function w(e){return{restrict:"A",link:function(t,n,a){t.$watch(function(e){return e.$eval(a.compile)},function(a){n.html(a),e(n.contents())(t)})}}}function x(e){return{restrict:"E",link:function(t,n,a){var r=a.change?' ng-change="'+a.change+'"':"",i=a.tip?" <tip>"+a.tip+"</tip>":"",o='<div class="editor-option gf-form-checkbox text-center"'+(a.showIf?' ng-show="'+a.showIf+'" ':"")+'> <label for="'+a.model+'" class="small">'+a.text+i+'</label><input class="cr1" id="'+a.model+'" type="checkbox"        ng-model="'+a.model+'"'+r+'       ng-checked="'+a.model+'"></input> <label for="'+a.model+'" class="cr1"></label>';n.replaceWith(e(h.a.element(o))(t))}}}function O(e,t){return{restrict:"E",link:function(n,a,r){var i=t(r.text)(n),o=t(r.model)(n),s=r.change?' ng-change="'+r.change+'"':"",l=r.tip?" <tip>"+r.tip+"</tip>":"",c='<label for="'+n.$id+o+'" class="checkbox-label">'+i+l+"</label>",u='<input class="cr1" id="'+n.$id+o+'" type="checkbox"        ng-model="'+o+'"'+s+'       ng-checked="'+o+'"></input> <label for="'+n.$id+o+'" class="cr1"></label>';u+=c,a.addClass("gf-form-checkbox"),a.html(e(h.a.element(u))(n))}}}function _(e,t,n){return{restrict:"EA",scope:!0,link:function(a,r,i){var o=e(i.gfDropdown)(a);n(function(){var e=r.data("placement");h.a.element(function e(t,n){for(var a=['<ul class="dropdown-menu '+("top"===n?"dropup":"")+'" role="menu" aria-labelledby="drop1">',"</ul>"],r=0;r<t.length;r++){var i=t[r];if(i.divider)a.splice(r+1,0,'<li class="divider"></li>');else{var o="<li"+(i.submenu&&i.submenu.length?' class="dropdown-submenu"':"")+'><a tabindex="-1" ng-href="'+(i.href||"")+'"'+(i.click?' ng-click="'+i.click+'"':"")+(i.target?' target="'+i.target+'"':"")+(i.method?' data-method="'+i.method+'"':"")+">"+(i.text||"")+"</a>";i.submenu&&i.submenu.length&&(o+=e(i.submenu).join("\n")),o+="</li>",a.splice(r+1,0,o)}}return a}(o,e).join("")).insertAfter(r),t(r.next("ul.dropdown-menu"))(a)}),r.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}s.c.directive("tip",y),s.c.directive("clipboardButton",function(){return{scope:{getText:"&clipboardButton"},link:function(e,t){e.clipboard=new g.a(t[0],{text:function(){return e.getText()}}),e.clipboard.on("success",function(){xe.b.emit(v.AppEvents.alertSuccess,["Content copied to clipboard"])}),e.$on("$destroy",function(){e.clipboard&&e.clipboard.destroy()})}}}),s.c.directive("compile",w),s.c.directive("watchChange",function(){return{scope:{onchange:"&watchChange"},link:function(e,t){t.on("input",function(){e.$apply(function(){e.onchange({inputValue:t.val()})})})}}}),s.c.directive("editorOptBool",x),s.c.directive("editorCheckbox",O),s.c.directive("gfDropdown",_),s.c.directive("ngModelOnblur",function(){return{restrict:"A",priority:1,require:"ngModel",link:function(e,t,n,a){"radio"!==n.type&&"checkbox"!==n.type&&(t.off("input keydown change"),t.bind("blur",function(){e.$apply(function(){a.$setViewValue(t.val())})}))}}}),s.c.directive("emptyToNull",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){a.$parsers.push(function(e){return""===e?null:e})}}}),s.c.directive("validTimeSpan",function(){return{require:"ngModel",link:function(e,t,n,a){a.$validators.integer=function(e,t){return!!a.$isEmpty(e)||0===t.indexOf("$")||0===t.indexOf("+$")||!0!==v.rangeUtil.describeTextRange(t).invalid}}}});var k=n("kDLi");n("eQJK");function j(e,t){var n=Object(k.getTagColorsFromName)(e),a=n.color,r=n.borderColor;t.css("background-color",a),t.css("border-color",r)}s.c.directive("tagColorFromName",function(){return{scope:{tagColorFromName:"="},link:function(e,t){j(e.tagColorFromName,t)}}}),s.c.directive("bootstrapTagsinput",function(){function e(e,t){if(t)return h.a.isFunction(e.$parent[t])?e.$parent[t]:function(e){return e[t]}}return{restrict:"EA",scope:{model:"=ngModel",onTagsUpdated:"&"},template:"<select multiple></select>",replace:!1,link:function(t,n,a){var r=this;h.a.isArray(t.model)||(t.model=[]);var i=o()("select",n);a.placeholder&&i.attr("placeholder",a.placeholder),i.tagsinput({typeahead:{source:h.a.isFunction(t.$parent[a.typeaheadSource])?t.$parent[a.typeaheadSource]:null},widthClass:a.widthClass,itemValue:e(t,a.itemvalue),itemText:e(t,a.itemtext),tagClass:h.a.isFunction(t.$parent[a.tagclass])?t.$parent[a.tagclass]:function(){return a.tagclass}}),i.on("itemAdded",function(e){-1===t.model.indexOf(e.item)&&(t.model.push(e.item),t.onTagsUpdated&&t.onTagsUpdated());var n=i.next().children("span").filter(function(){return o()(r).text()===e.item});j(e.item,n)}),i.on("itemRemoved",function(e){var n=t.model.indexOf(e.item);-1!==n&&(t.model.splice(n,1),t.onTagsUpdated&&t.onTagsUpdated())}),t.$watch("model",function(){h.a.isArray(t.model)||(t.model=[]),i.tagsinput("removeAll");for(var e=0;e<t.model.length;e++)i.tagsinput("add",t.model[e])},!0)}}});var C=n("mrSG"),S=n("sEfC"),E=n.n(S),T=n("xkGU"),M=n.n(T),A=n("k4Da"),N=n.n(A),D=n("J2m7"),I=n.n(D),P=n("uoTU"),F=n.n(P),L=n("3WF5"),R=n.n(L),V=n("1gCF"),$=n("4qJB"),B=function(){function e(e){this.$scope=e,this.queryHasSearchFilter=!!this.variable&&Object($.e)(this.variable.query),this.debouncedQueryChanged=E()(this.queryChanged.bind(this),200),this.selectors=V.a.pages.Dashboard.SubMenu.selectors}return e.$inject=["$scope"],e.prototype.show=function(){var e=this;this.oldVariableText=this.variable.current.text,this.highlightIndex=-1,this.options=this.variable.options,this.selectedValues=N()(this.options,{selected:!0}),this.tags=R()(this.variable.tags,function(t){var n={text:t,selected:!1};return M()(e.variable.current.tags,function(e){e.text===t&&(n=e)}),n});var t=this.queryHasSearchFilter&&this.search&&this.search.query?this.search.query:"";this.search={query:t,options:this.options.slice(0,Math.min(this.options.length,1e3))},this.dropdownVisible=!0},e.prototype.updateLinkText=function(){var e=this.variable.current;if(e.tags&&e.tags.length){var t=N()(this.variable.options,function(t){if(!t.selected)return!1;for(var n=0;n<e.tags.length;n++){var a=e.tags[n];if(-1!==F()(a.values,t.value))return!1}return!0}),n=R()(t,"text");this.linkText=n.join(" + "),this.linkText.length>0&&(this.linkText+=" + ")}else this.linkText=this.variable.current.text},e.prototype.clearSelections=function(){this.selectedValues=N()(this.options,{selected:!0}),this.selectedValues.length?M()(this.options,function(e){e.selected=!1}):M()(this.search.options,function(e){e.selected=!0}),this.selectionsChanged(!1)},e.prototype.selectTag=function(e){var t=this;return e.selected=!e.selected,(e.values?Promise.resolve(e.values):this.variable.getValuesForTag(e.text)).then(function(n){e.values=n,e.valuesText=n.join(" + "),M()(t.options,function(t){-1!==F()(e.values,t.value)&&(t.selected=e.selected)}),t.selectionsChanged(!1)})},e.prototype.keyDown=function(e){27===e.keyCode&&this.hide(),40===e.keyCode&&this.moveHighlight(1),38===e.keyCode&&this.moveHighlight(-1),13===e.keyCode&&(0===this.search.options.length?this.commitChanges():this.selectValue(this.search.options[this.highlightIndex],{},!0)),32===e.keyCode&&this.selectValue(this.search.options[this.highlightIndex],{},!1)},e.prototype.moveHighlight=function(e){this.highlightIndex=(this.highlightIndex+e)%this.search.options.length},e.prototype.selectValue=function(e,t,n){var a=this;if(e){e.selected=!this.variable.multi||!e.selected;var r=function(t){M()(a.options,function(n){e!==n&&(n.selected=t)})};(n=n||!1)&&(e.selected=!0),"All"===e.text?(this.search.query="",r(!1),n=!0):this.variable.multi?(t.ctrlKey||t.metaKey||t.shiftKey)&&(n=!0,r(!1)):(r(!1),n=!0),this.selectionsChanged(n)}},e.prototype.selectionsChanged=function(e){var t=this;this.selectedValues=N()(this.options,{selected:!0}),this.selectedValues.length>1&&"All"===this.selectedValues[0].text&&(this.selectedValues[0].selected=!1,this.selectedValues=this.selectedValues.slice(1,this.selectedValues.length)),M()(this.tags,function(e){e.selected&&M()(e.values,function(n){I()(t.selectedValues,{value:n})||(e.selected=!1)})}),this.selectedTags=N()(this.tags,{selected:!0}),this.variable.current.value=R()(this.selectedValues,"value"),this.variable.current.text=R()(this.selectedValues,"text").join(" + "),this.variable.current.tags=this.selectedTags,this.variable.multi||(this.variable.current.value=this.selectedValues[0].value),e&&this.commitChanges()},e.prototype.commitChanges=function(){0===this.search.options.length&&this.search.query.length>0?this.variable.current={text:this.search.query,value:this.search.query}:0===this.selectedValues.length&&(this.options[0].selected=!0,this.selectionsChanged(!1)),this.dropdownVisible=!1,this.updateLinkText(),this.queryHasSearchFilter&&this.updateLazyLoadedOptions(),this.variable.current.text!==this.oldVariableText&&this.onUpdated()},e.prototype.queryChanged=function(){return Object(C.__awaiter)(this,void 0,void 0,function(){var e,t=this;return Object(C.__generator)(this,function(n){switch(n.label){case 0:return this.queryHasSearchFilter?[4,this.updateLazyLoadedOptions()]:[3,2];case 1:return n.sent(),[2];case 2:return e=N()(this.options,function(e){return-1!==e.text.toLowerCase().indexOf(t.search.query.toLowerCase())}),this.updateUIBoundOptions(this.$scope,e),[2]}})})},e.prototype.init=function(){this.selectedTags=this.variable.current.tags||[],this.updateLinkText()},e.prototype.updateLazyLoadedOptions=function(){return Object(C.__awaiter)(this,void 0,void 0,function(){var e;return Object(C.__generator)(this,function(t){switch(t.label){case 0:return e=this,[4,this.lazyLoadOptions(this.search.query)];case 1:return e.options=t.sent(),this.updateUIBoundOptions(this.$scope,this.options),[2]}})})},e.prototype.lazyLoadOptions=function(e){return Object(C.__awaiter)(this,void 0,Promise,function(){return Object(C.__generator)(this,function(t){switch(t.label){case 0:return[4,this.variable.updateOptions(e)];case 1:return t.sent(),[2,this.variable.options]}})})},e.prototype.updateUIBoundOptions=function(e,t){this.highlightIndex=0,this.search.options=t.slice(0,Math.min(t.length,1e3)),e.$apply()},e}();function U(e,t,n,a){return{scope:{dashboard:"=",variable:"=",onUpdated:"&"},templateUrl:"public/app/partials/valueSelectDropdown.html",controller:"ValueSelectDropdownCtrl",controllerAs:"vm",bindToController:!0,link:function(e,a){var r=h.a.element(t.document.body),i=a.find(".variable-value-link"),o=a.find("input");function s(t){0===a.has(t.target).length&&e.$apply(function(){e.vm.commitChanges()})}e.$watch("vm.dropdownVisible",function(e){e?(o.css("width",Math.max(i.width(),80)+"px"),o.show(),i.hide(),o.focus(),n(function(){r.on("click",s)},0,!1)):(o.hide(),i.show(),r.off("click",s))}),e.vm.dashboard.on("template-variable-value-updated",function(){e.vm.updateLinkText()},e),e.vm.init()}}}function q(e){return{multiElement:!0,terminal:!0,transclude:!0,priority:600,restrict:"E",link:function(t,n,a,r,i){var s,l,c;function u(){c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=function(e){var t,n=e[0],a=e[e.length-1];n=n.nextSibling;for(var r=1;n!==a&&n;r++)(t||e[r]!==n)&&(t||(t=o()([].slice.call(e,0,r))),t.push(n)),n=n.nextSibling;return t||e}(s.clone),e.leave(c).then(function(){c=null}),s=null)}t.$watch(a.property,function(t,r){l&&t!==r&&u(),l||!t&&!a.showNull?u():i(function(t,a){l=a,t[t.length++]=document.createComment(" end rebuild on change "),s={clone:t},e.enter(t,n.parent(),n)})})}}}s.c.controller("ValueSelectDropdownCtrl",B),s.c.directive("valueSelectDropdown",U),s.c.directive("rebuildOnChange",q),s.c.directive("giveFocus",function(){return function(e,t,n){t.click(function(e){e.stopPropagation()}),e.$watch(n.giveFocus,function(e){e&&setTimeout(function(){t.focus();var e=t[0];if(e.setSelectionRange){var n=2*t.val().length;e.setSelectionRange(n,n)}},200)},!0)}});var z=n("GQ3c"),H=function(){function e(e){var t=this;this.$rootScope=e;this.observer=new MutationObserver(function(e){1===e.length&&t.$rootScope.appEvent(z.CoreEvents.jsonDiffReady)});this.observer.observe(h.a.element(".delta-html")[0],{attributes:!0,attributeFilter:["class"],characterData:!1,childList:!0,subtree:!1})}return e.$inject=["$rootScope"],e.prototype.$onDestroy=function(){this.observer.disconnect()},e}();s.c.directive("diffDelta",function(){return{controller:H,replace:!1,restrict:"A"}});var G=function(){function e(e,t,n){this.$scope=e,this.$rootScope=t,this.$anchorScroll=n}return e.$inject=["$scope","$rootScope","$anchorScroll"],e.prototype.goToLine=function(e){var t,n=this;this.$scope.switchView().then(function(){t=n.$rootScope.$on("json-diff-ready",function(){n.$anchorScroll("l"+e),t()}.bind(n))})},e}();s.c.directive("diffLinkJson",function(){return{controller:G,controllerAs:"ctrl",replace:!0,restrict:"E",scope:{line:"@lineDisplay",link:"@lineLink",switchView:"&"},template:'<a class="diff-linenum btn btn-inverse btn-small" ng-click="ctrl.goToLine(link)">Line {{ line }}</a>'}});var W,Q=o()(window);o.a.fn.place_tt=(W={offset:5},function(e,t,n){var a=this;return n=o.a.extend(!0,{},W,n),this.each(function(){var i,s,l=o()(a);l.addClass("grafana-tooltip"),o()("#tooltip").remove(),l.appendTo(document.body),n.compile&&h.a.element(document).injector().invoke(["$compile","$rootScope",function(e,t){var a=t.$new(!0);r.a.extend(a,n.scopeData),e(l)(a),a.$digest(),a.$destroy()}]),i=l.outerWidth(!0),s=l.outerHeight(!0);var c=e+n.offset+i>Q.width()?e-n.offset-i:e+n.offset,u=t+n.offset+s>Q.height()?t-n.offset-s:t+n.offset;l.css("left",c>0?c:0),l.css("top",u>0?u:0)})});n("Sr1g");s.c.directive("jsonTree",[function(){return{restrict:"E",scope:{object:"=",startExpanded:"@",rootName:"@"},link:function(e,t){var n,a=e.startExpanded;"true"===e.startExpanded?a=2:"false"===e.startExpanded&&(a=1);var r=((n={})[e.rootName]=e.object,n),i=new k.JsonExplorer(r,a,{animateOpen:!0}).render(!0);t.append(i)}}}]);var Y=n("ZFWI"),K="ace/theme/grafana-dark",J="ace/theme/textmate",Z="text",X=10,ee=2,te=!0,ne=!0,ae="<div></div>";function re(e,t,a){return Object(C.__awaiter)(this,void 0,void 0,function(){function r(e){f.setValue(e),f.clearSelection()}var i,o,s,l,c,u,d,p,f,h,m,g;return Object(C.__generator)(this,function(b){switch(b.label){case 0:return i=a.mode||Z,o=a.maxLines||X,s=void 0!==a.showGutter,l=a.tabSize||ee,c=a.behavioursEnabled?"true"===a.behavioursEnabled:te,u=a.snippetsEnabled?"true"===a.snippetsEnabled:ne,d=t.get(0),[4,n.e(27).then(n.t.bind(null,"Bhyg",7))];case 1:return p=b.sent().default,[4,n.e(53).then(n.t.bind(null,"IJmI",7))];case 2:return b.sent(),[4,n.e(62).then(n.t.bind(null,"g7+H",7))];case 3:return b.sent(),[4,n.e(56).then(n.t.bind(null,"iioy",7))];case 4:return b.sent(),[4,n.e(61).then(n.t.bind(null,"JLn5",7))];case 5:return b.sent(),[4,n.e(54).then(n.t.bind(null,"hC/C",7))];case 6:return b.sent(),[4,n.e(59).then(n.t.bind(null,"bmO+",7))];case 7:return b.sent(),[4,n.e(55).then(n.t.bind(null,"HOUf",7))];case 8:return b.sent(),[4,n.e(60).then(n.t.bind(null,"zIv8",7))];case 9:return b.sent(),[4,n.e(49).then(n.t.bind(null,"wam1",7))];case 10:return b.sent(),[4,n.e(58).then(n.t.bind(null,"CVAQ",7))];case 11:return b.sent(),[4,n.e(50).then(n.t.bind(null,"gYtI",7))];case 12:return b.sent(),[4,n.e(57).then(n.t.bind(null,"sDlW",7))];case 13:return b.sent(),[4,n.e(64).then(n.t.bind(null,"7CEB",7))];case 14:return b.sent(),f=p.edit(d),h=f.getSession(),m={maxLines:o,showGutter:s,tabSize:l,behavioursEnabled:c,highlightActiveLine:!1,showPrintMargin:!1,autoScrollEditorIntoView:!0},f.setOptions(m),f.$blockScrolling=1/0,f.renderer.setScrollMargin(10,10),f.renderer.setPadding(10),v=K,Y.b.bootData.user.lightTheme&&(v=J),f.setTheme(v),function(t){if(p.acequire("ace/ext/language_tools"),f.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:u}),e.getCompleter()){var n=f;n.completers=n.completers.slice(),n.completers.push(e.getCompleter())}var a="ace/mode/"+t;h.setMode(a)}(i),r(e.content),t.addClass("gf-code-editor"),(g=t.find("textarea")).addClass("gf-form-input"),e.codeEditorFocus&&setTimeout(function(){g.focus();var e=g[0];if(e.setSelectionRange){var t=2*g.val().length;e.setSelectionRange(t,t)}},100),h.on("change",function(t){e.$apply(function(){var t=f.getValue();e.content=t})}),e.$watch("content",function(t,n){var a=f.getValue();t!==a&&t!==n&&e.$$postDigest(function(){r(t)})}),f.on("blur",function(){e.onChange()}),e.$on("$destroy",function(){f.destroy()}),f.commands.addCommand({name:"executeQuery",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:function(){e.onChange()}}),[2]}var v})})}s.c.directive("codeEditor",function(){return{restrict:"E",template:ae,scope:{content:"=",datasource:"=",codeEditorFocus:"<",onChange:"&",getCompleter:"&"},link:re}});n("2L8i");s.c.directive("spectrumPicker",function(){return{restrict:"E",require:"ngModel",scope:!0,replace:!0,template:'<color-picker color="ngModel.$viewValue" onChange="onColorChange"></color-picker>',link:function(e,t,n,a){e.ngModel=a,e.onColorChange=function(e){a.$setViewValue(e)}}}});var ie=n("h3Ht"),oe=n("SMGL"),se=n("umNM"),le=function(){function e(e){this.backendSrv=e,this.recentIsOpen=oe.a.getBool("search.sections.recent",!0),this.starredIsOpen=oe.a.getBool("search.sections.starred",!0)}return e.$inject=["backendSrv"],e.prototype.getRecentDashboards=function(e){var t=this;return this.queryForRecentDashboards().then(function(n){n.length>0&&(e.recent={title:"Recent",icon:"fa fa-clock-o",score:-1,removable:!0,expanded:t.recentIsOpen,toggle:t.toggleRecent.bind(t),items:n})})},e.prototype.queryForRecentDashboards=function(){var e=r.a.take(ie.a.getDashboardOpened(),30);return 0===e.length?Promise.resolve([]):this.backendSrv.search({dashboardIds:e}).then(function(t){return e.map(function(e){return r.a.find(t,{id:e})}).filter(function(e){return e&&!e.isStarred})})},e.prototype.toggleRecent=function(e){return this.recentIsOpen=e.expanded=!e.expanded,oe.a.set("search.sections.recent",this.recentIsOpen),!e.expanded||e.items.length?Promise.resolve(e):this.queryForRecentDashboards().then(function(t){return e.items=t,Promise.resolve(e)})},e.prototype.toggleStarred=function(e){return this.starredIsOpen=e.expanded=!e.expanded,oe.a.set("search.sections.starred",this.starredIsOpen),Promise.resolve(e)},e.prototype.getStarred=function(e){var t=this;return se.a.isSignedIn?this.backendSrv.search({starred:!0,limit:30}).then(function(n){n.length>0&&(e.starred={title:"Starred",icon:"fa fa-star-o",score:-2,expanded:t.starredIsOpen,toggle:t.toggleStarred.bind(t),items:n})}):Promise.resolve()},e.prototype.search=function(e){var t=this,n={},a=[],i=r.a.clone(e),o=e.query||e.tag&&e.tag.length>0||e.starred||e.folderIds&&e.folderIds.length>0;return e.skipRecent||o||a.push(this.getRecentDashboards(n)),e.skipStarred||o||a.push(this.getStarred(n)),i.folderIds=i.folderIds||[],o||(i.folderIds=[0]),a.push(this.backendSrv.search(i).then(function(e){return t.handleSearchResult(n,e)})),Promise.all(a).then(function(){return r.a.sortBy(r.a.values(n),"score")})},e.prototype.handleSearchResult=function(e,t){var n,a,i,o;if(0===t.length)return e;try{for(var s=Object(C.__values)(t),l=s.next();!l.done;l=s.next()){"dash-folder"===(d=l.value).type&&(e[d.id]={id:d.id,uid:d.uid,title:d.title,expanded:!1,items:[],toggle:this.toggleFolder.bind(this),url:d.url,icon:"fa fa-folder",score:r.a.keys(e).length})}}catch(e){n={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}try{for(var c=Object(C.__values)(t),u=c.next();!u.done;u=c.next()){var d;if("dash-folder"!==(d=u.value).type){var p=e[d.folderId||0];p||(p=d.folderId?{id:d.folderId,uid:d.folderUid,title:d.folderTitle,url:d.folderUrl,items:[],icon:"fa fa-folder-open",toggle:this.toggleFolder.bind(this),score:r.a.keys(e).length}:{id:0,title:"General",items:[],icon:"fa fa-folder-open",toggle:this.toggleFolder.bind(this),score:r.a.keys(e).length},e[d.folderId||0]=p),p.expanded=!0,p.items.push(d)}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},e.prototype.toggleFolder=function(e){if(e.expanded=!e.expanded,e.icon=e.expanded?"fa fa-folder-open":"fa fa-folder",e.items.length)return Promise.resolve(e);var t={folderIds:[e.id]};return this.backendSrv.search(t).then(function(t){return e.items=t,Promise.resolve(e)})},e.prototype.getDashboardTags=function(){return this.backendSrv.get("/api/dashboards/tags")},e}();s.c.service("searchSrv",le);var ce=n("q1tI"),ue=n.n(ce),de=n("i8i4"),pe=n.n(de);function fe(e,t){if(h.a.isFunction(e))return e;if(!e)throw new Error("ReactComponent name attribute must be specified");var n;try{n=t.get(e)}catch(e){}if(!n)try{n=e.split(".").reduce(function(e,t){return e[t]},window)}catch(e){}if(!n)throw Error("Cannot find react component "+e);return n}function he(e,t,n){return Object.keys(e||{}).reduce(function(a,r){var i=e[r],o=(n||{})[r]||{};return a[r]=h.a.isFunction(i)&&!1!==o.wrapApply?function(e,t){if(e.wrappedInApply)return e;var n=function(){var n=arguments,a=t.$root.$$phase;return"$apply"===a||"$digest"===a?e.apply(null,n):t.$apply(function(){return e.apply(null,n)})};return n.wrappedInApply=!0,n}(i,t):i,a},{})}function me(e,t,n,a){var r,i,o,s=h.a.isFunction(t.$watchCollection),l=h.a.isFunction(t.$watchGroup),c=[];try{for(var u=Object(C.__values)(n),d=u.next();!d.done;d=u.next()){var p=d.value,f=(o=p,Array.isArray(o)?o[0]:o),m=ye(e,p);f&&!f.match(/\(.*\)/)&&"one-time"!==m&&("collection"===m&&s?t.$watchCollection(f,a):"reference"===m&&l?c.push(f):t.$watch(f,a,"reference"!==m))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}"one-time"===e&&a(),c.length&&t.$watchGroup(c,a)}function ge(e,t,n,a){n.$evalAsync(function(){pe.a.render(ue.a.createElement(e,t),a[0])})}function be(e){return Array.isArray(e)?e[1]:{}}function ve(e,t){return e[Object.keys(e).find(function(e){return e.toLowerCase()===t.toLowerCase()||e.toLowerCase()===Object(a.kebabCase)(t)})]}function ye(e,t){return Array.isArray(t)&&h.a.isObject(t[1])&&t[1].watchDepth||e}var we=h.a.module("react",[]);we.directive("reactComponent",["$injector",function(e){return{restrict:"E",replace:!0,link:function(t,n,a){var r=this,i=fe(a.name,e),o=function(){var e=he(t.$eval(a.props),t);ge(i,e,t,n)};a.props?me(a.watchDepth,t,[a.props],o):o(),t.$on("$destroy",function(){a.onScopeDestroy?t.$eval(a.onScopeDestroy,{unmountComponent:pe.a.unmountComponentAtNode.bind(r,n[0])}):pe.a.unmountComponentAtNode(n[0])})}}}]),we.factory("reactDirective",["$injector",function(e){return function(t,n,a,r){var i={restrict:"E",replace:!0,link:function(a,i,o){var s=this,l=fe(t,e),c=function(){var e={},t={};n.forEach(function(n){var r=function(e){return Array.isArray(e)?e[0]:e}(n);e[r]=a.$eval(ve(o,r)),t[r]=be(n)}),e=he(e,a,t),e=h.a.extend({},e,r),ge(l,e,a,i)},u=(n=n||Object.keys(l.propTypes||{})).map(function(e){return Array.isArray(e)?[ve(o,e[0]),be(e)]:ve(o,e)});n.length?me(o.watchDepth,a,u,c):c(),a.$on("$destroy",function(){o.onScopeDestroy?a.$eval(o.onScopeDestroy,{unmountComponent:pe.a.unmountComponentAtNode.bind(s,i[0])}):pe.a.unmountComponentAtNode(i[0])})}};return h.a.extend(i,a)}}]);var xe=n("Xmxp"),Oe=n("i/BV"),_e=n("p+Sq"),ke=function(){function e(e){this.config=e}return e.prototype.parse=function(e){var t=Object(Oe.parse)(e,this.config);return"string"==typeof t?{text:t}:t},e}(),je=function(){function e(e,t,n,r){var i=this;this.$scope=e,this.$location=t,this.$timeout=n,this.searchSrv=r,this.getTags=function(){return i.searchSrv.getDashboardTags()},this.onTagFiltersChanged=function(e){i.query.tags=e,i.search()},xe.b.on(z.CoreEvents.showDashSearch,this.openSearch.bind(this),e),xe.b.on(z.CoreEvents.hideDashSearch,this.closeSearch.bind(this),e),xe.b.on(z.CoreEvents.searchQuery,Object(a.debounce)(this.search.bind(this),500),e),this.initialFolderFilterTitle="All",this.isEditor=se.a.isEditor,this.hasEditPermissionInFolders=se.a.hasEditPermissionInFolders,this.onQueryChange=this.onQueryChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.query={query:"",parsedQuery:{text:""},tags:[],starred:!1},this.queryParser=new ke({keywords:["folder"]})}return e.$inject=["$scope","$location","$timeout","searchSrv"],e.prototype.closeSearch=function(){this.isOpen=this.ignoreClose},e.prototype.onQueryChange=function(e){this.query="string"==typeof e?Object(C.__assign)(Object(C.__assign)({},this.query),{parsedQuery:this.queryParser.parse(e),query:e}):e,xe.b.emit(z.CoreEvents.searchQuery)},e.prototype.openSearch=function(e){var t=this;void 0===e&&(e={}),this.isOpen?this.closeSearch():(this.isOpen=!0,this.giveSearchFocus=!0,this.selectedIndex=-1,this.results=[],this.query={query:e.query?e.query+" ":"",parsedQuery:this.queryParser.parse(e.query),tags:[],starred:!1},this.currentSearchId=0,this.ignoreClose=!0,this.isLoading=!0,this.$timeout(function(){t.ignoreClose=!1,t.giveSearchFocus=!0,t.search()},100))},e.prototype.onKeyDown=function(e){if(27===e.keyCode&&this.closeSearch(),40===e.keyCode&&this.moveSelection(1),38===e.keyCode&&this.moveSelection(-1),13===e.keyCode){var t=this.getFlattenedResultForNavigation()[this.selectedIndex];if(t)if(void 0!==t.dashboardIndex){var n=this.results[t.folderIndex].items[t.dashboardIndex];n&&(this.$location.search({}),this.$location.path(n.url),this.closeSearch())}else{var a=this.results[t.folderIndex];a&&a.toggle(a)}}},e.prototype.onFilterboxClick=function(){this.giveSearchFocus=!1,this.preventClose()},e.prototype.preventClose=function(){var e=this;this.ignoreClose=!0,this.$timeout(function(){e.ignoreClose=!1},100)},e.prototype.moveSelection=function(e){if(0!==this.results.length){var t=this.getFlattenedResultForNavigation(),n=t[this.selectedIndex];if(n&&(void 0!==n.dashboardIndex?this.results[n.folderIndex].items[n.dashboardIndex].selected=!1:this.results[n.folderIndex].selected=!1),0!==e){var a=t.length,r=(this.selectedIndex+e)%a;this.selectedIndex=r<0?r+a:r;var i=t[this.selectedIndex];if(void 0!==i.dashboardIndex||0!==this.results[i.folderIndex].id)return void 0!==i.dashboardIndex?this.results[i.folderIndex].expanded?void(this.results[i.folderIndex].items[i.dashboardIndex].selected=!0):void this.moveSelection(e):void(this.results[i.folderIndex].hideHeader?this.moveSelection(e):this.results[i.folderIndex].selected=!0);this.moveSelection(e)}else this.selectedIndex=-1}},e.prototype.searchDashboards=function(e){var t=this;this.currentSearchId=this.currentSearchId+1;var n=this.currentSearchId,a=[],r=this.query.parsedQuery;"current"===e&&a.push(Object(_e.a)().getCurrent().meta.folderId);var i=Object(C.__assign)(Object(C.__assign)({},this.query),{query:r.text,tag:this.query.tags,folderIds:a});return this.searchSrv.search(Object(C.__assign)({},i)).then(function(e){n<t.currentSearchId||(t.results=e||[],t.isLoading=!1,t.moveSelection(1),t.$scope.$digest())})},e.prototype.queryHasNoFilters=function(){var e=this.query;return""===e.query&&!1===e.starred&&0===e.tags.length},e.prototype.filterByTag=function(e){-1===r.a.indexOf(this.query.tags,e)&&(this.query.tags.push(e),this.search())},e.prototype.removeTag=function(e,t){this.query.tags=r.a.without(this.query.tags,e),this.search(),this.giveSearchFocus=!0,t.stopPropagation(),t.preventDefault()},e.prototype.clearSearchFilter=function(){this.query.query="",this.query.tags=[],this.search()},e.prototype.showStarred=function(){this.query.starred=!this.query.starred,this.giveSearchFocus=!0,this.search()},e.prototype.search=function(){this.showImport=!1,this.selectedIndex=-1,this.searchDashboards(this.query.parsedQuery.folder)},e.prototype.folderExpanding=function(){this.moveSelection(0)},e.prototype.getFlattenedResultForNavigation=function(){var e=0;return r.a.flatMap(this.results,function(t){var n=[];n.push({folderIndex:e});var a=0;return n=n.concat(r.a.map(t.items||[],function(t){return{folderIndex:e,dashboardIndex:a++}})),e++,n})},e}();s.c.directive("dashboardSearch",function(){return{restrict:"E",templateUrl:"public/app/core/components/search/search.html",controller:je,bindToController:!0,controllerAs:"ctrl",scope:{}}});var Ce=n("XI+/"),Se=n.n(Ce);s.c.directive("infoPopover",function(){return{restrict:"E",template:'<i class="fa fa-info-circle"></i>',transclude:!0,link:function(e,t,n,a,i){var o=n.offset||"0 -10px",s=n.position||"right middle",l="drop-help drop-hide-out-of-bounds";t.addClass("gf-form-help-icon"),n.wide&&(l+=" drop-wide"),n.mode&&t.addClass("gf-form-help-icon--"+n.mode),i(function(n,a){var i=document.createElement("div");i.className="markdown-html",r.a.each(n,function(e){i.appendChild(e)});var c={target:t[0],content:i,position:s,classes:l,openOn:"hover",hoverOpenDelay:400,tetherOptions:{offset:o,constraints:[{to:"window",attachment:"together",pin:!0}]}};e.$applyAsync(function(){var t=new Se.a(c),n=e.$on("$destroy",function(){t.destroy(),n()})})})}}}),s.c.directive("arrayJoin",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){a.$parsers.push(function(e){return(e||"").split(",")}),a.$formatters.push(function(e){return r.a.isArray(e)?(e||"").join(","):e})}}});var Ee=n("6blF"),Te=(new(function(){function e(){this.observers={}}return e.prototype.getWebSocketUrl=function(){var e=window.location;return("https:"===e.protocol?"wss://":"ws://")+e.host+Y.b.appSubUrl+"/ws"},e.prototype.getConnection=function(){var e=this;return this.initPromise?this.initPromise:this.conn&&1===this.conn.readyState?Promise.resolve(this.conn):(this.initPromise=new Promise(function(t,n){console.log("Live: connecting..."),e.conn=new WebSocket(e.getWebSocketUrl()),e.conn.onclose=function(t){console.log("Live: websocket onclose",t),n({message:"Connection closed"}),e.initPromise=null,setTimeout(e.reconnect.bind(e),2e3)},e.conn.onmessage=function(t){e.handleMessage(t.data)},e.conn.onerror=function(t){e.initPromise=null,n({message:"Connection error"}),console.log("Live: websocket error",t)},e.conn.onopen=function(n){console.log("opened"),e.initPromise=null,t(e.conn)}}),this.initPromise)},e.prototype.handleMessage=function(e){if((e=JSON.parse(e)).stream){var t=this.observers[e.stream];t?t.next(e):this.removeObserver(e.stream,null)}else console.log("Error: stream message without stream!",e)},e.prototype.reconnect=function(){var e=this;0!==r.a.keys(this.observers).length&&(console.log("LiveSrv: Reconnecting"),this.getConnection().then(function(t){r.a.each(e.observers,function(t,n){e.send({action:"subscribe",stream:n})})}))},e.prototype.send=function(e){this.conn.send(JSON.stringify(e))},e.prototype.addObserver=function(e,t){var n=this;this.observers[e]=t,this.getConnection().then(function(t){n.send({action:"subscribe",stream:e})})},e.prototype.removeObserver=function(e,t){var n=this;console.log("unsubscribe",e),delete this.observers[e],this.getConnection().then(function(t){n.send({action:"unsubscribe",stream:e})})},e.prototype.subscribe=function(e){var t=this;return console.log("LiveSrv.subscribe: "+e),Ee.a.create(function(n){return t.addObserver(e,n),function(){t.removeObserver(e,n)}})},e}()),n("1524"),'\n<div class="layout-selector">\n  <button ng-click="ctrl.listView()" ng-class="{active: ctrl.mode === \'list\'}">\n    <i class="fa fa-list"></i>\n  </button>\n  <button ng-click="ctrl.gridView()" ng-class="{active: ctrl.mode === \'grid\'}">\n    <i class="fa fa-th"></i>\n  </button>\n</div>\n'),Me=function(){function e(e){this.$rootScope=e,this.mode=oe.a.get("grafana.list.layout.mode")||"grid"}return e.$inject=["$rootScope"],e.prototype.listView=function(){this.mode="list",oe.a.set("grafana.list.layout.mode","list"),this.$rootScope.appEvent(z.CoreEvents.layoutModeChanged,"list")},e.prototype.gridView=function(){this.mode="grid",oe.a.set("grafana.list.layout.mode","grid"),this.$rootScope.appEvent(z.CoreEvents.layoutModeChanged,"grid")},e}();function Ae(e){return{restrict:"A",scope:{},link:function(t,n){var a="card-list-layout-"+(oe.a.get("grafana.list.layout.mode")||"grid");n.addClass(a),e.onAppEvent(z.CoreEvents.layoutModeChanged,function(e,t){n.removeClass(a),a="card-list-layout-"+t,n.addClass(a)},t)}}}s.c.directive("layoutSelector",function(){return{restrict:"E",controller:Me,bindToController:!0,controllerAs:"ctrl",scope:{},template:Te}}),s.c.directive("layoutMode",Ae);var Ne='\n<label for="check-{{ctrl.id}}" class="gf-form-switch-container">\n  <div class="gf-form-label {{ctrl.labelClass}}" ng-show="ctrl.label">\n    {{ctrl.label}}\n    <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">\n      {{ctrl.tooltip}}\n    </info-popover>\n  </div>\n  <div class="gf-form-switch {{ctrl.switchClass}}" ng-if="ctrl.show">\n    <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">\n    <span class="gf-form-switch__slider"></span>\n  </div>\n</label>\n',De='\n<label for="check-{{ctrl.id}}" class="gf-form-switch-container">\n   <div class="gf-form-label {{ctrl.labelClass}}" ng-show="ctrl.label">\n    {{ctrl.label}}\n    <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">\n      {{ctrl.tooltip}}\n    </info-popover>\n  </div>\n  <div class="gf-form-checkbox {{ctrl.switchClass}}" ng-if="ctrl.show">\n    <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">\n    <span class="gf-form-switch__checkbox"></span>\n  </div>\n</label>\n',Ie=function(){function e(e,t){this.$timeout=t,this.show=!0,this.id=e.$id}return e.$inject=["$scope","$timeout"],e.prototype.internalOnChange=function(){var e=this;return this.$timeout(function(){return e.onChange()})},e}();s.c.directive("gfFormSwitch",function(){return{restrict:"E",controller:Ie,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:Ne}}),s.c.directive("gfFormCheckbox",function(){return{restrict:"E",controller:Ie,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:De}});var Pe='\n<select class="gf-form-input" ng-model="ctrl.model" ng-options="f.value as f.text for f in ctrl.options"></select>\n',Fe=function(){function e(e){this.backendSrv=e}return e.$inject=["backendSrv"],e.prototype.$onInit=function(){var e=this;return this.options=[{value:0,text:"Default"}],this.backendSrv.search({starred:!0}).then(function(t){t.forEach(function(t){e.options.push({value:t.id,text:t.title})})})},e}();s.c.directive("dashboardSelector",function(){return{restrict:"E",controller:Fe,bindToController:!0,controllerAs:"ctrl",template:Pe,scope:{model:"="}}});var Le=n("2KQq"),Re='\n<div class="dropdown cascade-open">\n<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.def.type}}</a>\n<span>(</span><span class="query-part-parameters"></span><span>)</span>\n<ul class="dropdown-menu">\n  <li ng-repeat="action in partActions">\n    <a ng-click="triggerPartAction(action)">{{action.text}}</a>\n  </li>\n</ul>\n';function Ve(e){var t='<input type="text" class="hide input-mini tight-form-func-param"></input>';return{restrict:"E",template:Re,scope:{part:"=",handleEvent:"&",debounce:"@"},link:function(n,a){var i=n.part,s=i.def,l=a.find(".query-part-parameters"),c=n.debounce;function u(e){var t=o()(this),n=t.next();n.val(i.params[e]),n.css("width",t.width()+16+"px"),t.hide(),n.show(),n.focus(),n.select();var a=n.data("typeahead");a&&(n.val(""),a.lookup())}function d(t){var a=o()(this),r=a.prev(),s=a.val();(""!==s||i.def.params[t].optional)&&(r.html(e.highlightVariablesAsHtml(s)),i.updateParam(a.val(),t),n.$apply(function(){n.handleEvent({$event:{name:"part-param-changed"}})})),a.hide(),r.show()}function p(e,t){13===t.which&&d.call(this,e)}function f(){this.style.width=8*(3+this.value.length)+"px"}function h(){r.a.each(s.params,function(a,s){if(!(a.optional&&i.params.length<=s)){s>0&&o()("<span>, </span>").appendTo(l);var h=e.highlightVariablesAsHtml(i.params[s]),m=o()('<a class="graphite-func-param-link pointer">'+h+"</a>"),g=o()(t);m.appendTo(l),g.appendTo(l),g.blur(r.a.partial(d,s)),g.keyup(f),g.keypress(r.a.partial(p,s)),m.click(r.a.partial(u,s)),function(e,t,a){if(t.options||t.dynamicLookup){e.attr("data-provide","typeahead"),e.typeahead({source:function(e,a){if(t.options){var i=t.options;return"int"===t.type&&(i=r.a.map(i,function(e){return e.toString()})),i}n.$apply(function(){n.handleEvent({$event:{name:"get-param-options"}}).then(function(e){var t=r.a.map(e,function(e){return r.a.escape(e.value)});a(t)})})},minLength:0,items:1e3,updater:function(t){return t=r.a.unescape(t),setTimeout(function(){d.call(e[0],a)},0),t}});var i=e.data("typeahead");i.lookup=function(){this.query=this.$element.val()||"";var e=this.source(this.query,o.a.proxy(this.process,this));return e?this.process(e):e},c&&(i.lookup=r.a.debounce(i.lookup,500,{leading:!0}))}}(g,a,s)}})}n.partActions=[],n.showActionsMenu=function(){Object(Le.a)(n)(n.handleEvent({$event:{name:"get-part-actions"}}).then(function(e){n.partActions=e}))},n.triggerPartAction=function(e){n.handleEvent({$event:{name:"action",action:e}})},l.empty(),h()}}}s.c.directive("queryPartEditor",Ve);var $e='\n<div class="dropdown cascade-open">\n<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.label}}</a>\n<span>{{part.def.wrapOpen}}</span><span class="query-part-parameters"></span><span>{{part.def.wrapClose}}</span>\n<ul class="dropdown-menu">\n  <li ng-repeat="action in partActions">\n    <a ng-click="triggerPartAction(action)">{{action.text}}</a>\n  </li>\n</ul>\n';function Be(e){var t='<input type="text" class="hide input-mini"></input>';return{restrict:"E",template:$e,scope:{part:"=",handleEvent:"&",debounce:"@"},link:function(n,a){var i=n.part,s=i.def,l=a.find(".query-part-parameters"),c=n.debounce,u=null;function d(e){var t=o()(this),n=t.next();n.val(i.params[e]),n.css("width",t.width()+16+"px"),t.hide(),n.show(),n.focus(),n.select();var a=n.data("typeahead");a&&(n.val(""),a.lookup())}function p(e,t){u=setTimeout(function(){f(e,t)},200)}function f(t,a){var r=t.prev(),o=t.val();(""!==o||i.def.params[a].optional)&&(r.html(e.highlightVariablesAsHtml(o)),i.updateParam(t.val(),a),n.$apply(function(){n.handleEvent({$event:{name:"part-param-changed"}})})),t.hide(),r.show()}function h(e,t){13===t.which&&f(o()(this),e)}function m(){this.style.width=8*(3+this.value.length)+"px"}function g(){r.a.each(s.params,function(a,f){if(!(a.optional&&i.params.length<=f)){f>0&&o()("<span>"+s.separator+"</span>").appendTo(l);var g=e.highlightVariablesAsHtml(i.params[f]),b=o()('<a class="query-part__link">'+g+"</a>"),v=o()(t);b.appendTo(l),v.appendTo(l),v.blur(r.a.partial(p,v,f)),v.keyup(m),v.keypress(r.a.partial(h,f)),b.click(r.a.partial(d,f)),function(e,t,a){if(t.options||t.dynamicLookup){e.attr("data-provide","typeahead"),e.typeahead({source:function(e,o){if(t.options){var s=t.options;return"int"===t.type&&(s=r.a.map(s,function(e){return e.toString()})),s}n.$apply(function(){n.handleEvent({$event:{name:"get-param-options",param:t}}).then(function(e){var t=r.a.map(e,function(e){return r.a.escape(e.value)});-1===r.a.indexOf(t,i.params[a])&&t.unshift(r.a.escape(i.params[a])),o(t)})})},minLength:0,items:1e3,updater:function(t){return(t=r.a.unescape(t))===i.params[a]?(clearTimeout(u),e.focus(),t):t}});var s=e.data("typeahead");s.lookup=function(){this.query=this.$element.val()||"";var e=this.source(this.query,o.a.proxy(this.process,this));return e?this.process(e):e},c&&(s.lookup=r.a.debounce(s.lookup,500,{leading:!0}))}}(v,a,f)}})}n.partActions=[],n.showActionsMenu=function(){n.handleEvent({$event:{name:"get-part-actions"}}).then(function(e){n.partActions=e})},n.triggerPartAction=function(e){n.handleEvent({$event:{name:"action",action:e}})},l.empty(),g()}}}function Ue(e){var t=this.query;return""===t||("/"===t[0]&&(t=t.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),e.toLowerCase().match(t.toLowerCase()))}s.c.directive("sqlPartEditor",Be);var qe=function(){function e(e,t,n,a){var i=this;this.$scope=e,this.$sce=n,this.templateSrv=a,this.inputElement=t.find("input").first(),this.linkElement=t.find("a").first(),this.linkMode=!0,this.cancelBlur=null,e.$watch("ctrl.model",this.modelChanged.bind(this)),this.labelMode?this.cssClasses="gf-form-label "+this.cssClass:this.cssClasses="gf-form-input gf-form-input--dropdown "+this.cssClass,this.placeholder&&this.inputElement.attr("placeholder",this.placeholder),this.inputElement.attr("data-provide","typeahead"),this.inputElement.typeahead({source:this.typeaheadSource.bind(this),minLength:0,items:1e4,updater:this.typeaheadUpdater.bind(this),matcher:Ue});var o=this.inputElement.data("typeahead");o.lookup=function(){this.query=this.$element.val()||"",this.source(this.query,this.process.bind(this))},this.debounce&&(o.lookup=r.a.debounce(o.lookup,500,{leading:!0})),this.linkElement.keydown(function(e){40!==e.keyCode&&13!==e.keyCode||i.linkElement.click()}),this.inputElement.keydown(function(e){13===e.keyCode&&setTimeout(function(){i.inputElement.blur()},300)}),this.inputElement.blur(this.inputBlur.bind(this)),this.startOpen&&setTimeout(this.open.bind(this),0)}return e.$inject=["$scope","$element","$sce","templateSrv"],e.prototype.getOptionsInternal=function(e){var t=this.getOptions({$query:e});return Promise.resolve(t)},e.prototype.isPromiseLike=function(e){return e&&"function"==typeof e.then},e.prototype.modelChanged=function(){var e=this;r.a.isObject(this.model)?this.updateDisplay(this.model.text):this.lookupText?this.getOptionsInternal("").then(function(t){var n=r.a.find(t,{value:e.model});e.updateDisplay(n?n.text:e.model)}):this.updateDisplay(this.model)},e.prototype.typeaheadSource=function(e,t){var n=this;this.getOptionsInternal(e).then(function(e){n.optionCache=e;var a=r.a.map(e,function(e){return r.a.escape(e.text)});n.allowCustom&&""!==n.text&&-1===r.a.indexOf(a,n.text)&&a.unshift(n.text),t(a)})},e.prototype.typeaheadUpdater=function(e){return e===this.text?(clearTimeout(this.cancelBlur),this.inputElement.focus(),e):(this.inputElement.val(e),this.switchToLink(!0),e)},e.prototype.switchToLink=function(e){this.linkMode&&!e||(clearTimeout(this.cancelBlur),this.cancelBlur=null,this.linkMode=!0,this.inputElement.hide(),this.linkElement.show(),this.updateValue(this.inputElement.val()))},e.prototype.inputBlur=function(){this.cancelBlur=setTimeout(this.switchToLink.bind(this),200)},e.prototype.updateValue=function(e){var t=this;""!==(e=r.a.unescape(e))&&this.text!==e&&this.$scope.$apply(function(){var n=r.a.find(t.optionCache,{text:e});n?(r.a.isObject(t.model)?t.model=n:t.model=n.value,t.text=n.text):t.allowCustom&&(r.a.isObject(t.model)?t.model.text=t.model.value=e:t.model=e,t.text=e),t.$scope.$$postDigest(function(){t.$scope.$apply(function(){t.onChange({$option:n})})})})},e.prototype.updateDisplay=function(e){this.text=e,this.display=this.$sce.trustAsHtml(this.templateSrv.highlightVariablesAsHtml(e))},e.prototype.open=function(){this.inputElement.css("width",Math.max(this.linkElement.width(),80)+16+"px"),this.inputElement.show(),this.inputElement.focus(),this.linkElement.hide(),this.linkMode=!1;var e=this.inputElement.data("typeahead");e&&(this.inputElement.val(""),e.lookup())},e}(),ze='\n<input type="text"\n  data-provide="typeahead"\n  class="gf-form-input"\n  spellcheck="false"\n  style="display:none">\n</input>\n<a ng-class="ctrl.cssClasses"\n   tabindex="1"\n   ng-click="ctrl.open()"\n   give-focus="ctrl.focus"\n   ng-bind-html="ctrl.display || \'&nbsp;\'">\n</a>\n';s.c.directive("gfFormDropdown",function(){return{restrict:"E",template:ze,controller:qe,bindToController:!0,controllerAs:"ctrl",scope:{model:"=",getOptions:"&",onChange:"&",cssClass:"@",allowCustom:"@",labelMode:"@",lookupText:"@",placeholder:"@",startOpen:"@",debounce:"@"}}});var He=function(){function e(e){e.json=h.a.toJson(e.model.object,!0),e.canUpdate=void 0!==e.model.updateHandler&&e.model.canUpdate,e.canCopy=e.model.enableCopy,e.update=function(){var t=h.a.fromJson(e.json);e.model.updateHandler(t,e.model.object)},e.getContentForClipboard=function(){return e.json}}return e.$inject=["$scope"],e}();s.c.controller("JsonEditorCtrl",He);var Ge=function(){function e(e,t,n,a){n.sidemenu=!1,e.formModel={},e.navModel={main:{icon:"gicon gicon-branding",text:"Invite",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]}},e.init=function(){a.get("/api/user/invite/"+t.code).then(function(n){e.formModel.name=n.name,e.formModel.email=n.email,e.formModel.username=n.email,e.formModel.inviteCode=t.code,e.greeting=n.name||n.email||n.username,e.invitedBy=n.invitedBy})},e.submit=function(){e.inviteForm.$valid&&a.post("/api/user/invite/complete",e.formModel).then(function(){window.location.href=Y.b.appSubUrl+"/"})},e.init()}return e.$inject=["$scope","$routeParams","contextSrv","backendSrv"],e}();s.c.controller("InvitedCtrl",Ge);var We=function(){function e(e,t,n,a){this.$scope=e,this.backendSrv=t,a.sidemenu=!1,e.ctrl=this,e.formModel={};var r=n.search();!r.email||r.email.match(/^\S+@\S+$/)?(e.formModel.orgName=r.email,e.formModel.email=r.email,e.formModel.username=r.email,e.formModel.code=r.code,e.verifyEmailEnabled=!1,e.autoAssignOrg=!1,e.navModel={main:{icon:"gicon gicon-branding",text:"Sign Up",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]}},t.get("/api/user/signup/options").then(function(t){e.verifyEmailEnabled=t.verifyEmailEnabled,e.autoAssignOrg=t.autoAssignOrg})):console.log("invalid email")}return e.$inject=["$scope","backendSrv","$location","contextSrv"],e.prototype.submit=function(){this.$scope.signUpForm.$valid&&this.backendSrv.post("/api/user/signup/step2",this.$scope.formModel).then(function(e){"redirect-to-select-org"===e.code?window.location.href=Y.b.appSubUrl+"/profile/select-org?signup=1":window.location.href=Y.b.appSubUrl+"/"})},e}();s.c.controller("SignUpCtrl",We);var Qe=function(){function e(e,t,n){e.formModel={},e.mode="send",e.ldapEnabled=Y.b.ldapEnabled,e.authProxyEnabled=Y.b.authProxyEnabled,e.disableLoginForm=Y.b.disableLoginForm;var a=n.search();a.code&&(e.mode="reset",e.formModel.code=a.code),e.navModel={main:{icon:"gicon gicon-branding",text:"Reset Password",subTitle:"Reset your Grafana password",breadcrumbs:[{title:"Login",url:"login"}]}},e.sendResetEmail=function(){e.sendResetForm.$valid&&t.post("/api/user/password/send-reset-email",e.formModel).then(function(){e.mode="email-sent"})},e.submitReset=function(){e.resetForm.$valid&&(e.formModel.newPassword===e.formModel.confirmPassword?t.post("/api/user/password/reset",e.formModel).then(function(){n.path("login")}):e.appEvent(v.AppEvents.alertWarning,["New passwords do not match"]))}}return e.$inject=["$scope","backendSrv","$location"],e}();s.c.controller("ResetPasswordCtrl",Qe);var Ye=function(){function e(e,t,n){e.navModel=n.getNotFoundNav(),e.appSubUrl=Y.b.appSubUrl,t.isSignedIn||xe.b.emit(z.CoreEvents.toggleSidemenuHidden),e.$on("destroy",function(){t.isSignedIn||xe.b.emit(z.CoreEvents.toggleSidemenuHidden)})}return e.$inject=["$scope","contextSrv","navModelSrv"],e}();s.c.controller("ErrorCtrl",Ye);var Ke=function(){function e(){}return e.prototype.set=function(){console.log("old depricated alert srv being used")},e}();s.c.service("alertSrv",Ke);var Je=function(){function e(e,t){this.$rootScope=e,this.$modal=t}return e.$inject=["$rootScope","$modal"],e.prototype.init=function(){xe.b.on(z.CoreEvents.showModal,this.showModal.bind(this),this.$rootScope),xe.b.on(z.CoreEvents.hideModal,this.hideModal.bind(this),this.$rootScope),xe.b.on(z.CoreEvents.showConfirmModal,this.showConfirmModal.bind(this),this.$rootScope)},e.prototype.hideModal=function(){this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss()},e.prototype.showModal=function(e){this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss(),this.modalScope=e.scope,e.model?(this.modalScope=this.$rootScope.$new(),this.modalScope.model=e.model):this.modalScope||(this.modalScope=this.$rootScope.$new());var t=this.$modal({modalClass:e.modalClass,template:e.src,templateHtml:e.templateHtml,persist:!1,show:!1,scope:this.modalScope,keyboard:!1,backdrop:e.backdrop});Promise.resolve(t).then(function(e){e.modal("show")})},e.prototype.showConfirmModal=function(e){var t=this.$rootScope.$new();t.updateConfirmText=function(n){t.confirmTextValid=e.confirmText.toLowerCase()===n.toLowerCase()},t.title=e.title,t.text=e.text,t.text2=e.text2,t.text2htmlBind=e.text2htmlBind,t.confirmText=e.confirmText,t.onConfirm=e.onConfirm,t.onAltAction=e.onAltAction,t.altActionText=e.altActionText,t.icon=e.icon||"fa-check",t.yesText=e.yesText||"Yes",t.noText=e.noText||"Cancel",t.confirmTextValid=!t.confirmText,t.selectors=V.a.pages.ConfirmModal.selectors,xe.b.emit(z.CoreEvents.showModal,{src:"public/app/partials/confirm_modal.html",scope:t,modalClass:"confirm-modal"})},e}();s.c.service("utilSrv",Je);var Ze=function(){function e(e){this.$timeout=e,this.timers=[]}return e.$inject=["$timeout"],e.prototype.register=function(e){return this.timers.push(e),e},e.prototype.cancel=function(e){this.timers=r.a.without(this.timers,e),this.$timeout.cancel(e)},e.prototype.cancelAll=function(){var e=this;r.a.each(this.timers,function(t){e.$timeout.cancel(t)}),this.timers=[]},e}();s.c.service("timer",Ze);var Xe=function(){function e(e,t){this.$rootScope=e,this.$location=t}return e.$inject=["$rootScope","$location"],e.prototype.gaInit=function(){o.a.ajax({url:"https://www.google-analytics.com/analytics.js",dataType:"script",cache:!0});var e=window.ga=window.ga||function(){(e.q=e.q||[]).push(arguments)};return e.l=+new Date,e("create",Y.b.googleAnalyticsId,"auto"),e("set","anonymizeIp",!0),e},e.prototype.init=function(){var e=this;this.$rootScope.$on("$viewContentLoaded",function(){var t={page:e.$location.url()},n=window.ga||e.gaInit();n("set",t),n("send","pageview")})},e}();function et(e){Y.b.googleAnalyticsId&&e.init()}function tt(e,t,n){var a=null;this.close=function(){a&&a.close()},this.show=function(i){a&&(a.close(),a=null);var o,s=r.a.extend(t.$new(!0),i.model);s.dismiss=function(){o.close()};var l=document.createElement("div");return l.innerHTML=i.template,e(l)(s),n(function(){(o=new Se.a({target:i.element,content:l,position:i.position,classes:i.classNames||"drop-popover",openOn:i.openOn,hoverCloseDelay:200,tetherOptions:{constraints:[{to:"scrollParent",attachment:"together"}]}})).on("close",function(){setTimeout(function(){s.$destroy(),o.tether&&o.destroy(),i.onClose&&i.onClose()}),a=null}),(a=o).open()},100),function(){o&&o.close()}}}function nt(e,t){var n=this,a=function(){return function(n){return"*"===n||"*"===n.value?(this.value="*",this.html=e.trustAsHtml('<i class="fa fa-asterisk"><i>'),this.type=n.type,void(this.expandable=!0)):r.a.isString(n)?(this.value=n,void(this.html=e.trustAsHtml(t.highlightVariablesAsHtml(this.value)))):(this.text=n.value,this.cssClass=n.cssClass,this.custom=n.custom,this.type=n.type,this.fake=n.fake,this.value=n.value,this.selectMode=n.selectMode,this.type=n.type,this.expandable=n.expandable,void(this.html=n.html||e.trustAsHtml(t.highlightVariablesAsHtml(this.value))))}}();this.getSegmentForValue=function(e,t){return e?this.newSegment(e):this.newSegment({value:t,fake:!0})},this.newSelectMeasurement=function(){return new a({value:"select measurement",fake:!0})},this.newFake=function(e,t,n){return new a({value:e,fake:!0,type:t,cssClass:n})},this.newSegment=function(e){return new a(e)},this.newKey=function(e){return new a({value:e,type:"key",cssClass:"query-segment-key"})},this.newKeyValue=function(e){return new a({value:e,type:"value",cssClass:"query-segment-value"})},this.newCondition=function(e){return new a({value:e,type:"condition",cssClass:"query-keyword"})},this.newOperator=function(e){return new a({value:e,type:"operator",cssClass:"query-segment-operator"})},this.newOperators=function(e){return r.a.map(e,function(e){return new a({value:e,type:"operator",cssClass:"query-segment-operator"})})},this.transformToSegments=function(e,a){return function(i){var o=r.a.map(i,function(e){return n.newSegment({value:e.text,expandable:e.expandable})});return e&&r.a.each(t.variables,function(e){void 0!==a&&a!==e.type||o.unshift(n.newSegment({type:"value",value:"$"+e.name,expandable:!0}))}),o}},this.newSelectMetric=function(){return new a({value:"select metric",fake:!0})},this.newPlusButton=function(){return new a({fake:!0,html:'<i class="fa fa-plus "></i>',type:"plus-button",cssClass:"query-part"})}}s.c.service("googleAnalyticsSrv",Xe).run(et),s.c.service("popoverSrv",tt),s.c.service("uiSegmentSrv",nt);n("NXk7");var at=function(){function e(e){this.$compile=e}return e.$inject=["$compile"],e.prototype.addDirective=function(e,t,n){var a=h.a.element(document.createElement(t));this.$compile(a)(n),e.empty(),e.append(a)},e.prototype.link=function(e,t,n,a){var r=a.directive(e);r&&r.fn?(r.fn.registered||(s.c.directive(n.$normalize(r.name),r.fn),r.fn.registered=!0),this.addDirective(t,r.name,e)):t.empty()},e.prototype.create=function(e){var t=this;return{restrict:"E",scope:e.scope,link:function(n,a,r){if(e.watchPath){var i=null;n.$watch(e.watchPath,function(){i&&i.$destroy(),i=n.$new(),t.link(i,a,r,e)})}else t.link(n,a,r,e)}}},e}();s.c.service("dynamicDirectiveSrv",at);var rt=n("iODs"),it=n("UIT+"),ot=n("3SGO"),st=function(){function e(e,t,n,a,r,i){this.$location=e,this.$timeout=t,this.$window=n,this.$rootScope=a,this.$route=r,this.variableSrv=i,this.lastQuery={},this.lastPath="",this.fullPageReloadRoutes=["/logout"]}return e.$inject=["$location","$timeout","$window","$rootScope","$route","variableSrv"],e.prototype.init=function(){var e=this;this.$rootScope.$on("$routeUpdate",function(t,n){var a=e.$location.url();rt.b.getState().location.url!==a&&rt.b.dispatch(Object(ot.c)({path:e.$location.path(),query:e.$location.search(),routeParams:e.$route.current.params}))}),this.$rootScope.$on("$routeChangeSuccess",function(t,n){rt.b.dispatch(Object(ot.c)({path:e.$location.path(),query:e.$location.search(),routeParams:e.$route.current.params}))}),rt.b.subscribe(function(){var t=rt.b.getState(),n=e.$location.url(),a=t.location.url;if(n!==a&&(e.$timeout(function(){e.$location.url(a),t.location.replace&&e.$location.replace()}),console.log("store updating angular $location.url",a)),t.location.path===e.lastPath){var r=function(e,t){var n=0,a={};for(var r in e)r.startsWith("var-")&&e[r]!==t[r]&&(a[r]=e[r],n++);for(var r in t)r.startsWith("var-")&&(e[r]||(a[r]="",n++));return n?a:void 0}(t.location.query,e.lastQuery);if(r)Object(_e.a)().getCurrent()&&e.variableSrv.templateVarsChangedInUrl(r);e.lastQuery=t.location.query}else e.lastQuery={};e.lastPath=t.location.path}),xe.b.on(z.CoreEvents.locationChange,function(t){var n=it.a.stripBaseFromUrl(t.href);e.fullPageReloadRoutes.indexOf(n)>-1?e.$window.location.href=t.href:e.$timeout(function(){e.$location.url(n)})})},e}();function lt(e){var t=function(t,n){var a;return a=n.ctrl?(n.ctrl.panel||n.ctrl.row).scopedVars:n.row.scopedVars,e.replaceWithText(t,a)};return t.$stateful=!0,t}s.c.service("bridgeSrv",st),s.c.filter("stringSort",function(){return function(e){return e.sort()}}),s.c.filter("slice",function(){return function(e,t,n){return r.a.isUndefined(e)?e:e.slice(t,n)}}),s.c.filter("stringify",function(){return function(e){return r.a.isObject(e)&&!r.a.isArray(e)?h.a.toJson(e):r.a.isNull(e)?null:e.toString()}}),s.c.filter("moment",function(){return function(e,t){switch(t){case"ago":return Object(v.dateTime)(e).fromNow()}return Object(v.dateTime)(e).fromNow()}}),s.c.filter("interpolateTemplateVars",lt);n("PSiG"),n("WUic"),n("lJbD");var ct=n("CLuu"),ut=n.n(ct),dt='\n<div class="baron__track">\n  <div class="baron__bar"></div>\n</div>\n',pt="baron baron__root",ft="baron__scroller";s.c.directive("grafanaScrollbar",function(){return{restrict:"A",link:function(e,t,n){var a=t.parent(),r=t;console.log("scroll"),n.grafanaScrollbar&&"scrollonroot"===n.grafanaScrollbar&&(a=r),a.addClass(pt),o()(dt).appendTo(a),t.addClass(ft);var i={root:a[0],scroller:r[0],bar:".baron__bar",barOnCls:"_scrollbar",scrollingCls:"_scrolling",track:".baron__track",direction:"v"},s=ut()(i);e.$on("$destroy",function(){s.dispose()})}}});var ht=n("T9PE"),mt=n("Q8uG"),gt=n("Opuj"),bt=n("PQjG"),vt={defaultProject:"loading project...",metricType:"",metricKind:"",valueType:"",refId:"",service:"",unit:"",crossSeriesReducer:"REDUCE_MEAN",alignmentPeriod:"stackdriver-auto",perSeriesAligner:"ALIGN_MEAN",groupBys:[],filters:[],filter:[],aliasBy:"",alignOptions:[],lastQuery:"",lastQueryError:"",usedAlignmentPeriod:"",labels:{},variableOptionGroup:{},variableOptions:[]},yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=vt,t.onMetricTypeChange=function(e){var n=e.valueType,a=e.metricKind,r=e.type,i=e.unit;return Object(C.__awaiter)(t,void 0,void 0,function(){var e,t,o,s,l,c,u,d,p,f=this;return Object(C.__generator)(this,function(h){switch(h.label){case 0:return e=this.props,t=e.templateSrv,o=e.onQueryChange,s=e.onExecuteQuery,l=e.target,c=Object(bt.d)({valueType:n,metricKind:a,perSeriesAligner:this.state.perSeriesAligner},t),u=c.perSeriesAligner,d=c.alignOptions,[4,this.props.datasource.getLabels(r,l.refId,l.groupBys)];case 1:return p=h.sent(),this.setState({alignOptions:d,perSeriesAligner:u,metricType:r,unit:i,valueType:n,metricKind:a,labels:p},function(){o(f.state),s()}),[2]}})})},t}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(C.__awaiter)(this,void 0,void 0,function(){var e,t,n,a,r,i,o,s,l,c=this;return Object(C.__generator)(this,function(u){return e=this.props,t=e.events,n=e.target,a=e.templateSrv,r=e.datasource,t.on(v.PanelEvents.dataReceived,this.onDataReceived.bind(this)),t.on(v.PanelEvents.dataError,this.onDataError.bind(this)),i=Object(bt.d)(n,a),o=i.perSeriesAligner,s=i.alignOptions,l={label:"Template Variables",expanded:!1,options:r.variables.map(bt.i)},this.setState(Object(C.__assign)(Object(C.__assign)({},this.props.target),{alignOptions:s,perSeriesAligner:o,variableOptionGroup:l,variableOptions:l.options})),r.getLabels(n.metricType,n.refId,n.groupBys).then(function(e){return c.setState({labels:e})}),[2]})})},t.prototype.componentWillUnmount=function(){this.props.events.off(v.PanelEvents.dataReceived,this.onDataReceived),this.props.events.off(v.PanelEvents.dataError,this.onDataError)},t.prototype.onDataReceived=function(e){var t=this,n=e.find(function(e){return e.refId===t.props.target.refId});n&&this.setState({lastQuery:decodeURIComponent(n.meta.rawQuery),lastQueryError:"",usedAlignmentPeriod:n.meta.alignmentPeriod})},t.prototype.onDataError=function(e){var t,n;if(e.data&&e.data.error)n=this.props.datasource.formatStackdriverError(e);else if(e.data&&e.data.results){var a=e.data.results[this.props.target.refId];if(t=decodeURIComponent(a.meta.rawQuery),a&&a.error)try{n=JSON.parse(a.error).error.message}catch(e){n=a.error}}this.setState({lastQuery:t,lastQueryError:n})},t.prototype.onGroupBysChange=function(e){var t=this,n=this.props,a=n.target,r=n.datasource;this.setState({groupBys:e},function(){t.props.onQueryChange(t.state),t.props.onExecuteQuery()}),r.getLabels(a.metricType,a.refId,e).then(function(e){return t.setState({labels:e})})},t.prototype.onPropertyChange=function(e,t){var n,a=this;this.setState(((n={})[e]=t,n),function(){a.props.onQueryChange(a.state),a.props.onExecuteQuery()})},t.prototype.render=function(){var e=this,t=this.state,n=t.usedAlignmentPeriod,a=t.defaultProject,r=t.metricType,i=t.crossSeriesReducer,o=t.groupBys,s=t.filters,l=t.perSeriesAligner,c=t.alignOptions,u=t.alignmentPeriod,d=t.aliasBy,p=t.lastQuery,f=t.lastQueryError,h=t.labels,m=t.variableOptionGroup,g=t.variableOptions,b=this.props,v=b.datasource,y=b.templateSrv;return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(gt.i,{templateSrv:y,defaultProject:a,metricType:r,templateVariableOptions:g,datasource:v,onChange:this.onMetricTypeChange},function(t){return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(gt.f,{labels:h,filters:s,onChange:function(t){return e.onPropertyChange("filters",t)},variableOptionGroup:m}),ue.a.createElement(gt.g,{groupBys:Object.keys(h),values:o,onChange:e.onGroupBysChange.bind(e),variableOptionGroup:m}),ue.a.createElement(gt.a,{metricDescriptor:t,templateVariableOptions:g,crossSeriesReducer:i,groupBys:o,onChange:function(t){return e.onPropertyChange("crossSeriesReducer",t)}},function(t){return t&&ue.a.createElement(gt.d,{alignOptions:c,templateVariableOptions:g,perSeriesAligner:l,onChange:function(t){return e.onPropertyChange("perSeriesAligner",t)}})}),ue.a.createElement(gt.c,{templateSrv:y,templateVariableOptions:g,alignmentPeriod:u,perSeriesAligner:l,usedAlignmentPeriod:n,onChange:function(t){return e.onPropertyChange("alignmentPeriod",t)}}),ue.a.createElement(gt.b,{value:d,onChange:function(t){return e.onPropertyChange("aliasBy",t)}}),ue.a.createElement(gt.h,{datasource:v,rawQuery:p,lastQueryError:f}))}))},t}(ue.a.Component),wt={defaultProject:"loading project...",metricType:"",filters:[],metricKind:"",valueType:"",refId:"annotationQuery",title:"",text:"",labels:{},variableOptionGroup:{},variableOptions:[]},xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=wt,t.onMetricTypeChange=function(e){var n=e.valueType,a=e.metricKind,r=e.type,i=e.unit,o=t.props,s=o.onQueryChange,l=o.datasource;t.setState({metricType:r,unit:i,valueType:n,metricKind:a},function(){s(t.state)}),l.getLabels(r,t.state.refId).then(function(e){return t.setState({labels:e})})},t}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.target,a=t.datasource,r={label:"Template Variables",options:a.variables.map(bt.i)};this.setState(Object(C.__assign)({variableOptionGroup:r,variableOptions:r.options},n)),a.getLabels(n.metricType,n.refId).then(function(t){return e.setState({labels:t})})},t.prototype.onChange=function(e,t){var n,a=this;this.setState(((n={})[e]=t,n),function(){a.props.onQueryChange(a.state)})},t.prototype.render=function(){var e=this,t=this.state,n=t.defaultProject,a=t.metricType,r=t.filters,i=t.title,o=t.text,s=t.variableOptionGroup,l=t.labels,c=t.variableOptions,u=this.props.datasource;return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(gt.i,{defaultProject:n,metricType:a,templateSrv:u.templateSrv,datasource:u,templateVariableOptions:c,onChange:function(t){return e.onMetricTypeChange(t)}},function(t){return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(gt.f,{labels:l,filters:r,onChange:function(t){return e.onChange("filters",t)},variableOptionGroup:s}))}),ue.a.createElement("div",{className:"gf-form gf-form-inline"},ue.a.createElement("div",{className:"gf-form"},ue.a.createElement("span",{className:"gf-form-label query-keyword width-9"},"Title"),ue.a.createElement(k.Input,{type:"text",className:"gf-form-input width-20",value:i,onChange:function(t){return e.onChange("title",t.target.value)}})),ue.a.createElement("div",{className:"gf-form"},ue.a.createElement("span",{className:"gf-form-label query-keyword width-9"},"Text"),ue.a.createElement(k.Input,{type:"text",className:"gf-form-input width-20",value:o,onChange:function(t){return e.onChange("text",t.target.value)}})),ue.a.createElement("div",{className:"gf-form gf-form--grow"},ue.a.createElement("div",{className:"gf-form-label gf-form-label--grow"}))),ue.a.createElement(gt.e,null))},t}(ue.a.Component),Ot=n("bY+8");function _t(e){var t=e.query,n=e.onChange;return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(Ot.d,Object(C.__assign)({},e,{onChange:function(e){return n(Object(C.__assign)(Object(C.__assign)({},t),e))},hideWilcard:!0})),ue.a.createElement("div",{className:"gf-form-inline"},ue.a.createElement(k.Switch,{label:"Enable Prefix Matching",labelClass:"query-keyword",checked:t.prefixMatching,onChange:function(){return n(Object(C.__assign)(Object(C.__assign)({},t),{prefixMatching:!t.prefixMatching}))}}),ue.a.createElement("div",{className:"gf-form gf-form--grow"},ue.a.createElement(Ot.c,{label:"Action"},ue.a.createElement("input",{disabled:!t.prefixMatching,className:"gf-form-input width-12",value:t.actionPrefix||"",onChange:function(e){return n(Object(C.__assign)(Object(C.__assign)({},t),{actionPrefix:e.target.value}))}})),ue.a.createElement(Ot.c,{label:"Alarm Name"},ue.a.createElement("input",{disabled:!t.prefixMatching,className:"gf-form-input width-12",value:t.alarmNamePrefix||"",onChange:function(e){return n(Object(C.__assign)(Object(C.__assign)({},t),{alarmNamePrefix:e.target.value}))}})),ue.a.createElement("div",{className:"gf-form gf-form--grow"},ue.a.createElement("div",{className:"gf-form-label gf-form-label--grow"})))))}var kt=n("4DTL"),jt=n("QQVG"),Ct=n("RO46"),St=n("qltg"),Et=n.n(St),Tt=n("rCnR"),Mt=function(e){var t=e.data,n=e.className,a=e.label;return ue.a.createElement(Ct.b.Option,Object(C.__assign)({},e),ue.a.createElement("div",{className:"tag-filter-option btn btn-link "+(n||"")},ue.a.createElement(Tt.a,{label:a,removeIcon:!1,count:t.count})))},At=function(e){function t(t){var n=e.call(this,t)||this;return n.onLoadOptions=function(e){return n.props.tagOptions().then(function(e){return e.map(function(e){return{value:e.term,label:e.term,count:e.count}})})},n.onChange=function(e){n.props.onChange(e.map(function(e){return e.value}))},n}return Object(C.__extends)(t,e),t.prototype.render=function(){var e=this.props.tags.map(function(e){return{value:e,label:e,count:0}}),t={classNamePrefix:"gf-form-select-box",isMulti:!0,defaultOptions:!0,loadOptions:this.onLoadOptions,onChange:this.onChange,className:"gf-form-input gf-form-input--form-dropdown",placeholder:"Tags",loadingMessage:function(){return"Loading..."},noOptionsMessage:function(){return"No tags found"},getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label},value:e,styles:Object(k.resetSelectStyles)(),filterOption:function(e,t){return RegExp(Object(v.escapeStringForRegex)(t),"i").test(e.value)},components:{Option:Mt,IndicatorsContainer:k.IndicatorsContainer,NoOptionsMessage:k.NoOptionsMessage,MultiValueLabel:function(){return null},MultiValueRemove:function(e){var t=e.data;return ue.a.createElement(Ct.b.MultiValueRemove,Object(C.__assign)({},e),ue.a.createElement(Tt.a,{key:t.label,label:t.label,removeIcon:!0,count:t.count}))}}};return ue.a.createElement("div",{className:"gf-form gf-form--has-input-icon gf-form--grow"},ue.a.createElement("div",{className:"tag-filter"},ue.a.createElement(Et.a,Object(C.__assign)({},t))),ue.a.createElement("i",{className:"gf-form-input-icon fa fa-tag"}))},t}(ue.a.Component),Nt=function(e){var t=e.child,n=t.divider?"divider":"";return ue.a.createElement("li",{className:n},ue.a.createElement("a",{href:t.url},t.icon&&ue.a.createElement("i",{className:t.icon}),t.text))},Dt=function(e){var t=e.link;return ue.a.createElement("ul",{className:"dropdown-menu dropdown-menu--sidemenu",role:"menu"},ue.a.createElement("li",{className:"side-menu-header"},ue.a.createElement("a",{className:"side-menu-header-link",href:t.url},ue.a.createElement("span",{className:"sidemenu-item-text"},t.text))),t.children&&t.children.map(function(e,t){return ue.a.createElement(Nt,{child:e,key:e.url+"-"+t})}))},It=function(e){var t=e.link;return ue.a.createElement("div",{className:"sidemenu-item dropdown"},ue.a.createElement("a",{className:"sidemenu-link",href:t.url,target:t.target},ue.a.createElement("span",{className:"icon-circle sidemenu-icon"},ue.a.createElement("i",{className:t.icon}),t.img&&ue.a.createElement("img",{src:t.img}))),ue.a.createElement(Dt,{link:t}))},Pt=function(){var e=r.a.cloneDeep(Y.b.bootData.navTree),t=r.a.filter(e,function(e){return!e.hideFromMenu});return ue.a.createElement("div",{className:"sidemenu__top"},t.map(function(e,t){return ue.a.createElement(It,{link:e,key:e.id+"-"+t})}))},Ft=n("AI1G"),Lt=Object(Ft.a)(function(e){var t=e.url,n="login?redirect="+encodeURIComponent(t);return ue.a.createElement("div",{className:"sidemenu-item"},ue.a.createElement("a",{href:n,className:"sidemenu-link",target:"_self"},ue.a.createElement("span",{className:"icon-circle sidemenu-icon"},ue.a.createElement("i",{className:"fa fa-fw fa-sign-in"}))),ue.a.createElement("a",{href:n,target:"_self"},ue.a.createElement("ul",{className:"dropdown-menu dropdown-menu--sidemenu",role:"menu"},ue.a.createElement("li",{className:"side-menu-header"},ue.a.createElement("span",{className:"sidemenu-item-text"},"Sign In")))))},function(e){return{url:e.location.url}}),Rt=n("t8hP"),Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={orgs:[]},t.getUserOrgs=function(){return Object(C.__awaiter)(t,void 0,void 0,function(){var e;return Object(C.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(Rt.getBackendSrv)().get("/api/user/orgs")];case 1:return e=t.sent(),this.setState({orgs:e.sort(function(e,t){return e.orgId-t.orgId})}),[2]}})})},t.setCurrentOrg=function(e){return Object(C.__awaiter)(t,void 0,void 0,function(){return Object(C.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(Rt.getBackendSrv)().post("/api/user/using/"+e.orgId)];case 1:return t.sent(),this.setWindowLocation(Y.b.appSubUrl+(Y.b.appSubUrl.endsWith("/")?"":"/")+"?orgId="+e.orgId),[2]}})})},t}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){this.getUserOrgs()},t.prototype.setWindowLocation=function(e){window.location.href=e},t.prototype.render=function(){var e=this,t=this.props.onDismiss,n=this.state.orgs,a=se.a.user.orgId;return ue.a.createElement(k.Modal,{title:"Switch Organization",icon:"random",onDismiss:t,isOpen:!0},ue.a.createElement("table",{className:"filter-table form-inline"},ue.a.createElement("thead",null,ue.a.createElement("tr",null,ue.a.createElement("th",null,"Name"),ue.a.createElement("th",null,"Role"),ue.a.createElement("th",null))),ue.a.createElement("tbody",null,n.map(function(t){return ue.a.createElement("tr",{key:t.orgId},ue.a.createElement("td",null,t.name),ue.a.createElement("td",null,t.role),ue.a.createElement("td",{className:"text-right"},t.orgId===a?ue.a.createElement(k.Button,{size:"sm"},"Current"):ue.a.createElement(k.Button,{variant:"inverse",size:"sm",onClick:function(){return e.setCurrentOrg(t)}},"Switch to")))}))))},t}(ue.a.PureComponent),$t=n("5C3A"),Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showSwitcherModal:!1},t.onOpenShortcuts=function(){xe.b.emit(z.CoreEvents.showModal,{templateHtml:"<help-modal></help-modal>"})},t.toggleSwitcherModal=function(){t.setState(function(e){return{showSwitcherModal:!e.showSwitcherModal}})},t}return Object(C.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.link,a=t.user,r=this.state.showSwitcherModal,i=n.children||[];return"help"===n.id&&(i=Object($t.b)()),ue.a.createElement("div",{className:"sidemenu-item dropdown dropup"},ue.a.createElement("a",{href:n.url,className:"sidemenu-link",target:n.target},ue.a.createElement("span",{className:"icon-circle sidemenu-icon"},n.icon&&ue.a.createElement("i",{className:n.icon}),n.img&&ue.a.createElement("img",{src:n.img}))),ue.a.createElement("ul",{className:"dropdown-menu dropdown-menu--sidemenu",role:"menu"},n.subTitle&&ue.a.createElement("li",{className:"sidemenu-subtitle"},ue.a.createElement("span",{className:"sidemenu-item-text"},n.subTitle)),n.showOrgSwitcher&&ue.a.createElement("li",{className:"sidemenu-org-switcher"},ue.a.createElement("a",{onClick:this.toggleSwitcherModal},ue.a.createElement("div",null,ue.a.createElement("div",{className:"sidemenu-org-switcher__org-name"},a.orgName),ue.a.createElement("div",{className:"sidemenu-org-switcher__org-current"},"Current Org:")),ue.a.createElement("div",{className:"sidemenu-org-switcher__switch"},ue.a.createElement("i",{className:"fa fa-fw fa-random"}),"Switch"))),r&&ue.a.createElement(Vt,{onDismiss:this.toggleSwitcherModal}),i.map(function(e,t){return ue.a.createElement("li",{key:e.text+"-"+t},ue.a.createElement("a",{href:e.url,target:e.target,rel:"noopener"},e.icon&&ue.a.createElement("i",{className:e.icon}),e.text))}),"help"===n.id&&ue.a.createElement("li",{key:"keyboard-shortcuts"},ue.a.createElement("a",{onClick:function(){return e.onOpenShortcuts()}},ue.a.createElement("i",{className:"fa fa-keyboard-o"})," Keyboard shortcuts")),ue.a.createElement("li",{className:"side-menu-header"},ue.a.createElement("span",{className:"sidemenu-item-text"},n.text))))},t}(ce.PureComponent);function Ut(){var e=r.a.cloneDeep(Y.b.bootData.navTree),t=r.a.filter(e,function(e){return e.hideFromMenu}),n=se.a.isSignedIn,a=se.a.user;if(a&&a.orgCount>1){var i=r.a.find(t,{id:"profile"});i&&(i.showOrgSwitcher=!0)}return ue.a.createElement("div",{className:"sidemenu__bottom"},!n&&ue.a.createElement(Lt,null),t.map(function(e,t){return ue.a.createElement(Bt,{link:e,user:a,key:e.url+"-"+t})}))}var qt,zt,Ht,Gt,Wt=n("ibPz"),Qt=Y.b.appSubUrl||"/",Yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleSideMenuSmallBreakpoint=function(){xe.b.emit(z.CoreEvents.toggleSidemenuMobile)},t}return Object(C.__extends)(t,e),t.prototype.render=function(){return[ue.a.createElement("a",{href:Qt,className:"sidemenu__logo",key:"logo"},ue.a.createElement(Wt.a.MenuLogo,null)),ue.a.createElement("div",{className:"sidemenu__logo_small_breakpoint",onClick:this.toggleSideMenuSmallBreakpoint,key:"hamburger"},ue.a.createElement("i",{className:"fa fa-bars"}),ue.a.createElement("span",{className:"sidemenu__close"},ue.a.createElement("i",{className:"fa fa-times"})," Close")),ue.a.createElement(Pt,{key:"topsection"}),ue.a.createElement(Ut,{key:"bottomsection"})]},t}(ce.PureComponent),Kt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={options:[]},n}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){this.setState({options:this.buildOptions(this.props)})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){(e.options.length>0||e.variables.length)&&this.setState({options:this.buildOptions(e)})},t.prototype.shouldComponentUpdate=function(e){var t=this.buildOptions(e);return e.value!==this.props.value||!r.a.isEqual(t,this.state.options)},t.prototype.buildOptions=function(e){var t=e.variables,n=void 0===t?[]:t,a=e.options;return n.length>0?Object(C.__spread)([this.getVariablesGroup()],a):a},t.prototype.getVariablesGroup=function(){return{label:"Template Variables",options:this.props.variables.map(function(e){return{label:"$"+e.name,value:"$"+e.name}})}},t.prototype.getSelectedOption=function(){var e=this,t=this.state.options;return(t.every(function(e){return e.options})?r.a.flatten(t.map(function(e){return e.options})):t).find(function(t){return t.value===e.props.value})},t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.className,a=e.isSearchable,r=e.onChange,i=this.state.options,o=this.getSelectedOption();return ue.a.createElement(k.Select,{className:n,isMulti:!1,isClearable:!1,backspaceRemovesValue:!1,onChange:function(e){return r(e.value)},options:i,isSearchable:a,maxMenuHeight:500,placeholder:t,noOptionsMessage:function(){return"No options found"},value:o})},t.defaultProps={variables:[],options:[],isSearchable:!0},t}(ue.a.Component),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(C.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.appNotification.id!==e.appNotification.id},t.prototype.componentDidMount=function(){var e=this.props,t=e.appNotification,n=e.onClearNotification;setTimeout(function(){n(t.id)},t.timeout)},t.prototype.render=function(){var e=this.props,t=e.appNotification,n=e.onClearNotification;return ue.a.createElement(k.Alert,{severity:t.severity,title:t.title,children:t.component||t.text,onRemove:function(){return n(t.id)}})},t}(ce.Component),Zt=n("UvM7"),Xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClearAppNotification=function(e){t.props.clearAppNotification(e)},t}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.notifyApp;xe.b.on(v.AppEvents.alertWarning,function(t){return e(Zt.c.apply(void 0,Object(C.__spread)(t)))}),xe.b.on(v.AppEvents.alertSuccess,function(t){return e(Zt.b.apply(void 0,Object(C.__spread)(t)))}),xe.b.on(v.AppEvents.alertError,function(t){return e(Zt.a.apply(void 0,Object(C.__spread)(t)))})},t.prototype.render=function(){var e=this,t=this.props.appNotifications;return ue.a.createElement("div",null,t.map(function(t,n){return ue.a.createElement(Jt,{key:t.id+"-"+n,appNotification:t,onClearNotification:function(t){return e.onClearAppNotification(t)}})}))},t}(ce.PureComponent),en={notifyApp:ot.b,clearAppNotification:ot.a},tn=Object(Ft.a)(Xt,function(e){return{appNotifications:e.appNotifications.appNotifications}},en),nn=function(e){return e.description?ue.a.createElement("span",{className:"pointer fa fa-question-circle",onClick:e.onDescriptionShow}):ue.a.createElement("span",{className:"pointer fa fa-question-circle",onClick:function(){window.open("http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions."+e.name,"_blank")}})},an=function(e){var t=e.func,n=e.onMoveLeft,a=e.onMoveRight,r=e.onRemove,i=e.onDescriptionShow;return ue.a.createElement("div",{style:{display:"flex",width:"60px",justifyContent:"space-between"}},ue.a.createElement("span",{className:"pointer fa fa-arrow-left",onClick:function(){return n(t)}}),ue.a.createElement(nn,{name:t.def.name,description:t.def.description,onDescriptionShow:i}),ue.a.createElement("span",{className:"pointer fa fa-remove",onClick:function(){return r(t)}}),ue.a.createElement("span",{className:"pointer fa fa-arrow-right",onClick:function(){return a(t)}}))},rn=ue.a.lazy(function(){return Object(C.__awaiter)(void 0,void 0,void 0,function(){var e;return Object(C.__generator)(this,function(t){switch(t.label){case 0:return[4,n.e(45).then(n.t.bind(null,"fQim",7))];case 1:return e=t.sent().default,[2,{default:function(t){return ue.a.createElement("div",{dangerouslySetInnerHTML:{__html:e(t.description)}})}}]}})})}),on=function(e){function t(t){var n=e.call(this,t)||this;return n.triggerRef=ue.a.createRef(),n.renderContent=function(e){var t=e.updatePopperPosition,a=n.props,r=a.onMoveLeft,i=a.onMoveRight,o=a.func.def,s=o.name,l=o.description;return n.state.showingDescription?ue.a.createElement("div",{style:{overflow:"auto",maxHeight:"30rem",textAlign:"left",fontWeight:"normal"}},ue.a.createElement("h4",{style:{color:"white"}}," ",s," "),ue.a.createElement(ce.Suspense,{fallback:ue.a.createElement("span",null,"Loading description...")},ue.a.createElement(rn,{description:l}))):ue.a.createElement(an,Object(C.__assign)({},n.props,{onMoveLeft:function(){r(n.props.func),t()},onMoveRight:function(){i(n.props.func),t()},onDescriptionShow:function(){n.setState({showingDescription:!0},function(){t()})}}))},n.state={showingDescription:!1},n}return Object(C.__extends)(t,e),t.prototype.render=function(){var e=this;return ue.a.createElement(k.PopoverController,{content:this.renderContent,placement:"top",hideAfter:300},function(t,n,a){return ue.a.createElement(ue.a.Fragment,null,e.triggerRef&&ue.a.createElement(k.Popover,Object(C.__assign)({},a,{referenceElement:e.triggerRef.current,wrapperClassName:"popper",className:"popper__background",onMouseLeave:function(){e.setState({showingDescription:!1}),n()},onMouseEnter:t,renderArrow:function(e){var t=e.arrowProps,n=e.placement;return ue.a.createElement("div",Object(C.__assign)({className:"popper__arrow","data-placement":n},t))}})),ue.a.createElement("span",{ref:e.triggerRef,onClick:a.show?n:t,onMouseLeave:function(){n(),e.setState({showingDescription:!1})},style:{cursor:"pointer"}},e.props.func.def.name))})},t}(ue.a.PureComponent),sn=n("Zss7"),ln=n.n(sn),cn=n("PAeb"),un=function(e){var t=e.query,n=e.onChange,a=Object(C.__rest)(e,["query","onChange"]),r=function(e){return{wrapper:Object(cn.css)(qt||(qt=Object(C.__makeTemplateObject)(["\n    width: 100%;\n    height: 55px; /* this variable is not part of GrafanaTheme yet*/\n    display: flex;\n    background-color: ",";\n    position: relative;\n  "],["\n    width: 100%;\n    height: 55px; /* this variable is not part of GrafanaTheme yet*/\n    display: flex;\n    background-color: ",";\n    position: relative;\n  "])),Object(k.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark4},e.type)),input:Object(cn.css)(zt||(zt=Object(C.__makeTemplateObject)(["\n    max-width: 653px;\n    padding: "," "," "," ",";\n    height: 51px;\n    box-sizing: border-box;\n    outline: none;\n    background: ",";\n    background-color: ",";\n    flex-grow: 10;\n  "],["\n    max-width: 653px;\n    padding: "," "," "," ",";\n    height: 51px;\n    box-sizing: border-box;\n    outline: none;\n    background: ",";\n    background-color: ",";\n    flex-grow: 10;\n  "])),e.spacing.md,e.spacing.md,e.spacing.sm,e.spacing.md,Object(k.selectThemeVariant)({light:e.colors.dark1,dark:e.colors.black},e.type),Object(k.selectThemeVariant)({light:ln()(e.colors.white).lighten(4).toString(),dark:e.colors.dark4},e.type)),spacer:Object(cn.css)(Ht||(Ht=Object(C.__makeTemplateObject)(["\n    flex-grow: 1;\n  "],["\n    flex-grow: 1;\n  "]))),icon:Object(cn.cx)(Object(cn.css)(Gt||(Gt=Object(C.__makeTemplateObject)(["\n      font-size: ",";\n      padding: "," "," "," ",";\n    "],["\n      font-size: ",";\n      padding: "," "," "," ",";\n    "])),e.typography.size.lg,e.spacing.md,e.spacing.md,e.spacing.sm,e.spacing.md),"pointer")}}(Object(ce.useContext)(k.ThemeContext));return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement("div",{className:r.wrapper+" search-field-wrapper"},ue.a.createElement("div",{className:r.icon},ue.a.createElement("i",{className:"fa fa-search"})),ue.a.createElement("input",Object(C.__assign)({type:"text",placeholder:"Find dashboards by name",value:t.query,onChange:function(e){n(e.currentTarget.value)},tabIndex:1,spellCheck:!1},a,{className:r.input})),ue.a.createElement("div",{className:r.spacer})))},dn=n("V9sw"),pn=function(e){function t(t){var n=e.call(this,t)||this;n.onNameChange=function(e){n.setState({name:e.target.value})},n.onEmailChange=function(e){n.setState({email:e.target.value})},n.onLoginChange=function(e){n.setState({login:e.target.value})},n.onSubmitProfileUpdate=function(e){e.preventDefault(),n.props.updateProfile(Object(C.__assign)({},n.state))};var a=n.props.user,r=a.name,i=a.email,o=a.login;return n.state={name:r,email:i,login:o},n}return Object(C.__extends)(t,e),t.prototype.render=function(){var e=this.state,t=e.name,n=e.email,a=e.login,r=this.props.isSavingUser,i=Y.b.disableLoginForm;return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement("h3",{className:"page-sub-heading"},"Edit Profile"),ue.a.createElement("form",{name:"userForm",className:"gf-form-group"},ue.a.createElement("div",{className:"gf-form max-width-30"},ue.a.createElement(k.FormLabel,{className:"width-8"},"Name"),ue.a.createElement(k.Input,{className:"gf-form-input max-width-22",type:"text",onChange:this.onNameChange,value:t})),ue.a.createElement("div",{className:"gf-form max-width-30"},ue.a.createElement(k.FormLabel,{className:"width-8"},"Email"),ue.a.createElement(k.Input,{className:"gf-form-input max-width-22",type:"text",onChange:this.onEmailChange,value:n,disabled:i}),i&&ue.a.createElement(k.Tooltip,{content:"Login Details Locked - managed in another system."},ue.a.createElement("i",{className:"fa fa-lock gf-form-icon--right-absolute"}))),ue.a.createElement("div",{className:"gf-form max-width-30"},ue.a.createElement(k.FormLabel,{className:"width-8"},"Username"),ue.a.createElement(k.Input,{className:"gf-form-input max-width-22",type:"text",onChange:this.onLoginChange,value:a,disabled:i}),i&&ue.a.createElement(k.Tooltip,{content:"Login Details Locked - managed in another system."},ue.a.createElement("i",{className:"fa fa-lock gf-form-icon--right-absolute"}))),ue.a.createElement("div",{className:"gf-form-button-row"},ue.a.createElement(k.Button,{variant:"primary",onClick:this.onSubmitProfileUpdate,disabled:r},"Save"))))},t}(ce.PureComponent),fn=n("mHLn"),hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.loadTeams()},t.prototype.render=function(){var e=this.props,t=e.isLoading,n=e.teams;return t?ue.a.createElement(k.LoadingPlaceholder,{text:"Loading teams..."}):ue.a.createElement(ue.a.Fragment,null,n.length>0&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement("h3",{className:"page-sub-heading"},"Teams"),ue.a.createElement("div",{className:"gf-form-group"},ue.a.createElement("table",{className:"filter-table form-inline"},ue.a.createElement("thead",null,ue.a.createElement("tr",null,ue.a.createElement("th",null),ue.a.createElement("th",null,"Name"),ue.a.createElement("th",null,"Email"),ue.a.createElement("th",null,"Members"))),ue.a.createElement("tbody",null,n.map(function(e,t){return ue.a.createElement("tr",{key:t},ue.a.createElement("td",{className:"width-4 text-center"},ue.a.createElement("img",{className:"filter-table__avatar",src:e.avatarUrl})),ue.a.createElement("td",null,e.name),ue.a.createElement("td",null,e.email),ue.a.createElement("td",null,e.memberCount))}))))))},t}(ce.PureComponent),mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(C.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.loadOrgs()},t.prototype.render=function(){var e=this,t=this.props,n=t.isLoading,a=t.orgs,r=t.user;return n?ue.a.createElement(k.LoadingPlaceholder,{text:"Loading organizations..."}):ue.a.createElement(ue.a.Fragment,null,a.length>0&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement("h3",{className:"page-sub-heading"},"Organizations"),ue.a.createElement("div",{className:"gf-form-group"},ue.a.createElement("table",{className:"filter-table form-inline"},ue.a.createElement("thead",null,ue.a.createElement("tr",null,ue.a.createElement("th",null,"Name"),ue.a.createElement("th",null,"Role"),ue.a.createElement("th",null))),ue.a.createElement("tbody",null,a.map(function(t,n){return ue.a.createElement("tr",{key:n},ue.a.createElement("td",null,t.name),ue.a.createElement("td",null,t.role),ue.a.createElement("td",{className:"text-right"},t.orgId===r.orgId?ue.a.createElement("span",{className:"btn btn-primary btn-small"},"Current"):ue.a.createElement(k.Button,{variant:"inverse",size:"sm",onClick:function(){e.props.setUserOrg(t)}},"Select")))}))))))},t}(ce.PureComponent),gn=function(){return ue.a.createElement(dn.a,{userId:Rt.config.bootData.user.id},function(e,t,n,a,r){return ue.a.createElement(ue.a.Fragment,null,t.loadUser?ue.a.createElement(k.LoadingPlaceholder,{text:"Loading user profile..."}):ue.a.createElement(pn,{updateProfile:e.updateUserProfile,isSavingUser:t.updateUserProfile,user:r}),ue.a.createElement(fn.a,{resourceUri:"user"}),ue.a.createElement(hn,{isLoading:t.loadTeams,loadTeams:e.loadTeams,teams:n}),!t.loadUser&&ue.a.createElement(mn,{isLoading:t.loadOrgs,setUserOrg:e.setUserOrg,loadOrgs:e.loadOrgs,orgs:a,user:r}))})},bn=n("uz0r"),vn=n("KwPh"),yn=Object(ce.memo)(function(e){var t=e.expr,n=e.datasource,a=e.onChange,r={from:Date.now()-1e4,to:Date.now()},i=Object(bn.a)(n.languageProvider,r),o=i.isSyntaxReady,s=i.setActiveOption,l=i.refreshLabels,c=Object(C.__rest)(i,["isSyntaxReady","setActiveOption","refreshLabels"]),u={refId:"",expr:t};return ue.a.createElement("div",{className:"gf-form-group"},ue.a.createElement(vn.a,Object(C.__assign)({datasource:n,query:u,onChange:function(e){return a(e.expr)},onRunQuery:function(){},history:[],data:null,onLoadOptions:s,onLabelsRefresh:l,syntaxLoaded:o,absoluteRange:r},c)))}),wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(C.__extends)(t,e),t.prototype.dismiss=function(){xe.b.emit("hide-modal")},t.prototype.render=function(){return ue.a.createElement("div",{className:"modal-body"},ue.a.createElement("div",{className:"modal-header"},ue.a.createElement("h2",{className:"modal-header-title"},ue.a.createElement("i",{className:"fa fa-keyboard-o"}),ue.a.createElement("span",{className:"p-l-1"},"Shortcuts")),ue.a.createElement("a",{className:"modal-header-close",onClick:this.dismiss},ue.a.createElement("i",{className:"fa fa-remove"}))),ue.a.createElement("div",{className:"modal-content help-modal"},ue.a.createElement("p",{className:"small",style:{position:"absolute",top:"13px",right:"44px"}},ue.a.createElement("span",{className:"shortcut-table-key"},"mod")," =",ue.a.createElement("span",{className:"muted"}," CTRL on windows or linux and CMD key on Mac")),Object.entries(t.shortcuts).map(function(e,t){var n=Object(C.__read)(e,2),a=n[0],r=n[1];return ue.a.createElement("div",{className:"shortcut-category",key:t},ue.a.createElement("table",{className:"shortcut-table"},ue.a.createElement("tbody",null,ue.a.createElement("tr",null,ue.a.createElement("th",{className:"shortcut-table-category-header",colSpan:2},a)),r.map(function(e,n){return ue.a.createElement("tr",{key:t+"-"+n},ue.a.createElement("td",{className:"shortcut-table-keys"},e.keys.map(function(e,a){return ue.a.createElement("span",{className:"shortcut-table-key",key:t+"-"+n+"-"+a},e)})),ue.a.createElement("td",{className:"shortcut-table-description"},e.description))}))))}),ue.a.createElement("div",{className:"clearfix"})))},t.tabIndex=0,t.shortcuts={Global:[{keys:["g","h"],description:"Go to Home Dashboard"},{keys:["g","p"],description:"Go to Profile"},{keys:["s","o"],description:"Open search"},{keys:["esc"],description:"Exit edit/setting views"}],Dashboard:[{keys:["mod+s"],description:"Save dashboard"},{keys:["d","r"],description:"Refresh all panels"},{keys:["d","s"],description:"Dashboard settings"},{keys:["d","v"],description:"Toggle in-active / view mode"},{keys:["d","k"],description:"Toggle kiosk mode (hides top nav)"},{keys:["d","E"],description:"Expand all rows"},{keys:["d","C"],description:"Collapse all rows"},{keys:["d","a"],description:"Toggle auto fit panels (experimental feature)"},{keys:["mod+o"],description:"Toggle shared graph crosshair"},{keys:["d","l"],description:"Toggle all panel legends"}],"Focused Panel":[{keys:["e"],description:"Toggle panel edit view"},{keys:["v"],description:"Toggle panel fullscreen view"},{keys:["p","s"],description:"Open Panel Share Modal"},{keys:["p","d"],description:"Duplicate Panel"},{keys:["p","r"],description:"Remove Panel"},{keys:["p","l"],description:"Toggle panel legend"}],"Time Range":[{keys:["t","z"],description:"Zoom out time range"},{keys:["t",ue.a.createElement("i",{className:"fa fa-long-arrow-left"})],description:"Move time range back"},{keys:["t",ue.a.createElement("i",{className:"fa fa-long-arrow-right"})],description:"Move time range forward"}]},t}(ue.a.PureComponent);function xn(){Object(mt.a)("footer",$t.a,[]),Object(mt.a)("helpModal",wn,[]),Object(mt.a)("sidemenu",Yt,[]),Object(mt.a)("functionEditor",on,["func","onRemove","onMoveLeft","onMoveRight"]),Object(mt.a)("appNotificationsList",tn,[]),Object(mt.a)("pageHeader",kt.a,["model","noTabs"]),Object(mt.a)("emptyListCta",jt.a,["title","buttonIcon","buttonLink","buttonTitle",["onClick",{watchDepth:"reference",wrapApply:!0}],"proTip","proTipLink","proTipLinkTitle","proTipTarget","infoBox","infoBoxTitle"]),Object(mt.a)("searchField",un,["query","autoFocus",["onChange",{watchDepth:"reference"}],["onKeyDown",{watchDepth:"reference"}]]),Object(mt.a)("tagFilter",At,["tags",["onChange",{watchDepth:"reference"}],["tagOptions",{watchDepth:"reference"}]]),Object(mt.a)("colorPicker",k.ColorPicker,["color",["onChange",{watchDepth:"reference",wrapApply:!0}]]),Object(mt.a)("seriesColorPickerPopover",k.SeriesColorPickerPopoverWithTheme,["color","series","onColorChange","onToggleAxis"]),Object(mt.a)("unitPicker",k.UnitPicker,["value","width",["onChange",{watchDepth:"reference",wrapApply:!0}]]),Object(mt.a)("metricSelect",Kt,["options","onChange","value","isSearchable","className","placeholder",["variables",{watchDepth:"reference"}]]),Object(mt.a)("stackdriverQueryEditor",yt,["target","onQueryChange","onExecuteQuery",["events",{watchDepth:"reference"}],["datasource",{watchDepth:"reference"}],["templateSrv",{watchDepth:"reference"}]]),Object(mt.a)("stackdriverAnnotationQueryEditor",xt,["target","onQueryChange",["datasource",{watchDepth:"reference"}],["templateSrv",{watchDepth:"reference"}]]),Object(mt.a)("cloudwatchAnnotationQueryEditor",_t,["query","onChange",["datasource",{watchDepth:"reference"}]]),Object(mt.a)("secretFormField",k.SecretFormField,["value","isConfigured","inputWidth","labelWidth",["onReset",{watchDepth:"reference",wrapApply:!0}],["onChange",{watchDepth:"reference",wrapApply:!0}]]),Object(mt.a)("graphContextMenu",k.GraphContextMenu,["x","y","items",["onClose",{watchDepth:"reference",wrapApply:!0}],["getContextMenuSource",{watchDepth:"reference",wrapApply:!0}],["formatSourceDate",{watchDepth:"reference",wrapApply:!0}]]),Object(mt.a)("drilldownLinksEditor",k.DataLinksEditor,["value","suggestions",["onChange",{watchDepth:"reference",wrapApply:!0}]]),Object(mt.a)("reactProfileWrapper",gn,[]),Object(mt.a)("lokiAnnotationsQueryEditor",yn,["expr","onChange",["datasource",{watchDepth:"reference"}]]),Object(mt.a)("datasourceHttpSettingsNext",k.DataSourceHttpSettings,["defaultUrl","showAccessOptions","dataSourceConfig",["onChange",{watchDepth:"reference",wrapApply:!0}]])}var On=n("1Zgx"),_n=function(){function e(e){this.$location=e,this.selectors=V.a.pages.Dashboards.selectors}return e.$inject=["$location"],e.prototype.toggleFolderExpand=function(e){var t=this;e.toggle&&(!e.expanded&&this.onFolderExpanding&&this.onFolderExpanding(),e.toggle(e).then(function(e){t.editable&&e.expanded&&e.items&&(r.a.each(e.items,function(t){t.checked=e.checked}),t.onSelectionChanged&&t.onSelectionChanged())}))},e.prototype.navigateToFolder=function(e,t){this.$location.path(e.url),t&&(t.stopPropagation(),t.preventDefault())},e.prototype.toggleSelection=function(e,t){e.checked=!e.checked,e.items&&r.a.each(e.items,function(t){t.checked=e.checked}),this.onSelectionChanged&&this.onSelectionChanged(),t&&(t.stopPropagation(),t.preventDefault())},e.prototype.onItemClick=function(e){(this.$location.path().indexOf(e.url)>-1||e.url.indexOf(this.$location.path())>-1)&&xe.b.emit(z.CoreEvents.hideDashSearch)},e.prototype.selectTag=function(e,t){this.onTagSelected&&this.onTagSelected({$tag:e}),t&&(t.stopPropagation(),t.preventDefault())},e}();s.c.directive("dashboardSearchResults",function(){return{restrict:"E",templateUrl:"public/app/core/components/search/search_results.html",controller:_n,bindToController:!0,controllerAs:"ctrl",scope:{editable:"@",results:"=",onSelectionChanged:"&",onTagSelected:"&",onFolderExpanding:"&"}}});var kn=function(){function e(e,t,n,a){var r=this;this.$scope=e,this.backendSrv=t,this.searchSrv=n,this.contextSrv=a,this.selectAllChecked=!1,this.canDelete=!1,this.canMove=!1,this.hasFilters=!1,this.starredFilterOptions=[{text:"Filter by Starred",disabled:!0},{text:"Yes"},{text:"No"}],this.canSave=!1,this.isEditor=this.contextSrv.isEditor,this.hasEditPermissionInFolders=this.contextSrv.hasEditPermissionInFolders,this.query={query:"",mode:"tree",tag:[],starred:!1,skipRecent:!0,skipStarred:!0,folderIds:[]},this.folderId&&(this.query.folderIds=[this.folderId]),this.selectedStarredFilter=this.starredFilterOptions[0],this.refreshList().then(function(){r.initTagFilter()})}return e.$inject=["$scope","backendSrv","searchSrv","contextSrv"],e.prototype.refreshList=function(){var e=this;return this.searchSrv.search(this.query).then(function(t){return e.initDashboardList(t)}).then(function(){if(e.folderUid)return e.backendSrv.getFolderByUid(e.folderUid).then(function(t){e.canSave=t.canSave,e.canSave||(e.hasEditPermissionInFolders=!1),e.$scope.$digest()});e.$scope.$digest()})},e.prototype.initDashboardList=function(e){var t,n,a,r;if(this.canMove=!1,this.canDelete=!1,this.selectAllChecked=!1,this.hasFilters=this.query.query.length>0||this.query.tag.length>0||this.query.starred,e){this.sections=e;try{for(var i=Object(C.__values)(this.sections),o=i.next();!o.done;o=i.next()){var s=o.value;s.checked=!1;try{for(var l=(a=void 0,Object(C.__values)(s.items)),c=l.next();!c.done;c=l.next()){c.value.checked=!1}}catch(e){a={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.folderId&&this.sections.length>0&&(this.sections[0].hideHeader=!0)}else this.sections=[]},e.prototype.selectionChanged=function(){var e,t,n=0;try{for(var a=Object(C.__values)(this.sections),i=a.next();!i.done;i=a.next()){var o=i.value;n+=r.a.filter(o.items,{checked:!0}).length}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var s=r.a.filter(this.sections,{checked:!0}).length;this.canMove=n>0,this.canDelete=n>0||s>0},e.prototype.getFoldersAndDashboardsToDelete=function(){var e,t,n,a={folderUids:[],dashboardUids:[]};try{for(var i=Object(C.__values)(this.sections),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.checked&&0!==s.id)a.folderUids.push(s.uid);else{var l=r.a.filter(s.items,{checked:!0});(n=a.dashboardUids).push.apply(n,Object(C.__spread)(r.a.map(l,"uid")))}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return a},e.prototype.getFolderIds=function(e){var t,n,a=[];try{for(var r=Object(C.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value;o.checked&&a.push(o.id)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a},e.prototype.delete=function(){var e,t=this,n=this.getFoldersAndDashboardsToDelete(),a=n.folderUids.length,r=n.dashboardUids.length,i="Do you want to delete the ";a>0&&r>0?(i+="selected folder"+(1===a?"":"s")+" and dashboard"+(1===r?"":"s")+"?",e="All dashboards of the selected folder"+(1===a?"":"s")+" will also be deleted"):i+=a>0?"selected folder"+(1===a?"":"s")+" and all its dashboards?":"selected dashboard"+(1===r?"":"s")+"?",xe.b.emit(z.CoreEvents.showConfirmModal,{title:"Delete",text:i,text2:e,icon:"fa-trash",yesText:"Delete",onConfirm:function(){t.deleteFoldersAndDashboards(n.folderUids,n.dashboardUids)}})},e.prototype.deleteFoldersAndDashboards=function(e,t){var n=this;this.backendSrv.deleteFoldersAndDashboards(e,t).then(function(){n.refreshList()})},e.prototype.getDashboardsToMove=function(){var e,t,n=[];try{for(var a=Object(C.__values)(this.sections),i=a.next();!i.done;i=a.next()){var o=i.value,s=r.a.filter(o.items,{checked:!0});n.push.apply(n,Object(C.__spread)(r.a.map(s,"uid")))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},e.prototype.moveTo=function(){var e=this.getDashboardsToMove();xe.b.emit(z.CoreEvents.showModal,{templateHtml:'<move-to-folder-modal dismiss="dismiss()" dashboards="model.dashboards" after-save="model.afterSave()"></move-to-folder-modal>',modalClass:"modal--narrow",model:{dashboards:e,afterSave:this.refreshList.bind(this)}})},e.prototype.initTagFilter=function(){var e=this;return this.searchSrv.getDashboardTags().then(function(t){e.tagFilterOptions=[{term:"Filter By Tag",disabled:!0}].concat(t),e.selectedTagFilter=e.tagFilterOptions[0]})},e.prototype.filterByTag=function(e){return-1===r.a.indexOf(this.query.tag,e)&&this.query.tag.push(e),this.refreshList()},e.prototype.onQueryChange=function(){return this.refreshList()},e.prototype.onTagFilterChange=function(){var e=this.filterByTag(this.selectedTagFilter.term);return this.selectedTagFilter=this.tagFilterOptions[0],e},e.prototype.removeTag=function(e,t){this.query.tag=r.a.without(this.query.tag,e),this.refreshList(),t&&(t.stopPropagation(),t.preventDefault())},e.prototype.removeStarred=function(){return this.query.starred=!1,this.refreshList()},e.prototype.onStarredFilterChange=function(){return this.query.starred="Yes"===this.selectedStarredFilter.text,this.selectedStarredFilter=this.starredFilterOptions[0],this.refreshList()},e.prototype.onSelectAllChanged=function(){var e,t,n=this;try{for(var a=Object(C.__values)(this.sections),i=a.next();!i.done;i=a.next()){var o=i.value;o.hideHeader||(o.checked=this.selectAllChecked),o.items=r.a.map(o.items,function(e){return e.checked=n.selectAllChecked,e})}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.selectionChanged()},e.prototype.clearFilters=function(){this.query.query="",this.query.tag=[],this.query.starred=!1,this.refreshList()},e.prototype.createDashboardUrl=function(){var e="dashboard/new";return this.folderId&&(e+="?folderId="+this.folderId),e},e.prototype.importDashboardUrl=function(){var e="dashboard/import";return this.folderId&&(e+="?folderId="+this.folderId),e},e}();s.c.directive("manageDashboards",function(){return{restrict:"E",templateUrl:"public/app/core/components/manage_dashboards/manage_dashboards.html",controller:kn,bindToController:!0,controllerAs:"ctrl",scope:{folderId:"=",folderUid:"="}}}),n.d(t,"d",function(){return ht.a}),n.d(t,"e",function(){return xn}),n.d(t,"c",function(){return s.c}),n.d(t,"a",function(){return xe.b}),n.d(t,"b",function(){return se.a}),n.d(t,"f",function(){return On.b})},HJqT:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.time="time",e.number="number",e.string="string",e.boolean="boolean",e.other="other"}(a||(a={}))},HPUJ:function(e,t){var n="public/app/features/dashboard/components/DashLinks/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=page-action-bar>\n  <h3 class=dashboard-settings__header>\n    <a ng-click=ctrl.backToList()>Dashboard Links</a>\n    <span ng-show="ctrl.mode === \'new\'"><i class="fa fa-fw fa-chevron-right"></i> New</span>\n    <span ng-show="ctrl.mode === \'edit\'"><i class="fa fa-fw fa-chevron-right"></i> Edit</span>\n  </h3>\n\n  <div class=page-action-bar__spacer></div>\n  <a type=button class="btn btn-primary" ng-click=ctrl.setupNew() ng-if="ctrl.dashboard.links.length > 0" ng-hide="ctrl.mode === \'edit\' || ctrl.mode === \'new\'">\n    New\n  </a>\n</div>\n\n<div ng-if="ctrl.mode == \'list\'">\n  <div ng-if="ctrl.dashboard.links.length === 0">\n    <empty-list-cta on-click=ctrl.setupNew title=ctrl.emptyListCta.title buttonicon=ctrl.emptyListCta.buttonIcon buttontitle=ctrl.emptyListCta.buttonTitle infobox=ctrl.emptyListCta.infoBox infoboxtitle=ctrl.emptyListCta.infoBoxTitle />\n  </div>\n\n  <div ng-if="ctrl.dashboard.links.length > 0">\n    <table class="filter-table filter-table--hover">\n      <thead>\n        <tr>\n          <th>Type</th>\n          <th>Info</th>\n          <th colspan=3></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="link in ctrl.dashboard.links">\n          <td class=pointer ng-click=ctrl.editLink(link)>\n            <i class="fa fa-fw fa-external-link"></i>\n            {{ link.type }}\n          </td>\n          <td>\n            <div ng-if=link.title>\n              {{ link.title }}\n            </div>\n            <div ng-if="!link.title && link.url">\n              {{ link.url }}\n            </div>\n            <span ng-if="!link.title && link.tags" ng-repeat="tag in link.tags" tag-color-from-name=tag class="label label-tag" style=margin-right:6px>\n              {{ tag }}\n            </span>\n          </td>\n          <td style=width:1%>\n            <i ng-click="ctrl.moveLink($index, -1)" ng-hide=$first class="pointer fa fa-arrow-up"></i>\n          </td>\n          <td style=width:1%>\n            <i ng-click="ctrl.moveLink($index, 1)" ng-hide=$last class="pointer fa fa-arrow-down"></i>\n          </td>\n          <td style=width:1%>\n            <a ng-click=ctrl.deleteLink($index) class="btn btn-danger btn-small" ng-hide=annotation.builtIn>\n              <i class="fa fa-remove"></i>\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<div ng-if="ctrl.mode == \'edit\' || ctrl.mode == \'new\'">\n  <div class=gf-form-group>\n    <div class=gf-form-group>\n      <div class=gf-form>\n        <span class="gf-form-label width-8">Type</span>\n        <div class="gf-form-select-wrapper width-10">\n          <select class=gf-form-input ng-model=ctrl.link.type ng-options="f for f in [\'dashboards\',\'link\']"></select>\n        </div>\n      </div>\n\n      <div class=gf-form ng-show="ctrl.link.type === \'dashboards\'">\n        <span class="gf-form-label width-8">With tags</span>\n        <bootstrap-tagsinput ng-model=ctrl.link.tags tagclass="label label-tag" placeholder="add tags" style=margin-right:.25rem></bootstrap-tagsinput>\n      </div>\n\n      <gf-form-switch ng-show="ctrl.link.type === \'dashboards\'" class=gf-form label="As dropdown" checked=ctrl.link.asDropdown switch-class=max-width-4 label-class=width-8></gf-form-switch>\n      <div class=gf-form ng-show="ctrl.link.type === \'dashboards\' && ctrl.link.asDropdown">\n        <span class="gf-form-label width-8">Title</span>\n        <input type=text ng-model=ctrl.link.title class="gf-form-input max-width-10" ng-model-onblur/>\n      </div>\n      <div ng-show="ctrl.link.type === \'link\'">\n        <div class=gf-form>\n          <li class="gf-form-label width-8">Url</li>\n          <input type=text ng-model=ctrl.link.url class="gf-form-input width-20" ng-model-onblur/>\n        </div>\n\n        <div class=gf-form>\n          <span class="gf-form-label width-8">Title</span>\n          <input type=text ng-model=ctrl.link.title class="gf-form-input width-20" ng-model-onblur/>\n        </div>\n\n        <div class=gf-form>\n          <span class="gf-form-label width-8">Tooltip</span>\n          <input type=text ng-model=ctrl.link.tooltip class="gf-form-input width-20" placeholder="Open dashboard" ng-model-onblur/>\n        </div>\n\n        <div class=gf-form>\n          <span class="gf-form-label width-8">Icon</span>\n          <div class="gf-form-select-wrapper width-20">\n            <select class=gf-form-input ng-model=ctrl.link.icon ng-options="k as k for (k, v) in ctrl.iconMap"></select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=gf-form-group>\n      <h5 class=section-heading>Include</h5>\n      <div>\n        <gf-form-switch class=gf-form label="Time range" checked=ctrl.link.keepTime switch-class=max-width-6 label-class=width-9></gf-form-switch>\n        <gf-form-switch class=gf-form label="Variable values" checked=ctrl.link.includeVars switch-class=max-width-6 label-class=width-9></gf-form-switch>\n        <gf-form-switch class=gf-form label="Open in new tab" checked=ctrl.link.targetBlank switch-class=max-width-6 label-class=width-9></gf-form-switch>\n      </div>\n    </div>\n  </div>\n  <button class="btn btn-primary" ng-if="ctrl.mode == \'new\'" ng-click=ctrl.addLink()>\n    Add\n  </button>\n  <button class="btn btn-primary" ng-if="ctrl.mode == \'edit\'" ng-click=ctrl.saveLink()>\n    Update\n  </button>\n</div>\n')}]),e.exports=n},HXnQ:function(e,t){},HmKx:function(e,t){var n="public/app/plugins/datasource/postgres/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl has-text-edit-mode=true>\n\n  <div ng-if=ctrl.target.rawQuery>\n    <div class=gf-form-inline>\n      <div class="gf-form gf-form--grow">\n        <code-editor content=ctrl.target.rawSql datasource=ctrl.datasource on-change=ctrl.panelCtrl.refresh() data-mode=sql>\n        </code-editor>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if=!ctrl.target.rawQuery>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">FROM</label>\n        <metric-segment segment=ctrl.tableSegment get-options=ctrl.getTableSegments() on-change=ctrl.tableChanged()></metric-segment>\n\n        <label class="gf-form-label query-keyword width-7">Time column</label>\n        <metric-segment segment=ctrl.timeColumnSegment get-options=ctrl.getTimeColumnSegments() on-change=ctrl.timeColumnChanged()></metric-segment>\n\n        <label class="gf-form-label query-keyword width-9">\n          Metric column\n          <info-popover mode=right-normal>Column to be used as metric name for the value column.</info-popover>\n        </label>\n        <metric-segment segment=ctrl.metricColumnSegment get-options=ctrl.getMetricColumnSegments() on-change=ctrl.metricColumnChanged()></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n\n    </div>\n\n    <div class=gf-form-inline ng-repeat="selectParts in ctrl.selectParts">\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">\n          <span ng-show="$index === 0">SELECT</span>&nbsp;\n        </label>\n      </div>\n\n      <div class=gf-form ng-repeat="part in selectParts">\n        <sql-part-editor class="gf-form-label sql-part" part=part handle-event="ctrl.handleSelectPartEvent(selectParts, part, $event)">\n        </sql-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <label class=dropdown dropdown-typeahead2=ctrl.selectMenu dropdown-typeahead-on-select="ctrl.addSelectPart(selectParts, $item, $subItem)" button-template-class="gf-form-label query-part">\n        </label>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">WHERE</label>\n      </div>\n\n      <div class=gf-form ng-repeat="part in ctrl.whereParts">\n        <sql-part-editor class="gf-form-label sql-part" part=part handle-event="ctrl.handleWherePartEvent(ctrl.whereParts, part, $event, $index)">\n        </sql-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <metric-segment segment=ctrl.whereAdd get-options=ctrl.getWhereOptions() on-change="ctrl.addWhereAction(part, $index)"></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">\n          <span>GROUP BY</span>\n        </label>\n\n        <sql-part-editor ng-repeat="part in ctrl.groupParts" part=part class="gf-form-label sql-part" handle-event="ctrl.handleGroupPartEvent(part, $index, $event)">\n        </sql-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <metric-segment segment=ctrl.groupAdd get-options=ctrl.getGroupOptions() on-change="ctrl.addGroupAction(part, $index)"></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n  </div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword">Format as</label>\n      <div class=gf-form-select-wrapper>\n        <select class="gf-form-input gf-size-auto" ng-model=ctrl.target.format ng-options="f.value as f.text for f in ctrl.formats" ng-change=ctrl.refresh()></select>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword pointer" ng-click=ctrl.toggleEditorMode() ng-show="ctrl.panelCtrl.panel.type !== \'table\'">\n        <span ng-show=ctrl.target.rawQuery>Query Builder</span>\n        <span ng-hide=ctrl.target.rawQuery>Edit SQL</span>\n      </label>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword pointer" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n    </div>\n    <div class=gf-form ng-show=ctrl.lastQueryMeta>\n      <label class="gf-form-label query-keyword pointer" ng-click="ctrl.showLastQuerySQL = !ctrl.showLastQuerySQL">\n        Generated SQL\n        <i class="fa fa-caret-down" ng-show=ctrl.showLastQuerySQL></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showLastQuerySQL></i>\n      </label>\n    </div>\n    <div class="gf-form gf-form--grow">\n      <div class="gf-form-label gf-form-label--grow"></div>\n    </div>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showLastQuerySQL>\n    <pre class=gf-form-pre>{{ctrl.lastQueryMeta.sql}}</pre>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showHelp>\n    <pre class="gf-form-pre alert alert-info">Time series:\n- return column named <i>time</i> (UTC in seconds or timestamp)\n- return column(s) with numeric datatype as values\nOptional:\n  - return column named <i>metric</i> to represent the series name.\n  - If multiple value columns are returned the metric column is used as prefix.\n  - If no column named metric is found the column name of the value column is used as series name\n\nResultsets of time series queries need to be sorted by time.\n\nTable:\n- return any set of columns\n\nMacros:\n- $__time(column) -&gt; column as "time"\n- $__timeEpoch -&gt; extract(epoch from column) as "time"\n- $__timeFilter(column) -&gt; column BETWEEN \'2017-04-21T05:01:17Z\' AND \'2017-04-21T05:01:17Z\'\n- $__unixEpochFilter(column) -&gt;  column &gt;= 1492750877 AND column &lt;= 1492750877\n- $__unixEpochNanoFilter(column) -&gt;  column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n- $__timeGroup(column,\'5m\'[, fillvalue]) -&gt; (extract(epoch from column)/300)::bigint*300\n     by setting fillvalue grafana will fill in missing values according to the interval\n     fillvalue can be either a literal value, NULL or previous; previous will fill in the previous seen value or NULL if none has been seen yet\n- $__timeGroupAlias(column,\'5m\') -&gt; (extract(epoch from column)/300)::bigint*300 AS "time"\n- $__unixEpochGroup(column,\'5m\') -&gt; floor(column/300)*300\n- $__unixEpochGroupAlias(column,\'5m\') -&gt; floor(column/300)*300 AS "time"\n\nExample of group by and order by with $__timeGroup:\nSELECT\n  $__timeGroup(date_time_col, \'1h\'),\n  sum(value) as value\nFROM yourtable\nGROUP BY time\nORDER BY time\n\nOr build your own conditionals using these macros which just return the values:\n- $__timeFrom() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__timeTo() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__unixEpochFrom() -&gt;  1492750877\n- $__unixEpochTo() -&gt;  1492750877\n- $__unixEpochNanoFrom() -&gt;  1494410783152415214\n- $__unixEpochNanoTo() -&gt;  1494497183142514872\n    </pre>\n  </div>\n\n  \n\n  <div class=gf-form ng-show=ctrl.lastQueryError>\n    <pre class="gf-form-pre alert alert-error">{{ctrl.lastQueryError}}</pre>\n  </div>\n\n</query-editor-row>\n')}]),e.exports=n},"I+An":function(e,t){var n="public/app/plugins/datasource/postgres/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=gf-form-group>\n  <div class=gf-form-inline>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<textarea rows=10 class=gf-form-input ng-model=ctrl.annotation.rawQuery spellcheck=false placeholder="query expression" data-min-length=0 data-items=100 ng-model-onblur ng-change=ctrl.panelCtrl.refresh()></textarea>\n\t\t</div>\n\t</div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n\t\t</div>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showHelp>\n\t\t<pre class="gf-form-pre alert alert-info"><h6>Annotation Query Format</h6>\nAn annotation is an event that is overlaid on top of graphs. The query can have up to four columns per row, the time column is mandatory. Annotation rendering is expensive so it is important to limit the number of rows returned.\n\n- column with alias: <b>time</b> for the annotation event time. Use epoch time or any native date data type.\n- column with alias: <b>timeend</b> for the annotation event time-end. Use epoch time or any native date data type.\n- column with alias: <b>text</b> for the annotation text\n- column with alias: <b>tags</b> for annotation tags. This is a comma separated string of tags e.g. \'tag1,tag2\'\n\n\nMacros:\n- $__time(column) -&gt; column as "time"\n- $__timeEpoch -&gt; extract(epoch from column) as "time"\n- $__timeFilter(column) -&gt; column BETWEEN \'2017-04-21T05:01:17Z\' AND \'2017-04-21T05:01:17Z\'\n- $__unixEpochFilter(column) -&gt;  column &gt;= 1492750877 AND column &lt;= 1492750877\n- $__unixEpochNanoFilter(column) -&gt;  column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n\nOr build your own conditionals using these macros which just return the values:\n- $__timeFrom() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__timeTo() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__unixEpochFrom() -&gt;  1492750877\n- $__unixEpochTo() -&gt;  1492750877\n- $__unixEpochNanoFrom() -&gt;  1494410783152415214\n- $__unixEpochNanoTo() -&gt;  1494497183142514872\n\t\t</pre>\n\t</div>\n</div>\n')}]),e.exports=n},IjGO:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"isMathString",function(){return d}),n.d(a,"parse",function(){return p}),n.d(a,"isValid",function(){return f}),n.d(a,"parseDateMath",function(){return h});var r={};n.r(r),n.d(r,"getRelativeTimesList",function(){return _}),n.d(r,"describeTextRange",function(){return j}),n.d(r,"describeTimeRange",function(){return C}),n.d(r,"isValidTimeSpan",function(){return S});var i=n("ijCd"),o=n.n(i),s=n("YiAA"),l=n.n(s),c=n("tAX7"),u=["y","M","w","d","h","m","s"];function d(e){return!!e&&!("string"!=typeof e||"now"!==e.substring(0,3)&&!e.includes("||"))}function p(e,t,n){if(e){if("string"!=typeof e)return Object(c.f)(e)?e:l()(e)?Object(c.b)(e):void 0;var a=void 0,r="",i=void 0,o=void 0;return"now"===e.substring(0,3)?(a=Object(c.d)(n),r=e.substring("now".length)):(-1===(i=e.indexOf("||"))?(o=e,r=""):(o=e.substring(0,i),r=e.substring(i+2)),a=Object(c.b)(o,c.a)),r.length?h(r,a,t):a}}function f(e){var t=p(e);return!!t&&(!!Object(c.f)(t)&&t.isValid())}function h(e,t,n){for(var a=e.replace(/\s/g,""),r=t,i=0,s=a.length;i<s;){var l,c=a.charAt(i++),d=void 0,p=void 0;if("/"===c)d=0;else if("+"===c)d=1;else{if("-"!==c)return;d=2}if(isNaN(parseInt(a.charAt(i),10)))p=1;else if(2===a.length)p=a.charAt(i);else{for(var f=i;!isNaN(parseInt(a.charAt(i),10));)if(++i>10)return;p=parseInt(a.substring(f,i),10)}if(0===d&&1!==p)return;if(l=a.charAt(i++),!o()(u,l))return;0===d?n?r.endOf(l):r.startOf(l):1===d?r.add(p,l):2===d&&r.subtract(p,l)}return r}var m=n("xkGU"),g=n.n(m),b=n("bt/X"),v=n.n(b),y={s:{display:"second"},m:{display:"minute"},h:{display:"hour"},d:{display:"day"},w:{display:"week"},M:{display:"month"},y:{display:"year"}},w=[{from:"now/d",to:"now/d",display:"Today",section:2},{from:"now/d",to:"now",display:"Today so far",section:2},{from:"now/w",to:"now/w",display:"This week",section:2},{from:"now/w",to:"now",display:"This week so far",section:2},{from:"now/M",to:"now/M",display:"This month",section:2},{from:"now/M",to:"now",display:"This month so far",section:2},{from:"now/y",to:"now/y",display:"This year",section:2},{from:"now/y",to:"now",display:"This year so far",section:2},{from:"now-1d/d",to:"now-1d/d",display:"Yesterday",section:1},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday",section:1},{from:"now-7d/d",to:"now-7d/d",display:"This day last week",section:1},{from:"now-1w/w",to:"now-1w/w",display:"Previous week",section:1},{from:"now-1M/M",to:"now-1M/M",display:"Previous month",section:1},{from:"now-1y/y",to:"now-1y/y",display:"Previous year",section:1},{from:"now-5m",to:"now",display:"Last 5 minutes",section:3},{from:"now-15m",to:"now",display:"Last 15 minutes",section:3},{from:"now-30m",to:"now",display:"Last 30 minutes",section:3},{from:"now-1h",to:"now",display:"Last 1 hour",section:3},{from:"now-3h",to:"now",display:"Last 3 hours",section:3},{from:"now-6h",to:"now",display:"Last 6 hours",section:3},{from:"now-12h",to:"now",display:"Last 12 hours",section:3},{from:"now-24h",to:"now",display:"Last 24 hours",section:3},{from:"now-2d",to:"now",display:"Last 2 days",section:0},{from:"now-7d",to:"now",display:"Last 7 days",section:0},{from:"now-30d",to:"now",display:"Last 30 days",section:0},{from:"now-90d",to:"now",display:"Last 90 days",section:0},{from:"now-6M",to:"now",display:"Last 6 months",section:0},{from:"now-1y",to:"now",display:"Last 1 year",section:0},{from:"now-2y",to:"now",display:"Last 2 years",section:0},{from:"now-5y",to:"now",display:"Last 5 years",section:0}],x="YYYY-MM-DD HH:mm:ss",O={};function _(e,t){return v()(w,function(e){return e.active=e.display===t,e.section})}function k(e){return e.format(x)}function j(e){var t=0!==e.indexOf("+");-1===e.indexOf("now")&&(e=(t?"now-":"now")+e);var n=O[e+" to now"];if(n)return n;n=t?{from:e,to:"now"}:{from:"now",to:e};var a=/^now([-+])(\d+)(\w)/.exec(e);if(a){var r=a[3],i=parseInt(a[2],10),o=y[r];o&&(n.display=t?"Last ":"Next ",n.display+=i+" "+o.display,n.section=o.section,i>1&&(n.display+="s"))}else n.display=n.from+" to "+n.to,n.invalid=!0;return n}function C(e){var t=O[e.from.toString()+" to "+e.to.toString()];if(t)return t.display;if(Object(c.f)(e.from)&&Object(c.f)(e.to))return k(e.from)+" to "+k(e.to);if(Object(c.f)(e.from)){var n=p(e.to,!0);return n?k(e.from)+" to "+n.fromNow():""}if(Object(c.f)(e.to)){var a=p(e.from,!1);return a?a.fromNow()+" to "+k(e.to):""}return"now"===e.to.toString()?j(e.from).display:e.from.toString()+" to "+e.to.toString()}g()(w,function(e){O[e.from+" to "+e.to]=e});var S=function(e){return 0===e.indexOf("$")||0===e.indexOf("+$")||!0!==j(e).invalid},E=function(){return[{label:"Africa",options:["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek"]},{label:"America",options:["America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife"]},{label:"Antarctica",options:["Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok"]},{label:"Asia",options:["Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan"]},{label:"Atlantic",options:["Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley"]},{label:"Australia",options:["Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney"]},{label:"Europe",options:["Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich"]},{label:"Indian",options:["Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion"]},{label:"Pacific",options:["Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis"]}]};n.d(t,"b",function(){return c.a}),n.d(t,"l",function(){return c.g}),n.d(t,"h",function(){return c.e}),n.d(t,"j",function(){return c.f}),n.d(t,"n",function(){return c.i}),n.d(t,"m",function(){return c.h}),n.d(t,"e",function(){return c.b}),n.d(t,"f",function(){return c.c}),n.d(t,"g",function(){return c.d}),n.d(t,"i",function(){return E}),n.d(t,"a",function(){return"YYYY-MM-DD HH:mm:ss"}),n.d(t,"c",function(){return"YYYY-MM-DD HH:mm:ss.SSS"}),n.d(t,"d",function(){return a}),n.d(t,"k",function(){return r})},J4FA:function(e,t,n){"use strict";var a,r=n("mrSG"),i={gray98:"#f7f8fa",gray95:"#e9edf2",gray85:"#c7d0d9",gray70:"#9fa7b3",gray33:"#464c54",gray25:"#343b40",gray15:"#202226",gray10:"#141619",gray05:"#0b0c0e",blue95:"#5794f2",blue85:"#3274d9",blue77:"#1f60c4",red88:"#e02f44"},o={name:"Grafana Default",typography:{fontFamily:{sansSerif:"'Roboto', 'Helvetica Neue', Arial, sans-serif",monospace:"Menlo, Monaco, Consolas, 'Courier New', monospace"},size:{base:"14px",xs:"10px",sm:"12px",md:"14px",lg:"18px"},heading:{h1:"28px",h2:"24px",h3:"21px",h4:"18px",h5:"16px",h6:"14px"},weight:{light:300,regular:400,semibold:500,bold:600},lineHeight:{xs:1,sm:1.1,md:1.5,lg:2},link:{decoration:"none",hoverDecoration:"none"}},breakpoints:{xs:"0",sm:"544px",md:"769px",lg:"992px",xl:"1200px"},spacing:{insetSquishMd:"4px 8px",d:"14px",xxs:"2px",xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px",gutter:"30px",formSpacingBase:8,formMargin:"32px",formFieldsetMargin:"16px",formLegendMargin:"0 0 16px 0",formInputHeight:"32px",formButtonHeight:32,formInputPaddingHorizontal:"8px",formInputAffixPaddingHorizontal:"4px",formInputMargin:"16px",formLabelPadding:"0 0 0 2px",formLabelMargin:"0 0 4px 0",formValidationMessagePadding:"4px 8px",formValidationMessageMargin:"4px 0 0 0"},border:{radius:{sm:"2px",md:"3px",lg:"5px"},width:{sm:"1px"}},height:{sm:"24px",md:"32px",lg:"48px"},panelPadding:8,panelHeaderHeight:28,zIndex:{dropdown:"1000",navbarFixed:"1020",sidemenu:"1025",tooltip:"1030",modalBackdrop:"1040",modal:"1050",typeahead:"1060"}},s=n("Obii"),l=Object(r.__assign)(Object(r.__assign)({},i),{black:"#000000",white:"#ffffff",dark1:"#141414",dark2:"#161719",dark3:"#1f1f20",dark4:"#212124",dark5:"#222426",dark6:"#262628",dark7:"#292a2d",dark8:"#2f2f32",dark9:"#343436",dark10:"#424345",gray1:"#555555",gray2:"#8e8e8e",gray3:"#b3b3b3",gray4:"#d8d9da",gray5:"#ececec",gray6:"#f4f5f8",gray7:"#fbfbfb",grayBlue:"#212327",blueBase:"#3274d9",blueShade:"#1f60c4",blueLight:"#5794f2",blueFaint:"#041126",redBase:"#e02f44",redShade:"#c4162a",greenBase:"#299c46",greenShade:"#23843b",blue:"#33b5e5",red:"#d44a3a",yellow:"#ecbb13",purple:"#9933cc",variable:"#32d1df",orange:"#eb7b18",orangeDark:"#ff780a"}),c=Object(r.__assign)(Object(r.__assign)({},o),{type:s.GrafanaThemeType.Dark,isDark:!0,isLight:!1,name:"Grafana Dark",colors:Object(r.__assign)(Object(r.__assign)({},l),{inputBlack:"#09090b",brandPrimary:l.orange,brandSuccess:l.greenBase,brandWarning:l.orange,brandDanger:l.redBase,queryRed:l.redBase,queryGreen:"#74e680",queryPurple:"#fe85fc",queryKeyword:"#66d9ef",queryOrange:l.orange,online:l.greenBase,warn:"#f79520",critical:l.redBase,bodyBg:l.dark2,pageBg:l.dark2,body:l.gray4,text:l.gray4,textStrong:l.white,textWeak:l.gray2,textEmphasis:l.gray5,textFaint:l.dark5,link:l.gray4,linkDisabled:l.gray2,linkHover:l.white,linkExternal:l.blue,headingColor:l.gray4,pageHeaderBorder:l.dark9,panelBg:l.dark4,formLabel:l.gray70,formDescription:l.gray70,formLegend:l.gray85,formInputBg:l.gray15,formInputBgDisabled:l.gray10,formInputBorder:l.gray25,formInputBorderHover:l.gray33,formInputBorderActive:l.blue95,formInputBorderInvalid:l.red88,formInputText:l.gray85,formInputDisabledText:l.gray70,formInputTextStrong:l.gray85,formInputTextWhite:l.white,formFocusOutline:l.blueShade,formValidationMessageText:l.white,formValidationMessageBg:l.red88,formSwitchBg:l.gray25,formSwitchBgActive:l.blueLight,formSwitchBgHover:l.gray33,formSwitchBgActiveHover:l.blueBase,formSwitchBgDisabled:l.gray25,formSwitchDot:l.gray15,formCheckboxBg:l.dark5,formCheckboxBgChecked:l.blueLight,formCheckboxBgCheckedHover:l.blueBase,formCheckboxCheckmark:l.gray25}),background:{dropdown:l.dark3,scrollbar:l.dark9,scrollbar2:l.dark9,pageHeader:"linear-gradient(90deg, "+l.dark7+", "+l.black+")"},shadow:{pageHeader:"inset 0px -4px 14px "+l.dark3}}),u=Object(r.__assign)(Object(r.__assign)({},i),{black:"#000000",white:"#ffffff",dark1:"#1e2028",dark2:"#41444b",dark3:"#303133",dark4:"#35373f",dark5:"#41444b",dark6:"#41444b",dark7:"#41444b",dark8:"#2f2f32",dark9:"#343436",dark10:"#424345",gray1:"#52545c",gray2:"#767980",gray3:"#acb6bf",gray4:"#c7d0d9",gray5:"#dde4ed",gray6:"#e9edf2",gray7:"#f7f8fa",grayBlue:"#212327",blueBase:"#3274d9",blueShade:"#1f60c4",blueLight:"#5794f2",blueFaint:"#f5f9ff",redBase:"#e02f44",redShade:"#c4162a",greenBase:"#3eb15b",greenShade:"#369b4f",blue:"#0083b3",red:"#d44939",yellow:"#ff851b",purple:"#9954bb",variable:"#007580",orange:"#ff7941",orangeDark:"#ed5700"}),d=Object(r.__assign)(Object(r.__assign)({},o),{type:s.GrafanaThemeType.Light,isDark:!1,isLight:!0,name:"Grafana Light",colors:Object(r.__assign)(Object(r.__assign)({},u),{variable:u.blue,inputBlack:"#09090b",brandPrimary:u.orange,brandSuccess:u.greenBase,brandWarning:u.orange,brandDanger:u.redBase,queryRed:u.redBase,queryGreen:u.greenBase,queryPurple:u.purple,queryKeyword:u.blueBase,queryOrange:u.orange,online:u.greenShade,warn:"#f79520",critical:u.redShade,bodyBg:u.gray7,pageBg:u.gray7,body:u.gray1,text:u.gray1,textStrong:u.dark2,textWeak:u.gray2,textEmphasis:u.dark5,textFaint:u.dark4,link:u.gray1,linkDisabled:u.gray3,linkHover:u.dark1,linkExternal:u.blueLight,headingColor:u.gray1,pageHeaderBorder:u.gray4,panelBg:u.white,formLabel:u.gray33,formDescription:u.gray33,formLegend:u.gray25,formInputBg:u.white,formInputBgDisabled:u.gray95,formInputBorder:u.gray85,formInputBorderHover:u.gray70,formInputBorderActive:u.blue77,formInputBorderInvalid:u.red88,formInputText:u.gray25,formInputDisabledText:u.gray33,formInputTextStrong:u.gray25,formInputTextWhite:u.white,formFocusOutline:u.blueLight,formValidationMessageText:u.white,formValidationMessageBg:u.red88,formSwitchBg:u.gray85,formSwitchBgActive:u.blueShade,formSwitchBgHover:u.gray3,formSwitchBgActiveHover:u.blueBase,formSwitchBgDisabled:u.gray4,formSwitchDot:u.white,formCheckboxBg:u.white,formCheckboxBgChecked:u.blueShade,formCheckboxBgCheckedHover:u.blueBase,formCheckboxCheckmark:u.white}),background:{dropdown:u.white,scrollbar:u.gray5,scrollbar2:u.gray5,pageHeader:"linear-gradient(90deg, "+u.white+", "+u.gray7+")"},shadow:{pageHeader:"inset 0px -3px 10px "+u.gray6}});n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var p=function(e){return a&&a(e)||("light"===e?d:c)},f=function(e){return a=e,function(){a=null}}},J4KJ:function(e,t,n){"use strict";n.d(t,"k",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"i",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return w}),n.d(t,"p",function(){return x}),n.d(t,"m",function(){return O}),n.d(t,"a",function(){return _}),n.d(t,"j",function(){return k}),n.d(t,"l",function(){return j});var a=n("mrSG"),r=n("i7Pf"),i=n("t8hP"),o=n("UvM7"),s=n("jGYO"),l=n("3SGO"),c=Object(r.b)("dashboard/loadDashboardPermissions"),u=Object(r.b)("dashboard/dashboardInitFetching"),d=Object(r.b)("dashboard/dashboardInitServices"),p=Object(r.b)("dashboard/dashboardInitSlow"),f=Object(r.b)("dashboard/dashboardInitCompleted"),h=Object(r.b)("dashboard/dashboardInitFailed"),m=Object(r.b)("dashboard/cleanUpDashboard");function g(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,Object(i.getBackendSrv)().get("/api/dashboards/id/"+e+"/permissions")];case 1:return t=a.sent(),n(c(t)),[2]}})})}}function b(e){return{userId:e.userId,teamId:e.teamId,role:e.role,permission:e.permission}}var v=Object(r.b)("dashboard/clearDashboardQueriesToUpdate"),y=Object(r.b)("dashboard/setDashboardQueriesToUpdate"),w=function(e,t){return function(n){return Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,n(y({panelId:e,queries:t}))];case 1:return a.sent(),[2]}})})}};function x(e,t,n){var r=this;return function(o,s){return Object(a.__awaiter)(r,void 0,void 0,function(){var r,l,c,u,d,p,f,h;return Object(a.__generator)(this,function(m){switch(m.label){case 0:r=s().dashboard,l=[];try{for(c=Object(a.__values)(r.permissions),u=c.next();!u.done;u=c.next())(d=u.value).inherited||(p=b(d),t===d&&(p.permission=n),l.push(p))}catch(e){f={error:e}}finally{try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(f)throw f.error}}return[4,Object(i.getBackendSrv)().post("/api/dashboards/id/"+e+"/permissions",{items:l})];case 1:return m.sent(),[4,o(g(e))];case 2:return m.sent(),[2]}})})}}function O(e,t){var n=this;return function(r,o){return Object(a.__awaiter)(n,void 0,void 0,function(){var n,s,l,c,u,d,p;return Object(a.__generator)(this,function(f){switch(f.label){case 0:n=o().dashboard,s=[];try{for(l=Object(a.__values)(n.permissions),c=l.next();!c.done;c=l.next())(u=c.value).inherited||u===t||s.push(b(u))}catch(e){d={error:e}}finally{try{c&&!c.done&&(p=l.return)&&p.call(l)}finally{if(d)throw d.error}}return[4,Object(i.getBackendSrv)().post("/api/dashboards/id/"+e+"/permissions",{items:s})];case 1:return f.sent(),[4,r(g(e))];case 2:return f.sent(),[2]}})})}}function _(e,t){var n=this;return function(r,o){return Object(a.__awaiter)(n,void 0,void 0,function(){var n,s,l,c,u,d,p;return Object(a.__generator)(this,function(f){switch(f.label){case 0:n=o().dashboard,s=[];try{for(l=Object(a.__values)(n.permissions),c=l.next();!c.done;c=l.next())(u=c.value).inherited||s.push(b(u))}catch(e){d={error:e}}finally{try{c&&!c.done&&(p=l.return)&&p.call(l)}finally{if(d)throw d.error}}return s.push({userId:t.userId,teamId:t.teamId,role:t.role,permission:t.permission}),[4,Object(i.getBackendSrv)().post("/api/dashboards/id/"+e+"/permissions",{items:s})];case 1:return f.sent(),[4,r(g(e))];case 2:return f.sent(),[2]}})})}}function k(e,t){var n=this;return function(r){return Object(a.__awaiter)(n,void 0,void 0,function(){return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,Object(i.getBackendSrv)().post("/api/dashboards/import",e)];case 1:return n.sent(),r(Object(l.b)(Object(o.b)("Dashboard Imported",t))),r(Object(s.a)()),[2]}})})}}function j(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(i.getBackendSrv)().delete("/api/dashboards/"+e)];case 1:return t.sent(),n(Object(s.a)()),[2]}})})}}},J9Im:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var a=n("zdiy"),r=n.n(a),i=n("kDLi"),o=n("Obii"),s=function(){return function(e){this.datasources={},this.panels={},this.appSubUrl="",this.windowTitlePrefix="",this.buildInfo={},this.newPanelTitle="",this.externalUserMngLinkUrl="",this.externalUserMngLinkName="",this.externalUserMngInfo="",this.allowOrgCreate=!1,this.disableLoginForm=!1,this.defaultDatasource="",this.alertingEnabled=!1,this.alertingErrorOrTimeout="",this.alertingNoDataOrNullValues="",this.alertingMinInterval=1,this.authProxyEnabled=!1,this.exploreEnabled=!1,this.ldapEnabled=!1,this.samlEnabled=!1,this.disableUserSignUp=!1,this.viewersCanEdit=!1,this.editorsCanAdmin=!1,this.disableSanitizeHtml=!1,this.pluginsToPreload=[],this.featureToggles={transformations:!1,inspect:!1,expressions:!1,newEdit:!1,meta:!1},this.licenseInfo={},this.phantomJSRenderer=!1,this.theme=e.bootData.user.lightTheme?Object(i.getTheme)(o.GrafanaThemeType.Light):Object(i.getTheme)(o.GrafanaThemeType.Dark),r()(this,{datasources:{},windowTitlePrefix:"Grafana - ",panels:{},newPanelTitle:"Panel Title",playlist_timespan:"1m",unsaved_changes_warning:!0,appSubUrl:"",buildInfo:{version:"v1.0",commit:"1",env:"production",isEnterprise:!1},viewersCanEdit:!1,editorsCanAdmin:!1,disableSanitizeHtml:!1},e)}}(),l=window.grafanaBootData||{settings:{},user:{}},c=l.settings;c.bootData=l;var u=new s(c)},K47g:function(e,t,n){"use strict";var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("1524"),s=n("bMS5"),l=n("Obii"),c=n("ZFWI"),u=n("S5bw"),d=n("67Y/"),p=n("WnbS"),f=n("PbtU"),h=n("5kRJ"),m=n("kHZm"),g=n("4RCQ"),b=100;var v=function(){function e(){this.subject=new u.a(1)}return e.prototype.getData=function(e){var t=this;return void 0===e&&(e=!0),e?this.subject.pipe(Object(d.a)(function(e){if(t.hasTransformations()){var n=Object(l.transformDataFrame)(t.transformations,e.series);return Object(a.__assign)(Object(a.__assign)({},e),{series:n})}return e})):this.subject.pipe()},e.prototype.hasTransformations=function(){return c.a.featureToggles.transformations&&this.transformations&&this.transformations.length>0},e.prototype.run=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s,c,u,d,p,v,w,x,O,_,k,j,C;return Object(a.__generator)(this,function(a){switch(a.label){case 0:if(t=e.queries,n=e.timezone,i=e.datasource,o=e.panelId,s=e.dashboardId,c=e.timeRange,u=e.timeInfo,d=e.cacheTimeout,p=e.widthPixels,v=e.maxDataPoints,w=e.scopedVars,x=e.minInterval,Object(g.b)(i))return this.pipeToSubject(Object(g.c)(e)),[2];(O={app:l.CoreApp.Dashboard,requestId:"Q"+b++,timezone:n,panelId:o,dashboardId:s,range:c,timeInfo:u,interval:"",intervalMs:0,targets:Object(r.cloneDeep)(t),maxDataPoints:v||p,scopedVars:w||{},cacheTimeout:d,startTime:Date.now()}).rangeRaw=c.raw,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,y(i,O.scopedVars)];case 2:return _=a.sent(),O.targets=O.targets.map(function(e){return e.datasource||(e.datasource=_.name),e}),k=x?h.b.replace(x,O.scopedVars):_.interval,j=f.a.calculateInterval(c,p,k),O.scopedVars=Object.assign({},O.scopedVars,{__interval:{text:j.interval,value:j.interval},__interval_ms:{text:j.intervalMs.toString(),value:j.intervalMs}}),O.interval=j.interval,O.intervalMs=j.intervalMs,this.pipeToSubject(Object(m.c)(_,O)),[3,4];case 3:return C=a.sent(),console.log("PanelQueryRunner Error",C),[3,4];case 4:return[2]}})})},e.prototype.pipeToSubject=function(e){var t=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=e.subscribe({next:function(e){t.lastResult=Object(m.b)(e,t.lastResult),t.subject.next(t.lastResult)}})},e.prototype.setTransformations=function(e){this.transformations=e},e.prototype.destroy=function(){this.subject&&this.subject.complete(),this.subscription&&this.subscription.unsubscribe()},e}();function y(e,t){return Object(a.__awaiter)(this,void 0,Promise,function(){return Object(a.__generator)(this,function(n){switch(n.label){case 0:return e&&e.query?[2,e]:[4,Object(p.a)().get(e,t)];case 1:return[2,n.sent()]}})})}n.d(t,"b",function(){return w}),n.d(t,"c",function(){return x}),n.d(t,"a",function(){return j});var w=Object(l.eventFactory)("panel-added"),x=Object(l.eventFactory)("panel-removed"),O={events:!0,fullscreen:!0,isEditing:!0,isInView:!0,isNewEdit:!0,hasRefreshed:!0,cachedPluginOptions:!0,plugin:!0,queryRunner:!0},_={id:!0,gridPos:!0,type:!0,title:!0,scopedVars:!0,repeat:!0,repeatIteration:!0,repeatPanelId:!0,repeatDirection:!0,repeatedByRow:!0,minSpan:!0,collapsed:!0,panels:!0,targets:!0,datasource:!0,timeFrom:!0,timeShift:!0,hideTimeOverride:!0,description:!0,links:!0,fullscreen:!0,isEditing:!0,hasRefreshed:!0,events:!0,cacheTimeout:!0,cachedPluginOptions:!0,transparent:!0,pluginVersion:!0,queryRunner:!0,transformations:!0},k={gridPos:{x:0,y:0,h:3,w:6},targets:[{refId:"A"}],cachedPluginOptions:{},transparent:!1},j=function(){function e(e){for(var t in this.events=new o.a,this.datasource=null,e)this[t]=e[t];i.a.defaultsDeep(this,i.a.cloneDeep(k)),this.ensureQueryIds()}return e.prototype.ensureQueryIds=function(){var e,t;if(this.targets&&i.a.isArray(this.targets))try{for(var n=Object(a.__values)(this.targets),r=n.next();!r.done;r=n.next()){var o=r.value;o.refId||(o.refId=Object(s.b)(this.targets))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.getOptions=function(){return this.options},e.prototype.updateOptions=function(e){this.options=e,this.render()},e.prototype.getSaveModel=function(){var e={};for(var t in this)!O[t]&&this.hasOwnProperty(t)&&(i.a.isEqual(this[t],k[t])||(e[t]=i.a.cloneDeep(this[t])));return e},e.prototype.setViewMode=function(e,t){this.fullscreen=e,this.isEditing=t,this.events.emit(l.PanelEvents.viewModeChanged)},e.prototype.updateGridPos=function(e){var t=!1;this.gridPos.w===e.w&&this.gridPos.h===e.h||(t=!0),this.gridPos.x=e.x,this.gridPos.y=e.y,this.gridPos.w=e.w,this.gridPos.h=e.h,t&&this.events.emit(l.PanelEvents.panelSizeChanged)},e.prototype.resizeDone=function(){this.events.emit(l.PanelEvents.panelSizeChanged)},e.prototype.refresh=function(){this.hasRefreshed=!0,this.events.emit(l.PanelEvents.refresh)},e.prototype.render=function(){this.hasRefreshed?this.events.emit(l.PanelEvents.render):this.refresh()},e.prototype.initialized=function(){this.events.emit(l.PanelEvents.panelInitialized)},e.prototype.getOptionsToRemember=function(){var e=this;return Object.keys(this).reduce(function(t,n){var r;return O[n]||_[n]?t:Object(a.__assign)(Object(a.__assign)({},t),((r={})[n]=e[n],r))},{})},e.prototype.restorePanelOptions=function(e){var t=this,n=this.cachedPluginOptions[e]||{};Object.keys(n).map(function(e){t[e]=n[e]})},e.prototype.applyPluginOptionDefaults=function(e){e.angularConfigCtrl||(this.options=i.a.mergeWith({},e.defaults,this.options||{},function(e,t){if(i.a.isArray(t))return t}))},e.prototype.pluginLoaded=function(e){if(this.plugin=e,e.panel&&e.onPanelMigration){var t=C(e);t!==this.pluginVersion&&(this.options=e.onPanelMigration(this),this.pluginVersion=t)}this.applyPluginOptionDefaults(e)},e.prototype.changePlugin=function(e){var t,n,r=e.meta.id,o=this.getOptionsToRemember(),s=this.type,l=!!this.plugin.angularPanelCtrl;l&&this.destroy();try{for(var c=Object(a.__values)(i.a.keys(this)),u=c.next();!u.done;u=c.next()){var d=u.value;_[d]||delete this[d]}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(this.cachedPluginOptions[s]=o,this.restorePanelOptions(r),e.onPanelTypeChanged){var p={};l?p={angular:o}:o&&o.options&&(p=o.options),this.options=this.options||{},Object.assign(this.options,e.onPanelTypeChanged(this.options,s,p))}this.type=r,this.plugin=e,this.applyPluginOptionDefaults(e),e.onPanelMigration&&(this.pluginVersion=C(e))},e.prototype.addQuery=function(e){(e=e||{refId:"A"}).refId=Object(s.b)(this.targets),this.targets.push(e)},e.prototype.changeQuery=function(e,t){e.refId=this.targets[t].refId,this.targets=this.targets.map(function(n,a){return a===t?e:n})},e.prototype.getQueryRunner=function(){return this.queryRunner||(this.queryRunner=new v,this.setTransformations(this.transformations)),this.queryRunner},e.prototype.hasTitle=function(){return this.title&&this.title.length>0},e.prototype.isAngularPlugin=function(){return this.plugin&&!!this.plugin.angularPanelCtrl},e.prototype.destroy=function(){this.events.emit(l.PanelEvents.panelTeardown),this.events.removeAllListeners(),this.queryRunner&&(this.queryRunner.destroy(),this.queryRunner=null)},e.prototype.setTransformations=function(e){this.transformations=e,this.getQueryRunner().setTransformations(e)},e}();function C(e){return e&&e.meta.info.version?e.meta.info.version:c.b.buildInfo.version}},KBRh:function(e,t){},Kcoi:function(e,t,n){"use strict";var a=n("mrSG"),r=Object,i=["black","red","green","yellow","blue","magenta","cyan","lightGray","","default"],o=["darkGray","lightRed","lightGreen","lightYellow","lightBlue","lightMagenta","lightCyan","white",""],s=["","bright","dim","italic","underline","","","inverse"],l={red:"lightRed",green:"lightGreen",yellow:"lightYellow",blue:"lightBlue",magenta:"lightMagenta",cyan:"lightCyan",black:"darkGray",lightGray:"white"},c={0:"style",2:"unstyle",3:"color",9:"colorLight",4:"bgColor",10:"bgColorLight"},u={color:i,colorLight:o,bgColor:i,bgColorLight:o,style:s,unstyle:s},d=function(e){for(var t in e)e[t]||delete e[t];return 0===r.keys(e).length?void 0:e},p=function(){function e(e,t,n){this.background=e,this.name=t,this.brightness=n}return Object.defineProperty(e.prototype,"inverse",{get:function(){return new e(!this.background,this.name||(this.background?"black":"white"),this.brightness)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clean",{get:function(){return d({name:"default"===this.name?"":this.name,bright:this.brightness===f.bright,dim:this.brightness===f.dim})},enumerable:!0,configurable:!0}),e.prototype.defaultBrightness=function(t){return new e(this.background,this.name,this.brightness||t)},e.prototype.css=function(e){var t=e?this.inverse:this,n=t.brightness===f.bright&&l[t.name]||t.name,r=t.background?"background:":"color:",i=w.rgb[n],o=this.brightness===f.dim?.5:1;return i?r+"rgba("+Object(a.__spread)(i,[o]).join(",")+");":!t.background&&o<1?"color:rgba(0,0,0,0.5);":""},e}(),f=function(){function e(e){this.value=void 0!==e?Number(e):void 0}return Object.defineProperty(e.prototype,"type",{get:function(){return c[Math.floor(this.value/10)]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtype",{get:function(){return u[this.type][this.value%10]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"str",{get:function(){return this.value?"["+this.value+"m":""},enumerable:!0,configurable:!0}),e.str=function(t){return new e(t).str},Object.defineProperty(e.prototype,"isBrightness",{get:function(){return this.value===e.noBrightness||this.value===e.bright||this.value===e.dim},enumerable:!0,configurable:!0}),e.reset=0,e.bright=1,e.dim=2,e.inverse=7,e.noBrightness=22,e.noItalic=23,e.noUnderline=24,e.noInverse=27,e.noColor=39,e.noBgColor=49,e}(),h=function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)},m=Object(a.__spread)(i.map(function(e,t){return e?[[e,30+t,f.noColor],[h("bg",e),40+t,f.noBgColor]]:[]}),o.map(function(e,t){return e?[[e,90+t,f.noColor],[h("bg",e),100+t,f.noBgColor]]:[]}),["","BrightRed","BrightGreen","BrightYellow","BrightBlue","BrightMagenta","BrightCyan"].map(function(e,t){return e?[["bg"+e,100+t,f.noBgColor]]:[]}),s.map(function(e,t){return e?[[e,t,"bright"===e||"dim"===e?f.noBrightness:20+t]]:[]})).reduce(function(e,t){return e.concat(t)}),g=function(e,t){return void 0===t&&(t=e),m.reduce(function(e,n){var i=Object(a.__read)(n,3),o=i[0],s=i[1],l=i[2];return r.defineProperty(e,o,{get:function(){return g(function(e){return t(function(e,t,n){var a=f.str(t),r=f.str(n);return String(e).split("\n").map(function(e){return function(e){return e.replace(/(\u001b\[(1|2)m)/g,"[22m$1")}(a+(t=e.replace(/\u001b\[22m(\u001b\[(1|2)m)/g,"$1"),n=r,i=a,t.split(n).join(i))+r);var t,n,i}).join("\n")}(e,s,l))})}})},e)},b=0,v=1,y=2;var w=function(){function e(e){this.spans=e?function(e){for(var t,n,r=b,i="",o="",s="",l=[],c=[],u=0,d=e.length;u<d;u++){var p=e[u];switch(i+=p,r){case b:""===p?(r=v,i=p):o+=p;break;case v:"["===p?(r=y,s="",l=[]):(r=b,o+=i);break;case y:if(p>="0"&&p<="9")s+=p;else if(";"===p)l.push(new f(s)),s="";else if("m"===p&&s.length){l.push(new f(s));try{for(var h=(t=void 0,Object(a.__values)(l)),m=h.next();!m.done;m=h.next()){var g=m.value;c.push({text:o,code:g}),o=""}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}r=b}else r=b,o+=i}}return r!==b&&(o+=i),o&&c.push({text:o,code:new f}),c}(e):[]}return Object.defineProperty(e.prototype,"str",{get:function(){return this.spans.reduce(function(e,t){return e+t.text+t.code.str},"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parsed",{get:function(){var t,n,i,o;function s(){i=new p,o=new p(!0),n=void 0,t=new Set}return s(),r.assign(new e,{spans:this.spans.map(function(e){var l,c,u=e.code,h=t.has("inverse"),m=t.has("underline")?"text-decoration: underline;":"",g=t.has("italic")?"font-style: italic;":"",b=n===f.bright?"font-weight: bold;":"",v=i.defaultBrightness(n),y=r.assign({css:b+g+m+v.css(h)+o.css(h)},d({bold:!!b,color:v.clean,bgColor:o.clean}),e);try{for(var w=Object(a.__values)(t),x=w.next();!x.done;x=w.next()){y[x.value]=!0}}catch(e){l={error:e}}finally{try{x&&!x.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}if(u.isBrightness)n=u.value;else if(void 0!==e.code.value)if(e.code.value===f.reset)s();else switch(e.code.type){case"color":case"colorLight":i=new p(!1,u.subtype);break;case"bgColor":case"bgColorLight":o=new p(!0,u.subtype);break;case"style":t.add(u.subtype);break;case"unstyle":t.delete(u.subtype)}return y}).filter(function(e){return e.text.length>0})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asChromeConsoleLogArguments",{get:function(){var e=this.parsed.spans;return Object(a.__spread)([e.map(function(e){return"%c"+e.text}).join("")],e.map(function(e){return e.css}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"browserConsoleArguments",{get:function(){return this.asChromeConsoleLogArguments},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nice",{get:function(){return e.names.forEach(function(t){t in String.prototype||r.defineProperty(String.prototype,t,{get:function(){return e[t](this)}})}),e},enumerable:!0,configurable:!0}),e.parse=function(t){return new e(t).parsed},e.strip=function(e){return e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,"")},e.prototype[Symbol.iterator]=function(){return this.spans[Symbol.iterator]()},e.names=m.map(function(e){return Object(a.__read)(e,1)[0]}),e.rgb={black:[0,0,0],darkGray:[100,100,100],lightGray:[200,200,200],white:[255,255,255],red:[204,0,0],lightRed:[255,51,0],green:[0,204,0],lightGreen:[51,204,51],yellow:[204,102,0],lightYellow:[255,153,51],blue:[0,0,255],lightBlue:[26,140,255],magenta:[204,0,204],lightMagenta:[255,0,255],cyan:[0,153,255],lightCyan:[0,204,255]},e}();t.a=w,g(w,function(e){return e})},Ke2B:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a,r,i,o=n("mrSG"),s=n("q1tI"),l=n.n(s),c=n("PAeb"),u=n("Fts8"),d=function(e){var t=e.items,n=e.columns,d=e.sortBy,p=e.sortDesc,f=e.itemRenderer,h=e.className,m=e.onToggleSort,g=Object(s.useContext)(u.a);return l.a.createElement("table",{className:Object(c.cx)(Object(c.css)(a||(a=Object(o.__makeTemplateObject)(["\n          width: 100%;\n          td {\n            padding: 2px 10px;\n          }\n        "],["\n          width: 100%;\n          td {\n            padding: 2px 10px;\n          }\n        "]))),h)},l.a.createElement("thead",null,l.a.createElement("tr",null,n.map(function(e){return l.a.createElement("th",{key:e,className:Object(c.css)(r||(r=Object(o.__makeTemplateObject)(["\n                  color: ",";\n                  font-weight: bold;\n                  text-align: right;\n                  cursor: pointer;\n                "],["\n                  color: ",";\n                  font-weight: bold;\n                  text-align: right;\n                  cursor: pointer;\n                "])),g.colors.blue),onClick:function(){m&&m(e)}},e,d===e&&l.a.createElement("span",{className:Object(c.cx)("fa fa-caret-"+(p?"down":"up"),Object(c.css)(i||(i=Object(o.__makeTemplateObject)(["\n                        margin-left: ",";\n                      "],["\n                        margin-left: ",";\n                      "])),g.spacing.sm))}))}))),l.a.createElement("tbody",null,t.map(function(e,t){return f?f(e,t):l.a.createElement("tr",{key:e.label+"-"+t},l.a.createElement("td",null,e.label))})))}},KgU3:function(e,t,n){"use strict";n.r(t);var a=n("1BU0");n.d(t,"LoadingState",function(){return a.a}),n.d(t,"NullValueMode",function(){return a.b});var r=n("HJqT");n.d(t,"FieldType",function(){return r.a});var i=n("eqXR");for(var o in i)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return i[e]})}(o);var s=n("RH9q");n.d(t,"LogLevel",function(){return s.a}),n.d(t,"LogsMetaKind",function(){return s.d}),n.d(t,"LogsDedupStrategy",function(){return s.c}),n.d(t,"LogsDedupDescription",function(){return s.b});var l=n("a9tP");for(var o in l)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return l[e]})}(o);var c=n("nnkO");for(var o in c)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return c[e]})}(o);var u=n("5VON");n.d(t,"DefaultTimeZone",function(){return u.b}),n.d(t,"TIME_FORMAT",function(){return u.c}),n.d(t,"DefaultTimeRange",function(){return u.a});var d=n("mgzm");n.d(t,"ThresholdsMode",function(){return d.a});var p=n("5m9O");n.d(t,"eventFactory",function(){return p.a});var f=n("6edu");n.d(t,"MappingType",function(){return f.a});var h=n("cFxn");for(var o in h)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return h[e]})}(o);var m=n("Qrgx");for(var o in m)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return m[e]})}(o);var g=n("pu3h");for(var o in g)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return g[e]})}(o);var b=n("BxXJ");for(var o in b)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return b[e]})}(o);var v=n("0HV/");for(var o in v)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return v[e]})}(o);var y=n("QNe1");for(var o in y)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return y[e]})}(o);var w=n("/r3D");n.d(t,"CoreApp",function(){return w.b}),n.d(t,"AppPlugin",function(){return w.a});var x=n("Z6j/");n.d(t,"DataSourcePlugin",function(){return x.b}),n.d(t,"DataSourceApi",function(){return x.a}),n.d(t,"DataSourceStatus",function(){return x.c}),n.d(t,"LanguageProvider",function(){return x.d});var O=n("BwrN");n.d(t,"PanelPlugin",function(){return O.a}),n.d(t,"VizOrientation",function(){return O.b});var _=n("CnP+");n.d(t,"PluginState",function(){return _.c}),n.d(t,"PluginType",function(){return _.d}),n.d(t,"PluginIncludeType",function(){return _.b}),n.d(t,"GrafanaPlugin",function(){return _.a});var k=n("QGP0");n.d(t,"FieldColorMode",function(){return k.b}),n.d(t,"ColorScheme",function(){return k.a});var j=n("UcAx");n.d(t,"GrafanaThemeType",function(){return j.a});var C=n("/FV5");n.d(t,"OrgRole",function(){return C.a});var S=n("QlHa");for(var o in S)["AppEvent","AppEvents","PanelEvents","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","LogsDedupDescription","DefaultTimeZone","TIME_FORMAT","DefaultTimeRange","ThresholdsMode","eventFactory","MappingType","CoreApp","AppPlugin","DataSourcePlugin","DataSourceApi","DataSourceStatus","LanguageProvider","PanelPlugin","VizOrientation","PluginState","PluginType","PluginIncludeType","GrafanaPlugin","FieldColorMode","ColorScheme","GrafanaThemeType","OrgRole","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return S[e]})}(o);var E=n("vi1D");n.d(t,"AppEvents",function(){return E}),n.d(t,"AppEvent",function(){return E.AppEvent});var T=n("/GJV");n.d(t,"PanelEvents",function(){return T})},KwPh:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi");function s(e,t){var n=t.typeaheadContext,a=t.typeaheadText;switch(n){case"context-labels":var r=o.DOMUtil.getNextCharacter();r&&"}"!==r&&","!==r||(e+="=");break;case"context-label-values":a.match(/^(!?=~?"|")/)||(e='"'+e),'"'!==o.DOMUtil.getNextCharacter()&&(e+='"')}return e}var l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.loadOptions=function(e){r.props.onLoadOptions(e)},r.onChangeLogLabels=function(e,t){if(2===t.length){var n="{"+t[0].value+'="'+t[1].value+'"}';r.onChangeQuery(n,!0)}},r.onChangeQuery=function(e,t){var n=r.props,i=n.query,o=n.onChange,s=n.onRunQuery;o&&(o(Object(a.__assign)(Object(a.__assign)({},i),{expr:e})),t&&s&&s())},r.onTypeahead=function(e){return Object(a.__awaiter)(r,void 0,Promise,function(){var t,n,r,i,o,s,l,c,u,d;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return(t=this.props.datasource).languageProvider?(n=t.languageProvider,r=this.props,i=r.history,o=r.absoluteRange,s=e.prefix,l=e.text,c=e.value,u=e.wrapperClasses,d=e.labelKey,[4,n.provideCompletionItems({text:l,value:c,prefix:s,wrapperClasses:u,labelKey:d},{history:i,absoluteRange:o})]):[2,{suggestions:[]}];case 1:return[2,a.sent()]}})})},r.plugins=[Object(o.BracesPlugin)(),Object(o.SlatePrism)({onlyIn:function(e){return"block"===e.object&&"code_block"===e.type},getSyntax:function(e){return"promql"}})],r}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.query,a=e.syntaxLoaded,r=e.logLabelOptions,l=e.onLoadOptions,c=e.onLabelsRefresh,u=e.datasource,d=u.languageProvider,p=u.languageProvider?d.cleanText:void 0,f=r&&r.length>0,h=function(e,t){return e?t?"Log labels":"(No labels found)":"Loading labels..."}(a,f),m=!(a&&f),g=t&&t.error&&t.error.refId===n.refId;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("div",{className:"gf-form"},i.a.createElement(o.ButtonCascader,{options:r||[],disabled:m,onChange:this.onChangeLogLabels,loadData:l,onPopupVisibleChange:function(e){return e&&c&&c()}},h)),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement(o.QueryField,{additionalPlugins:this.plugins,cleanText:p,query:n.expr,onTypeahead:this.onTypeahead,onWillApplySuggestion:s,onChange:this.onChangeQuery,onBlur:this.props.onBlur,onRunQuery:this.props.onRunQuery,placeholder:"Enter a Loki query",portalOrigin:"loki",syntaxLoaded:a}))),i.a.createElement("div",null,g?i.a.createElement("div",{className:"prom-query-field-info text-error"},t.error.message):null))},t}(i.a.PureComponent)},LCjV:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n("Obii"),r=function(e,t){var n,r,i={from:Object(a.toUtc)(t.from),to:Object(a.toUtc)(t.to)},o=(i.to.valueOf()-i.from.valueOf())/2;return-1===e?(n=i.to.valueOf()-o,r=i.from.valueOf()-o):1===e?(n=i.to.valueOf()+o,r=i.from.valueOf()+o,n>Date.now()&&i.to.valueOf()<Date.now()&&(n=Date.now(),r=i.from.valueOf())):(n=i.to.valueOf(),r=i.from.valueOf()),{from:r,to:n}},i=function(e,t){var n=e.to.valueOf()-e.from.valueOf(),a=e.to.valueOf()-n/2;return{from:a-n*t/2,to:a+n*t/2}}},LOGi:function(e,t,n){"use strict";(function(e){var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("ZFWI"),s=n("3SGO"),l=n("/MKj"),c=n("t8hP"),u=n("0cfB"),d=n("Xmxp"),p=n("Obii"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.result={},n.changePassword=function(e){var t={newPassword:e,confirmNew:e,oldPassword:"admin"};Object(c.getBackendSrv)().put("/api/user/password",t).then(function(){n.toGrafana()}).catch(function(e){return console.log(e)})},n.login=function(e){n.setState({isLoggingIn:!0}),Object(c.getBackendSrv)().post("/login",e).then(function(t){n.result=t,"admin"!==e.password||o.b.ldapEnabled||o.b.authProxyEnabled?n.toGrafana():n.changeView()}).catch(function(){n.setState({isLoggingIn:!1})})},n.changeView=function(){n.setState({isChangingPassword:!0})},n.toGrafana=function(){var e=n.props.routeParams;e.redirect&&"/"===e.redirect[0]?window.location.href=o.b.appSubUrl+e.redirect:n.result.redirectUrl?window.location.href=o.b.appSubUrl+n.result.redirectUrl:window.location.href=o.b.appSubUrl+"/"},n.state={isLoggingIn:!1,isChangingPassword:!1},o.b.loginError&&d.b.emit(p.AppEvents.alertWarning,["Login Failed",o.b.loginError]),n}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.children,t=this.state,n=t.isLoggingIn,a=t.isChangingPassword,r=this.login,s=this.toGrafana,l=this.changePassword,c=o.b.loginHint,u=o.b.passwordHint,d=o.b.disableLoginForm,p=o.b.ldapEnabled,f=o.b.authProxyEnabled,h=o.b.disableUserSignUp;return i.a.createElement(i.a.Fragment,null,e({isOauthEnabled:!!o.b.oauth&&Object.keys(o.b.oauth).length>0,loginHint:c,passwordHint:u,disableLoginForm:d,ldapEnabled:p,authProxyEnabled:f,disableUserSignUp:h,login:r,isLoggingIn:n,changePassword:l,skipPasswordChange:s,isChangingPassword:a}))},t}(r.PureComponent),h={updateLocation:s.c};t.a=Object(u.hot)(e)(Object(l.connect)(function(e){return{routeParams:e.location.routeParams}},h)(f))}).call(this,n("3UD+")(e))},LUja:function(e,t){},Lmi3:function(e,t){var n="public/app/plugins/panel/graph/tab_display.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Draw Modes</h5>\n    <gf-form-switch class=gf-form label=Bars label-class=width-5 checked=ctrl.panel.bars on-change=ctrl.render()></gf-form-switch>\n    <gf-form-switch class=gf-form label=Lines label-class=width-5 checked=ctrl.panel.lines on-change=ctrl.render()></gf-form-switch>\n    <gf-form-switch class=gf-form label=Points label-class=width-5 checked=ctrl.panel.points on-change=ctrl.render()></gf-form-switch>\n  </div>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Mode Options</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Fill</label>\n      <div class="gf-form-select-wrapper max-width-5">\n        <select class=gf-form-input ng-model=ctrl.panel.fill ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change=ctrl.render() ng-disabled=!ctrl.panel.lines></select>\n      </div>\n    </div>\n    <div class=gf-form ng-if="ctrl.panel.lines && ctrl.panel.fill">\n      <label class="gf-form-label width-8">Fill Gradient</label>\n      <div class="gf-form-select-wrapper max-width-5">\n        <select class=gf-form-input ng-model=ctrl.panel.fillGradient ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Line Width</label>\n      <div class="gf-form-select-wrapper max-width-5">\n        <select class=gf-form-input ng-model=ctrl.panel.linewidth ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change=ctrl.render() ng-disabled=!ctrl.panel.lines></select>\n      </div>\n    </div>\n    <gf-form-switch ng-disabled=!ctrl.panel.lines class=gf-form label=Staircase label-class=width-8 checked=ctrl.panel.steppedLine on-change=ctrl.render()>\n    </gf-form-switch>\n    <div class=gf-form ng-if=ctrl.panel.points>\n      <label class="gf-form-label width-8">Point Radius</label>\n      <div class="gf-form-select-wrapper max-width-5">\n        <select class=gf-form-input ng-model=ctrl.panel.pointradius ng-options="f for f in [0.5,1,2,3,4,5,6,7,8,9,10]" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n  </div>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Hover tooltip</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-9">Mode</label>\n      <div class="gf-form-select-wrapper max-width-8">\n        <select class=gf-form-input ng-model=ctrl.panel.tooltip.shared ng-options="f.value as f.text for f in [{text: \'All series\', value: true}, {text: \'Single\', value: false}]" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-9">Sort order</label>\n      <div class="gf-form-select-wrapper max-width-8">\n        <select class=gf-form-input ng-model=ctrl.panel.tooltip.sort ng-options="f.value as f.text for f in [{text: \'None\', value: 0}, {text: \'Increasing\', value: 1}, {text: \'Decreasing\', value: 2}]" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n    <div class=gf-form ng-show=ctrl.panel.stack>\n      <label class="gf-form-label width-9">Stacked value</label>\n      <div class="gf-form-select-wrapper max-width-8">\n        <select class=gf-form-input ng-model=ctrl.panel.tooltip.value_type ng-options="f for f in [\'cumulative\',\'individual\']" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Stacking & Null value</h5>\n    <gf-form-switch class=gf-form label=Stack label-class=width-7 checked=ctrl.panel.stack on-change=ctrl.render()>\n    </gf-form-switch>\n    <gf-form-switch class=gf-form ng-show=ctrl.panel.stack label=Percent label-class=width-7 checked=ctrl.panel.percentage on-change=ctrl.render()>\n    </gf-form-switch>\n    <div class=gf-form>\n      <label class="gf-form-label width-7">Null value</label>\n      <div class=gf-form-select-wrapper>\n        <select class="gf-form-input max-width-9" ng-model=ctrl.panel.nullPointMode ng-options="f for f in [\'connected\', \'null\', \'null as zero\']" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div>\n  <div class=gf-form-inline ng-repeat="override in ctrl.panel.seriesOverrides" ng-controller=SeriesOverridesCtrl>\n    <div class=gf-form>\n      <label class=gf-form-label>alias or regex</label>\n    </div>\n    <div class="gf-form width-15">\n      <input type=text ng-model=override.alias bs-typeahead=getSeriesNames ng-blur=ctrl.render() data-min-length=0 data-items=100 class="gf-form-input width-15"/>\n    </div>\n    <div class=gf-form ng-repeat="option in currentOverrides">\n      <label class=gf-form-label>\n        <i class="pointer fa fa-remove" ng-click=removeOverride(option)></i>\n        <span ng-show="option.propertyName === \'color\'">\n          Color: <i class="fa fa-circle" ng-style={color:option.value}></i>\n        </span>\n        <span ng-show="option.propertyName !== \'color\'"> {{ option.name }}: {{ option.value }} </span>\n      </label>\n    </div>\n\n    <div class=gf-form>\n      <span class=dropdown dropdown-typeahead2=overrideMenu dropdown-typeahead-on-select="setOverride($item, $subItem)" button-template-class=gf-form-label>\n      </span>\n    </div>\n\n    <div class="gf-form gf-form--grow">\n      <div class="gf-form-label gf-form-label--grow"></div>\n    </div>\n\n    <div class=gf-form>\n      <label class=gf-form-label>\n        <i class="fa fa-trash pointer" ng-click=ctrl.removeSeriesOverride(override)></i>\n      </label>\n    </div>\n  </div>\n  <div class=gf-form-button-row>\n    <button class="btn btn-inverse" ng-click=ctrl.addSeriesOverride()>\n      <i class="fa fa-plus"></i>&nbsp;Add series override<tip>Regex match example: /server[0-3]/i </tip>\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},Lrfw:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("lonE"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return i.a.createElement(o.a,Object(a.__assign)({},this.props))},t}(i.a.PureComponent)},LtRX:function(e,t,n){"use strict";function a(e){return Array.from(new Array(e+1),function(e,t){return t}).filter(function(t){return e%t==0})}n.d(t,"a",function(){return a})},LzXI:function(e,t,n){"use strict";n.r(t);var a=n("AVRW"),r=n("mrSG"),i=n("LvDl"),o=n.n(i),s=n("PbtU"),l=n("m257"),c=n("+JUD"),u=n("Obii"),d=n("GQ3c"),p=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.useDataFrames=!1,a.panelDataObserver={next:function(e){if(e.state===u.LoadingState.Error&&(a.loading=!1,a.processDataError(e.error)),e.state===u.LoadingState.Loading)return a.loading=!0,void a.angularDirtyCheck();if(e.request){var t=e.request.timeInfo;t&&(a.timeInfo=t)}if(e.timeRange&&(a.range=e.timeRange),a.useDataFrames)a.handleDataFrames(e.series);else{var n=e.series.map(function(e){return Object(u.toLegacyResponseData)(e)});a.handleQueryResult({data:n})}a.angularDirtyCheck()}},a.contextSrv=n.get("contextSrv"),a.datasourceSrv=n.get("datasourceSrv"),a.timeSrv=n.get("timeSrv"),a.templateSrv=n.get("templateSrv"),a.scope=t,a.panel.datasource=a.panel.datasource||null,a.events.on(u.PanelEvents.refresh,a.onMetricsPanelRefresh.bind(a)),a.events.on(u.PanelEvents.panelTeardown,a.onPanelTearDown.bind(a)),a}return Object(r.__extends)(t,e),t.prototype.onPanelTearDown=function(){this.querySubscription&&(this.querySubscription.unsubscribe(),this.querySubscription=null)},t.prototype.onMetricsPanelRefresh=function(){var e=this;if(!this.otherPanelInFullscreenMode()){if(this.panel.snapshotData){this.updateTimeRange();var t=this.panel.snapshotData;return o.a.isArray(t)||(t=t.data),this.$timeout(function(){e.events.emit(u.PanelEvents.dataSnapshotLoad,t)})}return delete this.error,this.loading=!0,this.datasourceSrv.get(this.panel.datasource,this.panel.scopedVars).then(this.updateTimeRange.bind(this)).then(this.issueQueries.bind(this)).catch(function(t){e.processDataError(t)})}},t.prototype.processDataError=function(e){e.cancelled?console.log("Panel request cancelled",e):(this.error=e.message||"Request Error",e.data&&(e.data.message?this.error=e.data.message:e.data.error&&(this.error=e.data.error)),this.angularDirtyCheck())},t.prototype.angularDirtyCheck=function(){this.$scope.$root.$$phase||this.$scope.$digest()},t.prototype.updateTimeRange=function(e){this.datasource=e||this.datasource,this.range=this.timeSrv.timeRange(),this.resolution=Object(c.f)(this.panel);var t=Object(c.a)(this.panel,this.range);return this.timeInfo=t.timeInfo,this.range=t.timeRange,this.calculateInterval(),this.datasource},t.prototype.calculateInterval=function(){var e=this.panel.interval;e?e=this.templateSrv.replace(e,this.panel.scopedVars):this.datasource&&this.datasource.interval&&(e=this.datasource.interval);var t=s.a.calculateInterval(this.range,this.resolution,e);this.interval=t.interval,this.intervalMs=t.intervalMs},t.prototype.issueQueries=function(e){this.datasource=e;var t=this.panel,n=t.getQueryRunner();return this.querySubscription||(this.querySubscription=n.getData().subscribe(this.panelDataObserver)),n.run({datasource:t.datasource,queries:t.targets,panelId:t.id,dashboardId:this.dashboard.id,timezone:this.dashboard.timezone,timeRange:this.range,widthPixels:this.resolution,maxDataPoints:t.maxDataPoints,minInterval:t.interval,scopedVars:t.scopedVars,cacheTimeout:t.cacheTimeout,transformations:t.transformations})},t.prototype.handleDataFrames=function(e){this.loading=!1,this.dashboard&&this.dashboard.snapshot&&(this.panel.snapshotData=e.map(function(e){return Object(u.toDataFrameDTO)(e)}));try{this.events.emit(d.CoreEvents.dataFramesReceived,e)}catch(e){this.processDataError(e)}},t.prototype.handleQueryResult=function(e){this.loading=!1,this.dashboard.snapshot&&(this.panel.snapshotData=e.data),e&&e.data||(console.log("Data source query result invalid, missing data field:",e),e={data:[]});try{this.events.emit(u.PanelEvents.dataReceived,e.data)}catch(e){this.processDataError(e)}},t.prototype.getAdditionalMenuItems=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return e=[],this.contextSrv.hasAccessToExplore()&&this.datasource?(n=(t=e).push,a={text:"Explore",icon:"gicon gicon-explore",shortcut:"x"},[4,Object(l.k)({panel:this.panel,panelTargets:this.panel.targets,panelDatasource:this.datasource,datasourceSrv:this.datasourceSrv,timeSrv:this.timeSrv})]):[3,2];case 1:n.apply(t,[(a.href=r.sent(),a)]),r.label=2;case 2:return[2,e]}})})},t}(a.a),f=n("fQqI"),h=n("eK0o"),m=n("t8hP");n.d(t,"PanelCtrl",function(){return a.a}),n.d(t,"MetricsPanelCtrl",function(){return p}),n.d(t,"QueryCtrl",function(){return f.a}),n.d(t,"alertTab",function(){return h.a}),n.d(t,"loadPluginCss",function(){return m.loadPluginCss})},LzuI:function(e,t){var n="public/app/plugins/datasource/elasticsearch/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n\t<div class=gf-form ng-if=ctrl.annotation.index>\n\t\t<span class="gf-form-label width-14">Index name</span>\n\t\t<input type=text class="gf-form-input max-width-20" ng-model=ctrl.annotation.index placeholder=events-*>\n\t</div>\n\t<div class=gf-form-group>\n\t\t<div class=gf-form>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.annotation.query placeholder="Elasticsearch lucene query">\n\t\t</div>\n\t</div>\n</div>\n\n<div class=gf-form-group>\n\t<h6>Field mappings</h6>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>Time</span>\n\t\t\t<input type=text class="gf-form-input max-width-14" ng-model=ctrl.annotation.timeField placeholder=@timestamp>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>Time End</span>\n\t\t\t<input type=text class="gf-form-input max-width-14" ng-model=ctrl.annotation.timeEndField placeholder="">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>Text</span>\n\t\t\t<input type=text class="gf-form-input max-width-14" ng-model=ctrl.annotation.textField placeholder="">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>Tags</span>\n\t\t\t<input type=text class="gf-form-input max-width-10" ng-model=ctrl.annotation.tagsField placeholder=tags>\n\t\t</div>\n\t\t<div class=gf-form ng-show=ctrl.annotation.titleField>\n\t\t\t<span class=gf-form-label>Title <em class=muted>(deprecated)</em></span>\n\t\t\t<input type=text class="gf-form-input max-width-16" ng-model=ctrl.annotation.titleField placeholder=desc>\n\t\t</div>\n\t</div>\n</div>\n')}]),e.exports=n},M76c:function(e,t){var n="public/app/features/playlist/partials/playlists.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n  <div ng-if="ctrl.playlists.length > 0">\n    <div class=page-action-bar>\n      <div class=page-action-bar__spacer></div>\n      <a class="btn btn-primary pull-right" href=playlists/create>\n        New playlist\n      </a>\n    </div>\n\n    <table class="filter-table filter-table--hover">\n      <thead>\n        <th><strong>Name</strong></th>\n        <th style=width:100px></th>\n        <th style=width:78px></th>\n      </thead>\n      <tr ng-repeat="playlist in ctrl.playlists">\n        <td class=link-td>\n          <a href=playlists/edit/{{playlist.id}}>{{playlist.name}}</a>\n        </td>\n        <td class=dropdown>\n          <button class="btn btn-inverse btn-small" data-toggle=dropdown>\n            Start playlist\n            <i class="fa fa-caret-down"></i>\n          </button>\n          <ul class=dropdown-menu role=menu>\n            <li>\n              <a href={{playlist.startUrl}}>\n                <i class="fa fa-play"></i> In Normal mode\n              </a>\n              <a href="{{playlist.startUrl}}?kiosk=tv">\n                <i class="fa fa-play"></i> In TV mode\n              </a>\n              <a href="{{playlist.startUrl}}?kiosk=tv&autofitpanels">\n                <i class="fa fa-play"></i> In TV mode <span class=muted>(with auto fit panels)</span>\n              </a>\n              <a href={{playlist.startUrl}}?kiosk>\n                <i class="fa fa-play"></i> In Kiosk mode\n              </a>\n              <a ng-href={{playlist.startUrl}}?kiosk&autofitpanels>\n                <i class="fa fa-play"></i> In Kiosk mode <span class=muted>(with auto fit panels)</span>\n              </a>\n            </li>\n          </ul>\n        </td>\n        <td class=text-right>\n          <a ng-click=ctrl.removePlaylist(playlist) class="btn btn-danger btn-small">\n            <i class="fa fa-remove"></i>\n          </a>\n        </td>\n      </tr>\n    </table>\n  </div>\n  <div ng-if="ctrl.playlists.length === 0">\n    <empty-list-cta title="\'There are no playlists created yet\'" buttonicon="\'fa fa-plus\'" buttonlink="\'playlists/create\'" buttontitle="\'Create Playlist\'" protip="\'You can use playlists to cycle dashboards on TVs without user control\'" protiplink="\'http://docs.grafana.org/reference/playlist/\'" protiplinktitle="\'Learn more\'" protiptarget="\'_blank\'"/>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},MAcC:function(e,t,n){"use strict";var a=n("Obii"),r=n("GkHB"),i=n("t8hP"),o=n("tLB3"),s=n.n(o);n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var l=function(e){var t=e.field.links;if(t&&0!==t.length)return{getLinks:function(n){var o,l,c={};if(e.view){var u=e.view.dataFrame;c.__series={value:{name:u.name,refId:u.refId},text:"Series"};var d=void 0!==e.colIndex?u.fields[e.colIndex]:void 0;if(d&&(console.log("Full Field Info:",d),c.__field={value:{name:d.name,labels:d.labels},text:"Field"}),isNaN(e.rowIndex))c.__value={value:{raw:e.display.numeric,numeric:e.display.numeric,text:Object(a.formattedValueToString)(e.display),calc:e.name},text:"Value"};else{var p=Object(a.getTimeField)(u).timeField;c.__value={value:{raw:d.values.get(e.rowIndex),numeric:e.display.numeric,text:Object(a.formattedValueToString)(e.display),time:p?p.values.get(e.rowIndex):void 0},text:"Value"},e.view&&(c.__data={value:{name:u.name,refId:u.refId,fields:(o=u,l=e.rowIndex,new Proxy({},{get:function(e,t){var n=o.fields.find(function(e){return t===e.name});if(!n){var r=s()(t);n=o.fields[r]}if(n||(n=o.fields.find(function(e){return t===e.config.title})),n){n.display||(n.display=Object(a.getDisplayProcessor)({field:n,theme:i.config.theme}));var c=n.values.get(l),u=n.display(c);return u.toString=function(){return Object(a.formattedValueToString)(u)},u}}}))},text:"Data"})}}else console.log("VALUE",e);return t.map(function(t){return Object(r.c)().getDataLinkUIModel(t,c,e)})}}},c=function(e){var t=e.links;if(t&&0!==t.length)return{getLinks:function(){return t.map(function(t){return Object(r.c)().getDataLinkUIModel(t,e.scopedVars,e)})}}},u=function(e,t){var n={};return n.__value={value:{raw:e.values.get(t)},text:"Raw value"},e.config.links?e.config.links.map(function(t){return Object(r.c)().getDataLinkUIModel(t,n,e)}):[]}},MIBK:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"cardChrome",function(){return l}),n.d(a,"listItem",function(){return c});var r=n("Fts8"),i=n("J4FA"),o=n("eGKl"),s=n("qQGB");function l(e){return e.isDark?"\n       background: linear-gradient(135deg, "+e.colors.dark8+", "+e.colors.dark6+");\n       &:hover {\n         background: linear-gradient(135deg, "+e.colors.dark9+", "+e.colors.dark6+");\n       }\n       box-shadow: -1px -1px 0 0 hsla(0, 0%, 100%, 0.1), 1px 1px 0 0 rgba(0, 0, 0, 0.3);\n       border-radius: "+e.border.radius.md+";\n    ":"\n       background: linear-gradient(135deg, "+e.colors.gray6+", "+e.colors.gray7+");\n       &:hover {\n         background: linear-gradient(135deg, "+e.colors.gray7+", "+e.colors.gray6+");\n       }\n       box-shadow: -1px -1px 0 0 hsla(0, 0%, 100%, 0.1), 1px 1px 0 0 rgba(0, 0, 0, 0.1);\n       border-radius: "+e.border.radius.md+";\n    "}function c(e){return e.isDark?"\n       background: "+e.colors.dark7+";\n       &:hover {\n         background: "+e.colors.dark9+";\n       }\n       box-shadow: -1px -1px 0 0 hsla(0, 0%, 100%, 0.1), 1px 1px 0 0 rgba(0, 0, 0, 0.3);\n       border-radius: "+e.border.radius.md+";\n    ":"\n       background: "+e.colors.gray7+";\n       &:hover {\n         background: "+e.colors.gray6+";\n       }\n       box-shadow: -1px -1px 0 0 hsla(0, 0%, 100%, 0.1), 1px 1px 0 0 rgba(0, 0, 0, 0.1);\n       border-radius: "+e.border.radius.md+";\n    "}n.d(t,"g",function(){return s.a}),n.d(t,"a",function(){return r.a}),n.d(t,"i",function(){return r.d}),n.d(t,"c",function(){return i.b}),n.d(t,"b",function(){return i.a}),n.d(t,"e",function(){return o.a}),n.d(t,"h",function(){return r.c}),n.d(t,"d",function(){return r.b}),n.d(t,"f",function(){return a})},MbqT:function(e,t,n){"use strict";n.r(t);var a=n("wK5K");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r)},N1Zo:function(e,t){var n="public/app/plugins/panel/table/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=table-panel-container>\n\t<div class=table-panel-header-bg ng-show=ctrl.table.rows.length></div>\n\t<div class=table-panel-scroll ng-show=ctrl.table.rows.length>\n\t\t<table class=table-panel-table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th ng-repeat="col in ctrl.table.columns" ng-if=!col.hidden>\n\t\t\t\t\t\t<div class="table-panel-table-header-inner pointer" ng-click="ctrl.toggleColumnSort(col, $index)">\n\t\t\t\t\t\t\t{{col.title}}\n\t\t\t\t\t\t\t<span class=table-panel-table-header-controls ng-if=col.sort>\n\t\t\t\t\t\t\t\t<i class="fa fa-caret-down" ng-show=col.desc></i>\n\t\t\t\t\t\t\t\t<i class="fa fa-caret-up" ng-hide=col.desc></i>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>\n<div class=datapoints-warning ng-show="ctrl.table.rows.length===0">\n\t<span class=small>\n\t\tNo data to show <tip>Nothing returned by data query</tip>\n\t</span>\n</div>\n<div class=table-panel-footer>\n</div>\n')}]),e.exports=n},NPB1:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a,r=n("LvDl"),i=n.n(r),o=n("PbtU"),s=n("txxJ"),l=n("Obii"),c=n("LCjV"),u=function(){function e(e,t,n,a,r){var i=this;this.$timeout=t,this.$location=n,this.timer=a,this.contextSrv=r,this.time=l.DefaultTimeRange.raw,e.$on("zoom-out",this.zoomOut.bind(this)),e.$on("shift-time",this.shiftTime.bind(this)),e.$on("$routeUpdate",this.routeUpdated.bind(this)),document.addEventListener("visibilitychange",function(){i.autoRefreshBlocked&&"visible"===document.visibilityState&&(i.autoRefreshBlocked=!1,i.refreshDashboard())})}return e.$inject=["$rootScope","$timeout","$location","timer","contextSrv"],e.prototype.init=function(e){this.timer.cancelAll(),this.dashboard=e,this.time=e.time,this.refresh=e.refresh,this.initTimeFromUrl(),this.parseTime(),this.timeAtLoad=i.a.cloneDeep(this.time),this.refresh&&this.setAutoRefresh(this.refresh)},e.prototype.parseTime=function(){i.a.isString(this.time.from)&&this.time.from.indexOf("Z")>=0&&(this.time.from=Object(l.dateTime)(this.time.from).utc()),i.a.isString(this.time.to)&&this.time.to.indexOf("Z")>=0&&(this.time.to=Object(l.dateTime)(this.time.to).utc())},e.prototype.parseUrlParam=function(e){if(-1!==e.indexOf("now"))return e;if(8===e.length)return Object(l.toUtc)(e,"YYYYMMDD");if(15===e.length)return Object(l.toUtc)(e,"YYYYMMDDTHHmmss");if(!isNaN(e)){var t=parseInt(e,10);return Object(l.toUtc)(t)}return null},e.prototype.getTimeWindow=function(e,t){var n,a=parseInt(e,10);return n=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):o.a.interval_to_ms(t),{from:Object(l.toUtc)(a-n/2),to:Object(l.toUtc)(a+n/2)}},e.prototype.initTimeFromUrl=function(){var e=this.$location.search();e.time&&e["time.window"]&&(this.time=this.getTimeWindow(e.time,e["time.window"])),e.from&&(this.time.from=this.parseUrlParam(e.from)||this.time.from),e.to&&(this.time.to=this.parseUrlParam(e.to)||this.time.to),e.to&&-1===e.to.indexOf("now")&&(this.refresh=!1,this.dashboard.refresh=!1),e.refresh&&(this.refresh=e.refresh||this.refresh)},e.prototype.routeUpdated=function(){var e=this.$location.search();if(!e.left){var t=this.timeRangeForUrl();e.from&&e.to?e.from===t.from&&e.to===t.to||(this.initTimeFromUrl(),this.setTime(this.time,!0)):this.timeHasChangedSinceLoad()&&this.setTime(this.timeAtLoad,!0)}},e.prototype.timeHasChangedSinceLoad=function(){return this.timeAtLoad&&(this.timeAtLoad.from!==this.time.from||this.timeAtLoad.to!==this.time.to)},e.prototype.setAutoRefresh=function(e){var t=this;if(this.dashboard.refresh=e,this.cancelNextRefresh(),e){var n=o.a.interval_to_ms(e);this.refreshTimer=this.timer.register(this.$timeout(function(){t.startNextRefreshTimer(n),t.refreshDashboard()},n))}this.$timeout(function(){var n=t.$location.search();e?(n.refresh=e,t.$location.search(n)):n.refresh&&(delete n.refresh,t.$location.search(n))})},e.prototype.refreshDashboard=function(){this.dashboard.timeRangeUpdated(this.timeRange())},e.prototype.startNextRefreshTimer=function(e){var t=this;this.cancelNextRefresh(),this.refreshTimer=this.timer.register(this.$timeout(function(){t.startNextRefreshTimer(e),t.contextSrv.isGrafanaVisible()?t.refreshDashboard():t.autoRefreshBlocked=!0},e))},e.prototype.cancelNextRefresh=function(){this.timer.cancel(this.refreshTimer)},e.prototype.setTime=function(e,t){if(i.a.extend(this.time,e),Object(l.isDateTime)(e.to)?(this.oldRefresh=this.dashboard.refresh||this.oldRefresh,this.setAutoRefresh(!1)):this.oldRefresh&&this.oldRefresh!==this.dashboard.refresh&&(this.setAutoRefresh(this.oldRefresh),this.oldRefresh=null),!0!==t){var n=this.timeRangeForUrl(),a=this.$location.search();a.from=n.from,a.to=n.to,this.$location.search(a)}this.$timeout(this.refreshDashboard.bind(this),0)},e.prototype.timeRangeForUrl=function(){var e=this.timeRange().raw;return Object(l.isDateTime)(e.from)&&(e.from=e.from.valueOf().toString()),Object(l.isDateTime)(e.to)&&(e.to=e.to.valueOf().toString()),e},e.prototype.timeRange=function(){var e={from:Object(l.isDateTime)(this.time.from)?Object(l.dateTime)(this.time.from):this.time.from,to:Object(l.isDateTime)(this.time.to)?Object(l.dateTime)(this.time.to):this.time.to},t=this.dashboard?this.dashboard.getTimezone():void 0;return{from:l.dateMath.parse(e.from,!1,t),to:l.dateMath.parse(e.to,!0,t),raw:e}},e.prototype.zoomOut=function(e,t){var n=this.timeRange(),a=Object(c.b)(n,t),r=a.from,i=a.to;this.setTime({from:Object(l.toUtc)(r),to:Object(l.toUtc)(i)})},e.prototype.shiftTime=function(e,t){var n=this.timeRange(),a=Object(c.a)(t,n),r=a.from,i=a.to;this.setTime({from:Object(l.toUtc)(r),to:Object(l.toUtc)(i)})},e}();function d(e){a=e}function p(){return a}s.c.service("timeSrv",u)},NXk7:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("txxJ"),s=n("Xmxp"),l=n("ZFWI"),c=n("rd46"),u=n("GQ3c"),d=n("t8hP"),p=n("Obii"),f=function(){function e(e,t,n,a){this.$http=e,this.$q=t,this.$timeout=n,this.contextSrv=a,this.inFlightRequests={},this.HTTP_REQUEST_CANCELED=-1}return e.$inject=["$http","$q","$timeout","contextSrv"],e.prototype.get=function(e,t){return this.request({method:"GET",url:e,params:t})},e.prototype.delete=function(e){return this.request({method:"DELETE",url:e})},e.prototype.post=function(e,t){return this.request({method:"POST",url:e,data:t})},e.prototype.patch=function(e,t){return this.request({method:"PATCH",url:e,data:t})},e.prototype.put=function(e,t){return this.request({method:"PUT",url:e,data:t})},e.prototype.withNoBackendCache=function(e){var t=this;return this.noBackendCache=!0,e().finally(function(){t.noBackendCache=!1})},e.prototype.requestErrorHandler=function(e){if(!e.isHandled){var t=e.data||{message:"Unexpected error"};if(i.a.isString(t)&&(t={message:t}),422===e.status)throw s.b.emit(p.AppEvents.alertWarning,["Validation failed",t.message]),t;if(t.message){var n="",a=t.message;a.length>80&&(n=a,a="Error"),s.b.emit(e.status<500?p.AppEvents.alertWarning:p.AppEvents.alertError,[a,n])}throw t}},e.prototype.request=function(e){var t=this;e.retry=e.retry||0;var n=!e.url.match(/^http/),a=0===e.retry;return n&&(this.contextSrv.user&&this.contextSrv.user.orgId&&(e.headers=e.headers||{},e.headers["X-Grafana-Org-Id"]=this.contextSrv.user.orgId),0===e.url.indexOf("/")&&(e.url=e.url.substring(1))),this.$http(e).then(function(t){return"GET"!==e.method&&t&&t.data.message&&!1!==e.showSuccessAlert&&s.b.emit(p.AppEvents.alertSuccess,[t.data.message]),t.data},function(n){if(401===n.status&&t.contextSrv.user.isSignedIn&&a)return t.loginPing().then(function(){return e.retry=1,t.request(e)}).catch(function(e){if(401===e.status)throw window.location.href=l.b.appSubUrl+"/logout",e});throw t.$timeout(t.requestErrorHandler.bind(t,n),50),n})},e.prototype.addCanceler=function(e,t){e in this.inFlightRequests?this.inFlightRequests[e].push(t):this.inFlightRequests[e]=[t]},e.prototype.resolveCancelerIfExists=function(e){var t=this.inFlightRequests[e];!i.a.isUndefined(t)&&t.length&&t[0].resolve()},e.prototype.datasourceRequest=function(e){var t=this,n=null;e.retry=e.retry||0;var a=e.requestId;a&&(this.resolveCancelerIfExists(a),n=this.$q.defer(),e.timeout=n.promise,this.addCanceler(a,n));var r=!e.url.match(/^http/),o=0===e.retry;return r&&(this.contextSrv.user&&this.contextSrv.user.orgId&&(e.headers=e.headers||{},e.headers["X-Grafana-Org-Id"]=this.contextSrv.user.orgId),0===e.url.indexOf("/")&&(e.url=e.url.substring(1)),e.headers&&e.headers.Authorization&&(e.headers["X-DS-Authorization"]=e.headers.Authorization,delete e.headers.Authorization),this.noBackendCache&&(e.headers["X-Grafana-NoCache"]="true")),this.$http(e).then(function(t){return e.silent||s.b.emit(u.CoreEvents.dsRequestResponse,t),t}).catch(function(a){if(a.status===t.HTTP_REQUEST_CANCELED)throw{err:a,cancelled:!0};if(r&&o&&401===a.status)return t.loginPing().then(function(){return e.retry=1,n&&n.resolve(),t.datasourceRequest(e)}).catch(function(e){if(401===e.status)throw window.location.href=l.b.appSubUrl+"/logout",e});throw i.a.isString(a.data)&&500===a.status&&(a.data={error:a.statusText,response:a.data}),a.data&&!a.data.message&&i.a.isString(a.data.error)&&(a.data.message=a.data.error),e.silent||s.b.emit(u.CoreEvents.dsRequestError,a),a}).finally(function(){e.requestId&&t.inFlightRequests[e.requestId].shift()})},e.prototype.loginPing=function(){return this.request({url:"/api/login/ping",method:"GET",retry:1})},e.prototype.search=function(e){return this.get("/api/search",e)},e.prototype.getDashboardBySlug=function(e){return this.get("/api/dashboards/db/"+e)},e.prototype.getDashboardByUid=function(e){return this.get("/api/dashboards/uid/"+e)},e.prototype.getFolderByUid=function(e){return this.get("/api/folders/"+e)},e.prototype.saveDashboard=function(e,t){var n=void 0===t?{}:t,a=n.message,r=void 0===a?"":a,i=n.folderId,o=n.overwrite,s=void 0!==o&&o;return this.post("/api/dashboards/db/",{dashboard:e,folderId:i,overwrite:s,message:r})},e.prototype.createFolder=function(e){return this.post("/api/folders",e)},e.prototype.deleteFolder=function(e,t){return this.request({method:"DELETE",url:"/api/folders/"+e,showSuccessAlert:!0===t})},e.prototype.deleteDashboard=function(e,t){return this.request({method:"DELETE",url:"/api/dashboards/uid/"+e,showSuccessAlert:!0===t})},e.prototype.deleteFoldersAndDashboards=function(e,t){var n,r,i,o,s=[];try{for(var l=Object(a.__values)(e),c=l.next();!c.done;c=l.next()){var u=c.value;s.push(this.createTask(this.deleteFolder.bind(this),!0,u,!0))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var d=Object(a.__values)(t),p=d.next();!p.done;p=d.next()){var f=p.value;s.push(this.createTask(this.deleteDashboard.bind(this),!0,f,!0))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return this.executeInOrder(s,[])},e.prototype.moveDashboards=function(e,t){var n,r,o=[];try{for(var s=Object(a.__values)(e),l=s.next();!l.done;l=s.next()){var c=l.value;o.push(this.createTask(this.moveDashboard.bind(this),!0,c,t))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this.executeInOrder(o,[]).then(function(e){return{totalCount:e.length,successCount:i.a.filter(e,{succeeded:!0}).length,alreadyInFolderCount:i.a.filter(e,{alreadyInFolder:!0}).length}})},e.prototype.moveDashboard=function(e,t){var n=this,a=this.$q.defer();return this.getDashboardByUid(e).then(function(e){var r=new c.a(e.dashboard,e.meta);if(!e.meta.folderId&&0===t.id||e.meta.folderId===t.id)a.resolve({alreadyInFolder:!0});else{var i=r.getSaveModelClone(),o={folderId:t.id,overwrite:!1};n.saveDashboard(i,o).then(function(){a.resolve({succeeded:!0})}).catch(function(e){e.data&&"plugin-dashboard"===e.data.status?(e.isHandled=!0,o.overwrite=!0,n.saveDashboard(i,o).then(function(){a.resolve({succeeded:!0})}).catch(function(e){a.resolve({succeeded:!1})})):a.resolve({succeeded:!1})})}}),a.promise},e.prototype.createTask=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return function(a){return e.apply(null,n).then(function(e){return Array.prototype.concat(a,[e])}).catch(function(e){if(t)return a;throw e})}},e.prototype.executeInOrder=function(e,t){return e.reduce(this.$q.when,t)},e}();function h(){return Object(d.getBackendSrv)()}o.c.service("backendSrv",f)},NhjT:function(e,t){var n="public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-inline>\n\t<div class=gf-form>\n\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t<span ng-show=isFirst>Group by</span>\n\t\t\t<span ng-hide=isFirst>Then by</span>\n\t\t</label>\n\n\t\t<gf-form-dropdown model=agg.type lookup-text=true get-options=getBucketAggTypes() on-change=onTypeChanged() allow-custom=false label-mode=true css-class=width-10>\n\t\t</gf-form-dropdown>\n\t\t<gf-form-dropdown ng-if=agg.field model=agg.field get-options=getFieldsInternal() on-change=onChange() allow-custom=false label-mode=true css-class=width-12>\n\t\t</gf-form-dropdown>\n\t</div>\n\n\t<div class="gf-form gf-form--grow">\n\t\t<label class="gf-form-label gf-form-label--grow">\n\t\t\t<a ng-click=toggleOptions()>\n\t\t\t\t<i class="fa fa-caret-down" ng-show=showOptions></i>\n\t\t\t\t<i class="fa fa-caret-right" ng-hide=showOptions></i>\n\t\t\t\t{{settingsLinkText}}\n\t\t\t</a>\n\t\t</label>\n\t</div>\n\n\t<div class=gf-form>\n\t\t<label class=gf-form-label ng-if=isFirst>\n\t\t\t<a class=pointer ng-click=addBucketAgg()><i class="fa fa-plus"></i></a>\n\t\t</label>\n\t\t<label class=gf-form-label ng-if="bucketAggCount > 1">\n\t\t\t<a class=pointer ng-click=removeBucketAgg()><i class="fa fa-minus"></i></a>\n\t\t</label>\n\t</div>\n</div>\n\n<div class=gf-form-group ng-if=showOptions>\n\t<div ng-if="agg.type === \'date_histogram\'">\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Interval</label>\n\t\t\t<gf-form-dropdown model=agg.settings.interval get-options=getIntervalOptions() on-change=onChangeInternal() allow-custom=true label-mode=true css-class=width-12>\n\t\t\t</gf-form-dropdown>\n\t\t</div>\n\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Min Doc Count</label>\n\t\t\t<input type=number class="gf-form-input max-width-12" ng-model=agg.settings.min_doc_count ng-blur=onChangeInternal()>\n\t\t</div>\n\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">\n\t\t\t\tTrim edges\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\tTrim the edges on the timeseries datapoints\n\t\t\t\t</info-popover>\n\t\t\t</label>\n\t\t\t<input class="gf-form-input max-width-12" type=number ng-model=agg.settings.trimEdges ng-change=onChangeInternal()>\n\t\t</div>\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">\n\t\t\t\tOffset\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\tChange the start value of each bucket by the specified positive (+) or negative offset (-) duration, such as 1h for an hour, or 1d for a day\n\t\t\t\t</info-popover>\n\t\t\t</label>\n\t\t\t<input class="gf-form-input max-width-12" type=text ng-model=agg.settings.offset ng-change=onChangeInternal()>\n\t\t</div>\n\n\t</div>\n\n\t<div ng-if="agg.type === \'histogram\'">\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Interval</label>\n\t\t\t<input type=number class="gf-form-input max-width-12" ng-model=agg.settings.interval ng-blur=onChangeInternal()>\n\t\t</div>\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Min Doc Count</label>\n\t\t\t<input type=number class="gf-form-input max-width-12" ng-model=agg.settings.min_doc_count ng-blur=onChangeInternal()>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="agg.type === \'terms\'">\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Order</label>\n\t\t\t<gf-form-dropdown model=agg.settings.order lookup-text=true get-options=getOrderOptions() on-change=onChangeInternal() label-mode=true css-class=width-12>\n\t\t\t</gf-form-dropdown>\n\t\t</div>\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Size</label>\n\t\t\t<gf-form-dropdown model=agg.settings.size lookup-text=true get-options=getSizeOptions() on-change=onChangeInternal() label-mode=true allow-custom=true css-class=width-12>\n\t\t\t</gf-form-dropdown>\n\t\t</div>\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Min Doc Count</label>\n\t\t\t<input type=number class="gf-form-input max-width-12" ng-model=agg.settings.min_doc_count ng-blur=onChangeInternal()>\n\t\t</div>\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Order By</label>\n\t\t\t<gf-form-dropdown model=agg.settings.orderBy lookup-text=true get-options=getOrderByOptions() on-change=onChangeInternal() label-mode=true css-class=width-12>\n\t\t\t</gf-form-dropdown>\n\t\t</div>\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">\n\t\t\t\tMissing\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\tThe missing parameter defines how documents that are missing a value should be treated. By default they will be ignored but it is also possible to treat them as if they had a value\n\t\t\t\t</info-popover>\n\t\t\t</label>\n\t\t\t<input type=text class="gf-form-input max-width-12" empty-to-null ng-model=agg.settings.missing ng-blur=onChangeInternal() spellcheck=false>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="agg.type === \'filters\'">\n\t\t<div class="gf-form-inline offset-width-7" ng-repeat="filter in agg.settings.filters">\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-10">Query {{$index + 1}}</label>\n\t\t\t\t<input type=text class="gf-form-input max-width-12" ng-model=filter.query spellcheck=false placeholder="Lucene query" ng-blur=onChangeInternal()>\n\t\t\t\t<label class="gf-form-label width-10">Label {{$index + 1}}</label>\n\t\t\t\t<input type=text class="gf-form-input max-width-12" ng-model=filter.label spellcheck=false placeholder=Label ng-blur=onChangeInternal()>\n\t\t\t</div>\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class=gf-form-label ng-if=$first>\n\t\t\t\t\t<a class=pointer ng-click=addFiltersQuery()><i class="fa fa-plus"></i></a>\n\t\t\t\t</label>\n\t\t\t\t<label class=gf-form-label ng-if=!$first>\n\t\t\t\t\t<a class=pointer ng-click=removeFiltersQuery(filter)><i class="fa fa-minus"></i></a>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="agg.type === \'geohash_grid\'">\n\t\t<div class="gf-form offset-width-7">\n\t\t\t<label class="gf-form-label width-10">Precision</label>\n\t\t\t<input type=number class="gf-form-input max-width-12" ng-model=agg.settings.precision spellcheck=false placeholder=3 ng-blur=onChangeInternal()>\n\t\t</div>\n\t</div>\n\n</div>\n')}]),e.exports=n},NoBN:function(e,t){var n="public/app/plugins/panel/heatmap/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=heatmap-wrapper>\n\t<div class=heatmap-canvas-wrapper>\n\n\t\t<div class=datapoints-warning ng-if=ctrl.dataWarning>\n\t\t\t<span class=small bs-tooltip=ctrl.dataWarning.tip>{{ctrl.dataWarning.title}}</span>\n\t\t</div>\n\n\t\t<div class=heatmap-panel ng-dblclick=ctrl.zoomOut()></div>\n\t</div>\n\t<div class=heatmap-legend-wrapper ng-if=ctrl.panel.legend.show>\n\t\t<heatmap-legend></heatmap-legend>\n\t</div>\n</div>\n<div class=clearfix></div>\n")}]),e.exports=n},Nu4n:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="Nu4n"},O945:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return b});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("TSYQ"),s=n.n(o),l=n("LvDl"),c=n.n(l),u=n("WnbS"),d=n("t8hP"),p=n("NPB1"),f=n("kDLi"),h=n("Obii"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=null,t.angularQueryEditor=null,t.state={datasource:null,isCollapsed:!1,loadedDataSourceValue:void 0,hasTextEditMode:!1,data:null},t.onToggleCollapse=function(){t.setState({isCollapsed:!t.state.isCollapsed})},t.onRunQuery=function(){t.props.panel.refresh()},t.onToggleEditMode=function(){t.angularScope&&t.angularScope.toggleEditorMode&&(t.angularScope.toggleEditorMode(),t.angularQueryEditor.digest()),t.state.isCollapsed&&t.setState({isCollapsed:!1})},t.onRemoveQuery=function(){t.props.onRemoveQuery(t.props.query)},t.onCopyQuery=function(){var e=c.a.cloneDeep(t.props.query);t.props.onAddQuery(e)},t.onDisableQuery=function(){t.props.query.hide=!t.props.query.hide,t.onRunQuery(),t.forceUpdate()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.loadDatasource()},t.prototype.componentWillUnmount=function(){this.angularQueryEditor&&this.angularQueryEditor.destroy()},t.prototype.getAngularQueryComponentScope=function(){var e=this.props,t=e.panel,n=e.query,a=e.dashboard;return{datasource:this.state.datasource,target:n,panel:t,dashboard:a,refresh:function(){return t.refresh()},render:function(){return t.render()},events:t.events,range:Object(p.a)().timeRange()}},t.prototype.loadDatasource=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return e=this.props,t=e.query,n=e.panel,[4,Object(u.a)().get(t.datasource||n.datasource)];case 1:return r=a.sent(),this.setState({datasource:r,loadedDataSourceValue:this.props.dataSourceValue,hasTextEditMode:c.a.has(r,"components.QueryCtrl.prototype.toggleEditorMode")}),[2]}})})},t.prototype.componentDidUpdate=function(e){var t=this.state.loadedDataSourceValue,n=this.props,a=n.data,r=n.query,i=n.panel;if(a!==e.data&&(this.setState({data:b(a,r.refId)}),this.angularScope&&(this.angularScope.range=Object(p.a)().timeRange()),this.angularQueryEditor&&function(e,t,n){if(t===g)return;if(g=t,t.state===h.LoadingState.Done){var a=t.series.map(function(e){return Object(h.toLegacyResponseData)(e)});e.events.emit(h.PanelEvents.dataReceived,a)}else t.state===h.LoadingState.Error&&e.events.emit(h.PanelEvents.dataError,t.error);setTimeout(n.digest)}(i,a,this.angularQueryEditor)),t!==this.props.dataSourceValue)return this.angularQueryEditor&&(this.angularQueryEditor.destroy(),this.angularQueryEditor=null),void this.loadDatasource();if(this.element&&!this.angularQueryEditor){var o=Object(d.getAngularLoader)(),s={ctrl:this.getAngularQueryComponentScope()};this.angularQueryEditor=o.load(this.element,s,'<plugin-component type="query-ctrl" />'),this.angularScope=s.ctrl}},t.prototype.renderPluginEditor=function(){var e=this,t=this.props,n=t.query,a=t.onChange,r=this.state,o=r.datasource,s=r.data;if(o.components.QueryCtrl)return i.a.createElement("div",{ref:function(t){return e.element=t}});if(o.components.QueryEditor){var l=o.components.QueryEditor;return i.a.createElement(l,{query:n,datasource:o,onChange:a,onRunQuery:this.onRunQuery,data:s})}return i.a.createElement("div",null,"Data source plugin does not export any Query Editor component")},t.prototype.renderCollapsedText=function(){var e=this.state.datasource;return e.getQueryDisplayText?e.getQueryDisplayText(this.props.query):this.angularScope&&this.angularScope.getCollapsedText?this.angularScope.getCollapsedText():null},t.prototype.render=function(){var e=this,t=this.props,n=t.query,a=t.inMixedMode,r=this.state,o=r.datasource,l=r.isCollapsed,c=r.hasTextEditMode,u=n.hide,d=s()("query-editor-row__body gf-form-query",{"query-editor-row__body--collapsed":l}),p=s()("query-editor-row",{"query-editor-row--disabled":u,"gf-form-disabled":u});return o?i.a.createElement("div",{className:p},i.a.createElement("div",{className:"query-editor-row__header"},i.a.createElement("div",{className:"query-editor-row__ref-id",onClick:this.onToggleCollapse},l&&i.a.createElement("i",{className:"fa fa-caret-right"}),!l&&i.a.createElement("i",{className:"fa fa-caret-down"}),i.a.createElement("span",null,n.refId),a&&i.a.createElement("em",{className:"query-editor-row__context-info"}," (",o.name,")"),u&&i.a.createElement("em",{className:"query-editor-row__context-info"}," Disabled")),i.a.createElement("div",{className:"query-editor-row__collapsed-text",onClick:this.onToggleEditMode},l&&i.a.createElement("div",null,this.renderCollapsedText())),i.a.createElement("div",{className:"query-editor-row__actions"},c&&i.a.createElement("button",{className:"query-editor-row__action",onClick:this.onToggleEditMode,title:"Toggle text edit mode"},i.a.createElement("i",{className:"fa fa-fw fa-pencil"})),i.a.createElement("button",{className:"query-editor-row__action",onClick:function(){return e.props.onMoveQuery(n,1)}},i.a.createElement("i",{className:"fa fa-fw fa-arrow-down"})),i.a.createElement("button",{className:"query-editor-row__action",onClick:function(){return e.props.onMoveQuery(n,-1)}},i.a.createElement("i",{className:"fa fa-fw fa-arrow-up"})),i.a.createElement("button",{className:"query-editor-row__action",onClick:this.onCopyQuery,title:"Duplicate query"},i.a.createElement("i",{className:"fa fa-fw fa-copy"})),i.a.createElement("button",{className:"query-editor-row__action",onClick:this.onDisableQuery,title:"Disable/enable query"},u&&i.a.createElement("i",{className:"fa fa-fw fa-eye-slash"}),!u&&i.a.createElement("i",{className:"fa fa-fw fa-eye"})),i.a.createElement("button",{className:"query-editor-row__action",onClick:this.onRemoveQuery,title:"Remove query"},i.a.createElement("i",{className:"fa fa-fw fa-trash"})))),i.a.createElement("div",{className:d},i.a.createElement(f.ErrorBoundaryAlert,null,this.renderPluginEditor()))):null},t}(r.PureComponent),g=null;function b(e,t){var n=e.series.filter(function(e){return e.refId===t});if(n.length){var r=h.LoadingState.Done,i=e.error&&e.error.refId===t?e.error:void 0;i&&(r=h.LoadingState.Error);var o=e.timeRange;return Object(a.__assign)(Object(a.__assign)({},e),{state:r,series:n,error:i,timeRange:o})}}},ODSy:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("lonE"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return i.a.createElement(o.a,Object(a.__assign)({inline:!0},this.props))},t}(i.a.PureComponent)},OEPh:function(e,t){var n="public/app/plugins/datasource/stackdriver/partials/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n  <div class=grafana-info-box>\n    <h4>Stackdriver Authentication</h4>\n    <p>There are two ways to authenticate the Stackdriver plugin - either by uploading a Service Account key file, or by\n      automatically retrieving credentials from the Google metadata server. The latter option is only available\n      when running Grafana on a GCE virtual machine.</p>\n\n    <h5>Uploading a Service Account Key File</h5>\n    <p>\n      First you need to create a Google Cloud Platform (GCP) Service Account for\n      the Project you want to show data for. A Grafana datasource integrates with one GCP Project. If you want to\n      visualize data from multiple GCP Projects then you need to create one datasource per GCP Project.\n    </p>\n    <p>\n      The <strong>Monitoring Viewer</strong> role provides all the permissions that Grafana needs. The following API\n      needs to be enabled on GCP for the datasource to work: <a class=external-link target=_blank href=https://console.cloud.google.com/apis/library/monitoring.googleapis.com>Monitoring\n        API</a>\n    </p>\n\n    <h5>GCE Default Service Account</h5>\n    <p>\n      If Grafana is running on a Google Compute Engine (GCE) virtual machine, it is possible for Grafana to\n      automatically retrieve the default project id and authentication token from the metadata server. In order for this to\n      work, you need to make sure that you have a service account that is setup as the default account for the virtual\n      machine and that the service account has been given read access to the Stackdriver Monitoring API.\n    </p>\n\n    <p>Detailed instructions on how to create a Service Account can be found <a class=external-link target=_blank href=http://docs.grafana.org/datasources/stackdriver/ >in\n        the documentation.</a>\n    </p>\n  </div>\n</div>\n\n<div class=gf-form-group>\n  <div class=gf-form>\n    <h3>Authentication</h3>\n    <info-popover mode=header>Upload your Service Account key file or paste in the contents of the file. The file\n      contents will be encrypted and saved in the Grafana database.</info-popover>\n  </div>\n\n  <div class=gf-form-inline>\n    <div class="gf-form max-width-30">\n      <span class="gf-form-label width-10">Authentication Type</span>\n      <div class="gf-form-select-wrapper max-width-24">\n        <select class=gf-form-input ng-model=ctrl.current.jsonData.authenticationType ng-options="f.key as f.value for f in ctrl.authenticationTypes"></select>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="ctrl.current.jsonData.authenticationType === ctrl.defaultAuthenticationType && !ctrl.current.jsonData.clientEmail && !ctrl.inputDataValid">\n    <div class=gf-form-group ng-if=!ctrl.inputDataValid>\n      <div class=gf-form>\n        <form>\n          <dash-upload on-upload=ctrl.onUpload(dash) btn-text="Upload Service Account key file"></dash-upload>\n        </form>\n      </div>\n    </div>\n    <div class=gf-form-group>\n      <h5 class=section-heading ng-if=!ctrl.inputDataValid>Or paste Service Account key JSON</h5>\n      <div class=gf-form ng-if=!ctrl.inputDataValid>\n        <textarea rows=10 data-share-panel-url="" class=gf-form-input ng-model=ctrl.jsonText ng-paste=ctrl.onPasteJwt($event)></textarea>\n      </div>\n      <div ng-repeat="valError in ctrl.validationErrors" class="text-error p-l-1">\n        <i class="fa fa-warning"></i>\n        {{valError}}\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=gf-form-group ng-if="ctrl.current.jsonData.authenticationType === ctrl.defaultAuthenticationType && (ctrl.inputDataValid || ctrl.current.jsonData.clientEmail)">\n  <h6>Uploaded Key Details</h6>\n\n  <div class=gf-form>\n    <span class="gf-form-label width-10">Project</span>\n    <input class="gf-form-input width-40" disabled=disabled type=text ng-model=ctrl.current.jsonData.defaultProject />\n  </div>\n  <div class=gf-form>\n    <span class="gf-form-label width-10">Client Email</span>\n    <input class="gf-form-input width-40" disabled=disabled type=text ng-model=ctrl.current.jsonData.clientEmail />\n  </div>\n  <div class=gf-form>\n    <span class="gf-form-label width-10">Token URI</span>\n    <input class="gf-form-input width-40" disabled=disabled type=text ng-model=ctrl.current.jsonData.tokenUri />\n  </div>\n  <div class=gf-form ng-if=ctrl.current.secureJsonFields.privateKey>\n    <span class="gf-form-label width-10">Private Key</span>\n    <input type=text class="gf-form-input max-width-12" disabled=disabled value=configured>\n  </div>\n\n  <div class="gf-form width-18">\n    <a class="btn btn-secondary gf-form-btn" href=# ng-click=ctrl.resetValidationMessages()>Reset Service\n      Account Key </a>\n    <info-popover mode=right-normal>\n      Reset to clear the uploaded key and upload a new file.\n    </info-popover>\n  </div>\n</div>\n\n<p class=gf-form-label ng-hide="ctrl.current.secureJsonFields.privateKey || ctrl.current.jsonData.authenticationType !== ctrl.defaultAuthenticationType"><i class="fa fa-save"></i> Do not forget to save your changes after uploading a file.</p>\n\n<p class=gf-form-label ng-show="ctrl.current.jsonData.authenticationType !== ctrl.defaultAuthenticationType"><i class="fa fa-save"></i>\n  Verify GCE default service account by clicking Save & Test</p>\n')}]),e.exports=n},OPwE:function(e,t){var n="public/app/features/manage-dashboards/partials/dashboard_list.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n  <manage-dashboards/>\n</div>\n\n<footer/>\n')}]),e.exports=n},OQpy:function(e,t){},OTXG:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"n",function(){return h}),n.d(t,"o",function(){return m}),n.d(t,"r",function(){return g}),n.d(t,"q",function(){return b}),n.d(t,"s",function(){return v}),n.d(t,"u",function(){return y}),n.d(t,"v",function(){return w}),n.d(t,"x",function(){return x}),n.d(t,"z",function(){return O}),n.d(t,"A",function(){return _}),n.d(t,"B",function(){return k}),n.d(t,"G",function(){return j}),n.d(t,"E",function(){return C}),n.d(t,"C",function(){return S}),n.d(t,"F",function(){return E}),n.d(t,"D",function(){return T}),n.d(t,"t",function(){return M}),n.d(t,"p",function(){return A}),n.d(t,"j",function(){return N}),n.d(t,"y",function(){return D}),n.d(t,"e",function(){return I}),n.d(t,"b",function(){return P}),n.d(t,"w",function(){return F});var a=n("i7Pf"),r=Object(a.b)("explore/addQueryRow"),i=Object(a.b)("explore/changeMode"),o=Object(a.b)("explore/changeQuery"),s=Object(a.b)("explore/changeSize"),l=Object(a.b)("explore/changeRefreshInterval"),c=Object(a.b)("explore/clearQueries"),u=Object(a.b)("explore/highlightLogsExpression"),d=Object(a.b)("explore/initializeExplore"),p=Object(a.b)("explore/loadDatasourceMissing"),f=Object(a.b)("explore/loadDatasourcePending"),h=Object(a.b)("explore/loadDatasourceReady"),m=Object(a.b)("explore/modifyQueries"),g=Object(a.b)("explore/queryStreamUpdated"),b=Object(a.b)("explore/queryStoreSubscription"),v=Object(a.b)("explore/removeQueryRow"),y=Object(a.b)("explore/scanStart"),w=Object(a.b)("explore/scanStop"),x=Object(a.b)("explore/setQueries"),O=Object(a.b)("explore/splitClose"),_=Object(a.b)("explore/splitOpen"),k=Object(a.b)("explore/syncTimes"),j=Object(a.b)("explore/updateUIState"),C=Object(a.b)("explore/toggleTable"),S=Object(a.b)("explore/toggleGraph"),E=Object(a.b)("explore/updateDatasourceInstance"),T=Object(a.b)("explore/toggleLogLevel"),M=Object(a.b)("explore/resetExplore"),A=Object(a.b)("explore/queriesImported"),N=Object(a.b)("explore/historyUpdated"),D=Object(a.b)("explore/setUrlReplaced"),I=Object(a.b)("explore/changeRange"),P=Object(a.b)("changeLoadingState"),F=Object(a.b)("explore/setPausedState")},Obii:function(e,t,n){"use strict";n.r(t);var a=n("spX/");n.d(t,"getMappedValue",function(){return a.w}),n.d(t,"getFlotPairs",function(){return a.s}),n.d(t,"getFlotPairsConstant",function(){return a.t}),n.d(t,"Registry",function(){return a.d}),n.d(t,"onUpdateDatasourceOption",function(){return a.E}),n.d(t,"onUpdateDatasourceJsonDataOption",function(){return a.C}),n.d(t,"onUpdateDatasourceSecureJsonDataOption",function(){return a.G}),n.d(t,"onUpdateDatasourceJsonDataOptionSelect",function(){return a.D}),n.d(t,"onUpdateDatasourceSecureJsonDataOptionSelect",function(){return a.H}),n.d(t,"onUpdateDatasourceResetOption",function(){return a.F}),n.d(t,"updateDatasourcePluginOption",function(){return a.M}),n.d(t,"updateDatasourcePluginJsonDataOption",function(){return a.L}),n.d(t,"updateDatasourcePluginSecureJsonDataOption",function(){return a.O}),n.d(t,"updateDatasourcePluginResetOption",function(){return a.N}),n.d(t,"deprecationWarning",function(){return a.i}),n.d(t,"CSVHeaderStyle",function(){return a.a}),n.d(t,"readCSV",function(){return a.J}),n.d(t,"CSVReader",function(){return a.b}),n.d(t,"toCSV",function(){return a.K}),n.d(t,"getLogLevel",function(){return a.u}),n.d(t,"getLogLevelFromKey",function(){return a.v}),n.d(t,"addLogLevelToSeries",function(){return a.e}),n.d(t,"LogsParsers",function(){return a.c}),n.d(t,"calculateFieldStats",function(){return a.f}),n.d(t,"calculateLogsLabelStats",function(){return a.g}),n.d(t,"calculateStats",function(){return a.h}),n.d(t,"getParser",function(){return a.y}),n.d(t,"parseLabels",function(){return a.I}),n.d(t,"findCommonLabels",function(){return a.j}),n.d(t,"findUniqueLabels",function(){return a.k}),n.d(t,"formatLabels",function(){return a.l}),n.d(t,"objRemoveUndefined",function(){return a.B}),n.d(t,"getColorDefinitionByName",function(){return a.o}),n.d(t,"getColorDefinition",function(){return a.n}),n.d(t,"getColorName",function(){return a.r}),n.d(t,"getColorByName",function(){return a.m}),n.d(t,"getColorFromHexRgbOrName",function(){return a.q}),n.d(t,"getColorForTheme",function(){return a.p}),n.d(t,"getNamedColorPalette",function(){return a.x}),n.d(t,"getSeriesTimeStep",function(){return a.z}),n.d(t,"hasMsResolution",function(){return a.A});var r=n("KgU3");for(var i in r)["getMappedValue","getFlotPairs","getFlotPairsConstant","Registry","onUpdateDatasourceOption","onUpdateDatasourceJsonDataOption","onUpdateDatasourceSecureJsonDataOption","onUpdateDatasourceJsonDataOptionSelect","onUpdateDatasourceSecureJsonDataOptionSelect","onUpdateDatasourceResetOption","updateDatasourcePluginOption","updateDatasourcePluginJsonDataOption","updateDatasourcePluginSecureJsonDataOption","updateDatasourcePluginResetOption","deprecationWarning","CSVHeaderStyle","readCSV","CSVReader","toCSV","getLogLevel","getLogLevelFromKey","addLogLevelToSeries","LogsParsers","calculateFieldStats","calculateLogsLabelStats","calculateStats","getParser","parseLabels","findCommonLabels","findUniqueLabels","formatLabels","objRemoveUndefined","getColorDefinitionByName","getColorDefinition","getColorName","getColorByName","getColorFromHexRgbOrName","getColorForTheme","getNamedColorPalette","getSeriesTimeStep","hasMsResolution","default"].indexOf(i)<0&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n("pFCG");n.d(t,"AppendedVectors",function(){return o.a}),n.d(t,"ArrayVector",function(){return o.b}),n.d(t,"CircularVector",function(){return o.c}),n.d(t,"ConstantVector",function(){return o.d}),n.d(t,"ScaledVector",function(){return o.e}),n.d(t,"SortedVector",function(){return o.f});var s=n("8//q");n.d(t,"DataFrameView",function(){return s.b}),n.d(t,"FieldCache",function(){return s.c}),n.d(t,"CircularDataFrame",function(){return s.a}),n.d(t,"MISSING_VALUE",function(){return s.d}),n.d(t,"MutableDataFrame",function(){return s.e}),n.d(t,"guessFieldTypeFromValue",function(){return s.o}),n.d(t,"guessFieldTypeForField",function(){return s.n}),n.d(t,"guessFieldTypes",function(){return s.p}),n.d(t,"isTableData",function(){return s.r}),n.d(t,"isDataFrame",function(){return s.q}),n.d(t,"toDataFrame",function(){return s.u}),n.d(t,"toLegacyResponseData",function(){return s.w}),n.d(t,"sortDataFrame",function(){return s.t}),n.d(t,"reverseDataFrame",function(){return s.s}),n.d(t,"getTimeField",function(){return s.l}),n.d(t,"getDataFrameRow",function(){return s.j}),n.d(t,"toDataFrameDTO",function(){return s.v}),n.d(t,"createDimension",function(){return s.f}),n.d(t,"getColumnsFromDimension",function(){return s.i}),n.d(t,"getColumnFromDimension",function(){return s.h}),n.d(t,"getValueFromDimension",function(){return s.m}),n.d(t,"getAllValuesFromDimension",function(){return s.g}),n.d(t,"getDimensionByName",function(){return s.k});var l=n("2wGe");n.d(t,"FilterFieldsByNameTransformerOptions",function(){return l.c}),n.d(t,"FilterFramesByRefIdTransformerOptions",function(){return l.d}),n.d(t,"ReduceTransformerOptions",function(){return l.g}),n.d(t,"MatcherID",function(){return l.f}),n.d(t,"FieldMatcherID",function(){return l.b}),n.d(t,"FrameMatcherID",function(){return l.e}),n.d(t,"DataTransformerID",function(){return l.a}),n.d(t,"fieldMatchers",function(){return l.i}),n.d(t,"frameMatchers",function(){return l.k}),n.d(t,"getFieldMatcher",function(){return l.l}),n.d(t,"getFrameMatchers",function(){return l.m}),n.d(t,"transformDataFrame",function(){return l.o}),n.d(t,"transformersRegistry",function(){return l.p}),n.d(t,"ReducerID",function(){return l.h}),n.d(t,"reduceField",function(){return l.n}),n.d(t,"fieldReducers",function(){return l.j});var c=n("IjGO");n.d(t,"dateMath",function(){return c.d}),n.d(t,"rangeUtil",function(){return c.k}),n.d(t,"ISO_8601",function(){return c.b}),n.d(t,"setLocale",function(){return c.l}),n.d(t,"getLocaleData",function(){return c.h}),n.d(t,"isDateTime",function(){return c.j}),n.d(t,"toUtc",function(){return c.n}),n.d(t,"toDuration",function(){return c.m}),n.d(t,"dateTime",function(){return c.e}),n.d(t,"dateTimeAsMoment",function(){return c.f}),n.d(t,"dateTimeForTimeZone",function(){return c.g}),n.d(t,"getTimeZoneGroups",function(){return c.i}),n.d(t,"DEFAULT_DATE_TIME_FORMAT",function(){return c.a}),n.d(t,"MS_DATE_TIME_FORMAT",function(){return c.c});var u=n("Cawo");n.d(t,"escapeStringForRegex",function(){return u.a}),n.d(t,"unEscapeStringFromRegex",function(){return u.m}),n.d(t,"stringStartsAsRegEx",function(){return u.g}),n.d(t,"stringToJsRegex",function(){return u.h}),n.d(t,"stringToMs",function(){return u.i}),n.d(t,"toNumberString",function(){return u.l}),n.d(t,"toIntegerOrUndefined",function(){return u.k}),n.d(t,"toFloatOrUndefined",function(){return u.j}),n.d(t,"setMarkdownOptions",function(){return u.f}),n.d(t,"renderMarkdown",function(){return u.e}),n.d(t,"findHighlightChunksInText",function(){return u.b}),n.d(t,"findMatchesInText",function(){return u.c}),n.d(t,"parseFlags",function(){return u.d});var d=n("+ujO");n.d(t,"formattedValueToString",function(){return d.a}),n.d(t,"toFixed",function(){return d.h}),n.d(t,"toFixedScaled",function(){return d.i}),n.d(t,"toFixedUnit",function(){return d.j}),n.d(t,"scaledUnits",function(){return d.f}),n.d(t,"locale",function(){return d.e}),n.d(t,"simpleCountUnit",function(){return d.g}),n.d(t,"getValueFormat",function(){return d.b}),n.d(t,"getValueFormatterIndex",function(){return d.d}),n.d(t,"getValueFormats",function(){return d.c});var p=n("+iHc");n.d(t,"applyFieldOverrides",function(){return p.f}),n.d(t,"validateFieldConfig",function(){return p.n}),n.d(t,"VAR_SERIES_NAME",function(){return p.e}),n.d(t,"VAR_FIELD_NAME",function(){return p.d}),n.d(t,"VAR_CALC",function(){return p.b}),n.d(t,"VAR_CELL_PREFIX",function(){return p.c}),n.d(t,"DEFAULT_FIELD_DISPLAY_VALUES_LIMIT",function(){return p.a}),n.d(t,"getFieldDisplayValues",function(){return p.k}),n.d(t,"getDisplayValueAlignmentFactors",function(){return p.j}),n.d(t,"getDisplayProcessor",function(){return p.i}),n.d(t,"getDecimalsForValue",function(){return p.h}),n.d(t,"getScaleCalculator",function(){return p.l}),n.d(t,"getActiveThreshold",function(){return p.g}),n.d(t,"sortThresholds",function(){return p.m})},Opuj:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={projectName:"Loading project..."},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,this.props.datasource.getDefaultProject()];case 1:return e=t.sent(),this.setState({projectName:e}),[2]}})})},t.prototype.render=function(){var e=this.state.projectName;return i.a.createElement("div",{className:"gf-form"},i.a.createElement("span",{className:"gf-form-label width-9 query-keyword"},"Project"),i.a.createElement(o.Input,{className:"gf-form-input width-15",disabled:!0,type:"text",value:e}))},t}(i.a.Component),l=n("LvDl"),c=n.n(l),u=n("Xmxp"),d=n("GQ3c"),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={metricDescriptors:[],metrics:[],services:[],service:"",metric:"",metricDescriptor:null,defaultProject:""},n.onServiceChange=function(e){var t=e.value,a=n.state.metricDescriptors,r=n.props,i=r.metricType,o=r.templateSrv,s=a.filter(function(e){return e.service===o.replace(t)}).map(function(e){return{service:e.service,value:e.type,label:e.displayName,description:e.description}});n.setState({service:t,metrics:s}),s.length>0&&!s.some(function(e){return e.value===o.replace(i)})&&n.onMetricTypeChange(s[0])},n.onMetricTypeChange=function(e){var t=e.value,r=n.getSelectedMetricDescriptor(t);n.setState({metricDescriptor:r}),n.props.onChange(Object(a.__assign)(Object(a.__assign)({},r),{type:t}))},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({defaultProject:this.props.defaultProject},function(){e.getCurrentProject().then(e.loadMetricDescriptors.bind(e)).then(e.initializeServiceAndMetrics.bind(e))})},t.prototype.getCurrentProject=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e=this;return Object(a.__generator)(this,function(t){return[2,new Promise(function(t,n){return Object(a.__awaiter)(e,void 0,void 0,function(){var e,r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.state.defaultProject&&"loading project..."!==this.state.defaultProject?[3,2]:[4,this.props.datasource.getDefaultProject()];case 1:e=a.sent(),this.setState({defaultProject:e}),a.label=2;case 2:return t(this.state.defaultProject),[3,4];case 3:return r=a.sent(),u.b.emit(d.CoreEvents.dsRequestError,r),n(),[3,4];case 4:return[2]}})})})]})})},t.prototype.loadMetricDescriptors=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(t){switch(t.label){case 0:return"loading project..."===this.state.defaultProject?[3,2]:[4,this.props.datasource.getMetricTypes(this.state.defaultProject)];case 1:return e=t.sent(),this.setState({metricDescriptors:e}),[2,e];case 2:return[2,[]]}})})},t.prototype.initializeServiceAndMetrics=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(a.__generator)(this,function(a){return e=this.state.metricDescriptors,t=this.getServicesList(e),n=this.getMetricsList(e),r=n.length>0?n[0].service:"",i=this.getSelectedMetricDescriptor(this.props.metricType),this.setState({metricDescriptors:e,services:t,metrics:n,service:r,metricDescriptor:i}),[2]})})},t.prototype.getSelectedMetricDescriptor=function(e){var t=this;return this.state.metricDescriptors.find(function(n){return n.type===t.props.templateSrv.replace(e)})},t.prototype.getMetricsList=function(e){var t=this.getSelectedMetricDescriptor(this.props.metricType);return t?e.filter(function(e){return e.service===t.service}).map(function(e){return{service:e.service,value:e.type,label:e.displayName,description:e.description}}):[]},t.prototype.getServicesList=function(e){var t=e.map(function(e){return{value:e.service,label:c.a.startCase(e.serviceShortName)}});return t.length>0?c.a.uniqBy(t,function(e){return e.value}):[]},t.prototype.render=function(){var e=this.state,t=e.services,n=e.service,r=e.metrics,s=this.props,l=s.metricType,c=s.templateVariableOptions;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("span",{className:"gf-form-label width-9 query-keyword"},"Service"),i.a.createElement(o.Segment,{onChange:this.onServiceChange,value:Object(a.__spread)(t,c).find(function(e){return e.value===n}),options:Object(a.__spread)([{label:"Template Variables",options:c}],t),placeholder:"Select Services"}),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("div",{className:"gf-form-label gf-form-label--grow"}))),i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("span",{className:"gf-form-label width-9 query-keyword"},"Metric"),i.a.createElement(o.Segment,{className:"query-part",onChange:this.onMetricTypeChange,value:Object(a.__spread)(r,c).find(function(e){return e.value===l}),options:Object(a.__spread)([{label:"Template Variables",options:c}],r),placeholder:"Select Metric"}),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("div",{className:"gf-form-label gf-form-label--grow"}))),this.props.children(this.state.metricDescriptor))},t}(i.a.Component),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={displayHelp:!1,displaRawQuery:!1},t.onHelpClicked=function(){t.setState({displayHelp:!t.state.displayHelp})},t.onRawQueryClicked=function(){t.setState({displaRawQuery:!t.state.displaRawQuery})},t}return Object(a.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return null!==e.metricDescriptor},t.prototype.render=function(){var e=this.state,t=e.displayHelp,n=e.displaRawQuery,a=this.props,r=a.datasource,o=a.rawQuery,l=a.lastQueryError;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement(s,{datasource:r}),i.a.createElement("div",{className:"gf-form",onClick:this.onHelpClicked},i.a.createElement("label",{className:"gf-form-label query-keyword pointer"},"Show Help ",i.a.createElement("i",{className:"fa fa-caret-"+(t?"down":"right")}))),o&&i.a.createElement("div",{className:"gf-form",onClick:this.onRawQueryClicked},i.a.createElement("label",{className:"gf-form-label query-keyword"},"Raw Query ",i.a.createElement("i",{className:"fa fa-caret-"+(n?"down":"right"),"ng-show":"ctrl.showHelp"}))),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("div",{className:"gf-form-label gf-form-label--grow"}))),o&&n&&i.a.createElement("div",{className:"gf-form"},i.a.createElement("pre",{className:"gf-form-pre"},o)),t&&i.a.createElement("div",{className:"gf-form grafana-info-box alert-info"},i.a.createElement("div",null,i.a.createElement("h5",null,"Alias Patterns"),"Format the legend keys any way you want by using alias patterns. Format the legend keys any way you want by using alias patterns.",i.a.createElement("br",null)," ",i.a.createElement("br",null),"Example:",i.a.createElement("code",null,"{{metricDescriptor.name}} - {{metricDescriptor.label.instance_name}}"),i.a.createElement("br",null),"Result:   ",i.a.createElement("code",null,"cpu/usage_time - server1-europe-west-1"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"Patterns"),i.a.createElement("br",null),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("code",null,"{{metricDescriptor.type}}")," = metric type e.g. compute.googleapis.com/instance/cpu/usage_time"),i.a.createElement("li",null,i.a.createElement("code",null,"{{metricDescriptor.name}}")," = name part of metric e.g. instance/cpu/usage_time"),i.a.createElement("li",null,i.a.createElement("code",null,"{{metricDescriptor.service}}")," = service part of metric e.g. compute"),i.a.createElement("li",null,i.a.createElement("code",null,"{{metricDescriptor.label.label_name}}")," = Metric label metadata e.g. metricDescriptor.label.instance_name"),i.a.createElement("li",null,i.a.createElement("code",null,"{{resource.label.label_name}}")," = Resource label metadata e.g. resource.label.zone"),i.a.createElement("li",null,i.a.createElement("code",null,"{{metadata.system_labels.name}}")," = Meta data system labels e.g. metadata.system_labels.name. For this to work, the needs to be included in the group by"),i.a.createElement("li",null,i.a.createElement("code",null,"{{metadata.user_labels.name}}")," = Meta data user labels e.g. metadata.user_labels.name. For this to work, the needs to be included in the group by"),i.a.createElement("li",null,i.a.createElement("code",null,"{{bucket}}")," = bucket boundary for distribution metrics when using a heatmap in Grafana")))),l&&i.a.createElement("div",{className:"gf-form"},i.a.createElement("pre",{className:"gf-form-pre alert alert-error"},l)))},t}(i.a.Component),h=n("PQjG"),m=n("7Nqv"),g="-- remove group by --",b={label:g,value:g},v=function(e){var t=e.groupBys,n=void 0===t?[]:t,r=e.values,s=void 0===r?[]:r,l=e.onChange,c=e.variableOptionGroup,u=Object(a.__spread)([b,c],Object(h.h)(Object(a.__spread)(n,m.e)));return i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("label",{className:"gf-form-label query-keyword width-9"},"Group By"),s&&s.map(function(e,t){return i.a.createElement(o.Segment,{allowCustomValue:!0,key:e+t,value:e,options:u,onChange:function(e){var n=e.value;return l(n===g?s.filter(function(e,n){return n!==t}):s.map(function(e,a){return a===t?n:e}))}})}),s.length!==n.length&&i.a.createElement(o.Segment,{Component:i.a.createElement("a",{className:"gf-form-label query-part"},i.a.createElement("i",{className:"fa fa-plus"})),allowCustomValue:!0,onChange:function(e){var t=e.value;return l(Object(a.__spread)(s,[t]))},options:Object(a.__spread)([c],Object(h.h)(Object(a.__spread)(n.filter(function(e){return!s.includes(e)}),m.e)))}),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("label",{className:"gf-form-label gf-form-label--grow"})))},y={label:"-- remove filter --",value:"-- remove filter --",icon:"fa fa-remove"},w=["=","!=","=~","!=~"],x=function(e){return c.a.flatten(e.map(function(e){return[e.key,e.operator,e.value,e.condition]}))},O=function(e){var t=e.labels,n=void 0===t?{}:t,s=e.filters,l=e.onChange,u=e.variableOptionGroup,d=function(e){return c.a.chunk(e,4).map(function(e){var t=Object(a.__read)(e,4),n=t[0],r=t[1],i=t[2],o=t[3];return{key:n,operator:r,value:i,condition:void 0===o?"AND":o}})}(s),p=Object(a.__spread)([y,u],Object(h.h)(Object.keys(n)));return i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("label",{className:"gf-form-label query-keyword width-9"},"Filter"),d.map(function(e,t){var s=e.key,c=e.operator,f=e.value,m=e.condition;return i.a.createElement(r.Fragment,{key:t},i.a.createElement(o.Segment,{allowCustomValue:!0,value:s,options:p,onChange:function(e){var n=e.value;l(x("-- remove filter --"===n?d.filter(function(e,n){return n!==t}):d.map(function(e,a){return a===t?{key:n,operator:c,condition:m,value:""}:e})))}}),i.a.createElement(o.Segment,{value:c,className:"gf-form-label query-segment-operator",options:w.map(h.i),onChange:function(e){var n=e.value;return l(x(d.map(function(e,r){return r===t?Object(a.__assign)(Object(a.__assign)({},e),{operator:n}):e})))}}),i.a.createElement(o.Segment,{allowCustomValue:!0,value:f,placeholder:"add filter value",options:n.hasOwnProperty(s)?Object(a.__spread)([u],n[s].map(h.i)):[u],onChange:function(e){var n=e.value;return l(x(d.map(function(e,r){return r===t?Object(a.__assign)(Object(a.__assign)({},e),{value:n}):e})))}}),d.length>1&&t+1!==d.length&&i.a.createElement("label",{className:"gf-form-label query-keyword"},m))}),Object.values(d).every(function(e){return e.value})&&i.a.createElement(o.Segment,{allowCustomValue:!0,Component:i.a.createElement("a",{className:"gf-form-label query-part"},i.a.createElement("i",{className:"fa fa-plus"})),options:Object(a.__spread)([u],Object(h.h)(Object.keys(n))),onChange:function(e){var t=e.value;return l(x(Object(a.__spread)(d,[{key:t,operator:"=",condition:"AND",value:""}])))}}),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("label",{className:"gf-form-label gf-form-label--grow"})))},_=function(){return i.a.createElement("div",{className:"gf-form grafana-info-box",style:{padding:0}},i.a.createElement("pre",{className:"gf-form-pre alert alert-info",style:{marginRight:0}},i.a.createElement("h5",null,"Annotation Query Format"),i.a.createElement("p",null,"An annotation is an event that is overlaid on top of graphs. Annotation rendering is expensive so it is important to limit the number of rows returned."," "),i.a.createElement("p",null,"The Title and Text fields support templating and can use data returned from the query. For example, the Title field could have the following text:"),i.a.createElement("code",null,"{{metric.type}}"," has value: ","{{metric.value}}"),i.a.createElement("p",null,"Example Result: ",i.a.createElement("code",null,"monitoring.googleapis.com/uptime_check/http_status has this value: 502")),i.a.createElement("label",null,"Patterns:"),i.a.createElement("p",null,i.a.createElement("code",null,"{{metric.value}}")," = value of the metric/point"),i.a.createElement("p",null,i.a.createElement("code",null,"{{metric.type}}")," = metric type e.g. compute.googleapis.com/instance/cpu/usage_time"),i.a.createElement("p",null,i.a.createElement("code",null,"{{metric.name}}")," = name part of metric e.g. instance/cpu/usage_time"),i.a.createElement("p",null,i.a.createElement("code",null,"{{metric.service}}")," = service part of metric e.g. compute"),i.a.createElement("p",null,i.a.createElement("code",null,"{{metric.label.label_name}}")," = Metric label metadata e.g. metric.label.instance_name"),i.a.createElement("p",null,i.a.createElement("code",null,"{{resource.label.label_name}}")," = Resource label metadata e.g. resource.label.zone")))},k=function(e){var t=e.perSeriesAligner,n=e.templateVariableOptions,r=e.onChange,s=e.alignOptions;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("div",{className:"gf-form offset-width-9"},i.a.createElement("label",{className:"gf-form-label query-keyword width-15"},"Aligner"),i.a.createElement(o.Segment,{onChange:function(e){var t=e.value;return r(t)},value:Object(a.__spread)(s,n).find(function(e){return e.value===t}),options:[{label:"Template Variables",options:n},{label:"Alignment options",expanded:!0,options:s}],placeholder:"Select Alignment"}))))},j=n("PbtU"),C=function(e){var t=e.alignmentPeriod,n=e.templateSrv,r=e.templateVariableOptions,s=e.onChange,l=e.perSeriesAligner,c=e.usedAlignmentPeriod,u=m.b.find(function(e){return e.value===n.replace(l)}),d=j.a.secondsToHms(c)+" interval ("+(u?u.text:"")+")",p=m.c.map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{label:e.text})});return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("label",{className:"gf-form-label query-keyword width-9"},"Alignment Period"),i.a.createElement(o.Segment,{onChange:function(e){var t=e.value;return s(t)},value:Object(a.__spread)(p,r).find(function(e){return e.value===t}),options:[{label:"Template Variables",options:r},{label:"Aggregations",expanded:!0,options:p}],placeholder:"Select Alignment"}),i.a.createElement("div",{className:"gf-form gf-form--grow"},c&&i.a.createElement("label",{className:"gf-form-label gf-form-label--grow"},d))))},S=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){n.setState({value:e.target.value}),n.propagateOnChange(e.target.value)},n.propagateOnChange=Object(l.debounce)(n.props.onChange,500),n.state={value:""},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.setState({value:this.props.value})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.value!==this.props.value&&this.setState({value:e.value})},t.prototype.render=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("div",{className:"gf-form"},i.a.createElement("label",{className:"gf-form-label query-keyword width-9"},"Alias By"),i.a.createElement(o.Input,{type:"text",className:"gf-form-input width-24",value:this.state.value,onChange:this.onChange})),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("div",{className:"gf-form-label gf-form-label--grow"}))))},t}(r.Component),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={aggOptions:[],displayAdvancedOptions:!1},t.onToggleDisplayAdvanced=function(){t.setState(function(e){return{displayAdvancedOptions:!e.displayAdvancedOptions}})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.setAggOptions(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setAggOptions(e)},t.prototype.setAggOptions=function(e){var t=e.metricDescriptor,n=[];t&&(n=Object(h.b)(t.valueType,t.metricKind).map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{label:e.text})})),this.setState({aggOptions:n})},t.prototype.render=function(){var e=this.state,t=e.displayAdvancedOptions,n=e.aggOptions,r=this.props,s=r.templateVariableOptions,l=r.onChange,c=r.crossSeriesReducer;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("label",{className:"gf-form-label query-keyword width-9"},"Aggregation"),i.a.createElement(o.Segment,{onChange:function(e){var t=e.value;return l(t)},value:Object(a.__spread)(n,s).find(function(e){return e.value===c}),options:[{label:"Template Variables",options:s},{label:"Aggregations",expanded:!0,options:n}],placeholder:"Select Reducer"}),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("label",{className:"gf-form-label gf-form-label--grow"},i.a.createElement("a",{onClick:this.onToggleDisplayAdvanced},i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fa fa-caret-"+(t?"down":"right")})," Advanced Options"))))),this.props.children(this.state.displayAdvancedOptions))},t}(i.a.Component),T=function(e){var t=e.label,n=e.onValueChange,a=e.value,r=e.options;return i.a.createElement("div",{className:"gf-form max-width-21"},i.a.createElement("span",{className:"gf-form-label width-10 query-keyword"},t),i.a.createElement("div",{className:"gf-form-select-wrapper max-width-12"},i.a.createElement("select",{className:"gf-form-input",required:!0,onChange:n,value:a},r.map(function(e,t){var n=e.value,a=e.name;return i.a.createElement("option",{key:t,value:n},a)}))))};n.d(t,"i",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"g",function(){return v}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return S}),n.d(t,"a",function(){return E}),n.d(t,"j",function(){return T})},PGgk:function(e,t){},PQb9:function(e,t){var n="public/app/plugins/datasource/mssql/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=gf-form-group>\n  <div class=gf-form-inline>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<textarea rows=10 class=gf-form-input ng-model=ctrl.annotation.rawQuery spellcheck=false placeholder="query expression" data-min-length=0 data-items=100 ng-model-onblur ng-change=ctrl.panelCtrl.refresh()></textarea>\n\t\t</div>\n\t</div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n\t\t</div>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showHelp>\n\t\t<pre class="gf-form-pre alert alert-info"><h6>Annotation Query Format</h6>\nAn annotation is an event that is overlaid on top of graphs. The query can have up to four columns per row, the <b>time</b> column is mandatory. Annotation rendering is expensive so it is important to limit the number of rows returned.\n\n- column with alias: <b>time</b> for the annotation event time. Use epoch time or any native date data type.\n- column with alias: <b>timeend</b> for the annotation event end time. Use epoch time or any native date data type.\n- column with alias: <b>text</b> for the annotation text.\n- column with alias: <b>tags</b> for annotation tags. This is a comma separated string of tags e.g. \'tag1,tag2\'.\n\n\nMacros:\n- $__time(column) -&gt; column AS time\n- $__timeEpoch(column) -&gt; DATEDIFF(second, \'1970-01-01\', column) AS time\n- $__timeFilter(column) -&gt; column BETWEEN \'2017-04-21T05:01:17Z\' AND \'2017-04-21T05:01:17Z\'\n- $__unixEpochFilter(column) -&gt; column &gt;= 1492750877 AND column &lt;= 1492750877\n- $__unixEpochNanoFilter(column) -&gt;  column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n\nOr build your own conditionals using these macros which just return the values:\n- $__timeFrom() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__timeTo() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__unixEpochFrom() -&gt; 1492750877\n- $__unixEpochTo() -&gt; 1492750877\n- $__unixEpochNanoFrom() -&gt;  1494410783152415214\n- $__unixEpochNanoTo() -&gt;  1494497183142514872\n\t\t</pre>\n\t</div>\n</div>\n')}]),e.exports=n},PQjG:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return m});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("7Nqv"),s=function(e){return i.a.uniqBy(e,"service")},l=function(e,t){return e.filter(function(e){return e.service===t})},c=function(e,t,n,a){var r=l(e,a).map(function(e){return{value:e.type,name:e.displayName}}),i=r.some(function(e){return e.value===n});return{metricTypes:r,selectedMetricType:i?t:r[0].value}},u=function(e,t){return e?o.b.filter(function(n){return-1!==n.valueTypes.indexOf(e)&&-1!==n.metricKinds.indexOf(t)}):[]},d=function(e,t){return t?o.a.filter(function(n){return-1!==n.valueTypes.indexOf(e)&&-1!==n.metricKinds.indexOf(t)}):[]},p=function(e,t){return Object(a.__awaiter)(void 0,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return"handleLabelKeysQuery",[4,e.getLabels(t,"handleLabelKeysQuery")];case 1:return n=r.sent(),[2,Object(a.__spread)(Object.keys(n),o.e)]}})})},f=function(e,t){var n=e.valueType,r=e.metricKind,i=e.perSeriesAligner,o=u(n,r).map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{label:e.text})});return o.some(function(e){return e.value===t.replace(i)})||(i=o.length>0?o[0].value:""),{alignOptions:o,perSeriesAligner:i}},h=function(e){var t=e.reduce(function(e,t){var n=t.split(".").map(i.a.startCase),r=(2===n.length?n:i.a.initial(n)).join(" "),o={value:t,label:t};return e[r]?e[r]=Object(a.__spread)(e[r],[o]):e[r]=[o],e},{});return Object.entries(t).map(function(e){var t=Object(a.__read)(e,2);return{label:t[0],options:t[1],expanded:!0}},[])},m=function(e){return{label:e,value:e}}},PSiG:function(e,t,n){"use strict";function a(e,t,n,a){for(var r in n)n.hasOwnProperty(r)&&(e[r]=void 0===t[r]?n[r]:t[r])}n.d(t,"a",function(){return a})},PVeq:function(e,t,n){"use strict";var a=n("KHwQ"),r=n.n(a),i=n("LvDl"),o=n.n(i),s=n("1gCF"),l=n("GQ3c"),c=function(){function e(e,t){var n=this;this.variableSrv=e,this.$location=t,this.annotations=this.dashboard.templating.list,this.variables=this.variableSrv.variables,this.submenuEnabled=this.dashboard.meta.submenuEnabled,this.dashboard.events.on(l.CoreEvents.submenuVisibilityChanged,function(e){n.submenuEnabled=e}),this.selectors=s.a.pages.Dashboard.SubMenu.selectors}return e.$inject=["variableSrv","$location"],e.prototype.annotationStateChanged=function(){this.dashboard.startRefresh()},e.prototype.variableUpdated=function(e){this.variableSrv.variableUpdated(e,!0)},e.prototype.openEditView=function(e){var t=o.a.extend(this.$location.search(),{editview:e});this.$location.search(t)},e}();r.a.module("grafana.directives").directive("dashboardSubmenu",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/SubMenu/template.html",controller:c,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}});var u=n("mrSG"),d=n("q1tI"),p=n.n(d),f=n("t8hP"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.__extends)(t,e),t.prototype.componentDidMount=function(){var e=Object(f.getAngularLoader)(),t={dashboard:this.props.dashboard};this.angularCmp=e.load(this.element,t,'<dashboard-submenu dashboard="dashboard" />')},t.prototype.componentWillUnmount=function(){this.angularCmp&&this.angularCmp.destroy()},t.prototype.render=function(){var e=this;return p.a.createElement("div",{ref:function(t){return e.element=t}})},t}(d.PureComponent);n.d(t,"a",function(){return h})},PbtU:function(e,t,n){"use strict";var a=n("LvDl"),r=n("Obii"),i={valueFormats:{},regexEscape:function(e){return e.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")},round_interval:function(e){switch(!0){case e<15:return 10;case e<35:return 20;case e<75:return 50;case e<150:return 100;case e<350:return 200;case e<750:return 500;case e<1500:return 1e3;case e<3500:return 2e3;case e<7500:return 5e3;case e<12500:return 1e4;case e<17500:return 15e3;case e<25e3:return 2e4;case e<45e3:return 3e4;case e<9e4:return 6e4;case e<21e4:return 12e4;case e<45e4:return 3e5;case e<75e4:return 6e5;case e<105e4:return 9e5;case e<15e5:return 12e5;case e<27e5:return 18e5;case e<54e5:return 36e5;case e<9e6:return 72e5;case e<162e5:return 108e5;case e<324e5:return 216e5;case e<864e5:return 432e5;case e<6048e5:return 864e5;case e<18144e5:return 6048e5;case e<36288e5:return 2592e6;default:return 31536e6}},secondsToHms:function(e){var t=Math.floor(e/31536e3);if(t)return t+"y";var n=Math.floor(e%31536e3/86400);if(n)return n+"d";var a=Math.floor(e%31536e3%86400/3600);if(a)return a+"h";var r=Math.floor(e%31536e3%86400%3600/60);if(r)return r+"m";var i=Math.floor(e%31536e3%86400%3600%60);if(i)return i+"s";var o=Math.floor(1e3*e);return o?o+"ms":"less than a millisecond"},secondsToHhmmss:function(e){var t=[],n=Math.floor(e/3600),a=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return n>9?t.push(""+n):t.push("0"+n),a>9?t.push(""+a):t.push("0"+a),r>9?t.push(""+r):t.push("0"+r),t.join(":")},to_percent:function(e,t){return Math.floor(e/t*1e4)/100+"%"},addslashes:function(e){return e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\'/g,"\\'")).replace(/\"/g,'\\"')).replace(/\0/g,"\\0")},interval_regex:/(\d+(?:\.\d+)?)(ms|[Mwdhmsy])/,intervals_in_seconds:{y:31536e3,M:2592e3,w:604800,d:86400,h:3600,m:60,s:1,ms:.001},calculateInterval:function(e,t,n){var a,r=1;return n&&(">"===n[0]&&(n=n.slice(1)),r=i.interval_to_ms(n)),r>(a=i.round_interval((e.to.valueOf()-e.from.valueOf())/t))&&(a=r),{intervalMs:a,interval:i.secondsToHms(a/1e3)}},describe_interval:function(e){var t=e.match(i.interval_regex);if(t&&Object(a.has)(i.intervals_in_seconds,t[2]))return{sec:i.intervals_in_seconds[t[2]],type:t[2],count:parseInt(t[1],10)};throw new Error('Invalid interval string, expecting a number followed by one of "Mwdhmsy"')},interval_to_ms:function(e){var t=i.describe_interval(e);return 1e3*t.sec*t.count},interval_to_seconds:function(e){var t=i.describe_interval(e);return t.sec*t.count},query_color_dot:function(e,t){return'<div class="icon-circle" style="'+["display:inline-block","color:"+e,"font-size:"+t+"px"].join(";")+'"></div>'},slugifyForUrl:function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},stringToJsRegex:function(e){return Object(r.deprecationWarning)("kbn.ts","kbn.stringToJsRegex()","@grafana/data"),Object(r.stringToJsRegex)(e)},toFixed:function(e,t){if(null===e)return"";var n=t?Math.pow(10,Math.max(0,t)):1,a=String(Math.round(e*n)/n);if(-1!==a.indexOf("e")||0===e)return a;if(null!=t){var r=a.indexOf("."),i=-1===r?0:a.length-r-1;if(i<t)return(i?a:a+".")+String(n).substr(1,t-i)}return a},toFixedScaled:function(e,t,n,a,r){return null===n?i.toFixed(e,t)+r:i.toFixed(e,n+a)+r},roundValue:function(e,t){if(null===e)return null;var n=Math.pow(10,t),a=(n*e).toFixed(t);return Math.round(parseFloat(a))/n},getUnitFormats:function(){return Object(r.getValueFormats)()}};"undefined"!=typeof Proxy?i.valueFormats=new Proxy(i.valueFormats,{get:function(e,t,n){if("string"!=typeof t)throw{message:"Value format "+String(t)+" is not a string"};var a=Object(r.getValueFormat)(t);return a?function(e,t,n,i){return Object(r.formattedValueToString)(a(e,t,n,i?"utc":"browser"))}:Reflect.get(e,t,n)}}):i.valueFormats=Object(r.getValueFormatterIndex)(),t.a=i},Pfkp:function(e,t){var n="public/app/plugins/datasource/elasticsearch/partials/metric_agg.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-inline ng-class="{\'gf-form-disabled\': agg.hide}">\n\t<div class=gf-form>\n\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\tMetric\n\t\t\t&nbsp;\n\t\t\t<a ng-click=toggleShowMetric() bs-tooltip="\'Click to toggle show / hide metric\'">\n\t\t\t\t<i class="fa fa-eye" ng-hide=agg.hide></i>\n\t\t\t\t<i class="fa fa-eye-slash" ng-show=agg.hide></i>\n\t\t\t</a>\n\t\t</label>\n\t</div>\n\n\t<div class=gf-form>\n\t\t<metric-segment-model property=agg.type options=metricAggTypes on-change=onTypeChange() custom=false css-class=width-10></metric-segment-model>\n\t\t<metric-segment-model ng-if=aggDef.requiresField property=agg.field get-options=getFieldsInternal() on-change=onChange() css-class=width-12></metric-segment-model>\n\t\t<metric-segment-model ng-if="aggDef.isPipelineAgg && !aggDef.supportsMultipleBucketPaths" property=agg.pipelineAgg options=pipelineAggOptions on-change=onChangeInternal() custom=false css-class=width-12></metric-segment-model>\n\t</div>\n\n  <div class="gf-form gf-form--grow" ng-if="aggDef.isPipelineAgg && aggDef.supportsMultipleBucketPaths">\n\t\t<label class="gf-form-label gf-form-label--grow">\n\t\t\t<a ng-click=toggleVariables()>\n\t\t\t\t<i class="fa fa-caret-down" ng-show=showVariables></i>\n\t\t\t\t<i class="fa fa-caret-right" ng-hide=showVariables></i>\n        {{variablesLinkText}}\n\t\t\t</a>\n\t\t</label>\n\t</div>\n\n\t<div class="gf-form gf-form--grow">\n\t\t<label class="gf-form-label gf-form-label--grow">\n\t\t\t<a ng-click=toggleOptions() ng-if=settingsLinkText>\n\t\t\t\t<i class="fa fa-caret-down" ng-show=showOptions></i>\n\t\t\t\t<i class="fa fa-caret-right" ng-hide=showOptions></i>\n\t\t\t\t\t{{settingsLinkText}}\n\t\t\t</a>\n\t\t</label>\n\t</div>\n\n\t<div class=gf-form>\n\t\t<label class=gf-form-label ng-if=isFirst>\n\t\t\t<a class=pointer ng-click=addMetricAgg()><i class="fa fa-plus"></i></a>\n\t\t</label>\n\t\t<label class=gf-form-label ng-if=!isSingle>\n\t\t\t<a class=pointer ng-click=removeMetricAgg()><i class="fa fa-minus"></i></a>\n\t\t</label>\n\t</div>\n</div>\n\n<div class=gf-form-group ng-if=showVariables>\n\t<elastic-pipeline-variables variables=agg.pipelineVariables options=pipelineAggOptions on-change=onChangeInternal() />\n  <div class="gf-form offset-width-7">\n    <label class="gf-form-label width-10">\n      Script\n      <info-popover mode=right-normal>\n        Elasticsearch v5.0 and above: Scripting language is Painless. Use <i>params.&lt;var&gt;</i> to reference a variable.<br/><br/>\n        Elasticsearch pre-v5.0: Scripting language is per default Groovy if not changed. For Groovy use <i>&lt;var&gt;</i> to reference a variable.\n      </info-popover>\n    </label>\n    <input type=text class="gf-form-input max-width-24" empty-to-null ng-model=agg.settings.script ng-blur=onChangeInternal() spellcheck=false placeholder="params.var1 / params.var2">\n  </div>\n</div>\n\n<div class=gf-form-group ng-if=showOptions>\n\t<div class="gf-form offset-width-7" ng-if="agg.type === \'derivative\'">\n\t\t<label class="gf-form-label width-10">Unit</label>\n\t\t<input type=text class="gf-form-input max-width-12" ng-model=agg.settings.unit ng-blur=onChangeInternal() spellcheck=false>\n\t</div>\n\n  <div ng-if="agg.type === \'moving_avg\'">\n    <div class="gf-form offset-width-7">\n      <label class="gf-form-label width-10">Model</label>\n      <metric-segment-model property=agg.settings.model options=movingAvgModelTypes on-change=onChangeClearInternal() custom=false css-class=width-12></metric-segment-model>\n    </div>\n\n    <div class="gf-form offset-width-7">\n      <label class="gf-form-label width-10">Window</label>\n      <input type=number class="gf-form-input max-width-12" ng-model=agg.settings.window ng-blur=onChangeInternal() spellcheck=false>\n    </div>\n\n    <div class="gf-form offset-width-7">\n      <label class="gf-form-label width-10">Predict</label>\n      <input type=number class="gf-form-input max-width-12" ng-model=agg.settings.predict ng-blur=onChangeInternal() spellcheck=false>\n    </div>\n\n\n    <div class="gf-form offset-width-7" ng-repeat="setting in modelSettings">\n      <label class="gf-form-label width-10">{{setting.text}}</label>\n      <input type=number class="gf-form-input max-width-12" ng-model=agg.settings.settings[setting.value] ng-blur=onChangeInternal() spellcheck=false>\n    </div>\n\n    <gf-form-switch ng-if="agg.settings.model == \'holt_winters\'" class="gf-form offset-width-7" label=Pad label-class=width-10 checked=agg.settings.settings.pad on-change=onChangeInternal()></gf-form-switch>\n    <gf-form-switch ng-if="agg.settings.model.match(\'ewma|holt_winters|holt\') !== null" class="gf-form offset-width-7" label=Minimize label-class=width-10 checked=agg.settings.minimize on-change=onChangeInternal()></gf-form-switch>\n  </div>\n\n  <div class="gf-form offset-width-7" ng-if="agg.type === \'percentiles\'">\n    <label class="gf-form-label width-10">Percentiles</label>\n    <input type=text class="gf-form-input max-width-12" ng-model=agg.settings.percents array-join ng-blur=onChange()>\n  </div>\n  <div class="gf-form offset-width-7" ng-if="agg.type === \'raw_document\'">\n    <label class="gf-form-label width-10">Size</label>\n    <input type=number class="gf-form-input max-width-12" ng-model=agg.settings.size ng-blur=onChange()>\n  </div>\n\n\n  <div class="gf-form offset-width-7" ng-if="agg.type === \'cardinality\'">\n    <label class="gf-form-label width-10">Precision threshold</label>\n    <input type=number class="gf-form-input max-width-12" ng-model=agg.settings.precision_threshold ng-blur=onChange()>\n  </div>\n\n  <div ng-if="agg.type === \'extended_stats\'">\n    <gf-form-switch ng-repeat="stat in extendedStats" class="gf-form offset-width-7" label={{stat.text}} label-class=width-10 checked=agg.meta[stat.value] on-change=onChangeInternal()></gf-form-switch>\n\n    <div class="gf-form offset-width-7">\n      <label class="gf-form-label width-10">Sigma</label>\n      <input type=number class="gf-form-input max-width-12" placeholder=3 ng-model=agg.settings.sigma ng-blur=onChange()>\n    </div>\n  </div>\n\n  <div class="gf-form offset-width-7" ng-if=aggDef.supportsInlineScript>\n    <label class="gf-form-label width-10">Script</label>\n    <input type=text class="gf-form-input max-width-12" empty-to-null ng-model=agg.inlineScript ng-blur=onChangeInternal() spellcheck=false placeholder="_value * 1">\n  </div>\n\n  <div class="gf-form offset-width-7" ng-if=aggDef.supportsMissing>\n\t\t<label class="gf-form-label width-10">\n\t\t\tMissing\n\t\t\t<tip>The missing parameter defines how documents that are missing a value should be treated. By default they will be ignored but it is also possible to treat them as if they had a value</tip>\n\t\t</label>\n\t\t<input type=number class="gf-form-input max-width-12" empty-to-null ng-model=agg.settings.missing ng-blur=onChangeInternal() spellcheck=false>\n  </div>\n</div>\n')}]),e.exports=n},Q8uG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("txxJ"),r=n("t/ct");function i(e,t,n){a.c.directive(e,["reactDirective",function(e){return e(Object(r.b)(t),n)}])}},QBcC:function(e,t){var n="public/app/features/org/partials/select_org.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n\n\t<div class=signup>\n\t\t<div class=login-form>\n\n\t\t\t<div class=modal-tagline>\n\t\t\t\tYou have been added to another Organization due to an open invitation!\n\n\t\t\t\tPlease select which organization you want to <br>\n\t\t\t\tuse right now (you can change this later at any time).\n\t\t\t</div>\n\n\t\t\t<div style="display:inline-block;width:400px;margin:30px 0">\n\t\t\t\t<div ng-repeat="org in orgs">\n\t\t\t\t\t<a ng-click=setUsingOrg(org) class="btn btn-primary">\n\t\t\t\t\t\t{{org.name}} ({{org.role}})\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\n<footer/>\n')}]),e.exports=n},QGP0:function(e,t,n){"use strict";var a,r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e.Thresholds="thresholds",e.Scheme="scheme",e.Fixed="fixed"}(a||(a={})),function(e){e.BrBG="BrBG",e.PRGn="PRGn",e.PiYG="PiYG",e.PuOr="PuOr",e.RdBu="RdBu",e.RdGy="RdGy",e.RdYlBu="RdYlBu",e.RdYlGn="RdYlGn",e.Spectral="Spectral",e.BuGn="BuGn",e.BuPu="BuPu",e.GnBu="GnBu",e.OrRd="OrRd",e.PuBuGn="PuBuGn",e.PuBu="PuBu",e.PuRd="PuRd",e.RdPu="RdPu",e.YlGnBu="YlGnBu",e.YlGn="YlGn",e.YlOrBr="YlOrBr",e.YlOrRd="YlOrRd",e.Blues="Blues",e.Greens="Greens",e.Greys="Greys",e.Purples="Purples",e.Reds="Reds",e.Oranges="Oranges"}(r||(r={}))},QH30:function(e,t){var n="public/app/features/admin/partials/edit_user.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n  <h3 class=page-sub-heading>Edit User</h3>\n\n  <form name=userForm class=gf-form-group>\n    <div class=gf-form>\n      <span class="gf-form-label width-10">Name</span>\n      <input type=text required ng-model=user.name class="gf-form-input max-width-25"/>\n    </div>\n    <div class=gf-form>\n      <span class="gf-form-label width-10">Email</span>\n      <input type=email ng-model=user.email class="gf-form-input max-width-25"/>\n    </div>\n    <div class=gf-form>\n      <span class="gf-form-label width-10">Username</span>\n      <input type=text ng-model=user.login class="gf-form-input max-width-25"/>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button type=submit class="btn btn-primary" ng-click=update() ng-show=!createMode>Update</button>\n    </div>\n  </form>\n\n  <h3 class=page-heading>Change password</h3>\n\n  <form name=passwordForm class=gf-form-group>\n    <div class=gf-form>\n      <span class="gf-form-label width-10">New password</span>\n      <input type=password required ng-minlength=4 ng-model=password class="gf-form-input max-width-25"/>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button type=submit class="btn btn-primary" ng-click=setPassword()>Update</button>\n    </div>\n  </form>\n\n  <h3 class=page-heading>Permissions</h3>\n\n  <form name=passwordForm class=gf-form-group>\n    <div class=gf-form>\n      <gf-form-switch class=gf-form label="Grafana Admin" checked=permissions.isGrafanaAdmin switch-class=max-width-6 on-change=updatePermissions()></gf-form-switch>\n    </div>\n  </form>\n\n  <h3 class=page-heading>Organizations</h3>\n\n  <form name=addOrgForm class=gf-form-group>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <span class=gf-form-label>Add</span>\n        <input type=text ng-model=newOrg.name bs-typeahead=searchOrgs required class="gf-form-input max-width-20" placeholder="organization name"/>\n      </div>\n      <div class=gf-form>\n        <span class=gf-form-label>Role</span>\n        <span class=gf-form-select-wrapper>\n          <select type=text ng-model=newOrg.role class="gf-form-input width-10" ng-options="f for f in [\'Viewer\', \'Editor\', \'Admin\']"></select>\n        </span>\n      </div>\n      <div class=gf-form>\n        <button class="btn btn-primary gf-form-btn" ng-click=addOrgUser()>Add</button>\n      </div>\n    </div>\n  </form>\n\n  <div class=gf-form-group>\n    <table class=filter-table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Role</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tr ng-repeat="org in orgs">\n        <td>{{org.name}} <span class="label label-info" ng-show="org.orgId === user.orgId">Current</span></td>\n        <td>\n          <div class=gf-form>\n            <span class=gf-form-select-wrapper>\n              <select type=text ng-model=org.role class="gf-form-input max-width-12" ng-options="f for f in [\'Viewer\', \'Editor\', \'Admin\']" ng-change=updateOrgUser(org)>\n              </select>\n            </span>\n          </div>\n        </td>\n        <td style=width:1%>\n          <a ng-click=removeOrgUser(org) class="btn btn-danger btn-small">\n            <i class="fa fa-remove"></i>\n          </a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <h3 class=page-heading>Sessions</h3>\n\n  <div class=gf-form-group>\n    <div class=gf-form>\n      <table class="filter-table form-inline">\n        <thead>\n          <tr>\n            <th>Last seen</th>\n            <th>Logged on</th>\n            <th>IP address</th>\n            <th>Browser &amp; OS</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="session in sessions">\n            <td ng-if=session.isActive>Now</td>\n            <td ng-if=!session.isActive>{{session.seenAt}}</td>\n            <td>{{session.createdAt}}</td>\n            <td>{{session.clientIp}}</td>\n            <td>{{session.browser}} on {{session.os}} {{session.osVersion}}</td>\n            <td>\n              <button class="btn btn-danger btn-small" ng-click=revokeUserSession(session.id)>\n                <i class="fa fa-power-off"></i>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=gf-form-button-row>\n      <button ng-if=sessions.length class="btn btn-danger" ng-click=revokeAllUserSessions()>\n        Logout user from all devices\n      </button>\n    </div>\n  </div>\n\n\n  <h3 class=page-heading>User status</h3>\n\n  <div class=gf-form-group>\n    <div class=gf-form-button-row>\n      <button type=submit class="btn btn-danger" ng-if=!user.isDisabled ng-click=disableUser($event) bs-tooltip="user.isExternal ? \'External user cannot be enabled or disabled\' : \'\'" ng-class="{\'disabled\': user.isExternal}">\n        Disable\n      </button>\n      <button type=submit class="btn btn-primary" ng-if=user.isDisabled ng-click=disableUser($event) bs-tooltip="user.isExternal ? \'External user cannot be enabled or disabled\' : \'\'" ng-class="{\'disabled\': user.isExternal}">\n        Enable\n      </button>\n      <button type=submit class="btn btn-danger" ng-click=deleteUser(user) ng-show=!createMode>Delete User</button>\n    </div>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},QJHg:function(e,t,n){"use strict";var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("kDLi"),s=n("Obii"),l=n("ZFWI");var c,u=n("VX0D"),d=n("m257"),p=n("66yP");n.d(t,"b",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return w});var f,h,m=((c={})[s.LogLevel.critical]=o.colors[7],c[s.LogLevel.warning]=o.colors[1],c[s.LogLevel.error]=o.colors[4],c[s.LogLevel.info]=o.colors[0],c[s.LogLevel.debug]=o.colors[5],c[s.LogLevel.trace]=o.colors[2],c[s.LogLevel.unknown]=(f="#8e8e8e",h="#dde4ed",l.b.bootData.user.lightTheme?h:f),c),g=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-6]\d[,\.]\d+([+-][0-2]\d:[0-5]\d|Z)/g;function b(e,t){return t===s.LogsDedupStrategy.none?e:e.reduce(function(e,n,r){var i=Object(a.__assign)({},n),o=e[e.length-1];return r>0&&function(e,t,n){switch(n){case s.LogsDedupStrategy.exact:return e.entry.replace(g,"")===t.entry.replace(g,"");case s.LogsDedupStrategy.numbers:return e.entry.replace(/\d/g,"")===t.entry.replace(/\d/g,"");case s.LogsDedupStrategy.signature:return e.entry.replace(/\w/g,"")===t.entry.replace(/\w/g,"");default:return!1}}(n,o,t)?o.duplicates++:(i.duplicates=0,e.push(i)),e},[])}function v(e,t){return 0===t.size?e:e.filter(function(e){return!t.has(e.logLevel)})}function y(e){return e.fields.some(function(e){return e.type===s.FieldType.time})&&e.fields.some(function(e){return e.type===s.FieldType.string})}function w(e,t,n){var r=function(e){var t,n,r=[],i=[];try{for(var o=Object(a.__values)(e),s=o.next();!s.done;s=o.next()){var l=s.value;y(l)?i.push(l):r.push(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{logSeries:i,metricSeries:r}}(e),l=r.logSeries,c=r.metricSeries,f=function(e){var t,n;if(0===e.length)return;var r=[],l=e.map(function(e){var t=new s.FieldCache(e),n=t.getFirstFieldOfType(s.FieldType.string);return n.labels&&r.push(n.labels),{series:e,timeField:t.getFirstFieldOfType(s.FieldType.time),stringField:n,logLevelField:t.getFieldByName("level"),idField:O(t)}}),c=r.length>0?Object(s.findCommonLabels)(r):{},p=[],f=!1;try{for(var h=Object(a.__values)(l),m=h.next();!m.done;m=h.next()){var g=m.value,b=g.timeField,v=g.stringField,y=g.logLevelField,w=g.idField,_=g.series,k=v.labels,j=Object(s.findUniqueLabels)(k,c);Object.keys(j).length>0&&(f=!0);var C=void 0;k&&-1!==Object.keys(k).indexOf("level")&&(C=Object(s.getLogLevelFromKey)(k.level));for(var S=0;S<_.length;S++){var E=b.values.get(S),T=Object(s.dateTime)(E),M=v.values.get(S),A="string"==typeof M?M:JSON.stringify(M),N=Object(u.b)(A),D=_.meta&&_.meta.searchWords?_.meta.searchWords:[],I=s.LogLevel.unknown;I=y&&y.values.get(S)?Object(s.getLogLevelFromKey)(y.values.get(S)):C||Object(s.getLogLevel)(A),p.push({entryFieldIndex:v.index,rowIndex:S,dataFrame:_,logLevel:I,timeFromNow:T.fromNow(),timeEpochMs:T.valueOf(),timeLocal:T.format(x),timeUtc:Object(s.toUtc)(T.valueOf()).format(x),uniqueLabels:j,hasAnsi:N,searchWords:D,entry:N?o.ansicolor.strip(A):A,raw:A,labels:v.labels,uid:w?w.values.get(S):S.toString()})}}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}var P=Object(d.g)(p),F=[];i.a.size(c)>0&&F.push({label:"Common labels",value:c,kind:s.LogsMetaKind.LabelsMap});var L=e.filter(function(e){return e.meta&&e.meta.limit});L.length>0&&F.push({label:"Limit",value:L[0].meta.limit+" ("+P.length+" returned)",kind:s.LogsMetaKind.String});return{hasUniqueLabels:f,meta:F,rows:P}}(l);return f?(0===c.length?f.series=function(e,t,n){var r,i,o,l,c={},u=10*t,p=[],f=e.sort(d.w);try{for(var h=Object(a.__values)(f),g=h.next();!g.done;g=h.next()){var b=g.value,v=c[b.logLevel];v||(c[b.logLevel]=v={lastTs:null,datapoints:[],alias:b.logLevel,target:b.logLevel,color:m[b.logLevel]},p.push(v));var y=Math.floor(b.timeEpochMs/u)*u;y===v.lastTs?v.datapoints[v.datapoints.length-1][0]++:(v.datapoints.push([1,y]),v.lastTs=y);try{for(var w=(o=void 0,Object(a.__values)(p)),x=w.next();!x.done;x=w.next()){var O=x.value;O!==v&&O.lastTs!==y&&(O.datapoints.push([0,y]),O.lastTs=y)}}catch(e){o={error:e}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return p.map(function(e,t){e.datapoints.sort(function(e,t){return e[1]-t[1]});var r=Object(s.toDataFrame)(e),i=Object(s.getFlotPairs)({xField:r.fields[1],yField:r.fields[0],nullValueMode:s.NullValueMode.Null}),o=r.fields[1];o.display=Object(s.getDisplayProcessor)({field:o,timeZone:n});var l=r.fields[0];return l.config=Object(a.__assign)(Object(a.__assign)({},l.config),{color:e.color}),{color:e.color,label:e.alias,data:i,isVisible:!0,yAxis:{index:1,min:0,tickDecimals:0},seriesIndex:t,timeField:o,valueField:l,timeStep:0}})}(f.rows,t,n):f.series=Object(p.a)(c,n,{},{showBars:!0,showLines:!1,showPoints:!1},{asTable:!1,isVisible:!0,placement:"under"}),f):{hasUniqueLabels:!1,rows:[],meta:[],series:[]}}var x="YYYY-MM-DD HH:mm:ss";function O(e){var t,n;try{for(var r=Object(a.__values)(["id"]),i=r.next();!i.done;i=r.next()){var o=i.value,s=e.getFieldByName(o);if(s)return s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},QNPh:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l});var a=n("LvDl"),r=n.n(a),i=function(){return function(e){this.type=e.type,this.params=e.params,this.defaultParams=e.defaultParams,this.renderer=e.renderer,this.category=e.category,this.addStrategy=e.addStrategy}}(),o=function(){function e(e,t){if(this.part=e,this.def=t,!this.def)throw{message:"Could not find query part "+e.type};e.params=e.params||r.a.clone(this.def.defaultParams),this.params=e.params,this.updateText()}return e.prototype.render=function(e){return this.def.renderer(this,e)},e.prototype.hasMultipleParamsInString=function(e,t){return-1!==e.indexOf(",")&&(this.def.params[t+1]&&this.def.params[t+1].optional)},e.prototype.updateParam=function(e,t){var n=this;this.hasMultipleParamsInString(e,t)?r.a.each(e.split(","),function(e,t){n.updateParam(e.trim(),t)}):(""===e&&this.def.params[t].optional?this.params.splice(t,1):this.params[t]=e,this.part.params=this.params,this.updateText())},e.prototype.updateText=function(){if(0!==this.params.length){var e=this.def.type+"(";e+=this.params.join(", "),e+=")",this.text=e}else this.text=this.def.type+"()"},e}();function s(e,t){var n=e.def.type+"(",a=r.a.map(e.params,function(t,n){var a=e.def.params[n];return"time"===a.type&&"auto"===t&&(t="$__interval"),"single"===a.quote?"'"+t+"'":"double"===a.quote?'"'+t+'"':t});return t&&a.unshift(t),n+a.join(", ")+")"}function l(e,t){return t+" "+e.params[0]}},QNe1:function(e,t){},QQVG:function(e,t,n){"use strict";var a,r,i,o=n("mrSG"),s=n("q1tI"),l=n.n(s),c=n("kDLi"),u=n("PAeb"),d=Object(u.css)(a||(a=Object(o.__makeTemplateObject)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),p=Object(u.css)(r||(r=Object(o.__makeTemplateObject)(["\n  max-width: 700px;\n  margin: 0 auto;\n"],["\n  max-width: 700px;\n  margin: 0 auto;\n"])));t.a=function(e){var t=e.title,n=e.buttonIcon,a=e.buttonLink,r=e.buttonTitle,f=e.onClick,h=e.proTip,m=e.proTipLink,g=e.proTipLinkTitle,b=e.proTipTarget,v=e.infoBox,y=e.infoBoxTitle,w=Object(s.useContext)(c.ThemeContext),x=function(){return l.a.createElement(l.a.Fragment,null,h?l.a.createElement("span",{key:"proTipFooter"},l.a.createElement("i",{className:"fa fa-rocket"}),l.a.createElement(l.a.Fragment,null," ProTip: ",h," "),l.a.createElement("a",{href:m,target:b,className:"text-link"},g)):"",v?l.a.createElement("div",{key:"infoBoxHtml",className:"grafana-info-box "+p},y&&l.a.createElement("h5",null,y),l.a.createElement("div",{dangerouslySetInnerHTML:v})):"")},O=x()?"":Object(u.css)(i||(i=Object(o.__makeTemplateObject)(["\n        margin-bottom: 20px;\n      "],["\n        margin-bottom: 20px;\n      "]))),_=l.a.createElement(c.LinkButton,{size:"lg",onClick:f,href:a,icon:n,className:O,"aria-label":"Call to action button "+r},r);return l.a.createElement(c.CallToActionCard,{className:d,message:t,footer:x(),callToActionElement:_,theme:w})}},Qhie:function(e,t){
/**
 * AngularStrap - Twitter Bootstrap directives for AngularJS
 * @version v0.7.5 - 2013-07-21
 * @link http://mgcrea.github.com/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("$strap.config",[]).value("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").factory("$modal",["$rootScope","$compile","$http","$timeout","$q","$templateCache","$strapConfig",function(e,t,n,a,r,i,o){return function(s){return new function(s){var l=angular.extend({show:!0},o.modal,s),c=l.scope?l.scope:e.$new(),u=l.template;return r.when(l.templateHtml||i.get(u)||n.get(u,{cache:!0}).then(function(e){return e.data})).then(function(e){var n=c.$id;u&&(n+=u.replace(".html","").replace(/[\/|\.|:]/g,"-"));var r=$('<div class="modal hide" tabindex="-1"></div>').attr("id",n).html(e);return l.modalClass&&r.addClass(l.modalClass),$("body").append(r),a(function(){t(r)(c)}),c.$modal=function(e){r.modal(e)},angular.forEach(["show","hide"],function(e){c[e]=function(){r.modal(e)}}),c.dismiss=c.hide,angular.forEach(["show","shown","hide","hidden"],function(e){r.on(e,function(t){c.$emit("modal-"+e,t)})}),r.on("shown",function(e){$("input[autofocus], textarea[autofocus]",r).first().trigger("focus")}),r.on("hidden",function(e){l.persist||c.$destroy()}),c.$on("$destroy",function(){r.remove()}),r.modal(l),r})}(s)}}]),angular.module("$strap.directives").directive("bsTooltip",["$parse","$compile",function(e,t){return{restrict:"A",scope:!0,link:function(t,n,a,r){var i=e(a.bsTooltip),o=(i.assign,i(t));t.$watch(a.bsTooltip,function(e,t){e!==t&&(o=e)}),n.on("show",function(e){$(".tooltip.in").each(function(){var e=$(this),t=e.data("tooltip");t&&!t.$element.is(n)&&e.tooltip("hide")})}),n.tooltip({title:function(){return angular.isFunction(o)?o.apply(null,arguments):o},html:!0,container:"body"}),n.data("tooltip").show=function(){var e=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data("tooltip",this),e},t._tooltip=function(e){n.tooltip(e)},t.hide=function(){n.tooltip("hide")},t.show=function(){n.tooltip("show")},t.dismiss=t.hide}}}]),angular.module("$strap.directives").directive("bsTypeahead",["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,a,r){var i=e(a.bsTypeahead),o=(i.assign,i(t));t.$watch(a.bsTypeahead,function(e,t){e!==t&&(o=e)}),n.attr("data-provide","typeahead"),n.typeahead({source:function(e){return angular.isFunction(o)?o.apply(null,arguments):o},minLength:a.minLength||1,items:a.items,updater:function(e){return r&&t.$apply(function(){r.$setViewValue(e)}),t.$emit("typeahead-updated",e),e}});var s=n.data("typeahead");s.lookup=function(e){var t;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(t=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source)?this.process(t):this},a.matchAll&&(s.matcher=function(e){return!0}),"0"===a.minLength&&setTimeout(function(){n.on("focus",function(){0===n.val().length&&setTimeout(n.typeahead.bind(n,"lookup"),200)})})}}}])},Qinm:function(e,t){var n="public/app/plugins/datasource/grafana-azure-monitor-datasource/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword width-9">Service</label>\n    <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n      <select class="gf-form-input service-dropdown" ng-model=ctrl.annotation.queryType ng-options="f as f for f in [\'Application Insights\', \'Azure Monitor\', \'Azure Log Analytics\']"></select>\n    </div>\n  </div>\n  <div class=gf-form ng-show="ctrl.annotation.queryType === \'Azure Log Analytics\'">\n    <label class="gf-form-label query-keyword width-9">Subscription</label>\n    <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n      <select class="gf-form-input service-dropdown" ng-model=ctrl.annotation.subscription ng-options="f.value as f.text for f in ctrl.subscriptions" ng-change=ctrl.onSubscriptionChange()></select>\n    </div>\n  </div>\n  <div ng-show="ctrl.annotation.queryType === \'Azure Log Analytics\'">\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-9">Workspace</label>\n        <div class="gf-form-select-wrapper gf-form-select-wrapper--caret-indent">\n          <select class="gf-form-input min-width-12" ng-model=ctrl.annotation.workspace ng-options="f.value as f.text for f in ctrl.workspaces"></select>\n        </div>\n      </div>\n      <div class=gf-form>\n        <div class=width-1></div>\n      </div>\n      <div class=gf-form>\n        <button class="btn btn-primary width-10" ng-click=ctrl.panelCtrl.refresh()>Run</button>\n      </div>\n      <div class=gf-form>\n        <label class=gf-form-label>(Run Query: Shift+Enter, Trigger Suggestion: Ctrl+Space)</label>\n      </div>\n    </div>\n    <kusto-editor class="gf-form gf-form--grow" query=ctrl.annotation.rawQuery variables=ctrl.templateVariables change=ctrl.onLogAnalyticsQueryChange getschema=ctrl.getAzureLogAnalyticsSchema />\n  </div>\n\n  <div class=gf-form-inline ng-show="ctrl.annotation.queryType !== \'Azure Log Analytics\'">\n    <div class="gf-form gf-form--grow">\n      <label class=gf-form-label>No annotations support for {{ctrl.annotation.queryType}}</label>\n    </div>\n  </div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n    </div>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showHelp>\n    <pre class="gf-form-pre alert alert-info" ng-show="ctrl.annotation.queryType === \'Azure Log Analytics\'"><h6>Annotation Query Format</h6>\nAn annotation is an event that is overlaid on top of graphs. The query can have up to three columns per row, the datetime column is mandatory. Annotation rendering is expensive so it is important to limit the number of rows returned.\n\n- column with the datetime type.\n- column with alias: <b>Text</b> or <b>text</b> for the annotation text\n- column with alias: <b>Tags</b> or <b>tags</b> for annotation tags. This is should return a comma separated string of tags e.g. \'tag1,tag2\'\n\nMacros:\n    - $__timeFilter() -&gt; TimeGenerated &ge; datetime(2018-06-05T18:09:58.907Z) and TimeGenerated &le; datetime(2018-06-05T20:09:58.907Z)\n    - $__timeFilter(datetimeColumn) -&gt;  datetimeColumn  &ge; datetime(2018-06-05T18:09:58.907Z) and datetimeColumn &le; datetime(2018-06-05T20:09:58.907Z)\n\n    Or build your own conditionals using these built-in variables which just return the values:\n    - $__timeFrom -&gt;  datetime(2018-06-05T18:09:58.907Z)\n    - $__timeTo -&gt; datetime(2018-06-05T20:09:58.907Z)\n    - $__interval -&gt; 5m\n</pre>\n  </div>\n</div>\n')}]),e.exports=n},QlHa:function(e,t){},QqjE:function(e,t){var n="public/app/plugins/panel/dashlist/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Options</h5>\n\n    <gf-form-switch class=gf-form label=Starred label-class=width-9 checked=ctrl.panel.starred on-change=ctrl.refresh()></gf-form-switch>\n    <gf-form-switch class=gf-form label="Recently viewed" label-class=width-9 checked=ctrl.panel.recent on-change=ctrl.refresh()></gf-form-switch>\n    <gf-form-switch class=gf-form label=Search label-class=width-9 checked=ctrl.panel.search on-change=ctrl.refresh()></gf-form-switch>\n\n    <gf-form-switch class=gf-form label="Show headings" label-class=width-9 checked=ctrl.panel.headings on-change=ctrl.refresh()></gf-form-switch>\n\n    <div class=gf-form>\n      <span class="gf-form-label width-9">Max items</span>\n      <input class="gf-form-input max-width-5" type=number ng-model=ctrl.panel.limit ng-model-onblur ng-change=ctrl.refresh()>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Search</h5>\n\n    <div class=gf-form>\n      <span class="gf-form-label width-6">Query</span>\n      <input type=text class=gf-form-input placeholder="title query" ng-model=ctrl.panel.query ng-change=ctrl.refresh() ng-model-onblur>\n    </div>\n\n    <div class=gf-form>\n      <folder-picker initial-folder-id=ctrl.panel.folderId on-change=ctrl.onFolderChange($folder) label-class=width-6 initial-title="\'All\'" enable-reset=true>\n\t\t\t</folder-picker>\n    </div>\n\n    <div class=gf-form>\n      <span class="gf-form-label width-6">Tags</span>\n      <bootstrap-tagsinput ng-model=ctrl.panel.tags tagclass="label label-tag" placeholder="add tags" on-tags-updated=ctrl.refresh()>\n      </bootstrap-tagsinput>\n    </div>\n  </div>\n\n</div>\n')}]),e.exports=n},Qrgx:function(e,t){},QzbV:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a);t.a=function(){return r.a.createElement("div",{className:""},r.a.createElement("h5",null,"What are Permissions?"),r.a.createElement("p",null,"An Access Control List (ACL) model is used to limit access to Dashboard Folders. A user or a Team can be assigned permissions for a folder or for a single dashboard."))}},R9Tc:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var a=n("mrSG"),r=n("i7Pf"),i=n("ZFWI");function o(){var e={};return function e(t,n,r){var i,o;try{for(var s=Object(a.__values)(n),l=s.next();!l.done;l=s.next()){var c=l.value;t[c.id]=Object(a.__assign)(Object(a.__assign)({},c),{parentItem:r}),c.children&&e(t,c.children,c)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}(e,i.b.bootData.navTree),e}var s={},l=Object(r.b)("navIndex/updateNavIndex"),c=function(e,t){var n,r;if(void 0===e&&(e=s),l.match(t)){var i={},o=t.payload;try{for(var c=Object(a.__values)(o.children),u=c.next();!u.done;u=c.next()){var d=u.value;i[d.id]=Object(a.__assign)(Object(a.__assign)({},d),{parentItem:o})}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return Object(a.__assign)(Object(a.__assign)({},e),i)}return e}},RH9q:function(e,t,n){"use strict";var a,r,i,o;n.d(t,"a",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),function(e){e.emerg="critical",e.alert="critical",e.crit="critical",e.critical="critical",e.warn="warning",e.warning="warning",e.err="error",e.eror="error",e.error="error",e.info="info",e.notice="info",e.dbug="debug",e.debug="debug",e.trace="trace",e.unknown="unknown"}(a||(a={})),function(e){e[e.Number=0]="Number",e[e.String=1]="String",e[e.LabelsMap=2]="LabelsMap"}(r||(r={})),function(e){e.none="none",e.exact="exact",e.numbers="numbers",e.signature="signature"}(i||(i={})),function(e){e.none="No de-duplication",e.exact="De-duplication of successive lines that are identical, ignoring ISO datetimes.",e.numbers="De-duplication of successive lines that are identical when ignoring numbers, e.g., IP addresses, latencies.",e.signature="De-duplication of successive lines that have identical punctuation and whitespace."}(o||(o={}))},RYWr:function(e,t){var n="public/app/plugins/panel/table/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Data</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-10">Table Transform</label>\n      <div class="gf-form-select-wrapper max-width-15">\n        <select class=gf-form-input ng-model=editor.panel.transform ng-options="k as v.description for (k, v) in editor.transformers" ng-change=editor.transformChanged()></select>\n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-10">Columns</label>\n      </div>\n      <div class=gf-form ng-repeat="column in editor.panel.columns">\n        <label class=gf-form-label>\n          <i class="pointer fa fa-remove" ng-click=editor.removeColumn(column)></i>\n          <span>{{ column.text }}</span>\n        </label>\n      </div>\n      <div class=gf-form ng-show=editor.canSetColumns>\n        <metric-segment segment=editor.addColumnSegment get-options=editor.getColumnOptions() on-change=editor.addColumn()></metric-segment>\n      </div>\n      <div class=gf-form ng-hide=editor.canSetColumns>\n        <label class=gf-form-label>\n          Auto\n          <info-popover mode=right-normal ng-if=editor.columnsHelpMessage>\n            {{ editor.columnsHelpMessage }}\n          </info-popover>\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Paging</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Rows per page</label>\n      <input type=number class="gf-form-input width-7" placeholder=100 data-placement=right ng-model=editor.panel.pageSize ng-change=editor.render() ng-model-onblur/>\n    </div>\n    <div class="gf-form max-width-17">\n      <label class="gf-form-label width-8">Font size</label>\n      <div class="gf-form-select-wrapper width-7">\n        <select class=gf-form-input ng-model=editor.panel.fontSize ng-options="f for f in editor.fontSizes" ng-change=editor.render()></select>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},Rabt:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("F03Y"),r=function(){function e(e){this.buffer=e.buffer||[],this.capacity=this.buffer.length,this.tail="head"!==e.append,this.index=0,this.add=this.getAddFunction(),e.capacity&&this.setCapacity(e.capacity)}return e.prototype.getAddFunction=function(){var e=this;return this.capacity>this.buffer.length?this.tail?function(t){e.buffer.push(t),e.buffer.length>=e.capacity&&(e.add=e.getAddFunction())}:function(t){e.buffer.unshift(t),e.buffer.length>=e.capacity&&(e.add=e.getAddFunction())}:this.tail?function(t){e.buffer[e.index]=t,e.index=(e.index+1)%e.buffer.length}:function(t){var n=e.index-1;n<0&&(n=e.buffer.length-1),e.buffer[n]=t,e.index=n}},e.prototype.setCapacity=function(e){if(this.capacity!==e){var t=this.toArray();if(e>this.length)this.buffer=t;else if(e<this.capacity){var n=this.length-e;this.tail?this.buffer=t.slice(n,t.length):this.buffer=t.slice(0,t.length-n)}this.capacity=e,this.index=0,this.add=this.getAddFunction()}},e.prototype.setAppendMode=function(e){var t="head"!==e;t!==this.tail&&(this.buffer=this.toArray().reverse(),this.index=0,this.tail=t,this.add=this.getAddFunction())},e.prototype.reverse=function(){this.buffer.reverse()},e.prototype.get=function(e){return this.buffer[(e+this.index)%this.buffer.length]},e.prototype.set=function(e,t){this.buffer[(e+this.index)%this.buffer.length]=t},Object.defineProperty(e.prototype,"length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),e.prototype.toArray=function(){return Object(a.a)(this)},e.prototype.toJSON=function(){return Object(a.a)(this)},e}()},RnhZ:function(e,t,n){var a={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="RnhZ"},RyIb:function(e,t){var n="public/app/features/annotations/partials/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-controller=AnnotationsEditorCtrl>\n  <div class=page-action-bar>\n    <h3 class=dashboard-settings__header>\n      <a ng-click=ctrl.backToList()>Annotations</a>\n      <span ng-show="ctrl.mode === \'new\'"><i class="fa fa-fw fa-chevron-right"></i> New</span>\n      <span ng-show="ctrl.mode === \'edit\'"><i class="fa fa-fw fa-chevron-right"></i> Edit</span>\n    </h3>\n\n    <div class=page-action-bar__spacer></div>\n\n    <a type=button class="btn btn-primary" ng-click=ctrl.setupNew(); ng-if="ctrl.annotations.length > 1" ng-hide="ctrl.mode === \'edit\' || ctrl.mode === \'new\'">\n      New\n    </a>\n  </div>\n\n  <div ng-if="ctrl.mode === \'list\'">\n    <table class="filter-table filter-table--hover">\n      <thead>\n        <tr>\n          <th>Query name</th>\n          <th>Data source</th>\n          <th colspan=3></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="annotation in ctrl.annotations track by annotation.name">\n          <td style=width:90% ng-hide=annotation.builtIn class=pointer ng-click=ctrl.edit(annotation)>\n            <i class="fa fa-comment" style=color:{};></i> &nbsp;\n            {{ annotation.name }}\n          </td>\n          <td style=width:90% ng-show=annotation.builtIn class=pointer ng-click=ctrl.edit(annotation)>\n            <i class="gicon gicon-annotation"></i> &nbsp;\n            <em class=muted>{{ annotation.name }} (Built-in)</em>\n          </td>\n          <td class=pointer ng-click=ctrl.edit(annotation)>\n            {{ annotation.datasource || \'Default\' }}\n          </td>\n          <td style=width:1%>\n            <i ng-click=ctrl.move($index,-1) ng-hide=$first class="pointer fa fa-arrow-up"></i>\n          </td>\n          <td style=width:1%>\n            <i ng-click=ctrl.move($index,1) ng-hide=$last class="pointer fa fa-arrow-down"></i>\n          </td>\n          <td style=width:1%>\n            <a ng-click=ctrl.removeAnnotation(annotation) class="btn btn-danger btn-small" ng-hide=annotation.builtIn>\n              <i class="fa fa-remove"></i>\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    \x3c!-- empty list cta, there is always one built in query --\x3e\n    <div ng-if="ctrl.annotations.length === 1" class=p-t-2>\n      <empty-list-cta title=ctrl.emptyListCta.title buttonicon=ctrl.emptyListCta.buttonIcon buttontitle=ctrl.emptyListCta.buttonTitle infobox=ctrl.emptyListCta.infoBox infoboxtitle=ctrl.emptyListCta.infoBoxTitle on-click=ctrl.setupNew />\n    </div>\n  </div>\n\n  <div class=annotations-basic-settings ng-if="ctrl.mode === \'edit\' || ctrl.mode === \'new\'">\n    <div class=gf-form-group>\n      <h5 class=section-heading>General</h5>\n      <div class=gf-form-inline>\n        <div class=gf-form>\n          <span class="gf-form-label width-7">Name</span>\n          <input type=text class="gf-form-input width-20" ng-model=ctrl.currentAnnotation.name placeholder=name />\n        </div>\n        <div class=gf-form>\n          <span class="gf-form-label width-7">Data source</span>\n          <div class=gf-form-select-wrapper>\n            <select class=gf-form-input ng-model=ctrl.currentAnnotation.datasource ng-options="f.name as f.name for f in ctrl.datasources" ng-change=ctrl.datasourceChanged()></select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=gf-form-group>\n      <div class=gf-form-inline>\n        <gf-form-switch class=gf-form label=Enabled checked=ctrl.currentAnnotation.enable label-class=width-7>\n        </gf-form-switch>\n        <gf-form-switch class=gf-form label=Hidden tooltip="Hides the annotation query toggle from showing at the top of the dashboard" checked=ctrl.currentAnnotation.hide label-class=width-7>\n        </gf-form-switch>\n        <div class=gf-form>\n          <label class="gf-form-label width-9">Color</label>\n          <span class=gf-form-label>\n            <color-picker color=ctrl.currentAnnotation.iconColor onchange=ctrl.onColorChange></color-picker>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <h5 class=section-heading>Query</h5>\n    <rebuild-on-change property=ctrl.currentDatasource>\n      <plugin-component type=annotations-query-ctrl> </plugin-component>\n    </rebuild-on-change>\n\n    <div class=gf-form>\n      <div class="gf-form-button-row p-y-0">\n        <button ng-show="ctrl.mode === \'new\'" type=button class="btn gf-form-button btn-primary" ng-click=ctrl.add()>\n          Add\n        </button>\n        <button ng-show="ctrl.mode === \'edit\'" type=button class="btn btn-primary pull-left" ng-click=ctrl.update()>\n          Update\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},SH6B:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a,r=n("mrSG"),i=n("q1tI"),o=n.n(i),s=n("PAeb"),l=n("kDLi"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showLogoutModal:!1},t.showLogoutConfirmationModal=function(e){return function(){t.setState({showLogoutModal:e})}},t.onSessionRevoke=function(e){return function(){t.props.onSessionRevoke(e)}},t.onAllSessionsRevoke=function(){t.setState({showLogoutModal:!1}),t.props.onAllSessionsRevoke()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.sessions,n=this.state.showLogoutModal,i=Object(s.css)(a||(a=Object(r.__makeTemplateObject)(["\n      margin-top: 0.8rem;\n    "],["\n      margin-top: 0.8rem;\n    "])));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"page-heading"},"Sessions"),o.a.createElement("div",{className:"gf-form-group"},o.a.createElement("div",{className:"gf-form"},o.a.createElement("table",{className:"filter-table form-inline"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Last seen"),o.a.createElement("th",null,"Logged on"),o.a.createElement("th",null,"IP address"),o.a.createElement("th",{colSpan:2},"Browser & OS"))),o.a.createElement("tbody",null,t&&t.map(function(t,n){return o.a.createElement("tr",{key:t.id+"-"+n},o.a.createElement("td",null,t.isActive?"Now":t.seenAt),o.a.createElement("td",null,t.createdAt),o.a.createElement("td",null,t.clientIp),o.a.createElement("td",null,t.browser+" on "+t.os+" "+t.osVersion),o.a.createElement("td",null,o.a.createElement("div",{className:"pull-right"},o.a.createElement(l.ConfirmButton,{confirmText:"Confirm logout",confirmVariant:"danger",onConfirm:e.onSessionRevoke(t.id)},"Force logout"))))})))),o.a.createElement("div",{className:i},t.length>0&&o.a.createElement(l.Forms.Button,{variant:"secondary",onClick:this.showLogoutConfirmationModal(!0)},"Force logout from all devices"),o.a.createElement(l.ConfirmModal,{isOpen:n,title:"Force logout from all devices",body:"Are you sure you want to force logout from all devices?",confirmText:"Force logout",onConfirm:this.onAllSessionsRevoke,onDismiss:this.showLogoutConfirmationModal(!1)}))))},t}(i.PureComponent)},SMGL:function(e,t,n){"use strict";var a=new(function(){function e(){}return e.prototype.get=function(e){return window.localStorage[e]},e.prototype.set=function(e,t){window.localStorage[e]=t},e.prototype.getBool=function(e,t){return void 0===t||this.exists(e)?"true"===window.localStorage[e]:t},e.prototype.getObject=function(e,t){var n=t;if(this.exists(e)){var a=window.localStorage[e];try{n=JSON.parse(a)}catch(n){console.error("Error parsing store object: "+e+". Returning default: "+t+". ["+n+"]")}}return n},e.prototype.setObject=function(e,t){var n;try{n=JSON.stringify(t)}catch(t){return console.error("Could not stringify object: "+e+". ["+t+"]"),!1}try{this.set(e,n)}catch(t){return console.error("Could not save item in localStorage: "+e+". ["+t+"]"),!1}return!0},e.prototype.exists=function(e){return void 0!==window.localStorage[e]},e.prototype.delete=function(e){window.localStorage.removeItem(e)},e}());t.a=a},SZug:function(e,t){},Sr1g:function(e,t,n){var a=n("vFKA");a.keys().forEach(function(e){a(e)})},Szrz:function(e,t){var n="public/app/plugins/datasource/influxdb/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=gf-form-group>\n\t<div class=gf-form>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.annotation.query placeholder="select text from events where $timeFilter limit 1000">\n\t</div>\n</div>\n\n<h5 class=section-heading>Field mappings <tip>If your influxdb query returns more than one field you need to specify the column names below. An annotation event is composed of a title, tags, and an additional text field.</tip></h5>\n<div class=gf-form-group>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-4">Text</span>\n\t\t\t<input type=text class="gf-form-input max-width-10" ng-model=ctrl.annotation.textColumn placeholder="">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-4">Tags</span>\n\t\t\t<input type=text class="gf-form-input max-width-10" ng-model=ctrl.annotation.tagsColumn placeholder="">\n\t\t</div>\n\t\t<div class=gf-form ng-show=ctrl.annotation.titleColumn>\n\t\t\t<span class="gf-form-label width-4">Title <em class=muted>(deprecated)</em></span>\n\t\t\t<input type=text class="gf-form-input max-width-10" ng-model=ctrl.annotation.titleColumn placeholder="">\n\t\t</div>\n\t</div>\n</div>\n')}]),e.exports=n},T9PE:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=new(function(){function e(){}return e.prototype.init=function(e,t){this.$rootScope=t,this.window=window,this.enabled},e.prototype.renderingCompleted=function(){this.panelsRendered=(this.panelsRendered||0)+1,this.window.panelsRendered=this.panelsRendered},e}())},"THR+":function(e,t){},TKrP:function(e,t,n){"use strict";var a,r;n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),function(e){e.Success="success",e.Warning="warning",e.Error="error",e.Info="info"}(a||(a={})),function(e){e[e.Warning=5e3]="Warning",e[e.Success=3e3]="Success",e[e.Error=7e3]="Error"}(r||(r={}))},U1ax:function(e,t){var n="public/app/plugins/datasource/mssql/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl can-collapse=false>\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<code-editor content=ctrl.target.rawSql datasource=ctrl.datasource on-change=ctrl.panelCtrl.refresh() data-mode=sqlserver>\n\t\t\t</code-editor>\n\t\t</div>\n\t</div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword">Format as</label>\n\t\t\t<div class=gf-form-select-wrapper>\n\t\t\t\t<select class="gf-form-input gf-size-auto" ng-model=ctrl.target.format ng-options="f.value as f.text for f in ctrl.formats" ng-change=ctrl.refresh()></select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=gf-form>\n      <label class="gf-form-label query-keyword" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n\t\t</div>\n\t\t<div class=gf-form ng-show=ctrl.lastQueryMeta>\n      <label class="gf-form-label query-keyword" ng-click="ctrl.showLastQuerySQL = !ctrl.showLastQuerySQL">\n        Generated SQL\n        <i class="fa fa-caret-down" ng-show=ctrl.showLastQuerySQL></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showLastQuerySQL></i>\n      </label>\n\t\t</div>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form ng-show=ctrl.showLastQuerySQL>\n\t\t<pre class=gf-form-pre>{{ctrl.lastQueryMeta.sql}}</pre>\n\t</div>\n\n\t<div class=gf-form ng-show=ctrl.showHelp>\n\t\t<pre class="gf-form-pre alert alert-info">Time series:\n- return column named time (in UTC), as a unix time stamp or any sql native date data type. You can use the macros below.\n- any other columns returned will be the time point values.\nOptional:\n  - return column named <i>metric</i> to represent the series name.\n  - If multiple value columns are returned the metric column is used as prefix.\n  - If no column named metric is found the column name of the value column is used as series name\n\nResultsets of time series queries need to be sorted by time.\n\nTable:\n- return any set of columns\n\nMacros:\n- $__time(column) -&gt; column AS time\n- $__timeEpoch(column) -&gt; DATEDIFF(second, \'1970-01-01\', column) AS time\n- $__timeFilter(column) -&gt; column BETWEEN \'2017-04-21T05:01:17Z\' AND \'2017-04-21T05:01:17Z\'\n- $__unixEpochFilter(column) -&gt; column &gt;= 1492750877 AND column &lt;= 1492750877\n- $__unixEpochNanoFilter(column) -&gt;  column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n- $__timeGroup(column, \'5m\'[, fillvalue]) -&gt; CAST(ROUND(DATEDIFF(second, \'1970-01-01\', column)/300.0, 0) as bigint)*300.\n     by setting fillvalue grafana will fill in missing values according to the interval\n     fillvalue can be either a literal value, NULL or previous; previous will fill in the previous seen value or NULL if none has been seen yet\n- $__timeGroupAlias(column, \'5m\'[, fillvalue]) -&gt; CAST(ROUND(DATEDIFF(second, \'1970-01-01\', column)/300.0, 0) as bigint)*300 AS [time]\n- $__unixEpochGroup(column,\'5m\') -&gt; FLOOR(column/300)*300\n- $__unixEpochGroupAlias(column,\'5m\') -&gt; FLOOR(column/300)*300 AS [time]\n\nExample of group by and order by with $__timeGroup:\nSELECT\n  $__timeGroup(date_time_col, \'1h\') AS time,\n  sum(value) as value\nFROM yourtable\nGROUP BY $__timeGroup(date_time_col, \'1h\')\nORDER BY 1\n\nOr build your own conditionals using these macros which just return the values:\n- $__timeFrom() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__timeTo() -&gt;  \'2017-04-21T05:01:17Z\'\n- $__unixEpochFrom() -&gt; 1492750877\n- $__unixEpochTo() -&gt; 1492750877\n- $__unixEpochNanoFrom() -&gt;  1494410783152415214\n- $__unixEpochNanoTo() -&gt;  1494497183142514872\n\t\t</pre>\n\t</div>\n\n\t\n\n\t<div class=gf-form ng-show=ctrl.lastQueryError>\n\t\t<pre class="gf-form-pre alert alert-error">{{ctrl.lastQueryError}}</pre>\n\t</div>\n\n</query-editor-row>\n')}]),e.exports=n},U5HE:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n("1BU0");function r(e){var t=e.xField,n=e.yField,r=e.nullValueMode,i=t.values,o=n.values,s=i.length;if(o.length!==s)throw new Error("Unexpected field length");for(var l=r===a.b.Ignore,c=r===a.b.AsZero,u=[],d=0;d<s;d++){var p=i.get(d),f=o.get(d);if(null===f){if(l)continue;c&&(f=0)}null!==p&&u.push([p,f])}return u}function i(e,t){if(!t.from||!t.to||!e||0===e.length)return[];var n=t.from.valueOf(),a=t.to.valueOf(),r=e[0][1];return[[n,r],[a,r]]}},"UIT+":function(e,t,n){"use strict";var a=n("ZFWI"),r=function(e){var t=Object(a.c)().appSubUrl,n=t.endsWith("/")?1:0;return e.length>0&&0===e.indexOf(t)?e.slice(t.length-n):e};t.a={stripBaseFromUrl:r,assureBaseUrl:function(e){return e.startsWith("/")?""+Object(a.c)().appSubUrl+r(e):e}}},UJAu:function(e,t){var n="public/app/plugins/panel/pluginlist/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=pluginlist>\n  <div class=pluginlist-section ng-repeat="category in ctrl.viewModel">\n    <h6 class=pluginlist-section-header>\n      {{category.header}}\n    </h6>\n    <div class=pluginlist-item ng-repeat="plugin in category.list">\n      <a class="pluginlist-link pluginlist-link-{{plugin.state}} pointer" href={{plugin.defaultNavUrl}}>\n        <span>\n          <img ng-src={{plugin.info.logos.small}} class=pluginlist-image>\n          <span class=pluginlist-title>{{plugin.name}}</span>\n          <span class=pluginlist-version>v{{plugin.info.version}}</span>\n        </span>\n        <span ng-if=ctrl.isAdmin>\n          <span class="pluginlist-message pluginlist-message--update" ng-show=plugin.hasUpdate ng-click="ctrl.updateAvailable(plugin, $event)" bs-tooltip="\'New version: \' + plugin.latestVersion">\n            Update available!\n          </span>\n          <span class="pluginlist-message pluginlist-message--enable" ng-show="!plugin.enabled && !plugin.hasUpdate">\n            Enable now\n          </span>\n          <span class="pluginlist-message pluginlist-message--no-update" ng-show="plugin.enabled && !plugin.hasUpdate">\n            Up to date\n          </span>\n        </span>\n      </a>\n    </div>\n    <div class=pluginlist-item ng-show="category.list.length === 0">\n      <a class="pluginlist-link pluginlist-link-{{plugin.state}}" href=https://grafana.com/plugins>\n        <span class=pluginlist-none-installed>None installed. <span class=pluginlist-emphasis>Browse Grafana.com</span></span>\n      </a>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},UcAx:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.Light="light",e.Dark="dark"}(a||(a={}))},UkAP:function(e,t){var n="public/app/partials/error.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n  <div class="panel-container error-container">\n    <div class="error-column graph-box">\n      <div class=error-row>\n        <div class="error-column error-space-between graph-percentage">\n          <p>100%</p>\n          <p>80%</p>\n          <p>60%</p>\n          <p>40%</p>\n          <p>20%</p>\n          <p>0%</p>\n        </div>\n        <div class="error-column image-box">\n          <img src=public/img/graph404.svg width=100%>\n          <div class="error-row error-space-between">\n            <p class=graph-text>Then</p>\n            <p class=graph-text>Now</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="error-column info-box">\n      <div class="error-row current-box">\n        <p class=current-text>current</p>\n      </div>\n      <div class=error-row style=flex:1>\n        <i class="fa fa-minus error-minus"></i>\n        <div class="error-column error-space-between error-full-width">\n          <div class="error-row error-space-between">\n            <p>Chances you are on the page you are looking for.</p>\n            <p class=left-margin>0%</p>\n          </div>\n          <div>\n            <h3>Sorry for the inconvenience</h3>\n            <p>Please go back to your\n            <a href={{appSubUrl}}/ class=error-link>home dashboard</a> and try again.</p>\n            <p>If the error persists, seek help on the\n            <a href=https://community.grafana.com target=_blank class=error-link>community site</a>.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <span class=react-resizable-handle style=cursor:default></span>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},Ukuu:function(e,t){var n="public/app/partials/edit_json.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-controller=JsonEditorCtrl>\n  <div class=tabbed-view-header>\n    <h2 class=tabbed-view-title>\n      JSON\n    </h2>\n\n    <button class=tabbed-view-close-btn ng-click=dismiss()>\n      <i class="fa fa-remove"></i>\n    </button>\n  </div>\n\n  <div class=tabbed-view-body>\n    <div class=gf-form>\n      <code-editor content=json data-mode=json data-max-lines=20></code-editor>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button type=button class="btn btn-primary" ng-show=canUpdate ng-click="update(); dismiss();">Update</button>\n      <button class="btn btn-secondary" ng-if=canCopy clipboard-button=getContentForClipboard()>\n        Copy to Clipboard\n      </button>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},UvM7:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d});var a=n("mrSG"),r=n("GQ3c"),i=n("v4Fa"),o={title:"",text:"",severity:r.AppNotificationSeverity.Success,icon:"fa fa-check",timeout:r.AppNotificationTimeout.Success},s={title:"",text:"",severity:r.AppNotificationSeverity.Warning,icon:"fa fa-exclamation",timeout:r.AppNotificationTimeout.Warning},l={title:"",text:"",severity:r.AppNotificationSeverity.Error,icon:"fa fa-exclamation-triangle",timeout:r.AppNotificationTimeout.Error},c=function(e,t){return void 0===t&&(t=""),Object(a.__assign)(Object(a.__assign)({},o),{title:e,text:t,id:Date.now()})},u=function(e,t,n){return void 0===t&&(t=""),Object(a.__assign)(Object(a.__assign)({},l),{text:Object(i.a)(t),title:e,id:Date.now(),component:n})},d=function(e,t){return void 0===t&&(t=""),Object(a.__assign)(Object(a.__assign)({},s),{title:e,text:t,id:Date.now()})}},Uw6O:function(e,t){var n="public/app/features/profile/partials/profile.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n  <react-profile-wrapper></react-profile-wrapper>\n\n  <h3 class=page-heading>Sessions</h3>\n  <div class=gf-form-group>\n    <table class="filter-table form-inline">\n      <thead>\n        <tr>\n          <th>Last seen</th>\n          <th>Logged on</th>\n          <th>IP address</th>\n          <th>Browser &amp; OS</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="session in ctrl.sessions">\n          <td ng-if=session.isActive>Now</td>\n          <td ng-if=!session.isActive>{{ session.seenAt }}</td>\n          <td>{{ session.createdAt }}</td>\n          <td>{{ session.clientIp }}</td>\n          <td>{{ session.browser }} on {{ session.os }} {{ session.osVersion }}</td>\n          <td>\n            <button class="btn btn-danger btn-small" ng-click=ctrl.revokeUserSession(session.id)>\n              <i class="fa fa-power-off"></i>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},V9sw:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("t8hP"),s=n("ZFWI"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={teams:[],orgs:[],loadingStates:{changePassword:!1,loadUser:!0,loadTeams:!1,loadOrgs:!1,updateUserProfile:!1,updateUserOrg:!1}},t.changePassword=function(e){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{changePassword:!0})}),[4,Object(o.getBackendSrv)().put("/api/user/password",e)];case 1:return t.sent(),this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{changePassword:!1})}),[2]}})})},t.loadUser=function(){return Object(a.__awaiter)(t,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{loadUser:!0})}),[4,Object(o.getBackendSrv)().get("/api/user")];case 1:return e=t.sent(),this.setState({user:e,loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{loadUser:0===Object.keys(e).length})}),[2]}})})},t.loadTeams=function(){return Object(a.__awaiter)(t,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{loadTeams:!0})}),[4,Object(o.getBackendSrv)().get("/api/user/teams")];case 1:return e=t.sent(),this.setState({teams:e,loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{loadTeams:!1})}),[2]}})})},t.loadOrgs=function(){return Object(a.__awaiter)(t,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(t){switch(t.label){case 0:return this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{loadOrgs:!0})}),[4,Object(o.getBackendSrv)().get("/api/user/orgs")];case 1:return e=t.sent(),this.setState({orgs:e,loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{loadOrgs:!1})}),[2]}})})},t.setUserOrg=function(e){return Object(a.__awaiter)(t,void 0,void 0,function(){var t=this;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{updateUserOrg:!0})}),[4,Object(o.getBackendSrv)().post("/api/user/using/"+e.orgId,{}).then(function(){window.location.href=s.a.appSubUrl+"/profile"}).finally(function(){t.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},t.state.loadingStates),{updateUserOrg:!1})})})];case 1:return n.sent(),[2]}})})},t.updateUserProfile=function(e){return Object(a.__awaiter)(t,void 0,void 0,function(){var t=this;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return this.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},this.state.loadingStates),{updateUserProfile:!0})}),[4,Object(o.getBackendSrv)().put("/api/user",e).then(function(){t.loadUser()}).catch(function(e){return console.log(e)}).finally(function(){t.setState({loadingStates:Object(a.__assign)(Object(a.__assign)({},t.state.loadingStates),{updateUserProfile:!1})})})];case 1:return n.sent(),[2]}})})},t}return Object(a.__extends)(t,e),t.prototype.componentWillMount=function(){this.props.userId&&this.loadUser()},t.prototype.render=function(){var e=this.props.children,t=this.state,n=t.loadingStates,a=t.teams,r=t.orgs,o=t.user,s={changePassword:this.changePassword,loadUser:this.loadUser,loadTeams:this.loadTeams,loadOrgs:this.loadOrgs,updateUserProfile:this.updateUserProfile,setUserOrg:this.setUserOrg};return i.a.createElement(i.a.Fragment,null,e(s,n,a,r,o))},t}(r.PureComponent)},VDBq:function(e,t){var n="public/app/core/components/search/search_results.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-repeat="section in ctrl.results" class=search-section>\n  <div class="search-section__header pointer" ng-hide=section.hideHeader ng-class="{\'selected\': section.selected}" ng-click=ctrl.toggleFolderExpand(section)>\n    <div ng-click="ctrl.toggleSelection(section, $event)" class=center-vh>\n      <gf-form-checkbox ng-show=ctrl.editable on-change=ctrl.selectionChanged($event) checked=section.checked switch-class=gf-form-checkbox--transparent>\n      </gf-form-checkbox>\n    </div>\n    <i class=search-section__header__icon ng-class=section.icon></i>\n    <span class=search-section__header__text>{{::section.title}}</span>\n    <a ng-show=section.url href={{section.url}} class=search-section__header__link>\n      <i class="gicon gicon-cog"></i>\n    </a>\n    <i class="fa fa-angle-down search-section__header__toggle" ng-show=section.expanded></i>\n    <i class="fa fa-angle-right search-section__header__toggle" ng-hide=section.expanded></i>\n  </div>\n\n  <div class=search-section__header ng-show=section.hideHeader></div>\n\n  <div ng-if=section.expanded>\n    <a ng-repeat="item in section.items" class="search-item search-item--indent" ng-class="{\'selected\': item.selected}" ng-href={{::item.url}} aria-label={{ctrl.selectors.dashboards(item.title)}}>\n      <div ng-click="ctrl.toggleSelection(item, $event)" class=center-vh>\n        <gf-form-checkbox ng-show=ctrl.editable on-change=ctrl.selectionChanged() checked=item.checked switch-class=gf-form-checkbox--transparent>\n        </gf-form-checkbox>\n      </div>\n      <span class=search-item__icon>\n        <i class="gicon mini gicon-dashboard-list"></i>\n      </span>\n      <span class=search-item__body ng-click=ctrl.onItemClick(item)>\n        <div class=search-item__body-title>{{::item.title}}</div>\n        <span class=search-item__body-folder-title>{{::item.folderTitle}}</span>\n      </span>\n      <span class=search-item__tags>\n        <span ng-click="ctrl.selectTag(tag, $event)" ng-repeat="tag in item.tags" tag-color-from-name=tag class="label label-tag">\n          {{tag}}\n        </span>\n      </span>\n    </a>\n  </div>\n</div>\n\n')}]),e.exports=n},VKbU:function(e,t){var n="public/app/plugins/datasource/elasticsearch/partials/pipeline_variables.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div ng-repeat="var in variables">\n  <div class="gf-form offset-width-7" ng-if="$index === 0">\n    <label class="gf-form-label width-10">Variables</label>\n    <input type=text class="gf-form-input max-width-12" ng-model=var.name placeholder="Variable name" ng-blur=onChangeInternal() spellcheck=false>\n    <metric-segment-model property=var.pipelineAgg options=options on-change=onChangeInternal() custom=false css-class=width-12></metric-segment-model>\n    <label class=gf-form-label>\n      <a class=pointer ng-click=remove($index)><i class="fa fa-minus"></i></a>\n    </label>\n    <label class=gf-form-label>\n      <a class=pointer ng-click=add()><i class="fa fa-plus"></i></a>\n    </label>\n  </div>\n  <div class="gf-form offset-width-17" ng-if="$index !== 0">\n    <input type=text class="gf-form-input max-width-12" ng-model=var.name placeholder="Variable name" ng-blur=onChangeInternal() spellcheck=false>\n    <metric-segment-model property=var.pipelineAgg options=options on-change=onChangeInternal() custom=false css-class=width-12></metric-segment-model>\n    <label class=gf-form-label>\n      <a class=pointer ng-click=remove($index)><i class="fa fa-minus"></i></a>\n    </label>\n  </div>\n</div>\n')}]),e.exports=n},VX0D:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var a=n("Xjjk"),r=n.n(a),i=n("yqkn"),o=Object.keys(r.a.whiteList).reduce(function(e,t){return e[t]=r.a.whiteList[t].concat(["class","style"]),e},{}),s=new r.a.FilterXSS({whiteList:o});function l(e){try{return s.process(e)}catch(t){return console.log("String could not be sanitized",e),e}}function c(e){return Object(i.sanitizeUrl)(e)}function u(e){return/\u001b\[\d{1,2}m/.test(e)}function d(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},Vt59:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a,r=n("mrSG"),i=n("q1tI"),o=n.n(i),s=n("PAeb"),l=n("MIBK"),c=Object(l.g)(function(){return{icon:Object(s.css)(a||(a=Object(r.__makeTemplateObject)(["\n      display: inline-block;\n      width: 16px;\n      height: 16px;\n      text-align: center;\n      font-size: 14px;\n      &:before {\n        vertical-align: middle;\n      }\n    "],["\n      display: inline-block;\n      width: 16px;\n      height: 16px;\n      text-align: center;\n      font-size: 14px;\n      &:before {\n        vertical-align: middle;\n      }\n    "])))}}),u=function(e){var t=e.name,n=e.className,a=e.onClick,r=e.onMouseDown,i=c();return o.a.createElement("i",{className:Object(s.cx)(i.icon,"fa","fa-"+t,n),onClick:a,onMouseDown:r})};u.displayName="Icon"},VtFO:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a,r,i,o,s=n("mrSG"),l=n("q1tI"),c=n.n(l),u=n("PAeb"),d=n("1w3K"),p=n("MIBK"),f=Object(p.g)(function(e){return{enter:Object(u.css)(a||(a=Object(s.__makeTemplateObject)(["\n      label: enter;\n      opacity: 0;\n    "],["\n      label: enter;\n      opacity: 0;\n    "]))),enterActive:Object(u.css)(r||(r=Object(s.__makeTemplateObject)(["\n      label: enterActive;\n      opacity: 1;\n      transition: opacity ","ms ease-out;\n    "],["\n      label: enterActive;\n      opacity: 1;\n      transition: opacity ","ms ease-out;\n    "])),e),exit:Object(u.css)(i||(i=Object(s.__makeTemplateObject)(["\n      label: exit;\n      opacity: 1;\n    "],["\n      label: exit;\n      opacity: 1;\n    "]))),exitActive:Object(u.css)(o||(o=Object(s.__makeTemplateObject)(["\n      label: exitActive;\n      opacity: 0;\n      transition: opacity ","ms ease-out;\n    "],["\n      label: exitActive;\n      opacity: 0;\n      transition: opacity ","ms ease-out;\n    "])),e)}});function h(e){var t=e.visible,n=e.children,a=e.duration,r=void 0===a?250:a,i=f(r);return c.a.createElement(d.CSSTransition,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:r,classNames:i},n)}},"Vw/f":function(e,t,n){"use strict";Ee.$inject=["plot"],it.$inject=["timeSrv","popoverSrv","contextSrv"],st.$inject=["$scope","$element","popoverSrv"];var a={};n.r(a),n.d(a,"TextPanelCtrl",function(){return ae}),n.d(a,"PanelCtrl",function(){return ae});var r={};n.r(r),n.d(r,"plugin",function(){return se});var i={};n.r(i),n.d(i,"plugin",function(){return ye});var o={};n.r(o),n.d(o,"GraphCtrl",function(){return wt}),n.d(o,"PanelCtrl",function(){return wt});var s={};n.r(s),n.d(s,"DashListCtrl",function(){return xt}),n.d(s,"PanelCtrl",function(){return xt});var l={};n.r(l),n.d(l,"PluginListCtrl",function(){return Ot}),n.d(l,"PanelCtrl",function(){return Ot});var c={};n.r(c),n.d(c,"AlertListPanel",function(){return kt}),n.d(c,"PanelCtrl",function(){return kt});var u={};n.r(u),n.d(u,"plugin",function(){return It});var d={};n.r(d),n.d(d,"PanelCtrl",function(){return vn});var p={};n.r(p),n.d(p,"TablePanelCtrl",function(){return Sn}),n.d(p,"PanelCtrl",function(){return Sn});var f={};n.r(f),n.d(f,"plugin",function(){return Mn});var h={};n.r(h),n.d(h,"SingleStatCtrl",function(){return Dn}),n.d(h,"PanelCtrl",function(){return Dn}),n.d(h,"getColorForValue",function(){return In});var m={};n.r(m),n.d(m,"plugin",function(){return Bn});var g={};n.r(g),n.d(g,"plugin",function(){return zn});var b={};n.r(b),n.d(b,"plugin",function(){return Wn});var v={};n.r(v),n.d(v,"plugin",function(){return Xn});var y={};n.r(y),n.d(y,"plugin",function(){return ra});var w={};n.r(w),n.d(w,"plugin",function(){return ua});var x={};n.r(x),n.d(x,"plugin",function(){return Sa});var O={};n.r(O),n.d(O,"GrafanaLinksPanel",function(){return Ea}),n.d(O,"HomeLink",function(){return Ta}),n.d(O,"VersionFooter",function(){return Ma}),n.d(O,"getStyles",function(){return Aa}),n.d(O,"plugin",function(){return Na});var _=n("mrSG"),k=n("LvDl"),j=n.n(k),C=n("LzXI"),S=n("PbtU"),E=n("wd/R"),T=n.n(E),M=n("KHwQ"),A=n.n(M),N=n("+2Rf"),D=n.n(N),I=n("wZee"),P=n.n(I),F=n("0aAt"),L=n("LBMm"),R=n("mkUw"),V=n("q1tI"),$=n.n(V),B=n("i8i4"),U=n.n(B),q=n("/MKj"),z=n("ANjH"),H=n("ZFWI"),G=n("1Zgx"),W=n("iZOS"),Q=n("HJRA"),Y=n("Obii"),K=n("FO4H"),J=n("wEtz"),Z=n("nwiq"),X=n("NXk7"),ee=n("h3Ht"),te=n("VX0D"),ne="\n# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)\n\n\n\n",ae=function(e){function t(t,n,a,r){var i=e.call(this,t,n)||this;i.templateSrv=a,i.$sce=r,i.panelDefaults={mode:"markdown",content:ne},j.a.defaults(i.panel,i.panelDefaults),i.events.on(Y.PanelEvents.editModeInitialized,i.onInitEditMode.bind(i)),i.events.on(Y.PanelEvents.refresh,i.onRefresh.bind(i)),i.events.on(Y.PanelEvents.render,i.onRender.bind(i));return t.$watch(function(e){var t=e.ctrl.panel;return[t.content,t.mode].join()},j.a.throttle(function(){i.render()},100)),i}return t.$inject=["$scope","$injector","templateSrv","$sce"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/app/plugins/panel/text/editor.html"),"text"===this.panel.mode&&(this.panel.mode="markdown")},t.prototype.onRefresh=function(){this.render()},t.prototype.onRender=function(){"markdown"===this.panel.mode?this.renderMarkdown(this.panel.content):"html"===this.panel.mode&&this.updateContent(this.panel.content),this.renderingCompleted()},t.prototype.renderText=function(e){var t=Object(te.a)(e).replace(/\n/g,"<br/>");this.updateContent(t)},t.prototype.renderMarkdown=function(e){var t=this;this.$scope.$applyAsync(function(){t.updateContent(Object(Y.renderMarkdown)(e))})},t.prototype.updateContent=function(e){try{e=this.templateSrv.replace(e,this.panel.scopedVars,"html")}catch(e){console.log("Text panel error: ",e)}this.content=this.$sce.trustAsHtml(H.b.disableSanitizeHtml?e:Object(te.c)(e))},t.templateUrl="public/app/plugins/panel/text/module.html",t.scrollable=!0,t}(C.PanelCtrl),re=n("kDLi"),ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.modes=[{value:"markdown",label:"Markdown"},{value:"text",label:"Text"},{value:"html",label:"HTML"}],t.onModeChange=function(e){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{mode:e.value}))},t.onContentChange=function(e){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{content:e.target.value}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options,t=e.mode,n=e.content;return $.a.createElement(re.PanelOptionsGroup,{title:"Text"},$.a.createElement("div",{className:"gf-form-inline"},$.a.createElement("div",{className:"gf-form"},$.a.createElement("span",{className:"gf-form-label"},"Mode"),$.a.createElement(re.Select,{onChange:this.onModeChange,value:this.modes.find(function(e){return t===e.value}),options:this.modes}))),$.a.createElement("textarea",{value:n,onChange:this.onContentChange,className:"gf-form-input",rows:10}))},t}(V.PureComponent),oe=function(e){function t(t){var n=e.call(this,t)||this;return n.updateHTML=Object(k.debounce)(function(){var e=n.processContent(n.props.options);e!==n.state.html&&n.setState({html:e})},150),n.state={html:n.processContent(t.options)},n}return Object(_.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.updateHTML()},t.prototype.prepareHTML=function(e){return e=(0,this.props.replaceVariables)(e,{},"html"),H.b.disableSanitizeHtml?e:Object(te.c)(e)},t.prototype.prepareText=function(e){return this.prepareHTML(e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\n/g,"<br/>"))},t.prototype.prepareMarkdown=function(e){return this.prepareHTML(Object(Y.renderMarkdown)(e))},t.prototype.processContent=function(e){var t=e.mode,n=e.content;return n?"markdown"===t?this.prepareMarkdown(n):"html"===t?this.prepareHTML(n):this.prepareText(n):""},t.prototype.render=function(){var e=this.state.html;return $.a.createElement("div",{className:"markdown-html panel-text-content",dangerouslySetInnerHTML:{__html:e}})},t}(V.PureComponent),se=new Y.PanelPlugin(oe).setDefaults({mode:"markdown",content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)\n\n\n"}).setEditor(ie).setPanelChangeHandler(function(e,t,n){return"text"===t?n:e}),le=function(e){var t=e.options,n=e.onChange,a=function(e){return function(a){var r={};a&&(r[e]="placement"===e?a.target.checked?"right":"under":a.target.checked,n(Object(_.__assign)(Object(_.__assign)({},t),r)))}};return $.a.createElement(re.PanelOptionsGroup,{title:"Legend"},$.a.createElement("div",{className:"section gf-form-group"},$.a.createElement("h4",null,"Options"),$.a.createElement(re.Switch,{label:"Show legend",labelClass:"width-8",checked:t.isVisible,onChange:a("isVisible")}),$.a.createElement(re.Switch,{label:"Display as table",labelClass:"width-8",checked:t.asTable,onChange:a("asTable")}),$.a.createElement(re.Switch,{label:"To the right",labelClass:"width-8",checked:"right"===t.placement,onChange:a("placement")})),$.a.createElement("div",{className:"section gf-form-group"},$.a.createElement("h4",null,"Show"),$.a.createElement("div",{className:"gf-form"},$.a.createElement(re.StatsPicker,{allowMultiple:!0,stats:t.stats?t.stats:[],onChange:function(e){n(Object(_.__assign)(Object(_.__assign)({},t),{stats:e}))},placeholder:"Pick Values"})),$.a.createElement("div",{className:"gf-form"},$.a.createElement("div",{className:"gf-form-label"},"Decimals"),$.a.createElement(re.Input,{className:"gf-form-input width-5",type:"number",value:t.decimals,placeholder:"Auto",onChange:function(e){n(Object(_.__assign)(Object(_.__assign)({},t),{decimals:parseInt(e.target.value,10)}))}}))),$.a.createElement("div",{className:"section gf-form-group"},$.a.createElement("h4",null,"Hidden series"),$.a.createElement(re.Switch,{label:"With only zeros",checked:!!t.hideZero,onChange:a("hideZero")})))},ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onGraphOptionsChange=function(e){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{graph:Object(_.__assign)(Object(_.__assign)({},t.props.options.graph),e)}))},t.onLegendOptionsChange=function(e){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{legend:e}))},t.onTooltipOptionsChange=function(e){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{tooltipOptions:e}))},t.onToggleLines=function(){t.onGraphOptionsChange({showLines:!t.props.options.graph.showLines})},t.onToggleBars=function(){t.onGraphOptionsChange({showBars:!t.props.options.graph.showBars})},t.onTogglePoints=function(){t.onGraphOptionsChange({showPoints:!t.props.options.graph.showPoints})},t.onDefaultsChange=function(e){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{fieldOptions:Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions),{defaults:e})}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.options,n=t.graph,a=n.showBars,r=n.showPoints,i=n.showLines,o=t.tooltipOptions.mode;return $.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"section gf-form-group"},$.a.createElement("h5",{className:"section-heading"},"Draw Modes"),$.a.createElement(re.Switch,{label:"Lines",labelClass:"width-5",checked:i,onChange:this.onToggleLines}),$.a.createElement(re.Switch,{label:"Bars",labelClass:"width-5",checked:a,onChange:this.onToggleBars}),$.a.createElement(re.Switch,{label:"Points",labelClass:"width-5",checked:r,onChange:this.onTogglePoints})),$.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Field"},$.a.createElement(re.FieldPropertiesEditor,{showMinMax:!1,onChange:this.onDefaultsChange,value:this.props.options.fieldOptions.defaults})),$.a.createElement(re.PanelOptionsGroup,{title:"Tooltip"},$.a.createElement(re.Select,{value:{value:o,label:"single"===o?"Single":"All series"},onChange:function(t){e.onTooltipOptionsChange({mode:t.value})},options:[{label:"All series",value:"multi"},{label:"Single",value:"single"}]})),$.a.createElement(le,{options:this.props.options.legend,onChange:this.onLegendOptionsChange})))},t}(V.PureComponent),ue=n("66yP"),de=function(e){function t(t){var n=e.call(this,t)||this;return n.onSeriesColorChange=n.onSeriesColorChange.bind(n),n.onSeriesAxisToggle=n.onSeriesAxisToggle.bind(n),n.onToggleSort=n.onToggleSort.bind(n),n.onHorizontalRegionSelected=n.onHorizontalRegionSelected.bind(n),n.state={graphSeriesModel:Object(ue.a)(t.data.series,t.timeZone,t.options.series,t.options.graph,t.options.legend,t.options.fieldOptions)},n}return Object(_.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return Object(_.__assign)(Object(_.__assign)({},t),{graphSeriesModel:Object(ue.a)(e.data.series,e.timeZone,e.options.series,e.options.graph,e.options.legend,e.options.fieldOptions)})},t.prototype.onSeriesOptionsUpdate=function(e,t){var n=this.props,a=n.onOptionsChange,r=n.options,i=Object(_.__assign)({},r.series);i[e]=t,a(Object(_.__assign)(Object(_.__assign)({},r),{series:i}))},t.prototype.onSeriesAxisToggle=function(e,t){var n=this.props.options.series,a=n[e]?Object(_.__assign)(Object(_.__assign)({},n[e]),{yAxis:Object(_.__assign)(Object(_.__assign)({},n[e].yAxis),{index:t})}):{yAxis:{index:t}};this.onSeriesOptionsUpdate(e,a)},t.prototype.onSeriesColorChange=function(e,t){var n=this.props.options.series,a=n[e]?Object(_.__assign)(Object(_.__assign)({},n[e]),{color:t}):{color:t};this.onSeriesOptionsUpdate(e,a)},t.prototype.onToggleSort=function(e){var t=this.props,n=t.onOptionsChange,a=t.options;n(Object(_.__assign)(Object(_.__assign)({},a),{legend:Object(_.__assign)(Object(_.__assign)({},a.legend),{sortBy:e,sortDesc:e===a.legend.sortBy&&!a.legend.sortDesc})}))},t.prototype.onHorizontalRegionSelected=function(e,t){(0,this.props.onChangeTimeRange)({from:e,to:t})},t.prototype.render=function(){var e=this,t=this.props.children,n=this.state.graphSeriesModel;return $.a.createElement(re.GraphSeriesToggler,{series:n},function(n){var a=n.onSeriesToggle,r=n.toggledSeries;return t({series:r,onSeriesColorChange:e.onSeriesColorChange,onSeriesAxisToggle:e.onSeriesAxisToggle,onToggleSort:e.onToggleSort,onSeriesToggle:a,onHorizontalRegionSelected:e.onHorizontalRegionSelected})})},t}($.a.Component),pe=n("yqtr"),fe=[{value:re.BigValueColorMode.Value,label:"Value"},{value:re.BigValueColorMode.Background,label:"Background"}],he=[{value:re.BigValueGraphMode.None,label:"None"},{value:re.BigValueGraphMode.Area,label:"Area graph"}],me=[{value:re.BigValueJustifyMode.Auto,label:"Auto"},{value:re.BigValueJustifyMode.Center,label:"Center"}],ge={values:!1,calcs:[Y.ReducerID.mean],defaults:{thresholds:{mode:Y.ThresholdsMode.Absolute,steps:[{value:-1/0,color:"green"},{value:80,color:"red"}]},mappings:[]},overrides:[]},be={graphMode:re.BigValueGraphMode.Area,colorMode:re.BigValueColorMode.Value,justifyMode:re.BigValueJustifyMode.Auto,fieldOptions:ge,orientation:Y.VizOrientation.Auto},ve={graph:{showBars:!1,showLines:!0,showPoints:!1},legend:{asTable:!1,isVisible:!0,placement:"under"},series:{},fieldOptions:Object(_.__assign)({},ge),tooltipOptions:{mode:"single"}},ye=new Y.PanelPlugin(function(e){var t=e.data,n=e.timeRange,a=e.timeZone,r=e.width,i=e.height,o=e.options,s=e.onOptionsChange,l=e.onChangeTimeRange;if(!t)return $.a.createElement("div",{className:"panel-empty"},$.a.createElement("p",null,"No data found in response"));var c=o.graph,u=c.showLines,d=c.showBars,p=c.showPoints,f=o.legend,h=o.tooltipOptions,m={showBars:d,showLines:u,showPoints:p,tooltipOptions:h},g=f.asTable,b=f.isVisible,v=Object(_.__rest)(f,["asTable","isVisible"]);return $.a.createElement(de,{data:t,timeZone:a,options:o,onOptionsChange:s,onChangeTimeRange:l},function(e){var t=e.onSeriesToggle,o=e.onHorizontalRegionSelected,s=Object(_.__rest)(e,["onSeriesToggle","onHorizontalRegionSelected"]);return $.a.createElement(re.GraphWithLegend,Object(_.__assign)({timeRange:n,timeZone:a,width:r,height:i,displayMode:g?pe.b.Table:pe.b.List,isLegendVisible:b,sortLegendBy:f.sortBy,sortLegendDesc:f.sortDesc,onSeriesToggle:t,onHorizontalRegionSelected:o},m,v,s),$.a.createElement(re.Chart.Tooltip,{mode:h.mode}))})}).setDefaults(ve).setEditor(ce),we=(n("85rF"),n("3oeA"),n("4Umt"),n("0xpV"),n("xKbd"),n("kYRH"),n("BDxW"),n("vKfT"),n("XI+/")),xe=n.n(we),Oe=function(e,t,n){var a=A.a.element(document).injector(),r=document.createElement("div");r.innerHTML='<annotation-tooltip event="event" on-edit="onEdit()"></annotation-tooltip>',a.invoke(["$compile","$rootScope",function(a,i){var o=n.getOptions().events.manager,s=i.$new(!0);s.event=t,s.onEdit=function(){o.editEvent(t)},a(r)(s),s.$digest(),s.$destroy();var l=new xe.a({target:e[0],content:r,position:"bottom center",classes:"drop-popover drop-popover--annotation",openOn:"hover",hoverCloseDelay:200,tetherOptions:{constraints:[{to:"window",pin:!0,attachment:"both"}]}});l.open(),l.on("close",function(){setTimeout(function(){l.destroy()})})}])};Oe.$inject=["element","event","plot"];var _e=null,ke=function(e,t,n){var a=n.getOptions().events.manager;a.editorOpen?_e=e:(a.editorOpened(),_e=e,setTimeout(function(){var e=A.a.element(document).injector(),n=document.createElement("div");n.innerHTML='<event-editor panel-ctrl="panelCtrl" event="event" close="close()"></event-editor>',e.invoke(["$compile","$rootScope",function(e,r){var i,o=r.$new(!0);o.event=t,o.panelCtrl=a.panelCtrl,o.close=function(){i.close()},e(n)(o),o.$digest(),(i=new xe.a({target:_e[0],content:n,position:"bottom center",classes:"drop-popover drop-popover--form",openOn:"click",tetherOptions:{constraints:[{to:"window",pin:!0,attachment:"both"}]}})).open(),a.editorOpened(),i.on("close",function(){setTimeout(function(){a.editorClosed(),o.$destroy(),i.destroy()})})}])},100))};ke.$inject=["element","event","plot"];var je=function(){function e(e,t,n,a,r,i,o,s){this._object=e,this._drawFunc=t,this._clearFunc=n,this._moveFunc=a,this._position={left:r,top:i},this._width=o,this._height=s}return e.$inject=["object","drawFunc","clearFunc","moveFunc","left","top","width","height"],e.prototype.width=function(){return this._width},e.prototype.height=function(){return this._height},e.prototype.position=function(){return this._position},e.prototype.draw=function(){this._drawFunc(this._object)},e.prototype.clear=function(){this._clearFunc(this._object)},e.prototype.getObject=function(){return this._object},e.prototype.moveTo=function(e){this._position=e,this._moveFunc(this._object,this._position)},e}(),Ce=function(){function e(e,t){this._options=e,this._drawableEvent=t,this._hidden=!1}return e.$inject=["options","drawableEvent"],e.prototype.visual=function(){return this._drawableEvent},e.prototype.getOptions=function(){return this._options},e.prototype.getParent=function(){return this._parent},e.prototype.isHidden=function(){return this._hidden},e.prototype.hide=function(){this._hidden=!0},e.prototype.unhide=function(){this._hidden=!1},e}(),Se=function(){function e(e){this._events=[],this._types=[],this._plot=e,this.eventsEnabled=!1}return e.$inject=["plot"],e.prototype.getEvents=function(){return this._events},e.prototype.setTypes=function(e){return this._types=e},e.prototype.setupEvents=function(e){var t=this,n=j.a.partition(e,"isRegion"),a=n[0];e=n[1],D.a.each(e,function(e,n){var a=new Ce(n,t._buildDiv(n));t._events.push(a)}),D.a.each(a,function(e,n){var a=new Ce(n,t._buildRegDiv(n));t._events.push(a)}),this._events.sort(function(e,t){var n=e.getOptions(),a=t.getOptions();return n.min>a.min?1:n.min<a.min?-1:0})},e.prototype.drawEvents=function(){var e=this;D.a.each(this._events,function(t,n){e._insidePlot(n.getOptions().min)&&!n.isHidden()?n.visual().draw():n.visual().getObject().hide()})},e.prototype.updateEvents=function(){var e,t,n=this,a=this._plot.getPlotOffset(),r=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1];D.a.each(this._events,function(i,o){t=a.top+n._plot.height()-o.visual().height(),e=r.p2c(o.getOptions().min)+a.left-o.visual().width()/2,o.visual().moveTo({top:t,left:e})})},e.prototype._clearEvents=function(){D.a.each(this._events,function(e,t){t.visual().clear()}),this._events=[]},e.prototype._buildDiv=function(e){var t,n,a,r,i,o,s,l,c=this,u=this._plot.getPlaceholder(),d=this._plot.getPlotOffset(),p=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1],f=e.eventType;a=null!==this._types&&this._types[f]&&this._types[f].color?this._types[f].color:"#666",r=null!==this._types&&this._types[f]&&this._types[f].markerSize?this._types[f].markerSize:8,i=null===this._types||!this._types[f]||void 0===this._types[f].markerShow||this._types[f].markerShow,l=null===this._types||!this._types[f]||void 0===this._types[f].markerTooltip||this._types[f].markerTooltip,o=null!=this._types&&this._types[f]&&this._types[f].lineStyle?this._types[f].lineStyle.toLowerCase():"dashed",s=null!=this._types&&this._types[f]&&void 0!==this._types[f].lineWidth?this._types[f].lineWidth:1;var h=p.options.eventSectionHeight||0;h/=3,t=d.top+this._plot.height()+h,n=p.p2c(e.min)+d.left;var m=D()('<div class="events_line flot-temp-elem"></div>').css({position:"absolute",opacity:.8,left:n+"px",top:8,width:s+"px",height:this._plot.height()+.8*h,"border-left-width":s+"px","border-left-style":o,"border-left-color":a,color:a}).appendTo(u);if(i){var g=D()('<div class="events_marker"></div>').css({position:"absolute",left:-r-Math.round(s/2)+"px","font-size":0,"line-height":0,width:0,height:0,"border-left":r+"px solid transparent","border-right":r+"px solid transparent"});g.appendTo(m),this._types[f]&&this._types[f].position&&"BOTTOM"===this._types[f].position.toUpperCase()?g.css({top:t-r-8+"px","border-top":"none","border-bottom":r+"px solid "+a}):g.css({top:"0px","border-top":r+"px solid "+a,"border-bottom":"none"}),g.data({event:e});e.editModel&&ke(g,e.editModel,c._plot);l&&(g.css({cursor:"help"}),g.hover(function(){Oe(g,D()(this).data("event"),c._plot)},function(){c._plot.clearSelection()}))}return new je(m,function(e){e.show()},function(e){e.remove()},function(e,t){e.css({top:t.top,left:t.left})},n,t,m.width(),m.height())},e.prototype._buildRegDiv=function(e){var t,n,a,r,i,o,s,l=this,c=this,u=this._plot.getPlaceholder(),d=this._plot.getPlotOffset(),p=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1],f=e.eventType;o=null!==this._types&&this._types[f]&&this._types[f].color?this._types[f].color:"#666",s=null===this._types||!this._types[f]||void 0===this._types[f].markerTooltip||this._types[f].markerTooltip,a=null!=this._types&&this._types[f]&&void 0!==this._types[f].lineWidth?this._types[f].lineWidth:1,i=null!=this._types&&this._types[f]&&this._types[f].lineStyle?this._types[f].lineStyle.toLowerCase():"dashed";t=d.top+this._plot.height()+2;var h=Math.min(e.min,e.timeEnd),m=Math.max(e.min,e.timeEnd);n=p.p2c(h)+d.left;var g=p.p2c(m)+d.left;r=g-n,j.a.each([n,g],function(e){D()('<div class="events_line flot-temp-elem"></div>').css({position:"absolute",opacity:.8,left:e+"px",top:8,width:a+"px",height:l._plot.height()+2,"border-left-width":a+"px","border-left-style":i,"border-left-color":o,color:o}).appendTo(u)});var b=D()('<div class="events_marker region_marker flot-temp-elem"></div>').css({position:"absolute",opacity:.5,left:n+"px",top:t,width:Math.round(r+a)+"px",height:"0.5rem","border-left-color":o,color:o,"background-color":o});b.appendTo(u),b.data({event:e});e.editModel&&ke(b,e.editModel,c._plot);return s&&(b.css({cursor:"help"}),b.hover(function(){Oe(b,D()(this).data("event"),c._plot)},function(){c._plot.clearSelection()})),new je(b,function(e){e.show()},function(e){e.remove()},function(e,t){e.css({top:t.top,left:t.left})},n,t,b.width(),b.height())},e.prototype._insidePlot=function(e){var t=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1],n=t.p2c(e);return n>0&&n<t.p2c(t.max)},e}();function Ee(e){var t=this,n=new Se(e);e.getEvents=function(){return n._events},e.hideEvents=function(){D.a.each(n._events,function(e,t){t.visual().getObject().hide()})},e.showEvents=function(){e.hideEvents(),D.a.each(n._events,function(e,t){t.hide()}),t.eventMarkers.drawEvents()},e.setEvents=function(e){n.eventsEnabled&&n.setupEvents(e)},e.hooks.processOptions.push(function(e,t){null!=t.events.data&&(n.eventsEnabled=!0)}),e.hooks.draw.push(function(e){var t=e.getOptions();n.eventsEnabled&&(n.getEvents().length<1?(n.setTypes(t.events.types),n.setupEvents(t.events.data)):n.updateEvents()),n.drawEvents()})}D.a.plot.plugins.push({init:Ee,options:{events:{data:null,types:null,xaxis:1,position:"BOTTOM"}},name:"events",version:"0.2.5"});var Te=n("GQ3c");function Me(e,t,n,a){var r=this,i=n.ctrl.panel,o=D()('<div class="graph-tooltip">');this.destroy=function(){o.remove()},this.findHoverIndexFromDataPoints=function(e,t,n){var a,r=t.datapoints.pointsize,i=n*r,o=t.datapoints.points.length;for(a=i;a<o;a+=r)if(!t.lines.steps&&null!=t.datapoints.points[i]&&null==t.datapoints.points[a]||t.datapoints.points[a]>e)return Math.max(a-r,0)/r;return a/r-1},this.findHoverIndexFromData=function(e,t){for(var n,a=0,r=t.data.length-1;;){if(a>r)return Math.max(r,0);if(n=Math.floor((a+r)/2),t.data[n][0]===e)return n;t.data[n][0]<e?a=n+1:r=n-1}},this.renderAndShow=function(e,t,n,a){"time"===a&&(t='<div class="graph-tooltip-time">'+e+"</div>"+t),o.html(t).place_tt(n.pageX+20,n.pageY)},this.getMultiSeriesPlotHoverInfo=function(e,t){var n,a,r,o,s,l,c,u,d,p=[[],[],[]],f=0;for(a=0;a<e.length;a++)!(r=e[a]).data.length||i.legend.hideEmpty&&r.allIsNull?p[0].push({hidden:!0,value:0}):!r.data.length||i.legend.hideZero&&r.allIsZero?p[0].push({hidden:!0,value:0}):r.hideTooltip?p[0].push({hidden:!0,value:0}):(o=this.findHoverIndexFromData(t.x,r),s=t.x-r.data[o][0],l=r.data[o][0],(!u||s>=0&&(s<u||u<0)||s<0&&s>u)&&(u=s,d=l),n=r.stack?"individual"===i.tooltip.value_type?r.data[o][1]:r.stack?f+=r.data[o][1]:r.data[o][1]:r.data[o][1],(r.lines.steps||r.stack)&&(o=this.findHoverIndexFromDataPoints(t.x,r,o)),c=0,r.yaxis&&(c=r.yaxis.n),p[c].push({value:n,hoverIndex:o,color:r.color,label:r.aliasEscaped,time:l,distance:s,index:a}));return(p=p[0].concat(p[1],p[2])).time=d,p},e.mouseleave(function(){if(i.tooltip.shared){var t=e.data().plot;t&&(o.detach(),t.unhighlight())}Q.a.emit(Te.CoreEvents.graphHoverClear)}),e.bind("plothover",function(t,n,a){r.show(n,a),n.panelRelY=(n.pageY-e.offset().top)/e.height(),Q.a.emit(Te.CoreEvents.graphHover,{pos:n,panel:i})}),e.bind("plotclick",function(e,t,n){Q.a.emit(Te.CoreEvents.graphClicked,{pos:t,panel:i,item:n})}),e.bind("plotleave",function(){if(i.tooltip.shared){var t=e.data().plot;t&&(o.detach(),t.unhighlight())}}),this.clear=function(e){o.detach(),e.clearCrosshair(),e.unhighlight()},this.show=function(n,s){var l,c,u,d,p,f,h,m,g=e.data().plot,b=g.getData(),v=g.getXAxes()[0].options.mode,y=a(),w=i.tooltip.shared;if(n.panelRelY){var x=g.pointOffset({x:n.x});if(Number.isNaN(x.left)||x.left<0||x.left>e.width())return void r.clear(g);if(n.pageX=e.offset().left+x.left,n.pageY=e.offset().top+e.height()*n.panelRelY,!(n.pageY>=D()(window).scrollTop()&&n.pageY<=D()(window).innerHeight()+D()(window).scrollTop()))return void r.clear(g);if(g.setCrosshair(n),w=!0,t.sharedCrosshairModeOnly())return}if(0!==y.length)if(m=y[0].hasMsResolution?"YYYY-MM-DD HH:mm:ss.SSS":"YYYY-MM-DD HH:mm:ss",w){g.unhighlight();var O=r.getMultiSeriesPlotHoverInfo(b,n);for(h="",u=t.formatDate(O.time,m),2===i.tooltip.sort?O.sort(function(e,t){return t.value-e.value}):1===i.tooltip.sort&&O.sort(function(e,t){return e.value-t.value}),p=0;p<O.length;p++)if(!(d=O[p]).hidden){var _="";s&&d.index===s.seriesIndex&&(_="graph-tooltip-list-item--highlight"),f=y[d.index],c=Object(te.c)(f.formatValue(d.value)),h+='<div class="graph-tooltip-list-item '+_+'"><div class="graph-tooltip-series-name">',h+='<i class="fa fa-minus" style="color:'+Object(te.c)(d.color)+';"></i> '+Object(te.c)(d.label)+":</div>",h+='<div class="graph-tooltip-value">'+c+"</div></div>",g.highlight(d.index,d.hoverIndex)}r.renderAndShow(u,h,n,v)}else if(s){l='<div class="graph-tooltip-list-item"><div class="graph-tooltip-series-name">',l+='<i class="fa fa-minus" style="color:'+Object(te.c)(s.series.color)+';"></i> '+(f=y[s.seriesIndex]).aliasEscaped+":</div>",c=i.stack&&"individual"===i.tooltip.value_type?s.datapoint[1]-s.datapoint[2]:s.datapoint[1],c=Object(te.c)(f.formatValue(c)),u=t.formatDate(s.datapoint[0],m),l+='<div class="graph-tooltip-value">'+c+"</div>",r.renderAndShow(u,l,n,v)}else o.detach()}}var Ae=function(){function e(e){this.panelCtrl=e}return e.prototype.getHandleHtml=function(e,t,n){var a=t.colorMode;return"custom"===t.colorMode&&(a="critical"),'\n    <div class="alert-handle-wrapper alert-handle-wrapper--T'+e+'">\n      <div class="alert-handle-line alert-handle-line--'+a+'">\n      </div>\n      <div class="alert-handle" data-handle-index="'+e+'">\n        <i class="icon-gf icon-gf-'+a+" alert-state-"+a+'"></i>\n        <span class="alert-handle-value">'+n+'<i class="alert-handle-grip"></i></span>\n      </div>\n    </div>'},e.prototype.initDragging=function(e){var t,n=D()(e.currentTarget).parents(".alert-handle-wrapper"),a=D()(e.currentTarget).data("handleIndex"),r=null,i=this.plot,o=this.panelCtrl,s=this.thresholds[a];function l(e){if(null===r)r=e.clientY;else{var a=e.clientY-r;t+=a,r=e.clientY,n.css({top:t+a})}}r=null,t=n.position().top,n.on("mousemove",l),document.addEventListener("mouseup",function e(){var r=i.c2p({left:0,top:t}).y;r=parseInt(r.toFixed(0),10),s.value=r,n.off("mousemove",l),document.removeEventListener("mouseup",e),o.$scope.$apply(function(){o.render(),o.events.emit(Te.CoreEvents.thresholdChanged,{threshold:s,handleIndex:a})})})},e.prototype.cleanUp=function(){this.placeholder.find(".alert-handle-wrapper").remove(),this.needsCleanup=!1},e.prototype.renderHandle=function(e,t){var n=this.thresholds[e],a=n.value,r=a,i=0;if(j.a.isNumber(a)){var o=this.plot.p2c({x:0,y:a});i=Math.round(Math.min(Math.max(o.top,0),this.height)-6)}else r="",i=t;var s=D()(this.getHandleHtml(e,n,r));this.placeholder.append(s),s.toggleClass("alert-handle-wrapper--no-value",""===r),s.css({top:i})},e.prototype.shouldDrawHandles=function(){return!this.hasSecondYAxis&&this.panelCtrl.editingThresholds&&this.panelCtrl.panel.thresholds.length>0},e.prototype.prepare=function(e,t){this.hasSecondYAxis=!1;for(var n=0;n<t.length;n++)if(t[n].yaxis>1){this.hasSecondYAxis=!0;break}if(this.shouldDrawHandles()){var a=this.panelCtrl.panel.thresholds.length>1?"220px":"110px";e.css("margin-right",a)}else this.needsCleanup&&e.css("margin-right","0")},e.prototype.draw=function(e){this.thresholds=this.panelCtrl.panel.thresholds,this.plot=e,this.placeholder=e.getPlaceholder(),this.needsCleanup&&this.cleanUp(),this.shouldDrawHandles()&&(this.height=e.height(),this.thresholds.length>0&&this.renderHandle(0,10),this.thresholds.length>1&&this.renderHandle(1,this.height-30),this.placeholder.off("mousedown",".alert-handle"),this.placeholder.on("mousedown",".alert-handle",this.initDragging.bind(this)),this.needsCleanup=!0)},e.prototype.addFlotOptions=function(e,t){if(t.thresholds&&0!==t.thresholds.length){var n,a,r,i=1/0,o=-1/0;for(n=0;n<t.thresholds.length;n++)if(a=t.thresholds[n],j.a.isNumber(a.value)){var s=void 0;switch(a.op){case"gt":s=i,t.thresholds.length>n+1&&(r=t.thresholds[n+1]).value>a.value&&(o=s=r.value);break;case"lt":s=o,t.thresholds.length>n+1&&(r=t.thresholds[n+1]).value<a.value&&(i=s=r.value)}var l=void 0,c=void 0;switch(a.colorMode){case"critical":l="rgba(234, 112, 112, 0.12)",c="rgba(237, 46, 24, 0.60)";break;case"warning":l="rgba(235, 138, 14, 0.12)",c="rgba(247, 149, 32, 0.60)";break;case"ok":l="rgba(11, 237, 50, 0.090)",c="rgba(6,163,69, 0.60)";break;case"custom":l=a.fillColor,c=a.lineColor}a.fill&&("right"===a.yaxis&&this.hasSecondYAxis?e.grid.markings.push({y2axis:{from:a.value,to:s},color:Object(Y.getColorFromHexRgbOrName)(l)}):e.grid.markings.push({yaxis:{from:a.value,to:s},color:Object(Y.getColorFromHexRgbOrName)(l)})),a.line&&("right"===a.yaxis&&this.hasSecondYAxis?e.grid.markings.push({y2axis:{from:a.value,to:a.value},color:Object(Y.getColorFromHexRgbOrName)(c)}):e.grid.markings.push({yaxis:{from:a.value,to:a.value},color:Object(Y.getColorFromHexRgbOrName)(c)}))}}},e}(),Ne={gray:{themeDependent:!0,title:"Gray",darkColor:{fill:"rgba(255, 255, 255, 0.09)",line:"rgba(255, 255, 255, 0.2)"},lightColor:{fill:"rgba(0, 0, 0, 0.09)",line:"rgba(0, 0, 0, 0.2)"}},red:{title:"Red",color:{fill:"rgba(234, 112, 112, 0.12)",line:"rgba(237, 46, 24, 0.60)"}},green:{title:"Green",color:{fill:"rgba(11, 237, 50, 0.090)",line:"rgba(6,163,69, 0.60)"}},blue:{title:"Blue",color:{fill:"rgba(11, 125, 238, 0.12)",line:"rgba(11, 125, 238, 0.60)"}},yellow:{title:"Yellow",color:{fill:"rgba(235, 138, 14, 0.12)",line:"rgba(247, 149, 32, 0.60)"}},custom:{title:"Custom"}};function De(e,t){if(-1===Object.keys(Ne).indexOf(e.colorMode)&&(e.colorMode="red"),"custom"===e.colorMode)return{fill:e.fill&&e.fillColor?Object(Y.getColorFromHexRgbOrName)(e.fillColor,t):null,line:e.line&&e.lineColor?Object(Y.getColorFromHexRgbOrName)(e.lineColor,t):null};var n=Ne[e.colorMode];return!0===n.themeDependent?t===Y.GrafanaThemeType.Light?n.lightColor:n.darkColor:{fill:e.fill?Object(Y.getColorFromHexRgbOrName)(n.color.fill,t):null,line:e.fill?Object(Y.getColorFromHexRgbOrName)(n.color.line,t):null}}var Ie=function(){function e(e,t){void 0===t&&(t=Y.GrafanaThemeType.Dark),this.panelCtrl=e,this.theme=t}return e.prototype.draw=function(e){this.timeRegions=this.panelCtrl.panel.timeRegions,this.plot=e},e.prototype.addFlotOptions=function(e,t){if(t.timeRegions&&0!==t.timeRegions.length){var n,a,r,i,o,s,l,c={from:Object(Y.dateTime)(this.panelCtrl.range.from).utc(),to:Object(Y.dateTime)(this.panelCtrl.range.to).utc()},u=t.timeRegions.map(function(e){return Object(_.__assign)({},e)});for(n=0;n<u.length;n++)if(((r=u[n]).fromDayOfWeek||r.from||r.toDayOfWeek||r.to)&&(r.from&&!r.to&&(r.to=r.from),!r.from&&r.to&&(r.from=r.to),a={from:this.parseTimeRange(r.from),to:this.parseTimeRange(r.to)},!r.fromDayOfWeek&&r.toDayOfWeek&&(r.fromDayOfWeek=r.toDayOfWeek),!r.toDayOfWeek&&r.fromDayOfWeek&&(r.toDayOfWeek=r.fromDayOfWeek),r.fromDayOfWeek&&(a.from.dayOfWeek=Number(r.fromDayOfWeek)),r.toDayOfWeek&&(a.to.dayOfWeek=Number(r.toDayOfWeek)),a.from.dayOfWeek&&null===a.from.h&&null===a.from.m&&(a.from.h=0,a.from.m=0,a.from.s=0),a.to.dayOfWeek&&null===a.to.h&&null===a.to.m&&(a.to.h=23,a.to.m=59,a.to.s=59),a.from&&a.to)){for(i=[],(o=Object(Y.dateTime)(c.from)).set("hour",0),o.set("minute",0),o.set("second",0),o.add(a.from.h,"hours"),o.add(a.from.m,"minutes"),o.add(a.from.s,"seconds");o.unix()<=c.to.unix();){for(;a.from.dayOfWeek&&a.from.dayOfWeek!==o.isoWeekday();)o.add(24,"hours");if(o.unix()>c.to.unix())break;if(s=Object(Y.dateTime)(o),a.from.h<=a.to.h)s.add(a.to.h-a.from.h,"hours");else if(a.from.h>a.to.h)for(;s.hour()!==a.to.h;)s.add(1,"hours");else for(s.add(24-a.from.h,"hours");s.hour()!==a.to.h;)s.add(1,"hours");for(s.set("minute",a.to.m),s.set("second",a.to.s);a.to.dayOfWeek&&a.to.dayOfWeek!==s.isoWeekday();)s.add(24,"hours");o.unix()<c.from.unix()&&s.unix()<c.from.unix()||o.unix()>c.to.unix()&&s.unix()>c.to.unix()||i.push({from:o.valueOf(),to:s.valueOf()}),o.add(24,"hours")}l=De(r,this.theme);for(var d=0;d<i.length;d++){var p=i[d];r.fill&&e.grid.markings.push({xaxis:{from:p.from,to:p.to},color:l.fill}),r.line&&(e.grid.markings.push({xaxis:{from:p.from,to:p.from},color:l.line}),e.grid.markings.push({xaxis:{from:p.to,to:p.to},color:l.line}))}}}},e.prototype.parseTimeRange=function(e){var t={h:null,m:null},n=/^([\d]+):?(\d{2})?/.exec(e);return n?(n.length>1&&(t.h=Number(n[1]),t.m=0,n.length>2&&void 0!==n[2]&&(t.m=Number(n[2])),t.h>23&&(t.h=23),t.m>59&&(t.m=59)),t):t},e}(),Pe=n("xdKY");function Fe(e,t,n,a,r){return e.map(function(e){var i=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=e[n].datapoints,r=0;r<a.length;r++)null!==a[r][0]&&t.push(a[r][0]);return t}([e]);if(e.histogram=!0,n[e.alias])e.data=[];else{var o=function(e,t,n,a){for(var r={},i=Le(n,t),o=Le(a,t),s=i,l=0;s<=o;)r[s]=0,s=i+t*l,l++;for(var c=0;c<e.length;c++)if(!(e[c]<n||e[c]>a)){var u=Le(e[c],t);r[u]=r[u]+1}var d=j.a.map(r,function(e,t){return[Number(t),e]});return j.a.sortBy(d,function(e){return e[0]})}(i,t,a,r);e.data=o}return e})}function Le(e,t){return Math.floor(e/t)*t}function Re(e,t){if(!isNaN(t)&&(2===(n=e).length&&Ve(n[0])&&Ve(n[1]))){var n,a=Object(_.__read)(e,2),r=a[0],i=a[1];!function(e,t,n){0!==n&&(e.min-=n,e.max-=n,t.min-=n,t.max-=n)}(r,i,t),function(e,t){e.max===e.min&&(e.min-=.25,e.max+=.25);t.max===t.min&&(t.min-=.25,t.max+=.25)}(r,i);var o=0===r.min||0===i.min||0===r.max||0===i.max,s=$e(r,i);if(o&&s)r.min=r.max>0?0:r.min,r.max=r.max>0?r.max:0,i.min=i.max>0?0:i.min,i.max=i.max>0?i.max:0;else if(function(e,t){return e.min>=0&&t.max<=0||e.max<=0&&t.min>=0}(r,i))r.min>=0?(r.min=-r.max,i.max=-i.min):(r.max=-r.min,i.min=-i.max);else{var l=function(e,t){var n,a;if(Be(e,t))n=t.min?e.min/t.min:0,a=t.max?e.max/t.max:0;else if($e(e,t)){var r=Math.abs(e.min),i=Math.abs(e.max),o=Math.abs(t.min),s=Math.abs(t.max),l=j.a.max([r,i]),c=j.a.min([r,i]),u=j.a.max([o,s]),d=j.a.min([o,s]);n=c?l/c:l,a=d?u/d:u}else e.min>0||t.min>0?(n=e.max/t.max,a=0):(n=0,a=e.min/t.min);return n>a?n:a}(r,i);s?r.min>0?(r.min=r.max/l,i.min=i.max/l):(r.max=r.min/l,i.max=i.min/l):Be(r,i)?(r.min=i.min?i.min*l:r.min,i.min=r.min?r.min/l:i.min,r.max=i.max?i.max*l:r.max,i.max=r.max?r.max/l:i.max):(r.min=r.min>0?i.min*l:r.min,i.min=i.min>0?r.min/l:i.min,r.max=r.max<0?i.max*l:r.max,i.max=i.max<0?r.max/l:i.max)}!function(e,t,n){0!==n&&(e.min+=n,e.max+=n,t.min+=n,t.max+=n)}(r,i,t)}}function Ve(e){return"min"in e&&"max"in e}function $e(e,t){return e.min>=0&&t.min>=0||e.max<=0&&t.max<=0}function Be(e,t){return e.min<=0&&e.max>=0&&t.min<=0&&t.max>=0}var Ue=n("TSYQ"),qe=n.n(Ue),ze=["min","max","avg","current","total"],He=function(e){function t(t){var n=e.call(this,t)||this;return n.onLabelClick=function(e){return n.props.onLabelClick(n.props.series,e)},n.onToggleAxis=function(){var e=2===n.state.yaxis?1:2,t={alias:n.props.series.alias,yaxis:e};n.setState({yaxis:e}),n.props.onToggleAxis(t)},n.onColorChange=function(e){n.props.onColorChange(n.props.series,e),n.forceUpdate()},n.state={yaxis:n.props.series.yaxis},n}return Object(_.__extends)(t,e),t.prototype.renderLegendValues=function(){var e,t,n=this.props,a=n.series,r=n.asTable,i=[];try{for(var o=Object(_.__values)(ze),s=o.next();!s.done;s=o.next()){var l=s.value;if(this.props[l]){var c=a.formatValue(a.stats[l]);i.push($.a.createElement(Ye,{key:l,valueName:l,value:c,asTable:r}))}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i},t.prototype.render=function(){var e=this.props,t=e.series,n=e.values,a=e.asTable,r=e.hidden,i=qe()({"graph-legend-series-hidden":r,"graph-legend-series--right-y":2===t.yaxis}),o=n?this.renderLegendValues():[],s=$.a.createElement(Ge,{label:t.alias,color:t.color,yaxis:this.state.yaxis,onLabelClick:this.onLabelClick,onColorChange:this.onColorChange,onToggleAxis:this.onToggleAxis});return a?$.a.createElement("tr",{className:"graph-legend-series "+i},$.a.createElement("td",null,s),o):$.a.createElement("div",{className:"graph-legend-series "+i},s,o)},t.defaultProps={asTable:!1,hidden:!1,onLabelClick:function(){},onColorChange:function(){},onToggleAxis:function(){}},t}(V.PureComponent),Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.label,a=t.color,r=t.yaxis,i=this.props,o=i.onColorChange,s=i.onToggleAxis;return[$.a.createElement(Qe,{key:"icon",color:a,yaxis:r,onColorChange:o,onToggleAxis:s}),$.a.createElement("a",{className:"graph-legend-alias pointer",title:n,key:"label",onClick:function(t){return e.props.onLabelClick(t)}},n)]},t.defaultProps={yaxis:void 0,onLabelClick:function(){}},t}(V.PureComponent);function We(e){var t=e.color;return $.a.createElement("i",{className:"fa fa-minus pointer",style:{color:t}})}var Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this;return $.a.createElement(re.SeriesColorPicker,{yaxis:this.props.yaxis,color:this.props.color,onChange:this.props.onColorChange,onToggleAxis:this.props.onToggleAxis,enableNamedColors:!0},function(t){var n=t.ref,a=t.showColorPicker,r=t.hideColorPicker;return $.a.createElement("span",{ref:n,onClick:a,onMouseLeave:r,className:"graph-legend-icon"},$.a.createElement(We,{color:e.props.color}))})},t.defaultProps={yaxis:void 0,onColorChange:function(){},onToggleAxis:function(){}},t}(V.PureComponent);function Ye(e){var t=e.value,n=e.valueName;return e.asTable?$.a.createElement("td",{className:"graph-legend-value "+n},t):$.a.createElement("div",{className:"graph-legend-value "+n},t)}var Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.onToggleSeries=function(e,t){var a=Object(_.__assign)({},n.state.hiddenSeries);t.ctrlKey||t.metaKey||t.shiftKey?a[e.alias]?delete a[e.alias]:a[e.alias]=!0:a=n.toggleSeriesExclusiveMode(e),n.setState({hiddenSeries:a}),n.props.onToggleSeries(a)},n.state={hiddenSeries:n.props.hiddenSeries},n}return Object(_.__extends)(t,e),t.prototype.sortLegend=function(){var e=this,t=Object(_.__spread)(this.props.seriesList)||[];return this.props.sort&&this.props[this.props.sort]&&this.props.alignAsTable&&(t=j.a.sortBy(t,function(t){var n=t.stats[e.props.sort];return null===n&&(n=-1/0),n}),this.props.sortDesc&&(t=t.reverse())),t},t.prototype.toggleSeriesExclusiveMode=function(e){var t=Object(_.__assign)({},this.state.hiddenSeries);return t[e.alias]&&delete t[e.alias],this.props.seriesList.every(function(n){return n.alias===e.alias||t[n.alias]})?this.props.seriesList.forEach(function(e){delete t[e.alias]}):this.props.seriesList.forEach(function(n){n.alias!==e.alias&&(t[n.alias]=!0)}),t},t.prototype.render=function(){var e=this.props,t=e.optionalClass,n=e.rightSide,a=e.sideWidth,r=e.sort,i=e.sortDesc,o=e.hideEmpty,s=e.hideZero,l={values:e.values,min:e.min,max:e.max,avg:e.avg,current:e.current,total:e.total},c=this.state.hiddenSeries,u={hideEmpty:o,hideZero:s},d={sort:r,sortDesc:i},p=this.sortLegend().filter(function(e){return!e.hideFromLegend(u)}),f=(this.props.alignAsTable?"graph-legend-table":"")+" "+t,h={minWidth:n&&a?a:void 0,width:n&&a?a-1:void 0},m=Object(_.__assign)(Object(_.__assign)({seriesList:p,hiddenSeries:c,onToggleSeries:this.onToggleSeries,onToggleAxis:this.props.onToggleAxis,onToggleSort:this.props.onToggleSort,onColorChange:this.props.onColorChange},l),d);return $.a.createElement("div",{className:"graph-legend-content "+f,style:h},this.props.alignAsTable?$.a.createElement(Ze,Object(_.__assign)({},m)):$.a.createElement(Je,Object(_.__assign)({},m)))},t.defaultProps={values:!1,min:!1,max:!1,avg:!1,current:!1,total:!1,alignAsTable:!1,rightSide:!1,sort:void 0,sortDesc:!1,optionalClass:"",onToggleSeries:function(){},onToggleSort:function(){},onToggleAxis:function(){},onColorChange:function(){}},t}(V.PureComponent),Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.seriesList,a=t.hiddenSeries,r={values:t.values,min:t.min,max:t.max,avg:t.avg,current:t.current,total:t.total};return n.map(function(t,n){return $.a.createElement(He,Object(_.__assign)({key:t.id+"-"+n,series:t,hidden:a[t.alias]},r,{onLabelClick:e.props.onToggleSeries,onColorChange:e.props.onColorChange,onToggleAxis:e.props.onToggleAxis}))})},t}(V.PureComponent),Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onToggleSort=function(e){var n=t.props.sortDesc,a=t.props.sort;e!==a&&(n=null),!1===n?(a=null,n=null):(n=!n,a=e),t.props.onToggleSort(a,n)},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.seriesList,n=this.props,a=n.values,r=n.min,i=n.max,o=n.avg,s=n.current,l=n.total,c=n.sort,u=n.sortDesc,d=n.hiddenSeries,p={values:a,min:r,max:i,avg:o,current:s,total:l};return $.a.createElement("table",null,$.a.createElement("colgroup",null,$.a.createElement("col",{style:{width:"100%"}})),$.a.createElement("thead",null,$.a.createElement("tr",null,$.a.createElement("th",{style:{textAlign:"left"}}),ze.map(function(t){return p[t]&&$.a.createElement(Xe,{key:t,statName:t,sort:c,sortDesc:u,onClick:e.onToggleSort})}))),$.a.createElement("tbody",null,t.map(function(t,n){return $.a.createElement(He,Object(_.__assign)({key:t.id+"-"+n,asTable:!0,series:t,hidden:d[t.alias],onLabelClick:e.props.onToggleSeries,onColorChange:e.props.onColorChange,onToggleAxis:e.props.onToggleAxis},p))})))},t}(V.PureComponent),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){return t.props.onClick(t.props.statName)},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.statName,n=e.sort,a=e.sortDesc;return $.a.createElement("th",{className:"pointer",onClick:this.onClick},t,n===t&&$.a.createElement("span",{className:a?"fa fa-caret-down":"fa fa-caret-up"}))},t}(V.PureComponent),et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){return $.a.createElement(re.CustomScrollbar,{hideHorizontalTrack:!0},$.a.createElement(Ke,Object(_.__assign)({},this.props)))},t}(V.PureComponent),tt=n("t/ct"),nt=n("MAcC"),at=Object(tt.b)(et),rt=function(){function e(e,t,n){var a=this;this.scope=e,this.elem=t,this.timeSrv=n,this.getContextMenuItemsSupplier=function(e,t){return function(){var n=[{items:[{label:"Add annotation",icon:"gicon gicon-annotation",onClick:function(){return a.eventManager.updateTime({from:e.x,to:null})}}]}];if(!t)return n;var r=[{items:t.getLinks(a.panel.scopedVars).map(function(e){return{label:e.title,url:e.href,target:e.target,icon:"fa "+("_self"===e.target?"fa-link":"fa-external-link"),onClick:e.onClick}})}];return Object(_.__spread)(n,r)}},this.ctrl=e.ctrl,this.contextMenu=e.ctrl.contextMenuCtrl,this.dashboard=this.ctrl.dashboard,this.panel=this.ctrl.panel,this.annotations=[],this.panelWidth=0,this.eventManager=new Pe.a(this.ctrl),this.thresholdManager=new Ae(this.ctrl),this.timeRegionManager=new Ie(this.ctrl,H.b.theme.type),this.tooltip=new Me(this.elem,this.ctrl.dashboard,this.scope,function(){return a.sortedSeries}),this.ctrl.events.on(Y.PanelEvents.panelTeardown,this.onPanelTeardown.bind(this)),this.ctrl.events.on(Y.PanelEvents.render,this.onRender.bind(this)),Q.a.on(Te.CoreEvents.graphHover,this.onGraphHover.bind(this),e),Q.a.on(Te.CoreEvents.graphHoverClear,this.onGraphHoverClear.bind(this),e),this.elem.bind("plotselected",this.onPlotSelected.bind(this)),this.elem.bind("plotclick",this.onPlotClick.bind(this)),this.elem&&this.elem.parent&&(this.legendElem=this.elem.parent().find(".graph-legend")[0])}return e.prototype.onRender=function(e){var t=this;if(this.data=e||this.data,this.data){this.annotations=this.ctrl.annotations||[],this.buildFlotPairs(this.data);var n=this.elem.height();if(Object(Q.f)(this.data,this.panel,n),!this.panel.legend.show)return this.legendElem.hasChildNodes()&&U.a.unmountComponentAtNode(this.legendElem),void this.renderPanel();var a=this.panel.legend,r=a.values,i=a.min,o=a.max,s=a.avg,l=a.current,c=a.total,u=this.panel.legend,d={alignAsTable:u.alignAsTable,rightSide:u.rightSide,sideWidth:u.sideWidth,sort:u.sort,sortDesc:u.sortDesc,hideEmpty:u.hideEmpty,hideZero:u.hideZero},p={values:r,min:i,max:o,avg:s,current:l,total:c},f=Object(_.__assign)(Object(_.__assign)(Object(_.__assign)({seriesList:this.data,hiddenSeries:this.ctrl.hiddenSeries},d),p),{onToggleSeries:this.ctrl.onToggleSeries,onToggleSort:this.ctrl.onToggleSort,onColorChange:this.ctrl.onColorChange,onToggleAxis:this.ctrl.onToggleAxis}),h=$.a.createElement(at,f);U.a.render(h,this.legendElem,function(){return t.renderPanel()})}},e.prototype.onGraphHover=function(e){this.dashboard.sharedTooltipModeEnabled()&&this.plot&&e.panel.id!==this.panel.id&&!this.ctrl.otherPanelInFullscreenMode()&&this.tooltip.show(e.pos)},e.prototype.onPanelTeardown=function(){this.plot&&(this.plot.destroy(),this.plot=null),this.tooltip.destroy(),this.elem.off(),this.elem.remove(),U.a.unmountComponentAtNode(this.legendElem)},e.prototype.onGraphHoverClear=function(e,t){this.plot&&this.tooltip.clear(this.plot)},e.prototype.onPlotSelected=function(e,t){var n=this;"time"===this.panel.xaxis.mode?(t.ctrlKey||t.metaKey)&&(this.dashboard.meta.canEdit||this.dashboard.meta.canMakeEditable)?setTimeout(function(){n.eventManager.updateTime(t.xaxis)},100):this.scope.$apply(function(){n.timeSrv.setTime({from:Object(Y.toUtc)(t.xaxis.from),to:Object(Y.toUtc)(t.xaxis.to)})}):this.plot.clearSelection()},e.prototype.onPlotClick=function(e,t,n){var a=this,r=this.elem.closest(".view")?this.elem.closest(".view").get()[0]:null,i=n;if("time"===this.panel.xaxis.mode)if(!t.ctrlKey&&!t.metaKey||!this.dashboard.meta.canEdit&&!this.dashboard.meta.canMakeEditable){var o;if(this.tooltip.clear(this.plot),n){var s=this.panel.yaxes[2===n.series.yaxis.n?1:0],l=this.ctrl.dataList[n.series.dataFrameIndex],c=l.fields[n.series.fieldIndex],u=this.panel.options.dataLinks||[];c.config.links&&c.config.links.length&&(u=Object(_.__spread)(u,c.config.links));var d={decimals:s.decimals,links:u},p=Object(Y.getDisplayProcessor)({field:{config:d,type:Y.FieldType.number},theme:Object(tt.a)()})(c.values.get(n.dataIndex));o=u.length?Object(nt.a)({display:p,name:c.name,view:new Y.DataFrameView(l),rowIndex:n.dataIndex,colIndex:n.series.fieldIndex,field:d}):void 0}this.scope.$apply(function(){a.contextMenu.setScrollContextElement(r),a.contextMenu.setSource(i),a.contextMenu.setMenuItemsSupplier(a.getContextMenuItemsSupplier(t,o)),a.contextMenu.toggleMenu(t)})}else{if(t.x!==t.x1)return;setTimeout(function(){a.eventManager.updateTime({from:t.x,to:null})},100)}},e.prototype.shouldAbortRender=function(){return!this.data||0===this.panelWidth},e.prototype.drawHook=function(e){this.panel.yaxes[0].label&&this.panel.yaxes[0].show&&D()("<div class='axisLabel left-yaxis-label flot-temp-elem'></div>").text(this.panel.yaxes[0].label).appendTo(this.elem),this.panel.yaxes[1].label&&this.panel.yaxes[1].show&&D()("<div class='axisLabel right-yaxis-label flot-temp-elem'></div>").text(this.panel.yaxes[1].label).appendTo(this.elem),this.ctrl.dataWarning&&D()('<div class="datapoints-warning flot-temp-elem">'+this.ctrl.dataWarning.title+"</div>").appendTo(this.elem),this.thresholdManager.draw(e),this.timeRegionManager.draw(e)},e.prototype.processOffsetHook=function(e,t){var n=this.panel.yaxes[0],a=this.panel.yaxes[1];n.show&&n.label&&(t.left=20),a.show&&a.label&&(t.right=20);for(var r=e.getYAxes(),i=0;i<r.length;i++){var o=r[i],s=this.panel.yaxes[i];o.options.max=null!==o.options.max?o.options.max:s.max,o.options.min=null!==o.options.min?o.options.min:s.min}},e.prototype.processRangeHook=function(e){var t=e.getYAxes(),n=this.panel.yaxis.align||!1;if(t.length>1&&!0===n){var a=this.panel.yaxis.alignLevel||0;Re(t,parseFloat(a))}},e.prototype.getMinTimeStepOfSeries=function(e){for(var t=Number.MAX_VALUE,n=0;n<e.length;n++)if(e[n].stats.timeStep){if(this.panel.bars){if(e[n].bars&&!1===e[n].bars.show)continue}else if(void 0===e[n].bars||void 0===e[n].bars.show||!e[n].bars.show)continue;e[n].stats.timeStep<t&&(t=e[n].stats.timeStep)}return t},e.prototype.renderPanel=function(){if(this.panelWidth=this.elem.width(),!this.shouldAbortRender()){this.thresholdManager.prepare(this.elem,this.data),this.panel.dashes=!!this.panel.lines&&this.panel.dashes;var e=this.buildFlotOptions(this.panel);this.prepareXAxis(e,this.panel),this.configureYAxisOptions(this.data,e),this.thresholdManager.addFlotOptions(e,this.panel),this.timeRegionManager.addFlotOptions(e,this.panel),this.eventManager.addFlotEvents(this.annotations,e),this.sortedSeries=this.sortSeries(this.data,this.panel),this.callPlot(e,!0)}},e.prototype.buildFlotPairs=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.data=n.getFlotPairs(n.nullPointMode||this.panel.nullPointMode),"constant"===n.transform&&(n.data=Object(Y.getFlotPairsConstant)(n.data,this.ctrl.range)),this.ctrl.hiddenSeries[n.alias]&&(n.data=[],n.stack=!1)}},e.prototype.prepareXAxis=function(e,t){switch(t.xaxis.mode){case"series":e.series.bars.barWidth=.7,e.series.bars.align="center";for(var n=0;n<this.data.length;n++){var a=this.data[n];a.data=[[n+1,a.stats[t.xaxis.values[0]]]]}this.addXSeriesAxis(e);break;case"histogram":var r=void 0;if(this.data.length){var i=j.a.min(j.a.map(this.data,function(e){return e.stats.min})),o=j.a.max(j.a.map(this.data,function(e){return e.stats.max})),s=t.xaxis.buckets||this.panelWidth/50;if(null!=t.xaxis.min)i=Object(Z.tickStep)(t.xaxis.min,o,s)<=0?i:t.xaxis.min;if(null!=t.xaxis.max)o=Object(Z.tickStep)(i,t.xaxis.max,s)<=0?o:t.xaxis.max;r=Object(Z.tickStep)(i,o,s),e.series.bars.barWidth=.8*r,this.data=Fe(this.data,r,this.ctrl.hiddenSeries,i,o)}else r=0;this.addXHistogramAxis(e,r);break;case"table":e.series.bars.barWidth=.7,e.series.bars.align="center",this.addXTableAxis(e);break;default:e.series.bars.barWidth=this.getMinTimeStepOfSeries(this.data)/1.5,e.series.bars.align="center",this.addTimeAxis(e)}},e.prototype.callPlot=function(e,t){try{this.plot=D.a.plot(this.elem,this.sortedSeries,e),this.ctrl.renderError&&delete this.ctrl.error}catch(e){console.log("flotcharts error",e),this.ctrl.error=e.message||"Render Error",this.ctrl.renderError=!0}t&&this.ctrl.renderingCompleted()},e.prototype.buildFlotOptions=function(e){var t="#c8c8c8";!0===H.b.bootData.user.lightTheme&&(t="#a1a1a1");var n=!!e.stack||null;return{hooks:{draw:[this.drawHook.bind(this)],processOffset:[this.processOffsetHook.bind(this)],processRange:[this.processRangeHook.bind(this)]},legend:{show:!1},series:{stackpercent:!!e.stack&&e.percentage,stack:e.percentage?null:n,lines:{show:e.lines,zero:!1,fill:this.translateFillOption(e.fill),fillColor:this.getFillGradient(e.fillGradient),lineWidth:e.dashes?0:e.linewidth,steps:e.steppedLine},dashes:{show:e.dashes,lineWidth:e.linewidth,dashLength:[e.dashLength,e.spaceLength]},bars:{show:e.bars,fill:1,barWidth:1,zero:!1,lineWidth:0},points:{show:e.points,fill:1,fillColor:!1,radius:e.points?e.pointradius:2},shadowSize:0},yaxes:[],xaxis:{},grid:{minBorderMargin:0,markings:[],backgroundColor:null,borderWidth:0,hoverable:!0,clickable:!0,color:t,margin:{left:0,right:0},labelMarginX:0,mouseActiveRadius:30},selection:{mode:"x",color:"#666"},crosshair:{mode:"x"}}},e.prototype.sortSeries=function(e,t){var n=t.legend.sort,a=t.legend.sortDesc,r=null!=n&&t.legend[n],i=null!=a,o=t.stack&&r&&i&&t.legend.alignAsTable,s=!0===t.legend.sortDesc?-1:1;return o?j.a.sortBy(e,function(e){return e.stats[n]*s}):j.a.sortBy(e,function(e){return e.zindex})},e.prototype.getFillGradient=function(e){return e?{colors:[{opacity:0},{opacity:e/10}]}:null},e.prototype.translateFillOption=function(e){return this.panel.percentage&&this.panel.stack&&0===e?.001:e/10},e.prototype.addTimeAxis=function(e){var t=this.panelWidth/100,n=j.a.isUndefined(this.ctrl.range.from)?null:this.ctrl.range.from.valueOf(),a=j.a.isUndefined(this.ctrl.range.to)?null:this.ctrl.range.to.valueOf();e.xaxis={timezone:this.dashboard.getTimezone(),show:this.panel.xaxis.show,mode:"time",min:n,max:a,label:"Datetime",ticks:t,timeformat:this.time_format(t,n,a)}},e.prototype.addXSeriesAxis=function(e){var t=j.a.map(this.data,function(e,t){return[t+1,e.alias]});e.xaxis={timezone:this.dashboard.getTimezone(),show:this.panel.xaxis.show,mode:null,min:0,max:t.length+1,label:"Datetime",ticks:t}},e.prototype.addXHistogramAxis=function(e,t){var n,a,r,i,o,s,l,c=this.panelWidth/50;if(this.data.length&&t){var u=[];try{for(var d=Object(_.__values)(this.data),p=d.next();!p.done;p=d.next()){var f=p.value;try{for(var h=(r=void 0,Object(_.__values)(f.data)),m=h.next();!m.done;m=h.next()){u[m.value[0]]=!0}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}o=Object.keys(u).map(function(e){return Number(e)}),s=j.a.min(o),l=j.a.max(o);for(var g=t,b=Math.floor((l-s)/g);b>c;)g*=2,b=Math.ceil((l-s)/g);s=Math.floor(s/g)*g,l=Math.ceil(1.01*l/g)*g,o=[];for(var v=s;v<=l;v+=g)o.push(v)}else o=c/2,s=0,l=1;e.xaxis={timezone:this.dashboard.getTimezone(),show:this.panel.xaxis.show,mode:null,min:s,max:l,label:"Histogram",ticks:o},this.configureAxisMode(e.xaxis,"short")},e.prototype.addXTableAxis=function(e){var t=j.a.map(this.data,function(e,t){return j.a.map(e.datapoints,function(n,a){return[t*e.datapoints.length+a+1,n[1]]})});t=j.a.flatten(t,!0),e.xaxis={timezone:this.dashboard.getTimezone(),show:this.panel.xaxis.show,mode:null,min:0,max:t.length+1,label:"Datetime",ticks:t}},e.prototype.configureYAxisOptions=function(e,t){var n={position:"left",show:this.panel.yaxes[0].show,index:1,logBase:this.panel.yaxes[0].logBase||1,min:this.parseNumber(this.panel.yaxes[0].min),max:this.parseNumber(this.panel.yaxes[0].max),tickDecimals:this.panel.yaxes[0].decimals};if(t.yaxes.push(n),j.a.find(e,{yaxis:2})){var a=j.a.clone(n);a.index=2,a.show=this.panel.yaxes[1].show,a.logBase=this.panel.yaxes[1].logBase||1,a.position="right",a.min=this.parseNumber(this.panel.yaxes[1].min),a.max=this.parseNumber(this.panel.yaxes[1].max),a.tickDecimals=this.panel.yaxes[1].decimals,t.yaxes.push(a),this.applyLogScale(t.yaxes[1],e),this.configureAxisMode(t.yaxes[1],this.panel.percentage&&this.panel.stack?"percent":this.panel.yaxes[1].format)}this.applyLogScale(t.yaxes[0],e),this.configureAxisMode(t.yaxes[0],this.panel.percentage&&this.panel.stack?"percent":this.panel.yaxes[0].format)},e.prototype.parseNumber=function(e){return null==e?null:j.a.toNumber(e)},e.prototype.applyLogScale=function(e,t){if(1!==e.logBase){var n,a,r=0===e.min;e.min<Number.MIN_VALUE&&(e.min=null),e.max<Number.MIN_VALUE&&(e.max=null);var i=e.max,o=e.min;for(a=0;a<t.length;a++)(n=t[a]).yaxis===e.index&&((!i||i<n.stats.max)&&(i=n.stats.max),(!o||o>n.stats.logmin)&&(o=n.stats.logmin));e.transform=function(t){return t<Number.MIN_VALUE?null:Math.log(t)/Math.log(e.logBase)},e.inverseTransform=function(t){return Math.pow(e.logBase,t)},i||o?i?o||(o=i*e.inverseTransform(-4)):i=o*e.inverseTransform(4):(i=e.inverseTransform(2),o=e.inverseTransform(-2)),o=e.min?e.inverseTransform(Math.ceil(e.transform(e.min))):e.min=e.inverseTransform(Math.floor(e.transform(o))),i=e.max?e.inverseTransform(Math.floor(e.transform(e.max))):e.max=e.inverseTransform(Math.ceil(e.transform(i))),!o||o<Number.MIN_VALUE||!i||i<Number.MIN_VALUE||(Number.isFinite(o)&&Number.isFinite(i)?(r&&(e.min=.1,o=1),e.ticks=this.generateTicksForLogScaleYAxis(o,i,e.logBase),r&&e.ticks.unshift(.1),e.ticks[e.ticks.length-1]>e.max&&(e.max=e.ticks[e.ticks.length-1])):(e.ticks=[1,2],delete e.min,delete e.max))}},e.prototype.generateTicksForLogScaleYAxis=function(e,t,n){var a,r=[];for(a=e;a<=t;a*=n)r.push(a);var i=Math.ceil(this.ctrl.height/25),o=r.length;if(o>i){var s=Math.ceil(o/i)*n;for(r=[],a=e;a<=t*s;a*=s)r.push(a)}return r},e.prototype.configureAxisMode=function(e,t){e.tickFormatter=function(e,n){var a=Object(Y.getValueFormat)(t);if(!a)throw new Error("Unit '"+t+"' is not supported");return Object(Y.formattedValueToString)(a(e,n.tickDecimals,n.scaledDecimals))}},e.prototype.time_format=function(e,t,n){if(t&&n&&e){var a=n-t,r=a/e/1e3;return r<=45?"%H:%M:%S":r<=7200||a<=86400010?"%H:%M":r<=8e4?"%m/%d %H:%M":r<=2419200||a<=31536e6?"%m/%d":"%Y-%m"}return"%H:%M"},e}();function it(e,t,n){return{restrict:"A",template:"",link:function(t,n){return new rt(t,n,e)}}}Q.c.directive("grafanaGraph",it);var ot=n("txxJ");function st(e,t,n){e.overrideMenu=[],e.currentOverrides=[],e.override=e.override||{},e.colorPickerModel={},e.addOverrideOption=function(t,n,a){var r={text:t,propertyName:n,index:e.overrideMenu.length,values:a,submenu:j.a.map(a,function(e){return{text:String(e),value:e}})};e.overrideMenu.push(r)},e.setOverride=function(t,n){"color"!==t.propertyName?(e.override[t.propertyName]=n.value,"fillBelowTo"===t.propertyName&&(e.override.lines=!1,e.ctrl.addSeriesOverride({alias:n.value,lines:!1})),e.updateCurrentOverrides(),e.ctrl.render()):e.openColorSelector(e.override.color)},e.colorSelected=function(t){e.override.color=t,e.updateCurrentOverrides(),e.ctrl.render(),e.colorPickerModel.series.color=t},e.openColorSelector=function(a){e.colorPickerModel={autoClose:!0,colorSelected:e.colorSelected,series:{color:a}},n.show({element:t.find(".dropdown")[0],position:"top center",openOn:"click",template:'<series-color-picker-popover color="series.color" onColorChange="colorSelected" />',classNames:"drop-popover drop-popover--transparent",model:e.colorPickerModel,onClose:function(){e.ctrl.render()}})},e.removeOverride=function(t){delete e.override[t.propertyName],e.updateCurrentOverrides(),e.ctrl.refresh()},e.getSeriesNames=function(){return j.a.map(e.ctrl.seriesList,function(e){return e.alias})},e.updateCurrentOverrides=function(){e.currentOverrides=[],j.a.each(e.overrideMenu,function(t){var n=e.override[t.propertyName];j.a.isUndefined(n)||e.currentOverrides.push({name:t.text,propertyName:t.propertyName,value:String(n)})})},e.addOverrideOption("Bars","bars",[!0,!1]),e.addOverrideOption("Lines","lines",[!0,!1]),e.addOverrideOption("Line fill","fill",[0,1,2,3,4,5,6,7,8,9,10]),e.addOverrideOption("Fill gradient","fillGradient",[0,1,2,3,4,5,6,7,8,9,10]),e.addOverrideOption("Line width","linewidth",[0,1,2,3,4,5,6,7,8,9,10]),e.addOverrideOption("Null point mode","nullPointMode",["connected","null","null as zero"]),e.addOverrideOption("Fill below to","fillBelowTo",e.getSeriesNames()),e.addOverrideOption("Staircase line","steppedLine",[!0,!1]),e.addOverrideOption("Dashes","dashes",[!0,!1]),e.addOverrideOption("Hidden Series","hiddenSeries",[!0,!1]),e.addOverrideOption("Dash Length","dashLength",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),e.addOverrideOption("Dash Space","spaceLength",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),e.addOverrideOption("Points","points",[!0,!1]),e.addOverrideOption("Points Radius","pointradius",[1,2,3,4,5]),e.addOverrideOption("Stack","stack",[!0,!1,"A","B","C","D"]),e.addOverrideOption("Color","color",["change"]),e.addOverrideOption("Y-axis","yaxis",[1,2]),e.addOverrideOption("Z-index","zindex",[-3,-2,-1,0,1,2,3]),e.addOverrideOption("Transform","transform",["constant","negative-Y"]),e.addOverrideOption("Legend","legend",[!0,!1]),e.addOverrideOption("Hide in tooltip","hideTooltip",[!0,!1]),e.updateCurrentOverrides()}ot.c.controller("SeriesOverridesCtrl",st);var lt=n("Zss7"),ct=n.n(lt),ut=function(){function e(e){var t=this;this.panel=this.panelCtrl.panel,this.panel.alert&&(this.disabled=!0);var n=e.$on("$destroy",function(){t.panelCtrl.editingThresholds=!1,t.panelCtrl.render(),n()});this.panelCtrl.editingThresholds=!0}return e.$inject=["$scope"],e.prototype.addThreshold=function(){this.panel.thresholds.push({value:void 0,colorMode:"critical",op:"gt",fill:!0,line:!0,yaxis:"left"}),this.panelCtrl.render()},e.prototype.removeThreshold=function(e){this.panel.thresholds.splice(e,1),this.panelCtrl.render()},e.prototype.render=function(){this.panelCtrl.render()},e.prototype.onFillColorChange=function(e){var t=this;return function(n){t.panel.thresholds[e].fillColor=n,t.render()}},e.prototype.onLineColorChange=function(e){var t=this;return function(n){t.panel.thresholds[e].lineColor=n,t.render()}},e.prototype.onThresholdTypeChange=function(e){"custom"===this.panel.thresholds[e].colorMode&&(this.panel.thresholds[e].fillColor=ct()(H.b.theme.colors.blueBase).setAlpha(.2).toRgbString(),this.panel.thresholds[e].lineColor=ct()(H.b.theme.colors.blueShade).setAlpha(.6).toRgbString()),this.panelCtrl.render()},e}();ot.c.directive("graphThresholdForm",function(){return{restrict:"E",templateUrl:"public/app/plugins/panel/graph/thresholds_form.html",controller:ut,bindToController:!0,controllerAs:"ctrl",scope:{panelCtrl:"="}}});var dt=function(){function e(e){var t=this;this.panel=this.panelCtrl.panel;var n=e.$on("$destroy",function(){t.panelCtrl.editingTimeRegions=!1,t.panelCtrl.render(),n()});this.colorModes=j.a.map(Object.keys(Ne),function(e){return{key:e,value:Ne[e].title}}),this.panelCtrl.editingTimeRegions=!0}return e.$inject=["$scope"],e.prototype.render=function(){this.panelCtrl.render()},e.prototype.addTimeRegion=function(){this.panel.timeRegions.push({op:"time",fromDayOfWeek:void 0,from:void 0,toDayOfWeek:void 0,to:void 0,colorMode:"background6",fill:!0,line:!1,fillColor:"rgba(234, 112, 112, 0.12)",lineColor:"rgba(237, 46, 24, 0.60)"}),this.panelCtrl.render()},e.prototype.removeTimeRegion=function(e){this.panel.timeRegions.splice(e,1),this.panelCtrl.render()},e.prototype.onFillColorChange=function(e){var t=this;return function(n){t.panel.timeRegions[e].fillColor=n,t.render()}},e.prototype.onLineColorChange=function(e){var t=this;return function(n){t.panel.timeRegions[e].lineColor=n,t.render()}},e}();ot.c.directive("graphTimeRegionForm",function(){return{restrict:"E",templateUrl:"public/app/plugins/panel/graph/time_regions_form.html",controller:dt,bindToController:!0,controllerAs:"ctrl",scope:{panelCtrl:"="}}});var pt=function(){function e(e){this.panel=e}return e.prototype.getSeriesList=function(e){var t=[],n=e.dataList,a=e.range;if(!n||!n.length)return t;for(var r=0;r<n.length;r++){var i=n[r],o=Object(Y.getTimeField)(i).timeField;if(o)for(var s=i.name?i.name:i.refId,l=0;l<i.fields.length;l++){var c=i.fields[l];if(c.type===Y.FieldType.number){var u=c.config&&c.config.title?c.config.title:c.name;s&&n.length>0&&u!==s&&(u=s+" "+u);for(var d=[],p=0;p<i.length;p++)d.push([c.values.get(p),o.values.get(p)]);t.push(this.toTimeSeries(c,u,r,l,d,t.length,a))}}}if("histogram"===this.panel.xaxis.mode&&!this.panel.stack&&t.length>1){var f=t[0];f.alias=f.aliasEscaped="Count";for(r=1;r<t.length;r++)f.datapoints=f.datapoints.concat(t[r].datapoints);return[f]}return t},e.prototype.toTimeSeries=function(e,t,n,a,r,i,o){var s=i%re.colors.length,l=this.panel.aliasColors[t]||re.colors[s],c=new G.a({datapoints:r||[],alias:t,color:Object(Y.getColorFromHexRgbOrName)(l,H.b.theme.type),unit:e.config?e.config.unit:void 0,dataFrameIndex:n,fieldIndex:a});r&&r.length>0&&o&&(r[r.length-1][1]-o.from.valueOf()<-1e4&&(c.isOutsideRange=!0));return c},e.prototype.setPanelDefaultsForNewXAxisMode=function(){switch(this.panel.xaxis.mode){case"time":this.panel.bars=!1,this.panel.lines=!0,this.panel.points=!1,this.panel.legend.show=!0,this.panel.tooltip.shared=!0,this.panel.xaxis.values=[];break;case"series":this.panel.bars=!0,this.panel.lines=!1,this.panel.points=!1,this.panel.stack=!1,this.panel.legend.show=!1,this.panel.tooltip.shared=!1,this.panel.xaxis.values=["total"];break;case"histogram":this.panel.bars=!0,this.panel.lines=!1,this.panel.points=!1,this.panel.stack=!1,this.panel.legend.show=!1,this.panel.tooltip.shared=!1}},e.prototype.validateXAxisSeriesValue=function(){switch(this.panel.xaxis.mode){case"series":if(0===this.panel.xaxis.values.length)return void(this.panel.xaxis.values=["total"]);var e=this.getXAxisValueOptions({});return void(j.a.find(e,{value:this.panel.xaxis.values[0]})||(this.panel.xaxis.values=["total"]))}},e.prototype.getXAxisValueOptions=function(e){switch(this.panel.xaxis.mode){case"series":return[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Count",value:"count"}]}return[]},e.prototype.pluckDeep=function(e,t){for(var n=t.split("."),a=e,r=0;r<n.length;++r){if(!a[n[r]])return;a=a[n[r]]}return a},e}(),ft=n("1gCF"),ht=function(){function e(e){this.$scope=e,this.panelCtrl=e.ctrl,this.panel=this.panelCtrl.panel,this.$scope.ctrl=this,this.logScales={linear:1,"log (base 2)":2,"log (base 10)":10,"log (base 32)":32,"log (base 1024)":1024},this.xAxisModes={Time:"time",Series:"series",Histogram:"histogram"},this.xAxisStatOptions=[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Count",value:"count"},{text:"Current",value:"current"}],"custom"===this.panel.xaxis.mode&&(this.panel.xaxis.name||(this.panel.xaxis.name="specify field")),this.selectors=ft.a.pages.Dashboard.Panels.Visualization.Graph.VisualizationTab.selectors}return e.$inject=["$scope"],e.prototype.setUnitFormat=function(e){var t=this;return function(n){e.format=n,t.panelCtrl.render()}},e.prototype.render=function(){this.panelCtrl.render()},e.prototype.xAxisModeChanged=function(){this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode(),this.panelCtrl.onDataFramesReceived(this.panelCtrl.dataList)},e.prototype.xAxisValueChanged=function(){this.panelCtrl.onDataFramesReceived(this.panelCtrl.dataList)},e}();function mt(){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/graph/axes_editor.html",controller:ht}}var gt,bt=n("kHZm"),vt=function(){return function(e){var t=this;this.onClose=function(){t.scrollContextElement&&t.scrollContextElement.removeEventListener("scroll",t.onClose),t.scope.$apply(function(){t.isVisible=!1})},this.toggleMenu=function(e){t.isVisible=!t.isVisible,t.isVisible&&t.scrollContextElement&&t.scrollContextElement.addEventListener("scroll",t.onClose),t.source?t.position={x:t.source.pageX,y:t.source.pageY}:t.position={x:e?e.pageX:0,y:e?e.pageY:0}},this.setScrollContextElement=function(e){t.scrollContextElement=e},this.setSource=function(e){t.source=e},this.getSource=function(){return t.source},this.setMenuItemsSupplier=function(e){t.menuItemsSupplier=e},this.isVisible=!1,this.scope=e}}(),yt=n("GkHB"),wt=function(e){function t(t,n,a){var r=e.call(this,t,n)||this;return r.annotationsSrv=a,r.hiddenSeries={},r.hiddenSeriesTainted=!1,r.seriesList=[],r.dataList=[],r.annotations=[],r.colors=[],r.linkVariableSuggestions=[],r.panelDefaults={datasource:null,renderer:"flot",yaxes:[{label:null,show:!0,logBase:1,min:null,max:null,format:"short"},{label:null,show:!0,logBase:1,min:null,max:null,format:"short"}],xaxis:{show:!0,mode:"time",name:null,values:[],buckets:null},yaxis:{align:!1,alignLevel:null},lines:!0,fill:1,fillGradient:0,linewidth:1,dashes:!1,hiddenSeries:!1,dashLength:10,spaceLength:10,points:!1,pointradius:2,bars:!1,stack:!1,percentage:!1,legend:{show:!0,values:!1,min:!1,max:!1,current:!1,total:!1,avg:!1},nullPointMode:"null",steppedLine:!1,tooltip:{value_type:"individual",shared:!0,sort:0},timeFrom:null,timeShift:null,targets:[{}],aliasColors:{},seriesOverrides:[],thresholds:[],timeRegions:[],options:{dataLinks:[]}},r.onColorChange=function(e,t){e.setColor(Object(Y.getColorFromHexRgbOrName)(t,H.b.theme.type)),r.panel.aliasColors[e.alias]=t,r.render()},r.onToggleSeries=function(e){r.hiddenSeriesTainted=!0,r.hiddenSeries=e,r.render()},r.onToggleSort=function(e,t){r.panel.legend.sort=e,r.panel.legend.sortDesc=t,r.render()},r.onToggleAxis=function(e){var t=j.a.find(r.panel.seriesOverrides,{alias:e.alias});t||(t={alias:e.alias},r.panel.seriesOverrides.push(t)),t.yaxis=e.yaxis,r.render()},r.onContextMenuClose=function(){r.contextMenuCtrl.toggleMenu()},r.formatDate=function(e,t){return r.dashboard.formatDate.apply(r.dashboard,[e,t])},r.getDataFrameByRefId=function(e){return r.dataList.filter(function(t){return t.refId===e})[0]},j.a.defaults(r.panel,r.panelDefaults),j.a.defaults(r.panel.tooltip,r.panelDefaults.tooltip),j.a.defaults(r.panel.legend,r.panelDefaults.legend),j.a.defaults(r.panel.xaxis,r.panelDefaults.xaxis),j.a.defaults(r.panel.options,r.panelDefaults.options),r.useDataFrames=!0,r.processor=new pt(r.panel),r.contextMenuCtrl=new vt(t),r.events.on(Y.PanelEvents.render,r.onRender.bind(r)),r.events.on(Te.CoreEvents.dataFramesReceived,r.onDataFramesReceived.bind(r)),r.events.on(Y.PanelEvents.dataSnapshotLoad,r.onDataSnapshotLoad.bind(r)),r.events.on(Y.PanelEvents.editModeInitialized,r.onInitEditMode.bind(r)),r.events.on(Y.PanelEvents.initPanelActions,r.onInitPanelActions.bind(r)),r.onDataLinksChange=r.onDataLinksChange.bind(r),r}return t.$inject=["$scope","$injector","annotationsSrv"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.addEditorTab("Display options","public/app/plugins/panel/graph/tab_display.html"),this.addEditorTab("Axes",mt),this.addEditorTab("Legend","public/app/plugins/panel/graph/tab_legend.html"),this.addEditorTab("Thresholds & Time Regions","public/app/plugins/panel/graph/tab_thresholds_time_regions.html"),this.addEditorTab("Data links","public/app/plugins/panel/graph/tab_drilldown_links.html"),this.subTabIndex=0,this.hiddenSeriesTainted=!1},t.prototype.onInitPanelActions=function(e){e.push({text:"Export CSV",click:"ctrl.exportCsv()"}),e.push({text:"Toggle legend",click:"ctrl.toggleLegend()",shortcut:"p l"})},t.prototype.issueQueries=function(t){var n=this;return this.annotationsPromise=this.annotationsSrv.getAnnotations({dashboard:this.dashboard,panel:this.panel,range:this.range}),this.annotationsSrv.datasourcePromises.then(function(a){return e.prototype.issueQueries.call(n,t)})},t.prototype.zoomOut=function(e){this.publishAppEvent(Te.CoreEvents.zoomOut,2)},t.prototype.onDataSnapshotLoad=function(e){this.annotationsPromise=this.annotationsSrv.getAnnotations({dashboard:this.dashboard,panel:this.panel,range:this.range});var t=Object(bt.a)(e);this.onDataFramesReceived(t)},t.prototype.onDataFramesReceived=function(e){var t,n,a=this;if(this.dataList=e,this.seriesList=this.processor.getSeriesList({dataList:this.dataList,range:this.range}),this.linkVariableSuggestions=Object(yt.b)(e),this.dataWarning=null,0===this.seriesList.reduce(function(e,t){return e+t.datapoints.length},0))this.dataWarning={title:"No data",tip:"No data returned from query"};else try{for(var r=Object(_.__values)(this.seriesList),i=r.next();!i.done;i=r.next()){if(i.value.isOutsideRange){this.dataWarning={title:"Data outside time range",tip:"Can be caused by timezone mismatch or missing time filter in query"};break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.annotationsPromise.then(function(e){a.loading=!1,a.alertState=e.alertState,a.annotations=e.annotations,a.render(a.seriesList)},function(){a.loading=!1,a.render(a.seriesList)})},t.prototype.onRender=function(){var e,t;if(this.seriesList)try{for(var n=Object(_.__values)(this.seriesList),a=n.next();!a.done;a=n.next()){var r=a.value;r.applySeriesOverrides(this.panel.seriesOverrides),r.unit&&(this.panel.yaxes[r.yaxis-1].format=r.unit),!1===this.hiddenSeriesTainted&&!0===r.hiddenSeries&&(this.hiddenSeries[r.alias]=!0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.onDataLinksChange=function(e){this.panel.updateOptions(Object(_.__assign)(Object(_.__assign)({},this.panel.options),{dataLinks:e}))},t.prototype.addSeriesOverride=function(e){this.panel.seriesOverrides.push(e||{})},t.prototype.removeSeriesOverride=function(e){this.panel.seriesOverrides=j.a.without(this.panel.seriesOverrides,e),this.render()},t.prototype.toggleLegend=function(){this.panel.legend.show=!this.panel.legend.show,this.render()},t.prototype.legendValuesOptionChanged=function(){var e=this.panel.legend;e.values=e.min||e.max||e.avg||e.current||e.total,this.render()},t.prototype.exportCsv=function(){var e=this,t=this.$scope.$new(!0);t.seriesList=this.seriesList.filter(function(t){return!e.panel.legend.hideEmpty||!t.allIsNull}).filter(function(t){return!e.panel.legend.hideZero||!t.allIsZero}),this.publishAppEvent(Te.CoreEvents.showModal,{templateHtml:'<export-data-modal data="seriesList"></export-data-modal>',scope:t,modalClass:"modal--narrow"})},t.template='\n<div class="graph-panel" ng-class="{\'graph-panel--legend-right\': ctrl.panel.legend.rightSide}">\n  <div class="graph-panel__chart" grafana-graph ng-dblclick="ctrl.zoomOut()">\n  </div>\n\n  <div class="graph-legend">\n    <div class="graph-legend-content" graph-legend></div>\n  </div>\n  <div ng-if="ctrl.contextMenuCtrl.isVisible">\n    <graph-context-menu\n      items="ctrl.contextMenuCtrl.menuItemsSupplier()"\n      onClose="ctrl.onContextMenuClose"\n      getContextMenuSource="ctrl.contextMenuCtrl.getSource"\n      formatSourceDate="ctrl.formatDate"\n      x="ctrl.contextMenuCtrl.position.x"\n      y="ctrl.contextMenuCtrl.position.y"\n    ></graph-context-menu>\n  </div>\n</div>\n',t}(C.MetricsPanelCtrl),xt=function(e){function t(t,n,a,r){var i=e.call(this,t,n)||this;return i.backendSrv=a,i.dashboardSrv=r,i.panelDefaults={query:"",limit:10,tags:[],recent:!1,search:!1,starred:!0,headings:!0,folderId:null},j.a.defaults(i.panel,i.panelDefaults),i.panel.tag&&(i.panel.tags=[i.panel.tag],delete i.panel.tag),i.events.on(Y.PanelEvents.refresh,i.onRefresh.bind(i)),i.events.on(Y.PanelEvents.editModeInitialized,i.onInitEditMode.bind(i)),i.groups=[{list:[],show:!1,header:"Starred dashboards"},{list:[],show:!1,header:"Recently viewed dashboards"},{list:[],show:!1,header:"Search"}],i.panel.mode&&("starred"===i.panel.mode&&(i.panel.starred=!0,i.panel.headings=!1),"recently viewed"===i.panel.mode&&(i.panel.recent=!0,i.panel.starred=!1,i.panel.headings=!1),"search"===i.panel.mode&&(i.panel.search=!0,i.panel.starred=!1,i.panel.headings=!1),delete i.panel.mode),i}return t.$inject=["$scope","$injector","backendSrv","dashboardSrv"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.modes=["starred","search","recently viewed"],this.addEditorTab("Options","public/app/plugins/panel/dashlist/editor.html")},t.prototype.onRefresh=function(){var e=[];return e.push(this.getRecentDashboards()),e.push(this.getStarred()),e.push(this.getSearch()),Promise.all(e).then(this.renderingCompleted.bind(this))},t.prototype.getSearch=function(){var e=this;if(this.groups[2].show=this.panel.search,!this.panel.search)return Promise.resolve();var t={limit:this.panel.limit,query:this.panel.query,tag:this.panel.tags,folderIds:this.panel.folderId,type:"dash-db"};return this.backendSrv.search(t).then(function(t){e.groups[2].list=t})},t.prototype.getStarred=function(){var e=this;if(this.groups[0].show=this.panel.starred,!this.panel.starred)return Promise.resolve();var t={limit:this.panel.limit,starred:"true"};return this.backendSrv.search(t).then(function(t){e.groups[0].list=t})},t.prototype.starDashboard=function(e,t){this.dashboardSrv.starDashboard(e.id,e.isStarred).then(function(t){e.isStarred=t}),t&&(t.stopPropagation(),t.preventDefault())},t.prototype.getRecentDashboards=function(){var e=this;if(this.groups[1].show=this.panel.recent,!this.panel.recent)return Promise.resolve();var t=j.a.take(ee.a.getDashboardOpened(),this.panel.limit);return this.backendSrv.search({dashboardIds:t,limit:this.panel.limit}).then(function(n){e.groups[1].list=t.map(function(e){return j.a.find(n,function(t){return t.id===e})}).filter(function(e){return void 0!==e})})},t.prototype.onFolderChange=function(e){this.panel.folderId=e.id,this.refresh()},t.templateUrl="module.html",t.scrollable=!0,t}(C.PanelCtrl),Ot=function(e){function t(t,n,a,r){var i=e.call(this,t,n)||this;return i.backendSrv=a,i.panelDefaults={},j.a.defaults(i.panel,i.panelDefaults),i.isAdmin=r.hasRole("Admin"),i.events.on(Y.PanelEvents.editModeInitialized,i.onInitEditMode.bind(i)),i.pluginList=[],i.viewModel=[{header:"Installed Apps",list:[],type:"app"},{header:"Installed Panels",list:[],type:"panel"},{header:"Installed Datasources",list:[],type:"datasource"}],i.update(),i}return t.$inject=["$scope","$injector","backendSrv","contextSrv"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/app/plugins/panel/pluginlist/editor.html")},t.prototype.gotoPlugin=function(e,t){t&&t.stopPropagation(),this.$location.url("plugins/"+e.id+"/edit")},t.prototype.updateAvailable=function(e,t){t.stopPropagation(),t.preventDefault();var n=this.$scope.$new(!0);n.plugin=e,this.publishAppEvent(Te.CoreEvents.showModal,{src:"public/app/features/plugins/partials/update_instructions.html",scope:n})},t.prototype.update=function(){var e=this;this.backendSrv.get("api/plugins",{embedded:0,core:0}).then(function(t){var n,a;e.pluginList=t,e.viewModel[0].list=j.a.filter(t,{type:"app"}),e.viewModel[1].list=j.a.filter(t,{type:"panel"}),e.viewModel[2].list=j.a.filter(t,{type:"datasource"});try{for(var r=Object(_.__values)(e.pluginList),i=r.next();!i.done;i=r.next()){var o=i.value;o.hasUpdate?o.state="has-update":o.enabled||(o.state="not-enabled")}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}})},t.templateUrl="module.html",t.scrollable=!0,t}(n("AVRW").a),_t=n("3ulR"),kt=function(e){function t(t,n,a){var r=e.call(this,t,n)||this;for(var i in r.backendSrv=a,r.showOptions=[{text:"Current state",value:"current"},{text:"Recent state changes",value:"changes"}],r.sortOrderOptions=[{text:"Alphabetical (asc)",value:1},{text:"Alphabetical (desc)",value:2},{text:"Importance",value:3}],r.stateFilter={},r.currentAlerts=[],r.alertHistory=[],r.panelDefaults={show:"current",limit:10,stateFilter:[],onlyAlertsOnDashboard:!1,sortOrder:1,dashboardFilter:"",nameFilter:"",folderId:null},j.a.defaults(r.panel,r.panelDefaults),r.events.on(Y.PanelEvents.editModeInitialized,r.onInitEditMode.bind(r)),r.events.on(Y.PanelEvents.refresh,r.onRefresh.bind(r)),r.templateSrv=r.$injector.get("templateSrv"),r.panel.stateFilter)r.stateFilter[r.panel.stateFilter[i]]=!0;return r}return t.$inject=["$scope","$injector","backendSrv"],Object(_.__extends)(t,e),t.prototype.sortResult=function(e){if(3===this.panel.sortOrder)return j.a.sortBy(e,function(e){return _t.a.alertStateSortScore[e.state]});var t=j.a.sortBy(e,function(e){return e.name.toLowerCase()});return 2===this.panel.sortOrder&&t.reverse(),t},t.prototype.updateStateFilter=function(){var e=[];for(var t in this.stateFilter)this.stateFilter[t]&&e.push(t);this.panel.stateFilter=e,this.onRefresh()},t.prototype.onRefresh=function(){var e,t=this;"current"===this.panel.show&&(e=this.getCurrentAlertState()),"changes"===this.panel.show&&(e=this.getStateChanges()),e.then(function(){t.renderingCompleted()})},t.prototype.onFolderChange=function(e){this.panel.folderId=e.id,this.refresh()},t.prototype.getStateChanges=function(){var e=this,t={limit:this.panel.limit,type:"alert",newState:this.panel.stateFilter};return this.panel.onlyAlertsOnDashboard&&(t.dashboardId=this.dashboard.id),t.from=1e3*Y.dateMath.parse(this.dashboard.time.from).unix(),t.to=1e3*Y.dateMath.parse(this.dashboard.time.to).unix(),this.backendSrv.get("/api/annotations",t).then(function(t){return e.alertHistory=j.a.map(t,function(t){return t.time=e.dashboard.formatDate(t.time,"MMM D, YYYY HH:mm:ss"),t.stateModel=_t.a.getStateDisplayModel(t.newState),t.info=_t.a.getAlertAnnotationInfo(t),t}),e.noAlertsMessage=0===e.alertHistory.length?"No alerts in current time range":"",e.alertHistory})},t.prototype.getCurrentAlertState=function(){var e=this,t={state:this.panel.stateFilter};return this.panel.nameFilter&&(t.query=this.templateSrv.replace(this.panel.nameFilter,this.panel.scopedVars)),this.panel.folderId>=0&&(t.folderId=this.panel.folderId),this.panel.dashboardFilter&&(t.dashboardQuery=this.panel.dashboardFilter),this.panel.onlyAlertsOnDashboard&&(t.dashboardId=this.dashboard.id),this.panel.dashboardTags&&(t.dashboardTag=this.panel.dashboardTags),this.backendSrv.get("/api/alerts",t).then(function(t){return e.currentAlerts=e.sortResult(j.a.map(t,function(e){return e.stateModel=_t.a.getStateDisplayModel(e.state),e.newStateDateAgo=Object(Y.dateTime)(e.newStateDate).locale("en").fromNow(!0),e})),e.currentAlerts.length>e.panel.limit&&(e.currentAlerts=e.currentAlerts.slice(0,e.panel.limit)),e.noAlertsMessage=0===e.currentAlerts.length?"No alerts":"",e.currentAlerts})},t.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/app/plugins/panel/alertlist/editor.html")},t.templateUrl="module.html",t.scrollable=!0,t}(C.PanelCtrl),jt=n("lonE"),Ct=n("rCnR"),St=n("p+Sq"),Et=n("Xmxp"),Tt=n("3SGO"),Mt=n("iODs"),At=n("PAeb"),Nt=function(e){function t(t){var n=e.call(this,t)||this;return n.onAnnoClick=function(e,t){e.stopPropagation();var a=n.props.options,r=Object(St.a)().getCurrent(),i={from:n._timeOffset(t.time,a.navigateBefore,!0),to:n._timeOffset(t.time,a.navigateAfter,!1)};a.navigateToPanel&&(i.panelId=t.panelId,i.fullscreen=!0),r.id!==t.dashboardId?Object(X.b)().get("/api/search",{dashboardIds:t.dashboardId}).then(function(e){if(e&&e.length&&e[0].id===t.dashboardId){var n=e[0];Mt.b.dispatch(Object(Tt.c)({query:i,path:n.url}))}else Et.b.emit(Y.AppEvents.alertWarning,["Unknown Dashboard: "+t.dashboardId])}):Mt.b.dispatch(Object(Tt.c)({query:i,partial:!0}))},n.onTagClick=function(e,t,a){e.stopPropagation();var r=a?n.state.queryTags.filter(function(e){return e!==t}):Object(_.__spread)(n.state.queryTags,[t]);n.setState({queryTags:r})},n.onUserClick=function(e,t){e.stopPropagation(),n.setState({queryUser:{id:t.userId,login:t.login,email:t.email}})},n.onClearUser=function(){n.setState({queryUser:void 0})},n.renderTags=function(e,t){return e&&e.length?$.a.createElement($.a.Fragment,null,e.map(function(e){return $.a.createElement("span",{key:e,onClick:function(a){return n.onTagClick(a,e,t)},className:"pointer"},$.a.createElement(Ct.a,{label:e,removeIcon:t,count:0}))})):null},n.renderItem=function(e,t){var a=n.props.options,r=a.showUser,i=a.showTags,o=a.showTime,s=Object(St.a)().getCurrent();return $.a.createElement("div",{className:"dashlist-item"},$.a.createElement("span",{className:"dashlist-link pointer",onClick:function(t){n.onAnnoClick(t,e)}},$.a.createElement("span",{className:Object(At.cx)(["dashlist-title",Object(At.css)(gt||(gt=Object(_.__makeTemplateObject)(["\n                margin-right: 8px;\n              "],["\n                margin-right: 8px;\n              "])))])},e.text),$.a.createElement("span",{className:"pluginlist-message"},e.login&&r&&$.a.createElement("span",{className:"graph-annotation"},$.a.createElement(re.Tooltip,{content:$.a.createElement("span",null,"Created by:",$.a.createElement("br",null)," ",e.email),theme:"info",placement:"top"},$.a.createElement("span",{onClick:function(t){return n.onUserClick(t,e)},className:"graph-annotation__user"},$.a.createElement("img",{src:e.avatarUrl})))),i&&n.renderTags(e.tags,!1)),$.a.createElement("span",{className:"pluginlist-version"},o&&$.a.createElement("span",null,s.formatDate(e.time)))))},n.state={annotations:[],timeInfo:"",loaded:!1,queryTags:[]},n}return Object(_.__extends)(t,e),t.prototype.componentDidMount=function(){this.doSearch()},t.prototype.componentDidUpdate=function(e,t){var n=this.props,a=n.options,r=n.timeRange;(a!==e.options||this.state.queryTags!==t.queryTags||this.state.queryUser!==t.queryUser||r!==e.timeRange)&&this.doSearch()},t.prototype.doSearch=function(){return Object(_.__awaiter)(this,void 0,void 0,function(){var e,t,n,a,r,i,o,s;return Object(_.__generator)(this,function(l){switch(l.label){case 0:return e=this.props.options,t=this.state,n=t.queryUser,a=t.queryTags,r={tags:e.tags,limit:e.limit,type:"annotation"},e.onlyFromThisDashboard&&(r.dashboardId=Object(St.a)().getCurrent().id),i="",e.onlyInTimeRange?(o=this.props.timeRange,r.from=o.from.valueOf(),r.to=o.to.valueOf()):i="All Time",n&&(r.userId=n.id),e.tags&&e.tags.length&&(r.tags=e.tags),a.length&&(r.tags=r.tags?Object(_.__spread)(r.tags,a):a),[4,Object(X.b)().get("/api/annotations",r)];case 1:return s=l.sent(),this.setState({annotations:s,timeInfo:i,loaded:!0}),[2]}})})},t.prototype._timeOffset=function(e,t,n){void 0===n&&(n=!1);var a=5,r="m",i=/^(\d+)(\w)/.exec(t);return i&&3===i.length&&(a=parseInt(i[1],10),r=i[2]),n&&(a*=-1),Object(Y.dateTime)(e).add(a,r).valueOf()},t.prototype.render=function(){var e=this.props.height,t=this.state,n=t.loaded,a=t.annotations,r=t.queryUser,i=t.queryTags;if(!n)return $.a.createElement("div",null,"loading...");var o=r||i.length>0;return $.a.createElement("div",{style:{height:e,overflow:"scroll"}},o&&$.a.createElement("div",null,$.a.createElement("b",null,"Filter:   "),r&&$.a.createElement("span",{onClick:this.onClearUser,className:"pointer"},r.email),i.length>0&&this.renderTags(i,!0)),a.length<1&&$.a.createElement("div",{className:"panel-alert-list__no-alerts"},"No Annotations Found"),$.a.createElement(jt.a,{items:a,renderItem:this.renderItem,getItemKey:function(e){return e.id+""},className:"dashlist"}))},t}(V.PureComponent),Dt=function(e){function t(t){var n=e.call(this,t)||this;return n.onToggleShowUser=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{showUser:!n.props.options.showUser}))},n.onToggleShowTime=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{showTime:!n.props.options.showTime}))},n.onToggleShowTags=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{showTags:!n.props.options.showTags}))},n.onNavigateBeforeChange=function(e){n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{navigateBefore:e.target.value}))},n.onNavigateAfterChange=function(e){n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{navigateAfter:e.target.value}))},n.onToggleNavigateToPanel=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{navigateToPanel:!n.props.options.navigateToPanel}))},n.onLimitChange=function(e){var t=Object(Y.toIntegerOrUndefined)(e.target.value);n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{limit:t}))},n.onToggleOnlyFromThisDashboard=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{onlyFromThisDashboard:!n.props.options.onlyFromThisDashboard}))},n.onToggleOnlyInTimeRange=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{onlyInTimeRange:!n.props.options.onlyInTimeRange}))},n.onTagTextChange=function(e){n.setState({tag:e.target.value})},n.onTagClick=function(e,t){e.stopPropagation();var a=n.props.options.tags.filter(function(e){return e!==t});n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{tags:a}))},n.renderTags=function(e){return e&&e.length?$.a.createElement($.a.Fragment,null,e.map(function(e){return $.a.createElement("span",{key:e,onClick:function(t){return n.onTagClick(t,e)},className:"pointer"},$.a.createElement(Ct.a,{label:e,removeIcon:!0,count:0}))})):null},n.state={tag:""},n}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.options;return $.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Display"},$.a.createElement(re.Switch,{label:"Show User",labelClass:"width-8",checked:t.showUser,onChange:this.onToggleShowUser}),$.a.createElement(re.Switch,{label:"Show Time",labelClass:"width-8",checked:t.showTime,onChange:this.onToggleShowTime}),$.a.createElement(re.Switch,{label:"Show Tags",labelClass:"width-8",checked:t.showTags,onChange:this.onToggleShowTags})),$.a.createElement(re.PanelOptionsGroup,{title:"Navigate"},$.a.createElement(re.FormField,{label:"Before",labelWidth:8,onChange:this.onNavigateBeforeChange,value:t.navigateBefore}),$.a.createElement(re.FormField,{label:"After",labelWidth:8,onChange:this.onNavigateAfterChange,value:t.navigateAfter}),$.a.createElement(re.Switch,{label:"To Panel",labelClass:"width-8",checked:t.navigateToPanel,onChange:this.onToggleNavigateToPanel})),$.a.createElement(re.PanelOptionsGroup,{title:"Search"},$.a.createElement(re.Switch,{label:"Only This Dashboard",labelClass:"width-12",checked:t.onlyFromThisDashboard,onChange:this.onToggleOnlyFromThisDashboard}),$.a.createElement(re.Switch,{label:"Within Time Range",labelClass:"width-12",checked:t.onlyInTimeRange,onChange:this.onToggleOnlyInTimeRange}),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:6},"Tags"),this.renderTags(t.tags),$.a.createElement("input",{type:"text",className:"gf-form-input width-8",value:this.state.tag,onChange:this.onTagTextChange,onKeyPress:function(n){if(e.state.tag&&"Enter"===n.key){var a=Object(_.__spread)(t.tags,[e.state.tag]);e.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},e.props.options),{tags:a})),e.setState({tag:""}),n.preventDefault()}}})),$.a.createElement(re.FormField,{label:"Limit",labelWidth:6,onChange:this.onLimitChange,value:Object(Y.toNumberString)(t.limit),type:"number"})))},t}(V.PureComponent),It=new Y.PanelPlugin(Nt).setDefaults({limit:10,tags:[],onlyFromThisDashboard:!1,onlyInTimeRange:!1,showTags:!0,showUser:!0,showTime:!0,navigateBefore:"10m",navigateAfter:"10m",navigateToPanel:!0}).setEditor(Dt).setPanelChangeHandler(function(e,t,n){return"ryantxu-annolist-panel"===t?n:e}),Pt=n("VphZ"),Ft=n("oetV");function Lt(e,t,n,a){void 0===a&&(a=0);var r=Ft[e.value],i="always"===e.invert||e.invert===(t?"light":"dark"),o=i?n:a,s=i?a:n;return Pt.scaleSequential(r).domain([o,s])}function Rt(e,t,n){var a;return void 0===n&&(n=0),"linear"===e.colorScale?a=Pt.scaleLinear().domain([n,t]).range([0,1]):"sqrt"===e.colorScale&&(a=Pt.scalePow().exponent(e.exponent).domain([n,t]).range([0,1])),a}var Vt=0,$t=0,Bt=10,Ut=10;function qt(e,t,n,a,r,i,o){var s=D()(e).find("svg"),l=Pt.select(s.get(0));if(!(i<=0||0===s.get(0).childNodes.length)){var c=Pt.scaleLinear().domain([t,n]).range([0,i]),u=function(e,t,n,a){for(var r=t-e,i=Object(Z.tickStep)(e,t,3),o=Math.ceil(r/i),s=function(e,t){if(e<0)return Math.floor(e/t)*t;return 0}(e,i),l=[],c=0;c<o;c++){var u=s+i*c;Ht(a,u,i)?l.push(a):(a<u&&l.push(a),Ht(n,u,i)?l.push(n):(n<u&&l.push(n),l.push(u)))}Ht(n,t,i)||l.push(n);return l.push(t),l=j.a.sortBy(j.a.uniq(l))}(t,n,a,r),d=Pt.axisBottom(c).tickValues(u).tickSize(Vt),p=s.find(":first-child"),f=function(e){var t=e.get(0);return t&&t.height&&t.height.baseVal?t.height.baseVal.value:0}(s)+$t,h=function(e){var t=e.get(0);return t&&t.x&&t.x.baseVal?t.x.baseVal.value:0}(p)+Bt;Pt.select(s.get(0)).append("g").attr("class","axis").attr("transform","translate("+h+","+f+")").call(d),l.select(".axis").select(".domain").remove()}}function zt(e){D()(e).find("svg").empty()}function Ht(e,t,n){return Math.abs(e-t)<.3*n}ot.c.directive("colorLegend",function(){return{restrict:"E",template:'<div class="heatmap-color-legend"><svg width="16.5rem" height="24px"></svg></div>',link:function(e,t,n){var a=e.ctrl,r=e.ctrl.panel;function i(){var e=D()(t).find("svg"),n=Math.floor(e.outerWidth());if("spectrum"===r.color.mode){var i=Lt(j.a.find(a.colorSchemes,{value:r.color.colorScheme}),Q.b.user.lightTheme,n);!function(e,t){var n=D()(e).find("svg");zt(e);var a=Math.floor(n.outerWidth()),r=n.attr("height");if(a){var i=Math.floor(a/2),o=Math.floor(a/i),s=Pt.range(0,a,o),l=Pt.select(n.get(0)),c=l.selectAll(".heatmap-color-legend-rect").data(s);c.enter().append("rect").attr("x",function(e){return e}).attr("y",0).attr("width",o+1).attr("height",r).attr("stroke-width",0).attr("fill",function(e){return t(e)})}}(t,i)}else if("opacity"===r.color.mode){var o=r.color;!function(e,t){var n=D()(e).find("svg");zt(e);var a=Pt.select(n.get(0)),r=Math.floor(n.outerWidth()),i=n.attr("height");if(r){var o;"linear"===t.colorScale?o=Pt.scaleLinear().domain([0,r]).range([0,1]):"sqrt"===t.colorScale&&(o=Pt.scalePow().exponent(t.exponent).domain([0,r]).range([0,1]));var s=Pt.range(0,r,10),l=a.selectAll(".heatmap-opacity-legend-rect").data(s);l.enter().append("rect").attr("x",function(e){return e}).attr("y",0).attr("width",10).attr("height",i).attr("stroke-width",0).attr("fill",Object(Y.getColorFromHexRgbOrName)(t.cardColor,Q.b.user.lightTheme?Y.GrafanaThemeType.Light:Y.GrafanaThemeType.Dark)).style("opacity",function(e){return o(e)})}}(t,o)}}i(),a.events.on(Y.PanelEvents.render,function(){i()})}}}),ot.c.directive("heatmapLegend",function(){return{restrict:"E",template:'<div class="heatmap-color-legend"><svg width="100px" height="6px"></svg></div>',link:function(e,t,n){var a=e.ctrl,r=e.ctrl.panel;function i(){if(zt(t),!j.a.isEmpty(a.data)&&!j.a.isEmpty(a.data.cards)){var e=a.data.cardStats,n=j.a.isNil(r.color.min)?Math.min(e.min,0):r.color.min,i=j.a.isNil(r.color.max)?e.max:r.color.max,o=e.max,s=e.min;if("spectrum"===r.color.mode){var l=j.a.find(a.colorSchemes,{value:r.color.colorScheme});!function(e,t,n,a,r,i){var o=D()(e).find("svg"),s=Pt.select(o.get(0));zt(e);var l=Math.floor(o.outerWidth())-30,c=o.attr("height"),u=(a-n)/l*Ut,d=l/(a-n),p=Pt.range(n,a,u),f=Lt(t,Q.b.user.lightTheme,r,i);s.append("g").attr("class","legend-color-bar").attr("transform","translate("+Bt+",0)").selectAll(".heatmap-color-legend-rect").data(p).enter().append("rect").attr("x",function(e){return Math.round((e-n)*d)}).attr("y",0).attr("width",Math.round(u*d+1)).attr("height",c).attr("stroke-width",0).attr("fill",function(e){return f(e)}),qt(e,n,a,r,i,l,p)}(t,l,n,i,o,s)}else if("opacity"===r.color.mode){var c=r.color;!function(e,t,n,a,r,i){var o=D()(e).find("svg"),s=Pt.select(o.get(0));zt(e);var l=Math.floor(o.outerWidth())-30,c=o.attr("height"),u=(a-n)/l*Ut,d=l/(a-n),p=Pt.range(n,a,u),f=Rt(t,r,i);s.append("g").attr("class","legend-color-bar").attr("transform","translate("+Bt+",0)").selectAll(".heatmap-opacity-legend-rect").data(p).enter().append("rect").attr("x",function(e){return Math.round((e-n)*d)}).attr("y",0).attr("width",Math.round(u*d)).attr("height",c).attr("stroke-width",0).attr("fill",t.cardColor).style("opacity",function(e){return f(e)}),qt(e,n,a,r,i,l,p)}(t,c,n,i,o,s)}}}i(),a.events.on(Y.PanelEvents.render,function(){i()})}}});var Gt=function(){function e(e,t){e.editor=this,this.panelCtrl=e.ctrl,this.panel=this.panelCtrl.panel,this.unitFormats=S.a.getUnitFormats(),this.logScales={linear:1,"log (base 2)":2,"log (base 10)":10,"log (base 32)":32,"log (base 1024)":1024},this.dataFormats={"Time series":"timeseries","Time series buckets":"tsbuckets"},this.yBucketBoundModes={Auto:"auto",Upper:"upper",Lower:"lower",Middle:"middle"}}return e.$inject=["$scope","uiSegmentSrv"],e.prototype.setUnitFormat=function(e){this.panel.yAxis.format=e.value,this.panelCtrl.render()},e}();function Wt(){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/heatmap/partials/axes_editor.html",controller:Gt}}var Qt=function(){function e(e){e.editor=this,this.panelCtrl=e.ctrl,this.panel=this.panelCtrl.panel,this.panelCtrl.render()}return e.$inject=["$scope"],e}();function Yt(){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/heatmap/partials/display_editor.html",controller:Qt}}var Kt=0,Jt=1;function Zt(e,t){var n,a;try{n=Xt(e.label),a=Xt(t.label)}catch(e){return console.log(e.message||e),0}return n>a?1:n<a?-1:0}function Xt(e){if("+Inf"===e||"inf"===e)return 1/0;var t=Number(e);if(isNaN(t))throw new Error("Error parsing histogram label: "+e+" is not a number");return t}function en(e,t){void 0===t&&(t=!1);var n=0,a=0,r=[];return j.a.forEach(e,function(e){j.a.forEach(e.buckets,function(i){var o={x:e.x,y:i.y,yBounds:i.bounds,values:i.values,count:i.count};t&&0===o.count||r.push(o),1===r.length&&(n=i.count,a=i.count),n=i.count<n?i.count:n,a=i.count>a?i.count:a})}),{cards:r,cardStats:{min:n,max:a}}}function tn(e,t,n,a){var r,i;void 0===a&&(a=1);var o={},s=function(e){var t=e.datapoints,a=e.label;j.a.forEach(t,function(e){var t=on(e[Jt],n);!function(e,t,n,a){var r=t[Kt];if(null==r||isNaN(r))return;var i=j.a.concat(t,a);e[n]&&e[n].values?(e[n].values.push(r),e[n].points.push(i)):e[n]={x:n,values:[r],points:[i]}}(o,e,t,a)})};try{for(var l=Object(_.__values)(e),c=l.next();!c.done;c=l.next()){s(c.value)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return j.a.forEach(o,function(e){e.buckets=1!==a?function(e,t,n){var a=e.values,r=e.points,i={};return j.a.forEach(a,function(e,a){var o=sn(e,t,n),s=o.bottom;nn(i,s,e,r[a],o)}),i}(e,t,a):function(e,t){var n=e.values,a=e.points,r={};return j.a.forEach(n,function(e,n){var i=rn(e,t),o=i.bottom;nn(r,o,e,a[n],i)}),r}(e,t)}),o}function nn(e,t,n,a,r){var i=1;a.length>3&&(i=parseInt(a[2],10)),e[t]?(e[t].values.push(n),e[t].points.push(a),e[t].count+=i):e[t]={y:t,bounds:r,values:[n],points:[a],count:i}}function an(e,t,n){return 1===n?on(e,t):function(e,t,n){return sn(e,t,n).bottom}(e,t,n)}function rn(e,t){return{bottom:Math.floor(e/t)*t,top:(Math.floor(e/t)+1)*t}}function on(e,t){return rn(e,t).bottom}function sn(e,t,n){if(0===e)return{bottom:0,top:0};var a,r,i=ln(e,n);if(1!==t&&t){var o=1/t,s=i-Math.floor(i);s=Math.floor(s/o)*o,r=(a=Math.floor(i)+s)+o}else r=(a=Math.floor(i))+1;return{bottom:Math.pow(n,a),top:Math.pow(n,r)}}function ln(e,t){return Math.log(e)/Math.log(t)}function cn(e,t,n){return void 0===n&&(n=1),1===n?Math.abs(t-e):ln(Math.max(e,t)/Math.min(e,t),n)}var un=function(){function e(e,t){this.scope=t,this.dashboard=t.ctrl.dashboard,this.panelCtrl=t.ctrl,this.panel=t.ctrl.panel,this.heatmapPanel=e,this.mouseOverBucket=!1,this.originalFillColor=null,e.on("mouseleave",this.onMouseLeave.bind(this))}return e.prototype.onMouseLeave=function(){this.destroy()},e.prototype.onMouseMove=function(e){this.panel.tooltip.show&&this.move(e)},e.prototype.add=function(){this.tooltip=Pt.select("body").append("div").attr("class","heatmap-tooltip graph-tooltip grafana-tooltip")},e.prototype.destroy=function(){this.tooltip&&this.tooltip.remove(),this.tooltip=null},e.prototype.show=function(e,t){if(this.panel.tooltip.show&&t&&!e.panelRelY){var n=this.getBucketIndexes(e,t),a=n.xBucketIndex,r=n.yBucketIndex;if(t.buckets[a]){var i,o;this.tooltip||this.add();var s,l,c=t.buckets[a],u=j.a.find(c.buckets,function(e,t){return e.bounds.bottom===r||t===r.toString()}),d=this.dashboard.formatDate(c.x,"YYYY-MM-DD HH:mm:ss");if(j.a.isNumber(this.panel.tooltipDecimals))s=this.countValueFormatter(this.panel.tooltipDecimals,null),l=this.panelCtrl.tickValueFormatter(this.panelCtrl.decimals,null);else{var p=(this.panelCtrl.decimals||-1)+1;s=this.countValueFormatter(p,this.panelCtrl.scaledDecimals+2),l=this.panelCtrl.tickValueFormatter(p,this.panelCtrl.scaledDecimals+2)}var f='<div class="graph-tooltip-time">'+d+'</div>\n      <div class="heatmap-histogram"></div>';if(u)if(u.bounds){if(t.tsBuckets){var h=function(e){return t.tsBucketsFormatted?t.tsBucketsFormatted[e]:t.tsBuckets[e]};i=h(r),"middle"!==this.panel.yBucketBound&&(o=r<t.tsBuckets.length-1?h(r+1):"")}else{i=l(u.y?u.bounds.bottom:0),o=l(u.bounds.top)}f+="<div>\n          bucket: <b>"+(o&&i?i+" - "+o:i||o)+"</b> <br>\n          count: <b>"+s(u.count)+"</b> <br>\n        </div>"}else f+="<div>count: <b>"+u.count+"</b><br></div>";else{if(!this.panel.tooltip.showHistogram)return void this.destroy();i=r,o="",0}this.tooltip.html(f),this.panel.tooltip.showHistogram&&this.addHistogram(c),this.move(e)}else this.destroy()}},e.prototype.getBucketIndexes=function(e,t){return{xBucketIndex:this.getXBucketIndex(e.x,t),yBucketIndex:this.getYBucketIndex(e.y,t)}},e.prototype.getXBucketIndex=function(e,t){var n=j.a.find(t.buckets,function(n){return e>n.x&&e-n.x<=t.xBucketSize});return n?n.x:an(e,t.xBucketSize,1)},e.prototype.getYBucketIndex=function(e,t){return t.tsBuckets?Math.floor(e):an(e,t.yBucketSize,this.panel.yAxis.logBase)},e.prototype.getSharedTooltipPos=function(e){return e.pageX=this.heatmapPanel.offset().left+this.scope.xScale(e.x),e.pageY=this.heatmapPanel.offset().top+this.scope.chartHeight*e.panelRelY,e},e.prototype.addHistogram=function(e){var t,n,a,r=this.scope.ctrl.data.buckets[e.x],i=this.scope.ctrl.data.yBucketSize;this.scope.ctrl.data.tsBuckets?(t=0,n=this.scope.ctrl.data.tsBuckets.length-1,a=this.scope.ctrl.data.tsBuckets.length):(t=this.scope.ctrl.data.yAxis.min,n=this.scope.ctrl.data.yAxis.max,a=this.scope.ctrl.data.yAxis.ticks);var o=j.a.map(r.buckets,function(e){var t=void 0!==e.count?e.count:e.values.length;return[e.bounds.bottom,t]});o=j.a.filter(o,function(e){return e[0]>=t&&e[0]<=n});var s,l=this.scope.yScale.copy().domain([t,n]).range([0,160]);if(1===this.panel.yAxis.logBase)s=Math.floor(160/(n-t)*i*.9);else{var c=i||1;s=Math.floor(160/a/c*.9)}s=Math.max(s,1);var u=j.a.reduce(j.a.map(o,function(e){return e[1]}),function(e,t){return e+t},0),d=Pt.scaleLinear().domain([0,u]).range([0,40]);this.tooltip.select(".heatmap-histogram").append("svg").attr("width",160).attr("height",40).selectAll(".bar").data(o).enter().append("rect").attr("x",function(e){return l(e[0])}).attr("width",s).attr("y",function(e){return 40-d(e[1])}).attr("height",function(e){return d(e[1])})},e.prototype.move=function(e){if(this.tooltip){var t=D()(this.tooltip.node())[0],n=t.clientWidth,a=t.clientHeight,r=e.pageX+30,i=e.pageY+5;return e.pageX+n+40>window.innerWidth&&(r=e.pageX-n-30),e.pageY-window.pageYOffset+a+20>window.innerHeight&&(i=e.pageY-a-5),this.tooltip.style("left",r+"px").style("top",i+"px")}},e.prototype.countValueFormatter=function(e,t){void 0===t&&(t=null);var n=Object(Y.getValueFormat)("short");return function(a){return Object(Y.formattedValueToString)(n(a,e,t))}},e}(),dn=1.2;var pn=function(){function e(e,t,n,a){this.scope=e,this.elem=t,this.ctrl=a,this.$heatmap=this.elem.find(".heatmap-panel"),this.tooltip=new un(this.$heatmap,this.scope),this.selection={active:!1,x1:-1,x2:-1},this.padding={left:0,right:0,top:0,bottom:0},this.margin={left:25,right:15,top:10,bottom:20},this.dataRangeWidingFactor=dn,this.ctrl.events.on(Y.PanelEvents.render,this.onRender.bind(this)),this.ctrl.tickValueFormatter=this.tickValueFormatter.bind(this),Q.a.on(Te.CoreEvents.graphHover,this.onGraphHover.bind(this),this.scope),Q.a.on(Te.CoreEvents.graphHoverClear,this.onGraphHoverClear.bind(this),this.scope),this.$heatmap.on("mousedown",this.onMouseDown.bind(this)),this.$heatmap.on("mousemove",this.onMouseMove.bind(this)),this.$heatmap.on("mouseleave",this.onMouseLeave.bind(this))}return e.prototype.onGraphHoverClear=function(){this.clearCrosshair()},e.prototype.onGraphHover=function(e){this.drawSharedCrosshair(e.pos)},e.prototype.onRender=function(){this.render(),this.ctrl.renderingCompleted()},e.prototype.setElementHeight=function(){try{var e=this.ctrl.height||this.panel.height||this.ctrl.row.height;return j.a.isString(e)&&(e=parseInt(e.replace("px",""),10)),e-=this.panel.legend.show?28:11,this.$heatmap.css("height",e+"px"),!0}catch(e){return!1}},e.prototype.getYAxisWidth=function(e){var t=e.selectAll(".axis-y text").nodes();return j.a.max(j.a.map(t,function(e){return e.getBBox().width}))},e.prototype.getXAxisHeight=function(e){if(e.select(".axis-x line").empty())return 30;var t=parseFloat(e.select(".axis-x line").attr("y2"));return parseFloat(e.attr("height"))-t},e.prototype.addXAxis=function(){this.scope.xScale=this.xScale=Pt.scaleTime().domain([this.timeRange.from,this.timeRange.to]).range([0,this.chartWidth]);var e,t=this.chartWidth/100,n=Z.grafanaTimeFormat(t,this.timeRange.from,this.timeRange.to);e="utc"===this.ctrl.dashboard.getTimezone()?Pt.utcFormat(n):Pt.timeFormat(n);var a=Pt.axisBottom(this.xScale).ticks(t).tickFormat(e).tickPadding(10).tickSize(this.chartHeight),r=this.margin.top,i=this.yAxisWidth;this.heatmap.append("g").attr("class","axis axis-x").attr("transform","translate("+i+","+r+")").call(a),this.heatmap.select(".axis-x").select(".domain").remove()},e.prototype.addYAxis=function(){var e=Math.ceil(this.chartHeight/50),t=Z.tickStep(this.data.heatmapStats.min,this.data.heatmapStats.max,e),n=this.wideYAxisRange(this.data.heatmapStats.min,this.data.heatmapStats.max,t),a=n.yMin,r=n.yMax;a=null!==this.panel.yAxis.min?this.panel.yAxis.min:a,r=null!==this.panel.yAxis.max?this.panel.yAxis.max:r,t=Z.tickStep(a,r,e),e=Math.ceil((r-a)/t);var i=Z.getPrecision(t),o=null===this.panel.yAxis.decimals?i:this.panel.yAxis.decimals,s=Z.getFlotTickSize(a,r,e,i),l=Z.getScaledDecimals(o,s);this.ctrl.decimals=o,this.ctrl.scaledDecimals=l,j.a.isEmpty(this.data.buckets)&&(r=1,a=-1,e=3,o=1),this.data.yAxis={min:a,max:r,ticks:e},this.scope.yScale=this.yScale=Pt.scaleLinear().domain([a,r]).range([this.chartHeight,0]);var c=Pt.axisLeft(this.yScale).ticks(e).tickFormat(this.tickValueFormatter(o,l)).tickSizeInner(0-this.width).tickSizeOuter(0).tickPadding(5);this.heatmap.append("g").attr("class","axis axis-y").call(c);var u=this.margin.top,d=this.getYAxisWidth(this.heatmap)+5;this.heatmap.select(".axis-y").attr("transform","translate("+d+","+u+")"),this.heatmap.select(".axis-y").select(".domain").remove()},e.prototype.wideYAxisRange=function(e,t,n){var a,r,i=(t*(this.dataRangeWidingFactor-1)-e*(this.dataRangeWidingFactor-1))/2;return 0===n?(r=t*this.dataRangeWidingFactor,a=e-e*(this.dataRangeWidingFactor-1)):(r=Math.ceil((t+i)/n)*n,a=Math.floor((e-i)/n)*n),e>=0&&a<0&&(a=0),{yMin:a,yMax:r}},e.prototype.addLogYAxis=function(){var e=this.panel.yAxis.logBase,t=this.adjustLogRange(this.data.heatmapStats.minLog,this.data.heatmapStats.max,e),n=t.yMin,a=t.yMax;n=this.panel.yAxis.min&&"0"!==this.panel.yAxis.min?this.adjustLogMin(this.panel.yAxis.min,e):n,a=null!==this.panel.yAxis.max?this.adjustLogMax(this.panel.yAxis.max,e):a,j.a.isEmpty(this.data.buckets)&&(a=Math.pow(e,2),n=1),this.scope.yScale=this.yScale=Pt.scaleLog().base(this.panel.yAxis.logBase).domain([n,a]).range([this.chartHeight,0]);var r=this.yScale.domain(),i=this.logScaleTickValues(r,e),o=Z.getPrecision(n),s=this.panel.yAxis.decimals||o,l=Z.getFlotTickSize(n,a,i.length,o),c=Z.getScaledDecimals(s,l);this.ctrl.decimals=s,this.ctrl.scaledDecimals=c,this.data.yAxis={min:n,max:a,ticks:i.length};var u=Pt.axisLeft(this.yScale).tickValues(i).tickFormat(this.tickValueFormatter(s,c)).tickSizeInner(0-this.width).tickSizeOuter(0).tickPadding(5);this.heatmap.append("g").attr("class","axis axis-y").call(u);var d=this.margin.top,p=this.getYAxisWidth(this.heatmap)+5;this.heatmap.select(".axis-y").attr("transform","translate("+p+","+d+")"),n<1&&this.heatmap.select(".axis-y").select(".tick text").text("0"),this.heatmap.select(".axis-y").select(".domain").remove()},e.prototype.addYAxisFromBuckets=function(){var e=this.data.tsBuckets;this.scope.yScale=this.yScale=Pt.scaleLinear().domain([0,e.length-1]).range([this.chartHeight,0]);var t=j.a.map(e,function(e,t){return t}),n=j.a.max(j.a.map(e,Z.getStringPrecision)),a=null===this.panel.yAxis.decimals?n:this.panel.yAxis.decimals;this.ctrl.decimals=a;var r=this.tickValueFormatter.bind(this);function i(t){var n=e[t];return j.a.isNaN(j.a.toNumber(n))||""===n||(n=r(a)(j.a.toNumber(n))),n}var o=j.a.map(e,function(e,t){return i(t)});this.data.tsBucketsFormatted=o;var s=Pt.axisLeft(this.yScale).tickValues(t).tickFormat(i).tickSizeInner(0-this.width).tickSizeOuter(0).tickPadding(5);this.heatmap.append("g").attr("class","axis axis-y").call(s);var l=this.margin.top,c=this.getYAxisWidth(this.heatmap)+5;if(this.heatmap.select(".axis-y").attr("transform","translate("+c+","+l+")"),"middle"===this.panel.yBucketBound&&t&&t.length){var u=0-this.chartHeight/(t.length-1)/2;this.heatmap.selectAll(".axis-y text").attr("transform","translate(0,"+u+")")}this.heatmap.select(".axis-y").select(".domain").remove()},e.prototype.adjustLogRange=function(e,t,n){this.data.heatmapStats.minLog;return{yMin:this.data.heatmapStats.minLog>1||!this.data.heatmapStats.minLog?1:this.adjustLogMin(this.data.heatmapStats.minLog,n),yMax:this.adjustLogMax(this.data.heatmapStats.max,n)}},e.prototype.adjustLogMax=function(e,t){return Math.pow(t,Math.ceil(Z.logp(e,t)))},e.prototype.adjustLogMin=function(e,t){return Math.pow(t,Math.floor(Z.logp(e,t)))},e.prototype.logScaleTickValues=function(e,t){var n=e[0],a=e[1],r=[];if(n<1)for(var i=Math.floor(Z.logp(n,t));i<0;i++){var o=Math.pow(t,i);r.push(o)}var s=Math.ceil(Z.logp(a,t));for(i=0;i<=s;i++){o=Math.pow(t,i);r.push(o)}return r},e.prototype.tickValueFormatter=function(e,t){void 0===t&&(t=null);var n=this.panel.yAxis.format;return function(a){try{if("none"!==n){var r=Object(Y.getValueFormat)(n)(a,e,t);return Object(Y.formattedValueToString)(r)}}catch(e){console.error(e.message||e)}return a}},e.prototype.fixYAxisTickSize=function(){this.heatmap.select(".axis-y").selectAll(".tick line").attr("x2",this.chartWidth)},e.prototype.addAxes=function(){this.chartHeight=this.height-this.margin.top-this.margin.bottom,this.chartTop=this.margin.top,this.chartBottom=this.chartTop+this.chartHeight,"tsbuckets"===this.panel.dataFormat?this.addYAxisFromBuckets():1===this.panel.yAxis.logBase?this.addYAxis():this.addLogYAxis(),this.yAxisWidth=this.getYAxisWidth(this.heatmap)+5,this.chartWidth=this.width-this.yAxisWidth-this.margin.right,this.fixYAxisTickSize(),this.addXAxis(),this.xAxisHeight=this.getXAxisHeight(this.heatmap),this.panel.yAxis.show||this.heatmap.select(".axis-y").selectAll("line").style("opacity",0),this.panel.xAxis.show||this.heatmap.select(".axis-x").selectAll("line").style("opacity",0)},e.prototype.addHeatmapCanvas=function(){var e=this.$heatmap[0];this.width=Math.floor(this.$heatmap.width())-this.padding.right,this.height=Math.floor(this.$heatmap.height())-this.padding.bottom,this.cardPadding=null!==this.panel.cards.cardPadding?this.panel.cards.cardPadding:1,this.cardRound=null!==this.panel.cards.cardRound?this.panel.cards.cardRound:0,this.heatmap&&this.heatmap.remove(),this.heatmap=Pt.select(e).append("svg").attr("width",this.width).attr("height",this.height)},e.prototype.addHeatmap=function(){var e=this;if(this.addHeatmapCanvas(),this.addAxes(),1!==this.panel.yAxis.logBase&&"tsbuckets"!==this.panel.dataFormat){var t=this.panel.yAxis.logBase,n=this.yScale.domain(),a=this.logScaleTickValues(n,t);this.data.buckets=function(e,t){return j.a.forEach(e,function(e){var n=e.buckets,a={bounds:{bottom:0,top:0},values:[],points:[],count:0},r=n[0]||a,i=n[t]||a,o={y:0,bounds:{bottom:t,top:i.bounds.top||t},values:[],points:[],count:0};o.points=r.points.concat(i.points),o.values=r.values.concat(i.values),o.count=o.values.length,0!==o.count&&(delete n[t],n[0]=o)}),e}(this.data.buckets,j.a.min(a))}var r=this.data.cards,i=this.data.cardStats,o=i.max,s=Math.min(i.min,0),l=j.a.isNil(this.panel.color.max)?o:this.panel.color.max,c=j.a.isNil(this.panel.color.min)?s:this.panel.color.min,u=j.a.find(this.ctrl.colorSchemes,{value:this.panel.color.colorScheme});this.colorScale=Lt(u,Q.b.user.lightTheme,l,c),this.opacityScale=Rt(this.panel.color,l,c),this.setCardSize();var d=this.heatmap.selectAll(".heatmap-card").data(r);d.append("title"),d=d.enter().append("rect").attr("x",this.getCardX.bind(this)).attr("width",this.getCardWidth.bind(this)).attr("y",this.getCardY.bind(this)).attr("height",this.getCardHeight.bind(this)).attr("rx",this.cardRound).attr("ry",this.cardRound).attr("class","bordered heatmap-card").style("fill",this.getCardColor.bind(this)).style("stroke",this.getCardColor.bind(this)).style("stroke-width",0).style("opacity",this.getCardOpacity.bind(this)),this.$heatmap.find(".heatmap-card").on("mouseenter",function(t){e.tooltip.mouseOverBucket=!0,e.highlightCard(t)}).on("mouseleave",function(t){e.tooltip.mouseOverBucket=!1,e.resetCardHighLight(t)})},e.prototype.highlightCard=function(e){var t=Pt.select(e.target).style("fill"),n=Pt.color(t).darker(2),a=Pt.color(t).brighter(4),r=Pt.select(e.target);this.tooltip.originalFillColor=t,r.style("fill",n.toString()).style("stroke",a.toString()).style("stroke-width",1)},e.prototype.resetCardHighLight=function(e){Pt.select(e.target).style("fill",this.tooltip.originalFillColor).style("stroke",this.tooltip.originalFillColor).style("stroke-width",0)},e.prototype.setCardSize=function(){var e=Math.floor(this.xScale(this.data.xBucketSize)-this.xScale(0)),t=Math.floor(this.yScale(this.yScale.invert(0)-this.data.yBucketSize));if(1!==this.panel.yAxis.logBase){var n=this.panel.yAxis.logBase,a=this.data.yBucketSize||1;t=Math.floor((this.yScale(1)-this.yScale(n))/a)}var r=e-2*this.cardPadding;this.cardWidth=Math.max(r,1),this.cardHeight=t?t-2*this.cardPadding:0},e.prototype.getCardX=function(e){return this.xScale(e.x)<0?this.yAxisWidth+this.cardPadding:this.xScale(e.x)+this.yAxisWidth+this.cardPadding},e.prototype.getCardWidth=function(e){var t=this.cardWidth;return this.xScale(e.x)<0?t=this.xScale(e.x)+this.cardWidth:this.xScale(e.x)+this.cardWidth>this.chartWidth&&(t=this.chartWidth-this.xScale(e.x)-this.cardPadding),t=t>0?Math.max(t,1):0},e.prototype.getCardY=function(e){var t=this.yScale(e.y)+this.chartTop-this.cardHeight-this.cardPadding;return 1!==this.panel.yAxis.logBase&&0===e.y?t=this.chartBottom-this.cardHeight-this.cardPadding:t<this.chartTop&&(t=this.chartTop),t},e.prototype.getCardHeight=function(e){var t=this.yScale(e.y)+this.chartTop-this.cardHeight-this.cardPadding,n=this.cardHeight;return 1!==this.panel.yAxis.logBase&&0===e.y?this.cardHeight:(t<this.chartTop?n=this.yScale(e.y)-this.cardPadding:this.yScale(e.y)>this.chartBottom?n=this.chartBottom-t:t+this.cardHeight>this.chartBottom&&(n=this.chartBottom-t),n=Math.min(n,this.chartHeight),n=Math.max(n,1))},e.prototype.getCardColor=function(e){return"opacity"===this.panel.color.mode?Object(Y.getColorFromHexRgbOrName)(this.panel.color.cardColor,Q.b.user.lightTheme?Y.GrafanaThemeType.Light:Y.GrafanaThemeType.Dark):this.colorScale(e.count)},e.prototype.getCardOpacity=function(e){return"opacity"===this.panel.color.mode?this.opacityScale(e.count):1},e.prototype.getEventOffset=function(e){var t=this.$heatmap.offset();return{x:Math.floor(e.clientX-t.left),y:Math.floor(e.clientY-t.top)}},e.prototype.onMouseDown=function(e){var t=this,n=this.getEventOffset(e);this.selection.active=!0,this.selection.x1=n.x,this.mouseUpHandler=function(){t.onMouseUp()},D()(document).one("mouseup",this.mouseUpHandler.bind(this))},e.prototype.onMouseUp=function(){D()(document).unbind("mouseup",this.mouseUpHandler.bind(this)),this.mouseUpHandler=null,this.selection.active=!1;var e=Math.abs(this.selection.x2-this.selection.x1);if(this.selection.x2>=0&&e>2){var t=this.xScale.invert(Math.min(this.selection.x1,this.selection.x2)-this.yAxisWidth),n=this.xScale.invert(Math.max(this.selection.x1,this.selection.x2)-this.yAxisWidth);this.ctrl.timeSrv.setTime({from:Object(Y.toUtc)(t),to:Object(Y.toUtc)(n)})}this.clearSelection()},e.prototype.onMouseLeave=function(){Q.a.emit(Te.CoreEvents.graphHoverClear),this.clearCrosshair()},e.prototype.onMouseMove=function(e){if(this.heatmap){var t=this.getEventOffset(e);if(this.selection.active)this.clearCrosshair(),this.tooltip.destroy(),this.selection.x2=this.limitSelection(t.x),this.drawSelection(this.selection.x1,this.selection.x2);else{var n=this.getEventPos(e,t);this.drawCrosshair(t.x),this.tooltip.show(n,this.data),this.emitGraphHoverEvent(n)}}},e.prototype.getEventPos=function(e,t){var n=this.xScale.invert(t.x-this.yAxisWidth).valueOf(),a=this.yScale.invert(t.y-this.chartTop);return{pageX:e.pageX,pageY:e.pageY,x:n,x1:n,y:a,y1:a,panelRelY:null,offset:t}},e.prototype.emitGraphHoverEvent=function(e){e.panelRelY=Math.max(e.offset.y/this.height,.001),Q.a.emit(Te.CoreEvents.graphHover,{pos:e,panel:this.panel})},e.prototype.limitSelection=function(e){return e=Math.max(e,this.yAxisWidth),e=Math.min(e,this.chartWidth+this.yAxisWidth)},e.prototype.drawSelection=function(e,t){if(this.heatmap){this.heatmap.selectAll(".heatmap-selection").remove();var n=Math.min(e,t),a=Math.abs(e-t);a>2&&this.heatmap.append("rect").attr("class","heatmap-selection").attr("x",n).attr("width",a).attr("y",this.chartTop).attr("height",this.chartHeight)}},e.prototype.clearSelection=function(){this.selection.x1=-1,this.selection.x2=-1,this.heatmap&&this.heatmap.selectAll(".heatmap-selection").remove()},e.prototype.drawCrosshair=function(e){if(this.heatmap){this.heatmap.selectAll(".heatmap-crosshair").remove();var t=e;t=Math.max(t,this.yAxisWidth),t=Math.min(t,this.chartWidth+this.yAxisWidth),this.heatmap.append("g").attr("class","heatmap-crosshair").attr("transform","translate("+t+",0)").append("line").attr("x1",1).attr("y1",this.chartTop).attr("x2",1).attr("y2",this.chartBottom).attr("stroke-width",1)}},e.prototype.drawSharedCrosshair=function(e){if(this.heatmap&&0!==this.ctrl.dashboard.graphTooltip){var t=this.xScale(e.x)+this.yAxisWidth;this.drawCrosshair(t)}},e.prototype.clearCrosshair=function(){this.heatmap&&this.heatmap.selectAll(".heatmap-crosshair").remove()},e.prototype.render=function(){if(this.data=this.ctrl.data,this.panel=this.ctrl.panel,this.timeRange=this.ctrl.range,this.setElementHeight()&&this.data){if(j.a.isEmpty(this.data.buckets))return this.addHeatmapCanvas(),void this.addAxes();this.addHeatmap(),this.scope.yAxisWidth=this.yAxisWidth,this.scope.xAxisHeight=this.xAxisHeight,this.scope.chartHeight=this.chartHeight,this.scope.chartWidth=this.chartWidth,this.scope.chartTop=this.chartTop}},e}(),fn={heatmap:{},cards:{cardPadding:null,cardRound:null},color:{mode:"spectrum",cardColor:"#b4ff00",colorScale:"sqrt",exponent:.5,colorScheme:"interpolateOranges"},legend:{show:!1},dataFormat:"timeseries",yBucketBound:"auto",reverseYBuckets:!1,xAxis:{show:!0},yAxis:{show:!0,format:"short",decimals:null,logBase:1,splitFactor:null,min:null,max:null},xBucketSize:null,xBucketNumber:null,yBucketSize:null,yBucketNumber:null,tooltip:{show:!0,showHistogram:!1},highlightCards:!0,hideZeroBuckets:!1},hn=["opacity","spectrum"],mn=["linear","sqrt"],gn=[{name:"Spectral",value:"interpolateSpectral",invert:"always"},{name:"RdYlGn",value:"interpolateRdYlGn",invert:"always"},{name:"Blues",value:"interpolateBlues",invert:"dark"},{name:"Greens",value:"interpolateGreens",invert:"dark"},{name:"Greys",value:"interpolateGreys",invert:"dark"},{name:"Oranges",value:"interpolateOranges",invert:"dark"},{name:"Purples",value:"interpolatePurples",invert:"dark"},{name:"Reds",value:"interpolateReds",invert:"dark"},{name:"Turbo",value:"interpolateTurbo",invert:"light"},{name:"Cividis",value:"interpolateCividis",invert:"light"},{name:"Viridis",value:"interpolateViridis",invert:"light"},{name:"Magma",value:"interpolateMagma",invert:"light"},{name:"Inferno",value:"interpolateInferno",invert:"light"},{name:"Plasma",value:"interpolatePlasma",invert:"light"},{name:"Warm",value:"interpolateWarm",invert:"light"},{name:"Cool",value:"interpolateCool",invert:"light"},{name:"Cubehelix",value:"interpolateCubehelixDefault",invert:"light"},{name:"BuGn",value:"interpolateBuGn",invert:"dark"},{name:"BuPu",value:"interpolateBuPu",invert:"dark"},{name:"GnBu",value:"interpolateGnBu",invert:"dark"},{name:"OrRd",value:"interpolateOrRd",invert:"dark"},{name:"PuBuGn",value:"interpolatePuBuGn",invert:"dark"},{name:"PuBu",value:"interpolatePuBu",invert:"dark"},{name:"PuRd",value:"interpolatePuRd",invert:"dark"},{name:"RdPu",value:"interpolateRdPu",invert:"dark"},{name:"YlGnBu",value:"interpolateYlGnBu",invert:"dark"},{name:"YlGn",value:"interpolateYlGn",invert:"dark"},{name:"YlOrBr",value:"interpolateYlOrBr",invert:"dark"},{name:"YlOrRd",value:"interpolateYlOrRd",invert:"dark"}],bn=["elasticsearch"],vn=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.opacityScales=[],a.colorModes=[],a.colorSchemes=[],a.selectionActivated=!1,j.a.defaultsDeep(a.panel,fn),a.opacityScales=mn,a.colorModes=hn,a.colorSchemes=gn,a.useDataFrames=!0,a.processor=new pt({xaxis:{mode:"custom"},aliasColors:{}}),a.events.on(Y.PanelEvents.render,a.onRender.bind(a)),a.events.on(Te.CoreEvents.dataFramesReceived,a.onDataFramesReceived.bind(a)),a.events.on(Y.PanelEvents.dataSnapshotLoad,a.onSnapshotLoad.bind(a)),a.events.on(Y.PanelEvents.editModeInitialized,a.onInitEditMode.bind(a)),a.onCardColorChange=a.onCardColorChange.bind(a),a}return t.$inject=["$scope","$injector"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.addEditorTab("Axes",Wt,2),this.addEditorTab("Display",Yt,3),this.unitFormats=S.a.getUnitFormats()},t.prototype.zoomOut=function(e){this.publishAppEvent(Te.CoreEvents.zoomOut,2)},t.prototype.onRender=function(){this.range&&this.series&&("tsbuckets"===this.panel.dataFormat?this.convertHistogramToHeatmapData():this.convertTimeSeriesToHeatmapData())},t.prototype.convertTimeSeriesToHeatmapData=function(){var e,t,n,a,r=this.panel.yAxis.logBase,i=this.panel.xBucketNumber||30,o=Math.floor((this.range.to.valueOf()-this.range.from.valueOf())/i);e=S.a.interval_regex.test(this.panel.xBucketSize)?S.a.interval_to_ms(this.panel.xBucketSize):isNaN(Number(this.panel.xBucketSize))||""===this.panel.xBucketSize||null===this.panel.xBucketSize?o:Number(this.panel.xBucketSize),a=this.parseSeries(this.series);var s=this.panel.yBucketNumber||10;1!==r?t=this.panel.yAxis.splitFactor:(t=a.max===a.min?a.max?a.max/10:1:(a.max-a.min)/s,t=this.panel.yBucketSize||t),n=tn(this.series,t,e,r),a.min||a.max||(a={min:-1,max:1,minLog:1},t=1);var l=en(n,this.panel.hideZeroBuckets),c=l.cards,u=l.cardStats;this.data={buckets:n,heatmapStats:a,xBucketSize:e,yBucketSize:t,cards:c,cardStats:u}},t.prototype.convertHistogramToHeatmapData=function(){var e,t,n,a=this.getPanelDataSourceType();j.a.includes(bn,a)||this.series.sort(Zt),this.panel.reverseYBuckets&&this.series.reverse(),t=function(e){for(var t,n,a={},r=0;r<e.length;r++){var i=e[r],o=r;if(isNaN(o))return a;try{for(var s=(t=void 0,Object(_.__values)(i.datapoints)),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[Kt],d=c[Jt];if(j.a.isNumber(u)){var p=a[d];p||(p=a[d]={x:d,buckets:{}}),p.buckets[o]={y:o,count:u,bounds:{top:null,bottom:o},values:[],points:[]}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}return a}(this.series),n=j.a.map(this.series,"label");var r=this.panel.yBucketBound;"prometheus"===a&&"lower"!==r&&"middle"!==r||"upper"===r?n=[""].concat(n):n.push(""),e=function(e,t){void 0===t&&(t=1);var n=1/0;if(0===e.length)return 0;if(1===e.length)return e[0];e=j.a.sortBy(e);for(var a=1;a<e.length;a++){var r=cn(e[a],e[a-1],t);n=r<n?r:n}return n}(j.a.map(j.a.keys(t),function(e){return Number(e)}));var i=en(t,this.panel.hideZeroBuckets),o=i.cards,s=i.cardStats;this.data={buckets:t,xBucketSize:e,yBucketSize:1,tsBuckets:n,cards:o,cardStats:s}},t.prototype.getPanelDataSourceType=function(){return this.datasource&&this.datasource.meta&&this.datasource.meta.id?this.datasource.meta.id:"unknown"},t.prototype.onSnapshotLoad=function(e){this.onDataFramesReceived(Object(bt.a)(e))},t.prototype.onDataFramesReceived=function(e){var t,n,a=this;if(this.series=this.processor.getSeriesList({dataList:e,range:this.range}).map(function(e){return e.color=null,e.flotpairs=e.getFlotPairs(a.panel.nullPointMode),e}),this.dataWarning=null,0===j.a.reduce(this.series,function(e,t){return e+t.datapoints.length},0))this.dataWarning={title:"No data points",tip:"No datapoints returned from data query"};else try{for(var r=Object(_.__values)(this.series),i=r.next();!i.done;i=r.next()){if(i.value.isOutsideRange){this.dataWarning={title:"Data points outside time range",tip:"Can be caused by timezone mismatch or missing time filter in query"};break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.render()},t.prototype.onDataError=function(){this.series=[],this.render()},t.prototype.onCardColorChange=function(e){this.panel.color.cardColor=e,this.render()},t.prototype.parseSeries=function(e){var t=j.a.min(j.a.map(e,function(e){return e.stats.min})),n=j.a.min(j.a.map(e,function(e){return e.stats.logmin}));return{max:j.a.max(j.a.map(e,function(e){return e.stats.max})),min:t,minLog:n}},t.prototype.parseHistogramSeries=function(e){var t=j.a.map(e,function(e){return Number(e.alias)}),n=j.a.min(t),a=j.a.min(t);return{max:j.a.max(t),min:n,minLog:a}},t.prototype.link=function(e,t,n,a){!function(e,t,n,a){new pn(e,t,n,a)}(e,t,n,a)},t.templateUrl="module.html",t}(C.MetricsPanelCtrl),yn={},wn=function(e){return Array.isArray(e)?e.reduce(function(e,t){return t.datapoints?e.concat(t):e},[]):e.datapoints?[e]:[]},xn=function(e){return Array.isArray(e)?e.reduce(function(e,t){return t.columns?e.concat(t):e},[]):e.columns?[e]:[]};yn.timeseries_to_rows={description:"Time series to rows",getColumns:function(){return[]},transform:function(e,t,n){n.columns=[{text:"Time",type:"date"},{text:"Metric"},{text:"Value"}];for(var a=wn(e),r=0;r<a.length;r++)for(var i=a[r],o=0;o<i.datapoints.length;o++){var s=i.datapoints[o];n.rows.push([s[1],i.target,s[0]])}}},yn.timeseries_to_columns={description:"Time series to columns",getColumns:function(){return[]},transform:function(e,t,n){n.columns.push({text:"Time",type:"date"});for(var a={},r=wn(e),i=0;i<r.length;i++){var o=r[i];n.columns.push({text:o.target});for(var s=0;s<o.datapoints.length;s++){var l=o.datapoints[s],c=l[1].toString();a[c]?a[c][i]=l[0]:(a[c]={time:l[1]},a[c][i]=l[0])}}for(var u in a){var d=a[u],p=[d.time];for(i=0;i<r.length;i++){var f=d[i];p.push(f)}n.rows.push(p)}}},yn.timeseries_aggregations={description:"Time series aggregations",getColumns:function(){return[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Current",value:"current"},{text:"Count",value:"count"}]},transform:function(e,t,n){var a,r;for(n.columns.push({text:"Metric"}),a=0;a<t.columns.length;a++)n.columns.push({text:t.columns[a].text});var i=wn(e);for(a=0;a<i.length;a++){var o=new G.a({datapoints:i[a].datapoints,alias:i[a].target});o.getFlotPairs("connected");var s=[o.alias];for(r=0;r<t.columns.length;r++)s.push(o.stats[t.columns[r].value]);n.rows.push(s)}}},yn.annotations={description:"Annotations",getColumns:function(){return[]},transform:function(e,t,n){if(n.columns.push({text:"Time",type:"date"}),n.columns.push({text:"Title"}),n.columns.push({text:"Text"}),n.columns.push({text:"Tags"}),e&&e.annotations&&0!==e.annotations.length)for(var a=0;a<e.annotations.length;a++){var r=e.annotations[a];n.rows.push([r.time,r.title,r.text,r.tags])}}},yn.table={description:"Table",getColumns:function(e){if(!e||0===e.length)return[];if(1===e.length)return Object(_.__spread)(e[0].columns);var t=xn(e),n={};return t.reduce(function(e,t){return t.columns.forEach(function(t){var a=t.text;void 0===n[a]&&(n[a]=e.length,e.push(t))}),e},[])},transform:function(e,t,n){if(e&&0!==e.length){var a=xn(e),r=j.a.findIndex(a,function(e){return"columns"in e&&"rows"in e});if(r<0)throw{message:"Result of query #"+String.fromCharCode(65+r)+" is not in table format, try using another transform."};W.b.apply(void 0,Object(_.__spread)([n],a))}}},yn.json={description:"JSON Data",getColumns:function(e){if(!e||0===e.length)return[];for(var t={},n=0;n<e.length;n++){var a=e[n];if("docs"===a.type)for(var r=Math.min(a.datapoints.length,100),i=0;i<r;i++){var o=a.datapoints[i],s=Object(J.default)(o,{});for(var l in s)t[l]=!0}}return j.a.map(t,function(e,t){return{text:t,value:t}})},transform:function(e,t,n){var a,r,i,o,s;try{for(var l=Object(_.__values)(t.columns),c=l.next();!c.done;c=l.next()){var u={text:c.value.text};e.length>0&&e[0].filterable&&(u.filterable=!0),n.columns.push(u)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(a)throw a.error}}for(0===n.columns.length&&n.columns.push({text:"JSON"}),i=0;i<e.length;i++){var d=e[i];for(o=0;o<d.datapoints.length;o++){var p=d.datapoints[o],f=[];if(j.a.isObject(p)&&t.columns.length>0){var h=Object(J.default)(p);for(s=0;s<t.columns.length;s++)f.push(h[t.columns[s].value])}else f.push(JSON.stringify(p));n.rows.push(f)}}}};var On=function(){function e(e,t){this.uiSegmentSrv=t,e.editor=this,this.panelCtrl=e.ctrl,this.panel=this.panelCtrl.panel,this.transformers=yn,this.fontSizes=["80%","90%","100%","110%","120%","130%","150%","160%","180%","200%","220%","250%"],this.addColumnSegment=t.newPlusButton(),this.updateTransformHints()}return e.$inject=["$scope","uiSegmentSrv"],e.prototype.updateTransformHints=function(){switch(this.canSetColumns=!1,this.columnsHelpMessage="",this.panel.transform){case"timeseries_aggregations":case"json":this.canSetColumns=!0;break;case"table":this.columnsHelpMessage="Columns and their order are determined by the data query"}},e.prototype.getColumnOptions=function(){var e=this;if(!this.panelCtrl.dataRaw)return Promise.resolve([]);var t=this.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw),n=j.a.map(t,function(t){return e.uiSegmentSrv.newSegment({value:t.text})});return Promise.resolve(n)},e.prototype.addColumn=function(){var e=yn[this.panel.transform].getColumns(this.panelCtrl.dataRaw),t=j.a.find(e,{text:this.addColumnSegment.value});t&&(this.panel.columns.push(t),this.render());var n=this.uiSegmentSrv.newPlusButton();this.addColumnSegment.html=n.html,this.addColumnSegment.value=n.value},e.prototype.transformChanged=function(){this.panel.columns=[],"timeseries_aggregations"===this.panel.transform&&this.panel.columns.push({text:"Avg",value:"avg"}),this.updateTransformHints(),this.render()},e.prototype.render=function(){this.panelCtrl.render()},e.prototype.removeColumn=function(e){this.panel.columns=j.a.without(this.panel.columns,e),this.panelCtrl.render()},e}();function _n(e){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/table/editor.html",controller:On}}var kn=function(){function e(t){var n=this;t.editor=this,this.activeStyleIndex=0,this.panelCtrl=t.ctrl,this.panel=this.panelCtrl.panel,this.unitFormats=Object(Y.getValueFormats)(),this.colorModes=[{text:"Disabled",value:null},{text:"Cell",value:"cell"},{text:"Value",value:"value"},{text:"Row",value:"row"}],this.columnTypes=[{text:"Number",value:"number"},{text:"String",value:"string"},{text:"Date",value:"date"},{text:"Hidden",value:"hidden"}],this.fontSizes=["80%","90%","100%","110%","120%","130%","150%","160%","180%","200%","220%","250%"],this.dateFormats=[{text:"YYYY-MM-DD HH:mm:ss",value:"YYYY-MM-DD HH:mm:ss"},{text:"YYYY-MM-DD HH:mm:ss.SSS",value:"YYYY-MM-DD HH:mm:ss.SSS"},{text:"MM/DD/YY h:mm:ss a",value:"MM/DD/YY h:mm:ss a"},{text:"MMMM D, YYYY LT",value:"MMMM D, YYYY LT"},{text:"YYYY-MM-DD",value:"YYYY-MM-DD"}],this.mappingTypes=[{text:"Value to text",value:1},{text:"Range to text",value:2}],this.alignTypes=e.alignTypesEnum,this.getColumnNames=function(){return n.panelCtrl.table?j.a.map(n.panelCtrl.table.columns,function(e){return e.text}):[]},this.onColorChange=this.onColorChange.bind(this)}return e.$inject=["$scope"],e.prototype.render=function(){this.panelCtrl.render()},e.prototype.setUnitFormat=function(e,t){e.unit=t.value,this.panelCtrl.render()},e.prototype.addColumnStyle=function(){var e=this.panel.styles,t=e.length,n=t;t>0&&("/.*/"===e[t-1].pattern&&(n=t-1));e.splice(n,0,{unit:"short",type:"number",alias:"",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],colorMode:null,pattern:"",dateFormat:"YYYY-MM-DD HH:mm:ss",thresholds:[],mappingType:1,align:"auto"}),this.activeStyleIndex=n},e.prototype.removeColumnStyle=function(e){this.panel.styles=j.a.without(this.panel.styles,e)},e.prototype.invertColorOrder=function(e){var t=this.panel.styles[e].colors,n=t[0];t[0]=t[2],t[2]=n,this.panelCtrl.render()},e.prototype.onColorChange=function(e,t){var n=this;return function(a){e.colors[t]=a,n.render()}},e.prototype.addValueMap=function(e){e.valueMaps||(e.valueMaps=[]),e.valueMaps.push({value:"",text:""}),this.panelCtrl.render()},e.prototype.removeValueMap=function(e,t){e.valueMaps.splice(t,1),this.panelCtrl.render()},e.prototype.addRangeMap=function(e){e.rangeMaps||(e.rangeMaps=[]),e.rangeMaps.push({from:"",to:"",text:""}),this.panelCtrl.render()},e.prototype.removeRangeMap=function(e,t){e.rangeMaps.splice(t,1),this.panelCtrl.render()},e.alignTypesEnum=[{text:"auto",value:""},{text:"left",value:"left"},{text:"center",value:"center"},{text:"right",value:"right"}],e}();function jn(e){return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/table/column_options.html",controller:kn}}var Cn=function(){function e(e,t,n,a,r,i){this.panel=e,this.table=t,this.isUtc=n,this.sanitize=a,this.templateSrv=r,this.theme=i,this.initColumns()}return e.prototype.setTable=function(e){this.table=e,this.initColumns()},e.prototype.initColumns=function(){this.formatters=[],this.colorState={};for(var e=0;e<this.table.columns.length;e++){var t=this.table.columns[e];t.title=t.text;for(var n=0;n<this.panel.styles.length;n++){var a=this.panel.styles[n],r=Object(Y.stringStartsAsRegEx)(a.pattern)?a.pattern:Object(Y.escapeStringForRegex)(Object(Y.unEscapeStringFromRegex)(a.pattern)),i=Object(Y.stringToJsRegex)(r);if(t.text.match(i)){t.style=a,a.alias&&(t.title=t.text.replace(i,a.alias));break}}this.formatters[e]=this.createColumnFormatter(t)}},e.prototype.getColorForValue=function(e,t){if(!t.thresholds||!t.colors)return null;for(var n=t.thresholds.length;n>0;n--)if(e>=t.thresholds[n-1])return Object(Y.getColorFromHexRgbOrName)(t.colors[n],this.theme);return Object(Y.getColorFromHexRgbOrName)(j.a.first(t.colors),this.theme)},e.prototype.defaultCellFormatter=function(e,t){return null==e||void 0===e?"":(j.a.isArray(e)&&(e=e.join(", ")),t&&t.sanitize?this.sanitize(e):j.a.escape(e))},e.prototype.createColumnFormatter=function(e){var t=this;if(!e.style)return this.defaultCellFormatter;if("hidden"===e.style.type)return function(e){};if("date"===e.style.type)return function(n){if(null==n)return"-";j.a.isArray(n)&&(n=n[0]),j.a.isString(n)&&!isNaN(n)&&n.length>12&&(n=parseInt(n,10));var a=Object(Y.dateTime)(n);return t.isUtc&&(a=a.utc()),a.format(e.style.dateFormat)};if("string"===e.style.type)return function(n){j.a.isArray(n)&&(n=n.join(", "));var a=e.style.mappingType||0;if(1===a&&e.style.valueMaps)for(var r=0;r<e.style.valueMaps.length;r++){var i=e.style.valueMaps[r];if(null!==n){if(!j.a.isString(n)&&Number(i.value)===Number(n)||i.value===n)return t.setColorState(n,e.style),t.defaultCellFormatter(i.text,e.style)}else if("null"===i.value)return i.text}if(2===a&&e.style.rangeMaps)for(r=0;r<e.style.rangeMaps.length;r++){i=e.style.rangeMaps[r];if(null!==n){if(Number(i.from)<=Number(n)&&Number(i.to)>=Number(n))return t.setColorState(n,e.style),t.defaultCellFormatter(i.text,e.style)}else if("null"===i.from&&"null"===i.to)return i.text}return null==n?"-":(t.setColorState(n,e.style),t.defaultCellFormatter(n,e.style))};if("number"===e.style.type){var n=Object(Y.getValueFormat)(e.unit||e.style.unit);return function(a){return null==a?"-":isNaN(a)||j.a.isArray(a)?t.defaultCellFormatter(a,e.style):(t.setColorState(a,e.style),Object(Y.formattedValueToString)(n(a,e.style.decimals,null)))}}return function(n){return t.defaultCellFormatter(n,e.style)}},e.prototype.setColorState=function(e,t){if(t.colorMode&&null!=e&&!j.a.isArray(e)){var n=Number(e);isNaN(n)||(this.colorState[t.colorMode]=this.getColorForValue(n,t))}},e.prototype.renderRowVariables=function(e){for(var t={},n=this.table.rows[e],a=0;a<n.length;a++)t["__cell_"+a]={value:n[a],text:n[a]?n[a].toString():""};return t},e.prototype.formatColumnValue=function(e,t){var n=this.formatters[e];return n?n(t):t},e.prototype.renderCell=function(e,t,n,a){void 0===a&&(a=!1),n=this.formatColumnValue(e,n);var r=this.table.columns[e],i=[],o="",s=[],l="";this.colorState.cell?(i.push("background-color:"+this.colorState.cell),s.push("table-panel-color-cell"),this.colorState.cell=null):this.colorState.value&&(i.push("color:"+this.colorState.value),this.colorState.value=null);var c="";if(a&&(c='<div class="table-panel-width-hack">'+this.table.columns[e].title+"</div>"),void 0===n?(i.push("display:none"),r.hidden=!0):r.hidden=!1,!0===r.hidden)return"";if(r.style&&r.style.preserveFormat&&s.push("table-panel-cell-pre"),r.style&&r.style.align){var u=j.a.find(kn.alignTypesEnum,["text",r.style.align]);u&&u.value&&i.push("text-align:"+u.value)}if(i.length&&(o=' style="'+i.join(";")+'"'),r.style&&r.style.link){var d=this.renderRowVariables(t);d.__cell={value:n,text:n?n.toString():""};var p=this.templateSrv.replace(r.style.linkUrl,d,encodeURIComponent),f=Object(te.d)(p),h=this.templateSrv.replace(r.style.linkTooltip,d),m=r.style.linkTargetBlank?"_blank":"";s.push("table-panel-cell-link"),c+='\n        <a href="'+f+'" target="'+m+'" data-link-tooltip data-original-title="'+h+'" data-placement="right"'+o+">\n          "+n+"\n        </a>\n      "}else c+=n;return r.filterable&&(s.push("table-panel-cell-filterable"),c+='\n        <a class="table-panel-filter-link" data-link-tooltip data-original-title="Filter out value" data-placement="bottom"\n           data-row="'+t+'" data-column="'+e+'" data-operator="!=">\n          <i class="fa fa-search-minus"></i>\n        </a>\n        <a class="table-panel-filter-link" data-link-tooltip data-original-title="Filter for value" data-placement="bottom"\n           data-row="'+t+'" data-column="'+e+'" data-operator="=">\n          <i class="fa fa-search-plus"></i>\n        </a>'),s.length&&(l=' class="'+s.join(" ")+'"'),c="<td"+l+o+">"+c+"</td>"},e.prototype.render=function(e){for(var t=this.panel.pageSize||100,n=e*t,a=Math.min(n+t,this.table.rows.length),r="",i=n;i<a;i++){for(var o=this.table.rows[i],s="",l="",c=[],u="",d=0;d<this.table.columns.length;d++)s+=this.renderCell(d,i,o[d],i===n);this.colorState.row&&(l=' style="background-color:'+this.colorState.row+'"',c.push("table-panel-color-row"),this.colorState.row=null),c.length&&(u=' class="'+c.join(" ")+'"'),r+="<tr "+u+l+">"+s+"</tr>"}return r},e.prototype.render_values=function(){for(var e=[],t=this.table.columns.filter(function(e){return!e.hidden}),n=0;n<this.table.rows.length;n++){for(var a=this.table.rows[n],r=[],i=0;i<this.table.columns.length;i++)this.table.columns[i].hidden||r.push(this.formatColumnValue(i,a[i]));e.push(r)}return{columns:t,rows:e}},e}(),Sn=function(e){function t(t,n,a,r,i,o){var s=e.call(this,t,n)||this;return s.annotationsSrv=r,s.$sanitize=i,s.variableSrv=o,s.panelDefaults={targets:[{}],transform:"timeseries_to_columns",pageSize:null,showHeader:!0,styles:[{type:"date",pattern:"Time",alias:"Time",dateFormat:"YYYY-MM-DD HH:mm:ss",align:"auto"},{unit:"short",type:"number",alias:"",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],colorMode:null,pattern:"/.*/",thresholds:[],align:"right"}],columns:[],fontSize:"100%",sort:{col:0,desc:!0}},s.pageIndex=0,void 0===s.panel.styles&&(s.panel.styles=s.panel.columns,s.panel.columns=s.panel.fields,delete s.panel.columns,delete s.panel.fields),j.a.defaults(s.panel,s.panelDefaults),s.events.on(Y.PanelEvents.dataReceived,s.onDataReceived.bind(s)),s.events.on(Y.PanelEvents.dataSnapshotLoad,s.onDataReceived.bind(s)),s.events.on(Y.PanelEvents.editModeInitialized,s.onInitEditMode.bind(s)),s.events.on(Y.PanelEvents.initPanelActions,s.onInitPanelActions.bind(s)),s}return t.$inject=["$scope","$injector","templateSrv","annotationsSrv","$sanitize","variableSrv"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.addEditorTab("Options",_n,2),this.addEditorTab("Column Styles",jn,3)},t.prototype.onInitPanelActions=function(e){e.push({text:"Export CSV",click:"ctrl.exportCsv()"})},t.prototype.issueQueries=function(t){var n=this;return this.pageIndex=0,"annotations"===this.panel.transform?this.annotationsSrv.getAnnotations({dashboard:this.dashboard,panel:this.panel,range:this.range}).then(function(e){return n.loading=!1,n.dataRaw=e,n.pageIndex=0,n.render(),{data:n.dataRaw}}):e.prototype.issueQueries.call(this,t)},t.prototype.onDataReceived=function(e){this.dataRaw=e,this.pageIndex=0,this.dataRaw&&this.dataRaw.length&&(Object(Y.isTableData)(this.dataRaw[0])?this.panel.transform="table":"docs"===this.dataRaw[0].type?this.panel.transform="json":"table"!==this.panel.transform&&"json"!==this.panel.transform||(this.panel.transform="timeseries_to_rows")),this.render()},t.prototype.render=function(){return this.table=function(e,t){var n=new W.a;if(!e||0===e.length)return n;var a=yn[t.transform];if(!a)throw{message:"Transformer "+t.transform+" not found"};return a.transform(e,t,n),n}(this.dataRaw,this.panel),this.table.sort(this.panel.sort),this.renderer=new Cn(this.panel,this.table,this.dashboard.isTimezoneUtc(),this.$sanitize,this.templateSrv,H.b.theme.type),e.prototype.render.call(this,this.table)},t.prototype.toggleColumnSort=function(e,t){this.table.columns[this.panel.sort.col]&&(this.table.columns[this.panel.sort.col].sort=!1),this.panel.sort.col===t?this.panel.sort.desc?this.panel.sort.desc=!1:this.panel.sort.col=null:(this.panel.sort.col=t,this.panel.sort.desc=!0),this.render()},t.prototype.exportCsv=function(){var e=this.$scope.$new(!0);e.tableData=this.renderer.render_values(),e.panel="table",this.publishAppEvent(Te.CoreEvents.showModal,{templateHtml:'<export-data-modal panel="panel" data="tableData"></export-data-modal>',scope:e,modalClass:"modal--narrow"})},t.prototype.link=function(e,t,n,a){var r,i=a.panel,o=0;function s(){var e,n=t.parents(".panel-content"),s=t.find(".table-panel-scroll"),l=t.find("tbody"),c=t.find(".table-panel-footer");t.css({"font-size":i.fontSize}),n.addClass("table-panel-content"),function(e){a.renderer.setTable(r),e.empty(),e.html(a.renderer.render(a.pageIndex))}(l),function(e){e.empty();var t=i.pageSize||100;if(1!==(o=Math.ceil(r.rows.length/t))){for(var n=Math.max(a.pageIndex-3,0),s=Math.min(o,n+9),l=D()("<ul></ul>"),c=n;c<s;c++){var u=c===a.pageIndex?"active":"",d=D()('<li><a class="table-panel-page-link pointer '+u+'">'+(c+1)+"</a></li>");l.append(d)}e.append(l)}}(c),s.css({"max-height":(e=a.height,o>1&&(e-=26),e-31+"px")})}t.tooltip({selector:"[data-link-tooltip]"}),t.on("click",".table-panel-page-link",function(e){var t=D()(e.currentTarget);a.pageIndex=parseInt(t.text(),10)-1,s()}),t.on("click",".table-panel-filter-link",function(e){var t=D()(e.currentTarget).data(),n={datasource:i.datasource,key:r.columns[t.column].text,value:r.rows[t.row][t.column],operator:t.operator};a.variableSrv.setAdhocFilter(n)});var l=e.$on("$destroy",function(){t.off("click",".table-panel-page-link"),t.off("click",".table-panel-filter-link"),l()});a.events.on(Y.PanelEvents.render,function(e){(r=e||r)&&s(),a.renderingCompleted()})},t.templateUrl="module.html",t}(C.MetricsPanelCtrl),En=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onToggleShowHeader=function(){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{showHeader:!t.props.options.showHeader}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options.showHeader;return $.a.createElement("div",null,$.a.createElement("div",{className:"section gf-form-group"},$.a.createElement("h5",{className:"section-heading"},"Header"),$.a.createElement(re.Switch,{label:"Show",labelClass:"width-6",checked:e,onChange:this.onToggleShowHeader})))},t}(V.PureComponent),Tn=function(e){function t(t){return e.call(this,t)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.height,a=e.width,r=e.replaceVariables,i=e.options;if(t.series.length<1)return $.a.createElement("div",null,"No Table Data...");var o=Object(Y.applyFieldOverrides)({data:t.series,fieldOptions:i.fieldOptions,theme:H.a.theme,replaceVariables:r})[0];return $.a.createElement(re.Table,{height:n-16,width:a,data:o})},t}(V.Component),Mn=new Y.PanelPlugin(Tn).setNoPadding().setDefaults({fieldOptions:{defaults:{},overrides:[]},showHeader:!0}).setEditor(En),An=(n("0X5I"),n("UIT+")),Nn=38,Dn=function(e){function t(t,n,a,r){var i=e.call(this,t,n)||this;return i.linkSrv=a,i.$sanitize=r,i.data={},i.fieldNames=[],i.valueNameOptions=[{value:"min",text:"Min"},{value:"max",text:"Max"},{value:"avg",text:"Average"},{value:"current",text:"Current"},{value:"total",text:"Total"},{value:"name",text:"Name"},{value:"first",text:"First"},{value:"delta",text:"Delta"},{value:"diff",text:"Difference"},{value:"range",text:"Range"},{value:"last_time",text:"Time of last point"}],i.panelDefaults={links:[],datasource:null,maxDataPoints:100,interval:null,targets:[{}],cacheTimeout:null,format:"none",prefix:"",postfix:"",nullText:null,valueMaps:[{value:"null",op:"=",text:"N/A"}],mappingTypes:[{name:"value to text",value:1},{name:"range to text",value:2}],rangeMaps:[{from:"null",to:"null",text:"N/A"}],mappingType:1,nullPointMode:"connected",valueName:"avg",prefixFontSize:"50%",valueFontSize:"80%",postfixFontSize:"50%",thresholds:"",colorBackground:!1,colorValue:!1,colors:["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],sparkline:{show:!1,full:!1,ymin:null,ymax:null,lineColor:"rgb(31, 120, 193)",fillColor:"rgba(31, 118, 189, 0.18)"},gauge:{show:!1,minValue:0,maxValue:100,thresholdMarkers:!0,thresholdLabels:!1},tableColumn:""},j.a.defaults(i.panel,i.panelDefaults),i.events.on(Te.CoreEvents.dataFramesReceived,i.onFramesReceived.bind(i)),i.events.on(Y.PanelEvents.dataSnapshotLoad,i.onSnapshotLoad.bind(i)),i.events.on(Y.PanelEvents.editModeInitialized,i.onInitEditMode.bind(i)),i.useDataFrames=!0,i.onSparklineColorChange=i.onSparklineColorChange.bind(i),i.onSparklineFillChange=i.onSparklineFillChange.bind(i),i}return t.$inject=["$scope","$injector","linkSrv","$sanitize"],Object(_.__extends)(t,e),t.prototype.onInitEditMode=function(){this.fontSizes=["20%","30%","50%","70%","80%","100%","110%","120%","150%","170%","200%"],this.addEditorTab("Options","public/app/plugins/panel/singlestat/editor.html",2),this.addEditorTab("Value Mappings","public/app/plugins/panel/singlestat/mappings.html",3)},t.prototype.migrateToGaugePanel=function(e){e?this.onPluginTypeChange(H.b.panels.gauge):(this.panel.gauge.show=!1,this.render())},t.prototype.setUnitFormat=function(){var e=this;return function(t){e.panel.format=t,e.refresh()}},t.prototype.onSnapshotLoad=function(e){this.onFramesReceived(Object(bt.a)(e))},t.prototype.onFramesReceived=function(e){var t=this.panel;if(e&&e.length>1)return this.data={value:0,display:{text:"Only queries that return single series/table is supported",numeric:NaN}},void this.render();var n=function(e){var t,n,a,r,i={byName:{},names:[]};try{for(var o=Object(_.__values)(e),s=o.next();!s.done;s=o.next()){var l=s.value,c={frame:l};try{for(var u=(a=void 0,Object(_.__values)(l.fields)),d=u.next();!d.done;d=u.next()){var p=d.value;if(p.type===Y.FieldType.time)c.firstTimeField||(c.firstTimeField=p);else{var f={field:p,frame:c};i.first||(i.first=f);var h=p.config.title;h&&!i.byName[h]&&(i.byName[h]=f,i.names.push(h)),(h=p.name)&&!i.byName[h]&&(i.byName[h]=f,i.names.push(h))}}}catch(e){a={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}(e),a=n.byName[t.tableColumn];if(this.fieldNames=n.names,a||(a=n.first),a)this.data=this.processField(a);else{var r=Object(Y.getDisplayProcessor)({field:{config:{mappings:Object(re.convertOldAngularValueMapping)(this.panel),noValue:"No Data"}},theme:H.b.theme});this.data={value:null,display:r(null)}}this.render()},t.prototype.processField=function(e){var t=this.panel,n=this.dashboard,a=e.field.config.title||e.field.name,r=t.valueName,i=e.field,o=void 0;if("name"===r)o=a;else{"last_time"===r&&e.frame.firstTimeField&&(i=e.frame.firstTimeField,r=Y.ReducerID.last);var s=Y.fieldReducers.getIfExists(r);if(s){if(r=s.id,i.type===Y.FieldType.string)[Y.ReducerID.mean,Y.ReducerID.sum].includes(r)&&(r=t.valueName=Y.ReducerID.first)}else r=Y.ReducerID.lastNotNull;o=Object(Y.reduceField)({field:i,reducers:[r]})[r]}var l=Object(Y.getDisplayProcessor)({field:Object(_.__assign)(Object(_.__assign)({},e.field),{config:Object(_.__assign)(Object(_.__assign)({},e.field.config),{unit:t.format,decimals:t.decimals,mappings:Object(re.convertOldAngularValueMapping)(t)})}),theme:H.b.theme,timeZone:n.getTimezone()}),c={field:e.field,value:o,display:l(o),scopedVars:j.a.extend({},t.scopedVars),sparkline:[]};return c.scopedVars.__name={value:a},t.tableColumn=this.fieldNames.length>1?a:"",t.sparkline&&t.sparkline.show&&e.frame.firstTimeField&&(c.sparkline=Object(Y.getFlotPairs)({xField:e.frame.firstTimeField,yField:e.field,nullValueMode:t.nullPointMode})),c},t.prototype.canModifyText=function(){return!this.panel.gauge.show},t.prototype.setColoring=function(e){e.background?(this.panel.colorValue=!1,this.panel.colors=["rgba(71, 212, 59, 0.4)","rgba(245, 150, 40, 0.73)","rgba(225, 40, 40, 0.59)"]):(this.panel.colorBackground=!1,this.panel.colors=["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"]),this.render()},t.prototype.invertColorOrder=function(){var e=this.panel.colors[0];this.panel.colors[0]=this.panel.colors[2],this.panel.colors[2]=e,this.render()},t.prototype.onColorChange=function(e){var t=this;return function(n){t.panel.colors[e]=n,t.render()}},t.prototype.onSparklineColorChange=function(e){this.panel.sparkline.lineColor=e,this.render()},t.prototype.onSparklineFillChange=function(e){this.panel.sparkline.fillColor=e,this.render()},t.prototype.removeValueMap=function(e){var t=j.a.indexOf(this.panel.valueMaps,e);this.panel.valueMaps.splice(t,1),this.render()},t.prototype.addValueMap=function(){this.panel.valueMaps.push({value:"",op:"=",text:""})},t.prototype.removeRangeMap=function(e){var t=j.a.indexOf(this.panel.rangeMaps,e);this.panel.rangeMaps.splice(t,1),this.render()},t.prototype.addRangeMap=function(){this.panel.rangeMaps.push({from:"",to:"",text:""})},t.prototype.link=function(e,t,n,a){var r,i=this.$location,o=this.linkSrv,s=this.$timeout,l=this.$sanitize,c=a.panel,u=this.templateSrv,d=null,p=t.find(".panel-container");function f(e,t,n,r){var i,o,s;return r=l(u.replace(r,a.data.scopedVars)),r=n?(i=r,o=a.data,(s=In(o,o.value))?'<span style="color:'+s+'">'+i+"</span>":i):r,'<span class="'+e+'" style="font-size:'+parseInt(t,10)/100*Nn+'px">'+r+"</span>"}function h(){var e=a.data,t='<div class="singlestat-panel-value-container">';return c.prefix&&(t+=f("singlestat-panel-prefix",c.prefixFontSize,c.colorPrefix,c.prefix)),t+=f("singlestat-panel-value",c.valueFontSize,c.colorValue,Object(Y.formattedValueToString)(e.display)),c.postfix&&(t+=f("singlestat-panel-postfix",c.postfixFontSize,c.colorPostfix,c.postfix)),t+="</div>"}function m(){var e=a.data,n=t.width(),r=t.height(),i=Math.min(n,1.3*r);if(a.invalidGaugeRange=!1,c.gauge.minValue>c.gauge.maxValue)a.invalidGaugeRange=!0;else{var o=D()("<div></div>"),s={top:"5px",margin:"auto",position:"relative",height:.9*r+"px",width:i+"px"};o.css(s);for(var l=[],d=0;d<e.thresholds.length;d++)l.push({value:e.thresholds[d],color:e.colorMap[d]});l.push({value:c.gauge.maxValue,color:e.colorMap[e.colorMap.length-1]});var p=H.b.bootData.user.lightTheme?"rgb(230,230,230)":"rgb(38,38,38)",f=parseInt(c.valueFontSize,10)/100,h=Math.min(i/5,100)*f,m=c.gauge.thresholdLabels?1.5:1,g=Math.min(i/6,60)/m,b=g/5,v=h/2.5,y={series:{gauges:{gauge:{min:c.gauge.minValue,max:c.gauge.maxValue,background:{color:p},border:{color:null},shadow:{show:!1},width:g},frame:{show:!1},label:{show:!1},layout:{margin:0,thresholdWidth:0},cell:{border:{width:0}},threshold:{values:l,label:{show:c.gauge.thresholdLabels,margin:b+1,font:{size:v}},show:c.gauge.thresholdMarkers,width:b},value:{color:c.colorValue?In(e,e.display.numeric):null,formatter:function(){return e=a.data,t=c.prefix?u.replace(c.prefix,e.scopedVars):"",t+=Object(Y.formattedValueToString)(e.display),t+=c.postfix?u.replace(c.postfix,e.scopedVars):"";var e,t},font:{size:h,family:H.b.theme.typography.fontFamily.sansSerif}},show:!0}}};t.append(o);var w={data:[[0,e.value]]};D.a.plot(o,[w],y)}}function g(){var e=a.data,n=t.width();if(n<30)setTimeout(g,30);else if(e.sparkline&&e.sparkline.length){var r=a.height,i=D()("<div></div>"),o={position:"absolute",bottom:"0px"};if(c.sparkline.full){o.left="0px",o.width=n+"px";var s=r<=100?5:15*Math.round(r/100)+5;o.height=r-s+"px"}else o.left="0px",o.width=n+"px",o.height=Math.floor(.25*r)+"px";i.css(o);var l={legend:{show:!1},series:{lines:{show:!0,fill:1,lineWidth:1,fillColor:Object(Y.getColorFromHexRgbOrName)(c.sparkline.fillColor,H.b.theme.type),zero:!1}},yaxis:{show:!1,min:c.sparkline.ymin,max:c.sparkline.ymax},xaxis:{show:!1,mode:"time",min:a.range.from.valueOf(),max:a.range.to.valueOf()},grid:{hoverable:!1,show:!1}};t.append(i);var u={data:e.sparkline,color:Object(Y.getColorFromHexRgbOrName)(c.sparkline.lineColor,H.b.theme.type)};D.a.plot(i,[u],l)}}t=t.find(".singlestat-panel"),r=D()('<div id="tooltip" class="">hello</div>"'),t.mouseleave(function(){0!==c.links.length&&s(function(){r.detach()})}),t.click(function(e){d&&(D()(e).parents(".panel-header").length>0||("_blank"!==d.target?(0===d.href.indexOf("http")?window.location.href=d.href:s(function(){i.url(An.a.stripBaseFromUrl(d.href))}),r.detach()):window.open(d.href,"_blank")))}),t.mousemove(function(e){d&&(r.text("click to go to: "+d.title),r.place_tt(e.pageX,e.pageY-50))}),this.events.on(Y.PanelEvents.render,function(){!function(){if(a.data){var n=a.data,r=a.panel;n.thresholds=r.thresholds?r.thresholds.split(",").map(function(e){return Number(e.trim())}):[],r.colors&&(n.colorMap=r.colors.map(function(e){return Object(Y.getColorFromHexRgbOrName)(e,H.b.theme.type)}));var i=r.gauge.show?"":h();if(r.colorBackground){var s=In(n,n.display.numeric);s?(p.css("background-color",s),e.fullscreen?t.css("background-color",s):t.css("background-color","")):(p.css("background-color",""),t.css("background-color",""))}else p.css("background-color",""),t.css("background-color","");t.html(i),r.sparkline.show&&g(),r.gauge.show&&m(),t.toggleClass("pointer",r.links.length>0),d=r.links.length>0?o.getDataLinkUIModel(r.links[0],n.scopedVars,{}):null}}(),a.renderingCompleted()})},t.templateUrl="module.html",t}(C.MetricsPanelCtrl);function In(e,t){if(!j.a.isFinite(t))return null;for(var n=e.thresholds.length;n>0;n--)if(t>=e.thresholds[n-1])return e.colorMap[n];return j.a.first(e.colorMap)}var Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderValue=function(e,n,a,r){var i,o=t.props,s=o.timeRange,l=o.options;e.sparkline&&(i={data:e.sparkline,xMin:s.from.valueOf(),xMax:s.to.valueOf(),yMin:e.field.min,yMax:e.field.max},l.fieldOptions.calcs[0]===Y.ReducerID.last&&(i.highlightIndex=i.data.length-1));return $.a.createElement(re.DataLinksContextMenu,{links:Object(nt.a)(e)},function(t){var o=t.openMenu,s=t.targetClassName;return $.a.createElement(re.BigValue,{value:e.display,sparkline:i,colorMode:l.colorMode,graphMode:l.graphMode,justifyMode:l.justifyMode,alignmentFactors:r,width:n,height:a,theme:H.a.theme,onClick:o,className:s})})},t.getValues=function(){var e=t.props,n=e.data,a=e.options,r=e.replaceVariables;return Object(Y.getFieldDisplayValues)(Object(_.__assign)(Object(_.__assign)({},a),{replaceVariables:r,theme:H.a.theme,data:n.series,sparkline:a.graphMode!==re.BigValueGraphMode.None,autoMinMax:!0}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=e.options,a=e.width,r=e.data,i=e.renderCounter;return $.a.createElement(re.VizRepeater,{getValues:this.getValues,getAlignmentFactors:Y.getDisplayValueAlignmentFactors,renderValue:this.renderValue,width:a,height:t,source:r,renderCounter:i,orientation:Fn(a,t,n.orientation)})},t}(V.PureComponent);function Fn(e,t,n){return n!==Y.VizOrientation.Auto?n:e/t>2?Y.VizOrientation.Vertical:Y.VizOrientation.Horizontal}var Ln=Object(_.__assign)({},ge),Rn=[{value:Y.VizOrientation.Auto,label:"Auto"},{value:Y.VizOrientation.Horizontal,label:"Horizontal"},{value:Y.VizOrientation.Vertical,label:"Vertical"}],Vn={showThresholdMarkers:!0,showThresholdLabels:!1,fieldOptions:Ln,orientation:Y.VizOrientation.Auto},$n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onThresholdsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{thresholds:e}))},t.onValueMappingsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{mappings:e}))},t.onDisplayOptionsChanged=function(e){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{fieldOptions:e}))},t.onColorModeChanged=function(e){var n=e.value;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{colorMode:n}))},t.onGraphModeChanged=function(e){var n=e.value;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{graphMode:n}))},t.onJustifyModeChanged=function(e){var n=e.value;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{justifyMode:n}))},t.onOrientationChange=function(e){var n=e.value;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{orientation:n}))},t.onDefaultsChange=function(e){t.onDisplayOptionsChanged(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions),{defaults:e}))},t.onDataLinksChanged=function(e){t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions.defaults),{links:e}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options,t=e.fieldOptions,n=t.defaults,a=t.values?Object(yt.b)(this.props.data.series):Object(yt.a)(this.props.data.series);return $.a.createElement($.a.Fragment,null,$.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Display"},$.a.createElement(re.FieldDisplayEditor,{onChange:this.onDisplayOptionsChanged,value:t,labelWidth:8}),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:8},"Orientation"),$.a.createElement(re.Select,{width:12,options:Rn,defaultValue:Rn[0],onChange:this.onOrientationChange,value:Rn.find(function(t){return t.value===e.orientation})})),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:8},"Color"),$.a.createElement(re.Select,{width:12,options:fe,defaultValue:fe[0],onChange:this.onColorModeChanged,value:fe.find(function(t){return t.value===e.colorMode})})),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:8},"Graph"),$.a.createElement(re.Select,{width:12,options:he,defaultValue:he[0],onChange:this.onGraphModeChanged,value:he.find(function(t){return t.value===e.graphMode})})),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:8},"Justify"),$.a.createElement(re.Select,{width:12,options:me,defaultValue:me[0],onChange:this.onJustifyModeChanged,value:me.find(function(t){return t.value===e.justifyMode})}))),$.a.createElement(re.PanelOptionsGroup,{title:"Field"},$.a.createElement(re.FieldPropertiesEditor,{showMinMax:!0,onChange:this.onDefaultsChange,value:n,showTitle:!0})),$.a.createElement(re.ThresholdsEditor,{onChange:this.onThresholdsChanged,thresholds:n.thresholds,theme:H.a.theme,showAlphaUI:H.a.featureToggles.newEdit})),$.a.createElement(re.ValueMappingsEditor,{onChange:this.onValueMappingsChanged,valueMappings:n.mappings}),$.a.createElement(re.PanelOptionsGroup,{title:"Data links"},$.a.createElement(re.DataLinksEditor,{value:n.links,onChange:this.onDataLinksChanged,suggestions:a,maxLinks:10})))},t}(V.PureComponent),Bn=new Y.PanelPlugin(Pn).setDefaults(be).setEditor($n).setNoPadding().setPanelChangeHandler(re.sharedSingleStatPanelChangedHandler).setMigrationHandler(re.sharedSingleStatMigrationHandler),Un=n("WnbS"),qn=function(e){function t(t){var n=e.call(this,t)||this;return n.stepIndex=0,n.dismiss=function(){var e=n.props.id,t=Object(St.a)().getCurrent(),a=t.getPanelById(e);t.removePanel(a),Object(X.b)().request({method:"PUT",url:"/api/user/helpflags/1",showSuccessAlert:!1}).then(function(e){Q.b.user.helpFlags1=e.helpFlags1})},n.state={checksDone:!1},n.steps=[{title:"Install Grafana",icon:"icon-gf icon-gf-check",href:"http://docs.grafana.org/",target:"_blank",note:"Review the installation docs",check:function(){return Promise.resolve(!0)}},{title:"Create a data source",cta:"Add data source",icon:"gicon gicon-datasources",href:"datasources/new?gettingstarted",check:function(){return new Promise(function(e){e(Object(Un.a)().getMetricSources().filter(function(e){return!0!==e.meta.builtIn}).length>0)})}},{title:"Build a dashboard",cta:"New dashboard",icon:"gicon gicon-dashboard",href:"dashboard/new?gettingstarted",check:function(){return Object(X.b)().search({limit:1}).then(function(e){return e.length>0})}},{title:"Invite your team",cta:"Add Users",icon:"gicon gicon-team",href:"org/users?gettingstarted",check:function(){return Object(X.b)().get("/api/org/users/lookup").then(function(e){return!1})}},{title:"Install apps & plugins",cta:"Explore plugin repository",icon:"gicon gicon-plugins",href:"https://grafana.com/plugins?utm_source=grafana_getting_started",check:function(){return Object(X.b)().get("/api/plugins",{embedded:0,core:0}).then(function(e){return e.length>0})}}],n}return Object(_.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;return this.stepIndex=-1,this.nextStep().then(function(t){e.setState({checksDone:!0})})},t.prototype.nextStep=function(){var e=this;if(this.stepIndex===this.steps.length-1)return Promise.resolve();this.stepIndex+=1;var t=this.steps[this.stepIndex];return t.check().then(function(n){return n?(t.done=!0,e.nextStep()):Promise.resolve()})},t.prototype.render=function(){return this.state.checksDone?$.a.createElement("div",{className:"progress-tracker-container"},$.a.createElement("button",{className:"progress-tracker-close-btn",onClick:this.dismiss},$.a.createElement("i",{className:"fa fa-remove"})),$.a.createElement("div",{className:"progress-tracker"},this.steps.map(function(e,t){return $.a.createElement("div",{key:t,className:e.done?"progress-step completed":"progress-step active"},$.a.createElement("a",{className:"progress-link",href:e.href,target:e.target,title:e.note},$.a.createElement("span",{className:"progress-marker"},$.a.createElement("i",{className:e.icon})),$.a.createElement("span",{className:"progress-text"},e.title)),$.a.createElement("a",{className:"btn-small progress-step-cta",href:e.href,target:e.target},e.cta))}))):$.a.createElement("div",null,"checking...")},t}(V.PureComponent),zn=new Y.PanelPlugin(qn),Hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelWidth=6,t.onToggleThresholdLabels=function(){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{showThresholdLabels:!t.props.options.showThresholdLabels}))},t.onToggleThresholdMarkers=function(){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{showThresholdMarkers:!t.props.options.showThresholdMarkers}))},t.onThresholdsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{thresholds:e}))},t.onValueMappingsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{mappings:e}))},t.onDisplayOptionsChanged=function(e,n,a){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{fieldOptions:e}),a)},t.onDefaultsChange=function(e,n,a){t.onDisplayOptionsChanged(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions),{defaults:e}),n,a)},t.onDataLinksChanged=function(e,n){t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions.defaults),{links:e}),void 0,n)},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options,t=e.fieldOptions,n=e.showThresholdLabels,a=e.showThresholdMarkers,r=t.defaults,i=t.values?Object(yt.b)(this.props.data.series):Object(yt.a)(this.props.data.series);return $.a.createElement($.a.Fragment,null,$.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Display"},$.a.createElement(re.FieldDisplayEditor,{onChange:this.onDisplayOptionsChanged,value:t,labelWidth:this.labelWidth}),$.a.createElement(re.Switch,{label:"Labels",labelClass:"width-"+this.labelWidth,checked:n,onChange:this.onToggleThresholdLabels}),$.a.createElement(re.Switch,{label:"Markers",labelClass:"width-"+this.labelWidth,checked:a,onChange:this.onToggleThresholdMarkers})),$.a.createElement(re.PanelOptionsGroup,{title:"Field"},$.a.createElement(re.FieldPropertiesEditor,{showMinMax:!0,showTitle:!0,onChange:this.onDefaultsChange,value:r})),$.a.createElement(re.ThresholdsEditor,{onChange:this.onThresholdsChanged,thresholds:r.thresholds,theme:H.a.theme,showAlphaUI:H.a.featureToggles.newEdit})),$.a.createElement(re.ValueMappingsEditor,{onChange:this.onValueMappingsChanged,valueMappings:r.mappings}),$.a.createElement(re.PanelOptionsGroup,{title:"Data links"},$.a.createElement(re.DataLinksEditor,{value:r.links,onChange:this.onDataLinksChanged,suggestions:i,maxLinks:10})))},t}(V.PureComponent),Gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderValue=function(e,n,a){var r=t.props.options,i=e.field,o=e.display;return $.a.createElement(re.DataLinksContextMenu,{links:Object(nt.a)(e)},function(e){var t=e.openMenu,s=e.targetClassName;return $.a.createElement(re.Gauge,{value:o,width:n,height:a,field:i,showThresholdLabels:r.showThresholdLabels,showThresholdMarkers:r.showThresholdMarkers,theme:H.a.theme,onClick:t,className:s})})},t.getValues=function(){var e=t.props,n=e.data,a=e.options,r=e.replaceVariables;return Object(Y.getFieldDisplayValues)({fieldOptions:a.fieldOptions,replaceVariables:r,theme:H.a.theme,data:n.series,autoMinMax:!0})},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=e.width,a=e.data,r=e.renderCounter;return $.a.createElement(re.VizRepeater,{getValues:this.getValues,renderValue:this.renderValue,width:n,height:t,source:a,renderCounter:r,orientation:Y.VizOrientation.Auto})},t}(V.PureComponent),Wn=new Y.PanelPlugin(Gn).setDefaults(Vn).setEditor(Hn).setPanelChangeHandler(function(e,t,n){var a=Object(re.sharedSingleStatPanelChangedHandler)(e,t,n);if("singlestat"===t&&n.angular){var r=n.angular.gauge;r&&(a.showThresholdMarkers=r.thresholdMarkers,a.showThresholdLabels=r.thresholdLabels)}return a}).setMigrationHandler(function(e){return Object(re.sharedSingleStatMigrationHandler)(e)}),Qn=[{value:re.PieChartType.PIE,label:"Pie"},{value:re.PieChartType.DONUT,label:"Donut"}],Yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPieTypeChange=function(e){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{pieType:e.value}))},t.onStrokeWidthChange=function(e){var n=e.target;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{strokeWidth:n.value}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options,t=e.pieType,n=e.strokeWidth;return $.a.createElement(re.PanelOptionsGroup,{title:"PieChart"},$.a.createElement("div",{className:"gf-form"},$.a.createElement(re.FormLabel,{width:8},"Type"),$.a.createElement(re.Select,{width:12,options:Qn,onChange:this.onPieTypeChange,value:Qn.find(function(e){return e.value===t})})),$.a.createElement("div",{className:"gf-form"},$.a.createElement(re.FormField,{label:"Divider width",labelWidth:8,onChange:this.onStrokeWidthChange,value:n})))},t}(V.PureComponent),Kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onValueMappingsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{mappings:e}))},t.onDisplayOptionsChanged=function(e){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{fieldOptions:e}))},t.onDefaultsChange=function(e){t.onDisplayOptionsChanged(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions),{defaults:e}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onOptionsChange,n=e.options,a=e.data,r=n.fieldOptions,i=r.defaults;return $.a.createElement($.a.Fragment,null,$.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Display"},$.a.createElement(re.FieldDisplayEditor,{onChange:this.onDisplayOptionsChanged,value:r})),$.a.createElement(re.PanelOptionsGroup,{title:"Field (default)"},$.a.createElement(re.FieldPropertiesEditor,{showMinMax:!0,onChange:this.onDefaultsChange,value:i})),$.a.createElement(Yn,{data:a,onOptionsChange:t,options:n})),$.a.createElement(re.ValueMappingsEditor,{onChange:this.onValueMappingsChanged,valueMappings:i.mappings}))},t}(V.PureComponent),Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,a=e.options,r=e.data,i=e.replaceVariables,o=Object(Y.getFieldDisplayValues)({fieldOptions:a.fieldOptions,data:r.series,theme:H.a.theme,replaceVariables:i}).map(function(e){return e.display});return $.a.createElement(re.PieChart,{width:t,height:n,values:o,pieType:a.pieType,strokeWidth:a.strokeWidth,theme:H.a.theme})},t}(V.PureComponent),Zn={pieType:re.PieChartType.PIE,strokeWidth:1,orientation:Y.VizOrientation.Auto,fieldOptions:Object(_.__assign)(Object(_.__assign)({},ge),{calcs:[Y.ReducerID.last],defaults:{unit:"short"}})},Xn=new Y.PanelPlugin(Jn).setDefaults(Zn).setEditor(Kn),ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderValue=function(e,n,a,r){var i=t.props.options,o=e.field,s=e.display,l=e.view,c=e.colIndex;return $.a.createElement(re.DataLinksContextMenu,{links:Object(nt.a)(e)},function(e){var u,d=e.openMenu,p=e.targetClassName;return $.a.createElement(re.BarGauge,{value:s,width:n,height:a,orientation:i.orientation,field:o,display:null===(u=l)||void 0===u?void 0:u.getFieldDisplayProcessor(c),theme:H.a.theme,itemSpacing:t.getItemSpacing(),displayMode:i.displayMode,onClick:d,className:p,alignmentFactors:r,showUnfilled:i.showUnfilled})})},t.getValues=function(){var e=t.props,n=e.data,a=e.options,r=e.replaceVariables;return Object(Y.getFieldDisplayValues)(Object(_.__assign)(Object(_.__assign)({},a),{replaceVariables:r,theme:H.a.theme,data:n.series,autoMinMax:!0}))},t}return Object(_.__extends)(t,e),t.prototype.getItemSpacing=function(){return"lcd"===this.props.options.displayMode?2:10},t.prototype.render=function(){var e=this.props,t=e.height,n=e.width,a=e.options,r=e.data,i=e.renderCounter;return $.a.createElement(re.VizRepeater,{source:r,getAlignmentFactors:Y.getDisplayValueAlignmentFactors,getValues:this.getValues,renderValue:this.renderValue,renderCounter:i,width:n,height:t,itemSpacing:this.getItemSpacing(),orientation:a.orientation})},t}(V.PureComponent),ta=[{value:re.BarGaugeDisplayMode.Gradient,label:"Gradient"},{value:re.BarGaugeDisplayMode.Lcd,label:"Retro LCD"},{value:re.BarGaugeDisplayMode.Basic,label:"Basic"}],na={displayMode:re.BarGaugeDisplayMode.Lcd,orientation:Y.VizOrientation.Horizontal,fieldOptions:Ln,showUnfilled:!0},aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onThresholdsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{thresholds:e}))},t.onValueMappingsChanged=function(e){var n=t.props.options.fieldOptions.defaults;t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},n),{mappings:e}))},t.onDisplayOptionsChanged=function(e){return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{fieldOptions:e}))},t.onDefaultsChange=function(e){t.onDisplayOptionsChanged(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions),{defaults:e}))},t.onOrientationChange=function(e){var n=e.value;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{orientation:n}))},t.onDisplayModeChange=function(e){var n=e.value;return t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{displayMode:n}))},t.onToggleShowUnfilled=function(){t.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options),{showUnfilled:!t.props.options.showUnfilled}))},t.onDataLinksChanged=function(e){t.onDefaultsChange(Object(_.__assign)(Object(_.__assign)({},t.props.options.fieldOptions.defaults),{links:e}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options,t=e.fieldOptions,n=t.defaults,a=t.values?Object(yt.b)(this.props.data.series):Object(yt.a)(this.props.data.series);return $.a.createElement($.a.Fragment,null,$.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Display"},$.a.createElement(re.FieldDisplayEditor,{onChange:this.onDisplayOptionsChanged,value:t,labelWidth:6}),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:6},"Orientation"),$.a.createElement(re.Select,{width:12,options:Rn,defaultValue:Rn[0],onChange:this.onOrientationChange,value:Rn.find(function(t){return t.value===e.orientation})})),$.a.createElement("div",{className:"form-field"},$.a.createElement(re.FormLabel,{width:6},"Mode"),$.a.createElement(re.Select,{width:12,options:ta,defaultValue:ta[0],onChange:this.onDisplayModeChange,value:ta.find(function(t){return t.value===e.displayMode})})),"lcd"!==e.displayMode&&$.a.createElement(re.Switch,{label:"Unfilled",labelClass:"width-6",checked:e.showUnfilled,onChange:this.onToggleShowUnfilled})),$.a.createElement(re.PanelOptionsGroup,{title:"Field"},$.a.createElement(re.FieldPropertiesEditor,{showMinMax:!0,showTitle:!0,onChange:this.onDefaultsChange,value:n})),$.a.createElement(re.ThresholdsEditor,{onChange:this.onThresholdsChanged,thresholds:n.thresholds,theme:H.a.theme,showAlphaUI:H.a.featureToggles.newEdit})),$.a.createElement(re.ValueMappingsEditor,{onChange:this.onValueMappingsChanged,valueMappings:n.mappings}),$.a.createElement(re.PanelOptionsGroup,{title:"Data links"},$.a.createElement(re.DataLinksEditor,{value:n.links,onChange:this.onDataLinksChanged,suggestions:a,maxLinks:10})))},t}(V.PureComponent),ra=new Y.PanelPlugin(ea).setDefaults(na).setEditor(aa).setPanelChangeHandler(re.sharedSingleStatPanelChangedHandler).setMigrationHandler(function(e){return Object(re.sharedSingleStatMigrationHandler)(e)}),ia=n("m257"),oa={showLabels:!1,showTime:!0,wrapLogMessage:!0,sortOrder:ia.c.Descending},sa=n("QJHg"),la=[{value:ia.c.Descending,label:"Descending"},{value:ia.c.Ascending,label:"Ascending"}],ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onToggleLabels=function(){var e=t.props,n=e.options,a=e.onOptionsChange,r=n.showLabels;a(Object(_.__assign)(Object(_.__assign)({},n),{showLabels:!r}))},t.onToggleTime=function(){var e=t.props,n=e.options,a=e.onOptionsChange,r=n.showTime;a(Object(_.__assign)(Object(_.__assign)({},n),{showTime:!r}))},t.onTogglewrapLogMessage=function(){var e=t.props,n=e.options,a=e.onOptionsChange,r=n.wrapLogMessage;a(Object(_.__assign)(Object(_.__assign)({},n),{wrapLogMessage:!r}))},t.onShowValuesChange=function(e){var n=t.props,a=n.options;(0,n.onOptionsChange)(Object(_.__assign)(Object(_.__assign)({},a),{sortOrder:e.value}))},t}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.props.options,t=e.showLabels,n=e.showTime,a=e.wrapLogMessage,r=e.sortOrder,i=la.filter(function(e){return e.value===r})[0];return $.a.createElement($.a.Fragment,null,$.a.createElement(re.PanelOptionsGrid,null,$.a.createElement(re.PanelOptionsGroup,{title:"Columns"},$.a.createElement(re.Switch,{label:"Time",labelClass:"width-10",checked:n,onChange:this.onToggleTime}),$.a.createElement(re.Switch,{label:"Unique labels",labelClass:"width-10",checked:t,onChange:this.onToggleLabels}),$.a.createElement(re.Switch,{label:"Wrap lines",labelClass:"width-10",checked:a,onChange:this.onTogglewrapLogMessage}),$.a.createElement("div",{className:"gf-form"},$.a.createElement(re.FormLabel,null,"Order"),$.a.createElement(re.Select,{options:la,value:i,onChange:this.onShowValuesChange})))))},t}(V.PureComponent),ua=new Y.PanelPlugin(function(e){var t=e.data,n=e.timeZone,a=e.options,r=a.showLabels,i=a.showTime,o=a.wrapLogMessage,s=a.sortOrder;e.width;if(!t)return $.a.createElement("div",{className:"panel-empty"},$.a.createElement("p",null,"No data found in response"));var l=t?Object(sa.a)(t.series,t.request.intervalMs,n):null,c=Object(ia.x)(l,s);return $.a.createElement(re.CustomScrollbar,{autoHide:!0},$.a.createElement(re.LogRows,{logRows:c.rows,dedupStrategy:Y.LogsDedupStrategy.none,highlighterExpressions:[],showLabels:r,showTime:i,wrapLogMessage:o,timeZone:n,allowDetails:!0}))}).setDefaults(oa).setEditor(ca);function da(e){return Object(_.__awaiter)(this,void 0,Promise,function(){var t,n,a,r,i;return Object(_.__generator)(this,function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:return[4,o.sent().text()];case 2:return t=o.sent(),n=new DOMParser,a=n.parseFromString(t,"text/xml"),r={items:[]},i=function(e,t){var n,a=e.querySelector(t);return a&&null!=(n=a.textContent)?n:""},a.querySelectorAll("item").forEach(function(e){var t={title:i(e,"title"),link:i(e,"link"),content:i(e,"description"),pubDate:i(e,"pubDate")};r.items.push(t)}),[2,r]}})})}var pa,fa,ha,ma,ga,ba,va,ya,wa,xa,Oa,_a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Object(_.__extends)(t,e),t.prototype.componentDidMount=function(){this.loadFeed()},t.prototype.componentDidUpdate=function(e){this.props.options.feedUrl!==e.options.feedUrl&&this.loadFeed()},t.prototype.loadFeed=function(){var e;return Object(_.__awaiter)(this,void 0,void 0,function(){var t,n,a,r;return Object(_.__generator)(this,function(i){switch(i.label){case 0:t=this.props.options,i.label=1;case 1:return i.trys.push([1,3,,4]),e=t.feedUrl,[4,da(null!=e?e:"https://grafana.com/blog/news.xml")];case 2:return n=i.sent(),a=function(e){var t,n,a=new Y.ArrayVector([]),r=new Y.ArrayVector([]),i=new Y.ArrayVector([]),o=new Y.ArrayVector([]);try{for(var s=Object(_.__values)(e.items),l=s.next();!l.done;l=s.next()){var c=l.value,u=Object(Y.dateTime)(c.pubDate);try{if(a.buffer.push(u.valueOf()),r.buffer.push(c.title),i.buffer.push(c.link),c.content){var d=c.content.replace(/<\/?[^>]+(>|$)/g,"");o.buffer.push(d)}}catch(e){console.warn("Error reading news item:",e,c)}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{fields:[{name:"date",type:Y.FieldType.time,config:{title:"Date"},values:a},{name:"title",type:Y.FieldType.string,config:{},values:r},{name:"link",type:Y.FieldType.string,config:{},values:i},{name:"content",type:Y.FieldType.string,config:{},values:o}],length:a.length}}(n),this.setState({news:new Y.DataFrameView(a),isError:!1}),[3,4];case 3:return r=i.sent(),console.error("Error Loading News",r),this.setState({news:void 0,isError:!0}),[3,4];case 4:return[2]}})})},t.prototype.render=function(){var e=this.state,t=e.isError,n=e.news,a=ka(H.b.theme);return t?$.a.createElement("div",null,"Error Loading News"):n?$.a.createElement("div",{className:a.container},$.a.createElement(re.CustomScrollbar,null,n.map(function(e,t){return $.a.createElement("div",{key:t,className:a.item},$.a.createElement("a",{href:e.link,target:"_blank"},$.a.createElement("div",{className:a.title},e.title),$.a.createElement("div",{className:a.date},Object(Y.dateTime)(e.date).format("MMM DD")," "),$.a.createElement("div",{className:a.content,dangerouslySetInnerHTML:{__html:Object(te.c)(e.content)}})))}))):$.a.createElement("div",null,"loading...")},t}(V.PureComponent),ka=Object(re.stylesFactory)(function(e){return{container:Object(At.css)(pa||(pa=Object(_.__makeTemplateObject)(["\n    height: 100%;\n  "],["\n    height: 100%;\n  "]))),item:Object(At.css)(fa||(fa=Object(_.__makeTemplateObject)(["\n    ","\n    padding: ",";\n    position: relative;\n    margin-bottom: 4px;\n    margin-right: ",";\n  "],["\n    ","\n    padding: ",";\n    position: relative;\n    margin-bottom: 4px;\n    margin-right: ",";\n  "])),re.styleMixins.listItem(e),e.spacing.sm,e.spacing.sm),title:Object(At.css)(ha||(ha=Object(_.__makeTemplateObject)(["\n    color: ",";\n    max-width: calc(100% - 70px);\n    font-size: 16px;\n    margin-bottom: ",";\n  "],["\n    color: ",";\n    max-width: calc(100% - 70px);\n    font-size: 16px;\n    margin-bottom: ",";\n  "])),e.colors.linkExternal,e.spacing.sm),content:Object(At.css)(ma||(ma=Object(_.__makeTemplateObject)(["\n    p {\n      margin-bottom: 4px;\n    }\n  "],["\n    p {\n      margin-bottom: 4px;\n    }\n  "]))),date:Object(At.css)(ga||(ga=Object(_.__makeTemplateObject)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: ",";\n    width: 55px;\n    text-align: right;\n    padding: ",";\n    font-weight: 500;\n    border-radius: 0 0 0 3px;\n    color: ",";\n  "],["\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: ",";\n    width: 55px;\n    text-align: right;\n    padding: ",";\n    font-weight: 500;\n    border-radius: 0 0 0 3px;\n    color: ",";\n  "])),e.colors.panelBg,e.spacing.xs,e.colors.textWeak)}}),ja="https://cors-anywhere.herokuapp.com/",Ca=function(e){function t(t){var n=e.call(this,t)||this;return n.onUpdatePanel=function(){return n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{feedUrl:n.state.feedUrl}))},n.onFeedUrlChange=function(e){var t=e.target;return n.setState({feedUrl:t.value})},n.onSetProxyPrefix=function(){var e=ja+n.state.feedUrl;n.setState({feedUrl:e}),n.props.onOptionsChange(Object(_.__assign)(Object(_.__assign)({},n.props.options),{feedUrl:e}))},n.state={feedUrl:t.options.feedUrl},n}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=this.state.feedUrl||"",t=e&&!e.startsWith(ja);return $.a.createElement($.a.Fragment,null,$.a.createElement(re.PanelOptionsGroup,{title:"Feed"},$.a.createElement("div",{className:"gf-form"},$.a.createElement(re.FormField,{label:"URL",labelWidth:4,inputWidth:30,value:e||"",placeholder:"https://grafana.com/blog/news.xml",onChange:this.onFeedUrlChange,onBlur:this.onUpdatePanel})),t&&$.a.createElement("div",null,$.a.createElement("br",null),$.a.createElement("div",null,"If the feed is unable to connect, consider a CORS proxy"),$.a.createElement(re.Button,{variant:"inverse",onClick:this.onSetProxyPrefix},"Use Proxy"))))},t}(V.PureComponent),Sa=new Y.PanelPlugin(_a).setDefaults({}).setEditor(Ca),Ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){var e=Aa();return $.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:e.list},$.a.createElement(Ta,{title:"Documentation",icon:"fa fa-book",url:"https://grafana.com/docs/grafana/latest?utm_source=grafana_homelinks",target:"_blank"}),$.a.createElement(Ta,{title:"Getting started",icon:"fa fa-bolt",url:"https://grafana.com/docs/grafana/latest/guides/getting_started/?utm_source=grafana_homelinks",target:"_blank"}),$.a.createElement(Ta,{title:"Community forum",icon:"fa fa-comments",url:"https://community.grafana.com?utm_source=grafana_homelinks",target:"_blank"}),$.a.createElement(Ta,{title:"Report a bug",icon:"fa fa-bug",url:"https://github.com/grafana/grafana/issues/new?template=1-bug_report.md",target:"_blank"})),$.a.createElement(Ma,null))},t}(V.PureComponent),Ta=function(e){var t=e.title,n=e.url,a=e.target,r=e.icon,i=Aa();return $.a.createElement("a",{className:i.item,href:n,target:a},$.a.createElement("i",{className:Object(At.cx)(r,i.icon)}),t)},Ma=function(){var e=Aa(),t=H.b.buildInfo,n=t.version,a=t.commit;return $.a.createElement("div",{className:e.footer},"Version ",n," (",a,")")},Aa=Object(re.stylesFactory)(function(){var e=H.b.theme;return{list:Object(At.css)(ba||(ba=Object(_.__makeTemplateObject)(["\n      display: flex;\n      flex-direction: column;\n      padding: ",";\n    "],["\n      display: flex;\n      flex-direction: column;\n      padding: ",";\n    "])),e.spacing.md),icon:Object(At.css)(va||(va=Object(_.__makeTemplateObject)(["\n      padding-right: ",";\n    "],["\n      padding-right: ",";\n    "])),e.spacing.sm),footer:Object(At.css)(ya||(ya=Object(_.__makeTemplateObject)(["\n      ","\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      text-align: center;\n      padding: ",";\n      border-radius: 0;\n      box-shadow: none;\n      color: ",";\n    "],["\n      ","\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      text-align: center;\n      padding: ",";\n      border-radius: 0;\n      box-shadow: none;\n      color: ",";\n    "])),re.styleMixins.listItem(e),e.spacing.sm,e.colors.textWeak),item:Object(At.css)(wa||(wa=Object(_.__makeTemplateObject)(["\n      ","\n      padding: ",";\n      display: flex;\n      margin-bottom: ",";\n      align-items: center;\n    "],["\n      ","\n      padding: ",";\n      display: flex;\n      margin-bottom: ",";\n      align-items: center;\n    "])),re.styleMixins.listItem(e),e.spacing.sm,e.spacing.xs)}}),Na=new Y.PanelPlugin(Ea).setDefaults({}).setNoPadding(),Da={"app/plugins/datasource/graphite/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(33).then(n.bind(null,"nKVo"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/cloudwatch/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(28).then(n.bind(null,"Z209"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/dashboard/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(63).then(n.bind(null,"cD+E"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/elasticsearch/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(30).then(n.bind(null,"EnIS"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/opentsdb/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(42).then(n.bind(null,"02dm"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/grafana/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(32).then(n.bind(null,"gcd9"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/influxdb/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(34).then(n.bind(null,"sl8e"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/loki/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(37).then(n.bind(null,"+2Nz"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/mixed/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(38).then(n.bind(null,"CaV2"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/mysql/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(41).then(n.bind(null,"qSU+"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/postgres/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(43).then(n.bind(null,"2Wqq"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/mssql/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(40).then(n.bind(null,"R57O"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/prometheus/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(44).then(n.bind(null,"EaOu"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/testdata/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(47).then(n.bind(null,"RQDA"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/input/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(35).then(n.bind(null,"sz7o"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/stackdriver/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(46).then(n.bind(null,"swYP"))];case 1:return[2,e.sent()]}})})},"app/plugins/datasource/grafana-azure-monitor-datasource/module":function(){return Object(_.__awaiter)(void 0,void 0,void 0,function(){return Object(_.__generator)(this,function(e){switch(e.label){case 0:return[4,n.e(26).then(n.bind(null,"CLTJ"))];case 1:return[2,e.sent()]}})})},"app/plugins/panel/text/module":a,"app/plugins/panel/text2/module":r,"app/plugins/panel/graph2/module":i,"app/plugins/panel/graph/module":o,"app/plugins/panel/dashlist/module":s,"app/plugins/panel/pluginlist/module":l,"app/plugins/panel/alertlist/module":c,"app/plugins/panel/annolist/module":u,"app/plugins/panel/heatmap/module":d,"app/plugins/panel/table/module":p,"app/plugins/panel/table2/module":f,"app/plugins/panel/news/module":x,"app/plugins/panel/singlestat/module":h,"app/plugins/panel/stat/module":m,"app/plugins/panel/gettingstarted/module":g,"app/plugins/panel/gauge/module":b,"app/plugins/panel/piechart/module":v,"app/plugins/panel/bargauge/module":y,"app/plugins/panel/logs/module":w,"app/plugins/panel/homelinks/module":O},Ia=n("t8hP"),Pa=n("DtyJ"),Fa=n("ahDk"),La=function(e){function t(t){return e.call(this,t)||this}return Object(_.__extends)(t,e),t.prototype.render=function(){return $.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},$.a.createElement(re.Alert,Object(_.__assign)({severity:Te.AppNotificationSeverity.Error},this.props)))},t}(V.PureComponent);n.d(t,"d",function(){return qa}),n.d(t,"b",function(){return za}),n.d(t,"a",function(){return Ha}),n.d(t,"c",function(){return Wa});var Ra=re;Ra.PanelPlugin=Y.PanelPlugin,Ra.DataSourcePlugin=Y.DataSourcePlugin,Ra.AppPlugin=Y.AppPlugin,Ra.DataSourceApi=Y.DataSourceApi;var Va="?_cache="+Date.now();function $a(e,t){Ia.SystemJS.registerDynamic(e,[],!0,function(e,n,a){a.exports=t})}Ia.SystemJS.registry.set("plugin-loader",Ia.SystemJS.newModule({locate:function(e){return e.address+Va}})),Ia.SystemJS.config({baseURL:"public",defaultExtension:"js",packages:{plugins:{defaultExtension:"js"}},map:{text:"vendor/plugin-text/text.js",css:"vendor/plugin-css/css.js"},meta:{"/*":{esModule:!0,authorization:!0,loader:"plugin-loader"}}}),$a("@grafana/data",Y),$a("@grafana/ui",Ra),$a("@grafana/runtime",Ia),$a("lodash",j.a),$a("moment",T.a),$a("jquery",D.a),$a("angular",A.a),$a("d3",Pt),$a("rxjs",Pa),$a("rxjs/operators",Fa),$a("prismjs",P.a),$a("slate",F.o),$a("@grafana/slate-react",L.b),$a("slate-plain-serializer",R.a),$a("react",$.a),$a("react-dom",U.a),$a("react-redux",q),$a("redux",z),$a("emotion",At),$a("app/features/dashboard/impression_store",{impressions:ee.a,__esModule:!0}),$a("app/core/services/backend_srv",{BackendSrv:X.a,getBackendSrv:X.b}),$a("app/plugins/sdk",C),$a("app/core/utils/datemath",Y.dateMath),$a("app/core/utils/file_export",K),$a("app/core/utils/flatten",J),$a("app/core/utils/kbn",S.a),$a("app/core/utils/ticks",Z),$a("app/core/config",H.b),$a("app/core/time_series",G.a),$a("app/core/time_series2",G.a),$a("app/core/table_model",W.a),$a("app/core/app_events",Q.a),$a("app/core/core_module",Q.c),$a("app/core/core",{coreModule:Q.c,appEvents:Q.a,contextSrv:Q.b,__esModule:!0});try{for(var Ba=Object(_.__values)(["jquery.flot","jquery.flot.pie","jquery.flot.time","jquery.flot.fillbelow","jquery.flot.crosshair","jquery.flot.stack","jquery.flot.selection","jquery.flot.stackpercent","jquery.flot.events","jquery.flot.gauge"]),Ua=Ba.next();!Ua.done;Ua=Ba.next()){$a(Ua.value,{fakeDep:1})}}catch(e){xa={error:e}}finally{try{Ua&&!Ua.done&&(Oa=Ba.return)&&Oa.call(Ba)}finally{if(xa)throw xa.error}}function qa(e){return Object(_.__awaiter)(this,void 0,Promise,function(){var t;return Object(_.__generator)(this,function(n){switch(n.label){case 0:return(t=Da[e])?"function"!=typeof t?[3,2]:[4,t()]:[3,3];case 1:return[2,n.sent()];case 2:return[2,Promise.resolve(t)];case 3:return[2,Ia.SystemJS.import(e)]}})})}function za(e){return qa(e.module).then(function(t){var n;if(t.plugin)return(n=t.plugin).meta=e,n;if(t.Datasource)return(n=new Y.DataSourcePlugin(t.Datasource)).setComponentsFromLegacyExports(t),n.meta=e,n;throw new Error("Plugin module is missing DataSourcePlugin or Datasource constructor export")})}function Ha(e){return qa(e.module).then(function(t){var n=t.plugin?t.plugin:new Y.AppPlugin;return n.init(e),n.meta=e,n.setComponentsFromLegacyExports(t),n})}var Ga={};function Wa(e){var t=Ga[e];if(t)return Promise.resolve(t);var n=H.b.panels[e];return n?qa(n.module).then(function(e){if(e.plugin)return e.plugin;if(e.PanelCtrl){var t=new Y.PanelPlugin(null);return t.angularPanelCtrl=e.PanelCtrl,t}throw new Error("missing export: plugin or PanelCtrl")}).then(function(e){return e.meta=n,Ga[n.id]=e}).catch(function(t){return console.warn("Error loading panel plugin: "+e,t),function(e,t){var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(_.__extends)(n,t),n.prototype.render=function(){var t=$.a.createElement($.a.Fragment,null,"Check the server startup logs for more information. ",$.a.createElement("br",null),"If this plugin was loaded from git, make sure it was compiled.");return $.a.createElement(La,{title:"Error loading: "+e.id,text:t})},n}(V.PureComponent),a=new Y.PanelPlugin(n);return a.meta=e,a.loadError=!0,a}(n)}):Promise.resolve(function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(_.__extends)(n,t),n.prototype.render=function(){return $.a.createElement(La,{title:"Panel plugin not found: "+e})},n}(V.PureComponent),n=new Y.PanelPlugin(t);return n.meta={id:e,name:e,sort:100,type:Y.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}},n}(e))}},WNR3:function(e,t){var n="public/app/features/alerting/partials/notification_edit.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n\n  <h3 class=page-sub-heading ng-hide=ctrl.isNew>Edit Notification Channel</h3>\n  <h3 class=page-sub-heading ng-show=ctrl.isNew>New Notification Channel</h3>\n\n  <form name=ctrl.theForm ng-if=ctrl.notifiers>\n    <div class=gf-form-group>\n      <div class=gf-form>\n        <span class="gf-form-label width-12">Name</span>\n        <input type=text required class="gf-form-input max-width-15" ng-model=ctrl.model.name required>\n      </div>\n      <div class=gf-form>\n        <span class="gf-form-label width-12">Type</span>\n        <div class="gf-form-select-wrapper width-15">\n          <select class=gf-form-input ng-model=ctrl.model.type ng-options="t.type as t.name for t in ctrl.notifiers" ng-change="ctrl.typeChanged(notification, $index)">\n          </select>\n        </div>\n      </div>\n      <gf-form-switch class=gf-form label="Default (send on all alerts)" label-class=width-14 checked=ctrl.model.isDefault tooltip="Use this notification for all alerts">\n      </gf-form-switch>\n      <gf-form-switch class=gf-form label="Include image" label-class=width-14 checked=ctrl.model.settings.uploadImage tooltip="Captures an image and include it in the notification">\n      </gf-form-switch>\n      <gf-form-switch class=gf-form label="Disable Resolve Message" label-class=width-14 checked=ctrl.model.disableResolveMessage tooltip="Disable the resolve message [OK] that is sent when alerting state returns to false">\n      </gf-form-switch>\n      <gf-form-switch class=gf-form label="Send reminders" label-class=width-14 checked=ctrl.model.sendReminder tooltip="Send additional notifications for triggered alerts">\n      </gf-form-switch>\n      <div class=gf-form-inline>\n        <div class=gf-form ng-if=ctrl.model.sendReminder>\n          <span class="gf-form-label width-12">Send reminder every\n            <info-popover mode=right-normal position="top center">\n              Specify how often reminders should be sent, e.g. every 30s, 1m, 10m, 30m or 1h etc.\n            </info-popover>\n          </span>\n          <input type=text placeholder="Select or specify custom" class="gf-form-input width-15" ng-model=ctrl.model.frequency bs-typeahead=ctrl.getFrequencySuggestion data-min-length=0 ng-required=ctrl.model.sendReminder>\n        </div>\n      </div>\n      <div class=gf-form>\n          <span class="alert alert-info width-30" ng-if=ctrl.model.sendReminder>\n            Alert reminders are sent after rules are evaluated. Therefore a reminder can never be sent more frequently than a configured alert rule evaluation interval.\n          </span>\n        </div>\n    </div>\n\n    <div class=gf-form-group ng-include src=ctrl.notifierTemplateId>\n    </div>\n\n    <div class="gf-form-group gf-form-button-row">\n\t\t\t<button type=submit ng-click=ctrl.save() class="btn btn-primary width-7">Save</button>\n\t\t\t<button type=submit ng-click=ctrl.testNotification() class="btn btn-secondary width-7">Send Test</button>\n\t\t\t<button type=delete ng-if=!ctrl.isNew ng-click=ctrl.deleteNotification() class="btn btn-danger width-7">Delete</button>\n\t\t\t<a href=alerting/notifications class="btn btn-inverse">Back</a>\n    </div>\n  </form>\n</div>\n\n<footer/>\n')}]),e.exports=n},WUic:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return y});var a,r=n("mrSG"),i=n("LvDl"),o=n.n(i),s=n("txxJ"),l=n("Xmxp"),c=n("m257"),u=n("UIT+"),d=n("iODs"),p=n("GQ3c"),f=n("imBb"),h=n.n(f),m=n("Obii"),g=(n("XcA1"),n("t8hP")),b=function(){function e(e,t,n,a,r,i){var o=this;this.$rootScope=e,this.$location=t,this.$timeout=n,this.datasourceSrv=a,this.timeSrv=r,this.contextSrv=i,this.modalOpen=!1,this.timepickerOpen=!1,e.$on("$routeChangeSuccess",function(){h.a.reset(),o.setupGlobal()}),this.setupGlobal(),l.b.on(p.CoreEvents.showModal,function(){return o.modalOpen=!0}),l.b.on(p.CoreEvents.timepickerOpen,function(){return o.timepickerOpen=!0}),l.b.on(p.CoreEvents.timepickerClosed,function(){return o.timepickerOpen=!1})}return e.$inject=["$rootScope","$location","$timeout","datasourceSrv","timeSrv","contextSrv"],e.prototype.setupGlobal=function(){"/login"!==this.$location.path()&&(this.bind(["?","h"],this.showHelpModal),this.bind("g h",this.goToHome),this.bind("g a",this.openAlerting),this.bind("g p",this.goToProfile),this.bind("s o",this.openSearch),this.bind("f",this.openSearch),this.bind("esc",this.exit),this.bindGlobal("esc",this.globalEsc))},e.prototype.globalEsc=function(){var e=document,t=e.activeElement;document.querySelectorAll(".slate-typeahead--open").length>0||(t&&t.blur&&("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName||t.hasAttribute("data-slate-editor"))?e.activeElement.blur():this.exit())},e.prototype.openSearch=function(){l.b.emit(p.CoreEvents.showDashSearch)},e.prototype.openAlerting=function(){this.$location.url("/alerting")},e.prototype.goToHome=function(){this.$location.url("/")},e.prototype.goToProfile=function(){this.$location.url("/profile")},e.prototype.showHelpModal=function(){l.b.emit(p.CoreEvents.showModal,{templateHtml:"<help-modal></help-modal>"})},e.prototype.exit=function(){if(l.b.emit(p.CoreEvents.hideModal),!this.modalOpen){if(this.timepickerOpen)return this.$rootScope.appEvent(p.CoreEvents.closeTimepicker),void(this.timepickerOpen=!1);var e=this.$location.search();return e.editview?(delete e.editview,void this.$location.search(e)):e.editPanel?(delete e.editPanel,void this.$location.search(e)):void(e.fullscreen?l.b.emit(m.PanelEvents.panelChangeView,{fullscreen:!1,edit:!1}):e.kiosk&&this.$rootScope.appEvent(p.CoreEvents.toggleKioskMode,{exit:!0}))}this.modalOpen=!1},e.prototype.bind=function(e,t){var n=this;h.a.bind(e,function(e){return e.preventDefault(),e.stopPropagation(),e.returnValue=!1,n.$rootScope.$apply(t.bind(n))},"keydown")},e.prototype.bindGlobal=function(e,t){var n=this;h.a.bindGlobal(e,function(e){return e.preventDefault(),e.stopPropagation(),e.returnValue=!1,n.$rootScope.$apply(t.bind(n))},"keydown")},e.prototype.unbind=function(e,t){h.a.unbind(e,t)},e.prototype.showDashEditView=function(){var e=o.a.extend(this.$location.search(),{editview:"settings"});this.$location.search(e)},e.prototype.setupDashboardBindings=function(e,t){var n=this;this.bind("mod+o",function(){t.graphTooltip=(t.graphTooltip+1)%3,l.b.emit(p.CoreEvents.graphHoverClear),t.startRefresh()}),this.bind("mod+s",function(){e.appEvent(p.CoreEvents.saveDashboard)}),this.bind("t z",function(){e.appEvent(p.CoreEvents.zoomOut,2)}),this.bind("ctrl+z",function(){e.appEvent(p.CoreEvents.zoomOut,2)}),this.bind("t left",function(){e.appEvent(p.CoreEvents.shiftTime,-1)}),this.bind("t right",function(){e.appEvent(p.CoreEvents.shiftTime,1)}),this.bind("e",function(){t.canEditPanelById(t.meta.focusPanelId)&&l.b.emit(m.PanelEvents.panelChangeView,{fullscreen:!0,edit:!0,panelId:t.meta.focusPanelId,toggle:!0})}),this.bind("v",function(){t.meta.focusPanelId&&l.b.emit(m.PanelEvents.panelChangeView,{fullscreen:!0,panelId:t.meta.focusPanelId,toggle:!0})}),this.contextSrv.hasAccessToExplore()&&this.bind("x",function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var e,n,a,i,o=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return t.meta.focusPanelId?(e=t.getPanelById(t.meta.focusPanelId),[4,this.datasourceSrv.get(e.datasource)]):[3,3];case 1:return n=r.sent(),[4,Object(c.k)({panel:e,panelTargets:e.targets,panelDatasource:n,datasourceSrv:this.datasourceSrv,timeSrv:this.timeSrv})];case 2:a=r.sent(),(i=u.a.stripBaseFromUrl(a))&&this.$timeout(function(){return o.$location.url(i)}),r.label=3;case 3:return[2]}})})}),this.bind("p r",function(){t.canEditPanelById(t.meta.focusPanelId)&&(l.b.emit(p.CoreEvents.removePanel,t.meta.focusPanelId),t.meta.focusPanelId=0)}),this.bind("p d",function(){if(t.canEditPanelById(t.meta.focusPanelId)){var e=t.getPanelInfoById(t.meta.focusPanelId).index;t.duplicatePanel(t.panels[e])}}),this.bind("p s",function(){if(t.meta.focusPanelId){var n=e.$new(),a=t.getPanelInfoById(t.meta.focusPanelId);n.panel=a.panel,n.dashboard=t,l.b.emit(p.CoreEvents.showModal,{src:"public/app/features/dashboard/components/ShareModal/template.html",scope:n})}}),this.bind("p i",function(){t.meta.focusPanelId&&Object(g.getLocationSrv)().update({partial:!0,query:{inspect:t.meta.focusPanelId}})}),this.bind("p l",function(){if(t.meta.focusPanelId&&t.getPanelInfoById(t.meta.focusPanelId).panel.legend){var e=t.getPanelById(t.meta.focusPanelId);e.legend.show=!e.legend.show,e.render()}}),this.bind("d l",function(){t.toggleLegendsForAll()}),this.bind("d shift+c",function(){t.collapseRows()}),this.bind("d shift+e",function(){t.expandRows()}),this.bind("d n",function(){n.$location.url("/dashboard/new")}),this.bind("d r",function(){t.startRefresh()}),this.bind("d s",function(){n.showDashEditView()}),this.bind("d k",function(){l.b.emit(p.CoreEvents.toggleKioskMode)}),this.bind("d v",function(){l.b.emit(p.CoreEvents.toggleViewMode)}),this.bind("d a",function(){var e=d.b.getState().location.query.autofitpanels?"":"&autofitpanels";window.location.href=window.location.href+e})},e}();function v(e){a=e}function y(){return a}s.c.service("keybindingSrv",b)},WnbS:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("LvDl"),r=n.n(a),i=n("txxJ"),o=n("ZFWI"),s=n("Vw/f"),l=n("t8hP"),c=n("Obii"),u=n("exx3"),d=function(){function e(e,t,n){this.$injector=e,this.$rootScope=t,this.templateSrv=n,this.init()}return e.$inject=["$injector","$rootScope","templateSrv"],e.prototype.init=function(){this.datasources={}},e.prototype.get=function(e,t){return e?"default"===(e=this.templateSrv.replace(e,t,function(e,t){return Array.isArray(e)?e[0]:e}))?this.get(o.b.defaultDatasource):this.datasources[e]?Promise.resolve(this.datasources[e]):this.loadDatasource(e):this.get(o.b.defaultDatasource)},e.prototype.loadDatasource=function(e){var t=this;if(e===u.b.name)return this.datasources[e]=u.b,Promise.resolve(u.b);var n=o.b.datasources[e];return n?Object(s.b)(n.meta).then(function(a){if(t.datasources[e])return t.datasources[e];var r=1!==a.DataSourceClass.length?t.$injector.instantiate(a.DataSourceClass,{instanceSettings:n}):new a.DataSourceClass(n);return r.components=a.components,r.meta=n.meta,t.datasources[e]=r,r}).catch(function(e){t.$rootScope.appEvent(c.AppEvents.alertError,[n.name+" plugin failed",e.toString()])}):Promise.reject({message:"Datasource named "+e+" was not found"})},e.prototype.getAll=function(){var e=o.b.datasources;return Object.keys(e).map(function(t){return e[t]})},e.prototype.getExternal=function(){var e=this.getAll().filter(function(e){return!e.meta.builtIn});return r.a.sortBy(e,["name"])},e.prototype.getAnnotationSources=function(){var e=[];return this.addDataSourceVariables(e),r.a.each(o.b.datasources,function(t){t.meta&&t.meta.annotations&&e.push(t)}),e},e.prototype.getMetricSources=function(e){var t=[];return r.a.each(o.b.datasources,function(e,n){if(e.meta&&e.meta.metrics){var a={value:n,name:n,meta:e.meta,sort:n};"grafana"===e.meta.id?a.sort=String.fromCharCode(253):"dashboard"===e.meta.id?a.sort=String.fromCharCode(254):"mixed"===e.meta.id&&(a.sort=String.fromCharCode(255)),t.push(a),n===o.b.defaultDatasource&&(a={value:null,name:"default",meta:e.meta,sort:n},t.push(a))}}),e&&e.skipVariables||this.addDataSourceVariables(t),t.sort(function(e,t){return e.sort.toLowerCase()>t.sort.toLowerCase()?1:e.sort.toLowerCase()<t.sort.toLowerCase()?-1:0}),t},e.prototype.addDataSourceVariables=function(e){for(var t=0;t<this.templateSrv.variables.length;t++){var n=this.templateSrv.variables[t];if("datasource"===n.type){var a=n.current.value;"default"===a&&(a=o.b.defaultDatasource);var r=o.b.datasources[a];if(r){var i="$"+n.name;e.push({name:i,value:i,meta:r.meta,sort:i})}}}},e}(),p=function(){return Object(l.getDataSourceSrv)()};i.c.service("datasourceSrv",d)},WtGe:function(e,t){var n="public/app/features/datasources/partials/http_settings_next.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<datasource-http-settings-next on-change=onChange datasourceconfig=current showaccessoptions=showAccessOption defaulturl=suggestUrl />\n")}]),e.exports=n},Wu7z:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n("q1tI"),i=n.n(r);!function(e){e.Grid="grid",e.List="list"}(a||(a={}));t.b=function(e){var t=e.mode,n=e.onLayoutModeChanged;return i.a.createElement("div",{className:"layout-selector"},i.a.createElement("button",{onClick:function(){n(a.List)},className:t===a.List?"active":""},i.a.createElement("i",{className:"fa fa-list"})),i.a.createElement("button",{onClick:function(){n(a.Grid)},className:t===a.Grid?"active":""},i.a.createElement("i",{className:"fa fa-th"})))}},"X+V3":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(e){return e.routeParams.id},r=function(e){return e.routeParams.page}},X4jf:function(e,t){var n="public/app/features/plugins/partials/update_instructions.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body>\n\t<div class=modal-header>\n\t\t<h2 class=modal-header-title>\n\t\t\t<i class="fa fa-cloud-download"></i>\n\t\t\t<span class=p-l-1>Update Plugin</span>\n\t\t</h2>\n\n\t\t<a class=modal-header-close ng-click=dismiss();>\n\t\t\t<i class="fa fa-remove"></i>\n\t\t</a>\n\t</div>\n\n\t<div class=modal-content>\n\t\t<div class=gf-form-group>\n\t\t\t<p>Type the following on the command line to update {{model.name}}.</p>\n\t\t\t<pre><code>grafana-cli plugins update {{model.id}}</code></pre>\n\t\t\t<span class=small>Check out {{model.name}} on <a href=https://grafana.com/plugins/{{model.id}}>Grafana.com</a> for README and changelog. If you do not have access to the command line, ask your Grafana administator.</span>\n\t\t</div>\n\t\t<p class=pluginlist-none-installed><img class=pluginlist-inline-logo src=public/img/grafana_icon.svg><strong>Pro tip</strong>: To update all plugins at once, type <code class=code--small>grafana-cli plugins update-all</code> on the command line.</p></div>\n\t</div>\n\n')}]),e.exports=n},Xmxp:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=new(n("1524").a);t.b=a},XrM5:function(e,t){var n="public/app/features/panel/partials/general_tab.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=panel-options-group>\n  \x3c!-- <div class="panel&#45;option&#45;section__header">Information</div> --\x3e\n  <div class=panel-options-group__body>\n    <div class=section>\n      <div class=gf-form>\n        <span class="gf-form-label width-7">Title</span>\n        <input type=text class="gf-form-input width-25" ng-model=ctrl.panel.title ng-model-onblur>\n      </div>\n      <gf-form-switch class=gf-form label-class=width-7 switch-class=max-width-6 label=Transparent checked=ctrl.panel.transparent on-change=ctrl.render()></gf-form-switch>\n    </div>\n    <div class=section>\n      <div class="gf-form gf-form--v-stretch">\n        <span class="gf-form-label width-7">Description</span>\n        <textarea class="gf-form-input width-25" rows=5 ng-model=ctrl.panel.description ng-model-onblur placeholder="Panel description, supports markdown & links"></textarea>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=panel-options-group>\n  <div class=panel-options-group__header>\n    <div class=panel-options-group__title>Repeating</div>\n  </div>\n  <div class=panel-options-group__body>\n    <div class=section>\n      <div class=gf-form>\n        <span class="gf-form-label width-9">Repeat</span>\n        <dash-repeat-option panel=ctrl.panel></dash-repeat-option>\n      </div>\n      <div class=gf-form ng-show=ctrl.panel.repeat>\n        <span class="gf-form-label width-9">Direction</span>\n        <select class=gf-form-input ng-model=ctrl.panel.repeatDirection ng-options="f.value as f.text for f in [{value: \'v\', text: \'Vertical\'}, {value: \'h\', text: \'Horizontal\'}]">\n          <option value=""></option>\n        </select>\n      </div>\n      <div class=gf-form ng-show="ctrl.panel.repeat && ctrl.panel.repeatDirection == \'h\'">\n        <span class="gf-form-label width-9">Max per row</span>\n        <select class=gf-form-input ng-model=ctrl.panel.maxPerRow ng-options="f for f in [2,3,4,6,12,24]">\n          <option value=""></option>\n        </select>\n      </div>\n      <div class=gf-form-hint>\n        <div class="gf-form-hint-text muted">\n          Note: You may need to change the variable selection to see this in action.\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},XrW9:function(e,t){var n="public/app/features/dashboard/components/FolderPicker/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-inline>\n  <div class=gf-form>\n    <label class="gf-form-label {{ctrl.labelClass}}">Folder</label>\n    <div class=dropdown ng-hide=ctrl.createNewFolder>\n      <gf-form-dropdown model=ctrl.folder get-options=ctrl.getOptions($query) on-change=ctrl.onFolderChange($option)>\n      </gf-form-dropdown>\n    </div>\n    <input type=text class="gf-form-input max-width-10" ng-if=ctrl.createNewFolder give-focus=ctrl.createNewFolder ng-model=ctrl.newFolderName ng-model-options="{ debounce: 400 }" ng-change=ctrl.newFolderNameChanged() />\n  </div>\n  <div class=gf-form ng-if=ctrl.createNewFolder>\n    <button class="btn btn-inverse" ng-click=ctrl.createFolder($event) ng-disabled="!ctrl.newFolderNameTouched || ctrl.hasValidationError">\n      Create\n    </button>\n  </div>\n  <div class=gf-form ng-if=ctrl.createNewFolder>\n    <button class="btn btn-inverse" ng-click=ctrl.cancelCreateFolder($event)>\n      Cancel\n  </button>\n  </div>\n</div>\n<div class=gf-form-inline ng-if="ctrl.newFolderNameTouched && ctrl.hasValidationError">\n  <div class="gf-form gf-form--grow">\n    <label class="gf-form-label text-warning gf-form-label--grow">\n      <i class="fa fa-warning"></i>\n      {{ctrl.validationError}}\n    </label>\n  </div>\n</div>\n')}]),e.exports=n},YRnh:function(e,t){var n="public/app/partials/reset_password.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n\t<div class=signup>\n\t\t<h3 class=p-b-1>Reset password</h3>\n\n\t\t<div ng-if="ldapEnabled || authProxyEnabled">\n\t\t\tYou cannot reset password when LDAP or Auth Proxy authentication is enabled.\n\t\t</div>\n\t\t<div ng-if=disableLoginForm>\n\t\t\tYou cannot reset password when login form is disabled.\n\t\t</div>\n\t\t<form name=sendResetForm class="login-form gf-form-group" ng-show="mode === \'send\'" ng-hide="ldapEnabled || authProxyEnabled || disableLoginForm || mode === \'reset\'">\n\t\t\t<div class=gf-form>\n\t\t\t\t\t<span class="gf-form-label width-7">User</span>\n\t\t\t\t\t<input type=text name=username class="gf-form-input max-width-14" required ng-model=formModel.userOrEmail placeholder="email or username">\n\t\t\t</div>\n\t\t\t<div class=gf-form-button-row>\n\t\t\t\t<button type=submit class="btn btn-primary" ng-click=sendResetEmail(); ng-disabled=!sendResetForm.$valid>\n\t\t\t\t\tReset Password\n\t\t\t\t</button>\n\t\t\t\t<a href=login class="btn btn-inverse">\n\t\t\t\t\tBack\n\t\t\t\t</a>\n\n\t\t\t</div>\n\t\t</form>\n\t\t<div ng-show="mode === \'email-sent\'">\n\t\t\tAn email with a reset link has been sent to the email address. <br>\n\t\t\tYou should receive it shortly.\n\t\t\t<div class=p-t-1>\n\t\t\t\t<a href=login class="btn btn-primary p-t-1">\n\t\t\t\t\tLogin\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<form name=resetForm class="login-form gf-form-group" ng-show="mode === \'reset\'">\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-9">New Password</span>\n\t\t\t\t<input type=password name=NewPassword class="gf-form-input max-width-14" required ng-minlength=4 ng-model=formModel.newPassword placeholder=password watch-change="formModel.newPassword = inputValue;">\n\t\t\t</div>\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-9">Confirm Password</span>\n\t\t\t\t<input type=password name=ConfirmPassword class="gf-form-input max-width-14" required ng-minlength=4 ng-model=formModel.confirmPassword placeholder="confirm password">\n\t\t\t</div>\n\t\t\t<div class=signup__password-strength>\n\t\t\t\t<password-strength password=formModel.newPassword></password-strength>\n\t\t\t</div>\n\t\t\t<div class=gf-form-button-row>\n\t\t\t\t<button type=submit class="btn btn-primary" ng-click=submitReset(); ng-disabled=!resetForm.$valid>\n\t\t\t\t\tReset Password\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n\n<footer/>\n')}]),e.exports=n},YiuE:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return b}),n.d(t,"k",function(){return v}),n.d(t,"m",function(){return y}),n.d(t,"h",function(){return w}),n.d(t,"g",function(){return x});var a,r,i=n("mrSG"),o=n("i7Pf"),s=Object(o.c)({name:"ldap",initialState:{connectionInfo:[],syncInfo:null,user:null,connectionError:null,userError:null},reducers:{ldapConnectionInfoLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{ldapError:null,connectionInfo:t.payload})},ldapFailedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{ldapError:t.payload})},ldapSyncStatusLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{syncInfo:t.payload})},userMappingInfoLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{user:t.payload,userError:null})},userMappingInfoFailedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{user:null,userError:t.payload})},clearUserMappingInfoAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{user:null})},clearUserErrorAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{userError:null})}}}),l=(a=s.actions).clearUserErrorAction,c=a.clearUserMappingInfoAction,u=a.ldapConnectionInfoLoadedAction,d=a.ldapFailedAction,p=a.ldapSyncStatusLoadedAction,f=a.userMappingInfoFailedAction,h=a.userMappingInfoLoadedAction,m=s.reducer,g=Object(o.c)({name:"userAdmin",initialState:{user:null,sessions:[],orgs:[],isLoading:!0},reducers:{userProfileLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{user:t.payload})},userOrgsLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{orgs:t.payload})},userSessionsLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{sessions:t.payload})},userAdminPageLoadedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{isLoading:!t.payload})},userAdminPageFailedAction:function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{error:t.payload,isLoading:!1})}}}),b=(r=g.actions).userProfileLoadedAction,v=r.userOrgsLoadedAction,y=r.userSessionsLoadedAction,w=r.userAdminPageLoadedAction,x=r.userAdminPageFailedAction,O=g.reducer;t.c={ldap:m,userAdmin:O}},YmbM:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("F03Y"),r=function(){function e(e,t){this.source=e,this.order=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.source.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.source.get(this.order[e])},e.prototype.toArray=function(){return Object(a.a)(this)},e.prototype.toJSON=function(){return Object(a.a)(this)},e}()},"Z6j/":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var a,r=n("mrSG"),i=function(e){function t(t){var n=e.call(this)||this;return n.DataSourceClass=t,n.components={},n}return Object(r.__extends)(t,e),t.prototype.setConfigEditor=function(e){return this.components.ConfigEditor=e,this},t.prototype.setConfigCtrl=function(e){return this.angularConfigCtrl=e,this},t.prototype.setQueryCtrl=function(e){return this.components.QueryCtrl=e,this},t.prototype.setAnnotationQueryCtrl=function(e){return this.components.AnnotationsQueryCtrl=e,this},t.prototype.setQueryEditor=function(e){return this.components.QueryEditor=e,this},t.prototype.setExploreQueryField=function(e){return this.components.ExploreQueryField=e,this},t.prototype.setExploreMetricsQueryField=function(e){return this.components.ExploreMetricsQueryField=e,this},t.prototype.setExploreLogsQueryField=function(e){return this.components.ExploreLogsQueryField=e,this},t.prototype.setExploreStartPage=function(e){return this.components.ExploreStartPage=e,this},t.prototype.setVariableQueryEditor=function(e){return this.components.VariableQueryEditor=e,this},t.prototype.setMetadataInspector=function(e){return this.components.MetadataInspector=e,this},t.prototype.setComponentsFromLegacyExports=function(e){this.angularConfigCtrl=e.ConfigCtrl,this.components.QueryCtrl=e.QueryCtrl,this.components.AnnotationsQueryCtrl=e.AnnotationsQueryCtrl,this.components.ExploreQueryField=e.ExploreQueryField,this.components.ExploreStartPage=e.ExploreStartPage,this.components.QueryEditor=e.QueryEditor,this.components.VariableQueryEditor=e.VariableQueryEditor},t}(n("CnP+").a),o=function(){return function(e){this.name=e.name,this.id=e.id}}();!function(e){e[e.Connected=0]="Connected",e[e.Disconnected=1]="Disconnected"}(a||(a={}));var s=function(){return function(){}}()},ZFWI:function(e,t,n){"use strict";n.d(t,"c",function(){return i});n("mrSG");var a=n("t8hP");n.d(t,"a",function(){return a.config});var r=a.config;t.b=r;var i=function(){return r}},ZG7E:function(e,t){var n="public/app/plugins/panel/graph/axes_editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n\t<div class="section gf-form-group" ng-repeat="yaxis in ctrl.panel.yaxes">\n\n\t\t<h5 class=section-heading ng-show="$index === 0">Left Y</h5>\n\t\t<h5 class=section-heading ng-show="$index === 1">Right Y</h5>\n\n\t\t<gf-form-switch class=gf-form label=Show label-class=width-6 checked=yaxis.show on-change=ctrl.render()></gf-form-switch>\n\n\t\t<div ng-if=yaxis.show>\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">Unit</label>\n        <unit-picker onchange=ctrl.setUnitFormat(yaxis) value=yaxis.format width=20 />\n\t\t\t</div>\n\t\t</div>\n\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">Scale</label>\n\t\t\t\t<div class="gf-form-select-wrapper max-width-20">\n\t\t\t\t\t<select class=gf-form-input ng-model=yaxis.logBase ng-options="v as k for (k, v) in ctrl.logScales" ng-change=ctrl.render()></select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=gf-form-inline>\n\t\t\t\t<div class=gf-form>\n\t\t\t\t\t<label class="gf-form-label width-6">Y-Min</label>\n\t\t\t\t\t<input type=text class="gf-form-input width-5" placeholder=auto empty-to-null ng-model=yaxis.min ng-change=ctrl.render() ng-model-onblur>\n\t\t\t\t</div>\n\t\t\t\t<div class=gf-form>\n\t\t\t\t\t<label class="gf-form-label width-6">Y-Max</label>\n\t\t\t\t\t<input type=text class="gf-form-input width-5" placeholder=auto empty-to-null ng-model=yaxis.max ng-change=ctrl.render() ng-model-onblur>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t<div ng-if=yaxis.show>\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">Decimals</label>\n\t\t\t\t<input type=number class="gf-form-input max-width-20" placeholder=auto empty-to-null bs-tooltip="\'Override automatic decimal precision for y-axis\'" data-placement=right ng-model=yaxis.decimals ng-change=ctrl.render() ng-model-onblur>\n\t\t\t</div>\n\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">Label</label>\n\t\t\t\t<input type=text class="gf-form-input max-width-20" ng-model=yaxis.label ng-change=ctrl.render() ng-model-onblur>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="section gf-form-group" aria-label={{ctrl.selectors.xAxisSection}}>\n\t\t<h5 class=section-heading>X-Axis</h5>\n\t\t<gf-form-switch class=gf-form label=Show label-class=width-6 checked=ctrl.panel.xaxis.show on-change=ctrl.render()></gf-form-switch>\n\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label width-6">Mode</label>\n\t\t\t<div class="gf-form-select-wrapper max-width-15">\n\t\t\t\t<select class=gf-form-input ng-model=ctrl.panel.xaxis.mode ng-options="v as k for (k, v) in ctrl.xAxisModes" ng-change=ctrl.xAxisModeChanged()> </select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- Series mode --\x3e\n\t\t<div class=gf-form ng-if="ctrl.panel.xaxis.mode === \'series\'">\n\t\t\t<label class="gf-form-label width-6">Value</label>\n      <metric-segment-model property=ctrl.panel.xaxis.values[0] options=ctrl.xAxisStatOptions on-change=ctrl.xAxisValueChanged() custom=false css-class=width-10 select-mode=true></metric-segment-model>\n\t\t</div>\n\n\t\t\x3c!-- Histogram mode --\x3e\n\t\t<div class=gf-form ng-if="ctrl.panel.xaxis.mode === \'histogram\'">\n\t\t\t<label class="gf-form-label width-6">Buckets</label>\n\t\t\t<input type=number class="gf-form-input max-width-8" ng-model=ctrl.panel.xaxis.buckets placeholder=auto ng-change=ctrl.render() ng-model-onblur bs-tooltip="\'Number of buckets\'" data-placement=right>\n\t\t</div>\n\n\t\t<div class=gf-form-inline ng-if="ctrl.panel.xaxis.mode === \'histogram\'">\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">X-Min</label>\n\t\t\t\t<input type=number class="gf-form-input width-5" placeholder=auto empty-to-null ng-model=ctrl.panel.xaxis.min ng-change=ctrl.render() ng-model-onblur>\n\t\t\t</div>\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label width-6">X-Max</label>\n\t\t\t\t<input type=number class="gf-form-input width-5" placeholder=auto empty-to-null ng-model=ctrl.panel.xaxis.max ng-change=ctrl.render() ng-model-onblur>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<br/>\n\t\t\t<h5 class=section-heading>Y-Axes</h5>\n\t\t\t<gf-form-switch class=gf-form label=Align tooltip="Align left and right Y-axes" label-class=width-6 switch-class=width-5 checked=ctrl.panel.yaxis.align on-change=ctrl.render()></gf-form-switch>\n\t\t\t<div class=gf-form ng-show=ctrl.panel.yaxis.align>\n\t\t\t\t<label class="gf-form-label width-6">\n\t\t\t\t\tLevel\n\t\t\t\t</label>\n\t\t\t\t<input type=number class="gf-form-input width-5" placeholder=0 ng-model=ctrl.panel.yaxis.alignLevel ng-change=ctrl.render() ng-model-onblur bs-tooltip="\'Alignment of Y-axes are based on this value, starting from Y=0\'" data-placement=right>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n</div>\n')}]),e.exports=n},ZGyg:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("lzJ5"),s=n("4DTL"),l=n("5C3A"),c=n("kDLi"),u=function(e){var t=e.pageName,n="Loading "+(void 0===t?"":t)+"...";return i.a.createElement("div",{className:"page-loader-wrapper"},i.a.createElement(c.LoadingPlaceholder,{text:n}))},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.isLoading;return i.a.createElement("div",{className:"page-container page-body"},e?i.a.createElement(u,null):this.props.children)},t}(r.Component),p=n("LvDl"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateTitle=function(){var e=t.getPageTitle;document.title=e?e+" - Grafana":"Grafana"},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateTitle()},t.prototype.componentDidUpdate=function(e){Object(p.isEqual)(e.navModel,this.props.navModel)||this.updateTitle()},Object.defineProperty(t.prototype,"getPageTitle",{get:function(){var e=this.props.navModel;if(e)return Object(o.b)(e)||void 0},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.navModel;return i.a.createElement("div",{className:"page-scrollbar-wrapper"},i.a.createElement(c.CustomScrollbar,{autoHeightMin:"100%",className:"custom-scrollbar--page"},i.a.createElement("div",{className:"page-scrollbar-content"},i.a.createElement(s.a,{model:e}),this.props.children,i.a.createElement(l.a,null))))},t.Header=s.a,t.Contents=d,t}(r.Component);t.a=f},ZJ8E:function(e,t,n){"use strict";function a(e){return e.map(r).sort(function(e,t){return t.sortRank-e.sortRank||e.name.localeCompare(t.name)})}function r(e){var t=e;return t.sortRank=0,t.userId>0?(t.name=t.userLogin,t.sortRank=10):t.teamId>0?(t.name=t.team,t.sortRank=20):t.role&&(t.icon="fa fa-fw fa-street-view",t.name=t.role,t.sortRank=30,"Editor"===t.role&&(t.sortRank+=1)),t.inherited&&(t.sortRank+=100),t}n.d(t,"a",function(){return a})},ZSVY:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var a,r=n("mrSG"),i=n("UB5X"),o=n.n(i),s=n("KgU3"),l=n("2kIT");function c(e){var t,n,a,i,l,c,d=e.field,p=e.reducers;if(!d||!p||p.length<1)return{};if(d.calcs){var f=[];try{for(var h=Object(r.__values)(p),m=h.next();!m.done;m=h.next()){var g=m.value;d.calcs.hasOwnProperty(g)||f.push(g)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}if(f.length<1)return Object(r.__assign)({},d.calcs)}var b=u.list(p);if(d.values.length<1){var v=Object(r.__assign)({},d.calcs);try{for(var y=Object(r.__values)(b),w=y.next();!w.done;w=y.next()){v[(E=w.value).id]=null!==E.emptyInputResult?E.emptyInputResult:null}}catch(e){a={error:e}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}return d.calcs=v}var x=d.config.nullValueMode,O=x===s.NullValueMode.Ignore,_=x===s.NullValueMode.AsZero;if(1===b.length&&b[0].reduce){var k=b[0].reduce(d,O,_);return d.calcs=Object(r.__assign)(Object(r.__assign)({},d.calcs),k),k}var j=function(e,t,n){var a={sum:0,max:-Number.MAX_VALUE,min:Number.MAX_VALUE,logmin:Number.MAX_VALUE,mean:null,last:null,first:null,lastNotNull:null,firstNotNull:null,count:0,nonNullCount:0,allIsNull:!0,allIsZero:!0,range:null,diff:null,delta:0,step:Number.MAX_VALUE,previousDeltaUp:!0},r=e.values;a.count=r.length;for(var i=0;i<r.length;i++){var s=r.get(i);if(0===i&&(a.first=s),a.last=s,null===s){if(t)continue;n&&(s=0)}if(null!=s){var l=null===a.firstNotNull;if(l&&(a.firstNotNull=s),o()(s)){if(a.sum+=s,a.allIsNull=!1,a.nonNullCount++,!l){var c=s-a.lastNotNull;a.step>c&&(a.step=c),a.lastNotNull>s?(a.previousDeltaUp=!1,i===r.length-1&&(a.delta+=s)):(a.previousDeltaUp?a.delta+=c:a.delta+=s,a.previousDeltaUp=!0)}s>a.max&&(a.max=s),s<a.min&&(a.min=s),s<a.logmin&&s>0&&(a.logmin=s)}0!==s&&(a.allIsZero=!1),a.lastNotNull=s}}a.max===-Number.MAX_VALUE&&(a.max=null);a.min===Number.MAX_VALUE&&(a.min=null);a.step===Number.MAX_VALUE&&(a.step=null);a.nonNullCount>0&&(a.mean=a.sum/a.nonNullCount);a.allIsNull&&(a.allIsZero=!1);null!==a.max&&null!==a.min&&(a.range=a.max-a.min);o()(a.firstNotNull)&&o()(a.lastNotNull)&&(a.diff=a.lastNotNull-a.firstNotNull);return a}(d,O,_);try{for(var C=Object(r.__values)(b),S=C.next();!S.done;S=C.next()){var E=S.value;!j.hasOwnProperty(E.id)&&E.reduce&&(j=Object(r.__assign)(Object(r.__assign)({},j),E.reduce(d,O,_)))}}catch(e){l={error:e}}finally{try{S&&!S.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}return d.calcs=Object(r.__assign)(Object(r.__assign)({},d.calcs),j),j}!function(e){e.sum="sum",e.max="max",e.min="min",e.logmin="logmin",e.mean="mean",e.last="last",e.first="first",e.count="count",e.range="range",e.diff="diff",e.delta="delta",e.step="step",e.firstNotNull="firstNotNull",e.lastNotNull="lastNotNull",e.changeCount="changeCount",e.distinctCount="distinctCount",e.allIsZero="allIsZero",e.allIsNull="allIsNull"}(a||(a={}));var u=new l.a(function(){return[{id:a.lastNotNull,name:"Last (not null)",description:"Last non-null value",standard:!0,aliasIds:["current"],reduce:h},{id:a.last,name:"Last",description:"Last Value",standard:!0,reduce:f},{id:a.first,name:"First",description:"First Value",standard:!0,reduce:d},{id:a.firstNotNull,name:"First (not null)",description:"First non-null value",standard:!0,reduce:p},{id:a.min,name:"Min",description:"Minimum Value",standard:!0},{id:a.max,name:"Max",description:"Maximum Value",standard:!0},{id:a.mean,name:"Mean",description:"Average Value",standard:!0,aliasIds:["avg"]},{id:a.sum,name:"Total",description:"The sum of all values",emptyInputResult:0,standard:!0,aliasIds:["total"]},{id:a.count,name:"Count",description:"Number of values in response",emptyInputResult:0,standard:!0},{id:a.range,name:"Range",description:"Difference between minimum and maximum values",standard:!0},{id:a.delta,name:"Delta",description:"Cumulative change in value",standard:!0},{id:a.step,name:"Step",description:"Minimum interval between values",standard:!0},{id:a.diff,name:"Difference",description:"Difference between first and last values",standard:!0},{id:a.logmin,name:"Min (above zero)",description:"Used for log min scale",standard:!0},{id:a.allIsZero,name:"All Zeros",description:"All values are zero",emptyInputResult:!1,standard:!0},{id:a.allIsNull,name:"All Nulls",description:"All values are null",emptyInputResult:!0,standard:!0},{id:a.changeCount,name:"Change Count",description:"Number of times the value changes",standard:!1,reduce:m},{id:a.distinctCount,name:"Distinct Count",description:"Number of distinct values",standard:!1,reduce:g}]});function d(e,t,n){return{first:e.values.get(0)}}function p(e,t,n){for(var a=e.values,r=0;r<a.length;r++){var i=a.get(r);if(null!=i&&void 0!==i)return{firstNotNull:i}}return{firstNotNull:null}}function f(e,t,n){var a=e.values;return{last:a.get(a.length-1)}}function h(e,t,n){for(var a=e.values,r=a.length-1;r>=0;){var i=a.get(r--);if(null!=i&&void 0!==i)return{lastNotNull:i}}return{lastNotNull:null}}function m(e,t,n){for(var a=e.values,r=0,i=!0,o=null,s=0;s<a.length;s++){var l=a.get(s);if(null===l){if(t)continue;n&&(l=0)}i||o===l||r++,i=!1,o=l}return{changeCount:r}}function g(e,t,n){for(var a=e.values,r=new Set,i=0;i<a.length;i++){var o=a.get(i);if(null===o){if(t)continue;n&&(o=0)}r.add(o)}return{distinctCount:r.size}}},ZYew:function(e,t,n){"use strict";var a,r,i,o,s,l,c,u,d,p=n("mrSG"),f=n("q1tI"),h=n.n(f),m=n("Obii"),g=n("RO46"),b=n("qltg"),v=n.n(b),y=n("Vt59"),w=n("PAeb"),x=n("4Qg+"),O=n("9o1o"),_=n("Fts8"),k=n("qQGB"),j=n("eGKl"),C=Object(k.a)(function(e){var t=Object(j.a)({light:e.colors.white,dark:e.colors.gray15},e.type),n=Object(j.a)({light:e.colors.gray4,dark:e.colors.black},e.type),f=Object(j.a)({light:e.colors.gray7,dark:e.colors.gray10},e.type),h=Object(j.a)({light:e.colors.gray6,dark:e.colors.gray05},e.type),m=Object(j.a)({light:e.colors.gray25,dark:e.colors.gray85},e.type);return{menu:Object(w.css)(a||(a=Object(p.__makeTemplateObject)(["\n      background: ",";\n      box-shadow: 0px 4px 4px ",";\n      position: absolute;\n      min-width: 100%;\n    "],["\n      background: ",";\n      box-shadow: 0px 4px 4px ",";\n      position: absolute;\n      min-width: 100%;\n    "])),t,n),option:Object(w.css)(r||(r=Object(p.__makeTemplateObject)(["\n      padding: 8px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      flex-direction: row;\n      white-space: nowrap;\n      cursor: pointer;\n      &:hover {\n        background: ",";\n      }\n    "],["\n      padding: 8px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      flex-direction: row;\n      white-space: nowrap;\n      cursor: pointer;\n      &:hover {\n        background: ",";\n      }\n    "])),f),optionFocused:Object(w.css)(i||(i=Object(p.__makeTemplateObject)(["\n      background: ",";\n      border-image: linear-gradient(#f05a28 30%, #fbca0a 99%);\n      border-image-slice: 1;\n      border-style: solid;\n      border-top: 0;\n      border-right: 0;\n      border-bottom: 0;\n      border-left-width: 2px;\n    "],["\n      background: ",";\n      border-image: linear-gradient(#f05a28 30%, #fbca0a 99%);\n      border-image-slice: 1;\n      border-style: solid;\n      border-top: 0;\n      border-right: 0;\n      border-bottom: 0;\n      border-left-width: 2px;\n    "])),f),singleValue:Object(w.css)(o||(o=Object(p.__makeTemplateObject)(["\n      color: ",";\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      box-sizing: border-box;\n      max-width: 100%;\n    "],["\n      color: ",";\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      box-sizing: border-box;\n      max-width: 100%;\n    "])),e.colors.formInputText),valueContainer:Object(w.css)(s||(s=Object(p.__makeTemplateObject)(["\n      align-items: center;\n      display: flex;\n      position: relative;\n      box-sizing: border-box;\n      flex: 1 1 0%;\n      outline: none;\n      overflow: hidden;\n    "],["\n      align-items: center;\n      display: flex;\n      position: relative;\n      box-sizing: border-box;\n      flex: 1 1 0%;\n      outline: none;\n      overflow: hidden;\n    "]))),valueContainerMulti:Object(w.css)(l||(l=Object(p.__makeTemplateObject)(["\n      flex-wrap: wrap;\n    "],["\n      flex-wrap: wrap;\n    "]))),loadingMessage:Object(w.css)(c||(c=Object(p.__makeTemplateObject)(["\n      padding: ",";\n      text-align: center;\n      width: 100%;\n    "],["\n      padding: ",";\n      text-align: center;\n      width: 100%;\n    "])),e.spacing.sm),multiValueContainer:Object(w.css)(u||(u=Object(p.__makeTemplateObject)(["\n      display: flex;\n      align-items: center;\n      line-height: 1;\n      background: ",";\n      border-radius: ",";\n      padding: "," "," "," ",";\n      margin: "," "," "," 0;\n      color: ",";\n    "],["\n      display: flex;\n      align-items: center;\n      line-height: 1;\n      background: ",";\n      border-radius: ",";\n      padding: "," "," "," ",";\n      margin: "," "," "," 0;\n      color: ",";\n    "])),h,e.border.radius.sm,e.spacing.xs,e.spacing.xxs,e.spacing.xs,e.spacing.sm,e.spacing.xxs,e.spacing.xs,e.spacing.xxs,m),multiValueRemove:Object(w.css)(d||(d=Object(p.__makeTemplateObject)(["\n      margin-left: ",";\n    "],["\n      margin-left: ",";\n    "])),e.spacing.xs)}}),S=n("vkM9"),E=h.a.forwardRef(function(e,t){var n=Object(_.c)(),a=C(n),r=e.children,i=e.maxHeight,o=e.innerRef;return h.a.createElement("div",{className:a.menu,ref:o,style:{maxHeight:i},"aria-label":"Select options menu"},h.a.createElement(S.a,{autoHide:!1,autoHeightMax:"inherit",hideHorizontalTrack:!0},r))});E.displayName="SelectMenu";var T,M,A,N,D,I,P,F,L=h.a.forwardRef(function(e,t){var n=Object(_.c)(),a=C(n),r=e.children,i=e.innerProps,o=e.data,s=e.renderOptionLabel,l=e.isSelected,c=e.isFocused;return h.a.createElement("div",Object(p.__assign)({ref:t,className:Object(w.cx)(a.option,c&&a.optionFocused)},i,{"aria-label":"Select option"}),h.a.createElement("span",null,s?s(o):r),l&&h.a.createElement("span",null,h.a.createElement(y.a,{name:"check"})))}),R=n("6iRR"),V=h.a.forwardRef(function(e,t){var n=e.children,a=Object(_.c)(),r=Object(R.b)({theme:a,invalid:!1});return h.a.createElement("div",{className:Object(w.cx)(r.suffix,Object(w.css)(T||(T=Object(p.__makeTemplateObject)(["\n          position: relative;\n          top: auto;\n        "],["\n          position: relative;\n          top: auto;\n        "])))),ref:t},n)}),$=function(e){var t=Object(_.c)(),n=C(t),a=e.children,r=e.isMulti;return h.a.createElement("div",{className:Object(w.cx)(n.valueContainer,r&&n.valueContainerMulti)},a)},B=n("MIBK"),U=Object(B.g)(function(e,t,n,a,r){var i=Object(R.b)({theme:e,invalid:t});return{wrapper:Object(w.cx)(i.wrapper,Object(x.e)(e,t),n&&Object(w.css)(M||(M=Object(p.__makeTemplateObject)(["\n            ","\n          "],["\n            ","\n          "])),Object(x.a)(e)),a&&i.inputDisabled,Object(w.css)(A||(A=Object(p.__makeTemplateObject)(["\n          min-height: 32px;\n          height: auto;\n          flex-direction: row;\n          padding-right: 0;\n          max-width: 100%;\n          align-items: center;\n          cursor: default;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          position: relative;\n          box-sizing: border-box;\n        "],["\n          min-height: 32px;\n          height: auto;\n          flex-direction: row;\n          padding-right: 0;\n          max-width: 100%;\n          align-items: center;\n          cursor: default;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          position: relative;\n          box-sizing: border-box;\n        "]))),r&&Object(w.css)(N||(N=Object(p.__makeTemplateObject)(["\n            padding-left: 0;\n          "],["\n            padding-left: 0;\n          "])))),prefix:Object(w.cx)(i.prefix,Object(w.css)(D||(D=Object(p.__makeTemplateObject)(["\n          position: relative;\n        "],["\n          position: relative;\n        "]))))}}),q=h.a.forwardRef(function(e,t){var n=e.focused,a=e.invalid,r=e.disabled,i=e.children,o=e.innerProps,s=e.prefix,l=(Object(p.__rest)(e,["focused","invalid","disabled","children","innerProps","prefix"]),Object(_.c)()),c=U(l,a,n,r,!!s);return h.a.createElement("div",Object(p.__assign)({className:c.wrapper},o,{ref:t}),s&&h.a.createElement("div",{className:Object(w.cx)(c.prefix)},s),i)}),z=function(e){var t=e.isOpen?"caret-up":"caret-down";return h.a.createElement(y.a,{name:t})},H=n("mbvD"),G=n("sH2m"),W=function(e){var t=e.innerProps,n=e.children,a=Object(B.h)(),r=C(a);return h.a.createElement("div",Object(p.__assign)({},t,{className:r.multiValueContainer}),n)},Q=function(e){e.children;var t=e.innerProps,n=Object(B.h)(),a=C(n);return h.a.createElement("div",Object(p.__assign)({},t,{className:a.multiValueRemove}),h.a.createElement(y.a,{name:"times"}))},Y=function(e){var t=e.children,n=e.innerProps,a=e.selectProps,r=a.menuIsOpen,i=a.onMenuClose,o=a.onMenuOpen,s=e.isFocused,l=e.isMulti,c=e.getValue,u=e.innerRef,d=e.selectProps;return d.renderControl?h.a.createElement(d.renderControl,{isOpen:r,value:l?c():c()[0],ref:u,onClick:r?i:o,onBlur:i,disabled:!!d.disabled,invalid:!!d.invalid}):h.a.createElement(q,{ref:u,innerProps:n,prefix:d.prefix,focused:s,invalid:!!d.invalid,disabled:!!d.disabled},t)};function K(e){var t=e.value,n=e.defaultValue,a=e.inputValue,r=e.onInputChange,i=e.options,o=void 0===i?[]:i,s=e.onChange,l=e.onBlur,c=e.onKeyDown,u=e.onCloseMenu,d=e.onOpenMenu,f=e.placeholder,b=void 0===f?"Choose":f,_=e.getOptionValue,k=e.getOptionLabel,j=e.isSearchable,S=void 0===j||j,T=e.disabled,M=void 0!==T&&T,A=e.isClearable,N=void 0!==A&&A,D=e.isMulti,R=void 0!==D&&D,U=e.isLoading,q=void 0!==U&&U,K=e.isOpen,J=e.autoFocus,Z=void 0!==J&&J,X=e.openMenuOnFocus,ee=void 0!==X&&X,te=e.maxMenuHeight,ne=void 0===te?300:te,ae=e.noOptionsMessage,re=void 0===ae?"No options found":ae,ie=e.tabSelectsValue,oe=void 0===ie||ie,se=e.backspaceRemovesValue,le=void 0===se||se,ce=e.allowCustomValue,ue=void 0!==ce&&ce,de=e.size,pe=void 0===de?"auto":de,fe=e.prefix,he=e.formatCreateLabel,me=e.loadOptions,ge=e.loadingMessage,be=void 0===ge?"Loading options...":ge,ve=e.defaultOptions,ye=e.renderControl,we=e.width,xe=e.invalid,Oe=e.components,_e=Object(B.h)(),ke=C(_e),je=g.c,Ce={},Se={},Ee=[];Ee=R&&me?t:R&&t&&Array.isArray(t)&&!me?t.map(function(e){return o.filter(function(t){return e===t.value||t.value===e.value})[0]}):o.filter(function(e){return e.value===t||e===t});var Te={autoFocus:Z,placeholder:b,isSearchable:S,isDisabled:M,disabled:M,invalid:xe,prefix:fe,isClearable:N,isLoading:q,menuIsOpen:K,defaultValue:n,inputValue:a,onInputChange:r,value:R?Ee:Ee[0],getOptionLabel:k,getOptionValue:_,openMenuOnFocus:ee,maxMenuHeight:ne,isMulti:R,backspaceRemovesValue:le,onMenuOpen:d,onMenuClose:u,tabSelectsValue:oe,options:o,onChange:s,onBlur:l,onKeyDown:c,menuShouldScrollIntoView:!1,renderControl:ye},Me="";return we&&(Object(m.deprecationWarning)("Select","width property","size or className"),Me="width-"+we),ue&&(je=g.a,Ce.formatCreateLabel=null!=he?he:function(e){return"Create: "+e}),me&&(je=v.a,Se={loadOptions:me,defaultOptions:ve}),h.a.createElement(je,Object(p.__assign)({components:Object(p.__assign)({MenuList:E,Group:H.a,ValueContainer:$,IndicatorsContainer:V,IndicatorSeparator:function(){return h.a.createElement(h.a.Fragment,null)},Control:Y,Option:L,ClearIndicator:function(e){var t=e.clearValue;return h.a.createElement(y.a,{name:"times",onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),t()}})},LoadingIndicator:function(e){return h.a.createElement(y.a,{name:"spinner",className:"fa fa-spin"})},LoadingMessage:function(e){return h.a.createElement("div",{className:ke.loadingMessage},be)},NoOptionsMessage:function(e){return h.a.createElement("div",{className:ke.loadingMessage,"aria-label":"No options provided"},re)},DropdownIndicator:function(e){return h.a.createElement(z,{isOpen:e.selectProps.menuIsOpen})},SingleValue:G.a,MultiValueContainer:W,MultiValueRemove:Q},Oe),styles:Object(p.__assign)(Object(p.__assign)({},Object(O.a)()),{singleValue:function(){return Object(w.css)(I||(I=Object(p.__makeTemplateObject)(["\n            overflow: hidden;\n          "],["\n            overflow: hidden;\n          "])))},container:function(){return Object(w.css)(P||(P=Object(p.__makeTemplateObject)(["\n            position: relative;\n            ","\n          "],["\n            position: relative;\n            ","\n          "])),Object(x.d)()[pe])},placeholder:function(){return Object(w.css)(F||(F=Object(p.__makeTemplateObject)(["\n            display: inline-block;\n            color: hsl(0, 0%, 50%);\n            position: absolute;\n            top: 50%;\n            transform: translateY(-50%);\n            box-sizing: border-box;\n            line-height: 1;\n          "],["\n            display: inline-block;\n            color: hsl(0, 0%, 50%);\n            position: absolute;\n            top: 50%;\n            transform: translateY(-50%);\n            box-sizing: border-box;\n            line-height: 1;\n          "])))}}),className:Me},Te,Ce,Se))}function J(e){return h.a.createElement(K,Object(p.__assign)({},e))}n.d(t,"a",function(){return J})},a9tP:function(e,t){},aLCo:function(e,t){var n="public/app/features/manage-dashboards/partials/snapshot_list.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n   <table class=filter-table>\n    <thead>\n      <th><strong>Name</strong></th>\n      <th><strong>Snapshot url</strong></th>\n      <th style=width:70px></th>\n      <th style=width:30px></th>\n      <th style=width:25px></th>\n\t\t</thead>\n\t\t<tr ng-repeat="snapshot in ctrl.snapshots">\n      <td>\n        <a href={{snapshot.url}}>{{snapshot.name}}</a>\n      </td>\n      <td>\n        <a href={{snapshot.url}}>{{snapshot.url}}</a>\n      </td>\n      <td>\n        <span class=query-keyword ng-if=snapshot.external>External</span>\n      </td>\n      <td class=text-center>\n        <a href={{snapshot.url}} class="btn btn-inverse btn-small">\n          <i class="gicon gicon-viewer"></i>\n          View\n        </a>\n      </td>\n      <td class=text-right>\n        <a ng-click=ctrl.removeSnapshot(snapshot) class="btn btn-danger btn-small">\n          <i class="fa fa-remove"></i>\n        </a>\n      </td>\n    </tr>\n  </table>\n\n</div>\n\n<footer/>\n')}]),e.exports=n},aPt1:function(e,t,n){"use strict";var a,r,i,o,s,l,c,u,d=n("mrSG"),p=n("q1tI"),f=n.n(p),h=n("PAeb"),m=n("MIBK"),g=n("oeKk"),b=n("lcef"),v=Object(m.g)(function(e){return{buttonContainer:Object(h.css)(a||(a=Object(d.__makeTemplateObject)(["\n      direction: rtl;\n      display: flex;\n      align-items: center;\n    "],["\n      direction: rtl;\n      display: flex;\n      align-items: center;\n    "]))),buttonDisabled:Object(h.css)(r||(r=Object(d.__makeTemplateObject)(["\n      text-decoration: none;\n      color: ",";\n      opacity: 0.65;\n      cursor: not-allowed;\n      pointer-events: none;\n    "],["\n      text-decoration: none;\n      color: ",";\n      opacity: 0.65;\n      cursor: not-allowed;\n      pointer-events: none;\n    "])),e.colors.text),buttonShow:Object(h.css)(i||(i=Object(d.__makeTemplateObject)(["\n      opacity: 1;\n      transition: opacity 0.1s ease;\n      z-index: 2;\n    "],["\n      opacity: 1;\n      transition: opacity 0.1s ease;\n      z-index: 2;\n    "]))),buttonHide:Object(h.css)(o||(o=Object(d.__makeTemplateObject)(["\n      opacity: 0;\n      transition: opacity 0.1s ease;\n      z-index: 0;\n    "],["\n      opacity: 0;\n      transition: opacity 0.1s ease;\n      z-index: 0;\n    "]))),confirmButtonContainer:Object(h.css)(s||(s=Object(d.__makeTemplateObject)(["\n      overflow: hidden;\n      position: absolute;\n      z-index: 1;\n    "],["\n      overflow: hidden;\n      position: absolute;\n      z-index: 1;\n    "]))),confirmButton:Object(h.css)(l||(l=Object(d.__makeTemplateObject)(["\n      display: flex;\n      align-items: flex-start;\n    "],["\n      display: flex;\n      align-items: flex-start;\n    "]))),confirmButtonShow:Object(h.css)(c||(c=Object(d.__makeTemplateObject)(["\n      opacity: 1;\n      transition: opacity 0.08s ease-out, transform 0.1s ease-out;\n      transform: translateX(0);\n    "],["\n      opacity: 1;\n      transition: opacity 0.08s ease-out, transform 0.1s ease-out;\n      transform: translateX(0);\n    "]))),confirmButtonHide:Object(h.css)(u||(u=Object(d.__makeTemplateObject)(["\n      opacity: 0;\n      transition: opacity 0.12s ease-in, transform 0.14s ease-in;\n      transform: translateX(100px);\n    "],["\n      opacity: 0;\n      transition: opacity 0.12s ease-in, transform 0.14s ease-in;\n      transform: translateX(100px);\n    "])))}}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showConfirm:!1},t.onClickButton=function(e){e&&e.preventDefault(),t.setState({showConfirm:!0}),t.props.onClick&&t.props.onClick()},t.onClickCancel=function(e){e&&e.preventDefault(),t.setState({showConfirm:!1}),t.props.onCancel&&t.props.onCancel()},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.className,a=e.size,r=e.disabled,i=e.confirmText,o=e.confirmVariant,s=e.onConfirm,l=e.children,c=v(t),u=Object(h.cx)(n,this.state.showConfirm?c.buttonHide:c.buttonShow,r&&c.buttonDisabled),d=Object(h.cx)(c.confirmButton,this.state.showConfirm?c.confirmButtonShow:c.confirmButtonHide),p=r?function(){}:this.onClickButton;return f.a.createElement("span",{className:c.buttonContainer},"string"==typeof l?f.a.createElement("span",{className:u},f.a.createElement(b.a.Button,{size:a,variant:"link",onClick:p},l)):f.a.createElement("span",{className:u,onClick:p},l),f.a.createElement("span",{className:c.confirmButtonContainer},f.a.createElement("span",{className:d},f.a.createElement(g.a,{size:a,variant:"transparent",onClick:this.onClickCancel},"Cancel"),f.a.createElement(g.a,{size:a,variant:o,onClick:s},i))))},t.defaultProps={size:"md",confirmText:"Save",disabled:!1,confirmVariant:"primary"},t}(p.PureComponent),w=Object(m.i)(y);w.displayName="ConfirmButton";var x=function(e){var t=e.size,n=e.disabled,a=e.onConfirm;return f.a.createElement(w,{confirmText:"Delete",confirmVariant:"danger",size:t||"md",disabled:n,onConfirm:a},f.a.createElement(g.a,{variant:"danger",icon:"fa fa-remove",size:t||"sm"}))},O=n("5/7A"),_=n("rEbV"),k=n("uomI"),j=n("BC3V"),C=n("vkM9"),S=n("TSYQ"),E=n.n(S),T=n("RO46"),M=n("qltg"),A=n.n(M),N=function(e){var t=e.children,n=e.isSelected,a=e.data;return f.a.createElement(T.b.Option,Object(d.__assign)({},e),f.a.createElement("div",{className:"gf-form-select-box__desc-option"},a.imgUrl&&f.a.createElement("img",{className:"gf-form-select-box__desc-option__img",src:a.imgUrl}),f.a.createElement("div",{className:"gf-form-select-box__desc-option__body"},f.a.createElement("div",null,t),a.description&&f.a.createElement("div",{className:"gf-form-select-box__desc-option__desc"},a.description)),n&&f.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})))},D=n("mbvD"),I=n("sH2m"),P=function(e){var t=e.selectProps.menuIsOpen;return f.a.createElement(T.b.IndicatorsContainer,Object(d.__assign)({},e),f.a.createElement("span",{className:"gf-form-select-box__select-arrow "+(t?"gf-form-select-box__select-arrow--reversed":"")}))},F=P,L=function(e){var t=e.children;return f.a.createElement(T.b.Option,Object(d.__assign)({},e),f.a.createElement("div",{className:"gf-form-select-box__desc-option"},f.a.createElement("div",{className:"gf-form-select-box__desc-option__body"},t)))},R=L,V=n("9o1o"),$=function(e){return f.a.createElement(T.b.MenuList,Object(d.__assign)({},e),f.a.createElement(C.a,{autoHide:!1,autoHeightMax:"inherit"},e.children))},B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,n=e.defaultValue,a=e.getOptionLabel,r=e.getOptionValue,i=e.onChange,o=e.options,s=e.placeholder,l=e.width,c=e.value,u=e.className,p=e.isDisabled,h=e.isLoading,m=e.isSearchable,g=e.isClearable,b=e.backspaceRemovesValue,v=e.isMulti,y=e.autoFocus,w=e.openMenuOnFocus,x=e.onBlur,O=e.maxMenuHeight,_=e.noOptionsMessage,k=e.isOpen,j=e.components,C=e.tooltipContent,S=e.tabSelectsValue,M=e.onCloseMenu,A=e.onOpenMenu,N=e.allowCustomValue,D=e.formatCreateLabel,I="";l&&(I="width-"+l);var P=T.c,F={};N&&(P=T.a,F.formatCreateLabel=null!=D?D:function(e){return e});var L=E()("gf-form-input","gf-form-input--form-dropdown",I,u),R=Object(d.__assign)(Object(d.__assign)({},t.defaultProps.components),j);return f.a.createElement(q,{onCloseMenu:M,onOpenMenu:A,tooltipContent:C,isOpen:k},function(e,t){return f.a.createElement(P,Object(d.__assign)({classNamePrefix:"gf-form-select-box",className:L,components:R,defaultValue:n,value:c,getOptionLabel:a,getOptionValue:r,menuShouldScrollIntoView:!1,isSearchable:m,onChange:i,options:o,placeholder:s||"Choose",styles:Object(V.a)(),isDisabled:p,isLoading:h,isClearable:g,autoFocus:y,onBlur:x,openMenuOnFocus:w,maxMenuHeight:O,noOptionsMessage:function(){return _},isMulti:v,backspaceRemovesValue:b,menuIsOpen:k,onMenuOpen:e,onMenuClose:t,tabSelectsValue:S},F))})},t.defaultProps={className:"",isDisabled:!1,isSearchable:!0,isClearable:!1,isMulti:!1,openMenuOnFocus:!1,autoFocus:!1,isLoading:!1,backspaceRemovesValue:!0,maxMenuHeight:300,tabSelectsValue:!0,allowCustomValue:!1,components:{Option:N,SingleValue:I.a,IndicatorsContainer:F,MenuList:$,Group:D.a}},t}(p.PureComponent),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.defaultValue,n=e.getOptionLabel,a=e.getOptionValue,r=e.onChange,i=e.placeholder,o=e.width,s=e.value,l=e.className,c=e.loadOptions,u=e.defaultOptions,d=e.isLoading,p=e.loadingMessage,h=e.noOptionsMessage,m=e.isDisabled,g=e.isSearchable,b=e.isClearable,v=e.backspaceRemovesValue,y=e.autoFocus,w=e.onBlur,x=e.openMenuOnFocus,O=e.maxMenuHeight,_=e.isMulti,k=e.tooltipContent,j=e.onCloseMenu,C=e.onOpenMenu,S=e.isOpen,T="";o&&(T="width-"+o);var M=E()("gf-form-input","gf-form-input--form-dropdown",T,l);return f.a.createElement(q,{onCloseMenu:j,onOpenMenu:C,tooltipContent:k,isOpen:S},function(e,o){return f.a.createElement(A.a,{classNamePrefix:"gf-form-select-box",className:M,components:{Option:N,SingleValue:I.a,IndicatorsContainer:F,NoOptionsMessage:R},defaultValue:t,value:s,getOptionLabel:n,getOptionValue:a,menuShouldScrollIntoView:!1,onChange:r,loadOptions:c,isLoading:d,defaultOptions:u,placeholder:i||"Choose",styles:Object(V.a)(),loadingMessage:function(){return p},noOptionsMessage:h,isDisabled:m,isSearchable:g,isClearable:b,autoFocus:y,onBlur:w,openMenuOnFocus:x,maxMenuHeight:O,isMulti:_,backspaceRemovesValue:v})})},t.defaultProps={className:"",components:{},loadingMessage:function(){return"Loading..."},isDisabled:!1,isClearable:!1,isMulti:!1,isSearchable:!0,backspaceRemovesValue:!0,autoFocus:!1,openMenuOnFocus:!1,maxMenuHeight:300},t}(p.PureComponent),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpenInternal:!1},t.onOpenMenu=function(){var e=t.props.onOpenMenu;e&&e(),t.setState({isOpenInternal:!0})},t.onCloseMenu=function(){var e=t.props.onCloseMenu;e&&e(),t.setState({isOpenInternal:!1})},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.isOpen,a=e.tooltipContent,r=void 0;return(this.state.isOpenInternal||n)&&(r=!1),a?f.a.createElement(O.b,{show:r,content:a,placement:"bottom"},f.a.createElement("div",null,t(this.onOpenMenu,this.onCloseMenu))):f.a.createElement("div",null,t(this.onOpenMenu,this.onCloseMenu))},t}(p.PureComponent),z=B,H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){(0,t.props.onChange)(e)},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,a=t.options,r=t.value,i=t.label,o=t.iconClass,s=t.components,l=t.maxMenuHeight,c=t.tooltipContent,u=t.isMenuOpen,p=t.onOpenMenu,h=t.onCloseMenu,m=t.tabSelectsValue,g=t.autoFocus,b=void 0===g||g,v=Object(d.__assign)(Object(d.__assign)({},s),{Control:(e={label:i,className:n,iconClass:o},function(t){var n=e.label,a=e.className,r=e.iconClass;return f.a.createElement("div",{ref:t.innerRef,className:"btn navbar-button navbar-button--tight "+a,onClick:t.selectProps.menuIsOpen?t.selectProps.onMenuClose:t.selectProps.onMenuOpen,onBlur:t.selectProps.onMenuClose,tabIndex:0},f.a.createElement("div",{className:"select-button"},r&&f.a.createElement("i",{className:"select-button-icon "+r}),f.a.createElement("span",{className:"select-button-value"},n||""),!t.menuIsOpen&&f.a.createElement("i",{className:"fa fa-caret-down fa-fw"}),t.menuIsOpen&&f.a.createElement("i",{className:"fa fa-caret-up fa-fw"})))})});return f.a.createElement(z,{autoFocus:b,backspaceRemovesValue:!1,isClearable:!1,isSearchable:!1,options:a,onChange:this.onChange,value:r,isOpen:u,onOpenMenu:p,onCloseMenu:h,maxMenuHeight:l,components:v,className:"gf-form-select-box-button-select",tooltipContent:c,tabSelectsValue:m})},t}(p.PureComponent),G=n("Vt59"),W=n("RxwV"),Q=function(e){return f.a.createElement(W.a,Object(d.__assign)({},e,{expandIcon:null}),f.a.createElement("button",{className:"gf-form-label gf-form-label--btn",disabled:e.disabled},e.children," ",f.a.createElement(G.a,{name:"caret-down"})))},Y=n("ZYew"),K=n("6iRR"),J=Object(h.css)("\n&:focus{\n  outline: none;\n}\n"),Z=function(e){function t(t){var n=e.call(this,t)||this;n.flattenOptions=function(e,t){var a,r;void 0===t&&(t=[]);var i=[];try{for(var o=Object(d.__values)(e),s=o.next();!s.done;s=o.next()){var l=s.value,c=Object(d.__spread)(t);c.push(l),l.items?i=Object(d.__spread)(i,n.flattenOptions(l.items,c)):i.push({label:c.map(function(e){return e.label}).join(n.props.separator||" / "),value:c.map(function(e){return e.value})})}}catch(e){a={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},n.onChange=function(e,t){n.setState({rcValue:e,activeLabel:t.map(function(e){return e.label}).join(n.props.separator||" / ")}),n.props.onSelect(t[t.length-1].value)},n.onSelect=function(e){n.setState({activeLabel:e.label||"",rcValue:e.value||[],isSearching:!1}),n.props.onSelect(n.state.rcValue[n.state.rcValue.length-1])},n.onClick=function(){n.setState({focusCascade:!0})},n.onBlur=function(){n.setState({isSearching:!1,focusCascade:!1}),""===n.state.activeLabel&&n.setState({rcValue:[]})},n.onBlurCascade=function(){n.setState({focusCascade:!1})},n.onInputKeyDown=function(e){if("ArrowDown"!==e.key&&"ArrowUp"!==e.key&&"Enter"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&(n.setState({focusCascade:!1,isSearching:!0}),"Backspace"===e.key)){var t=n.state.activeLabel||"";n.setState({activeLabel:t.slice(0,-1)})}},n.onInputChange=function(e){n.setState({activeLabel:e})};var a=n.flattenOptions(t.options),r=n.setInitialValue(a,t.initialValue),i=r.rcValue,o=r.activeLabel;return n.state={isSearching:!1,focusCascade:!1,searchableOptions:a,rcValue:i,activeLabel:o},n}return Object(d.__extends)(t,e),t.prototype.setInitialValue=function(e,t){var n,a;if(!t)return{rcValue:[],activeLabel:""};try{for(var r=Object(d.__values)(e),i=r.next();!i.done;i=r.next()){var o=i.value,s=o.value||[];if(s.indexOf(t)===s.length-1)return{rcValue:s,activeLabel:o.label||""}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return{rcValue:[],activeLabel:""}},t.prototype.render=function(){var e=this.props.size,t=this.state,n=t.focusCascade,a=t.isSearching,r=t.searchableOptions,i=t.rcValue,o=t.activeLabel;return f.a.createElement("div",null,a?f.a.createElement(Y.a,{inputValue:o,placeholder:"Search",autoFocus:!n,onChange:this.onSelect,onInputChange:this.onInputChange,onBlur:this.onBlur,options:r,size:e||"md"}):f.a.createElement(W.a,{onChange:this.onChange,onClick:this.onClick,options:this.props.options,isFocused:n,onBlur:this.onBlurCascade,value:i,fieldNames:{label:"label",value:"value",children:"items"},expandIcon:null},f.a.createElement("div",{className:J},f.a.createElement(K.a,{value:o,onKeyDown:this.onInputKeyDown,onChange:function(){},size:e||"md",suffix:n?f.a.createElement(G.a,{name:"caret-up"}):f.a.createElement(G.a,{name:"caret-down"})}))))},t}(f.a.PureComponent),X=function(e){var t=e.children,n=e.isFocused,a=e.isInvalid,r=e.className,i=e.htmlFor,o=e.tooltip,s=e.width,l=Object(d.__rest)(e,["children","isFocused","isInvalid","className","htmlFor","tooltip","width"]),c=E()("gf-form-label width-"+(s||"10"),r,{"gf-form-label--is-focused":n,"gf-form-label--is-invalid":a});return f.a.createElement("label",Object(d.__assign)({className:c},l,{htmlFor:i}),t,o&&f.a.createElement(O.b,{placement:"top",content:o,theme:"info"},f.a.createElement("div",{className:"gf-form-help-icon gf-form-help-icon--right-normal"},f.a.createElement("i",{className:"fa fa-info-circle"}))))},ee=function(e){var t=e.label,n=e.tooltip,a=e.labelWidth,r=e.inputWidth,i=e.inputEl,o=e.className,s=Object(d.__rest)(e,["label","tooltip","labelWidth","inputWidth","inputEl","className"]);return f.a.createElement("div",{className:Object(h.cx)("form-field",o)},f.a.createElement(X,{width:a,tooltip:n},t),i||f.a.createElement("input",Object(d.__assign)({type:"text",className:"gf-form-input "+(r?"width-"+r:"")},s)))};ee.displayName="FormField",ee.defaultProps={labelWidth:6,inputWidth:12};var te=n("Puqe"),ne=n.n(te),ae=function(e){var t=e.label,n=e.labelWidth,a=e.inputWidth,r=e.onReset,i=e.isConfigured,o=e.placeholder,s=Object(d.__rest)(e,["label","labelWidth","inputWidth","onReset","isConfigured","placeholder"]);return f.a.createElement(ee,{label:t,labelWidth:n,inputEl:i?f.a.createElement(f.a.Fragment,null,f.a.createElement("input",Object(d.__assign)({type:"text",className:"gf-form-input width-"+(a-2),disabled:!0,value:"configured"},ne()(s,"value"))),f.a.createElement("button",{className:"btn btn-secondary gf-form-btn",onClick:r},"reset")):f.a.createElement("input",Object(d.__assign)({type:"password",className:"gf-form-input width-"+a,placeholder:o},s))})};ae.defaultProps={inputWidth:12,placeholder:"Password",label:"Password"},ae.displayName="SecretFormField";var re,ie=function(e){var t=e.text;return f.a.createElement("div",{className:"gf-form-group"},t," ",f.a.createElement("i",{className:"fa fa-spinner fa-spin"}))},oe=n("Obii"),se=n("gQMU"),le=n.n(se),ce=n("J2m7"),ue=n.n(ce),de=n("eGKl");!function(e){e.Small="small",e.Large="large"}(re||(re={}));var pe,fe=function(e){var t=e.color,n=e.label,a=e.variant,r=void 0===a?re.Small:a,i=e.isSelected,o=e.theme,s=Object(d.__rest)(e,["color","label","variant","isSelected","theme"]),l=r===re.Small,c=l?"16px":"32px",u=Object(de.a)({light:o.colors.white,dark:o.colors.black},o.type),p={width:c,height:c,borderRadius:"50%",background:""+t,marginRight:l?"0px":"8px",boxShadow:i?"inset 0 0 0 2px "+t+", inset 0 0 0 4px "+u:"none"};return f.a.createElement("div",Object(d.__assign)({style:{display:"flex",alignItems:"center",cursor:"pointer"}},s),f.a.createElement("div",{style:p}),r===re.Large&&f.a.createElement("span",null,n))},he=function(e){var t=e.colors,n=e.selectedColor,a=e.onColorSelect,r=e.theme,i=Object(d.__rest)(e,["colors","selectedColor","onColorSelect","theme"]),o=ue()(t,function(e){return!!e.isPrimary});return f.a.createElement("div",Object(d.__assign)({},i,{style:{display:"flex",flexDirection:"column"}}),o&&f.a.createElement(fe,{key:o.name,isSelected:o.name===n,variant:re.Large,color:Object(oe.getColorForTheme)(o,r.type),label:le()(o.hue),onClick:function(){return a(o)},theme:r}),f.a.createElement("div",{style:{display:"flex",marginTop:"8px"}},t.map(function(e){return!e.isPrimary&&f.a.createElement("div",{key:e.name,style:{marginRight:"4px"}},f.a.createElement(fe,{key:e.name,isSelected:e.name===n,color:Object(oe.getColorForTheme)(e,r.type),onClick:function(){return a(e)},theme:r}))})))},me=function(e){var t=e.color,n=e.onChange,a=e.theme,r=[];return Object(oe.getNamedColorPalette)().forEach(function(e,i){r.push(f.a.createElement(he,{key:i,theme:a,selectedColor:t,colors:e,onColorSelect:function(e){n(e.name)}}))}),f.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridRowGap:"24px",gridColumnGap:"24px"}},r)},ge=n("WFjJ"),be=n("TM95"),ve=n("Zss7"),ye=n.n(ve),we=n("sEfC"),xe=n.n(we),Oe=n("aWP2");!function(e){e.Invalid="invalid",e.Valid="valid"}(pe||(pe={}));var _e,ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null},t.validatorAsync=function(e){return function(n){var a=Object(Oe.x)(n.target.value,e);t.setState(function(e){return Object(d.__assign)(Object(d.__assign)({},e),{error:a?a[0]:null})})}},t.populateEventPropsWithStatus=function(e,n){var a=Object(d.__assign)({},e);return n?(Object.keys(Oe.e).forEach(function(r){(Object(Oe.q)(r,n)||e[r])&&(a[r]=function(a){return Object(d.__awaiter)(t,void 0,void 0,function(){return Object(d.__generator)(this,function(t){switch(t.label){case 0:return a.persist(),Object(Oe.q)(r,n)?[4,this.validatorAsync(n[r]).apply(this,[a])]:[3,2];case 1:t.sent(),t.label=2;case 2:return e[r]&&e[r].apply(null,[a,this.status]),[2]}})})})}),a):a},t}return Object(d.__extends)(t,e),Object.defineProperty(t.prototype,"status",{get:function(){return this.state.error?pe.Invalid:pe.Valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.status===pe.Invalid},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.validationEvents,n=e.className,a=e.hideErrorMessage,r=e.inputRef,i=Object(d.__rest)(e,["validationEvents","className","hideErrorMessage","inputRef"]),o=this.state.error,s=E()("gf-form-input",{invalid:this.isInvalid},n),l=this.populateEventPropsWithStatus(i,t);return f.a.createElement("div",{style:{flexGrow:1}},f.a.createElement("input",Object(d.__assign)({},l,{ref:r,className:s})),o&&!a&&f.a.createElement("span",null,o))},t.defaultProps={className:""},t}(p.PureComponent),je=function(e){function t(t){var n=e.call(this,t)||this;return n.updateColor=function(e){n.props.onChange(e)},n.onChange=function(e){var t=ye()(e.currentTarget.value);n.setState({value:e.currentTarget.value}),t.isValid()&&n.updateColor(t.toString())},n.onBlur=function(){ye()(n.state.value).isValid()||n.setState({value:n.props.color})},n.state={previousColor:t.color,value:t.color},n.updateColor=xe()(n.updateColor,100),n}return Object(d.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=ye()(e.color);return n.isValid()&&e.color!==t.previousColor?Object(d.__assign)(Object(d.__assign)({},t),{previousColor:e.color,value:n.toString()}):t},t.prototype.render=function(){var e=this.state.value;return f.a.createElement("div",{style:Object(d.__assign)({display:"flex"},this.props.style)},f.a.createElement("div",{style:{background:this.props.color,width:"35px",height:"35px",flexGrow:0,borderRadius:"3px 0 0 3px"}}),f.a.createElement("div",{style:{flexGrow:1}},f.a.createElement(ke,{className:"gf-form-input",value:e,onChange:this.onChange,onBlur:this.onBlur})))},t}(f.a.PureComponent),Ce=function(e){var t=e.theme,n=e.direction,a={picker:{width:"16px",height:"16px",transform:"vertical"===n?"translate(0, -8px)":"translate(-8px, 0)"}},r=Object(de.a)({light:t.colors.dark3,dark:t.colors.gray2},t.type),i={position:"absolute",left:"6px",width:"0",height:"0",borderStyle:"solid",background:"none"},o={top:"-7px",borderWidth:"6px 3px 0px 3px",borderColor:r+" transparent transparent transparent"},s={bottom:"-7px",borderWidth:"0px 3px 6px 3px",borderColor:" transparent transparent "+r+" transparent"};return"vertical"===n&&(i=Object(d.__assign)(Object(d.__assign)({},i),{left:"auto"}),o={borderWidth:"3px 0px 3px 6px",borderColor:"transparent transparent transparent "+r,left:"-7px",top:"7px"},s={borderWidth:"3px 6px 3px 0px",borderColor:"transparent "+r+" transparent transparent",right:"-7px",top:"7px"}),f.a.createElement("div",{style:a.picker},f.a.createElement("div",{style:Object(d.__assign)(Object(d.__assign)({},i),o)}),f.a.createElement("div",{style:Object(d.__assign)(Object(d.__assign)({},i),s)}))},Se=function(e){return function(t){return f.a.createElement(Ce,Object(d.__assign)({},t,{theme:e}))}},Ee=Object(ge.CustomPicker)(function(e){var t=e.rgb,n=e.hsl,a=e.onChange,r=e.theme;return f.a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column"}},f.a.createElement("div",{style:{display:"flex"}},f.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"column"}},f.a.createElement("div",{style:{position:"relative",height:"100px",width:"100%"}},f.a.createElement(be.Saturation,{onChange:a,hsl:n,hsv:ye()(n).toHsv()})),f.a.createElement("div",{style:{width:"100%",height:"16px",marginTop:"16px",position:"relative",background:"white"}},f.a.createElement(be.Alpha,{rgb:t,hsl:n,a:t.a,onChange:a,pointer:Se(r)}))),f.a.createElement("div",{style:{position:"relative",width:"16px",height:"100px",marginLeft:"16px"}},f.a.createElement(be.Hue,{onChange:a,hsl:n,direction:"vertical",pointer:Se(r)}))))}),Te=function(e){var t=e.color,n=e.onChange,a=e.theme;return f.a.createElement("div",null,f.a.createElement(Ee,{color:ye()(Object(oe.getColorFromHexRgbOrName)(t)).toRgb(),onChange:function(e){n(ye()(e.rgb).toString())},theme:a}),f.a.createElement(je,{theme:a,color:t,onChange:n,style:{marginTop:"16px"}}))},Me=function(e,t){t.onColorChange&&Object(oe.deprecationWarning)(e,"onColorChange","onChange")},Ae=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabClassName=function(e){return"ColorPickerPopover__tab "+(n.state.activePicker===e&&"ColorPickerPopover__tab--active")},n.handleChange=function(e){var t=n.props,a=t.onColorChange,r=t.onChange,i=t.enableNamedColors,o=t.theme,s=a||r;if(i)return s(e);s(Object(oe.getColorFromHexRgbOrName)(e,o.type))},n.onTabChange=function(e){return function(){return n.setState({activePicker:e})}},n.renderPicker=function(){var e=n.state.activePicker,t=n.props,a=t.color,r=t.theme;switch(e){case"spectrum":return f.a.createElement(Te,{color:a,onChange:n.handleChange,theme:r});case"palette":return f.a.createElement(me,{color:Object(oe.getColorName)(a,r.type),onChange:n.handleChange,theme:r});default:return n.renderCustomPicker(e)}},n.renderCustomPicker=function(e){var t=n.props,a=t.customPickers,r=t.color,i=t.theme;return a?f.a.createElement(a[e].tabComponent,{color:r,theme:i,onChange:n.handleChange}):null},n.renderCustomPickerTabs=function(){var e=n.props.customPickers;return e?f.a.createElement(f.a.Fragment,null,Object.keys(e).map(function(t){return f.a.createElement("div",{className:n.getTabClassName(t),onClick:n.onTabChange(t),key:t},e[t].name)})):null},n.state={activePicker:"palette"},Me("ColorPickerPopover",t),n}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props.theme.type||oe.GrafanaThemeType.Dark;return f.a.createElement("div",{className:"ColorPickerPopover ColorPickerPopover--"+e},f.a.createElement("div",{className:"ColorPickerPopover__tabs"},f.a.createElement("div",{className:this.getTabClassName("palette"),onClick:this.onTabChange("palette")},"Colors"),f.a.createElement("div",{className:this.getTabClassName("spectrum"),onClick:this.onTabChange("spectrum")},"Custom"),this.renderCustomPickerTabs()),f.a.createElement("div",{className:"ColorPickerPopover__content"},this.renderPicker()))},t}(f.a.Component),Ne=n("mNz5"),De=n.n(Ne),Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={id:De()()},t.internalOnChange=function(e){e.stopPropagation(),t.props.onChange(e)},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.labelClass,n=void 0===t?"":t,a=e.switchClass,r=void 0===a?"":a,i=e.label,o=e.checked,s=e.transparent,l=e.className,c=e.tooltip,u=e.tooltipPlacement,d=this.state.id,p="gf-form-label "+n+" "+(s?"gf-form-label--transparent":"")+" pointer",h="gf-form-switch "+r+" "+(s?"gf-form-switch--transparent":"");return f.a.createElement("div",{className:"gf-form-switch-container-react"},f.a.createElement("label",{htmlFor:d,className:"gf-form gf-form-switch-container "+(l||"")},i&&f.a.createElement("div",{className:p},i,c&&f.a.createElement(O.b,{placement:u||"auto",content:c,theme:"info"},f.a.createElement("div",{className:"gf-form-help-icon gf-form-help-icon--right-normal"},f.a.createElement("i",{className:"fa fa-info-circle"})))),f.a.createElement("div",{className:h},f.a.createElement("input",{id:d,type:"checkbox",checked:o,onChange:this.internalOnChange}),f.a.createElement("span",{className:"gf-form-switch__slider"}))))},t}(p.PureComponent),Pe=n("Fts8"),Fe=function(e){var t=e.yaxis,n=e.onToggleAxis,a=e.color,r=Object(d.__rest)(e,["yaxis","onToggleAxis","color"]);return f.a.createElement(Ae,Object(d.__assign)({},r,{color:a||"#000000",customPickers:{yaxis:{name:"Y-Axis",tabComponent:function(){return f.a.createElement(Ie,{key:"yaxisSwitch",label:"Use right y-axis",className:"ColorPicker__axisSwitch",labelClass:"ColorPicker__axisSwitchLabel",checked:2===t,onChange:function(){n&&n()}})}}}}))},Le=(function(e){function t(t){var n=e.call(this,t)||this;return n.state={yaxis:n.props.yaxis},n.onToggleAxis=n.onToggleAxis.bind(n),n}Object(d.__extends)(t,e),t.prototype.onToggleAxis=function(){this.setState({yaxis:2===this.state.yaxis?1:2}),this.props.onToggleAxis&&this.props.onToggleAxis()},t.prototype.render=function(){var e=1===this.state.yaxis?"btn-primary":"btn-inverse",t=2===this.state.yaxis?"btn-primary":"btn-inverse";return f.a.createElement("div",{className:"p-b-1"},f.a.createElement("label",{className:"small p-r-1"},"Y Axis:"),f.a.createElement("button",{onClick:this.onToggleAxis,className:"btn btn-small "+e},"Left"),f.a.createElement("button",{onClick:this.onToggleAxis,className:"btn btn-small "+t},"Right"))}}(f.a.PureComponent),Object(Pe.d)(Fe)),Re=Object(p.forwardRef)(function(e,t){return f.a.createElement("div",{ref:t,onClick:e.onClick,onMouseLeave:e.onMouseLeave,style:{overflow:"hidden",background:"inherit",border:"none",color:"inherit",padding:0,borderRadius:10,cursor:"pointer"}},f.a.createElement("div",{style:{position:"relative",width:15,height:15,border:"none",margin:0,float:"left",zIndex:0,backgroundImage:"url(data:image/png,base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)"}},f.a.createElement("div",{style:{backgroundColor:e.color,display:"block",position:"absolute",top:0,left:0,bottom:0,right:0}})))}),Ve=function(e,t){var n;return void 0===t&&(t="ColorPicker"),(n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.pickerTriggerRef=Object(p.createRef)(),e.onColorChange=function(t){var n=e.props,a=n.onColorChange,r=n.onChange;return(a||r)(t)},e}return Object(d.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.theme,r=n.children,i=f.a.createElement(e,Object(d.__assign)(Object(d.__assign)({},ne()(this.props,"children")),{onChange:this.onColorChange}));return f.a.createElement(_.a,{content:i,hideAfter:300},function(e,n,i){return f.a.createElement(f.a.Fragment,null,t.pickerTriggerRef.current&&f.a.createElement(k.a,Object(d.__assign)({},i,{referenceElement:t.pickerTriggerRef.current,wrapperClassName:"ColorPicker",onMouseLeave:n,onMouseEnter:e})),r?r({ref:t.pickerTriggerRef,showColorPicker:e,hideColorPicker:n}):f.a.createElement(Re,{ref:t.pickerTriggerRef,onClick:e,onMouseLeave:n,color:Object(oe.getColorFromHexRgbOrName)(t.props.color||"#000000",a.type)}))})},n}(p.Component)).displayName=t,n},$e=Object(Pe.d)(Ve(Ae,"ColorPicker")),Be=Object(Pe.d)(Ve(Fe,"SeriesColorPicker")),Ue=function(e){return f.a.createElement("div",{className:"panel-options-group"},e.onAdd?f.a.createElement("div",{className:"panel-options-group__header"},f.a.createElement("button",{className:"panel-options-group__add-btn",onClick:e.onAdd},f.a.createElement("div",{className:"panel-options-group__add-circle"},f.a.createElement("i",{className:"fa fa-plus"})),f.a.createElement("span",{className:"panel-options-group__title"},e.title))):e.title&&f.a.createElement("div",{className:"panel-options-group__header"},f.a.createElement("span",{className:"panel-options-group__title"},e.title),e.onClose&&f.a.createElement("button",{className:"btn btn-link",onClick:e.onClose},f.a.createElement("i",{className:"fa fa-remove"}))),e.children&&f.a.createElement("div",{className:"panel-options-group__body"},e.children))},qe=function(e){var t=e.children;return f.a.createElement("div",{className:"panel-options-grid"},t)},ze=[{value:oe.MappingType.ValueToText,label:"Value"},{value:oe.MappingType.RangeToText,label:"Range"}],He=function(e){function t(t){var n=e.call(this,t)||this;return n.onMappingValueChange=function(e){n.setState({value:e.target.value})},n.onMappingFromChange=function(e){n.setState({from:e.target.value})},n.onMappingToChange=function(e){n.setState({to:e.target.value})},n.onMappingTextChange=function(e){n.setState({text:e.target.value})},n.onMappingTypeChange=function(e){n.setState({type:e})},n.updateMapping=function(){n.props.updateValueMapping(Object(d.__assign)({},n.state))},n.state=Object(d.__assign)({},t.valueMapping),n}return Object(d.__extends)(t,e),t.prototype.renderRow=function(){var e=this.state,t=e.from,n=e.text,a=e.to,r=e.type,i=e.value;return r===oe.MappingType.RangeToText?f.a.createElement(f.a.Fragment,null,f.a.createElement(ee,{label:"From",labelWidth:4,inputWidth:8,onBlur:this.updateMapping,onChange:this.onMappingFromChange,value:t}),f.a.createElement(ee,{label:"To",labelWidth:4,inputWidth:8,onBlur:this.updateMapping,onChange:this.onMappingToChange,value:a}),f.a.createElement("div",{className:"gf-form gf-form--grow"},f.a.createElement(X,{width:4},"Text"),f.a.createElement(ke,{className:"gf-form-input",onBlur:this.updateMapping,value:n,onChange:this.onMappingTextChange}))):f.a.createElement(f.a.Fragment,null,f.a.createElement(ee,{label:"Value",labelWidth:4,onBlur:this.updateMapping,onChange:this.onMappingValueChange,value:i,inputWidth:8}),f.a.createElement("div",{className:"gf-form gf-form--grow"},f.a.createElement(X,{width:4},"Text"),f.a.createElement(ke,{className:"gf-form-input",onBlur:this.updateMapping,value:n,onChange:this.onMappingTextChange})))},t.prototype.render=function(){var e=this,t=this.state.type;return f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement("div",{className:"gf-form"},f.a.createElement(X,{width:5},"Type"),f.a.createElement(B,{placeholder:"Choose type",isSearchable:!1,options:ze,value:ze.find(function(e){return e.value===t}),onChange:function(t){return e.onMappingTypeChange(t.value)},width:7})),this.renderRow(),f.a.createElement("div",{className:"gf-form"},f.a.createElement("button",{onClick:this.props.removeValueMapping,className:"gf-form-label gf-form-label--btn"},f.a.createElement("i",{className:"fa fa-times"}))))},t}(p.PureComponent),Ge=function(e){function t(t){var n=e.call(this,t)||this;n.onAddMapping=function(){return n.setState(function(e){return{valueMappings:Object(d.__spread)(e.valueMappings,[{id:e.nextIdToAdd,operator:"",value:"",text:"",type:oe.MappingType.ValueToText,from:"",to:""}]),nextIdToAdd:e.nextIdToAdd+1}})},n.onRemoveMapping=function(e){n.setState(function(t){return{valueMappings:t.valueMappings.filter(function(t){return t.id!==e})}},function(){n.props.onChange(n.state.valueMappings)})},n.updateGauge=function(e){n.setState(function(t){return{valueMappings:t.valueMappings.map(function(t){return t.id===e.id?Object(d.__assign)({},e):t})}},function(){n.props.onChange(n.state.valueMappings)})};var a=t.valueMappings||[];return n.state={valueMappings:a,nextIdToAdd:a.length>0?n.getMaxIdFromValueMappings(a):1},n}return Object(d.__extends)(t,e),t.prototype.getMaxIdFromValueMappings=function(e){return Math.max.apply(null,e.map(function(e){return e.id}).map(function(e){return e}))+1},t.prototype.render=function(){var e=this,t=this.state.valueMappings;return f.a.createElement(Ue,{title:"Value mappings"},f.a.createElement("div",null,t.length>0&&t.map(function(t,n){return f.a.createElement(He,{key:t.text+"-"+n,valueMapping:t,updateValueMapping:e.updateGauge,removeValueMapping:function(){return e.onRemoveMapping(t.id)}})}),f.a.createElement(g.a,{variant:"inverse",icon:"fa fa-plus",onClick:this.onAddMapping},"Add mapping")))},t}(p.PureComponent),We=function(e){var t=e.children;return f.a.createElement("div",{className:"empty-search-result"},t)},Qe=n("VphZ"),Ye=n("0YDr"),Ke=n.n(Ye);!function(e){e.PIE="pie",e.DONUT="donut"}(_e||(_e={}));var Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.draw()},t.prototype.componentDidUpdate=function(){this.draw()},t.prototype.draw=function(){var e=this,t=this.props,n=t.values,a=t.pieType,r=t.strokeWidth;if(0!==n.length){var i=n.map(function(e){return e.numeric}),o=n.map(function(e){return Object(oe.formattedValueToString)(e)}),s=n.map(function(e,t){return e.color?e.color:Oe.o[t%Oe.o.length]}),l=Ke()(i)||1,c=i.map(function(e){return e/l*100}),u=this.containerElement.offsetWidth,d=this.containerElement.offsetHeight,p=Math.min(u,d)/2,f=p-p/10,h=a===_e.PIE?0:p-p/3,m=Object(Qe.select)(this.svgElement).html("").attr("width",u).attr("height",d).append("g").attr("transform","translate("+u/2+","+d/2+")"),g=Object(Qe.pie)(),b=Object(Qe.arc)().outerRadius(f).innerRadius(h).padAngle(0);m.selectAll("path").data(g(i)).enter().append("path").attr("d",b).attr("fill",function(e,t){return s[t]}).style("fill-opacity",.15).style("stroke",function(e,t){return s[t]}).style("stroke-width",r+"px").on("mouseover",function(t,n){Object(Qe.select)(e.tooltipElement).style("opacity",1),Object(Qe.select)(e.tooltipValueElement).text(o[n]+" ("+c[n].toFixed(2)+"%)")}).on("mousemove",function(){Object(Qe.select)(e.tooltipElement).style("top",Qe.event.pageY-d/2+"px").style("left",Qe.event.pageX+"px")}).on("mouseout",function(){Object(Qe.select)(e.tooltipElement).style("opacity",0)})}},t.prototype.render=function(){var e=this,t=this.props,n=t.height,a=t.width;return t.values.length>0?f.a.createElement("div",{className:"piechart-panel"},f.a.createElement("div",{ref:function(t){return e.containerElement=t},className:"piechart-container",style:{height:.9*n+"px",width:Math.min(a,1.3*n)+"px"}},f.a.createElement("svg",{ref:function(t){return e.svgElement=t}})),f.a.createElement("div",{className:"piechart-tooltip",ref:function(t){return e.tooltipElement=t}},f.a.createElement("div",{className:"piechart-tooltip-time"},f.a.createElement("div",{id:"tooltip-value",className:"piechart-tooltip-value",ref:function(t){return e.tooltipValueElement=t}})))):f.a.createElement("div",{className:"piechart-panel"},f.a.createElement("div",{className:"datapoints-warning"},f.a.createElement("span",{className:"small"},"No data points")))},t.defaultProps={pieType:"pie",format:"short",stat:"current",strokeWidth:1,theme:oe.GrafanaThemeType.Dark},t}(p.PureComponent);function Ze(e){return"Custom unit: "+e}var Xe,et,tt,nt,at,rt,it,ot,st,lt,ct,ut,dt,pt,ft,ht,mt,gt,bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){t.props.onChange(e.value)},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.width,a=void 0,r=Object(oe.getValueFormats)().map(function(e){var n=e.submenu.map(function(e){var n={label:e.text,value:e.value};return e.value===t&&(a=n),n});return{label:e.text,options:n}});return t&&!a&&(a={value:t,label:t}),f.a.createElement(B,{width:n,defaultValue:a,isSearchable:!0,allowCustomValue:!0,formatCreateLabel:Ze,options:r,placeholder:"Choose",onChange:this.onChange})},t.defaultProps={width:12},t}(p.PureComponent),vt=n("Z0cm"),yt=n.n(vt),wt=n("zqxM"),xt=n.n(wt),Ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkInput=function(){var e=t.props,n=e.stats,a=e.allowMultiple,r=e.defaultStat,i=e.onChange,o=oe.fieldReducers.list(n);if(o.length!==n.length){var s=o.map(function(e){return e.id}),l=xt()(n,s);console.warn("Unknown stats",l,n),i(o.map(function(e){return e.id}))}!a&&n.length>1&&(console.warn("Removing extra stat",n),i([n[0]])),r&&n.length<1&&i([r])},t.onSelectionChange=function(e){var n=t.props.onChange;yt()(e)?n(e.map(function(e){return e.value})):n(e.value?[e.value]:[])},t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkInput()},t.prototype.componentDidUpdate=function(e){this.checkInput()},t.prototype.render=function(){var e=this.props,t=e.width,n=e.stats,a=e.allowMultiple,r=e.defaultStat,i=e.placeholder,o=oe.fieldReducers.selectOptions(n);return f.a.createElement(B,{width:t,value:o.current,isClearable:!r,isMulti:a,isSearchable:!0,options:o.options,placeholder:i,onChange:this.onSelectionChange})},t.defaultProps={width:12,allowMultiple:!1},t}(p.PureComponent),_t=n("Wwog"),kt=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],jt=Object(_t.default)(function(e){return{selectButton:Object(h.css)(Xe||(Xe=Object(d.__makeTemplateObject)(["\n      label: selectButton;\n      .select-button-value {\n        color: ",";\n      }\n    "],["\n      label: selectButton;\n      .select-button-value {\n        color: ",";\n      }\n    "])),e.colors.orange)}}),Ct=function(e){function t(t){var n=e.call(this,t)||this;return n.intervalsToOptions=function(e){var t=(e||kt).filter(function(e){return""!==e}).map(function(e){return{label:e,value:e}});return n.props.hasLiveOption&&t.unshift(St.liveOption),t.unshift(St.offOption),t},n.onChangeSelect=function(e){var t=n.props.onIntervalChanged;t&&t(e.value)},n}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onRefresh,n=e.intervals,a=e.tooltip,r=e.value,i=e.refreshButton,o=e.buttonSelectClassName,s=e.theme,l=this.intervalsToOptions(n),c=r||"",u=l.find(function(e){return e.value===c})||St.offOption,d=jt(s),p=E()({"refresh-picker":!0,"refresh-picker--off":u.label===St.offOption.label,"refresh-picker--live":u===St.liveOption});return f.a.createElement("div",{className:p},f.a.createElement("div",{className:"refresh-picker-buttons"},i||f.a.createElement(O.b,{placement:"top",content:a},f.a.createElement("button",{className:"btn btn--radius-right-0 navbar-button navbar-button--border-right-0",onClick:t},f.a.createElement("i",{className:"fa fa-refresh"}))),f.a.createElement(H,{className:E()("navbar-button--attached",d.selectButton,o),value:u,label:u.label,options:l,onChange:this.onChangeSelect,maxMenuHeight:380})))},t.offOption={label:"Off",value:""},t.liveOption={label:"Live",value:"LIVE"},t.isLive=function(e){return e===St.liveOption.value},t}(p.PureComponent),St=Object(m.i)(Ct),Et=n("3VL2"),Tt=n("+sk9"),Mt=function(e){var t=e.minuteStep,n=void 0===t?1:t,a=e.showHour,r=void 0===a||a,i=e.onChange,o=e.value;return f.a.createElement("div",null,f.a.createElement(Tt.a,{defaultValue:Object(oe.dateTimeAsMoment)(),onChange:function(e){return i(Object(oe.dateTime)(e))},allowEmpty:!1,showSecond:!1,value:Object(oe.dateTimeAsMoment)(o),showHour:r,minuteStep:n}))},At=n("Lrfw"),Nt=n("qQGB"),Dt=Object(m.g)(function(e){var t=e.theme,n=e.name,a=Object(Oe.p)(n),r=a.color,i=a.borderColor;return{itemStyle:Object(h.css)(et||(et=Object(d.__makeTemplateObject)(["\n      background-color: ",";\n      color: ",";\n      border: 1px solid ",";\n      border-radius: 3px;\n      padding: 3px 6px;\n      margin: 3px;\n      white-space: nowrap;\n      text-shadow: none;\n      font-weight: 500;\n      line-height: 14px;\n      display: flex;\n      align-items: center;\n    "],["\n      background-color: ",";\n      color: ",";\n      border: 1px solid ",";\n      border-radius: 3px;\n      padding: 3px 6px;\n      margin: 3px;\n      white-space: nowrap;\n      text-shadow: none;\n      font-weight: 500;\n      line-height: 14px;\n      display: flex;\n      align-items: center;\n    "])),r,t.colors.white,i),nameStyle:Object(h.css)(tt||(tt=Object(d.__makeTemplateObject)(["\n      margin-right: 3px;\n    "],["\n      margin-right: 3px;\n    "]))),removeStyle:Object(h.cx)(["fa fa-times",Object(h.css)(nt||(nt=Object(d.__makeTemplateObject)(["\n        cursor: pointer;\n      "],["\n        cursor: pointer;\n      "])))])}}),It=function(e){var t=e.name,n=e.onRemove,a=Object(m.h)(),r=Dt({theme:a,name:t});return f.a.createElement("div",{className:r.itemStyle},f.a.createElement("span",{className:r.nameStyle},t),f.a.createElement("i",{className:r.removeStyle,onClick:function(){return n(t)}}))},Pt=function(e){function t(t){var n=e.call(this,t)||this;return n.onNameChange=function(e){n.setState({newTag:e.target.value})},n.onRemove=function(e){n.setState(function(t){return Object(d.__assign)(Object(d.__assign)({},t),{tags:t.tags.filter(function(t){return e!==t})})},function(){return n.onChange()})},n.onAdd=function(e){e.preventDefault(),""!==n.state.newTag&&n.setNewTags()},n.onKeyboardAdd=function(e){e.preventDefault(),"Enter"===e.key&&""!==n.state.newTag&&n.setNewTags()},n.setNewTags=function(){n.state.tags.includes(n.state.newTag)?n.setState({newTag:""}):n.setState(function(e){return Object(d.__assign)(Object(d.__assign)({},e),{tags:Object(d.__spread)(e.tags,[e.newTag]),newTag:""})},function(){return n.onChange()})},n.onChange=function(){n.props.onChange(n.state.tags)},n.state={newTag:"",tags:n.props.tags||[]},n}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.tags,a=t.newTag,r=Object(Nt.a)(function(){return{tagsCloudStyle:Object(h.css)(at||(at=Object(d.__makeTemplateObject)(["\n        display: flex;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n      "],["\n        display: flex;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n      "]))),addButtonStyle:Object(h.css)(rt||(rt=Object(d.__makeTemplateObject)(["\n        margin-left: 8px;\n        margin-top: 2px;\n      "],["\n        margin-left: 8px;\n        margin-top: 2px;\n      "])))}});return f.a.createElement("div",{className:"width-20"},f.a.createElement("div",{className:Object(h.cx)(["gf-form-inline"],Object(h.css)(it||(it=Object(d.__makeTemplateObject)(["\n              margin-bottom: 4px;\n            "],["\n              margin-bottom: 4px;\n            "]))))},f.a.createElement(ke,{placeholder:"Add Name",onChange:this.onNameChange,value:a,onKeyUp:this.onKeyboardAdd}),f.a.createElement(g.a,{className:r().addButtonStyle,onClick:this.onAdd,variant:"secondary",size:"md"},"Add")),f.a.createElement("div",{className:r().tagsCloudStyle},n&&n.map(function(t,n){return f.a.createElement(It,{key:t+"-"+n,name:t,onRemove:e.onRemove})})))},t}(p.PureComponent),Ft=Object(m.g)(function(e){return{modal:Object(h.css)(ot||(ot=Object(d.__makeTemplateObject)(["\n    position: fixed;\n    z-index: ",";\n    background: ",";\n    box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);\n    background-clip: padding-box;\n    outline: none;\n    width: 750px;\n    max-width: 100%;\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    top: 10%;\n  "],["\n    position: fixed;\n    z-index: ",";\n    background: ",";\n    box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);\n    background-clip: padding-box;\n    outline: none;\n    width: 750px;\n    max-width: 100%;\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    top: 10%;\n  "])),e.zIndex.modal,e.colors.pageBg),modalBackdrop:Object(h.css)(st||(st=Object(d.__makeTemplateObject)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: ",";\n    background-color: ",";\n    opacity: 0.8;\n    backdrop-filter: blur(4px);\n  "],["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: ",";\n    background-color: ",";\n    opacity: 0.8;\n    backdrop-filter: blur(4px);\n  "])),e.zIndex.modalBackdrop,e.colors.blueFaint),modalHeader:Object(h.css)(lt||(lt=Object(d.__makeTemplateObject)(["\n    background: ",";\n    box-shadow: ",";\n    border-bottom: 1px solid ",";\n    display: flex;\n  "],["\n    background: ",";\n    box-shadow: ",";\n    border-bottom: 1px solid ",";\n    display: flex;\n  "])),e.background.pageHeader,e.shadow.pageHeader,e.colors.pageHeaderBorder),modalHeaderTitle:Object(h.css)(ct||(ct=Object(d.__makeTemplateObject)(["\n    font-size: ",";\n    padding-top: ",";\n    margin: 0 ",";\n  "],["\n    font-size: ",";\n    padding-top: ",";\n    margin: 0 ",";\n  "])),e.typography.heading.h3,e.spacing.sm,e.spacing.md),modalHeaderIcon:Object(h.css)(ut||(ut=Object(d.__makeTemplateObject)(["\n    margin-right: ",";\n    font-size: inherit;\n    &:before {\n      vertical-align: baseline;\n    }\n  "],["\n    margin-right: ",";\n    font-size: inherit;\n    &:before {\n      vertical-align: baseline;\n    }\n  "])),e.spacing.md),modalHeaderClose:Object(h.css)(dt||(dt=Object(d.__makeTemplateObject)(["\n    margin-left: auto;\n    padding: 9px ",";\n  "],["\n    margin-left: auto;\n    padding: 9px ",";\n  "])),e.spacing.d),modalContent:Object(h.css)(pt||(pt=Object(d.__makeTemplateObject)(["\n    padding: calc("," * 2);\n    overflow: auto;\n    width: 100%;\n    max-height: calc(90vh - "," * 2);\n  "],["\n    padding: calc("," * 2);\n    overflow: auto;\n    width: 100%;\n    max-height: calc(90vh - "," * 2);\n  "])),e.spacing.d,e.spacing.d)}}),Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDismiss=function(){t.props.onDismiss&&t.props.onDismiss()},t.onClickBackdrop=function(){t.onDismiss()},t}return Object(d.__extends)(t,e),t.prototype.renderDefaultHeader=function(){var e=this.props,t=e.title,n=e.icon,a=e.theme,r=Ft(a);return f.a.createElement("h2",{className:r.modalHeaderTitle},n&&f.a.createElement(G.a,{name:n,className:r.modalHeaderIcon}),t)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.isOpen,a=void 0!==n&&n,r=e.theme,i=e.className,o=Ft(r);return a?f.a.createElement(j.a,null,f.a.createElement("div",{className:Object(h.cx)(o.modal,i)},f.a.createElement("div",{className:o.modalHeader},"string"==typeof t?this.renderDefaultHeader():t,f.a.createElement("a",{className:o.modalHeaderClose,onClick:this.onDismiss},f.a.createElement("i",{className:"fa fa-remove"}))),f.a.createElement("div",{className:o.modalContent},this.props.children)),f.a.createElement("div",{className:o.modalBackdrop,onClick:this.props.onClickBackdrop||this.onClickBackdrop})):null},t}(f.a.PureComponent),Rt=Object(m.i)(Lt),Vt=Object(m.g)(function(e){return{modal:Object(h.css)(ft||(ft=Object(d.__makeTemplateObject)(["\n    width: 500px;\n  "],["\n    width: 500px;\n  "]))),modalContent:Object(h.css)(ht||(ht=Object(d.__makeTemplateObject)(["\n    text-align: center;\n  "],["\n    text-align: center;\n  "]))),modalText:Object(h.css)(mt||(mt=Object(d.__makeTemplateObject)(["\n    font-size: ",";\n    color: ",";\n    margin-bottom: calc("," * 2);\n    padding-top: ",";\n  "],["\n    font-size: ",";\n    color: ",";\n    margin-bottom: calc("," * 2);\n    padding-top: ",";\n  "])),e.typography.heading.h4,e.colors.link,e.spacing.d,e.spacing.d),modalButtonRow:Object(h.css)(gt||(gt=Object(d.__makeTemplateObject)(["\n    margin-bottom: 14px;\n    a,\n    button {\n      margin-right: ",";\n    }\n  "],["\n    margin-bottom: 14px;\n    a,\n    button {\n      margin-right: ",";\n    }\n  "])),e.spacing.d)}}),$t=function(e){var t=e.isOpen,n=e.title,a=e.body,r=e.confirmText,i=e.icon,o=e.onConfirm,s=e.onDismiss,l=Object(p.useContext)(m.a),c=Vt(l);return f.a.createElement(Rt,{className:c.modal,title:n,icon:i||"exclamation-triangle",isOpen:t,onDismiss:s},f.a.createElement("div",{className:c.modalContent},f.a.createElement("div",{className:c.modalText},a),f.a.createElement("div",{className:c.modalButtonRow},f.a.createElement(g.a,{variant:"danger",onClick:o},r),f.a.createElement(g.a,{variant:"inverse",onClick:s},"Cancel"))))},Bt=n("LvDl"),Ut=n.n(Bt),qt=n("LBMm"),zt=n("mkUw"),Ht=n("CqUX"),Gt=n("kDLi"),Wt=function(e){function t(t,n){var a=e.call(this,t,n)||this;a.lastExecutedValue=null,a.mounted=!1,a.editor=null,a.onChange=function(e,t){var n=e.document!==a.state.value.document,r=a.state.value;a.setState({value:e},function(){if(n){var i=zt.a.serialize(r)!==zt.a.serialize(e);i&&t&&a.runOnChangeAndRunQuery(),i&&!t&&a.runOnChangeDebounced()}})},a.runOnChange=function(){var e=a.props.onChange;e&&e(zt.a.serialize(a.state.value))},a.runOnRunQuery=function(){var e=a.props.onRunQuery;e&&(e(),a.lastExecutedValue=a.state.value)},a.runOnChangeAndRunQuery=function(){a.runOnChange(),a.runOnRunQuery()},a.handleBlur=function(e,t,n){var r=a.props.onBlur;r?r():(a.lastExecutedValue?zt.a.serialize(a.lastExecutedValue):null)!==zt.a.serialize(t.value)&&a.runOnChangeAndRunQuery();return n()},a.runOnChangeDebounced=Ut.a.debounce(a.runOnChange,500);var r=t.onTypeahead,i=t.cleanText,o=t.portalOrigin,s=t.onWillApplySuggestion;return a.plugins=Object(d.__spread)([Object(Ht.e)(),Object(Ht.i)({onTypeahead:r,cleanText:i,portalOrigin:o,onWillApplySuggestion:s}),Object(Ht.b)(),Object(Ht.f)({handler:a.runOnChangeAndRunQuery}),Object(Ht.g)(),Object(Ht.d)(),Object(Ht.c)()],t.additionalPlugins||[]).filter(function(e){return e}),a.state={suggestions:[],typeaheadContext:null,typeaheadPrefix:"",typeaheadText:"",value:Object(Gt.makeValue)(t.query||"",t.syntax)},a}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.componentDidUpdate=function(e,t){var n=this.props,a=n.query,r=n.syntax,i=this.state.value;a!==e.query&&a!==zt.a.serialize(i)&&this.setState({value:Object(Gt.makeValue)(a||"",r)})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(e.syntaxLoaded&&!this.props.syntaxLoaded){if(!this.editor)return;var t=this.editor.insertText(" ").deleteBackward(1);this.onChange(t.value,!0)}},t.prototype.render=function(){var e=this,t=this.props.disabled,n=E()("slate-query-field__wrapper",{"slate-query-field__wrapper--disabled":t});return f.a.createElement("div",{className:n},f.a.createElement("div",{className:"slate-query-field"},f.a.createElement(qt.a,{ref:function(t){return e.editor=t},schema:Gt.SCHEMA,autoCorrect:!1,readOnly:this.props.disabled,onBlur:this.handleBlur,onChange:function(t){e.onChange(t.value,!1)},placeholder:this.props.placeholder,plugins:this.plugins,spellCheck:!1,value:this.state.value})))},t}(f.a.PureComponent),Qt=n("K9Ia"),Yt=n("F/XL"),Kt=n("GDxn"),Jt=n("xXU7"),Zt=n("15JJ"),Xt=n("xMyE");var en=function(e){function t(t){var n=e.call(this,t)||this;return n.propsSubject=new Qt.b,n.subscription=null,n}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.subscription=this.propsSubject.pipe(Object(Zt.a)(function(e){return St.isLive(e.interval)?Object(Yt.a)({}):e.loading?Kt.a:Object(Jt.a)(Object(oe.stringToMs)(e.interval))}),Object(Xt.a)(function(){return e.props.func()})).subscribe(),this.propsSubject.next(this.props)},t.prototype.componentDidUpdate=function(e){St.isLive(e.interval)&&St.isLive(this.props.interval)||Ut.a.isEqual(e,this.props)||this.propsSubject.next(this.props)},t.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.unsubscribe(),this.propsSubject.unsubscribe()},t.prototype.render=function(){return null},t}(p.PureComponent),tn=n("y13m"),nn=n("iR1w"),an=function(e){var t=e.field,n=e.cell,a=e.tableStyles;if(!t.display)return null;var r=t.display(n.value);return f.a.createElement("div",{className:a.tableCell},Object(oe.formattedValueToString)(r))},rn=n("oetV");var on=function(e){var t,n,a=e.value,r=e.className,i=e.style,o=i.fontSize,s=function(e){return e<20?.9:e<26?.8:.6}(o),l=(t=a.prefix,null!=t?t:"").length>0,c=(n=a.suffix,null!=n?n:"").length>0;return f.a.createElement("div",{className:r,style:i},f.a.createElement("div",null,l&&f.a.createElement("span",null,a.prefix),f.a.createElement("span",null,a.text),c&&f.a.createElement("span",{style:{fontSize:o*s}},a.suffix)))};on.displayName="FormattedDisplayValue";var sn,ln=n("AZV9"),cn=18,un=50,dn=50,pn=150,fn=1.5,hn=1,mn=10;!function(e){e.Basic="basic",e.Lcd="lcd",e.Gradient="gradient"}(sn||(sn={}));var gn,bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,a=this.props.value.title,r=function(e){var t={display:"flex",overflow:"hidden",width:"100%"},n=yn(e),a={fontSize:n.fontSize+"px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",alignItems:"center",alignSelf:"center"};vn(e.orientation)?(t.flexDirection="column-reverse",a.textAlign="center"):"above"===n.placement?t.flexDirection="column":(t.flexDirection="row",a.width=n.width+"px",a.textAlign="right",a.paddingRight="10px");return{wrapper:t,title:a}}(this.props);return a?f.a.createElement("div",{style:r.wrapper,onClick:t,className:n},f.a.createElement("div",{style:r.title},a),this.renderBarAndValue()):f.a.createElement("div",{style:r.wrapper,onClick:t,className:n},this.renderBarAndValue())},t.prototype.renderBarAndValue=function(){switch(this.props.displayMode){case"lcd":return this.renderRetroBars();case"basic":case"gradient":default:return this.renderBasicAndGradientBars()}},t.prototype.renderBasicAndGradientBars=function(){var e=this.props,t=e.value,n=e.showUnfilled,a=function(e){var t=e.displayMode,n=e.field,a=e.value,r=e.alignmentFactors,i=e.orientation,o=e.theme,s=wn(e),l=s.valueWidth,c=s.valueHeight,u=s.maxBarHeight,d=s.maxBarWidth,p=xn(a.numeric,n.min,n.max),f=_n(e),h=kn(r||a,f,l,c,i),m="basic"===t,g={display:"flex",flexGrow:1},b={borderRadius:"3px",position:"relative",zIndex:1},v={background:"rgba("+(o.isDark?"255,255,255":"0,0,0")+", 0.07)",flexGrow:1,display:"flex",borderRadius:"3px",position:"relative"};if(vn(i)){var y=Math.max(p*u,1);g.flexDirection="column",g.justifyContent="flex-end",b.transition="height 1s",b.height=y+"px",b.width=d+"px",v.bottom="-3px",m?(b.background=""+ye()(f).setAlpha(.35).toRgbString(),b.borderTop="2px solid "+f):b.background=On(e,u)}else{var w=Math.max(p*d,1);g.flexDirection="row-reverse",g.justifyContent="flex-end",g.alignItems="stretch",b.transition="width 1s",b.height=u+"px",b.width=w+"px",v.left="-3px",m?(b.background=""+ye()(f).setAlpha(.35).toRgbString(),b.borderRight="2px solid "+f):b.background=On(e,d)}return{wrapper:g,bar:b,value:h,emptyBar:v}}(this.props);return f.a.createElement("div",{style:a.wrapper},f.a.createElement(on,{className:"bar-gauge__value",value:t,style:a.value}),n&&f.a.createElement("div",{style:a.emptyBar}),f.a.createElement("div",{style:a.bar}))},t.prototype.getCellColor=function(e){var t=this.props,n=t.value,a=t.display;if(null===e)return{background:"gray",border:"gray"};var r=a?a(e).color:null;return r?null===n||null!==e&&e>n.numeric?{background:ye()(r).setAlpha(.18).toRgbString(),border:"transparent",isLit:!1}:{background:ye()(r).setAlpha(.95).toRgbString(),backgroundShade:ye()(r).setAlpha(.55).toRgbString(),border:ye()(r).setAlpha(.9).toRgbString(),isLit:!0}:{background:"gray",border:"gray"}},t.prototype.renderRetroBars=function(){var e=this.props,t=e.field,n=e.value,a=e.itemSpacing,r=e.alignmentFactors,i=e.orientation,o=e.lcdCellWidth,s=wn(this.props),l=s.valueHeight,c=s.valueWidth,u=s.maxBarHeight,d=s.maxBarWidth,p=s.wrapperWidth,h=s.wrapperHeight,m=t.min,g=t.max,b=vn(i),v=g-m,y=b?u:d,w=a,x=Math.floor(y/o),O=Math.floor((y-w*x)/x),_=kn(r||n,_n(this.props),c,l,i),k={width:p+"px",height:h+"px",display:"flex"};b?(k.flexDirection="column-reverse",k.alignItems="center"):(k.flexDirection="row",k.alignItems="center",_.justifyContent="flex-end");for(var j=[],C=0;C<x;C++){var S=m+v/x*C,E=this.getCellColor(S),T={borderRadius:"2px"};E.isLit?T.backgroundImage="radial-gradient("+E.background+" 10%, "+E.backgroundShade+")":T.backgroundColor=E.background,b?(T.height=O+"px",T.width=d+"px",T.marginTop=w+"px"):(T.width=O+"px",T.height=u+"px",T.marginRight=w+"px"),j.push(f.a.createElement("div",{key:C.toString(),style:T}))}return f.a.createElement("div",{style:k},j,f.a.createElement(on,{className:"bar-gauge__value",value:n,style:_}))},t.defaultProps={lcdCellWidth:12,value:{text:"100",numeric:100},displayMode:sn.Gradient,orientation:oe.VizOrientation.Horizontal,field:{min:0,max:100,thresholds:{mode:oe.ThresholdsMode.Absolute,steps:[]}},itemSpacing:10,showUnfilled:!0},t}(p.PureComponent);function vn(e){return e===oe.VizOrientation.Vertical}function yn(e){var t=e.height,n=e.width,a=e.alignmentFactors,r=e.orientation,i=a?a.title:e.value.title;if(!i)return{fontSize:0,width:0,height:0,placement:"above"};if(vn(r))return{fontSize:14,width:n,height:14*fn,placement:"below"};if(t>40){var o=Math.max(Math.min(.45*t,un),17);return{fontSize:o/fn,width:0,height:o,placement:"above"}}var s=Math.max(.6*t,cn)/fn;return{fontSize:s,height:0,width:Object(ln.b)(i,s).width+15,placement:"left"}}function wn(e){var t=e.height,n=e.width,a=e.orientation,r=yn(e),i=0,o=0,s=0,l=0,c=0,u=0;return vn(a)?(s=Math.min(Math.max(.1*t,cn),un),l=n,i=t-(r.height+s),o=n,c=n,u=t-r.height):(s=t-r.height,l=Math.max(Math.min(.2*n,pn),dn),i=t-r.height,o=n-l-r.width,"above"===r.placement?(c=n,u=t-r.height):(c=n-r.width,u=t)),{valueWidth:l,valueHeight:s,maxBarWidth:o,maxBarHeight:i,wrapperHeight:u,wrapperWidth:c}}function xn(e,t,n){return Math.min((e-t)/(n-t),1)}function On(e,t){var n=e.field,a=e.value,r=vn(e.orientation)?"0deg":"90deg",i=n.min,o=n.max,s="",l=0;if(n.color&&n.color.mode===oe.FieldColorMode.Scheme){var c=rn["scheme"+n.color.schemeName];if(!c)return s="linear-gradient("+r+", "+(p="#F00")+", "+p,(s+=" "+t+"px, "+p)+")";for(var u=c[c.length-1],d=0;d<u.length;d++){var p=u[d],f=d/(u.length-1)*t,h=Math.round(f-(f-l)/2);""===s?s="linear-gradient("+r+", "+p+", "+p:(l=f,s+=" "+h+"px, "+p)}}else{var m=n.thresholds;for(d=0;d<m.steps.length;d++){var g=m.steps[d];p=Object(oe.getColorFromHexRgbOrName)(g.color),f=xn(g.value,i,o)*t,h=Math.round(f-(f-l)/2);if(""===s)s="linear-gradient("+r+", "+p+", "+p;else{if(a.numeric<g.value)break;l=f,s+=" "+h+"px, "+p}}}return s+")"}function _n(e){var t=e.theme,n=e.value;return n.color?n.color:Object(oe.getColorFromHexRgbOrName)("gray",t.type)}function kn(e,t,n,a,r){var i={color:t,height:a+"px",width:n+"px",display:"flex",alignItems:"center",lineHeight:hn},o=n,s=Object(oe.formattedValueToString)(e);return vn(r)?(i.fontSize=Object(ln.a)(s,o,a,hn),i.justifyContent="center"):(i.fontSize=Object(ln.a)(s,o-2*mn,a,hn),i.justifyContent="flex-end",i.paddingLeft=mn+"px",i.paddingRight=mn+"px",o-=mn,i.width=Object(ln.b)(s,i.fontSize).width+2*mn),i}!function(e){e.Auto="auto",e.ColorText="color-text",e.ColorBackground="color-background",e.GradientGauge="gradient-gauge",e.LcdGauge="lcd-gauge"}(gn||(gn={}));var jn={mode:oe.ThresholdsMode.Absolute,steps:[{color:"blue",value:-1/0},{color:"green",value:20}]},Cn=function(e){var t=e.field,n=e.column,a=e.tableStyles,r=e.cell;if(!t.display)return null;var i=t.config;i.thresholds||(i=Object(d.__assign)(Object(d.__assign)({},i),{thresholds:jn}));var o,s=t.display(r.value),l=sn.Gradient;return t.config.custom&&t.config.custom.displayMode===gn.LcdGauge&&(l=sn.Lcd),o=n.width?n.width-2*a.cellPadding:2*a.cellPadding,f.a.createElement("div",{className:a.tableCell},f.a.createElement(bn,{width:o,height:a.cellHeightInner,field:i,value:s,orientation:oe.VizOrientation.Horizontal,theme:a.theme,itemSpacing:1,lcdCellWidth:8,displayMode:l}))},Sn=function(e){var t=e.cell,n=e.tableStyles,a=e.field;if(!a.display)return null;var r=n.theme.isDark?1:-.7,i=a.display(t.value),o={background:"linear-gradient(120deg, "+ye()(i.color).darken(10*r).spin(5).toRgbString()+", "+i.color+")",borderRadius:"0px",color:"white",height:n.cellHeight,padding:n.cellPadding};return f.a.createElement("div",{style:o},Object(oe.formattedValueToString)(i))};function En(e){switch(e){case gn.ColorBackground:return Sn;case gn.LcdGauge:case gn.GradientGauge:return Cn;default:return an}}var Tn,Mn,An,Nn,Dn,In=Object(m.g)(function(e){var t=e.colors,n=Object(m.e)({light:t.gray6,dark:t.dark7},e.type),a=e.typography.lineHeight.md,r=12+14*a;return{theme:e,cellHeight:r,cellPadding:6,cellHeightInner:14*a,rowHeight:r+2,table:Object(h.css)(Tn||(Tn=Object(d.__makeTemplateObject)(["\n        overflow: auto;\n        border-spacing: 0;\n      "],["\n        overflow: auto;\n        border-spacing: 0;\n      "]))),thead:Object(h.css)(Mn||(Mn=Object(d.__makeTemplateObject)(["\n        overflow-y: auto;\n        overflow-x: hidden;\n        background: ",";\n      "],["\n        overflow-y: auto;\n        overflow-x: hidden;\n        background: ",";\n      "])),n),headerCell:Object(h.css)(An||(An=Object(d.__makeTemplateObject)(["\n        padding: ","px 10px;\n        cursor: pointer;\n        white-space: nowrap;\n        color: ",";\n      "],["\n        padding: ","px 10px;\n        cursor: pointer;\n        white-space: nowrap;\n        color: ",";\n      "])),6,t.blue),row:Object(h.css)(Nn||(Nn=Object(d.__makeTemplateObject)(["\n        border-bottom: 2px solid ",";\n      "],["\n        border-bottom: 2px solid ",";\n      "])),t.bodyBg),tableCell:Object(h.css)(Dn||(Dn=Object(d.__makeTemplateObject)(["\n        padding: ","px 10px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n      "],["\n        padding: ","px 10px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n      "])),6)}}),Pn=function(e){var t=e.cell,n=e.field,a=e.tableStyles,r=e.onCellClick,i=n.config.filterable,o=t.getCellProps(),s=void 0;i&&r&&(o.style&&(o.style.cursor="pointer"),s=function(){return r(t.column.Header,t.value)});var l=function(e){if(e.config.custom)switch(e.config.custom.align){case"right":return"right";case"left":return"left";case"center":return"center"}return e.type===oe.FieldType.number?"right":"left"}(n);return l&&o.style&&(o.style.textAlign=l),f.a.createElement("div",Object(d.__assign)({},o,{onClick:s}),t.render("Cell",{field:n,tableStyles:a}))},Fn=function(e){var t=e.data,n=e.height,a=e.onCellClick,r=e.width,i=Object(m.h)(),o=In(i),s=Object(tn.c)({columns:Object(p.useMemo)(function(){return function(e,t){var n,a,r,i,o=[],s=e.fields.length;try{for(var l=Object(d.__values)(e.fields),c=l.next();!c.done;c=l.next()){var u=c.value,p=u.config.custom||{};p.width&&(t-=p.width,s-=1);var f=En(p.displayMode);o.push({Cell:f,Header:u.name,accessor:u.name,width:p.width})}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}var h=t/s;try{for(var m=Object(d.__values)(o),g=m.next();!g.done;g=m.next()){var b=g.value;b.width||(b.width=h)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return o}(t,r)},[t]),data:Object(p.useMemo)(function(){return function(e){for(var t=[],n=0;n<e.length;n++){for(var a={},r=0;r<e.fields.length;r++)a[e.fields[r].name]=e.fields[r].values.get(n);t.push(a)}return t}(t)},[t])},tn.b,tn.a),l=s.getTableProps,c=s.headerGroups,u=s.rows,h=s.prepareRow,g=f.a.useCallback(function(e){var n=e.index,r=e.style,i=u[n];return h(i),f.a.createElement("div",Object(d.__assign)({},i.getRowProps({style:r}),{className:o.row}),i.cells.map(function(e,n){return f.a.createElement(Pn,{key:n,field:t.fields[e.column.index],tableStyles:o,cell:e,onCellClick:a})}))},[h,u]);return f.a.createElement("div",Object(d.__assign)({},l(),{className:o.table}),f.a.createElement("div",null,c.map(function(e){return f.a.createElement("div",Object(d.__assign)({className:o.thead},e.getHeaderGroupProps()),e.headers.map(function(e){return function(e,t){var n=e.getHeaderProps(e.getSortByToggleProps());e.textAlign&&(n.style.textAlign=e.textAlign);return f.a.createElement("div",Object(d.__assign)({className:t},n),e.render("Header"),f.a.createElement("span",null,e.isSorted?e.isSortedDesc?" 🔽":" 🔼":""))}(e,o.headerCell)}))})),f.a.createElement(nn.a,{height:n,itemCount:u.length,itemSize:o.rowHeight,width:r},g))};var Ln,Rn,Vn,$n,Bn,Un,qn,zn,Hn=function(e){function t(t){var n=e.call(this,t)||this;n.readCSV=xe()(function(){var e=n.props.config,t=n.state.text;n.setState({data:Object(oe.readCSV)(t,{config:e})})},150),n.onTextChange=function(e){n.setState({text:e.target.value})};var a=t.text,r=t.config;return n.state={text:a,data:Object(oe.readCSV)(a,{config:r})},n}return Object(d.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state.text;n===t.text&&this.props.config===e.config||this.readCSV(),this.props.text!==e.text&&this.props.text!==n&&this.setState({text:this.props.text}),this.state.data!==t.data&&this.props.onSeriesParsed(this.state.data,this.state.text)},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,a=this.state.data;return f.a.createElement("div",{className:"gf-table-input-csv"},f.a.createElement("textarea",{style:{width:t,height:n},placeholder:"Enter CSV here...",value:this.state.text,onChange:this.onTextChange,className:"gf-form-input"}),a&&f.a.createElement("footer",null,a.map(function(e,t){return f.a.createElement("span",{key:t},"Rows:",e.length,", Columns:",e.fields.length,"  ",f.a.createElement("i",{className:"fa fa-check-circle"}))})))},t}(f.a.PureComponent),Gn=Object(m.g)(function(e,t){void 0===t&&(t=!1);var n=e.colors;return{tabsWrapper:!t&&Object(h.css)(Ln||(Ln=Object(d.__makeTemplateObject)(["\n        border-bottom: 1px solid ",";\n      "],["\n        border-bottom: 1px solid ",";\n      "])),n.pageHeaderBorder),tabs:Object(h.css)(Rn||(Rn=Object(d.__makeTemplateObject)(["\n      position: relative;\n      top: 1px;\n      display: flex;\n    "],["\n      position: relative;\n      top: 1px;\n      display: flex;\n    "])))}}),Wn=function(e){var t=e.children,n=e.className,a=e.hideBorder,r=Object(m.h)(),i=Gn(r,a);return f.a.createElement("div",{className:Object(h.cx)(i.tabsWrapper,n)},f.a.createElement("ul",{className:i.tabs},t))},Qn=Object(m.g)(function(e){var t=e.colors,n=Object(m.e)({dark:t.dark9,light:t.gray5},e.type);return{tabItem:Object(h.css)(Vn||(Vn=Object(d.__makeTemplateObject)(["\n      list-style: none;\n      padding: 10px 15px 9px;\n      margin-right: ",";\n      position: relative;\n      display: block;\n      border: solid transparent;\n      border-width: 0 1px 1px;\n      border-radius: "," "," 0 0;\n      color: ",";\n      cursor: pointer;\n\n      i {\n        margin-right: ",";\n      }\n\n      .gicon {\n        position: relative;\n        top: -2px;\n      }\n\n      &:hover,\n      &:focus {\n        color: ",";\n      }\n    "],["\n      list-style: none;\n      padding: 10px 15px 9px;\n      margin-right: ",";\n      position: relative;\n      display: block;\n      border: solid transparent;\n      border-width: 0 1px 1px;\n      border-radius: "," "," 0 0;\n      color: ",";\n      cursor: pointer;\n\n      i {\n        margin-right: ",";\n      }\n\n      .gicon {\n        position: relative;\n        top: -2px;\n      }\n\n      &:hover,\n      &:focus {\n        color: ",";\n      }\n    "])),e.spacing.md,e.border.radius.md,e.border.radius.md,t.text,e.spacing.sm,t.linkHover),activeStyle:Object(h.css)($n||($n=Object(d.__makeTemplateObject)(["\n      border-color: "," "," transparent;\n      background: ",";\n      color: ",";\n      overflow: hidden;\n      cursor: not-allowed;\n\n      &::before {\n        display: block;\n        content: ' ';\n        position: absolute;\n        left: 0;\n        right: 0;\n        height: 2px;\n        top: 0;\n        background-image: linear-gradient(to right, #f05a28 30%, #fbca0a 99%);\n      }\n    "],["\n      border-color: "," "," transparent;\n      background: ",";\n      color: ",";\n      overflow: hidden;\n      cursor: not-allowed;\n\n      &::before {\n        display: block;\n        content: ' ';\n        position: absolute;\n        left: 0;\n        right: 0;\n        height: 2px;\n        top: 0;\n        background-image: linear-gradient(to right, #f05a28 30%, #fbca0a 99%);\n      }\n    "])),t.orange,n,t.pageBg,t.link)}}),Yn=function(e){var t=e.label,n=e.active,a=e.icon,r=e.onChangeTab,i=Object(m.h)(),o=Qn(i);return f.a.createElement("li",{className:Object(h.cx)(o.tabItem,n&&o.activeStyle),onClick:r},a&&f.a.createElement("i",{className:a}),t)},Kn=Object(m.g)(function(e){return{tabContent:Object(h.css)(Bn||(Bn=Object(d.__makeTemplateObject)(["\n      padding: ",";\n      height: 90%;\n      overflow: hidden;\n    "],["\n      padding: ",";\n      height: 90%;\n      overflow: hidden;\n    "])),e.spacing.xs)}}),Jn=function(e){var t=e.children,n=Object(m.h)(),a=Kn(n);return f.a.createElement("div",{className:a.tabContent},t)},Zn=n("yP6+"),Xn=1.2,ea=30,ta=function(){function e(e){this.props=e;var t=e.width,n=e.height,a=e.value,r=e.alignmentFactors,i=e.theme;this.valueColor=Object(oe.getColorFromHexRgbOrName)(a.color||"green",i.type),this.justifyCenter=function(e){var t,n=e.value;if(e.justifyMode===zn.Center)return!0;return 0===(t=n.title,null!=t?t:"").length}(e),this.panelPadding=n>100?12:8,this.titleToAlignTo=r?r.title:a.title,this.valueToAlignTo=Object(oe.formattedValueToString)(r||a),this.titleFontSize=14,this.valueFontSize=14,this.chartHeight=0,this.chartWidth=0,this.maxTextWidth=t-2*this.panelPadding,this.maxTextHeight=n-2*this.panelPadding}return e.prototype.getTitleStyles=function(){var e={fontSize:this.titleFontSize+"px",lineHeight:Xn};return this.props.colorMode===Un.Background&&(e.color="white"),e},e.prototype.getValueStyles=function(){var e={fontSize:this.valueFontSize,fontWeight:500,lineHeight:Xn};switch(this.props.colorMode){case Un.Value:e.color=this.valueColor;break;case Un.Background:e.color="white"}return e},e.prototype.getValueAndTitleContainerStyles=function(){var e={display:"flex"};return this.justifyCenter&&(e.alignItems="center",e.justifyContent="center",e.flexGrow=1),e},e.prototype.getPanelStyles=function(){var e=this.props,t=e.width,n=e.height,a=e.theme,r=e.colorMode,i={width:t+"px",height:n+"px",padding:this.panelPadding+"px",borderRadius:"3px",position:"relative",display:"flex"},o=a.isDark?1:-.7;switch(r){case Un.Background:var s=ye()(this.valueColor).darken(15*o).spin(8).toRgbString(),l=ye()(this.valueColor).darken(5*o).spin(-8).toRgbString();i.background="linear-gradient(120deg, "+s+", "+l+")";break;case Un.Value:i.background=""+a.colors.panelBg}return this.justifyCenter&&(i.alignItems="center",i.flexDirection="row"),i},e.prototype.renderChart=function(){var e=this.props.sparkline;if(!e||0===e.data.length)return null;var t=e.data.map(function(e){return{time:e[0],value:e[1],name:"A"}}),n={time:{type:"time",min:e.xMin,max:e.xMax},value:{min:e.yMin,max:e.yMax}};if(e.xMax&&e.xMin){var a=e.xMax-e.xMin,r=t[t.length-1].time||0;Math.abs(e.xMax-r)/a<.05&&(n.time.max=r)}return f.a.createElement(Zn.Chart,{height:this.chartHeight,width:this.chartWidth,data:t,animate:!1,padding:[4,0,0,0],scale:n,style:this.getChartStyles()},this.renderGeom())},e.prototype.renderGeom=function(){var e,t,n={opacity:1,fillOpacity:1,lineWidth:2};switch(this.props.colorMode){case Un.Value:t=this.valueColor,e=ye()(this.valueColor).setAlpha(.2).toRgbString();break;case Un.Background:e="rgba(255,255,255,0.4)",t=ye()(this.valueColor).brighten(40).toRgbString()}return n.stroke=t,f.a.createElement(f.a.Fragment,null,f.a.createElement(Zn.Geom,{type:"area",position:"time*value",size:0,color:e,style:n,shape:"smooth"}),f.a.createElement(Zn.Geom,{type:"line",position:"time*value",size:1,color:t,style:n,shape:"smooth"}))},e.prototype.getChartStyles=function(){return{position:"absolute",right:0,bottom:0}},e}(),na=function(e){function t(t){var n=e.call(this,t)||this;return n.titleToAlignTo&&n.titleToAlignTo.length>0?(n.valueFontSize=Object(ln.a)(n.valueToAlignTo,.3*n.maxTextWidth,n.maxTextHeight,Xn),n.titleFontSize=Object(ln.a)(n.titleToAlignTo,.6*n.maxTextWidth,n.maxTextHeight,Xn,ea),n.titleFontSize=Math.min(.7*n.valueFontSize,n.titleFontSize)):n.valueFontSize=Object(ln.a)(n.valueToAlignTo,n.maxTextWidth,n.maxTextHeight,Xn),n}return Object(d.__extends)(t,e),t.prototype.getValueAndTitleContainerStyles=function(){var t=e.prototype.getValueAndTitleContainerStyles.call(this);return t.flexDirection="row",t.alignItems="center",t.flexGrow=1,this.justifyCenter||(t.justifyContent="space-between"),t},t.prototype.renderChart=function(){return null},t.prototype.getPanelStyles=function(){var t=e.prototype.getPanelStyles.call(this);return t.alignItems="center",t},t}(ta),aa=function(e){function t(t){var n=e.call(this,t)||this,a=t.width,r=t.height;return n.chartWidth=a,n.chartHeight=.5*r,n.titleToAlignTo&&n.titleToAlignTo.length>0&&(n.titleFontSize=Object(ln.a)(n.titleToAlignTo,.6*n.maxTextWidth,.4*n.maxTextHeight,Xn,ea)),n.valueFontSize=Object(ln.a)(n.valueToAlignTo,.4*n.maxTextWidth,.5*n.maxTextHeight,Xn),n}return Object(d.__extends)(t,e),t.prototype.getValueAndTitleContainerStyles=function(){var t=e.prototype.getValueAndTitleContainerStyles.call(this);return t.flexDirection="row",t.flexGrow=1,this.justifyCenter||(t.justifyContent="space-between"),t},t.prototype.getPanelStyles=function(){var t=e.prototype.getPanelStyles.call(this);return t.flexDirection="row",t.justifyContent="space-between",t},t}(ta),ra=function(e){function t(t){var n=e.call(this,t)||this,a=t.width,r=t.height,i=0;return n.chartHeight=.25*r,n.chartWidth=a,n.titleToAlignTo&&n.titleToAlignTo.length>0&&(n.titleFontSize=Object(ln.a)(n.titleToAlignTo,n.maxTextWidth,.15*r,Xn,ea),i=n.titleFontSize*Xn),n.valueFontSize=Object(ln.a)(n.valueToAlignTo,n.maxTextWidth,n.maxTextHeight-n.chartHeight-i,Xn),n.titleFontSize=Math.min(.7*n.valueFontSize,n.titleFontSize),n.chartHeight=r-n.titleFontSize*Xn-n.valueFontSize*Xn,n}return Object(d.__extends)(t,e),t.prototype.getValueAndTitleContainerStyles=function(){var t=e.prototype.getValueAndTitleContainerStyles.call(this);return t.flexDirection="column",t.justifyContent="center",t},t.prototype.getPanelStyles=function(){var t=e.prototype.getPanelStyles.call(this);return t.flexDirection="column",t},t}(ta),ia=function(e){function t(t){var n=e.call(this,t)||this,a=t.height,r=0;return n.titleToAlignTo&&n.titleToAlignTo.length>0&&(n.titleFontSize=Object(ln.a)(n.titleToAlignTo,n.maxTextWidth,.15*a,Xn,ea),r=n.titleFontSize*Xn),n.valueFontSize=Object(ln.a)(n.valueToAlignTo,n.maxTextWidth,n.maxTextHeight-r,Xn),n.titleFontSize=Math.min(.7*n.valueFontSize,n.titleFontSize),n}return Object(d.__extends)(t,e),t.prototype.getValueAndTitleContainerStyles=function(){var t=e.prototype.getValueAndTitleContainerStyles.call(this);return t.flexDirection="column",t.flexGrow=1,t},t.prototype.getPanelStyles=function(){var t=e.prototype.getPanelStyles.call(this);return t.alignItems="center",t},t}(ta);!function(e){e.Value="value",e.Background="background"}(Un||(Un={})),function(e){e.None="none",e.Line="line",e.Area="area"}(qn||(qn={})),function(e){e.Auto="auto",e.Center="center"}(zn||(zn={}));var oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e,t,n,a,r=this.props,i=r.value,o=r.onClick,s=r.className,l=(e=this.props,t=e.width,n=e.height,a=e.sparkline,t/n>2.5?n>50&&a?new aa(e):new na(e):n>100&&a?new ra(e):new ia(e)),c=l.getPanelStyles(),u=l.getValueAndTitleContainerStyles(),d=l.getValueStyles(),p=l.getTitleStyles();return f.a.createElement("div",{className:s,style:c,onClick:o},f.a.createElement("div",{style:u},i.title&&f.a.createElement("div",{style:p},i.title),f.a.createElement(on,{value:i,style:d})),l.renderChart())},t.defaultProps={justifyMode:zn.Auto},t}(p.PureComponent),sa=n("+2Rf"),la=n.n(sa),ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderVisualization=function(){var e=t.props,n=e.width,a=e.value,r=e.height,i=e.onClick,o=ua(n,r,a.title);return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{style:{height:o.gaugeHeight+"px",width:"100%"},ref:function(e){return t.canvasElement=e},onClick:i}),o.showLabel&&f.a.createElement("div",{style:{textAlign:"center",fontSize:o.titleFontSize,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",position:"relative",width:"100%",top:"-4px",cursor:"default"}},a.title))},t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.draw()},t.prototype.componentDidUpdate=function(){this.draw()},t.prototype.getFormattedThresholds=function(){var e,t=this.props,n=t.field,a=t.theme,r=(null===(e=n.thresholds)||void 0===e?void 0:e.mode)===oe.ThresholdsMode.Percentage,i=n.thresholds.steps,o=n.min,s=n.max;r&&(o=0,s=100);var l=Object(oe.getActiveThreshold)(o,i),c=Object(oe.getActiveThreshold)(s,i),u=[];u.push({value:o,color:Object(oe.getColorFromHexRgbOrName)(l.color,a.type)});for(var d=!0,p=0;p<i.length;p++){var f=i[p];if(d)l===f&&(d=!1);else{var h=i[p-1];if(u.push({value:f.value,color:Object(oe.getColorFromHexRgbOrName)(h.color,a.type)}),f===c)break}}return u.push({value:s,color:Object(oe.getColorFromHexRgbOrName)(c.color,a.type)}),u},t.prototype.getFontScale=function(e){return e>12?1-5*e/110:1-5*e/101},t.prototype.draw=function(){var e,t=this.props,n=t.field,a=t.showThresholdLabels,r=t.showThresholdMarkers,i=t.width,o=t.height,s=t.theme,l=t.value,c=ua(i,o,l.title),u=Math.min(i,c.gaugeHeight),d=Object(m.e)({dark:s.colors.dark8,light:s.colors.gray6},s.type),p=a?1.5:1,f=Math.min(u/5.5,40)/p,h=f/5,g=Object(oe.formattedValueToString)(l),b=Math.min(u/4,100)*(null!==g?this.getFontScale(g.length):1),v=b/2.5,y=n.min,w=n.max,x=l.numeric;(null===(e=n.thresholds)||void 0===e?void 0:e.mode)===oe.ThresholdsMode.Percentage&&(y=0,w=100,x=void 0===l.percent?(x-y)/(w-y)*100:100*l.percent);var O={series:{gauges:{gauge:{min:y,max:w,background:{color:d},border:{color:null},shadow:{show:!1},width:f},frame:{show:!1},label:{show:!1},layout:{margin:0,thresholdWidth:0,vMargin:0},cell:{border:{width:0}},threshold:{values:this.getFormattedThresholds(),label:{show:a,margin:h+1,font:{size:v}},show:r,width:h},value:{color:l.color,formatter:function(){return g},font:{size:b,family:s.typography.fontFamily.sansSerif}},show:!0}}},_={data:[[0,x]],label:l.title};try{la.a.plot(this.canvasElement,[_],O)}catch(e){console.log("Gauge rendering error",e,O,l)}},t.prototype.render=function(){return f.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},className:this.props.className},this.renderVisualization())},t.defaultProps={showThresholdMarkers:!0,showThresholdLabels:!1,field:{min:0,max:100,thresholds:{mode:oe.ThresholdsMode.Absolute,steps:[{value:-1/0,color:"green"},{value:80,color:"red"}]}}},t}(p.PureComponent);function ua(e,t,n){var a=null!=n,r=Math.min(.15*e/1.5,20),i=a?t-1.5*r:t;return{showLabel:a,gaugeHeight:Math.min(i,e),titleFontSize:r}}var da,pa=n("qPyV"),fa=n.n(pa),ha=n("pW3x"),ma=n.n(ha),ga=Object(Nt.a)(function(e){var t=Object(de.a)({light:e.colors.gray5,dark:e.colors.dark1},e.type);return{wrapper:Object(h.css)(da||(da=Object(d.__makeTemplateObject)(["\n      overflow: hidden;\n      background: ",";\n      /* max-width is set up based on .grafana-tooltip class that's used in dashboard */\n      max-width: 800px;\n      padding: ",";\n      border-radius: ",";\n      z-index: ",";\n    "],["\n      overflow: hidden;\n      background: ",";\n      /* max-width is set up based on .grafana-tooltip class that's used in dashboard */\n      max-width: 800px;\n      padding: ",";\n      border-radius: ",";\n      z-index: ",";\n    "])),t,e.spacing.sm,e.border.radius.sm,e.zIndex.tooltip)}}),ba=function(e){var t=e.position,n=e.offset,a=e.children,r=Object(Pe.c)(),i=Object(p.useRef)(null),o=ma()(),s=o.width,l=o.height,c=Object(d.__read)(Object(p.useState)({x:t.x+n.x,y:t.y+n.y}),2),u=c[0],h=c[1];Object(p.useLayoutEffect)(function(){var e=0,a=0;if(i&&i.current){var r=i.current.getBoundingClientRect(),o=s-(t.x+r.width),c=l-(t.y+r.height);o<0&&(e=r.width+n.x),c<0&&(a=r.height+n.y)}h({x:t.x-e,y:t.y-a})},[i,t]);var m=ga(r);return f.a.createElement("div",{ref:i,style:{position:"fixed",left:0,top:0,transform:"translate3d("+u.x+"px, "+u.y+"px, 0)"},className:m.wrapper},a)};ba.displayName="TooltipContainer";var va,ya=function(e){var t=e.content,n=e.position,a=e.offset;return n?f.a.createElement(j.a,{className:Object(h.css)(va||(va=Object(d.__makeTemplateObject)(["\n          position: absolute;\n          top: 0;\n          left: 0;\n          pointer-events: none;\n          width: 100%;\n          height: 100%;\n        "],["\n          position: absolute;\n          top: 0;\n          left: 0;\n          pointer-events: none;\n          width: 100%;\n          height: 100%;\n        "])))},f.a.createElement(ba,{position:n,offset:a||{x:0,y:0}},t)):null};ya.displayName="ChartTooltip";var wa=function(e){var t=e.color,n=e.className;return f.a.createElement("i",{className:Object(h.cx)("fa","fa-minus",n),style:{color:t}})};wa.displayName="SeriesIcon";var xa,Oa,_a,ka,ja,Ca,Sa,Ea,Ta=Object(Nt.a)(function(e){return{icon:Object(h.css)(xa||(xa=Object(d.__makeTemplateObject)(["\n      margin-right: ",";\n    "],["\n      margin-right: ",";\n    "])),e.spacing.xs),seriesTable:Object(h.css)(Oa||(Oa=Object(d.__makeTemplateObject)(["\n      display: table;\n    "],["\n      display: table;\n    "]))),seriesTableRow:Object(h.css)(_a||(_a=Object(d.__makeTemplateObject)(["\n      display: table-row;\n      font-size: ",";\n    "],["\n      display: table-row;\n      font-size: ",";\n    "])),e.typography.size.sm),seriesTableCell:Object(h.css)(ka||(ka=Object(d.__makeTemplateObject)(["\n      display: table-cell;\n    "],["\n      display: table-cell;\n    "]))),label:Object(h.css)(ja||(ja=Object(d.__makeTemplateObject)(["\n      word-break: break-all;\n    "],["\n      word-break: break-all;\n    "]))),value:Object(h.css)(Ca||(Ca=Object(d.__makeTemplateObject)(["\n      padding-left: ",";\n    "],["\n      padding-left: ",";\n    "])),e.spacing.md),activeSeries:Object(h.css)(Sa||(Sa=Object(d.__makeTemplateObject)(["\n      font-weight: ",";\n    "],["\n      font-weight: ",";\n    "])),e.typography.weight.bold),timestamp:Object(h.css)(Ea||(Ea=Object(d.__makeTemplateObject)(["\n      font-weight: ",";\n      font-size: ",";\n    "],["\n      font-weight: ",";\n      font-size: ",";\n    "])),e.typography.weight.bold,e.typography.size.sm)}}),Ma=function(e){var t=e.color,n=e.label,a=e.value,r=e.isActive,i=Object(m.h)(),o=Ta(i);return f.a.createElement("div",{className:Object(h.cx)(o.seriesTableRow,r&&o.activeSeries)},t&&f.a.createElement("div",{className:o.seriesTableCell},f.a.createElement(wa,{color:t,className:o.icon})),f.a.createElement("div",{className:Object(h.cx)(o.seriesTableCell,o.label)},n),f.a.createElement("div",{className:Object(h.cx)(o.seriesTableCell,o.value)},a))},Aa=function(e){var t=e.timestamp,n=e.series,a=Object(m.h)(),r=Ta(a);return f.a.createElement(f.a.Fragment,null,t&&f.a.createElement("div",{className:r.timestamp,"aria-label":"Timestamp"},t),n.map(function(e){return f.a.createElement(Ma,{isActive:e.isActive,label:e.label,color:e.color,value:e.value,key:e.label})}))},Na=function(e){var t,n=e.dimensions,a=e.activeDimensions;if(null===a.yAxis||void 0===a.yAxis[1]||null===a.xAxis||void 0===a.xAxis[1])return null;var r=Object(oe.getValueFromDimension)(n.xAxis,a.xAxis[0],a.xAxis[1]),i=Object(oe.getColumnFromDimension)(n.xAxis,a.xAxis[0]),o=i.display?Object(oe.formattedValueToString)(i.display(r)):r,s=Object(oe.getColumnFromDimension)(n.yAxis,a.yAxis[0]),l=Object(oe.getValueFromDimension)(n.yAxis,a.yAxis[0],a.yAxis[1]),c=(null!=(t=s.display)?t:Object(oe.getDisplayProcessor)({field:s}))(l);return f.a.createElement(Aa,{series:[{color:c.color,label:s.name,value:Object(oe.formattedValueToString)(c)}],timestamp:o})};Na.displayName="SingleModeGraphTooltip";var Da=function(e,t){for(var n,a=0,r=e.values.length-1;;){if(a>r)return Math.max(r,0);n=Math.floor((a+r)/2);var i=e.values.get(n);if(i===t)return n;i&&i<t?a=n+1:r=n-1}},Ia=function(e){var t=e.dimensions,n=e.activeDimensions,a=e.pos,r=null;if(null===n.xAxis)return null;n.yAxis&&(r=n.yAxis[0]);var i=n.xAxis[1]?Object(oe.getValueFromDimension)(t.xAxis,n.xAxis[0],n.xAxis[1]):a.x,o=function(e,t,n){var a,r,i,o,s,l,c,u,d=[];for(r=0;r<e.length;r++){i=e[r];var p=t[r];o=Da(p,n),s=n-p.values.get(o),l=p.values.get(o),(void 0===c||s>=0&&(s<c||c<0)||s<0&&s>c)&&(c=s,u=p.display?Object(oe.formattedValueToString)(p.display(l)):l);var f=(null!=(a=i.display)?a:Object(oe.getDisplayProcessor)({field:i}))(i.values.get(o));d.push({value:Object(oe.formattedValueToString)(f),datapointIndex:o,seriesIndex:r,color:f.color,label:i.name,time:p.display?Object(oe.formattedValueToString)(p.display(l)):l})}return{results:d,time:u}}(t.yAxis.columns,t.xAxis.columns,i),s=o.time,l=o.results.map(function(e,t){return{color:e.color,label:e.label,value:e.value,isActive:r===t}});return f.a.createElement(Aa,{series:l,timestamp:s})};Ia.displayName="MultiModeGraphTooltip";var Pa=function(e){var t=e.mode,n=void 0===t?"single":t,a=e.dimensions,r=e.activeDimensions,i=e.pos;return r&&r.xAxis?"single"===n?f.a.createElement(Na,{dimensions:a,activeDimensions:r}):f.a.createElement(Ia,{dimensions:a,activeDimensions:r,pos:i}):null};Pa.displayName="GraphTooltip";var Fa,La,Ra,Va,$a,Ba,Ua=n("tm4R"),qa=n.n(Ua),za=Object(Nt.a)(function(e){var t=Object(Gt.selectThemeVariant)({light:e.colors.dark2,dark:e.colors.text},e.type),n=Object(Gt.selectThemeVariant)({light:e.colors.link,dark:e.colors.white},e.type),a=Object(Gt.selectThemeVariant)({light:e.colors.gray7,dark:e.colors.dark2},e.type),r=Object(Gt.selectThemeVariant)({light:e.colors.gray3,dark:e.colors.black},e.type),i=Object(Gt.selectThemeVariant)({light:e.colors.black,dark:e.colors.white},e.type),o=Object(Gt.selectThemeVariant)({light:e.colors.gray1,dark:e.colors.textWeak},e.type),s=Object(Gt.selectThemeVariant)({light:e.colors.gray5,dark:e.colors.dark7},e.type),l=Object(Gt.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark1},e.type),c=Object(Gt.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark7},e.type);return{header:Object(h.css)(Fa||(Fa=Object(d.__makeTemplateObject)(["\n      padding: 4px;\n      border-bottom: 1px solid ",";\n      background: ",";\n      margin-bottom: ",";\n      border-radius: "," "," 0 0;\n    "],["\n      padding: 4px;\n      border-bottom: 1px solid ",";\n      background: ",";\n      margin-bottom: ",";\n      border-radius: "," "," 0 0;\n    "])),c,l,e.spacing.xs,e.border.radius.sm,e.border.radius.sm),wrapper:Object(h.css)(La||(La=Object(d.__makeTemplateObject)(["\n      background: ",";\n      z-index: 1;\n      box-shadow: 0 2px 5px 0 ",";\n      min-width: 200px;\n      display: inline-block;\n      border-radius: ",";\n    "],["\n      background: ",";\n      z-index: 1;\n      box-shadow: 0 2px 5px 0 ",";\n      min-width: 200px;\n      display: inline-block;\n      border-radius: ",";\n    "])),a,r,e.border.radius.sm),link:Object(h.css)(Ra||(Ra=Object(d.__makeTemplateObject)(["\n      color: ",";\n      display: flex;\n      cursor: pointer;\n      &:hover {\n        color: ",";\n        text-decoration: none;\n      }\n    "],["\n      color: ",";\n      display: flex;\n      cursor: pointer;\n      &:hover {\n        color: ",";\n        text-decoration: none;\n      }\n    "])),t,n),item:Object(h.css)(Va||(Va=Object(d.__makeTemplateObject)(["\n      background: none;\n      padding: 4px 8px;\n      color: ",";\n      border-left: 2px solid transparent;\n      cursor: pointer;\n      &:hover {\n        background: ",";\n        border-image: linear-gradient(#f05a28 30%, #fbca0a 99%);\n        border-image-slice: 1;\n      }\n    "],["\n      background: none;\n      padding: 4px 8px;\n      color: ",";\n      border-left: 2px solid transparent;\n      cursor: pointer;\n      &:hover {\n        background: ",";\n        border-image: linear-gradient(#f05a28 30%, #fbca0a 99%);\n        border-image-slice: 1;\n      }\n    "])),i,s),groupLabel:Object(h.css)($a||($a=Object(d.__makeTemplateObject)(["\n      color: ",";\n      font-size: ",";\n      line-height: ",";\n      padding: "," ",";\n    "],["\n      color: ",";\n      font-size: ",";\n      line-height: ",";\n      padding: "," ",";\n    "])),o,e.typography.size.sm,e.typography.lineHeight.md,e.spacing.xs,e.spacing.sm),icon:Object(h.css)(Ba||(Ba=Object(d.__makeTemplateObject)(["\n      opacity: 0.7;\n      width: 12px;\n      height: 12px;\n      display: inline-block;\n      margin-right: 10px;\n      color: ",";\n      position: relative;\n      top: 4px;\n    "],["\n      opacity: 0.7;\n      width: 12px;\n      height: 12px;\n      display: inline-block;\n      margin-right: 10px;\n      color: ",";\n      position: relative;\n      top: 4px;\n    "])),e.colors.linkDisabled)}}),Ha=f.a.memo(function(e){var t=e.x,n=e.y,a=e.onClose,r=e.items,i=e.renderHeader,o=Object(p.useContext)(Gt.ThemeContext),s=Object(p.useRef)(null),l=Object(d.__read)(Object(p.useState)({}),2),c=l[0],u=l[1];Object(p.useLayoutEffect)(function(){var e=s.current;if(e){var a=e.getBoundingClientRect(),r={right:window.innerWidth<t+a.width,bottom:window.innerHeight<a.bottom+a.height+5};u({position:"fixed",left:r.right?t-a.width-5:t-5,top:r.bottom?n-a.height-5:n+5})}},[s.current]),qa()(s,function(){a&&a()});var h=za(o),m=i&&i();return f.a.createElement(j.a,null,f.a.createElement("div",{ref:s,style:c,className:h.wrapper},m&&f.a.createElement("div",{className:h.header},m),f.a.createElement(At.a,{items:r||[],renderItem:function(e,t){return f.a.createElement(f.a.Fragment,null,f.a.createElement(Wa,{group:e,onClick:a}))}})))}),Ga=f.a.memo(function(e){var t=e.url,n=e.icon,a=e.label,r=e.target,i=e.onClick,o=e.className,s=Object(p.useContext)(Gt.ThemeContext),l=za(s);return f.a.createElement("div",{className:l.item},f.a.createElement("a",{href:t||void 0,target:r||"_self",className:Object(h.cx)(o,l.link),onClick:function(e){i&&i(e)}},n&&f.a.createElement("i",{className:Object(h.cx)(""+n,l.icon)})," ",a))}),Wa=function(e){var t=e.group,n=e.onClick,a=Object(p.useContext)(Gt.ThemeContext),r=za(a);return 0===t.items.length?null:f.a.createElement("div",null,t.label&&f.a.createElement("div",{className:r.groupLabel},t.label),f.a.createElement(At.a,{items:t.items||[],renderItem:function(e){return f.a.createElement(Ga,{url:e.url,label:e.label,target:e.target,icon:e.icon,onClick:function(t){e.onClick&&e.onClick(t),n&&n()}})}}))};Ha.displayName="ContextMenu";var Qa,Ya,Ka,Ja=function(e){var t=e.getContextMenuSource,n=e.formatSourceDate,a=e.items,r=e.dimensions,i=e.contextDimensions,o=Object(d.__rest)(e,["getContextMenuSource","formatSourceDate","items","dimensions","contextDimensions"]),s=Object(p.useContext)(m.a),l=t(),c=a?a.map(function(e){return Object(d.__assign)(Object(d.__assign)({},e),{items:e.items.filter(function(e){return e.label})})}):[];return f.a.createElement(Ha,Object(d.__assign)({},o,{items:c,renderHeader:function(){var e,t,a,o,c;if(!l)return null;if((null===(e=r)||void 0===e?void 0:e.yAxis)&&(null===(a=null===(t=i)||void 0===t?void 0:t.yAxis)||void 0===a?void 0:a[1])){var u=Object(oe.getValueFromDimension)(r.yAxis,i.yAxis[0],i.yAxis[1]);c=(null!=(o=l.series.valueField.display)?o:Object(oe.getDisplayProcessor)({field:l.series.valueField}))(u)}var p=l.series.hasMsResolution?oe.MS_DATE_TIME_FORMAT:oe.DEFAULT_DATE_TIME_FORMAT;return f.a.createElement("div",{className:Object(h.css)(Qa||(Qa=Object(d.__makeTemplateObject)(["\n          padding: "," ",";\n          font-size: ",";\n          z-index: ",";\n        "],["\n          padding: "," ",";\n          font-size: ",";\n          z-index: ",";\n        "])),s.spacing.xs,s.spacing.sm,s.typography.size.sm,s.zIndex.tooltip)},f.a.createElement("strong",null,n(l.datapoint[0],p)),f.a.createElement("div",null,f.a.createElement(wa,{color:l.series.color}),f.a.createElement("span",{className:Object(h.css)(Ya||(Ya=Object(d.__makeTemplateObject)(["\n              white-space: nowrap;\n              padding-left: ",";\n            "],["\n              white-space: nowrap;\n              padding-left: ",";\n            "])),s.spacing.xs)},l.series.alias||l.series.label),c&&f.a.createElement("span",{className:Object(h.css)(Ka||(Ka=Object(d.__makeTemplateObject)(["\n                white-space: nowrap;\n                padding-left: ",";\n              "],["\n                white-space: nowrap;\n                padding-left: ",";\n              "])),s.spacing.md)},Object(oe.formattedValueToString)(c))))}}))},Za=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isTooltipVisible:!1,isContextVisible:!1},t.element=null,t.onPlotSelected=function(e,n){var a=t.props.onHorizontalRegionSelected;a&&a(n.xaxis.from,n.xaxis.to)},t.onPlotHover=function(e,n,a){t.setState({isTooltipVisible:!0,activeItem:a,pos:n})},t.onPlotClick=function(e,n,a){t.setState({isContextVisible:!0,isTooltipVisible:!1,contextItem:a,contextPos:n})},t.renderTooltip=function(){var e=t.props,n=e.children,a=e.series,r=t.state,i=r.pos,o=r.activeItem,s=r.isTooltipVisible,l=null;if(!s||!i||0===a.length)return null;if(f.a.Children.forEach(n,function(e){l||(e&&e.type&&(e.type.displayName||e.type.name))===ya.displayName&&(l=e)}),!l)return null;var c=l.props,u=c.mode||"single";if(!o&&"single"===u)return null;var p=c.tooltipComponent||Pa,h={xAxis:[o?o.series.seriesIndex:0,o?o.dataIndex:void 0],yAxis:o?[o.series.seriesIndex,o.dataIndex]:null},m={dimensions:{xAxis:Object(oe.createDimension)("xAxis",a.map(function(e){return e.timeField})),yAxis:Object(oe.createDimension)("yAxis",a.map(function(e){return e.valueField}))},activeDimensions:h,pos:i,mode:c.mode||"single"},g=f.a.createElement(p,Object(d.__assign)({},m));return f.a.cloneElement(l,{content:g,position:{x:i.pageX,y:i.pageY},offset:{x:10,y:10}})},t.renderContextMenu=function(){var e=t.props.series,n=t.state,a=n.contextPos,r=n.contextItem;if(!n.isContextVisible||!a||!r||0===e.length)return null;var i={xAxis:[r?r.series.seriesIndex:0,r?r.dataIndex:void 0],yAxis:r?[r.series.seriesIndex,r.dataIndex]:null},o={xAxis:Object(oe.createDimension)("xAxis",e.map(function(e){return e.timeField})),yAxis:Object(oe.createDimension)("yAxis",e.map(function(e){return e.valueField}))},s={x:a.pageX,y:a.pageY,onClose:function(){return t.setState({isContextVisible:!1})},getContextMenuSource:function(){return{datapoint:r.datapoint,dataIndex:r.dataIndex,series:r.series,seriesIndex:r.series.seriesIndex,pageX:a.pageX,pageY:a.pageY}},formatSourceDate:function(e,t){var n;return null===(n=Object(oe.dateTime)(e))||void 0===n?void 0:n.format(t)},dimensions:o,contextDimensions:i};return f.a.createElement(Ja,Object(d.__assign)({},s))},t.getBarWidth=function(){var e=t.props.series;return Math.min.apply(Math,Object(d.__spread)(e.map(function(e){return e.timeStep})))},t}return Object(d.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){e!==this.props&&this.draw()},t.prototype.componentDidMount=function(){this.draw(),this.element&&(this.$element=la()(this.element),this.$element.bind("plotselected",this.onPlotSelected),this.$element.bind("plothover",this.onPlotHover),this.$element.bind("plotclick",this.onPlotClick))},t.prototype.componentWillUnmount=function(){this.$element.unbind("plotselected",this.onPlotSelected)},t.prototype.getYAxes=function(e){return 0===e.length?[{show:!0,min:-1,max:1}]:fa()(e.map(function(e){var t=e.yAxis?e.yAxis.index:1;return{show:!0,index:t,position:1===t?"left":"right",min:e.yAxis&&!isNaN(e.yAxis.min)?e.yAxis.min:null,tickDecimals:e.yAxis&&!isNaN(e.yAxis.tickDecimals)?e.yAxis.tickDecimals:null}}),function(e){return e.index})},t.prototype.draw=function(){if(null!==this.element){var e=this.props,t=e.width,n=e.series,a=e.timeRange,r=e.showLines,i=e.showBars,o=e.showPoints,s=e.isStacked,l=e.lineWidth,c=e.timeZone,u=e.onHorizontalRegionSelected;if(t){var d=t/100,p=a.from.valueOf(),f=a.to.valueOf(),h=this.getYAxes(n),m={legend:{show:!1},series:{stack:s,lines:{show:r,linewidth:l,zero:!1},points:{show:o,fill:1,fillColor:!1,radius:2},bars:{show:i,fill:1,barWidth:i?this.getBarWidth()/1.5:1,zero:!1,lineWidth:l},shadowSize:0},xaxis:{show:!0,mode:"time",min:p,max:f,label:"Datetime",ticks:d,timeformat:Xa(d,p,f),timezone:null!=c?c:oe.DefaultTimeZone},yaxes:h,grid:{minBorderMargin:0,markings:[],backgroundColor:null,borderWidth:0,hoverable:!0,clickable:!0,color:"#a1a1a1",margin:{left:0,right:0},labelMarginX:0,mouseActiveRadius:30},selection:{mode:u?"x":null,color:"#666"},crosshair:{mode:"x"}};try{la.a.plot(this.element,n.filter(function(e){return e.isVisible}),m)}catch(e){throw console.log("Graph rendering error",e,m,n),new Error("Error rendering panel")}}}},t.prototype.render=function(){var e=this,t=this.props,n=t.height,a=t.width,r=0===t.series.length,i=this.renderTooltip(),o=this.renderContextMenu();return f.a.createElement("div",{className:"graph-panel"},f.a.createElement("div",{className:"graph-panel__chart",ref:function(t){return e.element=t},style:{height:n,width:a},onMouseLeave:function(){e.setState({isTooltipVisible:!1})}}),r&&f.a.createElement("div",{className:"datapoints-warning"},"No data"),i,o)},t.defaultProps={showLines:!0,showPoints:!1,showBars:!1,isStacked:!1,lineWidth:1},t}(p.PureComponent);function Xa(e,t,n){if(t&&n&&e){var a=n-t,r=a/e/1e3;return r<=45?"%H:%M:%S":r<=7200||a<=864e5?"%H:%M":r<=8e4?"%m/%d %H:%M":r<=2419200||a<=31536e6?"%m/%d":"%Y-%m"}return"%H:%M"}var er,tr=n("yqtr"),nr=function(e){var t=e.disabled,n=e.yAxis,a=e.color,r=e.onColorChange,i=e.onToggleAxis,o={color:a};return t||(o=Object(d.__assign)(Object(d.__assign)({},o),{className:"pointer"})),t?f.a.createElement("span",{className:Object(h.cx)("graph-legend-icon",t&&Object(h.css)(er||(er=Object(d.__makeTemplateObject)(["\n            cursor: default;\n          "],["\n            cursor: default;\n          "]))))},f.a.createElement(wa,Object(d.__assign)({},o))):f.a.createElement(Be,{yaxis:n,color:a,onChange:r,onToggleAxis:i,enableNamedColors:!0},function(e){var t=e.ref,n=e.showColorPicker,a=e.hideColorPicker;return f.a.createElement("span",{ref:t,onClick:n,onMouseLeave:a,className:"graph-legend-icon"},f.a.createElement(wa,Object(d.__assign)({},o)))})};nr.displayName="LegendSeriesIcon";var ar=n("ODSy"),rr=n("6acW"),ir=n.n(rr),or=function(e){var t=e.stat;return f.a.createElement("div",{className:Object(h.css)(sr||(sr=Object(d.__makeTemplateObject)(["\n        margin-left: 6px;\n      "],["\n        margin-left: 6px;\n      "])))},t.title&&ir()(t.title)+":"," ",Object(oe.formattedValueToString)(t))};or.displayName="LegendItemStat";var sr,lr=function(e){var t=e.stats;return 0===t.length?null:f.a.createElement(ar.a,{items:t,renderItem:function(e){return f.a.createElement(or,{stat:e})}})};lr.displayName="LegendStatsList";var cr,ur,dr,pr,fr,hr,mr,gr,br=function(e){var t=e.item,n=e.onSeriesColorChange,a=e.onToggleAxis,r=e.onLabelClick,i=Object(p.useContext)(Pe.a);return f.a.createElement(f.a.Fragment,null,f.a.createElement(nr,{disabled:!n,color:t.color,onColorChange:function(e){n&&n(t.label,e)},onToggleAxis:a,yAxis:t.yAxis}),f.a.createElement("div",{onClick:function(e){r&&r(t,e)},className:Object(h.css)(cr||(cr=Object(d.__makeTemplateObject)(["\n          cursor: pointer;\n          white-space: pre-wrap;\n          color: ",";\n        "],["\n          cursor: pointer;\n          white-space: pre-wrap;\n          color: ",";\n        "])),!t.isVisible&&i.colors.linkDisabled)},t.label),t.displayValues&&f.a.createElement(lr,{stats:t.displayValues}))},vr=Object(m.g)(function(e){return{row:Object(h.css)(ur||(ur=Object(d.__makeTemplateObject)(["\n      font-size: ",";\n      td {\n        padding: "," ",";\n        white-space: nowrap;\n      }\n    "],["\n      font-size: ",";\n      td {\n        padding: "," ",";\n        white-space: nowrap;\n      }\n    "])),e.typography.size.sm,e.spacing.xxs,e.spacing.sm),label:Object(h.css)(dr||(dr=Object(d.__makeTemplateObject)(["\n      cursor: pointer;\n      white-space: nowrap;\n    "],["\n      cursor: pointer;\n      white-space: nowrap;\n    "]))),itemWrapper:Object(h.css)(pr||(pr=Object(d.__makeTemplateObject)(["\n      display: flex;\n      white-space: nowrap;\n    "],["\n      display: flex;\n      white-space: nowrap;\n    "]))),value:Object(h.css)(fr||(fr=Object(d.__makeTemplateObject)(["\n      text-align: right;\n    "],["\n      text-align: right;\n    "]))),yAxisLabel:Object(h.css)(hr||(hr=Object(d.__makeTemplateObject)(["\n      color: ",";\n    "],["\n      color: ",";\n    "])),e.colors.gray2)}}),yr=function(e){var t=e.item,n=e.onSeriesColorChange,a=e.onToggleAxis,r=e.onLabelClick,i=e.className,o=Object(p.useContext)(Pe.a),s=vr(o);return f.a.createElement("tr",{className:Object(h.cx)(s.row,i)},f.a.createElement("td",null,f.a.createElement("span",{className:s.itemWrapper},f.a.createElement(nr,{disabled:!!n,color:t.color,onColorChange:function(e){n&&n(t.label,e)},onToggleAxis:a,yAxis:t.yAxis}),f.a.createElement("div",{onClick:function(e){r&&r(t,e)},className:s.label},t.label," ",2===t.yAxis&&f.a.createElement("span",{className:s.yAxisLabel},"(right y-axis)")))),t.displayValues&&t.displayValues.map(function(e,t){return f.a.createElement("td",{className:s.value,key:e.title+"-"+t},Object(oe.formattedValueToString)(e))}))},wr=n("Ke2B"),xr=n("1VFa"),Or=n("v8eK"),_r=n.n(Or),kr=n("xweI"),jr=n.n(kr),Cr=function(e){var t=e.items,n=e.displayMode,a=e.sortBy,r=e.sortDesc,i=e.onToggleSort,o=e.onSeriesAxisToggle,s=e.placement,l=(e.className,Object(d.__rest)(e,["items","displayMode","sortBy","sortDesc","onToggleSort","onSeriesAxisToggle","placement","className"])),c=Object(p.useContext)(Pe.a);if(n===tr.b.Table){var u=t.map(function(e){return e.displayValues?e.displayValues.map(function(e){return e.title}):[]}).reduce(function(e,t){return _r()(e,t.filter(function(e){return!!e}))},[""]),g=a?jr()(t,function(e){if(e.displayValues){var t=e.displayValues.filter(function(e){return e.title===a})[0];return t&&t.numeric}}):t,b=Object(m.e)({dark:c.colors.dark6,light:c.colors.gray5},c.type);return f.a.createElement(wr.a,{className:Object(h.css)(mr||(mr=Object(d.__makeTemplateObject)(["\n          font-size: ",";\n          th {\n            padding: "," ",";\n          }\n        "],["\n          font-size: ",";\n          th {\n            padding: "," ",";\n          }\n        "])),c.typography.size.sm,c.spacing.xxs,c.spacing.sm),items:r?g.reverse():g,columns:u,placement:s,sortBy:a,sortDesc:r,itemRenderer:function(e,t){return f.a.createElement(yr,Object(d.__assign)({key:e.label+"-"+t,item:e,onToggleAxis:function(){o&&o(e.label,1===e.yAxis?2:1)},className:Object(h.css)(gr||(gr=Object(d.__makeTemplateObject)(["\n              background: ",";\n            "],["\n              background: ",";\n            "])),t%2==0?b:"none")},l))},onToggleSort:i})}return f.a.createElement(xr.a,{items:t,placement:s,itemRenderer:function(e){return f.a.createElement(br,Object(d.__assign)({item:e,onToggleAxis:function(){o&&o(e.label,1===e.yAxis?2:1)}},l))}})};Cr.displayName="GraphLegend";var Sr,Er,Tr,Mr=Object(m.g)(function(e){var t=e.placement;return{wrapper:Object(h.css)(Sr||(Sr=Object(d.__makeTemplateObject)(["\n    display: flex;\n    flex-direction: ",";\n    height: 100%;\n  "],["\n    display: flex;\n    flex-direction: ",";\n    height: 100%;\n  "])),"under"===t?"column":"row"),graphContainer:Object(h.css)(Er||(Er=Object(d.__makeTemplateObject)(["\n    min-height: 65%;\n    flex-grow: 1;\n  "],["\n    min-height: 65%;\n    flex-grow: 1;\n  "]))),legendContainer:Object(h.css)(Tr||(Tr=Object(d.__makeTemplateObject)(["\n    padding: 10px 0;\n    max-height: ",";\n  "],["\n    padding: 10px 0;\n    max-height: ",";\n  "])),"under"===t?"35%":"none")}}),Ar=function(e){var t=e.series,n=e.timeRange,a=e.width,r=e.height,i=e.showBars,o=e.showLines,s=e.showPoints,l=e.sortLegendBy,c=e.sortLegendDesc,u=e.isLegendVisible,d=e.displayMode,p=e.placement,h=e.onSeriesAxisToggle,m=e.onSeriesColorChange,g=e.onSeriesToggle,b=e.onToggleSort,v=e.hideEmpty,y=e.hideZero,w=e.isStacked,x=e.lineWidth,O=e.onHorizontalRegionSelected,_=e.timeZone,k=e.children,j=Mr(e),S=j.graphContainer,E=j.wrapper,T=j.legendContainer,M=t.reduce(function(e,t){return function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=0===e.reduce(function(e,t){return e+(t[1]||0)},0),r=!e.reduce(function(e,t){return e&&null!==t[1]},!0);return t&&r||n&&a}(t.data,v,y)?e:e.concat([{label:t.label,color:t.color,isVisible:t.isVisible,yAxis:t.yAxis.index,displayValues:t.info||[]}])},[]);return f.a.createElement("div",{className:E},f.a.createElement("div",{className:S},f.a.createElement(Za,{series:t,timeRange:n,timeZone:_,showLines:o,showPoints:s,showBars:i,width:a,height:r,key:u?"legend-visible":"legend-invisible",isStacked:w,lineWidth:x,onHorizontalRegionSelected:O},k)),u&&f.a.createElement("div",{className:T},f.a.createElement(C.a,{hideHorizontalTrack:!0},f.a.createElement(Cr,{items:M,displayMode:d,placement:p,sortBy:l,sortDesc:c,onLabelClick:function(e,t){g&&g(e.label,t)},onSeriesColorChange:m,onSeriesAxisToggle:h,onToggleSort:b}))))},Nr=n("G0UC"),Dr=function(e){function t(t){var n=e.call(this,t)||this;return n.state={values:t.getValues()},n}return Object(d.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.renderCounter,a=t.source;n===e.renderCounter&&a===e.source||this.setState({values:this.props.getValues()})},t.prototype.getOrientation=function(){var e=this.props,t=e.orientation,n=e.width,a=e.height;return t===oe.VizOrientation.Auto?n>a?oe.VizOrientation.Vertical:oe.VizOrientation.Horizontal:t},t.prototype.render=function(){var e=this.props,t=e.renderValue,n=e.height,a=e.width,r=e.itemSpacing,i=e.getAlignmentFactors,o=this.state.values,s=this.getOrientation(),l={display:"flex"},c={display:"flex"},u=n,d=a;s===oe.VizOrientation.Horizontal?(c.flexDirection="column",l.marginBottom=r+"px",d=a,u=n/o.length-r+r/o.length):(c.flexDirection="row",c.justifyContent="space-between",l.marginRight=r+"px",u=n,d=a/o.length-r+r/o.length),l.width=d+"px",l.height=u+"px";var p=i?i(o,d,u):{};return f.a.createElement("div",{style:c},o.map(function(e,n){return f.a.createElement("div",{key:n,style:Ir(l,n,o.length)},t(e,d,u,p))}))},t.defaultProps={itemSpacing:10},t}(p.PureComponent);function Ir(e,t,n){return t===n-1?Object(d.__assign)(Object(d.__assign)({},e),{marginRight:0,marginBottom:0}):e}function Pr(e){switch(e){case"error":case"warning":return"fa fa-exclamation-triangle";case"info":return"fa fa-info-circle";case"success":return"fa fa-check";default:return""}}var Fr,Lr,Rr,Vr,$r,Br,Ur,qr,zr,Hr=function(e){var t=e.title,n=e.buttonText,a=e.onButtonClick,r=e.onRemove,i=e.children,o=e.severity,s=void 0===o?"error":o,l=E()("alert","alert-"+s);return f.a.createElement("div",{className:"alert-container"},f.a.createElement("div",{className:l},f.a.createElement("div",{className:"alert-icon"},f.a.createElement("i",{className:Pr(s)})),f.a.createElement("div",{className:"alert-body"},f.a.createElement("div",{className:"alert-title"},t),i&&f.a.createElement("div",{className:"alert-text"},i)),r&&f.a.createElement("button",{type:"button",className:"alert-close",onClick:r},f.a.createElement("i",{className:"fa fa fa-remove"})),a&&f.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:a},n)))},Gr=n("Y+p1"),Wr=n.n(Gr),Qr=function(e){function t(t){var n=e.call(this,t)||this;return n.onSeriesToggle=n.onSeriesToggle.bind(n),n.state={hiddenSeries:[],toggledSeries:t.series},n}return Object(d.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.series;Wr()(e.series,t)||this.setState({hiddenSeries:[],toggledSeries:t})},t.prototype.onSeriesToggle=function(e,t){var n=this.props,a=n.series,r=n.onHiddenSeriesChanged,i=this.state.hiddenSeries;if(t.ctrlKey||t.metaKey||t.shiftKey){var o=i.indexOf(e)>-1?i.filter(function(t){return t!==e}):i.concat([e]),s=a.map(function(e){return Object(d.__assign)(Object(d.__assign)({},e),{isVisible:-1===o.indexOf(e.label)})});this.setState({hiddenSeries:o,toggledSeries:s},function(){return r?r(o):void 0})}else{var l=a.map(function(e){return e.label}),c=i.length+1===l.length?[]:xt()(l,[e]),u=a.map(function(e){return Object(d.__assign)(Object(d.__assign)({},e),{isVisible:-1===c.indexOf(e.label)})});this.setState({hiddenSeries:c,toggledSeries:u},function(){return r?r(c):void 0})}},t.prototype.render=function(){var e=this.props.children,t=this.state.toggledSeries;return e({onSeriesToggle:this.onSeriesToggle,toggledSeries:t})},t}(f.a.Component),Yr=Object(Nt.a)(function(e){return{collapse:Object(h.css)(Fr||(Fr=Object(d.__makeTemplateObject)(["\n    label: collapse;\n    margin-top: ",";\n  "],["\n    label: collapse;\n    margin-top: ",";\n  "])),e.spacing.sm),collapseBody:Object(h.css)(Lr||(Lr=Object(d.__makeTemplateObject)(["\n    label: collapse__body;\n    padding: ","px;\n  "],["\n    label: collapse__body;\n    padding: ","px;\n  "])),e.panelPadding),loader:Object(h.css)(Rr||(Rr=Object(d.__makeTemplateObject)(["\n    label: collapse__loader;\n    height: 2px;\n    position: relative;\n    overflow: hidden;\n    background: none;\n    margin: ",";\n  "],["\n    label: collapse__loader;\n    height: 2px;\n    position: relative;\n    overflow: hidden;\n    background: none;\n    margin: ",";\n  "])),e.spacing.xs),loaderActive:Object(h.css)(Vr||(Vr=Object(d.__makeTemplateObject)(["\n    label: collapse__loader_active;\n    &:after {\n      content: ' ';\n      display: block;\n      width: 25%;\n      top: 0;\n      top: -50%;\n      height: 250%;\n      position: absolute;\n      animation: loader 2s cubic-bezier(0.17, 0.67, 0.83, 0.67) 500ms;\n      animation-iteration-count: 100;\n      left: -25%;\n      background: ",";\n    }\n    @keyframes loader {\n      from {\n        left: -25%;\n        opacity: 0.1;\n      }\n      to {\n        left: 100%;\n        opacity: 1;\n      }\n    }\n  "],["\n    label: collapse__loader_active;\n    &:after {\n      content: ' ';\n      display: block;\n      width: 25%;\n      top: 0;\n      top: -50%;\n      height: 250%;\n      position: absolute;\n      animation: loader 2s cubic-bezier(0.17, 0.67, 0.83, 0.67) 500ms;\n      animation-iteration-count: 100;\n      left: -25%;\n      background: ",";\n    }\n    @keyframes loader {\n      from {\n        left: -25%;\n        opacity: 0.1;\n      }\n      to {\n        left: 100%;\n        opacity: 1;\n      }\n    }\n  "])),e.colors.blue),header:Object(h.css)($r||($r=Object(d.__makeTemplateObject)(["\n    label: collapse__header;\n    padding: "," "," 0 ",";\n    display: flex;\n    cursor: inherit;\n    transition: all 0.1s linear;\n    cursor: pointer;\n  "],["\n    label: collapse__header;\n    padding: "," "," 0 ",";\n    display: flex;\n    cursor: inherit;\n    transition: all 0.1s linear;\n    cursor: pointer;\n  "])),e.spacing.sm,e.spacing.md,e.spacing.md),headerCollapsed:Object(h.css)(Br||(Br=Object(d.__makeTemplateObject)(["\n    label: collapse__header--collapsed;\n    cursor: pointer;\n    padding: "," "," 0 ",";\n  "],["\n    label: collapse__header--collapsed;\n    cursor: pointer;\n    padding: "," "," 0 ",";\n  "])),e.spacing.sm,e.spacing.md,e.spacing.md),headerButtons:Object(h.css)(Ur||(Ur=Object(d.__makeTemplateObject)(["\n    label: collapse__header-buttons;\n    margin-right: ",";\n    font-size: ",";\n    line-height: ",";\n    display: inherit;\n  "],["\n    label: collapse__header-buttons;\n    margin-right: ",";\n    font-size: ",";\n    line-height: ",";\n    display: inherit;\n  "])),e.spacing.sm,e.typography.size.lg,e.typography.heading.h6),headerButtonsCollapsed:Object(h.css)(qr||(qr=Object(d.__makeTemplateObject)(["\n    label: collapse__header-buttons--collapsed;\n    display: none;\n  "],["\n    label: collapse__header-buttons--collapsed;\n    display: none;\n  "]))),headerLabel:Object(h.css)(zr||(zr=Object(d.__makeTemplateObject)(["\n    label: collapse__header-label;\n    font-weight: ",";\n    margin-right: ",";\n    font-size: ",";\n    box-shadow: ",";\n  "],["\n    label: collapse__header-label;\n    font-weight: ",";\n    margin-right: ",";\n    font-size: ",";\n    box-shadow: ",";\n  "])),e.typography.weight.semibold,e.spacing.sm,e.typography.heading.h6,Object(de.a)({light:"none",dark:"1px 1px 4px rgb(45, 45, 45)"},e.type))}}),Kr=function(e){var t=e.isOpen,n=e.label,a=e.loading,r=e.collapsible,i=e.onToggle,o=e.children,s=Object(p.useContext)(Pe.a),l=Yr(s),c=Object(h.cx)([l.collapse,"panel-container"]),u=t?"fa fa-caret-up":"fa fa-caret-down",d=a?Object(h.cx)([l.loader,l.loaderActive]):Object(h.cx)([l.loader]),m=r?Object(h.cx)([l.header]):Object(h.cx)([l.headerCollapsed]),g=r?Object(h.cx)([l.headerButtons]):Object(h.cx)([l.headerButtonsCollapsed]);return f.a.createElement("div",{className:c},f.a.createElement("div",{className:m,onClick:function(){i&&i(!t)}},f.a.createElement("div",{className:g},f.a.createElement("span",{className:u})),f.a.createElement("div",{className:Object(h.cx)([l.headerLabel])},n)),t&&f.a.createElement("div",{className:Object(h.cx)([l.collapseBody])},f.a.createElement("div",{className:d}),o))};Kr.displayName="Collapse";var Jr,Zr,Xr,ei=["level","lvl","filename"],ti=Object(m.g)(function(e){return{logsLabels:Object(h.css)(Jr||(Jr=Object(d.__makeTemplateObject)(["\n      display: flex;\n      flex-wrap: wrap;\n      font-size: ",";\n    "],["\n      display: flex;\n      flex-wrap: wrap;\n      font-size: ",";\n    "])),e.typography.size.xs),logsLabel:Object(h.css)(Zr||(Zr=Object(d.__makeTemplateObject)(["\n      label: logs-label;\n      display: flex;\n      padding: 0 2px;\n      background-color: ",";\n      border-radius: ",";\n      margin: 1px 4px 0 0;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n    "],["\n      label: logs-label;\n      display: flex;\n      padding: 0 2px;\n      background-color: ",";\n      border-radius: ",";\n      margin: 1px 4px 0 0;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n    "])),Object(de.a)({light:e.colors.gray5,dark:e.colors.dark6},e.type),e.border.radius),logsLabelValue:Object(h.css)(Xr||(Xr=Object(d.__makeTemplateObject)(["\n      label: logs-label__value;\n      display: inline-block;\n      max-width: 20em;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    "],["\n      label: logs-label__value;\n      display: inline-block;\n      max-width: 20em;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    "])))}}),ni=Object(Pe.d)(function(e){var t=e.labels,n=e.theme,a=ti(n),r=Object.keys(t).filter(function(e){return!e.startsWith("_")&&!ei.includes(e)});return 0===r.length?f.a.createElement("span",{className:Object(h.cx)([a.logsLabels])},f.a.createElement("span",{className:Object(h.cx)([a.logsLabel])},"(no unique labels)")):f.a.createElement("span",{className:Object(h.cx)([a.logsLabels])},r.map(function(e){var n=t[e],r=e+": "+n;return f.a.createElement("span",{key:e,className:Object(h.cx)([a.logsLabel])},f.a.createElement("span",{className:Object(h.cx)([a.logsLabelValue]),title:r},n))}))});ni.displayName="LogLabels";var ai,ri,ii,oi,si,li,ci,ui,di,pi,fi,hi,mi,gi,bi,vi,yi,wi,xi,Oi,_i,ki,ji,Ci,Si,Ei,Ti=Object(m.g)(function(e,t){var n=Object(de.a)({light:e.colors.gray5,dark:e.colors.gray2},e.type),a=Object(de.a)({light:e.colors.gray5,dark:e.colors.gray2},e.type),r=Object(de.a)({light:e.colors.gray5,dark:e.colors.dark4},e.type),i=Object(h.css)(ai||(ai=Object(d.__makeTemplateObject)(["\n    label: context;\n    visibility: hidden;\n    white-space: nowrap;\n    position: relative;\n  "],["\n    label: context;\n    visibility: hidden;\n    white-space: nowrap;\n    position: relative;\n  "])));switch(t){case oe.LogLevel.crit:case oe.LogLevel.critical:n="#705da0";break;case oe.LogLevel.error:case oe.LogLevel.err:n="#e24d42";break;case oe.LogLevel.warning:case oe.LogLevel.warn:n=e.colors.yellow;break;case oe.LogLevel.info:n="#7eb26d";break;case oe.LogLevel.debug:n="#1f78c1";break;case oe.LogLevel.trace:n="#6ed0e0"}return{logsRowMatchHighLight:Object(h.css)(ri||(ri=Object(d.__makeTemplateObject)(["\n      label: logs-row__match-highlight;\n      background: inherit;\n      padding: inherit;\n      color: ",";\n      background-color: rgba(",", 0.1);\n    "],["\n      label: logs-row__match-highlight;\n      background: inherit;\n      padding: inherit;\n      color: ",";\n      background-color: rgba(",", 0.1);\n    "])),e.colors.yellow,e.colors.yellow),logsRowMatchHighLightPreview:Object(h.css)(ii||(ii=Object(d.__makeTemplateObject)(["\n      label: logs-row__match-highlight--preview;\n      background-color: rgba(",", 0.2);\n      border-bottom-style: dotted;\n    "],["\n      label: logs-row__match-highlight--preview;\n      background-color: rgba(",", 0.2);\n      border-bottom-style: dotted;\n    "])),e.colors.yellow),logsRowsTable:Object(h.css)(oi||(oi=Object(d.__makeTemplateObject)(["\n      label: logs-rows;\n      font-family: ",";\n      font-size: ",";\n      width: 100%;\n    "],["\n      label: logs-rows;\n      font-family: ",";\n      font-size: ",";\n      width: 100%;\n    "])),e.typography.fontFamily.monospace,e.typography.size.sm),logsRowsHorizontalScroll:Object(h.css)(si||(si=Object(d.__makeTemplateObject)(["\n      label: logs-rows__horizontal-scroll;\n      overflow: scroll;\n    "],["\n      label: logs-rows__horizontal-scroll;\n      overflow: scroll;\n    "]))),context:i,logsRow:Object(h.css)(li||(li=Object(d.__makeTemplateObject)(["\n      label: logs-row;\n      width: 100%;\n      cursor: pointer;\n      vertical-align: top;\n      &:hover {\n        ."," {\n          visibility: visible;\n          z-index: 1;\n          margin-left: 10px;\n          text-decoration: underline;\n          &:hover {\n            color: ",";\n          }\n        }\n      }\n      td:last-child {\n        width: 100%;\n      }\n\n      > td {\n        padding-right: ",";\n        border-top: "," solid transparent;\n        border-bottom: "," solid transparent;\n        height: 100%;\n      }\n\n      &:hover {\n        background: ",";\n      }\n    "],["\n      label: logs-row;\n      width: 100%;\n      cursor: pointer;\n      vertical-align: top;\n      &:hover {\n        ."," {\n          visibility: visible;\n          z-index: 1;\n          margin-left: 10px;\n          text-decoration: underline;\n          &:hover {\n            color: ",";\n          }\n        }\n      }\n      td:last-child {\n        width: 100%;\n      }\n\n      > td {\n        padding-right: ",";\n        border-top: "," solid transparent;\n        border-bottom: "," solid transparent;\n        height: 100%;\n      }\n\n      &:hover {\n        background: ",";\n      }\n    "])),i,e.colors.yellow,e.spacing.sm,e.border.width.sm,e.border.width.sm,e.colors.pageBg),logsRowDuplicates:Object(h.css)(ci||(ci=Object(d.__makeTemplateObject)(["\n      label: logs-row__duplicates;\n      text-align: right;\n      width: 4em;\n      cursor: default;\n    "],["\n      label: logs-row__duplicates;\n      text-align: right;\n      width: 4em;\n      cursor: default;\n    "]))),logsRowLevel:Object(h.css)(ui||(ui=Object(d.__makeTemplateObject)(["\n      label: logs-row__level;\n      position: relative;\n      max-width: 10px;\n      cursor: default;\n      &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 1px;\n        bottom: 1px;\n        width: 3px;\n        background-color: ",";\n      }\n    "],["\n      label: logs-row__level;\n      position: relative;\n      max-width: 10px;\n      cursor: default;\n      &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 1px;\n        bottom: 1px;\n        width: 3px;\n        background-color: ",";\n      }\n    "])),n),logsRowToggleDetails:Object(h.css)(di||(di=Object(d.__makeTemplateObject)(["\n      label: logs-row-toggle-details__level;\n      position: relative;\n      font-size: 9px;\n      padding-top: 5px;\n      max-width: 15px;\n    "],["\n      label: logs-row-toggle-details__level;\n      position: relative;\n      font-size: 9px;\n      padding-top: 5px;\n      max-width: 15px;\n    "]))),logsRowLocalTime:Object(h.css)(pi||(pi=Object(d.__makeTemplateObject)(["\n      label: logs-row__localtime;\n      white-space: nowrap;\n      max-width: 12.5em;\n    "],["\n      label: logs-row__localtime;\n      white-space: nowrap;\n      max-width: 12.5em;\n    "]))),logsRowLabels:Object(h.css)(fi||(fi=Object(d.__makeTemplateObject)(["\n      label: logs-row__labels;\n      white-space: nowrap;\n      max-width: 22em;\n    "],["\n      label: logs-row__labels;\n      white-space: nowrap;\n      max-width: 22em;\n    "]))),logsRowMessage:Object(h.css)(hi||(hi=Object(d.__makeTemplateObject)(["\n      label: logs-row__message;\n      word-break: break-all;\n    "],["\n      label: logs-row__message;\n      word-break: break-all;\n    "]))),logDetailsContainer:Object(h.css)(mi||(mi=Object(d.__makeTemplateObject)(["\n      label: logs-row-details-table;\n      border: 1px solid ",";\n      padding: 0 "," ",";\n      border-radius: 3px;\n      margin: 20px 8px 20px 16px;\n      cursor: default;\n    "],["\n      label: logs-row-details-table;\n      border: 1px solid ",";\n      padding: 0 "," ",";\n      border-radius: 3px;\n      margin: 20px 8px 20px 16px;\n      cursor: default;\n    "])),a,e.spacing.sm,e.spacing.sm),logDetailsTable:Object(h.css)(gi||(gi=Object(d.__makeTemplateObject)(["\n      label: logs-row-details-table;\n      line-height: 2;\n      width: 100%;\n      td:last-child {\n        width: 100%;\n      }\n    "],["\n      label: logs-row-details-table;\n      line-height: 2;\n      width: 100%;\n      td:last-child {\n        width: 100%;\n      }\n    "]))),logsDetailsIcon:Object(h.css)(bi||(bi=Object(d.__makeTemplateObject)(["\n      label: logs-row-details__icon;\n      position: relative;\n      padding-right: ",";\n      color: ",";\n    "],["\n      label: logs-row-details__icon;\n      position: relative;\n      padding-right: ",";\n      color: ",";\n    "])),e.spacing.md,e.colors.gray3),logDetailsLabel:Object(h.css)(vi||(vi=Object(d.__makeTemplateObject)(["\n      label: logs-row-details__label;\n      max-width: 30em;\n      min-width: 20em;\n      padding: 0 ",";\n      overflow-wrap: break-word;\n    "],["\n      label: logs-row-details__label;\n      max-width: 30em;\n      min-width: 20em;\n      padding: 0 ",";\n      overflow-wrap: break-word;\n    "])),e.spacing.sm),logDetailsHeading:Object(h.css)(yi||(yi=Object(d.__makeTemplateObject)(["\n      label: logs-row-details__heading;\n      font-weight: ",";\n      padding: "," 0 ",";\n    "],["\n      label: logs-row-details__heading;\n      font-weight: ",";\n      padding: "," 0 ",";\n    "])),e.typography.weight.bold,e.spacing.sm,e.spacing.xs),logDetailsValue:Object(h.css)(wi||(wi=Object(d.__makeTemplateObject)(["\n      label: logs-row-details__row;\n      position: relative;\n      vertical-align: top;\n      cursor: default;\n      &:hover {\n        background-color: ",";\n      }\n    "],["\n      label: logs-row-details__row;\n      position: relative;\n      vertical-align: top;\n      cursor: default;\n      &:hover {\n        background-color: ",";\n      }\n    "])),r)}}),Mi=n("TYy9"),Ai=n.n(Mi),Ni=n("aBYM"),Di=n.n(Ni),Ii=function(e,t,n){return Object(d.__awaiter)(void 0,void 0,void 0,function(){var a,r;return Object(d.__generator)(this,function(i){switch(i.label){case 0:return a=[e(t,{limit:n}),e(t,{limit:n+1,direction:"FORWARD"})],[4,Promise.all(a.map(function(e){return e.catch(function(e){return e})}))];case 1:return[2,{data:(r=i.sent()).map(function(e){var n=e;if(!n.data)return[];for(var a=[],r=0;r<n.data.length;r++)for(var i=Object(oe.toDataFrame)(n.data[r]),o=new oe.FieldCache(i),s=o.getFieldByName("ts"),l=o.getFieldByName("id"),c=0;c<s.values.length;c++){if(l){if(l.values.get(c)===t.uid)continue}else if(parseInt(s.values.get(c),10)===t.timeEpochMs)continue;var u=i.fields.filter(function(e){return"line"===e.name})[0].values.get(c);0===a.length?a[0]=[u]:a[0].push(u)}return a}),errors:r.map(function(e){var t=e;return t.message?t.message:""})}]}})})},Pi=function(e){var t=e.getRowContext,n=e.row,a=e.children,r=Object(d.__read)(Object(p.useState)(10),2),i=r[0],o=r[1],s=Object(d.__read)(Object(p.useState)(null),2),l=s[0],c=s[1],u=Object(d.__read)(Object(p.useState)({before:!0,after:!0}),2),f=u[0],h=u[1],m=Di()(function(){return Object(d.__awaiter)(void 0,void 0,void 0,function(){return Object(d.__generator)(this,function(e){switch(e.label){case 0:return[4,Ii(t,n,i)];case 1:return[2,e.sent()]}})})},[i]).value;return Object(p.useEffect)(function(){m&&c(function(e){var t=!0,n=!0;return e&&e.data[0].length===m.data[0].length&&(t=!1),e&&e.data[1].length===m.data[1].length&&(n=!1),h({before:t,after:n}),m})},[m]),a({result:{before:l?Ai()(l.data[0]):[],after:l?Ai()(l.data[1]):[]},errors:{before:l?l.errors[0]:void 0,after:l?l.errors[1]:void 0},hasMoreContextRows:f,updateLimit:function(){return o(i+10)}})},Fi=function(e){var t=e.active,n=e.count,a=e.proportion,r=e.value,i=function(e){return{logsStatsRow:Object(h.css)(xi||(xi=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row;\n    margin: ","px 0;\n  "],["\n    label: logs-stats-row;\n    margin: ","px 0;\n  "])),parseInt(e.spacing.d,10)/1.75),logsStatsRowActive:Object(h.css)(Oi||(Oi=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row--active;\n    color: ",";\n    position: relative;\n  "],["\n    label: logs-stats-row--active;\n    color: ",";\n    position: relative;\n  "])),e.colors.blue),logsStatsRowLabel:Object(h.css)(_i||(_i=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row__label;\n    display: flex;\n    margin-bottom: 1px;\n  "],["\n    label: logs-stats-row__label;\n    display: flex;\n    margin-bottom: 1px;\n  "]))),logsStatsRowValue:Object(h.css)(ki||(ki=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row__value;\n    flex: 1;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  "],["\n    label: logs-stats-row__value;\n    flex: 1;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  "]))),logsStatsRowCount:Object(h.css)(ji||(ji=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row__count;\n    text-align: right;\n    margin-left: 0.5em;\n  "],["\n    label: logs-stats-row__count;\n    text-align: right;\n    margin-left: 0.5em;\n  "]))),logsStatsRowPercent:Object(h.css)(Ci||(Ci=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row__percent;\n    text-align: right;\n    margin-left: 0.5em;\n    width: 3em;\n  "],["\n    label: logs-stats-row__percent;\n    text-align: right;\n    margin-left: 0.5em;\n    width: 3em;\n  "]))),logsStatsRowBar:Object(h.css)(Si||(Si=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row__bar;\n    height: 4px;\n    overflow: hidden;\n    background: ",";\n  "],["\n    label: logs-stats-row__bar;\n    height: 4px;\n    overflow: hidden;\n    background: ",";\n  "])),e.colors.textFaint),logsStatsRowInnerBar:Object(h.css)(Ei||(Ei=Object(d.__makeTemplateObject)(["\n    label: logs-stats-row__innerbar;\n    height: 4px;\n    overflow: hidden;\n    background: ",";\n    background: ",";\n  "],["\n    label: logs-stats-row__innerbar;\n    height: 4px;\n    overflow: hidden;\n    background: ",";\n    background: ",";\n  "])),e.colors.textFaint,e.colors.blue)}}(Object(p.useContext)(Pe.a)),o=Math.round(100*a)+"%",s={width:o},l=t?Object(h.cx)([i.logsStatsRow,i.logsStatsRowActive]):Object(h.cx)([i.logsStatsRow]);return f.a.createElement("div",{className:l},f.a.createElement("div",{className:Object(h.cx)([i.logsStatsRowLabel])},f.a.createElement("div",{className:Object(h.cx)([i.logsStatsRowValue]),title:r},r),f.a.createElement("div",{className:Object(h.cx)([i.logsStatsRowCount])},n),f.a.createElement("div",{className:Object(h.cx)([i.logsStatsRowPercent])},o)),f.a.createElement("div",{className:Object(h.cx)([i.logsStatsRowBar])},f.a.createElement("div",{className:Object(h.cx)([i.logsStatsRowInnerBar]),style:s})))};Fi.displayName="LogLabelStatsRow";var Li,Ri,Vi,$i,Bi,Ui=Object(m.g)(function(e){var t=Object(de.a)({light:e.colors.gray5,dark:e.colors.dark9},e.type);return{logsStats:Object(h.css)(Li||(Li=Object(d.__makeTemplateObject)(["\n      label: logs-stats;\n      column-span: 2;\n      background: inherit;\n      color: ",";\n      word-break: break-all;\n    "],["\n      label: logs-stats;\n      column-span: 2;\n      background: inherit;\n      color: ",";\n      word-break: break-all;\n    "])),e.colors.text),logsStatsHeader:Object(h.css)(Ri||(Ri=Object(d.__makeTemplateObject)(["\n      label: logs-stats__header;\n      border-bottom: 1px solid ",";\n      display: flex;\n    "],["\n      label: logs-stats__header;\n      border-bottom: 1px solid ",";\n      display: flex;\n    "])),t),logsStatsTitle:Object(h.css)(Vi||(Vi=Object(d.__makeTemplateObject)(["\n      label: logs-stats__title;\n      font-weight: ",";\n      padding-right: ",";\n      display: inline-block;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      flex-grow: 1;\n    "],["\n      label: logs-stats__title;\n      font-weight: ",";\n      padding-right: ",";\n      display: inline-block;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      flex-grow: 1;\n    "])),e.typography.weight.semibold,e.spacing.d),logsStatsClose:Object(h.css)($i||($i=Object(d.__makeTemplateObject)(["\n      label: logs-stats__close;\n      cursor: pointer;\n    "],["\n      label: logs-stats__close;\n      cursor: pointer;\n    "]))),logsStatsBody:Object(h.css)(Bi||(Bi=Object(d.__makeTemplateObject)(["\n      label: logs-stats__body;\n      padding: 5px 0;\n    "],["\n      label: logs-stats__body;\n      padding: 5px 0;\n    "])))}}),qi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.rowCount,a=e.stats,r=e.value,i=e.theme,o=e.isLabel,s=Ui(i),l=a.slice(0,5),c=l.find(function(e){return e.value===r}),u=a.slice(5),p=!c;p&&(c=u.find(function(e){return e.value===r}),u=u.filter(function(e){return e.value!==r}));var h=u.reduce(function(e,t){return e+t.count},0),m=l.reduce(function(e,t){return e+t.count},0)+h,g=h/m;return f.a.createElement("td",{className:s.logsStats},f.a.createElement("div",{className:s.logsStatsHeader},f.a.createElement("div",{className:s.logsStatsTitle},t,": ",m," of ",n," rows have that ",o?"label":"field")),f.a.createElement("div",{className:s.logsStatsBody},l.map(function(e){return f.a.createElement(Fi,Object(d.__assign)({key:e.value},e,{active:e.value===r}))}),p&&c&&f.a.createElement(Fi,Object(d.__assign)({key:c.value},c,{active:!0})),h>0&&f.a.createElement(Fi,{key:"__OTHERS__",count:h,value:"Other",proportion:g})))},t}(p.PureComponent),zi=Object(m.i)(qi);zi.displayName="LogLabelStats";var Hi,Gi,Wi,Qi=Object(Nt.a)(function(e){return{noHoverBackground:Object(h.css)(Hi||(Hi=Object(d.__makeTemplateObject)(["\n      label: noHoverBackground;\n      :hover {\n        background-color: transparent;\n      }\n    "],["\n      label: noHoverBackground;\n      :hover {\n        background-color: transparent;\n      }\n    "]))),hoverCursor:Object(h.css)(Gi||(Gi=Object(d.__makeTemplateObject)(["\n      label: hoverCursor;\n      cursor: pointer;\n    "],["\n      label: hoverCursor;\n      cursor: pointer;\n    "]))),wordBreakAll:Object(h.css)(Wi||(Wi=Object(d.__makeTemplateObject)(["\n      label: wordBreakAll;\n      word-break: break-all;\n    "],["\n      label: wordBreakAll;\n      word-break: break-all;\n    "])))}}),Yi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showFieldsStats:!1,fieldCount:0,fieldStats:null},t.filterLabel=function(){var e=t.props,n=e.onClickFilterLabel,a=e.parsedKey,r=e.parsedValue;n&&n(a,r)},t.filterOutLabel=function(){var e=t.props,n=e.onClickFilterOutLabel,a=e.parsedKey,r=e.parsedValue;n&&n(a,r)},t.showStats=function(){if(!t.state.showFieldsStats){var e=t.props.getStats(),n=e?e.reduce(function(e,t){return e+t.count},0):0;t.setState({fieldStats:e,fieldCount:n})}t.toggleFieldsStats()},t}return Object(d.__extends)(t,e),t.prototype.toggleFieldsStats=function(){this.setState(function(e){return{showFieldsStats:!e.showFieldsStats}})},t.prototype.render=function(){var e,t=this.props,n=t.theme,a=t.parsedKey,r=t.parsedValue,i=t.isLabel,o=t.links,s=this.state,l=s.showFieldsStats,c=s.fieldStats,u=s.fieldCount,d=Qi(n),p=Ti(n);return f.a.createElement("tr",{className:Object(h.cx)(p.logDetailsValue,(e={},e[d.noHoverBackground]=l,e))},f.a.createElement("td",{className:p.logsDetailsIcon,colSpan:i?void 0:3},f.a.createElement("i",{title:"Ad-hoc statistics",className:"fa fa-signal "+d.hoverCursor,onClick:this.showStats})),i&&f.a.createElement(f.a.Fragment,null,f.a.createElement("td",{className:p.logsDetailsIcon},f.a.createElement("i",{title:"Filter for value",className:"fa fa-search-plus "+d.hoverCursor,onClick:this.filterLabel})),f.a.createElement("td",{className:p.logsDetailsIcon},f.a.createElement("i",{title:"Filter out value",className:"fa fa-search-minus "+d.hoverCursor,onClick:this.filterOutLabel}))),f.a.createElement("td",{className:p.logDetailsLabel},a),f.a.createElement("td",{className:d.wordBreakAll},r,o&&o.map(function(e){return f.a.createElement("span",{key:e}," ",f.a.createElement("a",{href:e,target:"_blank"},f.a.createElement("i",{className:"fa fa-external-link"})))}),l&&f.a.createElement(zi,{stats:c,label:a,value:r,rowCount:u,isLabel:i})))},t}(p.PureComponent),Ki=Object(m.i)(Yi);Ki.displayName="LogDetailsRow";var Ji,Zi,Xi,eo=Object(Nt.a)(function(e){var t=Object(de.a)({light:e.colors.gray7,dark:e.colors.dark2},e.type);return{hoverBackground:Object(h.css)(Ji||(Ji=Object(d.__makeTemplateObject)(["\n      label: hoverBackground;\n      background-color: ",";\n    "],["\n      label: hoverBackground;\n      background-color: ",";\n    "])),t),logsRowLevelDetails:Object(h.css)(Zi||(Zi=Object(d.__makeTemplateObject)(["\n      label: logs-row__level_details;\n      &::after {\n        top: -3px;\n      }\n    "],["\n      label: logs-row__level_details;\n      &::after {\n        top: -3px;\n      }\n    "]))),logDetailsDefaultCursor:Object(h.css)(Xi||(Xi=Object(d.__makeTemplateObject)(["\n      label: logDetailsDefaultCursor;\n      cursor: default;\n    "],["\n      label: logDetailsDefaultCursor;\n      cursor: default;\n    "])))}}),to=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getParser=Object(_t.default)(oe.getParser),t.parseMessage=Object(_t.default)(function(e){var n=t.getParser(e);return n?n.getFields(e).map(function(e){return{key:n.getLabelFromField(e),value:n.getValueFromField(e)}}):[]}),t.getDerivedFields=Object(_t.default)(function(e){return e.dataFrame.fields.map(function(e,t){return Object(d.__assign)(Object(d.__assign)({},e),{index:t})}).filter(function(t,n){return"id"!==t.name&&e.entryFieldIndex!==n}).filter(function(t){var n=t.values.get(e.rowIndex);return null!=n}).map(function(n){var a=t.props.getFieldLinks,r=a?a(n,e.rowIndex):[];return{key:n.name,value:n.values.get(e.rowIndex).toString(),links:r.map(function(e){return e.href}),fieldIndex:n.index}})}),t.getAllFields=Object(_t.default)(function(e){var n=t.parseMessage(e.entry),a=t.getDerivedFields(e),r=Object(d.__spread)(a,n).reduce(function(e,t){var n=t.value.replace(/(^")|("$)/g,""),a=t.key+"="+n;return e[a]?e[a].links=Object(d.__spread)(e[a].links||[],t.links||[]):e[a]=t,e},{});return Object.values(r)}),t.getStatsForParsedField=function(e){var n=t.getParser(t.props.row.entry).buildMatcher(e);return Object(oe.calculateFieldStats)(t.props.getRows(),n)},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.row,a=t.theme,r=t.onClickFilterOutLabel,i=t.onClickFilterLabel,o=t.getRows,s=t.showDuplicates,l=t.className,c=t.onMouseEnter,u=t.onMouseLeave,d=Ti(a,n.logLevel),p=eo(a),m=n.labels?n.labels:{},g=Object.keys(m).length>0,b=this.getAllFields(n),v=b&&b.length>0;return f.a.createElement("tr",{className:Object(h.cx)(l,p.logDetailsDefaultCursor),onMouseEnter:c,onMouseLeave:u},s&&f.a.createElement("td",null),f.a.createElement("td",{className:Object(h.cx)(d.logsRowLevel,p.logsRowLevelDetails)}),f.a.createElement("td",{colSpan:4},f.a.createElement("div",{className:d.logDetailsContainer},f.a.createElement("table",{className:d.logDetailsTable},f.a.createElement("tbody",null,g&&f.a.createElement("tr",null,f.a.createElement("td",{colSpan:5,className:d.logDetailsHeading,"aria-label":"Log Labels"},"Log Labels:")),Object.keys(m).map(function(e){var t=m[e];return f.a.createElement(Ki,{key:e+"="+t,parsedKey:e,parsedValue:t,isLabel:!0,getStats:function(){return Object(oe.calculateLogsLabelStats)(o(),e)},onClickFilterOutLabel:r,onClickFilterLabel:i})}),v&&f.a.createElement("tr",null,f.a.createElement("td",{colSpan:5,className:d.logDetailsHeading,"aria-label":"Parsed Fields"},"Parsed Fields:")),b.map(function(t){var a=t.key,r=t.value,i=t.links,o=t.fieldIndex;return f.a.createElement(Ki,{key:a+"="+r,parsedKey:a,parsedValue:r,links:i,getStats:function(){return void 0===o?e.getStatsForParsedField(a):Object(oe.calculateStats)(n.dataFrame.fields[o].values.toArray())}})}),!v&&!g&&f.a.createElement("tr",null,f.a.createElement("td",{colSpan:5,"aria-label":"No details"},"No details available")))))))},t}(p.PureComponent),no=Object(m.i)(to);no.displayName="LogDetails";var ao,ro,io,oo,so,lo,co,uo,po=n("WG1l"),fo=n.n(po),ho=n("bTeP"),mo=function(e){var t=Object(de.a)({light:e.colors.white,dark:e.colors.dark1},e.type),n=Object(de.a)({light:e.colors.gray7,dark:e.colors.dark2},e.type),a=Object(de.a)({light:e.colors.gray5,dark:e.colors.black},e.type),r=Object(de.a)({light:e.colors.gray5,dark:e.colors.dark9},e.type);return{commonStyles:Object(h.css)(ao||(ao=Object(d.__makeTemplateObject)(["\n      position: absolute;\n      width: calc(100% + 20px);\n      left: -10px;\n      height: 250px;\n      z-index: 2;\n      overflow: hidden;\n      background: ",";\n      background: linear-gradient(180deg, "," 0%, "," 104.25%);\n      box-shadow: 0px 2px 4px ",", 0px 0px 2px ",";\n      border: 1px solid ",";\n      border-radius: ",";\n    "],["\n      position: absolute;\n      width: calc(100% + 20px);\n      left: -10px;\n      height: 250px;\n      z-index: 2;\n      overflow: hidden;\n      background: ",";\n      background: linear-gradient(180deg, "," 0%, "," 104.25%);\n      box-shadow: 0px 2px 4px ",", 0px 0px 2px ",";\n      border: 1px solid ",";\n      border-radius: ",";\n    "])),e.colors.pageBg,t,n,a,a,r,e.border.radius.md),header:Object(h.css)(ro||(ro=Object(d.__makeTemplateObject)(["\n      height: 30px;\n      padding: 0 10px;\n      display: flex;\n      align-items: center;\n      background: ",";\n    "],["\n      height: 30px;\n      padding: 0 10px;\n      display: flex;\n      align-items: center;\n      background: ",";\n    "])),r),logs:Object(h.css)(io||(io=Object(d.__makeTemplateObject)(["\n      height: 220px;\n      padding: 10px;\n    "],["\n      height: 220px;\n      padding: 10px;\n    "])))}},go=function(e){e.row;var t=e.rows,n=e.onLoadMoreContext,a=e.canLoadMoreRows,r=Object(p.useContext)(Pe.a),i=mo(r).header;return f.a.createElement("div",{className:i},f.a.createElement("span",{className:Object(h.css)(oo||(oo=Object(d.__makeTemplateObject)(["\n          opacity: 0.6;\n        "],["\n          opacity: 0.6;\n        "])))},"Found ",t.length," rows."),(t.length>=10||t.length>10&&t.length%10!=0)&&a&&f.a.createElement("span",{className:Object(h.css)(so||(so=Object(d.__makeTemplateObject)(["\n            margin-left: 10px;\n            &:hover {\n              text-decoration: underline;\n              cursor: pointer;\n            }\n          "],["\n            margin-left: 10px;\n            &:hover {\n              text-decoration: underline;\n              cursor: pointer;\n            }\n          "]))),onClick:function(){return n()}},"Load 10 more"))},bo=function(e){var t=e.row,n=e.rows,a=e.error,r=e.className,i=e.shouldScrollToBottom,o=e.canLoadMoreRows,s=e.onLoadMoreContext,l=Object(p.useContext)(Pe.a),c=mo(l),u=c.commonStyles,m=c.logs,g=Object(d.__read)(Object(p.useState)(0),2),b=g[0],v=g[1],y=Object(p.useRef)();Object(p.useLayoutEffect)(function(){i&&y.current&&v(y.current.offsetHeight)});var w={row:t,rows:n,onLoadMoreContext:s,canLoadMoreRows:o};return f.a.createElement("div",{className:Object(h.cx)(r,u)},i&&!a&&f.a.createElement(go,Object(d.__assign)({},w)),f.a.createElement("div",{className:m},f.a.createElement(C.a,{autoHide:!0,scrollTop:b},f.a.createElement("div",{ref:y},!a&&f.a.createElement(At.a,{items:n,renderItem:function(e){return f.a.createElement("div",{className:Object(h.css)(lo||(lo=Object(d.__makeTemplateObject)(["\n                        padding: 5px 0;\n                      "],["\n                        padding: 5px 0;\n                      "])))},e)}}),a&&f.a.createElement(Hr,{title:a})))),!i&&!a&&f.a.createElement(go,Object(d.__assign)({},w)))},vo=function(e){var t=e.row,n=e.context,a=e.errors,r=e.onOutsideClick,i=e.onLoadMoreContext,o=e.hasMoreContextRows;return f.a.createElement(ho.a,{onClick:r},f.a.createElement("div",null,n.after&&f.a.createElement(bo,{rows:n.after,error:a&&a.after,row:t,className:Object(h.css)(co||(co=Object(d.__makeTemplateObject)(["\n              top: -250px;\n            "],["\n              top: -250px;\n            "]))),shouldScrollToBottom:!0,canLoadMoreRows:!!o&&o.after,onLoadMoreContext:i}),n.before&&f.a.createElement(bo,{onLoadMoreContext:i,canLoadMoreRows:!!o&&o.before,row:t,rows:n.before,error:a&&a.before,className:Object(h.css)(uo||(uo=Object(d.__makeTemplateObject)(["\n              top: 100%;\n            "],["\n              top: 100%;\n            "])))})))},yo=n("Kcoi");var wo,xo,Oo,_o,ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={chunks:[],prevValue:""},t}return Object(d.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.value===t.prevValue?null:{chunks:yo.a.parse(e.value).spans.map(function(e){return e.css?{style:(t=e.css,t.split(/;\s*/).reduce(function(e,t){var n=t.match(/([^:\s]+)\s*:\s*(.+)/);return n&&n[1]&&n[2]&&(e[n[1].replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})]=n[2]),e},{})),text:e.text}:{text:e.text};var t}),prevValue:e.value}},t.prototype.render=function(){return this.state.chunks.map(function(e,t){return e.style?f.a.createElement("span",{key:t,style:e.style},e.text):e.text})},t}(p.PureComponent),jo=Object(Nt.a)(function(e){var t=Object(Gt.selectThemeVariant)({light:e.colors.white,dark:e.colors.black},e.type);return{positionRelative:Object(h.css)(wo||(wo=Object(d.__makeTemplateObject)(["\n      label: positionRelative;\n      position: relative;\n    "],["\n      label: positionRelative;\n      position: relative;\n    "]))),rowWithContext:Object(h.css)(xo||(xo=Object(d.__makeTemplateObject)(["\n      label: rowWithContext;\n      z-index: 1;\n      outline: 9999px solid\n        ",";\n    "],["\n      label: rowWithContext;\n      z-index: 1;\n      outline: 9999px solid\n        ",";\n    "])),ye()(t).setAlpha(.7).toRgbString()),whiteSpacePreWrap:Object(h.css)(Oo||(Oo=Object(d.__makeTemplateObject)(["\n      label: whiteSpacePreWrap;\n      white-space: pre-wrap;\n    "],["\n      label: whiteSpacePreWrap;\n      white-space: pre-wrap;\n    "]))),horizontalScroll:Object(h.css)(_o||(_o=Object(d.__makeTemplateObject)(["\n      label: verticalScroll;\n      white-space: nowrap;\n    "],["\n      label: verticalScroll;\n      white-space: nowrap;\n    "])))}}),Co=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onContextToggle=function(e){e.stopPropagation(),t.props.onToggleContext()},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props,a=n.highlighterExpressions,r=n.row,i=n.theme,o=n.errors,s=n.hasMoreContextRows,l=n.updateLimit,c=n.context,u=n.showContext,d=n.wrapLogMessage,p=n.onToggleContext,m=Ti(i,r.logLevel),g=r.entry,b=r.hasAnsi,v=r.raw,y=a&&!Ut.a.isEqual(a,r.searchWords),w=y?a:r.searchWords,x=w&&w.length>0&&w[0]&&w[0].length>0,O=y?Object(h.cx)([m.logsRowMatchHighLight,m.logsRowMatchHighLightPreview]):Object(h.cx)([m.logsRowMatchHighLight]),_=jo(i);return f.a.createElement("td",{className:m.logsRowMessage},f.a.createElement("div",{className:Object(h.cx)(_.positionRelative,(e={},e[_.horizontalScroll]=!d,e))},u&&c&&f.a.createElement(vo,{row:r,context:c,errors:o,hasMoreContextRows:s,onOutsideClick:p,onLoadMoreContext:function(){l&&l()}}),f.a.createElement("span",{className:Object(h.cx)(_.positionRelative,(t={},t[_.rowWithContext]=u,t))},x?f.a.createElement(fo.a,{style:_.whiteSpacePreWrap,textToHighlight:g,searchWords:w,findChunks:oe.findHighlightChunksInText,highlightClassName:O}):b?f.a.createElement(ko,{value:v}):g),r.searchWords&&r.searchWords.length>0&&f.a.createElement("span",{onClick:this.onContextToggle,className:Object(h.cx)(m.context)},u?"Hide":"Show"," context")))},t}(p.PureComponent),So=Object(m.i)(Co);So.displayName="LogRowMessage";var Eo,To,Mo=Object(Nt.a)(function(e){var t=Object(de.a)({light:e.colors.gray7,dark:e.colors.dark2},e.type);return{topVerticalAlign:Object(h.css)(Eo||(Eo=Object(d.__makeTemplateObject)(["\n      label: topVerticalAlign;\n      vertical-align: top;\n    "],["\n      label: topVerticalAlign;\n      vertical-align: top;\n    "]))),hoverBackground:Object(h.css)(To||(To=Object(d.__makeTemplateObject)(["\n      label: hoverBackground;\n      background-color: ",";\n    "],["\n      label: hoverBackground;\n      background-color: ",";\n    "])),t)}}),Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showContext:!1,showDetails:!1,hasHoverBackground:!1},t.toggleContext=function(){t.setState(function(e){return{showContext:!e.showContext}})},t.addHoverBackground=function(){t.setState({hasHoverBackground:!0})},t.clearHoverBackground=function(){t.setState({hasHoverBackground:!1})},t.toggleDetails=function(){t.props.allowDetails||t.setState(function(e){return{showDetails:!e.showDetails}})},t}return Object(d.__extends)(t,e),t.prototype.renderLogRow=function(e,t,n,a){var r,i=this.props,o=i.getRows,s=i.onClickFilterLabel,l=i.onClickFilterOutLabel,c=i.highlighterExpressions,u=i.allowDetails,d=i.row,p=i.showDuplicates,m=i.timeZone,g=i.showLabels,b=i.showTime,v=i.wrapLogMessage,y=i.theme,w=i.getFieldLinks,x=this.state,O=x.showDetails,_=x.showContext,k=x.hasHoverBackground,j=Ti(y,d.logLevel),C=Mo(y),S="utc"===m,E=O?Object(h.cx)(["fa fa-chevron-down",C.topVerticalAlign]):Object(h.cx)(["fa fa-chevron-right",C.topVerticalAlign]),T=Object(h.cx)(j.logsRow,((r={})[C.hoverBackground]=k,r));return f.a.createElement(f.a.Fragment,null,f.a.createElement("tr",{className:T,onMouseEnter:this.addHoverBackground,onMouseLeave:this.clearHoverBackground,onClick:this.toggleDetails},p&&f.a.createElement("td",{className:j.logsRowDuplicates},d.duplicates&&d.duplicates>0?d.duplicates+1+"x":null),f.a.createElement("td",{className:j.logsRowLevel}),!u&&f.a.createElement("td",{title:O?"Hide log details":"See log details",className:j.logsRowToggleDetails},f.a.createElement("i",{className:E})),b&&S&&f.a.createElement("td",{className:j.logsRowLocalTime,title:"Local: "+d.timeLocal+" ("+d.timeFromNow+")"},d.timeUtc),b&&!S&&f.a.createElement("td",{className:j.logsRowLocalTime,title:d.timeUtc+" ("+d.timeFromNow+")"},d.timeLocal),g&&d.uniqueLabels&&f.a.createElement("td",{className:j.logsRowLabels},f.a.createElement(ni,{labels:d.uniqueLabels})),f.a.createElement(So,{highlighterExpressions:c,row:d,getRows:o,errors:t,hasMoreContextRows:n,updateLimit:a,context:e,showContext:_,wrapLogMessage:v,onToggleContext:this.toggleContext})),this.state.showDetails&&f.a.createElement(no,{className:T,onMouseEnter:this.addHoverBackground,onMouseLeave:this.clearHoverBackground,showDuplicates:p,getFieldLinks:w,onClickFilterLabel:s,onClickFilterOutLabel:l,getRows:o,row:d}))},t.prototype.render=function(){var e=this;return this.state.showContext?f.a.createElement(f.a.Fragment,null,f.a.createElement(Pi,{row:this.props.row,getRowContext:this.props.getRowContext},function(t){var n=t.result,a=t.errors,r=t.hasMoreContextRows,i=t.updateLimit;return f.a.createElement(f.a.Fragment,null,e.renderLogRow(n,a,r,i))})):this.renderLogRow()},t}(p.PureComponent),No=Object(m.i)(Ao);No.displayName="LogRow";var Do=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderAllTimer=null,t.state={renderAll:!1},t.makeGetRows=Object(_t.default)(function(e){return function(){return e}}),t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.logRows,a=t.previewLimit,r=(n?n.length:0)<=2*a;r?this.setState({renderAll:r}):this.renderAllTimer=window.setTimeout(function(){return e.setState({renderAll:!0})},2e3)},t.prototype.componentWillUnmount=function(){this.renderAllTimer&&clearTimeout(this.renderAllTimer)},t.prototype.render=function(){var e=this.props,t=e.dedupStrategy,n=e.showLabels,a=e.showTime,r=e.wrapLogMessage,i=e.logRows,o=e.deduplicatedRows,s=e.highlighterExpressions,l=e.timeZone,c=e.onClickFilterLabel,u=e.onClickFilterOutLabel,d=e.rowLimit,p=e.theme,h=e.allowDetails,m=e.previewLimit,g=e.getFieldLinks,b=this.state.renderAll,v=Ti(p),y=v.logsRowsTable,w=v.logsRowsHorizontalScroll,x=o||i,O=i&&i.length>0,_=x?x.reduce(function(e,t){return t.duplicates?e+t.duplicates:e},0):0,k=t!==oe.LogsDedupStrategy.none&&_>0,j=r?"":w,C=x||[],S=C.slice(0,m),E=Math.min(C.length,d),T=C.slice(m,E),M=this.makeGetRows(C),A=this.props.getRowContext?this.props.getRowContext:function(){return Promise.resolve([])};return f.a.createElement("div",{className:j},f.a.createElement("table",{className:y},f.a.createElement("tbody",null,O&&S.map(function(e,t){return f.a.createElement(No,{key:e.uid,getRows:M,getRowContext:A,highlighterExpressions:s,row:e,showDuplicates:k,showLabels:n,showTime:a,wrapLogMessage:r,timeZone:l,allowDetails:h,onClickFilterLabel:c,onClickFilterOutLabel:u,getFieldLinks:g})}),O&&b&&T.map(function(e,t){return f.a.createElement(No,{key:e.uid,getRows:M,getRowContext:A,row:e,showDuplicates:k,showLabels:n,showTime:a,wrapLogMessage:r,timeZone:l,allowDetails:h,onClickFilterLabel:c,onClickFilterOutLabel:u,getFieldLinks:g})}),O&&!b&&f.a.createElement("tr",null,f.a.createElement("td",{colSpan:5},"Rendering ",E-m," rows...")))))},t.defaultProps={previewLimit:100,rowLimit:500},t}(p.PureComponent),Io=Object(m.i)(Do);Io.displayName="LogsRows";var Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.label,a=e.transparent;return f.a.createElement("div",{className:"gf-form gf-form--align-center"},n&&f.a.createElement("label",{className:"gf-form-label "+(a?"gf-form-label--transparent":"")},n),f.a.createElement("div",{className:"toggle-button-group "+(a?"toggle-button-group--transparent":"")},t))},t}(p.PureComponent),Fo=function(e){var t=e.children,n=e.selected,a=e.className,r=void 0===a?"":a,i=e.value,o=void 0===i?null:i,s=e.tooltip,l=e.onChange,c="btn "+r+(n?" active":""),u=f.a.createElement("button",{className:c,onClick:function(e){e.stopPropagation(),!n&&l&&l(o)}},f.a.createElement("span",null,t));return s?f.a.createElement(O.b,{content:s,placement:"bottom"},u):u},Lo=[{value:oe.ThresholdsMode.Absolute,label:"Absolute",description:"Pick thresholds based on the absolute values"},{value:oe.ThresholdsMode.Percentage,label:"Percentage",description:"Pick threshold based on the percent between min/max"}],Ro=100;var Vo=function(e){function t(t){var n=e.call(this,t)||this;n.onAddThresholdAfter=function(e){var t,a,r=n.state.steps,i=void 0,o=void 0;try{for(var s=Object(d.__values)(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(i&&i.key===e.key){o=c;break}i=c}}catch(e){t={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}var u=i&&isFinite(i.value)?i.value:0,p={value:u+((o&&isFinite(o.value)?o.value:100)-u)/2,color:Oe.o.filter(function(e){return!r.some(function(t){return t.color===e})})[1],key:Ro++},f=Object(d.__spread)(r,[p]);Object(oe.sortThresholds)(f),n.setState({steps:f},function(){return n.onChange()})},n.onRemoveThreshold=function(e){var t=n.state.steps;t.length&&e.key!==t[0].key&&n.setState({steps:t.filter(function(t){return t.key!==e.key})},function(){return n.onChange()})},n.onChangeThresholdValue=function(e,t){var a=e.target.value.replace(/,/g,"."),r=parseFloat(a),i=isNaN(r)?"":r,o=n.state.steps.map(function(e){return e.key===t.key&&(e=Object(d.__assign)(Object(d.__assign)({},e),{value:i})),e});o.length&&(o[0].value=-1/0),n.setState({steps:o})},n.onChangeThresholdColor=function(e,t){var a=n.state.steps.map(function(n){return n.key===e.key&&(n=Object(d.__assign)(Object(d.__assign)({},n),{color:t})),n});n.setState({steps:a},function(){return n.onChange()})},n.onBlur=function(){var e=Object(d.__spread)(n.state.steps);Object(oe.sortThresholds)(e),n.setState({steps:e},function(){return n.onChange()})},n.onChange=function(){var e,t,a;n.props.onChange((e=n.props.thresholds,t=n.state.steps,{mode:null!==(a=e.mode)&&void 0!==a?a:oe.ThresholdsMode.Absolute,steps:t.map(function(e){e.key;var t=Object(d.__rest)(e,["key"]);return t})}))},n.onModeChanged=function(e){e.value&&n.props.onChange(Object(d.__assign)(Object(d.__assign)({},n.props.thresholds),{mode:e.value}))},n.renderInput=function(e){var t=n.props.thresholds.mode===oe.ThresholdsMode.Percentage;return f.a.createElement("div",{className:"thresholds-row-input-inner"},f.a.createElement("span",{className:"thresholds-row-input-inner-arrow"}),f.a.createElement("div",{className:"thresholds-row-input-inner-color"},e.color&&f.a.createElement("div",{className:"thresholds-row-input-inner-color-colorpicker"},f.a.createElement($e,{color:e.color,onChange:function(t){return n.onChangeThresholdColor(e,t)},enableNamedColors:!0}))),isFinite(e.value)?f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"thresholds-row-input-inner-value"},f.a.createElement(ke,{type:"number",step:"0.0001",onChange:function(t){return n.onChangeThresholdValue(t,e)},value:e.value,onBlur:n.onBlur})),t&&f.a.createElement("div",{className:Object(h.css)("margin-left:-20px; margin-top:5px;")},f.a.createElement("i",{className:"fa fa-percent"})),f.a.createElement("div",{className:"thresholds-row-input-inner-remove",onClick:function(){return n.onRemoveThreshold(e)}},f.a.createElement("i",{className:"fa fa-times"}))):f.a.createElement("div",{className:"thresholds-row-input-inner-value"},f.a.createElement(ke,{type:"text",value:"Base",readOnly:!0})))};var a=function(e){return e&&0!==e.length||(e=[{value:-1/0,color:"green"}]),e.map(function(e){return{color:e.color,value:null===e.value?-1/0:e.value,key:Ro++}})}(t.thresholds.steps);return a[0].value=-1/0,n.state={steps:a},n}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.steps,n=this.props.theme,a=this.props.thresholds;return f.a.createElement(Ue,{title:"Thresholds"},f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"thresholds"},t.slice(0).reverse().map(function(t){return f.a.createElement("div",{className:"thresholds-row",key:""+t.key},f.a.createElement("div",{className:"thresholds-row-add-button",onClick:function(){return e.onAddThresholdAfter(t)}},f.a.createElement("i",{className:"fa fa-plus"})),f.a.createElement("div",{className:"thresholds-row-color-indicator",style:{backgroundColor:Object(oe.getColorFromHexRgbOrName)(t.color,n.type)}}),f.a.createElement("div",{className:"thresholds-row-input"},e.renderInput(t)))})),this.props.showAlphaUI&&f.a.createElement("div",null,f.a.createElement(z,{options:Lo,value:Lo.filter(function(e){return e.value===a.mode}),onChange:this.onModeChanged}))))},t}(p.PureComponent);var $o=[{value:!0,label:"All Values",description:"Each row in the response data"},{value:!1,label:"Calculation",description:"Calculate a value based on the response"}],Bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onShowValuesChange=function(e){var n=!0===e.value;t.props.onChange(Object(d.__assign)(Object(d.__assign)({},t.props.value),{values:n}))},t.onCalcsChange=function(e){t.props.onChange(Object(d.__assign)(Object(d.__assign)({},t.props.value),{calcs:e}))},t.onDefaultsChange=function(e){t.props.onChange(Object(d.__assign)(Object(d.__assign)({},t.props.value),{defaults:e}))},t.onLimitChange=function(e){t.props.onChange(Object(d.__assign)(Object(d.__assign)({},t.props.value),{limit:Object(oe.toIntegerOrUndefined)(e.target.value)}))},t}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props.value,t=e.calcs,n=e.values,a=e.limit,r=this.props.labelWidth||5;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"gf-form"},f.a.createElement(X,{width:r},"Show"),f.a.createElement(z,{options:$o,value:n?$o[0]:$o[1],onChange:this.onShowValuesChange})),n?f.a.createElement(ee,{label:"Limit",labelWidth:r,placeholder:""+oe.DEFAULT_FIELD_DISPLAY_VALUES_LIMIT,onChange:this.onLimitChange,value:Object(oe.toNumberString)(a),type:"number"}):f.a.createElement("div",{className:"gf-form"},f.a.createElement(X,{width:r},"Calc"),f.a.createElement(Ot,{width:12,placeholder:"Choose Stat",defaultStat:oe.ReducerID.mean,allowMultiple:!1,stats:t,onChange:this.onCalcsChange})))},t}(p.PureComponent),Uo=function(e){var t=e.value,n=e.onChange,a=e.showMinMax,r=e.showTitle,i=t.unit,o=t.title,s=Object(d.__read)(Object(p.useState)(void 0!==t.decimals&&null!==t.decimals?t.decimals.toString():""),2),l=s[0],c=s[1],u=Object(d.__read)(Object(p.useState)(Object(oe.toNumberString)(t.min)),2),h=u[0],m=u[1],g=Object(d.__read)(Object(p.useState)(Object(oe.toNumberString)(t.max)),2),b=g[0],v=g[1],y=Object(p.useCallback)(function(e){c(e.target.value)},[t.decimals,n]),w=Object(p.useCallback)(function(e){m(e.target.value)},[t.min,n]),x=Object(p.useCallback)(function(e){v(e.target.value)},[t.max,n]),O=Object(p.useCallback)(function(){n(Object(d.__assign)(Object(d.__assign)({},t),{decimals:Object(oe.toIntegerOrUndefined)(l),min:Object(oe.toFloatOrUndefined)(h),max:Object(oe.toFloatOrUndefined)(b)}))},[h,b,l]),_=f.a.createElement("div",null,"Template Variables:",f.a.createElement("br",null),"${"+oe.VAR_SERIES_NAME+"}",f.a.createElement("br",null),"${"+oe.VAR_FIELD_NAME+"}",f.a.createElement("br",null),"$"+oe.VAR_CELL_PREFIX+"{N}"," / ","$"+oe.VAR_CALC);return f.a.createElement(f.a.Fragment,null,r&&f.a.createElement(ee,{label:"Title",labelWidth:6,onChange:function(e){n(Object(d.__assign)(Object(d.__assign)({},t),{title:e.target.value}))},value:o,tooltip:_,placeholder:"Auto"}),f.a.createElement("div",{className:"gf-form"},f.a.createElement(X,{width:6},"Unit"),f.a.createElement(bt,{value:i,onChange:function(e){n(Object(d.__assign)(Object(d.__assign)({},t),{unit:e}))}})),a&&f.a.createElement(f.a.Fragment,null,f.a.createElement(ee,{label:"Min",labelWidth:6,onChange:w,onBlur:O,value:h,placeholder:"Auto",type:"number"}),f.a.createElement(ee,{label:"Max",labelWidth:6,onChange:x,onBlur:O,value:b,type:"number",placeholder:"Auto"})),f.a.createElement(ee,{label:"Decimals",labelWidth:6,placeholder:"auto",onChange:y,onBlur:O,value:l,type:"number"}))},qo=n("BkRI"),zo=n.n(qo),Ho=["fieldOptions","orientation"];function Go(e,t,n){var a,r,i,o;if("singlestat"===t&&n.angular){var s=n.angular,l=oe.fieldReducers.getIfExists(s.valueName),c={fieldOptions:{defaults:{},overrides:[],calcs:[l?l.id:oe.ReducerID.mean]},orientation:oe.VizOrientation.Horizontal},u=c.fieldOptions.defaults;if(s.format&&(u.unit=s.format),s.nullPointMode&&(u.nullValueMode=s.nullPointMode),s.nullText&&(u.noValue=s.nullText),(s.decimals||0===s.decimals)&&(u.decimals=s.decimals),s.thresholds&&s.colors){var p=s.thresholds.split(",").map(function(e){return Number(e.trim())}),f=[];try{for(var h=Object(d.__values)(s.colors),m=h.next();!m.done;m=h.next()){var g=m.value,b=f.length-1;b>=0?f.push({value:p[b],color:g}):f.push({value:-1/0,color:g})}}catch(e){a={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(a)throw a.error}}u.thresholds={mode:oe.ThresholdsMode.Absolute,steps:f}}var v=Yo(s);return v&&v.length&&(u.mappings=v),s.gauge&&s.gauge.show&&(u.min=s.gauge.minValue,u.max=s.gauge.maxValue),c}try{for(var y=Object(d.__values)(Ho),w=y.next();!w.done;w=y.next()){var x=w.value;n.hasOwnProperty(x)&&(e[x]=zo()(n[x]))}}catch(e){i={error:e}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}return e}function Wo(e){var t,n,a;if(!e.options)return{};var r=parseFloat(e.pluginVersion||"6.1"),i=e.options;if(r<6.2&&(i=function(e){var t=e.valueOptions;if(!t)return e;var n={},a={};if(n.mappings=e.valueMappings,n.thresholds=e.thresholds,n.defaults=a,a.unit=t.unit,a.decimals=t.decimals,t.stat){var r=oe.fieldReducers.get(t.stat);r&&(n.calcs=[r.id])}a.min=e.minValue,a.max=e.maxValue;var i=Object(d.__assign)(Object(d.__assign)({},e),{fieldOptions:n});return ne()(i,"valueMappings","thresholds","valueOptions","minValue","maxValue")}(i)),r<6.3&&(i=function(e){var t=e.fieldOptions;if(!t)return e;var n=e.fieldOptions,a=n.mappings,r=Object(d.__rest)(n,["mappings"]),i=void 0;e.thresholds&&(i={mode:oe.ThresholdsMode.Absolute,steps:Qo(e.thresholds)});return Object(d.__assign)(Object(d.__assign)({},e),{fieldOptions:Object(d.__assign)(Object(d.__assign)({},r),{defaults:Object(d.__assign)(Object(d.__assign)({},t.defaults),{mappings:a,thresholds:i})})})}(i)),r<6.6){var o=i.fieldOptions;if(o&&o.override){var s=i.fieldOptions,l=(s.override,Object(d.__rest)(s,["override"]));i=Object(d.__assign)(Object(d.__assign)({},i),{fieldOptions:Object(d.__assign)(Object(d.__assign)({},l),{overrides:[]})})}var c=null===(n=null===(t=o)||void 0===t?void 0:t.defaults)||void 0===n?void 0:n.thresholds;c?delete o.defaults.thresholds:(c=null===(a=o)||void 0===a?void 0:a.thresholds,delete o.thresholds),c&&(o.defaults.thresholds={mode:oe.ThresholdsMode.Absolute,steps:c});var u=o.defaults;u.color&&"string"==typeof u.color&&(u.color={mode:oe.FieldColorMode.Fixed,fixedColor:u.color}),Object(oe.validateFieldConfig)(u)}return i}function Qo(e){if(e&&e.length){var t=e.map(function(e){return{value:null===e.value?-1/0:e.value,color:e.color}});return Object(oe.sortThresholds)(t),t[0].value=-1/0,t}}function Yo(e){var t=[],n=e.mappingType;if(e.mappingType||(e.valueMaps&&e.valueMaps.length?n=1:e.rangeMaps&&e.rangeMaps.length&&(n=2)),1===n)for(var a=0;a<e.valueMaps.length;a++){var r=e.valueMaps[a];t.push(Object(d.__assign)(Object(d.__assign)({},r),{id:a,type:oe.MappingType.ValueToText}))}else if(2===n)for(a=0;a<e.rangeMaps.length;a++){r=e.rangeMaps[a];t.push(Object(d.__assign)(Object(d.__assign)({},r),{id:a,type:oe.MappingType.RangeToText}))}return t}var Ko,Jo,Zo,Xo,es=Object(m.g)(function(e){return{wrapper:Object(h.css)(Ko||(Ko=Object(d.__makeTemplateObject)(["\n    label: call-to-action-card;\n    padding: ",";\n    background: ",";\n    border-radius: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  "],["\n    label: call-to-action-card;\n    padding: ",";\n    background: ",";\n    border-radius: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  "])),e.spacing.lg,Object(de.a)({light:e.colors.gray6,dark:e.colors.grayBlue},e.type),e.border.radius.md),message:Object(h.css)(Jo||(Jo=Object(d.__makeTemplateObject)(["\n    margin-bottom: ",";\n    font-style: italic;\n  "],["\n    margin-bottom: ",";\n    font-style: italic;\n  "])),e.spacing.lg),footer:Object(h.css)(Zo||(Zo=Object(d.__makeTemplateObject)(["\n    margin-top: ",";\n  "],["\n    margin-top: ",";\n  "])),e.spacing.lg)}}),ts=function(e){var t=e.message,n=e.callToActionElement,a=e.footer,r=e.theme,i=e.className,o=es(r);return f.a.createElement("div",{className:Object(h.cx)([o.wrapper,i])},t&&f.a.createElement("div",{className:o.message},t),n,a&&f.a.createElement("div",{className:o.footer},a))};!function(e){e.Series="series",e.Field="field",e.Fields="fields",e.Value="value",e.BuiltIn="built-in",e.Template="template"}(Xo||(Xo={}));var ns=Object(m.g)(function(e){var t=Object(Gt.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark2},e.type),n=Object(Gt.selectThemeVariant)({light:e.colors.gray5,dark:e.colors.black},e.type),a=Object(Gt.selectThemeVariant)({light:e.colors.black,dark:e.colors.white},e.type),r=Object(Gt.selectThemeVariant)({light:e.colors.dark3,dark:e.colors.gray2},e.type),i=Object(Gt.selectThemeVariant)({light:e.colors.gray5,dark:e.colors.dark7},e.type),o=Object(Gt.selectThemeVariant)({light:e.colors.gray6,dark:e.colors.dark9},e.type),s=Object(Gt.selectThemeVariant)({light:ye()(t.toString()).darken(10).toString(),dark:ye()(t.toString()).lighten(10).toString()},e.type);return{list:Object(h.css)(rs||(rs=Object(d.__makeTemplateObject)(["\n      border-bottom: 1px solid ",";\n      &:last-child {\n        border: none;\n      }\n    "],["\n      border-bottom: 1px solid ",";\n      &:last-child {\n        border: none;\n      }\n    "])),s),wrapper:Object(h.css)(is||(is=Object(d.__makeTemplateObject)(["\n      background: ",";\n      z-index: 1;\n      width: 250px;\n      box-shadow: 0 5px 10px 0 ",";\n    "],["\n      background: ",";\n      z-index: 1;\n      width: 250px;\n      box-shadow: 0 5px 10px 0 ",";\n    "])),t,n),item:Object(h.css)(os||(os=Object(d.__makeTemplateObject)(["\n      background: none;\n      padding: 2px 8px;\n      color: ",";\n      cursor: pointer;\n      &:hover {\n        background: ",";\n      }\n    "],["\n      background: none;\n      padding: 2px 8px;\n      color: ",";\n      cursor: pointer;\n      &:hover {\n        background: ",";\n      }\n    "])),a,i),label:Object(h.css)(ss||(ss=Object(d.__makeTemplateObject)(["\n      color: ",";\n    "],["\n      color: ",";\n    "])),e.colors.textWeak),activeItem:Object(h.css)(ls||(ls=Object(d.__makeTemplateObject)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "],["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "])),o,o),itemValue:Object(h.css)(cs||(cs=Object(d.__makeTemplateObject)(["\n      font-family: ",";\n      font-size: ",";\n    "],["\n      font-family: ",";\n      font-size: ",";\n    "])),e.typography.fontFamily.monospace,e.typography.size.sm),itemDocs:Object(h.css)(us||(us=Object(d.__makeTemplateObject)(["\n      margin-top: ",";\n      color: ",";\n    "],["\n      margin-top: ",";\n      color: ",";\n    "])),e.spacing.xs,r)}}),as=function(e){var t=e.suggestions,n=Object(d.__rest)(e,["suggestions"]),a=Object(p.useRef)(null),r=Object(p.useContext)(Gt.ThemeContext);qa()(a,function(){n.onClose&&n.onClose()});var i=Object(p.useMemo)(function(){return Ut.a.groupBy(t,function(e){return e.origin})},[t]),o=ns(r);return f.a.createElement("div",{ref:a,className:o.wrapper},Object.keys(i).map(function(e,t){var a=0===t?0:Object.keys(i).reduce(function(e,n,a){return a>=t?e:e+i[n].length},0);return f.a.createElement(ds,Object(d.__assign)({},n,{suggestions:i[e],label:""+Ut.a.capitalize(e),activeIndex:n.activeIndex,activeIndexOffset:a,key:e}))}))};as.displayName="DataLinkSuggestions";var rs,is,os,ss,ls,cs,us,ds=f.a.memo(function(e){var t=e.activeIndex,n=e.activeIndexOffset,a=e.label,r=(e.onClose,e.onSuggestionSelect),i=e.suggestions,o=Object(p.useContext)(Gt.ThemeContext),s=ns(o);return f.a.createElement(f.a.Fragment,null,f.a.createElement(At.a,{className:s.list,items:i,renderItem:function(e,i){return f.a.createElement("div",{className:Object(h.cx)(s.item,i+n===t&&s.activeItem),onClick:function(){r(e)},title:e.documentation},f.a.createElement("span",{className:s.itemValue},f.a.createElement("span",{className:s.label},a)," ",e.label))}}))});ds.displayName="DataLinkSuggestionsList";var ps,fs,hs=n("wZee"),ms=n.n(hs),gs=n("xBDI"),bs=n.n(gs),vs=function(){function e(){}return e.prototype.getBoundingClientRect=function(){var e=window.getSelection(),t=e&&e.anchorNode;return t&&t.parentElement?t.parentElement.getBoundingClientRect():{top:0,left:0,bottom:0,right:0,width:0,height:0}},Object.defineProperty(e.prototype,"clientWidth",{get:function(){return this.getBoundingClientRect().width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientHeight",{get:function(){return this.getBoundingClientRect().height},enumerable:!0,configurable:!0}),e}(),ys=n("I7VN"),ws=n("zp0N"),xs=[Object(Ht.h)({onlyIn:function(e){return"code_block"===e.type},getSyntax:function(){return"links"}})],Os=Object(m.g)(function(e){return{editor:Object(h.css)(ps||(ps=Object(d.__makeTemplateObject)(["\n    .token.builtInVariable {\n      color: ",";\n    }\n    .token.variable {\n      color: ",";\n    }\n  "],["\n    .token.builtInVariable {\n      color: ",";\n    }\n    .token.variable {\n      color: ",";\n    }\n  "])),e.colors.queryGreen,e.colors.queryKeyword)}}),_s=Object(p.memo)(function(e){var t=e.value,n=e.onChange,a=e.suggestions,r=e.placeholder,i=void 0===r?"http://your-grafana.com/d/000000010/annotations":r,o=Object(p.useRef)(),s=Object(p.useContext)(Gt.ThemeContext),l=Os(s),c=Object(d.__read)(Object(p.useState)(!1),2),u=c[0],m=c[1],g=Object(d.__read)(Object(p.useState)(0),2),b=g[0],v=g[1],y=Object(d.__read)(Object(p.useState)(Object(Gt.makeValue)(t)),2),w=y[0],x=y[1],O=bs()(w),_=Object(p.useRef)({showingSuggestions:u,suggestions:a,suggestionsIndex:b,linkUrl:w,onChange:n});_.current={showingSuggestions:u,suggestions:a,suggestionsIndex:b,linkUrl:w,onChange:n};var k=Object(p.useMemo)(function(){return new vs},[m,w]),C=f.a.useCallback(function(e,t){if(!_.current.showingSuggestions)return"="===e.key||"$"===e.key||32===e.keyCode&&e.ctrlKey?m(!0):t();switch(e.key){case"Backspace":case"Escape":return m(!1),v(0);case"Enter":return e.preventDefault(),E(_.current.suggestions[_.current.suggestionsIndex]);case"ArrowDown":case"ArrowUp":e.preventDefault();var n="ArrowDown"===e.key?1:-1;return v(function(e){return t=e+n,a=_.current.suggestions.length,t-a*Math.floor(t/a);var t,a});default:return t()}},[]);Object(p.useEffect)(function(){O&&O.selection.isFocused&&!w.selection.isFocused&&_.current.onChange(zt.a.serialize(w))},[w,O]);var S=f.a.useCallback(function(e){var t=e.value;x(t)},[]),E=function(e,t){void 0===t&&(t=o.current);var n="$"!==zt.a.serialize(t.value).slice(-1);e.origin!==Xo.Template||e.value===Gt.DataLinkBuiltInVars.includeVars?t.insertText((n?"$":"")+"{"+e.value+"}"):t.insertText("var-"+e.value+"=${"+e.value+"}"),x(t.value),m(!1),v(0),_.current.onChange(zt.a.serialize(t.value))};return f.a.createElement("div",{className:Object(h.cx)("gf-form-input",Object(h.css)(fs||(fs=Object(d.__makeTemplateObject)(["\n            position: relative;\n            height: auto;\n          "],["\n            position: relative;\n            height: auto;\n          "]))))},f.a.createElement("div",{className:"slate-query-field"},u&&f.a.createElement(j.a,null,f.a.createElement(ys.b,{referenceElement:k,placement:"top-end",modifiers:{preventOverflow:{enabled:!0,boundariesElement:"window"},arrow:{enabled:!1},offset:{offset:250}}},function(e){var t=e.ref,n=e.style,a=e.placement;return f.a.createElement("div",{ref:t,style:n,"data-placement":a},f.a.createElement(as,{suggestions:_.current.suggestions,onSuggestionSelect:E,onClose:function(){return m(!1)},activeIndex:b}))})),f.a.createElement(qt.a,{schema:ws.a,ref:o,placeholder:i,value:_.current.linkUrl,onChange:S,onKeyDown:function(e,t,n){return C(e,n)},plugins:xs,className:l.editor})))});_s.displayName="DataLinkInput";var ks,js,Cs,Ss=Object(m.g)(function(e){return{listItem:Object(h.css)(ks||(ks=Object(d.__makeTemplateObject)(["\n    margin-bottom: ",";\n  "],["\n    margin-bottom: ",";\n  "])),e.spacing.sm),infoText:Object(h.css)(js||(js=Object(d.__makeTemplateObject)(["\n    padding-bottom: ",";\n    margin-left: 66px;\n    color: ",";\n  "],["\n    padding-bottom: ",";\n    margin-left: 66px;\n    color: ",";\n  "])),e.spacing.md,e.colors.textWeak)}}),Es=f.a.memo(function(e){var t=e.index,n=e.value,a=e.onChange,r=e.onRemove,i=e.suggestions,o=e.isLast,s=Object(p.useContext)(m.a),l=Ss(s);return f.a.createElement("div",{className:l.listItem},f.a.createElement("div",{className:"gf-form gf-form--inline"},f.a.createElement(ee,{className:"gf-form--grow",label:"Title",value:n.title,onChange:function(e){a(t,Object(d.__assign)(Object(d.__assign)({},n),{title:e.target.value}))},inputWidth:0,labelWidth:5,placeholder:"Show details"}),f.a.createElement(Ie,{label:"Open in new tab",checked:n.targetBlank||!1,onChange:function(){a(t,Object(d.__assign)(Object(d.__assign)({},n),{targetBlank:!n.targetBlank}))}}),f.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:function(){r(n)},title:"Remove link"},f.a.createElement("i",{className:"fa fa-times"}))),f.a.createElement(ee,{label:"URL",labelWidth:5,inputEl:f.a.createElement(_s,{value:n.url,onChange:function(e,r){a(t,Object(d.__assign)(Object(d.__assign)({},n),{url:e}),r)},suggestions:i}),className:Object(h.css)(Cs||(Cs=Object(d.__makeTemplateObject)(["\n            width: 100%;\n          "],["\n            width: 100%;\n          "])))}),o&&f.a.createElement("div",{className:l.infoText},"With data links you can reference data variables like series name, labels and values. Type CMD+Space, CTRL+Space, or $ to open variable suggestions."))});Es.displayName="DataLinkEditor";var Ts,Ms=f.a.memo(function(e){var t=e.value,n=e.onChange,a=e.suggestions,r=e.maxLinks,i=Object(Pe.c)();ms.a.languages.links={builtInVariable:{pattern:/(\${\S+?})/}};var o=function(e,a,r){n(t.map(function(t,n){return e===n?a:t}),r)},s=function(e){n(t.filter(function(t){return t!==e}))};return f.a.createElement(f.a.Fragment,null,t&&t.length>0&&f.a.createElement("div",{className:Object(h.css)(Ts||(Ts=Object(d.__makeTemplateObject)(["\n            margin-bottom: ",";\n          "],["\n            margin-bottom: ",";\n          "])),i.spacing.sm)},t.map(function(e,n){return f.a.createElement(Es,{key:n.toString(),index:n,isLast:n===t.length-1,value:e,onChange:o,onRemove:s,suggestions:a})})),(!t||t&&t.length<(r||1/0))&&f.a.createElement(g.a,{variant:"inverse",icon:"fa fa-plus",onClick:function(){n(t?Object(d.__spread)(t,[{url:"",title:""}]):[{url:"",title:""}])}},"Add link"))});Ms.displayName="DataLinksEditor";var As,Ns,Ds,Is,Ps,Fs,Ls,Rs=function(e){var t=e.children,n=e.getContextMenuItems,a=Object(d.__read)(Object(p.useState)(!1),2),r=a[0],i=a[1],o=Object(d.__read)(Object(p.useState)({x:0,y:0}),2),s=o[0],l=o[1];return f.a.createElement(f.a.Fragment,null,t({openMenu:function(e){i(!0),l({x:e.pageX,y:e.pageY})}}),r&&f.a.createElement(Ha,{onClose:function(){return i(!1)},x:s.x,y:s.y,items:n()}))},Vs=n("nfvv"),$s=function(e){var t=e.children,n=e.links;if(!n)return t({});var a=Object(h.css)(As||(As=Object(d.__makeTemplateObject)(["\n    cursor: context-menu;\n  "],["\n    cursor: context-menu;\n  "])));return f.a.createElement(Rs,{getContextMenuItems:function(){return[{items:Object(Vs.b)(n),label:"Data links"}]}},function(e){var n=e.openMenu;return t({openMenu:n,targetClassName:a})})},Bs={id:oe.DataTransformerID.reduce,component:function(e){var t=e.options,n=e.onChange;e.input;return f.a.createElement(Ot,{width:25,placeholder:"Choose Stat",allowMultiple:!0,stats:t.reducers||[],onChange:function(e){n(Object(d.__assign)(Object(d.__assign)({},t),{reducers:e}))}})},transformer:oe.transformersRegistry.get(oe.DataTransformerID.reduce),name:"Reduce",description:"UI for reduce transformation"},Us=function(e){function t(t){var n=e.call(this,t)||this;return n.onFieldToggle=function(e){var t=n.state.selected;t.indexOf(e)>-1?n.onChange(t.filter(function(t){return t!==e})):n.onChange(Object(d.__spread)(t,[e]))},n.onChange=function(e){n.setState({selected:e}),n.props.onChange(Object(d.__assign)(Object(d.__assign)({},n.props.options),{include:e.join("|")}))},n.state={include:t.options.include||"",options:[],selected:[]},n}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.initOptions()},t.prototype.initOptions=function(){var e,t,n,a,r,i,o=this.props,s=o.input,l=o.options,c=l.include?l.include.split("|"):[],u=[],p={};try{for(var f=Object(d.__values)(s),h=f.next();!h.done;h=f.next()){var m=h.value;try{for(var g=(n=void 0,Object(d.__values)(m.fields)),b=g.next();!b.done;b=g.next()){var v=b.value;(_=p[v.name])||(_=p[v.name]={name:v.name,count:0},u.push(_)),_.count++}}catch(e){n={error:e}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(c.length){var y=[],w=[];try{for(var x=Object(d.__values)(u),O=x.next();!O.done;O=x.next()){var _=O.value;c.includes(_.name)&&w.push(_),y.push(_)}}catch(e){r={error:e}}finally{try{O&&!O.done&&(i=x.return)&&i.call(x)}finally{if(r)throw r.error}}this.setState({options:y,selected:w.map(function(e){return e.name})})}else this.setState({options:u,selected:[]})},t.prototype.render=function(){var e=this,t=this.state,n=t.options,a=t.selected;return f.a.createElement(f.a.Fragment,null,f.a.createElement(ar.a,{items:n,renderItem:function(t,r){var i=t.name+(t.count>1?" ("+t.count+")":"");return f.a.createElement("span",{className:Object(h.css)(Ns||(Ns=Object(d.__makeTemplateObject)(["\n                  margin-right: ",";\n                "],["\n                  margin-right: ",";\n                "])),r===n.length-1?"0":"10px")},f.a.createElement(qs,{onClick:function(){e.onFieldToggle(t.name)},label:i,selected:a.indexOf(t.name)>-1}))}}))},t}(f.a.PureComponent),qs=function(e){var t=e.label,n=e.selected,a=e.onClick,r=Object(p.useContext)(Pe.a);return f.a.createElement("div",{className:Object(h.css)(Ds||(Ds=Object(d.__makeTemplateObject)(["\n        padding: "," ",";\n        color: white;\n        background: ",";\n        border-radius: 16px;\n        display: inline-block;\n        cursor: pointer;\n      "],["\n        padding: "," ",";\n        color: white;\n        background: ",";\n        border-radius: 16px;\n        display: inline-block;\n        cursor: pointer;\n      "])),r.spacing.xxs,r.spacing.sm,n?r.colors.blueLight:r.colors.blueShade),onClick:a},n&&f.a.createElement("i",{className:Object(h.cx)("fa fa-check",Object(h.css)(Is||(Is=Object(d.__makeTemplateObject)(["\n              margin-right: 4px;\n            "],["\n              margin-right: 4px;\n            "]))))}),t)},zs={id:oe.DataTransformerID.filterFieldsByName,component:Us,transformer:oe.transformersRegistry.get(oe.DataTransformerID.filterFieldsByName),name:"Filter by name",description:"UI for filter by name transformation"},Hs=function(e){function t(t){var n=e.call(this,t)||this;return n.onFieldToggle=function(e){var t=n.state.selected;t.indexOf(e)>-1?n.onChange(t.filter(function(t){return t!==e})):n.onChange(Object(d.__spread)(t,[e]))},n.onChange=function(e){n.setState({selected:e}),n.props.onChange(Object(d.__assign)(Object(d.__assign)({},n.props.options),{include:e.join("|")}))},n.state={include:t.options.include||"",options:[],selected:[]},n}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.initOptions()},t.prototype.initOptions=function(){var e,t,n,a,r=this.props,i=r.input,o=r.options,s=o.include?o.include.split("|"):[],l=[],c={};try{for(var u=Object(d.__values)(i),p=u.next();!p.done;p=u.next()){var f=p.value;if(f.refId)(v=c[f.refId])||(v=c[f.refId]={refId:f.refId,count:0},l.push(v)),v.count++}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(s.length){var h=[],m=[];try{for(var g=Object(d.__values)(l),b=g.next();!b.done;b=g.next()){var v=b.value;s.includes(v.refId)&&m.push(v),h.push(v)}}catch(e){n={error:e}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}this.setState({options:h,selected:m.map(function(e){return e.refId})})}else this.setState({options:l,selected:[]})},t.prototype.render=function(){var e=this,t=this.state,n=t.options,a=t.selected;return f.a.createElement(f.a.Fragment,null,f.a.createElement(ar.a,{items:n,renderItem:function(t,r){var i=t.refId+(t.count>1?" ("+t.count+")":"");return f.a.createElement("span",{className:Object(h.css)(Ps||(Ps=Object(d.__makeTemplateObject)(["\n                  margin-right: ",";\n                "],["\n                  margin-right: ",";\n                "])),r===n.length-1?"0":"10px")},f.a.createElement(Gs,{onClick:function(){e.onFieldToggle(t.refId)},label:i,selected:a.indexOf(t.refId)>-1}))}}))},t}(f.a.PureComponent),Gs=function(e){var t=e.label,n=e.selected,a=e.onClick,r=Object(p.useContext)(Pe.a);return f.a.createElement("div",{className:Object(h.css)(Fs||(Fs=Object(d.__makeTemplateObject)(["\n        padding: "," ",";\n        color: white;\n        background: ",";\n        border-radius: 16px;\n        display: inline-block;\n        cursor: pointer;\n      "],["\n        padding: "," ",";\n        color: white;\n        background: ",";\n        border-radius: 16px;\n        display: inline-block;\n        cursor: pointer;\n      "])),r.spacing.xxs,r.spacing.sm,n?r.colors.blueLight:r.colors.blueShade),onClick:a},n&&f.a.createElement("i",{className:Object(h.cx)("fa fa-check",Object(h.css)(Ls||(Ls=Object(d.__makeTemplateObject)(["\n              margin-right: 4px;\n            "],["\n              margin-right: 4px;\n            "]))))}),t)},Ws={id:oe.DataTransformerID.filterByRefId,component:Hs,transformer:oe.transformersRegistry.get(oe.DataTransformerID.filterByRefId),name:"Filter by refId",description:"Filter results by refId"},Qs=new oe.Registry(function(){return[Bs,zs,Ws]});function Ys(e){return!!e&&"object"===typeof e}function Ks(e){if(void 0===e)return"";if(null===e)return"Object";if("object"==typeof e&&!e.constructor)return"Object";var t=/function ([^(]*)/.exec(e.constructor.toString());return t&&t.length>1?t[1]:""}function Js(e){return null===e?"null":typeof e}function Zs(e,t){var n=Js(e);return"null"===n||"undefined"===n?n:("string"===n&&(t='"'+t.replace('"','"')+'"'),"function"===n?e.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":t)}function Xs(e){return"json-formatter-"+e}function el(e,t,n){var a=document.createElement(e);return t&&a.classList.add(Xs(t)),void 0!==n&&(n instanceof Node?a.appendChild(n):a.appendChild(document.createTextNode(String(n)))),a}var tl,nl,al,rl,il,ol,sl,ll,cl=/(^\d{1,4}[\.|\\/|-]\d{1,2}[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/,ul=/\d{2}:\d{2}:\d{2} GMT-\d{4}/,dl=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,pl=window.requestAnimationFrame||function(e){return e(),0},fl={animateOpen:!0,animateClose:!0},hl=function(){function e(e,t,n,a){void 0===t&&(t=1),void 0===n&&(n=fl),this.json=e,this.open=t,this.config=n,this.key=a,this._isOpen=null,this.element=null,this.skipChildren=!1}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return null!==this._isOpen?this._isOpen:this.open>0},set:function(e){this._isOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDate",{get:function(){return"string"===this.type&&(cl.test(this.json)||dl.test(this.json)||ul.test(this.json))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUrl",{get:function(){return"string"===this.type&&0===this.json.indexOf("http")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isArray",{get:function(){return Array.isArray(this.json)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isObject",{get:function(){return Ys(this.json)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmptyObject",{get:function(){return!this.keys.length&&!this.isArray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.isEmptyObject||this.keys&&!this.keys.length&&this.isArray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasKey",{get:function(){return void 0!==this.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"constructorName",{get:function(){return Ks(this.json)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return Js(this.json)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this.isObject?Object.keys(this.json).map(function(e){return e||'""'}):[]},enumerable:!0,configurable:!0}),e.prototype.toggleOpen=function(){this.isOpen=!this.isOpen,this.element&&(this.isOpen?this.appendChildren(this.config.animateOpen):this.removeChildren(this.config.animateClose),this.element.classList.toggle(Xs("open")))},e.prototype.openAtDepth=function(e){void 0===e&&(e=1),e<0||(this.open=e,this.isOpen=0!==e,this.element&&(this.removeChildren(!1),0===e?this.element.classList.remove(Xs("open")):(this.appendChildren(this.config.animateOpen),this.element.classList.add(Xs("open")))))},e.prototype.isNumberArray=function(){return this.json.length>0&&this.json.length<4&&(Ut.a.isNumber(this.json[0])||Ut.a.isNumber(this.json[1]))},e.prototype.renderArray=function(){var e=el("span");return e.appendChild(el("span","bracket","[")),this.isNumberArray()?(this.json.forEach(function(t,n){n>0&&e.appendChild(el("span","array-comma",",")),e.appendChild(el("span","number",t))}),this.skipChildren=!0):e.appendChild(el("span","number",this.json.length)),e.appendChild(el("span","bracket","]")),e},e.prototype.render=function(e){void 0===e&&(e=!1),this.element=el("div","row");var t=el("a","toggler-link"),n=el("span","toggler");if(this.isObject&&t.appendChild(n),this.hasKey&&t.appendChild(el("span","key",this.key+":")),this.isObject){var a=el("span","value"),r=el("span"),i=el("span","constructor-name",this.constructorName);if(r.appendChild(i),this.isArray){var o=this.renderArray();r.appendChild(o)}a.appendChild(r),t.appendChild(a)}else{(a=this.isUrl?el("a"):el("span")).classList.add(Xs(this.type)),this.isDate&&a.classList.add(Xs("date")),this.isUrl&&(a.classList.add(Xs("url")),a.setAttribute("href",this.json));var s=Zs(this.json,this.json);a.appendChild(document.createTextNode(s)),t.appendChild(a)}var l=el("div","children");return this.isObject&&l.classList.add(Xs("object")),this.isArray&&l.classList.add(Xs("array")),this.isEmpty&&l.classList.add(Xs("empty")),this.config&&this.config.theme&&this.element.classList.add(Xs(this.config.theme)),this.isOpen&&this.element.classList.add(Xs("open")),e||this.element.appendChild(t),this.skipChildren?t.removeChild(n):this.element.appendChild(l),this.isObject&&this.isOpen&&this.appendChildren(),this.isObject&&t.addEventListener("click",this.toggleOpen.bind(this)),this.element},e.prototype.appendChildren=function(t){var n=this;void 0===t&&(t=!1);var a=this.element&&this.element.querySelector("div."+Xs("children"));if(a&&!this.isEmpty)if(t){var r=0,i=function(){var t=n.keys[r],o=new e(n.json[t],n.open-1,n.config,t);a.appendChild(o.render()),(r+=1)<n.keys.length&&(r>10?i():pl(i))};pl(i)}else this.keys.forEach(function(t){var r=new e(n.json[t],n.open-1,n.config,t);a.appendChild(r.render())})},e.prototype.removeChildren=function(e){void 0===e&&(e=!1);var t=this.element&&this.element.querySelector("div."+Xs("children"));if(e){var n=0,a=function(){t&&t.children.length&&(t.removeChild(t.children[0]),(n+=1)>10?a():pl(a))};pl(a)}else t&&(t.innerHTML="")},e}(),ml=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=Object(p.createRef)(),t.renderJson=function(){var e=t.props,n=e.json,a=e.config,r=e.open,i=e.onDidRender,o=t.wrapperRef.current,s=new hl(n,r,a);o.hasChildNodes()?o.replaceChild(s.render(),o.lastChild):o.appendChild(s.render()),i&&i(s.json)},t}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){this.renderJson()},t.prototype.componentDidUpdate=function(){this.renderJson()},t.prototype.render=function(){var e=this.props.className;return f.a.createElement("div",{className:e,ref:this.wrapperRef})},t.defaultProps={open:3,config:{animateOpen:!0}},t}(p.PureComponent),gl=function(e){var t=e.onRemove,n=e.editor,a=e.name,r=e.input,i=Object(p.useContext)(Pe.a),o=Object(d.__read)(Object(p.useState)(!1),2),s=o[0],l=o[1],c=function(e){return{title:Object(h.css)(tl||(tl=Object(d.__makeTemplateObject)(["\n    display: flex;\n    padding: 4px 8px 4px 8px;\n    position: relative;\n    height: 35px;\n    background: ",";\n    border-radius: 4px 4px 0 0;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n  "],["\n    display: flex;\n    padding: 4px 8px 4px 8px;\n    position: relative;\n    height: 35px;\n    background: ",";\n    border-radius: 4px 4px 0 0;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n  "])),e.colors.textFaint),name:Object(h.css)(nl||(nl=Object(d.__makeTemplateObject)(["\n    font-weight: ",";\n    color: ",";\n  "],["\n    font-weight: ",";\n    color: ",";\n  "])),e.typography.weight.semibold,e.colors.blue),iconRow:Object(h.css)(al||(al=Object(d.__makeTemplateObject)(["\n    display: flex;\n  "],["\n    display: flex;\n  "]))),icon:Object(h.css)(rl||(rl=Object(d.__makeTemplateObject)(["\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    cursor: pointer;\n    color: ",";\n    margin-left: ",";\n    &:hover {\n      color: ",";\n    }\n  "],["\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    cursor: pointer;\n    color: ",";\n    margin-left: ",";\n    &:hover {\n      color: ",";\n    }\n  "])),e.colors.textWeak,e.spacing.sm,e.colors.text),editor:Object(h.css)(il||(il=Object(d.__makeTemplateObject)(["\n    border: 2px dashed ",";\n    border-top: none;\n    border-radius: 0 0 4px 4px;\n    padding: 8px;\n  "],["\n    border: 2px dashed ",";\n    border-top: none;\n    border-radius: 0 0 4px 4px;\n    padding: 8px;\n  "])),e.colors.textFaint)}}(i);return f.a.createElement("div",{className:Object(h.css)(ol||(ol=Object(d.__makeTemplateObject)(["\n        margin-bottom: 10px;\n      "],["\n        margin-bottom: 10px;\n      "])))},f.a.createElement("div",{className:c.title},f.a.createElement("div",{className:c.name},a),f.a.createElement("div",{className:c.iconRow},f.a.createElement("div",{onClick:function(){return l(!s)},className:c.icon},f.a.createElement("i",{className:"fa fa-fw fa-bug"})),f.a.createElement("div",{onClick:t,className:c.icon},f.a.createElement("i",{className:"fa fa-fw fa-trash"})))),f.a.createElement("div",{className:c.editor},n,s&&f.a.createElement("div",null,f.a.createElement(ml,{json:r}))))},bl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={updateCounter:0},t.onTransformationAdd=function(){var e=t.props,n=e.transformations;(0,e.onChange)(Object(d.__spread)(n,[{id:oe.DataTransformerID.noop,options:{}}])),t.setState({updateCounter:t.state.updateCounter+1})},t.onTransformationChange=function(e,n){var a=t.props,r=a.transformations,i=a.onChange;r[e]=n,i(r),t.setState({updateCounter:t.state.updateCounter+1})},t.onTransformationRemove=function(e){var n=t.props,a=n.transformations,r=n.onChange;a.splice(e,1),r(a),t.setState({updateCounter:t.state.updateCounter+1})},t.renderTransformationEditors=function(){var e=t.props,n=e.transformations,a=e.dataFrames,r=n.length>0,i=a;if(r){var o=Qs.list().map(function(e){return{value:e.transformer.id,label:e.transformer.name}});return f.a.createElement(f.a.Fragment,null,n.map(function(e,a){var r,s;if(e.id===oe.DataTransformerID.noop)return f.a.createElement(B,{className:Object(h.css)(sl||(sl=Object(d.__makeTemplateObject)(["\n                  margin-bottom: 10px;\n                "],["\n                  margin-bottom: 10px;\n                "]))),key:e.id+"-"+a,options:o,placeholder:"Select transformation",onChange:function(e){t.onTransformationChange(a,{id:e.value,options:{}})}});var l=Qs.getIfExists(e.id);return s=Object(oe.transformDataFrame)(n.slice(0,a),i),l&&(r=f.a.createElement(l.component,{options:Object(d.__assign)(Object(d.__assign)({},l.transformer.defaultOptions),e.options),input:s,onChange:function(n){t.onTransformationChange(a,{id:e.id,options:n})}})),f.a.createElement(gl,{key:e.id+"-"+a,input:s||[],onRemove:function(){return t.onTransformationRemove(a)},editor:r,name:l?l.name:"",description:l?l.description:""})}))}},t}return Object(d.__extends)(t,e),t.prototype.render=function(){return f.a.createElement(f.a.Fragment,null,this.renderTransformationEditors(),f.a.createElement(g.a,{variant:"inverse",icon:"fa fa-plus",onClick:this.onTransformationAdd},"Add transformation"))},t}(f.a.PureComponent),vl=Object(m.g)(function(){return Object(h.css)(ll||(ll=Object(d.__makeTemplateObject)(["\n    width: 500px;\n    margin: 64px auto;\n  "],["\n    width: 500px;\n    margin: 64px auto;\n  "])))}),yl=function(e){var t=e.error,n=e.errorInfo,a=e.title;return f.a.createElement("div",{className:vl()},f.a.createElement("h2",null,a),f.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},t&&t.toString(),f.a.createElement("br",null),n&&n.componentStack))};yl.displayName="ErrorWithStack";var wl,xl,Ol,_l,kl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null,errorInfo:null},t}return Object(d.__extends)(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props.children,t=this.state;return e({error:t.error,errorInfo:t.errorInfo})},t}(p.PureComponent),jl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.children,a=e.style;return f.a.createElement(kl,null,function(e){var r=e.error,i=e.errorInfo;return i?"alertbox"===a?f.a.createElement(Hr,{title:t||""},f.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},r&&r.toString(),f.a.createElement("br",null),i.componentStack)):f.a.createElement(yl,{title:t||"",error:r,errorInfo:i}):n})},t.defaultProps={title:"An unexpected error happened",style:"alertbox"},t}(p.PureComponent),Cl=function(e){var t=e.state,n=e.text,a=e.className,r=n||"This feature is a work in progress and updates may include breaking changes",i=Object(p.useContext)(Gt.ThemeContext),o=Object(h.cx)(a,Object(h.css)(wl||(wl=Object(d.__makeTemplateObject)(["\n      background: linear-gradient(to bottom, ",", ",");\n      color: ",";\n      white-space: nowrap;\n      border-radius: 3px;\n      text-shadow: none;\n      font-size: 13px;\n      padding: 4px 8px;\n      cursor: help;\n      display: inline-block;\n    "],["\n      background: linear-gradient(to bottom, ",", ",");\n      color: ",";\n      white-space: nowrap;\n      border-radius: 3px;\n      text-shadow: none;\n      font-size: 13px;\n      padding: 4px 8px;\n      cursor: help;\n      display: inline-block;\n    "])),i.colors.blueBase,i.colors.blueShade,i.colors.gray7));return f.a.createElement("div",{className:o,title:r},f.a.createElement("i",{className:"fa fa-warning"})," ",t)},Sl=function(e){var t=e.dataSourceConfig,n=e.onChange,a=t.secureJsonData?t.secureJsonData.basicAuthPassword:"";return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"gf-form"},f.a.createElement(ee,{label:"User",labelWidth:10,inputWidth:18,placeholder:"user",value:t.basicAuthUser,onChange:function(e){return n(Object(d.__assign)(Object(d.__assign)({},t),{basicAuthUser:e.currentTarget.value}))}})),f.a.createElement("div",{className:"gf-form"},f.a.createElement(ae,{isConfigured:!!t.basicAuthPassword||!(!t.secureJsonFields||!t.secureJsonFields.basicAuthPassword),value:a||"",inputWidth:18,labelWidth:10,onReset:function(){n(Object(d.__assign)(Object(d.__assign)({},t),{basicAuthPassword:"",secureJsonData:Object(d.__assign)(Object(d.__assign)({},t.secureJsonData),{basicAuthPassword:""}),secureJsonFields:Object(d.__assign)(Object(d.__assign)({},t.secureJsonFields),{basicAuthPassword:!1})}))},onChange:function(e){n(Object(d.__assign)(Object(d.__assign)({},t),{secureJsonData:Object(d.__assign)(Object(d.__assign)({},t.secureJsonData),{basicAuthPassword:e.currentTarget.value})}))}})))},El=function(e){var t=e.dataSourceConfig,n=e.onChange;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement(Ie,{label:"TLS Client Auth",labelClass:"width-13",checked:t.jsonData.tlsAuth||!1,onChange:function(e){return n(Object(d.__assign)(Object(d.__assign)({},t.jsonData),{tlsAuth:e.currentTarget.checked}))}}),f.a.createElement(Ie,{label:"With CA Cert",labelClass:"width-13",checked:t.jsonData.tlsAuthWithCACert||!1,onChange:function(e){return n(Object(d.__assign)(Object(d.__assign)({},t.jsonData),{tlsAuthWithCACert:e.currentTarget.checked}))},tooltip:"Needed for verifying self-signed TLS Certs"})),f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement(Ie,{label:"Skip TLS Verify",labelClass:"width-13",checked:t.jsonData.tlsSkipVerify||!1,onChange:function(e){return n(Object(d.__assign)(Object(d.__assign)({},t.jsonData),{tlsSkipVerify:e.currentTarget.checked}))}})),f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement(Ie,{label:"Forward OAuth Identity",labelClass:"width-13",checked:t.jsonData.oauthPassThru||!1,onChange:function(e){return n(Object(d.__assign)(Object(d.__assign)({},t.jsonData),{oauthPassThru:e.currentTarget.checked}))},tooltip:"Forward the user's upstream OAuth identity to the data source (Their access token gets passed along)."})))},Tl=function(e){var t=e.hasCert,n=e.label,a=e.onChange,r=e.onClick,i=e.placeholder;return f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement("div",{className:"gf-form gf-form--v-stretch"},f.a.createElement("label",{className:"gf-form-label width-7"},n)),!t&&f.a.createElement("div",{className:"gf-form gf-form--grow"},f.a.createElement("textarea",{rows:7,className:"gf-form-input gf-form-textarea",onChange:a,placeholder:i,required:!0})),t&&f.a.createElement("div",{className:"gf-form"},f.a.createElement("input",{type:"text",className:"gf-form-input max-width-12",disabled:!0,value:"configured"}),f.a.createElement("a",{className:"btn btn-secondary gf-form-btn",onClick:r},"reset")))},Ml=function(e){var t=e.dataSourceConfig,n=e.onChange,a=t.secureJsonFields&&t.secureJsonFields.tlsCACert,r=t.secureJsonFields&&t.secureJsonFields.tlsClientCert,i=t.secureJsonFields&&t.secureJsonFields.tlsClientKey,o=function(e){return function(a){a.preventDefault();var r=Object(d.__assign)({},t.secureJsonFields);r[e]=!1,n(Object(d.__assign)(Object(d.__assign)({},t),{secureJsonFields:r}))}},s=function(e){return function(a){var r=Object(d.__assign)({},t.secureJsonData);r[e]=a.currentTarget.value,n(Object(d.__assign)(Object(d.__assign)({},t),{secureJsonData:r}))}};return f.a.createElement("div",{className:"gf-form-group"},f.a.createElement("div",{className:Object(h.cx)("gf-form",Object(h.css)(xl||(xl=Object(d.__makeTemplateObject)(["\n            align-items: baseline;\n          "],["\n            align-items: baseline;\n          "]))))},f.a.createElement("h6",null,"TLS Auth Details"),f.a.createElement(O.b,{placement:"right-end",content:"TLS Certs are encrypted and stored in the Grafana database.",theme:"info"},f.a.createElement("div",{className:"gf-form-help-icon gf-form-help-icon--right-normal"},f.a.createElement("i",{className:"fa fa-info-circle"})))),f.a.createElement("div",null,t.jsonData.tlsAuthWithCACert&&f.a.createElement(Tl,{hasCert:!!a,onChange:s("tlsCACert"),placeholder:"Begins with -----BEGIN CERTIFICATE-----",label:"CA Cert",onClick:o("tlsCACert")}),t.jsonData.tlsAuth&&f.a.createElement(f.a.Fragment,null,f.a.createElement(Tl,{hasCert:!!r,label:"Client Cert",onChange:s("tlsClientCert"),placeholder:"Begins with -----BEGIN CERTIFICATE-----",onClick:o("tlsClientCert")}),f.a.createElement(Tl,{hasCert:!!i,label:"Client Key",placeholder:"Begins with -----BEGIN RSA PRIVATE KEY-----",onChange:s("tlsClientKey"),onClick:o("tlsClientKey")}))))},Al=[{label:"Server (default)",value:"proxy"},{label:"Browser",value:"direct"}],Nl={label:"Server (default)",value:"proxy"},Dl=function(){return f.a.createElement("div",{className:"grafana-info-box m-t-2"},f.a.createElement("p",null,"Access mode controls how requests to the data source will be handled.",f.a.createElement("strong",null,f.a.createElement("i",null,"Server"))," ","should be the preferred way if nothing else stated."),f.a.createElement("div",{className:"alert-title"},"Server access mode (Default):"),f.a.createElement("p",null,"All requests will be made from the browser to Grafana backend/server which in turn will forward the requests to the data source and by that circumvent possible Cross-Origin Resource Sharing (CORS) requirements. The URL needs to be accessible from the grafana backend/server if you select this access mode."),f.a.createElement("div",{className:"alert-title"},"Browser access mode:"),f.a.createElement("p",null,"All requests will be made from the browser directly to the data source and may be subject to Cross-Origin Resource Sharing (CORS) requirements. The URL needs to be accessible from the browser if you select this access mode."))},Il=function(e){var t,n,a=e.defaultUrl,r=e.dataSourceConfig,i=e.onChange,o=e.showAccessOptions,s=Object(d.__read)(Object(p.useState)(!1),2),l=s[0],c=s[1],u=Object(m.h)(),g=Object(p.useCallback)(function(e){i(Object(d.__assign)(Object(d.__assign)({},r),e))},[r]);switch(r.access){case"direct":n=f.a.createElement(f.a.Fragment,null,"Your access method is ",f.a.createElement("em",null,"Browser"),", this means the URL needs to be accessible from the browser.");break;case"proxy":n=f.a.createElement(f.a.Fragment,null,"Your access method is ",f.a.createElement("em",null,"Server"),", this means the URL needs to be accessible from the grafana backend/server.");break;default:n="Specify a complete HTTP URL (for example http://your_server:8080)"}var b=f.a.createElement(B,{width:20,options:Al,value:Al.filter(function(e){return e.value===r.access})[0]||Nl,onChange:function(e){return g({access:e.value})}}),v=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/.test(r.url),y=Object(h.css)(Ol||(Ol=Object(d.__makeTemplateObject)(["\n    box-shadow: inset 0 0px 5px ",";\n  "],["\n    box-shadow: inset 0 0px 5px ",";\n  "])),u.colors.red),w=Object(h.cx)(((t={})["width-20"]=!0,t[y]=!v,t)),x=f.a.createElement(ke,{className:w,placeholder:a,value:r.url,onChange:function(e){return g({url:e.currentTarget.value})}});return f.a.createElement("div",{className:"gf-form-group"},f.a.createElement(f.a.Fragment,null,f.a.createElement("h3",{className:"page-heading"},"HTTP"),f.a.createElement("div",{className:"gf-form-group"},f.a.createElement("div",{className:"gf-form"},f.a.createElement(ee,{label:"URL",labelWidth:11,tooltip:n,inputEl:x})),o&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement("div",{className:"gf-form"},f.a.createElement(ee,{label:"Access",labelWidth:11,inputWidth:20,inputEl:b})),f.a.createElement("div",{className:"gf-form"},f.a.createElement("label",{className:"gf-form-label query-keyword pointer",onClick:function(){return c(function(e){return!e})}},"Help ",f.a.createElement("i",{className:"fa fa-caret-"+(l?"down":"right")})))),l&&f.a.createElement(Dl,null)),"proxy"===r.access&&f.a.createElement("div",{className:"gf-form"},f.a.createElement(X,{width:11,tooltip:"Grafana Proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source."},"Whitelisted Cookies"),f.a.createElement(Pt,{tags:r.jsonData.keepCookies,onChange:function(e){return g({jsonData:Object(d.__assign)(Object(d.__assign)({},r.jsonData),{keepCookies:e})})},width:20})))),f.a.createElement(f.a.Fragment,null,f.a.createElement("h3",{className:"page-heading"},"Auth"),f.a.createElement("div",{className:"gf-form-group"},f.a.createElement("div",{className:"gf-form-inline"},f.a.createElement(Ie,{label:"Basic auth",labelClass:"width-13",checked:r.basicAuth,onChange:function(e){g({basicAuth:e.currentTarget.checked})}}),f.a.createElement(Ie,{label:"With Credentials",labelClass:"width-13",checked:r.withCredentials,onChange:function(e){g({withCredentials:e.currentTarget.checked})},tooltip:"Whether credentials such as cookies or auth headers should be sent with cross-site requests."})),"proxy"===r.access&&f.a.createElement(El,{dataSourceConfig:r,onChange:function(e){return g({jsonData:e})}})),r.basicAuth&&f.a.createElement(f.a.Fragment,null,f.a.createElement("h6",null,"Basic Auth Details"),f.a.createElement("div",{className:"gf-form-group"},f.a.createElement(Sl,Object(d.__assign)({},e)))),(r.jsonData.tlsAuth||r.jsonData.tlsAuthWithCACert)&&f.a.createElement(Ml,{dataSourceConfig:r,onChange:i})))},Pl=n("AWKi"),Fl=n("VtFO"),Ll=n("Al41");function Rl(e){var t=e.options,n=e.value,a=e.onChange,r=e.Component,i=e.className,o=e.allowCustomValue,s=e.placeholder,l=Object(d.__read)(Ql(!1),4),c=l[0],u=l[1],p=l[2],m=l[3];if(!p){var g=Ut.a.isObject(n)?n.label:n;return f.a.createElement(c,{Component:r||f.a.createElement("a",{className:Object(h.cx)("gf-form-label","query-part",!n&&s&&"query-placeholder",i)},g||s)})}return f.a.createElement(Vl,{value:n&&!Ut.a.isObject(n)?{value:n}:n,options:t,width:u,onClickOutside:function(){return m(!1)},allowCustomValue:o,onChange:function(e){m(!1),a(e)}})}function Vl(e){var t=e.value,n=e.options,a=void 0===n?[]:n,r=e.onChange,i=e.onClickOutside,o=e.width,s=e.noOptionsMessage,l=void 0===s?"":s,c=e.allowCustomValue,u=void 0!==c&&c,m=Object(p.useRef)(null);return qa()(m,function(){i()}),f.a.createElement("div",{ref:m},f.a.createElement(B,{className:Object(h.cx)(Object(h.css)(_l||(_l=Object(d.__makeTemplateObject)(["\n            width: ","px;\n          "],["\n            width: ","px;\n          "])),o>120?o:120)),noOptionsMessage:function(){return l},placeholder:"",autoFocus:!0,isOpen:!0,onChange:r,options:a,value:t,allowCustomValue:u}))}function $l(e){var t=this,n=e.value,a=e.onChange,r=e.loadOptions,i=e.Component,o=e.className,s=e.allowCustomValue,l=e.placeholder,c=Object(d.__read)(Object(p.useState)(""),2),u=c[0],m=c[1],g=Object(d.__read)(Object(p.useState)([]),2),b=g[0],v=g[1],y=Object(d.__read)(Ql(!1),4),w=y[0],x=y[1],O=y[2],_=y[3];if(!O){var k=Ut.a.isObject(n)?n.label:n;return f.a.createElement(w,{onClick:function(){return Object(d.__awaiter)(t,void 0,void 0,function(){var e;return Object(d.__generator)(this,function(t){switch(t.label){case 0:return m("Loading options..."),[4,r()];case 1:return e=t.sent(),v(e),m(e.length?"":"No options found"),[2]}})})},Component:i||f.a.createElement("a",{className:Object(h.cx)("gf-form-label","query-part",!n&&l&&"query-placeholder",o)},k||l)})}return f.a.createElement(Vl,{value:n&&!Ut.a.isObject(n)?{value:n}:n,options:b,width:x,noOptionsMessage:u,allowCustomValue:s,onClickOutside:function(){m(""),v([]),_(!1)},onChange:function(e){m(""),v([]),_(!1),a(e)}})}var Bl,Ul=14;function ql(e){var t=e.value,n=e.onChange,a=e.Component,r=e.className,i=e.placeholder,o=e.autofocus,s=void 0!==o&&o,l=Object(p.useRef)(null),c=Object(d.__read)(Object(p.useState)(t),2),u=c[0],m=c[1],g=Object(d.__read)(Object(p.useState)(Object(ln.b)((t||"").toString(),Ul).width),2),b=g[0],v=g[1],y=Object(d.__read)(Ql(s),4),w=y[0],x=y[2],O=y[3];if(qa()(l,function(){O(!1),n(u)}),!x)return f.a.createElement(w,{Component:a||f.a.createElement("a",{className:Object(h.cx)("gf-form-label","query-part",!u&&i&&"query-placeholder",r)},t||i)});var _=Object(h.css)(Bl||(Bl=Object(d.__makeTemplateObject)(["\n    width: ","px;\n  "],["\n    width: ","px;\n  "])),Math.max(b+20,32));return f.a.createElement("input",{ref:l,autoFocus:!0,className:Object(h.cx)("gf-form gf-form-input",_),value:u,onChange:function(e){var t=Object(ln.b)(e.target.value,Ul).width;v(t),m(e.target.value)},onBlur:function(){O(!1),n(u)},onKeyDown:function(e){[13,27].includes(e.keyCode)&&(O(!1),n(u))}})}n("THR+");var zl,Hl,Gl,Wl,Ql=function(e){var t=Object(p.useRef)(null),n=Object(d.__read)(Object(p.useState)(e),2),a=n[0],r=n[1],i=Object(d.__read)(Object(p.useState)(),2),o=i[0],s=i[1];return[function(e){var n=e.Component,a=e.onClick;return f.a.createElement("div",{className:"gf-form",ref:t,onClick:function(){r(!0),t&&t.current&&s(t.current.clientWidth),a&&a()}},n)},o,a,r]},Yl={Tooltip:ya},Kl=n("fcSX"),Jl=Object(m.g)(function(e){var t=Object(m.e)({light:e.colors.gray4,dark:e.colors.dark9},e.type);return{drawer:Object(h.css)(zl||(zl=Object(d.__makeTemplateObject)(["\n      .drawer-content {\n        background-color: ",";\n      }\n    "],["\n      .drawer-content {\n        background-color: ",";\n      }\n    "])),e.colors.bodyBg),titleWrapper:Object(h.css)(Hl||(Hl=Object(d.__makeTemplateObject)(["\n      font-size: ",";\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      border-bottom: 1px solid ",";\n      padding: "," 0 "," ",";\n      background-color: ",";\n      position: sticky;\n      top: 0;\n    "],["\n      font-size: ",";\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      border-bottom: 1px solid ",";\n      padding: "," 0 "," ",";\n      background-color: ",";\n      position: sticky;\n      top: 0;\n    "])),e.typography.size.lg,t,e.spacing.sm,e.spacing.sm,e.spacing.md,e.colors.bodyBg),close:Object(h.css)(Gl||(Gl=Object(d.__makeTemplateObject)(["\n      cursor: pointer;\n      width: ",";\n      height: 100%;\n      display: flex;\n      flex-shrink: 0;\n      justify-content: center;\n    "],["\n      cursor: pointer;\n      width: ",";\n      height: 100%;\n      display: flex;\n      flex-shrink: 0;\n      justify-content: center;\n    "])),"50px"),content:Object(h.css)(Wl||(Wl=Object(d.__makeTemplateObject)(["\n      padding: ",";\n      height: 100%;\n    "],["\n      padding: ",";\n      height: 100%;\n    "])),e.spacing.md)}}),Zl=function(e){var t=e.children,n=e.inline,a=void 0!==n&&n,r=e.onClose,i=e.closeOnMaskClick,o=void 0!==i&&i,s=e.title,l=e.width,c=void 0===l?"40%":l,u=Object(m.h)(),d=Jl(u);return f.a.createElement(Kl.a,{level:null,handler:!1,open:!0,onClose:r,maskClosable:o,placement:"right",width:c,getContainer:!a&&"body",style:{position:""+(a&&"absolute")},className:d.drawer},f.a.createElement("div",{className:d.titleWrapper},f.a.createElement("div",null,s),f.a.createElement("div",{className:d.close,onClick:r},f.a.createElement("i",{className:"fa fa-close"}))),f.a.createElement("div",{className:d.content},t))};n.d(t,"v",function(){return w}),n.d(t,"G",function(){return x}),n.d(t,"gc",function(){return O.b}),n.d(t,"Ab",function(){return O.PopoverContent}),n.d(t,"Bb",function(){return _.a}),n.d(t,"zb",function(){return k.a}),n.d(t,"Cb",function(){return j.a}),n.d(t,"B",function(){return C.a}),n.d(t,"l",function(){return g.a}),n.d(t,"ob",function(){return g.b}),n.d(t,"Kb",function(){return B}),n.d(t,"d",function(){return U}),n.d(t,"bb",function(){return P}),n.d(t,"ub",function(){return L}),n.d(t,"qc",function(){return V.a}),n.d(t,"n",function(){return H}),n.d(t,"m",function(){return Q}),n.d(t,"p",function(){return Z}),n.d(t,"q",function(){}),n.d(t,"Q",function(){return X}),n.d(t,"P",function(){return ee}),n.d(t,"Fb",function(){return ae}),n.d(t,"qb",function(){return ie}),n.d(t,"u",function(){return $e}),n.d(t,"Lb",function(){return Be}),n.d(t,"Mb",function(){return Fe}),n.d(t,"Nb",function(){return Le}),n.d(t,"wb",function(){return Ue}),n.d(t,"vb",function(){return qe}),n.d(t,"kc",function(){return Ge}),n.d(t,"Ub",function(){return Ie}),n.d(t,"I",function(){return We}),n.d(t,"xb",function(){return Je}),n.d(t,"yb",function(){return _e}),n.d(t,"jc",function(){return bt}),n.d(t,"Tb",function(){return Ot}),n.d(t,"cb",function(){return ke}),n.d(t,"db",function(){return pe}),n.d(t,"Eb",function(){return St}),n.d(t,"dc",function(){return Et.a}),n.d(t,"cc",function(){return Mt}),n.d(t,"pb",function(){return At.a}),n.d(t,"ac",function(){return Pt}),n.d(t,"tb",function(){return Rt}),n.d(t,"w",function(){return $t}),n.d(t,"Db",function(){return Wt}),n.d(t,"Pb",function(){return en}),n.d(t,"Xb",function(){return Fn}),n.d(t,"Yb",function(){return Hn}),n.d(t,"Zb",function(){return Wn}),n.d(t,"Vb",function(){return Yn}),n.d(t,"Wb",function(){return Jn}),n.d(t,"g",function(){return oa}),n.d(t,"h",function(){return Un}),n.d(t,"k",function(){}),n.d(t,"i",function(){return qn}),n.d(t,"j",function(){return zn}),n.d(t,"S",function(){return ca}),n.d(t,"T",function(){return Za}),n.d(t,"V",function(){return Cr}),n.d(t,"Z",function(){return Ar}),n.d(t,"U",function(){return Ja}),n.d(t,"e",function(){return bn}),n.d(t,"f",function(){return sn}),n.d(t,"Y",function(){return Nr.GraphTooltipOptions}),n.d(t,"nc",function(){return Dr}),n.d(t,"kb",function(){return tr.LegendOptions}),n.d(t,"gb",function(){return tr.LegendBasicOptions}),n.d(t,"mb",function(){return tr.LegendRenderOptions}),n.d(t,"jb",function(){return tr.d}),n.d(t,"nb",function(){return tr.h}),n.d(t,"ib",function(){return tr.LegendItem}),n.d(t,"lb",function(){return tr.LegendPlacement}),n.d(t,"hb",function(){return tr.b}),n.d(t,"a",function(){return Hr}),n.d(t,"b",function(){}),n.d(t,"W",function(){return Qr}),n.d(t,"X",function(){}),n.d(t,"t",function(){return Kr}),n.d(t,"rb",function(){return ni}),n.d(t,"sb",function(){return Io}),n.d(t,"pc",function(){return Ti}),n.d(t,"fc",function(){return Po}),n.d(t,"ec",function(){return Fo}),n.d(t,"bc",function(){return Vo}),n.d(t,"s",function(){return ho.a}),n.d(t,"N",function(){return Bo}),n.d(t,"O",function(){return Uo}),n.d(t,"Qb",function(){}),n.d(t,"sc",function(){return Go}),n.d(t,"rc",function(){return Wo}),n.d(t,"oc",function(){return Yo}),n.d(t,"o",function(){return ts}),n.d(t,"x",function(){return Ha}),n.d(t,"z",function(){}),n.d(t,"y",function(){}),n.d(t,"A",function(){}),n.d(t,"mc",function(){}),n.d(t,"lc",function(){return Xo}),n.d(t,"E",function(){return Ms}),n.d(t,"C",function(){return _s}),n.d(t,"D",function(){return $s}),n.d(t,"Ob",function(){return wa}),n.d(t,"tc",function(){return Qs}),n.d(t,"hc",function(){return gl}),n.d(t,"ic",function(){return bl}),n.d(t,"eb",function(){return ml}),n.d(t,"fb",function(){return hl}),n.d(t,"J",function(){return kl}),n.d(t,"K",function(){return jl}),n.d(t,"L",function(){return yl}),n.d(t,"c",function(){return Cl}),n.d(t,"F",function(){return Il}),n.d(t,"Sb",function(){return Pl.a}),n.d(t,"M",function(){return Fl.a}),n.d(t,"Rb",function(){return Ll.a}),n.d(t,"Gb",function(){return Rl}),n.d(t,"Hb",function(){return $l}),n.d(t,"Ib",function(){return ql}),n.d(t,"Jb",function(){return Vl}),n.d(t,"r",function(){return Yl}),n.d(t,"ab",function(){return G.a}),n.d(t,"H",function(){return Zl}),n.d(t,"R",function(){return b.a})},aWP2:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"getPreviousCousin",function(){return V}),n.d(a,"getNextCharacter",function(){return $});var r=n("mrSG"),i=n("3WF5"),o=n.n(i),s=n("xweI"),l=n.n(s),c=n("mRsi"),u=n.n(c),d=n("kcif"),p=n.n(d),f=n("xrec"),h=n.n(f),m=n("Zss7"),g=n.n(m),b=4,v=["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"];function y(e){return g()(e).toHsl()}function w(e){return g()(e).toHexString()}var x,O,_,k,j,C,S,E=(x=v,O=o()(x,y),_=l()(O,["h"]),k=p()(_,b),j=o()(k,function(e){return l()(e,"l")}),C=u()(h.a.apply(void 0,Object(r.__spread)(j))),o()(C,w));!function(e){e.onBlur="onBlur",e.onFocus="onFocus",e.onChange="onChange"}(S||(S={}));var T=function(e,t){var n=t.reduce(function(t,n){return n.rule(e)?t:t.concat(n.errorMessage)},[]);return n.length>0?n:null},M=function(e,t){return t&&t[e]},A=function(e,t){return{rule:function(t){return!!t.match(e)},errorMessage:t||"Value is not valid"}},N=n("zp0N"),D=n("nfvv"),I=["#E24D42","#1F78C1","#BA43A9","#705DA0","#466803","#508642","#447EBC","#C15C17","#890F02","#757575","#0A437C","#6D1F62","#584477","#629E51","#2F4F4F","#BF1B00","#806EB7","#8a2eb8","#699e00","#000000","#3F6833","#2F575E","#99440A","#E0752D","#0E4AB4","#58140C","#052B51","#511749","#3F2B5B"],P=["#FF7368","#459EE7","#E069CF","#9683C6","#6C8E29","#76AC68","#6AA4E2","#E7823D","#AF3528","#9B9B9B","#3069A2","#934588","#7E6A9D","#88C477","#557575","#E54126","#A694DD","#B054DE","#8FC426","#262626","#658E59","#557D84","#BF6A30","#FF9B53","#3470DA","#7E3A32","#2B5177","#773D6F","#655181"];function F(e){var t=function(e){for(var t=5381,n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n);return t}(e.toLowerCase());return{color:I[Math.abs(t%I.length)],borderColor:P[Math.abs(t%P.length)]}}var L=n("AZV9"),R=n("Kcoi");function V(e,t){for(var n,a=e.parentElement.previousSibling;a;){if(n=a.querySelector(t))return n;a=a.previousSibling}}function $(e){void 0===e&&(e=window);var t=e.getSelection();if(!t||!t.anchorNode)return null;var n=t.getRangeAt(0),a=t.anchorNode.textContent,r=n.startOffset;return a.substr(r,1)}"Element"in window&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),a=this;do{for(t=n.length;--t>=0&&n.item(t)!==a;);a=a.parentElement}while(t<0&&a);return a}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return 14}),n.d(t,"b",function(){return"rgba(0, 211, 255, 1)"}),n.d(t,"g",function(){return"rgba(11, 237, 50, 1)"}),n.d(t,"a",function(){return"rgba(237, 46, 24, 1)"}),n.d(t,"f",function(){return"rgba(150, 150, 150, 1)"}),n.d(t,"j",function(){return"rgba(247, 149, 32, 1)"}),n.d(t,"k",function(){return.09}),n.d(t,"o",function(){return v}),n.d(t,"w",function(){return E}),n.d(t,"e",function(){return S}),n.d(t,"x",function(){return T}),n.d(t,"q",function(){return M}),n.d(t,"v",function(){return A}),n.d(t,"l",function(){return N.a}),n.d(t,"s",function(){return N.b}),n.d(t,"t",function(){return N.c}),n.d(t,"d",function(){return D.a}),n.d(t,"r",function(){return D.b}),n.d(t,"p",function(){return F}),n.d(t,"u",function(){return L.b}),n.d(t,"n",function(){return L.a}),n.d(t,"m",function(){return R.a}),n.d(t,"c",function(){return a})},"b+mb":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("KgU3"),r=function(e,t){var n=e.reduce(function(e,n){return n.type===a.MappingType.ValueToText?e=function(e,t,n){if(void 0===t.value)return e;if(null===n&&o(t))return e.concat(t);var a=parseFloat(n),r=parseFloat(t.value);return isNaN(a)||isNaN(r)?e:a!==r?e:e.concat(t)}(e,n,t):n.type===a.MappingType.RangeToText&&(e=function(e,t,n){if(void 0===t.from||void 0===t.to||void 0===n)return e;if(null===n&&t.from&&t.to&&"null"===t.from.toLowerCase()&&"null"===t.to.toLowerCase())return e.concat(t);var a=parseFloat(n),r=parseFloat(t.from),i=parseFloat(t.to);return isNaN(a)||isNaN(r)||isNaN(i)?e:a>=r&&a<=i?e.concat(t):e}(e,n,t)),e},[]);return n.sort(function(e,t){return e.id-t.id}),n},i=function(e,t){return r(e,t)[0]},o=function(e){return!(!e||!e.value)&&"null"===e.value.toLowerCase()}},"bDa/":function(e,t){var n="public/app/features/panel/panellinks/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n\t<div class=gf-form-group ng-repeat="link in panel.links">\n\t\t<div class=section>\n\t\t\t<div class="gf-form max-width-25">\n\t\t\t\t<span class="gf-form-label width-7">Type</span>\n\t\t\t\t<div class="gf-form-select-wrapper gf-form--grow">\n\t\t\t\t\t<select class=gf-form-input ng-model=link.type ng-options="f for f in [\'dashboard\',\'absolute\']"></select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="gf-form max-width-25">\n\t\t\t\t<span class="gf-form-label width-7" ng-show="link.type === \'dashboard\'">Dashboard</span>\n\t\t\t\t<input ng-show="link.type === \'dashboard\'" type=text ng-model=link.dashboard bs-typeahead=searchDashboards class=gf-form-input ng-blur=dashboardChanged(link)>\n\n\t\t\t\t<span class="gf-form-label width-7" ng-show="link.type === \'absolute\'">Url</span>\n\t\t\t\t<input ng-show="link.type === \'absolute\'" type=text ng-model=link.url class="gf-form-input max-width-14">\n\t\t\t</div>\n\n\t\t\t<div class="gf-form max-width-25">\n\t\t\t\t<div class="gf-form-label width-7">Title</div>\n\t\t\t\t<input type=text ng-model=link.title class=gf-form-input>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<div class=section>\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-10">Url params</span>\n\t\t\t\t<input type=text ng-model=link.params class="gf-form-input width-10">\n\t\t\t</div>\n\n\t\t\t<gf-form-switch class=gf-form label-class=width-10 label="Include time range" checked=link.keepTime></gf-form-switch>\n\t\t\t<gf-form-switch class=gf-form label-class=width-10 label="Include variables" checked=link.includeVars></gf-form-switch>\n\t\t\t<gf-form-switch class=gf-form label-class=width-10 label="Open in new tab " checked=link.targetBlank></gf-form-switch>\n\t\t</div>\n\n\t\t<div class=section>\n\t\t\t<div class=gf-form>\n\t\t\t\t<button class="btn btn-inverse gf-form-btn" ng-click=deleteLink(link)><i class="fa fa-trash"></i> Remove Link</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=editor-row>\n\t<button class="btn btn-inverse" ng-click=addLink()><i class="fa fa-plus"></i> Add link</button>\n</div>\n')}]),e.exports=n},bMS5:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=function(e){return i.a.find("ABCDEFGHIJKLMNOPQRSTUVWXYZ",function(t){return i.a.every(e,function(e){return e.refId!==t})})};function s(e,t){var n=t||{};return n.refId=o(e),Object(a.__spread)(e,[n])}},"bR/a":function(e,t){var n="public/app/plugins/datasource/elasticsearch/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl can-collapse=true>\n\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<label class="gf-form-label query-keyword width-7">Query</label>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.target.query spellcheck=false placeholder="Lucene query" ng-blur=ctrl.refresh()>\n\t\t</div>\n\t\t<div class="gf-form max-width-15">\n\t\t\t<label class="gf-form-label query-keyword">Alias</label>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.target.alias spellcheck=false placeholder="alias patterns" ng-blur=ctrl.refresh()>\n\t\t</div>\n\t</div>\n\n\t<div ng-repeat="agg in ctrl.target.metrics">\n\t\t<elastic-metric-agg target=ctrl.target index=$index get-fields=ctrl.getFields($fieldType) on-change=ctrl.queryUpdated() es-version=ctrl.esVersion>\n\t\t</elastic-metric-agg>\n\t</div>\n\n\t<div ng-repeat="agg in ctrl.target.bucketAggs">\n\t\t<elastic-bucket-agg target=ctrl.target index=$index get-fields=ctrl.getFields($fieldType) on-change=ctrl.queryUpdated()>\n\t\t</elastic-bucket-agg>\n\t</div>\n\n</query-editor-row>\n')}]),e.exports=n},bTeP:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n("i8i4"),o=n.n(i),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasEventListener:!1},t.onOutsideClick=function(e){var n=o.a.findDOMNode(t);n&&n.contains(e.target)||t.props.onClick()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("click",this.onOutsideClick,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.onOutsideClick,!1)},t.prototype.render=function(){return this.props.children},t}(r.PureComponent)},"bY+8":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s={label:"-- remove stat --",value:"-- remove stat --"},l=function(e){var t=e.stats,n=e.values,r=e.onChange,l=e.variableOptionGroup;return i.a.createElement(i.a.Fragment,null,n&&n.map(function(e,c){return i.a.createElement(o.Segment,{allowCustomValue:!0,key:e+c,value:e,options:Object(a.__spread)([s],t,[l]),onChange:function(e){var t=e.value;return r("-- remove stat --"===t?n.filter(function(e,t){return t!==c}):n.map(function(e,n){return n===c?t:e}))}})}),i.a.createElement(o.Segment,{Component:i.a.createElement("a",{className:"gf-form-label query-part"},i.a.createElement("i",{className:"fa fa-plus"})),allowCustomValue:!0,onChange:function(e){var t=e.value;return r(Object(a.__spread)(n,[t]))},options:Object(a.__spread)(t.filter(function(e){var t=e.value;return!n.includes(t)}),[l])}))},c=n("Y+p1"),u=n.n(c),d={label:"-- remove dimension --",value:"-- remove dimension --"},p=function(e){var t=e.dimensions,n=e.loadValues,s=e.loadKeys,l=e.onChange,c=Object(a.__read)(Object(r.useState)(t),2),p=c[0],f=c[1];Object(r.useEffect)(function(){var e=Object.entries(p).reduce(function(e,t){var n,r=Object(a.__read)(t,2),i=r[0],o=r[1];return o?Object(a.__assign)(Object(a.__assign)({},e),((n={})[i]=o,n)):e},{});u()(e,t)||l(e)},[p]);var h=function(e){return e.filter(function(e){var t=e.value;return!Object.keys(p).includes(t)})};return i.a.createElement(i.a.Fragment,null,Object.entries(p).map(function(e,t){var l=Object(a.__read)(e,2),c=l[0],u=l[1];return i.a.createElement(r.Fragment,{key:t},i.a.createElement(o.SegmentAsync,{allowCustomValue:!0,value:c,loadOptions:function(){return s().then(function(e){return Object(a.__spread)([d],h(e))})},onChange:function(e){var t,n=e.value,r=c,i=(p[r],Object(a.__rest)(p,["symbol"==typeof r?r:r+""]));f("-- remove dimension --"===n?Object(a.__assign)({},i):Object(a.__assign)(Object(a.__assign)({},i),((t={})[n]="",t)))}}),i.a.createElement("label",{className:"gf-form-label query-segment-operator"},"="),i.a.createElement(o.SegmentAsync,{allowCustomValue:!0,value:u,placeholder:"select dimension value",loadOptions:function(){return n(c)},onChange:function(e){var t,n=e.value;return f(Object(a.__assign)(Object(a.__assign)({},p),((t={})[c]=n,t)))}}),Object.values(p).length>1&&t+1!==Object.values(p).length&&i.a.createElement("label",{className:"gf-form-label query-keyword"},"AND"))}),Object.values(p).every(function(e){return e})&&i.a.createElement(o.SegmentAsync,{allowCustomValue:!0,Component:i.a.createElement("a",{className:"gf-form-label query-part"},i.a.createElement("i",{className:"fa fa-plus"})),loadOptions:function(){return s().then(h)},onChange:function(e){var t,n=e.value;return f(Object(a.__assign)(Object(a.__assign)({},p),((t={})[n]="",t)))}}))},f=function(e){var t=e.label,n=e.tooltip,a=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.FormLabel,{width:8,className:"query-keyword",tooltip:n},t),a)},h=function(e){var t=Object(a.__rest)(e,[]);return i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement(f,Object(a.__assign)({},t)),i.a.createElement("div",{className:"gf-form gf-form--grow"},i.a.createElement("div",{className:"gf-form-label gf-form-label--grow"})))},m=n("LvDl"),g=function(e){var t=e.value,n=void 0===t?"":t,s=e.onChange,l=Object(a.__read)(Object(r.useState)(n),2),c=l[0],u=l[1],d=Object(m.debounce)(s,1500);return s=function(e){u(e.target.value),d(e.target.value)},i.a.createElement(o.Input,{type:"text",className:"gf-form-input width-16",value:c,onChange:s})};function b(e){var t=this,n=e.query,s=e.datasource,c=e.onChange,u=e.onRunQuery,d=void 0===u?function(){}:u,f=(e.hideWilcard,Object(a.__read)(Object(r.useState)({regions:[],namespaces:[],metricNames:[],variableOptionGroup:{},showMeta:!1}),2)),m=f[0],g=f[1];Object(r.useEffect)(function(){var e={label:"Template Variables",options:s.variables.map(v)};Promise.all([s.metricFindQuery("regions()"),s.metricFindQuery("namespaces()")]).then(function(t){var n=Object(a.__read)(t,2),r=n[0],i=n[1];g(Object(a.__assign)(Object(a.__assign)({},m),{regions:Object(a.__spread)(r,[e]),namespaces:Object(a.__spread)(i,[e]),variableOptionGroup:e}))})},[]);var b=function(e){return Object(a.__spread)(e,[{label:"Template Variables",options:s.variables.map(v)}])},v=function(e){return{label:e,value:e}},y=function(e){c(e),d()},w=m.regions,x=m.namespaces,O=m.variableOptionGroup;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,{label:"Region"},i.a.createElement(o.Segment,{value:n.region,placeholder:"Select region",options:w,allowCustomValue:!0,onChange:function(e){var t=e.value;return y(Object(a.__assign)(Object(a.__assign)({},n),{region:t}))}})),0===n.expression.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement(h,{label:"Namespace"},i.a.createElement(o.Segment,{value:n.namespace,placeholder:"Select namespace",allowCustomValue:!0,options:x,onChange:function(e){var t=e.value;return y(Object(a.__assign)(Object(a.__assign)({},n),{namespace:t}))}})),i.a.createElement(h,{label:"Metric Name"},i.a.createElement(o.SegmentAsync,{value:n.metricName,placeholder:"Select metric name",allowCustomValue:!0,loadOptions:function(){return Object(a.__awaiter)(t,void 0,void 0,function(){var e,t;return Object(a.__generator)(this,function(a){return e=n.namespace,t=n.region,[2,s.metricFindQuery("metrics("+e+","+t+")").then(b)]})})},onChange:function(e){var t=e.value;return y(Object(a.__assign)(Object(a.__assign)({},n),{metricName:t}))}})),i.a.createElement(h,{label:"Stats"},i.a.createElement(l,{stats:s.standardStatistics.map(v),values:n.statistics,onChange:function(e){return y(Object(a.__assign)(Object(a.__assign)({},n),{statistics:e}))},variableOptionGroup:O})),i.a.createElement(h,{label:"Dimensions"},i.a.createElement(p,{dimensions:n.dimensions,onChange:function(e){return y(Object(a.__assign)(Object(a.__assign)({},n),{dimensions:e}))},loadKeys:function(){return s.getDimensionKeys(n.namespace,n.region).then(b)},loadValues:function(e){var t=n.dimensions,r=e,i=(t[r],Object(a.__rest)(t,["symbol"==typeof r?r:r+""])),o=Object.entries(i).reduce(function(e,t){var n,r=Object(a.__read)(t,2),i=r[0],o=r[1];return"*"===o?e:Object(a.__assign)(Object(a.__assign)({},e),((n={})[i]=o,n))},{});return s.getDimensionValues(n.region,n.namespace,n.metricName,e,o).then(function(e){return e.length?Object(a.__spread)([{value:"*",text:"*",label:"*"}],e):e}).then(b)}}))))}n.d(t,"f",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return b})},cFxn:function(e,t){},cZsJ:function(e,t){var n="public/app/plugins/panel/graph/tab_drilldown_links.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<drilldown-links-editor value=ctrl.panel.options.dataLinks suggestions=ctrl.linkVariableSuggestions on-change=ctrl.onDataLinksChange></drilldown-links-editor>\n")}]),e.exports=n},coz7:function(e,t){var n="public/app/features/dashboard/components/SubMenu/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=submenu-controls ng-hide="ctrl.submenuEnabled === false">\n  <div ng-repeat="variable in ctrl.variables" ng-hide="variable.hide === 2" class="submenu-item gf-form-inline" aria-label={{::ctrl.selectors.submenuItem}}>\n    <div class=gf-form>\n      <label class="gf-form-label template-variable" ng-hide="variable.hide === 1" aria-label="{{ctrl.selectors.submenuItemLabels(variable.label || variable.name)}}">{{variable.label || variable.name}}</label>\n      <value-select-dropdown ng-if="variable.type !== \'adhoc\' && variable.type !== \'textbox\'" dashboard=ctrl.dashboard variable=variable on-updated=ctrl.variableUpdated(variable)></value-select-dropdown>\n      <input type=text ng-if="variable.type === \'textbox\'" ng-model=variable.query class="gf-form-input width-12" ng-blur="variable.current.value != variable.query && variable.updateOptions() && ctrl.variableUpdated(variable);" ng-keydown="$event.keyCode === 13 && variable.current.value != variable.query && variable.updateOptions() && ctrl.variableUpdated(variable);"/>\n    </div>\n    <ad-hoc-filters ng-if="variable.type === \'adhoc\'" variable=variable dashboard=ctrl.dashboard></ad-hoc-filters>\n  </div>\n\n  <div ng-if="ctrl.dashboard.annotations.list.length > 0">\n    <div ng-repeat="annotation in ctrl.dashboard.annotations.list" ng-hide=annotation.hide class=submenu-item ng-class="{\'annotation-disabled\': !annotation.enable}">\n      <gf-form-switch class=gf-form label={{annotation.name}} checked=annotation.enable on-change=ctrl.annotationStateChanged()></gf-form-switch>\n    </div>\n  </div>\n\n  <div class="gf-form gf-form--grow"></div>\n\n  <div ng-if="ctrl.dashboard.links.length > 0">\n    <dash-links-container links=ctrl.dashboard.links dashboard=ctrl.dashboard class=gf-form-inline></dash-links-container>\n  </div>\n\n  <div class=clearfix></div>\n</div>\n')}]),e.exports=n},cytP:function(e,t){var n="public/app/plugins/datasource/stackdriver/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<stackdriver-annotation-query-editor target=ctrl.annotation.target on-query-change=(ctrl.onQueryChange) datasource=ctrl.datasource template-srv=ctrl.templateSrv></stackdriver-annotation-query-editor>\n")}]),e.exports=n},dQag:function(e,t){var n="public/app/plugins/datasource/grafana/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl can-collapse=false>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<label class=gf-form-label>Test data: random walk</label>\n\t\t</div>\n\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n</query-editor-row>\n')}]),e.exports=n},diqK:function(e,t){var n="public/app/plugins/datasource/postgres/partials/config.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<h3 class=page-heading>PostgreSQL Connection</h3>\n\n<div class=gf-form-group>\n\t<div class="gf-form max-width-30">\n\t\t<span class="gf-form-label width-7">Host</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.current.url placeholder=localhost:5432 bs-typeahead="{{[\'localhost:5432\', \'localhost:5433\']}}" required>\n\t</div>\n\n\t<div class="gf-form max-width-30">\n\t\t<span class="gf-form-label width-7">Database</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.current.database placeholder="database name" required>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form max-width-15">\n\t\t\t<span class="gf-form-label width-7">User</span>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.current.user placeholder=user>\n\t\t</div>\n    <div class=gf-form>\n      <secret-form-field isconfigured=ctrl.current.secureJsonFields.password value=ctrl.current.secureJsonData.password on-reset=ctrl.onPasswordReset on-change=ctrl.onPasswordChange inputwidth=9 />\n    </div>\n\t</div>\n\n\t<div class=gf-form>\n\t\t<label class="gf-form-label width-7">SSL Mode</label>\n\t\t<div class="gf-form-select-wrapper max-width-15 gf-form-select-wrapper--has-help-icon">\n\t\t\t<select class=gf-form-input ng-model=ctrl.current.jsonData.sslmode ng-options="mode for mode in [\'disable\', \'require\', \'verify-ca\', \'verify-full\']" ng-init=ctrl.current.jsonData.sslmode></select>\n\t\t\t<info-popover mode=right-absolute>\n\t\t\t\tThis option determines whether or with what priority a secure SSL TCP/IP connection will be negotiated with the server.\n\t\t\t</info-popover>\n\t\t</div>\n\t</div>\n</div>\n\n<b>Connection limits</b>\n\n<div class=gf-form-group>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max open</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.maxOpenConns placeholder=unlimited>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum number of open connections to the database. If <i>Max idle connections</i> is greater than 0 and the\n\t\t\t<i>Max open connections</i> is less than <i>Max idle connections</i>, then <i>Max idle connections</i> will be\n\t\t\treduced to match the <i>Max open connections</i> limit. If set to 0, there is no limit on the number of open\n\t\t\tconnections.\n\t\t</info-popover>\n\t</div>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max idle</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.maxIdleConns placeholder=2>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum number of connections in the idle connection pool. If <i>Max open connections</i> is greater than 0 but\n\t\t\tless than the <i>Max idle connections</i>, then the <i>Max idle connections</i> will be reduced to match the\n\t\t\t<i>Max open connections</i> limit. If set to 0, no idle connections are retained.\n\t\t</info-popover>\n\t</div>\n\t<div class="gf-form max-width-15">\n\t\t<span class="gf-form-label width-7">Max lifetime</span>\n\t\t<input type=number min=0 class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.connMaxLifetime placeholder=14400>\n\t\t<info-popover mode=right-absolute>\n\t\t\tThe maximum amount of time in seconds a connection may be reused. If set to 0, connections are reused forever.\n\t\t</info-popover>\n\t</div>\n</div>\n\n<h3 class=page-heading>PostgreSQL details</h3>\n\n<div class=gf-form-group>\n\t<div class=gf-form>\n\t\t<span class="gf-form-label width-9">\n\t\t\tVersion\n\t\t\t<info-popover mode=right-normal position="top center">\n\t\t\t\tThis option controls what functions are available in the PostgreSQL query builder.\n\t\t\t</info-popover>\n\t\t</span>\n\t\t<span class=gf-form-select-wrapper>\n\t\t\t<select class="gf-form-input gf-size-auto" ng-model=ctrl.current.jsonData.postgresVersion ng-options="f.value as f.name for f in ctrl.postgresVersions"></select>\n\t\t</span>\n\t</div>\n\t<div class=gf-form>\n\t\t<gf-form-switch class=gf-form label=TimescaleDB label-class=width-9 checked=ctrl.current.jsonData.timescaledb switch-class=max-width-6></gf-form-switch>\n    <label class="gf-form-label query-keyword pointer" ng-click=ctrl.toggleTimescaleDBHelp()>\n      Help&nbsp;\n      <i class="fa fa-caret-down" ng-show=ctrl.showTimescaleDBHelp></i>\n      <i class="fa fa-caret-right" ng-hide=ctrl.showTimescaleDBHelp>&nbsp;</i>\n    </label>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-9">Min time interval</span>\n\t\t\t<input type=text class="gf-form-input width-6 gf-form-input--has-help-icon" ng-model=ctrl.current.jsonData.timeInterval spellcheck=false placeholder=1m ng-pattern=/^\\d+(ms|[Mwdhmsy])$/ >\n\t\t\t<info-popover mode=right-absolute>\n\t\t\t\tA lower limit for the auto group by time interval. Recommended to be set to write frequency,\n\t\t\t\tfor example <code>1m</code> if your data is written every minute.\n\t\t\t</info-popover>\n\t\t</div>\n\t</div>\n<div class="grafana-info-box alert alert-info" ng-show=ctrl.showTimescaleDBHelp>\n  <div class=alert-body>\n    <p>\n\t\t\t<a href=https://github.com/timescale/timescaledb class=pointer target=_blank>TimescaleDB</a> is a time-series database built as a PostgreSQL extension. If enabled, Grafana will use <code>time_bucket</code> in the <code>$__timeGroup</code> macro and display TimescaleDB specific aggregate functions in the query builder.\n    </p>\n  </div>\n</div>\n\n</div>\n\n\n<div class=gf-form-group>\n\t<div class=grafana-info-box>\n\t\t<h5>User Permission</h5>\n\t\t<p>\n\t\t\tThe database user should only be granted SELECT permissions on the specified database &amp; tables you want to query.\n\t\t\tGrafana does not validate that queries are safe so queries can contain any SQL statement. For example, statements\n\t\t\tlike <code>DELETE FROM user;</code> and <code>DROP TABLE user;</code> would be executed. To protect against this we\n\t\t\t<strong>Highly</strong> recommmend you create a specific PostgreSQL user with restricted permissions.\n\t\t</p>\n\t</div>\n</div>\n\n')}]),e.exports=n},eGKl:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("Obii"),r=function(e,t){return e[t||a.GrafanaThemeType.Dark]}},eK0o:function(e,t,n){"use strict";var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("txxJ"),s=function(){function e(){}return e.alertToGraphThresholds=function(e){for(var t,n,r=0;r<e.alert.conditions.length;r++){var i=e.alert.conditions[r];if("query"===i.type){var o=i.evaluator,s=e.thresholds=[];switch(o.type){case"gt":var l=o.params[0];s.push({value:l,op:"gt"});break;case"lt":l=o.params[0];s.push({value:l,op:"lt"});break;case"outside_range":(c=o.params[0])>(u=o.params[1])?(s.push({value:c,op:"gt"}),s.push({value:u,op:"lt"})):(s.push({value:c,op:"lt"}),s.push({value:u,op:"gt"}));break;case"within_range":var c,u;(c=o.params[0])>(u=o.params[1])?(s.push({value:c,op:"lt"}),s.push({value:u,op:"gt"})):(s.push({value:c,op:"gt"}),s.push({value:u,op:"lt"}))}break}}try{for(var d=Object(a.__values)(e.thresholds),p=d.next();!p.done;p=d.next()){var f=p.value;f.fill=!0,f.line=!0,f.colorMode="critical"}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return!0},e}(),l=n("QNPh"),c=n("3ulR"),u=n("ZFWI"),d=n("Xmxp"),p=n("2nhE"),f=n("GQ3c"),h=n("PbtU");n.d(t,"a",function(){return g});var m=function(){function e(e,t,n,a,r){var i=this;this.$scope=e,this.backendSrv=t,this.dashboardSrv=n,this.uiSegmentSrv=a,this.datasourceSrv=r,this.enable=function(){i.panel.alert={},i.initModel(),i.panel.alert.for="5m"},this.panelCtrl=e.ctrl,this.panel=this.panelCtrl.panel,this.$scope.ctrl=this,this.subTabIndex=0,this.evalFunctions=c.a.evalFunctions,this.evalOperators=c.a.evalOperators,this.conditionTypes=c.a.conditionTypes,this.noDataModes=c.a.noDataModes,this.executionErrorModes=c.a.executionErrorModes,this.appSubUrl=u.b.appSubUrl,this.panelCtrl._enableAlert=this.enable,this.alertingMinIntervalSecs=u.b.alertingMinInterval,this.alertingMinInterval=h.a.secondsToHms(u.b.alertingMinInterval)}return e.$inject=["$scope","backendSrv","dashboardSrv","uiSegmentSrv","datasourceSrv"],e.prototype.$onInit=function(){var e=this;this.addNotificationSegment=this.uiSegmentSrv.newPlusButton();var t=this.graphThresholdChanged.bind(this);return this.panelCtrl.events.on(f.CoreEvents.thresholdChanged,t),this.$scope.$on("$destroy",function(){e.panelCtrl.events.off(f.CoreEvents.thresholdChanged,t),e.panelCtrl.editingThresholds=!1,e.panelCtrl.render()}),this.notifications=[],this.alertNotifications=[],this.alertHistory=[],this.backendSrv.get("/api/alert-notifications/lookup").then(function(t){e.notifications=t,e.initModel(),e.validateModel()})},e.prototype.getAlertHistory=function(){var e=this;this.backendSrv.get("/api/annotations?dashboardId="+this.panelCtrl.dashboard.id+"&panelId="+this.panel.id+"&limit=50&type=alert").then(function(t){e.alertHistory=i.a.map(t,function(t){return t.time=e.dashboardSrv.getCurrent().formatDate(t.time,"MMM D, YYYY HH:mm:ss"),t.stateModel=c.a.getStateDisplayModel(t.newState),t.info=c.a.getAlertAnnotationInfo(t),t})})},e.prototype.getNotificationIcon=function(e){switch(e){case"email":return"fa fa-envelope";case"slack":return"fa fa-slack";case"victorops":return"fa fa-pagelines";case"webhook":return"fa fa-cubes";case"pagerduty":return"fa fa-bullhorn";case"opsgenie":return"fa fa-bell";case"hipchat":return"fa fa-mail-forward";case"pushover":return"fa fa-mobile";case"kafka":return"fa fa-random";case"teams":return"fa fa-windows"}return"fa fa-bell"},e.prototype.getNotifications=function(){var e=this;return Promise.resolve(this.notifications.map(function(t){return e.uiSegmentSrv.newSegment(t.name)}))},e.prototype.notificationAdded=function(){var e=i.a.find(this.notifications,{name:this.addNotificationSegment.value});e&&(this.alertNotifications.push({name:e.name,iconClass:this.getNotificationIcon(e.type),isDefault:!1,uid:e.uid}),i.a.find(this.alert.notifications,function(t){return t.id===e.id||t.uid===e.uid})||this.alert.notifications.push({uid:e.uid}),this.addNotificationSegment.value=this.uiSegmentSrv.newPlusButton().value,this.addNotificationSegment.html=this.uiSegmentSrv.newPlusButton().html,this.addNotificationSegment.fake=!0)},e.prototype.removeNotification=function(e){i.a.remove(this.alert.notifications,function(t){return t.uid===e.uid||t.id===e.id}),i.a.remove(this.alertNotifications,function(t){return t.uid===e.uid||t.id===e.id})},e.prototype.addAlertRuleTag=function(){this.newAlertRuleTag.name&&(this.alert.alertRuleTags[this.newAlertRuleTag.name]=this.newAlertRuleTag.value),this.newAlertRuleTag.name="",this.newAlertRuleTag.value=""},e.prototype.removeAlertRuleTag=function(e){delete this.alert.alertRuleTags[e]},e.prototype.initModel=function(){var e,t,n,r,o=this,l=this.alert=this.panel.alert;if(l){this.checkFrequency(),l.conditions=l.conditions||[],0===l.conditions.length&&l.conditions.push(Object(p.b)()),l.noDataState=l.noDataState||u.b.alertingNoDataOrNullValues,l.executionErrorState=l.executionErrorState||u.b.alertingErrorOrTimeout,l.frequency=l.frequency||"1m",l.handler=l.handler||1,l.notifications=l.notifications||[],l.for=l.for||"0m",l.alertRuleTags=l.alertRuleTags||{};var c=this.panel.title+" alert";l.name=l.name||c,this.conditionModels=i.a.reduce(l.conditions,function(e,t){return e.push(o.buildConditionModel(t)),e},[]),s.alertToGraphThresholds(this.panel);try{for(var d=Object(a.__values)(l.notifications),f=d.next();!f.done;f=d.next()){var h=f.value,m=i.a.find(this.notifications,{uid:h.uid});m||(m=i.a.find(this.notifications,{id:h.id})),m&&!1===m.isDefault&&(m.iconClass=this.getNotificationIcon(m.type),this.alertNotifications.push(m))}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var g=Object(a.__values)(this.notifications),b=g.next();!b.done;b=g.next()){var v=b.value;v.isDefault&&(v.iconClass=this.getNotificationIcon(v.type),v.bgColor="#00678b",this.alertNotifications.push(v))}}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}this.panelCtrl.editingThresholds=!0,this.panelCtrl.render()}},e.prototype.checkFrequency=function(){if(this.alert.frequency){this.frequencyWarning="";try{h.a.interval_to_seconds(this.alert.frequency)<this.alertingMinIntervalSecs&&(this.frequencyWarning="A minimum evaluation interval of "+this.alertingMinInterval+" have been configured in Grafana and will be used for this alert rule. Please contact the administrator to configure a lower interval.")}catch(e){this.frequencyWarning=e}}},e.prototype.graphThresholdChanged=function(e){var t,n;try{for(var r=Object(a.__values)(this.alert.conditions),i=r.next();!i.done;i=r.next()){var o=i.value;if("query"===o.type){o.evaluator.params[e.handleIndex]=e.threshold.value,this.evaluatorParamsChanged();break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.validateModel=function(){var e,t,n,r,i=this;if(this.alert){var o,s=null,l=[];try{for(var c=Object(a.__values)(this.alert.conditions),u=c.next();!u.done;u=c.next()){var d=u.value;if("query"===d.type){try{for(var p=(n=void 0,Object(a.__values)(this.panel.targets)),f=p.next();!f.done;f=p.next()){var h=f.value;if(o||(o=h),d.query.params[0]===h.refId){s=h;break}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}if(!s){if(!o)return void(this.error="Could not find any metric queries");d.query.params[0]=o.refId,s=o}var m=s.datasource||this.panel.datasource;l.push(this.datasourceSrv.get(m).then(function(e){return function(t){return t.meta.alerting?t.targetContainsTemplate&&t.targetContainsTemplate(e)?Promise.reject("Template variables are not supported in alert queries"):Promise.resolve():Promise.reject("The datasource does not support alerting queries")}}(s)))}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}Promise.all(l).then(function(){i.error="",i.$scope.$apply()},function(e){i.error=e,i.$scope.$apply()})}},e.prototype.buildConditionModel=function(e){var t={source:e,type:e.type};return t.queryPart=new l.a(e.query,c.a.alertQueryDef),t.reducerPart=c.a.createReducerPart(e.reducer),t.evaluator=e.evaluator,t.operator=e.operator,t},e.prototype.handleQueryPartEvent=function(e,t){var n=this;switch(t.name){case"action-remove-part":break;case"get-part-actions":return Promise.resolve([]);case"part-param-changed":this.validateModel();case"get-param-options":var a=this.panel.targets.map(function(e){return n.uiSegmentSrv.newSegment({value:e.refId})});return Promise.resolve(a);default:return Promise.resolve()}return Promise.resolve()},e.prototype.handleReducerPartEvent=function(e,t){var n,r;switch(t.name){case"action":e.source.reducer.type=t.action.value,e.reducerPart=c.a.createReducerPart(e.source.reducer);break;case"get-part-actions":var i=[];try{for(var o=Object(a.__values)(c.a.reducerTypes),s=o.next();!s.done;s=o.next()){var l=s.value;l.value!==e.source.reducer.type&&i.push(l)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Promise.resolve(i)}return Promise.resolve()},e.prototype.addCondition=function(e){var t=Object(p.b)();this.alert.conditions.push(t),this.conditionModels.push(this.buildConditionModel(t))},e.prototype.removeCondition=function(e){this.alert.conditions.splice(e,1),this.conditionModels.splice(e,1)},e.prototype.delete=function(){var e=this;d.b.emit(f.CoreEvents.showConfirmModal,{title:"Delete Alert",text:"Are you sure you want to delete this alert rule?",text2:"You need to save dashboard for the delete to take effect",icon:"fa-trash",yesText:"Delete",onConfirm:function(){delete e.panel.alert,e.alert=null,e.panel.thresholds=[],e.conditionModels=[],e.panelCtrl.alertState=null,e.panelCtrl.render()}})},e.prototype.evaluatorParamsChanged=function(){s.alertToGraphThresholds(this.panel),this.panelCtrl.render()},e.prototype.evaluatorTypeChanged=function(e){switch(e.type){case"lt":case"gt":e.params=[e.params[0]];break;case"within_range":case"outside_range":e.params=[e.params[0],e.params[1]];break;case"no_value":e.params=[]}this.evaluatorParamsChanged()},e.prototype.clearHistory=function(){var e=this;d.b.emit(f.CoreEvents.showConfirmModal,{title:"Delete Alert History",text:"Are you sure you want to remove all history & annotations for this alert?",icon:"fa-trash",yesText:"Yes",onConfirm:function(){e.backendSrv.post("/api/annotations/mass-delete",{dashboardId:e.panelCtrl.dashboard.id,panelId:e.panel.id}).then(function(){e.alertHistory=[],e.panelCtrl.refresh()})}})},e}();function g(){return{restrict:"E",scope:!0,templateUrl:"public/app/features/alerting/partials/alert_tab.html",controller:m}}o.c.directive("alertTab",g)},eNSq:function(e,t){var n="public/app/plugins/panel/dashlist/module.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div>\n  <div class=dashlist ng-repeat="group in ctrl.groups">\n    <div class=dashlist-section ng-if=group.show>\n      <h6 class=dashlist-section-header ng-show=ctrl.panel.headings>\n        {{group.header}}\n      </h6>\n      <div class=dashlist-item ng-repeat="dash in group.list">\n        <a class="dashlist-link dashlist-link-{{dash.type}}" href={{dash.url}}>\n          <span class=dashlist-title>\n            {{dash.title}}\n          </span>\n          <span class=dashlist-star ng-click="ctrl.starDashboard(dash, $event)">\n            <i class=fa ng-class="{\'fa-star\': dash.isStarred, \'fa-star-o\': dash.isStarred === false}"></i>\n          </span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},ePCq:function(e,t){var n="public/app/plugins/datasource/graphite/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl has-text-edit-mode=true>\n\n  <div class=gf-form ng-show=ctrl.target.textEditor>\n    <input type=text class=gf-form-input ng-model=ctrl.target.target spellcheck=false ng-blur=ctrl.targetTextChanged()>\n  </div>\n\n  <div ng-hide=ctrl.target.textEditor>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-6 query-keyword">Series</label>\n      </div>\n\n      <div ng-if=ctrl.queryModel.seriesByTagUsed ng-repeat="tag in ctrl.queryModel.tags" class=gf-form>\n        <gf-form-dropdown model=tag.key allow-custom=true label-mode=true debounce=true placeholder="Tag key" css-class=query-segment-key get-options="ctrl.getTags($index, $query)" on-change="ctrl.tagChanged(tag, $index)"/>\n        <gf-form-dropdown model=tag.operator label-mode=true css-class=query-segment-operator get-options=ctrl.getTagOperators() on-change="ctrl.tagChanged(tag, $index)" min-input-width=30 />\n        <gf-form-dropdown model=tag.value allow-custom=true label-mode=true debounce=true css-class=query-segment-value placeholder="Tag value" get-options="ctrl.getTagValues(tag, $index, $query)" on-change="ctrl.tagChanged(tag, $index)"/>\n        <label class="gf-form-label query-keyword" ng-if=ctrl.showDelimiter($index)>AND</label>\n      </div>\n\n      <div ng-if=ctrl.queryModel.seriesByTagUsed ng-repeat="segment in ctrl.addTagSegments" role=menuitem class=gf-form>\n        <metric-segment segment=segment get-options=ctrl.getTagsAsSegments($query) on-change=ctrl.addNewTag(segment) debounce=true />\n      </div>\n\n      <div ng-if=!ctrl.queryModel.seriesByTagUsed ng-repeat="segment in ctrl.segments" role=menuitem class=gf-form>\n        <metric-segment segment=segment get-options="ctrl.getAltSegments($index, $query)" on-change="ctrl.segmentValueChanged(segment, $index)"/>\n      </div>\n\n      <div ng-if=ctrl.paused class=gf-form>\n        <a ng-click=ctrl.unpause() class="gf-form-label query-part"><i class="fa fa-play"></i></a>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-6 query-keyword">Functions</label>\n      </div>\n\n      <div ng-repeat="func in ctrl.queryModel.functions" class=gf-form>\n        <span graphite-func-editor class="gf-form-label query-part" ng-hide=func.hidden></span>\n      </div>\n\n      <div class="gf-form dropdown">\n        <span graphite-add-func></span>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n  </div>\n\n</query-editor-row>\n')}]),e.exports=n},eQJK:function(e,t){!function(e){"use strict";var t={tagClass:function(e){return"label label-info"},itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(e,t){t.hide().fadeIn()}};function n(t,n){this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.widthClass=n.widthClass||"width-9",this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.$container=e('<div class="bootstrap-tagsinput"></div>'),this.$input=e('<input class="gf-form-input '+this.widthClass+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(n)}function a(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}n.prototype={constructor:n,add:function(t,n){var a=this;if(!(a.options.maxTags&&a.itemsArray.length>=a.options.maxTags)&&(!1===t||t)){if("object"==typeof t&&!a.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(a.isSelect&&!a.multiple&&a.itemsArray.length>0&&a.remove(a.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var r=t.split(",");if(r.length>1){for(var o=0;o<r.length;o++)this.add(r[o],!0);return void(n||a.pushVal())}}var s=a.options.itemValue(t),l=a.options.itemText(t),c=a.options.tagClass(t),u=e.grep(a.itemsArray,function(e){return a.options.itemValue(e)===s})[0];if(u){if(a.options.onTagExists){var d=e(".tag",a.$container).filter(function(){return e(this).data("item")===u});a.options.onTagExists(t,d)}}else{a.itemsArray.push(t);var p=e('<span class="tag '+i(c)+'">'+i(l)+'<span data-role="remove"></span></span>');if(p.data("item",t),a.findInputWrapper().before(p),p.after(" "),a.isSelect&&!e('option[value="'+escape(s)+'"]',a.$element)[0]){var f=e("<option selected>"+i(l)+"</option>");f.data("item",t),f.attr("value",s),a.$element.append(f)}n||a.pushVal(),a.options.maxTags===a.itemsArray.length&&a.$container.addClass("bootstrap-tagsinput-max"),a.$element.trigger(e.Event("itemAdded",{item:t}))}}}},remove:function(t,n){var a=this;a.objectItems&&(t="object"==typeof t?e.grep(a.itemsArray,function(e){return a.options.itemValue(e)==a.options.itemValue(t)})[0]:e.grep(a.itemsArray,function(e){return a.options.itemValue(e)==t})[0]),t&&(e(".tag",a.$container).filter(function(){return e(this).data("item")===t}).remove(),e("option",a.$element).filter(function(){return e(this).data("item")===t}).remove(),a.itemsArray.splice(e.inArray(t,a.itemsArray),1)),n||a.pushVal(),a.options.maxTags>a.itemsArray.length&&a.$container.removeClass("bootstrap-tagsinput-max"),a.$element.trigger(e.Event("itemRemoved",{item:t}))},removeAll:function(){for(e(".tag",this.$container).remove(),e("option",this.$element).remove();this.itemsArray.length>0;)this.itemsArray.pop();this.pushVal(),this.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var t=this;e(".tag",t.$container).each(function(){var n=e(this),a=n.data("item"),r=t.options.itemValue(a),o=t.options.itemText(a),s=t.options.tagClass(a);(n.attr("class",null),n.addClass("tag "+i(s)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=i(o),t.isSelect)&&e("option",t.$element).filter(function(){return e(this).data("item")===a}).attr("value",r)})},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(n,!0).trigger("change")},build:function(n){var r=this;r.options=e.extend({},t,n);var i=r.options.typeahead||{};r.objectItems&&(r.options.freeInput=!1),a(r.options,"itemValue"),a(r.options,"itemText"),a(r.options,"tagClass"),r.options.source&&(i.source=r.options.source),i.source&&e.fn.typeahead&&(!function(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}(i,"source"),r.$input.typeahead({source:function(t,n){function a(e){for(var t=[],a=0;a<e.length;a++){var i=r.options.itemText(e[a]);o[i]=e[a],t.push(i)}n(t)}this.map={};var o=this.map,s=i.source(t);e.isFunction(s.success)?s.success(a):e.when(s).then(a)},updater:function(e){r.add(this.map[e])},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}})),r.$container.on("click",e.proxy(function(e){r.$input.focus()},r)),r.$container.on("blur","input",e.proxy(function(t){var n=e(t.target);r.add(n.val()),n.val(""),t.preventDefault()},r)),r.$container.on("keydown","input",e.proxy(function(t){var n=e(t.target),a=r.findInputWrapper();switch(t.which){case 8:if(0===o(n[0])){var i=a.prev();i&&r.remove(i.data("item"))}break;case 46:if(0===o(n[0])){var s=a.next();s&&r.remove(s.data("item"))}break;case 37:var l=a.prev();0===n.val().length&&l[0]&&(l.before(a),n.focus());break;case 39:var c=a.next();0===n.val().length&&c[0]&&(c.after(a),n.focus());break;default:r.options.freeInput&&e.inArray(t.which,r.options.confirmKeys)>=0&&(r.add(n.val()),n.val(""),t.preventDefault())}n.attr("size",Math.max(this.inputSize,n.val().length))},r)),r.$container.on("click","[data-role=remove]",e.proxy(function(t){r.remove(e(t.target).closest(".tag").data("item")),t.stopPropagation()},r)),r.options.itemValue===t.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):e("option",r.$element).each(function(){r.add(e(this).attr("value"),!0)}))},destroy:function(){this.$container.off("keypress","input"),this.$container.off("click","[role=remove]"),this.$container.remove(),this.$element.removeData("tagsinput"),this.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(t,a){var r=[];return this.each(function(){var i=e(this).data("tagsinput");if(i){var o=i[t](a);void 0!==o&&r.push(o)}else i=new n(this,t),e(this).data("tagsinput",i),r.push(i),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())}),"string"==typeof t?r.length>1?r:r[0]:r},e.fn.tagsinput.Constructor=n;var r=e("<div />");function i(e){return e?r.text(e).html():""}function o(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}e(function(){e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery)},eXZ6:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"i",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return d});var a=30,r=8,i=24,o="v",s=4,l=250,c=3*a,u="panel-copy",d=2},eYNV:function(e,t){var n="public/app/features/admin/partials/orgs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n  <div class=page-action-bar>\n    <div class=page-action-bar__spacer></div>\n    <a class="page-header__cta btn btn-primary" href=org/new>\n      New org\n    </a>\n  </div>\n\n  <table class="filter-table form-inline filter-table--hover">\n    <thead>\n      <tr>\n        <th>Id</th>\n        <th>Name</th>\n        <th style=width:1%></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="org in orgs">\n        <td class=link-td>\n          <a href=admin/orgs/edit/{{org.id}}>\n            {{org.id}}\n          </a>\n        </td>\n        <td class=link-td>\n          <a href=admin/orgs/edit/{{org.id}}>\n            {{org.name}}\n          </a>\n        </td>\n        <td class=text-right>\n          <a ng-click=deleteOrg(org) class="btn btn-danger btn-small">\n            <i class="fa fa-remove"></i>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n<footer/>\n')}]),e.exports=n},eqXR:function(e,t){},exx3:function(e,t,n){"use strict";var a,r=n("mrSG");!function(e){e.math="math",e.reduce="reduce",e.resample="resample"}(a||(a={}));var i=n("q1tI"),o=n.n(i),s=n("kDLi"),l=n("Obii"),c=[{value:a.math,label:"Math"},{value:a.reduce,label:"Reduce"},{value:a.resample,label:"Resample"}],u=[{value:l.ReducerID.min,label:"Min",description:"Get the minimum value"},{value:l.ReducerID.max,label:"Max",description:"Get the maximum value"},{value:l.ReducerID.mean,label:"Mean",description:"Get the average value"},{value:l.ReducerID.sum,label:"Sum",description:"Get the sum of all values"},{value:l.ReducerID.count,label:"Count",description:"Get the number of values"}],d=[{value:l.ReducerID.min,label:"Min",description:"Fill with the minimum value"},{value:l.ReducerID.max,label:"Max",description:"Fill with the maximum value"},{value:l.ReducerID.mean,label:"Mean",description:"Fill with the average value"},{value:l.ReducerID.sum,label:"Sum",description:"Fill with the sum of all values"}],p=[{value:"pad",label:"pad",description:"fill with the last known value"},{value:"backfilling",label:"backfilling",description:"fill with the next known value"},{value:"fillna",label:"fillna",description:"Fill with NaNs"}],f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onSelectGELType=function(e){var n=t.props,i=n.query,o=n.onChange,s=Object(r.__assign)(Object(r.__assign)({},i),{type:e.value});s.type===a.reduce?(s.reducer||(s.reducer=l.ReducerID.mean),s.expression=void 0):s.type===a.resample?(s.downsampler||(s.downsampler=l.ReducerID.mean),s.upsampler||(s.upsampler="fillna"),s.reducer=void 0):s.reducer=void 0,o(s)},t.onSelectReducer=function(e){var n=t.props,a=n.query;(0,n.onChange)(Object(r.__assign)(Object(r.__assign)({},a),{reducer:e.value}))},t.onSelectUpsampler=function(e){var n=t.props,a=n.query;(0,n.onChange)(Object(r.__assign)(Object(r.__assign)({},a),{upsampler:e.value}))},t.onSelectDownsampler=function(e){var n=t.props,a=n.query;(0,n.onChange)(Object(r.__assign)(Object(r.__assign)({},a),{downsampler:e.value}))},t.onRuleReducer=function(e){var n=t.props,a=n.query;(0,n.onChange)(Object(r.__assign)(Object(r.__assign)({},a),{rule:e.value}))},t.onExpressionChange=function(e){var n=t.props,a=n.query;(0,n.onChange)(Object(r.__assign)(Object(r.__assign)({},a),{expression:e.target.value}))},t.onRuleChange=function(e){var n=t.props,a=n.query;(0,n.onChange)(Object(r.__assign)(Object(r.__assign)({},a),{rule:e.target.value}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.query,t=c.find(function(t){return t.value===e.type}),n=u.find(function(t){return t.value===e.reducer}),r=d.find(function(t){return t.value===e.downsampler}),i=p.find(function(t){return t.value===e.upsampler});return o.a.createElement("div",null,o.a.createElement("div",{className:"form-field"},o.a.createElement(s.Select,{options:c,value:t,onChange:this.onSelectGELType}),e.type===a.reduce&&o.a.createElement(o.a.Fragment,null,o.a.createElement(s.FormLabel,{width:5},"Function:"),o.a.createElement(s.Select,{options:u,value:n,onChange:this.onSelectReducer}),o.a.createElement(s.FormField,{label:"Fields:",labelWidth:5,onChange:this.onExpressionChange,value:e.expression}))),e.type===a.math&&o.a.createElement("textarea",{value:e.expression,onChange:this.onExpressionChange,className:"gf-form-input",rows:2}),e.type===a.resample&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(s.FormField,{label:"Series:",labelWidth:5,onChange:this.onExpressionChange,value:e.expression}),o.a.createElement(s.FormField,{label:"Rule:",labelWidth:5,onChange:this.onRuleChange,value:e.rule})),o.a.createElement("div",null,o.a.createElement(s.FormLabel,{width:12},"Downsample Function:"),o.a.createElement(s.Select,{options:d,value:r,onChange:this.onSelectDownsampler}),o.a.createElement(s.FormLabel,{width:12},"Upsample Function:"),o.a.createElement(s.Select,{options:p,value:i,onChange:this.onSelectUpsampler}))))},t}(i.PureComponent),h=n("t8hP");n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var m=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t.prototype.getCollapsedText=function(e){return"Expression: "+e.type},t.prototype.newQuery=function(){return{refId:"--",type:a.math,datasource:g}},t}(h.DataSourceWithBackend),g="__expr__",b=new m({id:-100,name:g});b.meta={id:g,info:{logos:{small:"public/img/icn-datasource.svg",large:"public/img/icn-datasource.svg"}}},b.components={QueryEditor:f}},fQqI:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("LvDl"),r=n.n(a),i=function(){function e(e,t){this.$scope=e,this.$injector=t,this.panel=this.panelCtrl.panel,this.isLastQuery=r.a.indexOf(this.panel.targets,this.target)===this.panel.targets.length-1}return e.prototype.refresh=function(){this.panelCtrl.refresh()},e}()},fZn8:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var a,r=n("mrSG"),i=n("i7Pf"),o=Object(i.c)({name:"organization",initialState:{organization:{}},reducers:{organizationLoaded:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{organization:t.payload})},setOrganizationName:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{organization:Object(r.__assign)(Object(r.__assign)({},e.organization),{name:t.payload})})}}}),s=(a=o.actions).setOrganizationName,l=a.organizationLoaded,c=o.reducer;t.a={organization:c}},gw38:function(e,t){var n="public/app/plugins/datasource/mysql/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl has-text-edit-mode=true>\n\n  <div ng-if=ctrl.target.rawQuery>\n    <div class=gf-form-inline>\n      <div class="gf-form gf-form--grow">\n        <code-editor content=ctrl.target.rawSql datasource=ctrl.datasource on-change=ctrl.panelCtrl.refresh() data-mode=sql>\n        </code-editor>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if=!ctrl.target.rawQuery>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">FROM</label>\n        <metric-segment segment=ctrl.tableSegment get-options=ctrl.getTableSegments() on-change=ctrl.tableChanged()></metric-segment>\n\n        <label class="gf-form-label query-keyword width-7">Time column</label>\n        <metric-segment segment=ctrl.timeColumnSegment get-options=ctrl.getTimeColumnSegments() on-change=ctrl.timeColumnChanged()></metric-segment>\n\n        <label class="gf-form-label query-keyword width-9">\n          Metric column\n          <info-popover mode=right-normal>Column to be used as metric name for the value column.</info-popover>\n        </label>\n        <metric-segment segment=ctrl.metricColumnSegment get-options=ctrl.getMetricColumnSegments() on-change=ctrl.metricColumnChanged()></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n\n    </div>\n\n    <div class=gf-form-inline ng-repeat="selectParts in ctrl.selectParts">\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">\n          <span ng-show="$index === 0">SELECT</span>&nbsp;\n        </label>\n      </div>\n\n      <div class=gf-form ng-repeat="part in selectParts">\n        <sql-part-editor class="gf-form-label sql-part" part=part handle-event="ctrl.handleSelectPartEvent(selectParts, part, $event)">\n        </sql-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <label class=dropdown dropdown-typeahead2=ctrl.selectMenu dropdown-typeahead-on-select="ctrl.addSelectPart(selectParts, $item, $subItem)" button-template-class="gf-form-label query-part">\n        </label>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">WHERE</label>\n      </div>\n\n      <div class=gf-form ng-repeat="part in ctrl.whereParts">\n        <sql-part-editor class="gf-form-label sql-part" part=part handle-event="ctrl.handleWherePartEvent(ctrl.whereParts, part, $event, $index)">\n        </sql-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <metric-segment segment=ctrl.whereAdd get-options=ctrl.getWhereOptions() on-change="ctrl.addWhereAction(part, $index)"></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label query-keyword width-6">\n          <span>GROUP BY</span>\n        </label>\n\n        <sql-part-editor ng-repeat="part in ctrl.groupParts" part=part class="gf-form-label sql-part" handle-event="ctrl.handleGroupPartEvent(part, $index, $event)">\n        </sql-part-editor>\n      </div>\n\n      <div class=gf-form>\n        <metric-segment segment=ctrl.groupAdd get-options=ctrl.getGroupOptions() on-change="ctrl.addGroupAction(part, $index)"></metric-segment>\n      </div>\n\n      <div class="gf-form gf-form--grow">\n        <div class="gf-form-label gf-form-label--grow"></div>\n      </div>\n    </div>\n\n  </div>\n\n  <div class=gf-form-inline>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword">Format as</label>\n      <div class=gf-form-select-wrapper>\n        <select class="gf-form-input gf-size-auto" ng-model=ctrl.target.format ng-options="f.value as f.text for f in ctrl.formats" ng-change=ctrl.refresh()></select>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword pointer" ng-click=ctrl.toggleEditorMode() ng-show="ctrl.panelCtrl.panel.type !== \'table\'">\n        <span ng-show=ctrl.target.rawQuery>Query Builder</span>\n        <span ng-hide=ctrl.target.rawQuery>Edit SQL</span>\n      </label>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label query-keyword pointer" ng-click="ctrl.showHelp = !ctrl.showHelp">\n        Show Help\n        <i class="fa fa-caret-down" ng-show=ctrl.showHelp></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showHelp></i>\n      </label>\n    </div>\n    <div class=gf-form ng-show=ctrl.lastQueryMeta>\n      <label class="gf-form-label query-keyword pointer" ng-click="ctrl.showLastQuerySQL = !ctrl.showLastQuerySQL">\n        Generated SQL\n        <i class="fa fa-caret-down" ng-show=ctrl.showLastQuerySQL></i>\n        <i class="fa fa-caret-right" ng-hide=ctrl.showLastQuerySQL></i>\n      </label>\n    </div>\n    <div class="gf-form gf-form--grow">\n      <div class="gf-form-label gf-form-label--grow"></div>\n    </div>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showLastQuerySQL>\n    <pre class=gf-form-pre>{{ctrl.lastQueryMeta.sql}}</pre>\n  </div>\n\n  <div class=gf-form ng-show=ctrl.showHelp>\n    <pre class="gf-form-pre alert alert-info">Time series:\n- return column named time or time_sec (in UTC), as a unix time stamp or any sql native date data type. You can use the macros below.\n- return column(s) with numeric datatype as values\nOptional:\n  - return column named <i>metric</i> to represent the series name.\n  - If multiple value columns are returned the metric column is used as prefix.\n  - If no column named metric is found the column name of the value column is used as series name\n\nResultsets of time series queries need to be sorted by time.\n\nTable:\n- return any set of columns\n\nMacros:\n- $__time(column) -&gt; UNIX_TIMESTAMP(column) as time_sec\n- $__timeEpoch(column) -&gt; UNIX_TIMESTAMP(column) as time_sec\n- $__timeFilter(column) -&gt; column BETWEEN FROM_UNIXTIME(1492750877) AND FROM_UNIXTIME(1492750877)\n- $__unixEpochFilter(column) -&gt;  time_unix_epoch &gt; 1492750877 AND time_unix_epoch &lt; 1492750877\n- $__unixEpochNanoFilter(column) -&gt;  column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n- $__timeGroup(column,\'5m\'[, fillvalue]) -&gt; cast(cast(UNIX_TIMESTAMP(column)/(300) as signed)*300 as signed)\n     by setting fillvalue grafana will fill in missing values according to the interval\n     fillvalue can be either a literal value, NULL or previous; previous will fill in the previous seen value or NULL if none has been seen yet\n- $__timeGroupAlias(column,\'5m\') -&gt; cast(cast(UNIX_TIMESTAMP(column)/(300) as signed)*300 as signed) AS "time"\n- $__unixEpochGroup(column,\'5m\') -&gt; column DIV 300 * 300\n- $__unixEpochGroupAlias(column,\'5m\') -&gt; column DIV 300 * 300 AS "time"\n\nExample of group by and order by with $__timeGroup:\nSELECT\n  $__timeGroupAlias(timestamp_col, \'1h\'),\n  sum(value_double) as value\nFROM yourtable\nGROUP BY 1\nORDER BY 1\n\nOr build your own conditionals using these macros which just return the values:\n- $__timeFrom() -&gt; FROM_UNIXTIME(1492750877)\n- $__timeTo() -&gt;  FROM_UNIXTIME(1492750877)\n- $__unixEpochFrom() -&gt;  1492750877\n- $__unixEpochTo() -&gt;  1492750877\n- $__unixEpochNanoFrom() -&gt;  1494410783152415214\n- $__unixEpochNanoTo() -&gt;  1494497183142514872\n    </pre>\n  </div>\n\n  \n\n  <div class=gf-form ng-show=ctrl.lastQueryError>\n    <pre class="gf-form-pre alert alert-error">{{ctrl.lastQueryError}}</pre>\n  </div>\n\n</query-editor-row>\n')}]),e.exports=n},h3Ht:function(e,t,n){"use strict";var a=n("SMGL"),r=n("LvDl"),i=n.n(r),o=n("ZFWI"),s=new(function(){function e(){}return e.prototype.addDashboardImpression=function(e){var t=this.impressionKey(),n=[];a.a.exists(t)&&(n=JSON.parse(a.a.get(t)),i.a.isArray(n)||(n=[])),(n=n.filter(function(t){return e!==t})).unshift(e),n.length>50&&n.pop(),a.a.set(t,JSON.stringify(n))},e.prototype.getDashboardOpened=function(){var e=a.a.get(this.impressionKey())||"[]";return e=JSON.parse(e),e=i.a.filter(e,function(e){return i.a.isNumber(e)})},e.prototype.impressionKey=function(){return"dashboard_impressions-"+o.b.bootData.user.orgId},e}());t.a=s},hE9y:function(e,t){var n="public/app/plugins/panel/singlestat/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n\n  <div class=grafana-info-box ng-if=ctrl.panel.gauge.show>\n    <h5>Gauge Migration</h5>\n    <p>\n      Gauge visualizations within the Singlestat panel are deprecated.  Please\n      migrate this panel to use the Gauge panel\n\n      </p><div class=gf-form-button-row>\n        <button class="btn btn-primary" ng-click=ctrl.migrateToGaugePanel(true)>\n          Migrate to Gauge Panel\n        </button>\n        <button class="btn btn-inverse" ng-click=ctrl.migrateToGaugePanel(false)>\n          Show as single stat\n        </button>\n      </div>\n\n      <br/>\n\n      <div ng-if=ctrl.panel.sparkline.show>\n        <b>NOTE:</b> Sparklines are not supported in the gauge panel\n      </div>\n\n      <div ng-if=ctrl.panel.prefix>\n        <b>NOTE:</b> Prefix will not be show in the gauge panel\n      </div>\n\n      <div ng-if=ctrl.panel.postfix>\n        <b>NOTE:</b> Postfix will not be show in the gauge panel\n      </div>\n\n      <div ng-if="ctrl.panel.links && ctrl.panel.links.length">\n        <b>NOTE:</b> Links will be in the upper left corner, rather than anywhere on the gauge\n      </div>\n    <p></p>\n  </div>\n\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Value</h5>\n\n    <div class=gf-form-inline>\n      <div class=gf-form ng-if="ctrl.fieldNames.length > 1">\n        <label class="gf-form-label width-6">Field</label>\n        <div class="gf-form-select-wrapper width-12">\n          <select class=gf-form-input ng-model=ctrl.panel.tableColumn ng-options="f for f in ctrl.fieldNames" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-6">Show</label>\n        <div class="gf-form-select-wrapper width-12">\n          <select class=gf-form-input ng-model=ctrl.panel.valueName ng-options="f.value as f.text for f in ctrl.valueNameOptions" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-6">Font size</label>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=ctrl.panel.valueFontSize ng-options="f for f in ctrl.fontSizes" ng-change=ctrl.render()></select>\n        </div>\n      </div>\n    </div>\n\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-6">Prefix</label>\n        <input type=text class="gf-form-input width-12" ng-model=ctrl.panel.prefix ng-change=ctrl.render() ng-model-onblur>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-6">Font size</label>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=ctrl.panel.prefixFontSize ng-options="f for f in ctrl.fontSizes" ng-change=ctrl.render() ng-disabled=!ctrl.canModifyText()></select>\n        </div>\n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-6">Postfix</label>\n        <input type=text class="gf-form-input width-12" ng-model=ctrl.panel.postfix ng-change=ctrl.render() ng-model-onblur>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-6">Font size</label>\n        <div class=gf-form-select-wrapper>\n          <select class="input-small gf-form-input" ng-model=ctrl.panel.postfixFontSize ng-options="f for f in ctrl.fontSizes" ng-change=ctrl.render() ng-disabled=!ctrl.canModifyText()></select>\n        </div>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-6">Unit</label>\n      <unit-picker onchange=ctrl.setUnitFormat() value=ctrl.panel.format width=18 />\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-6">Decimals</label>\n      <input type=number class="gf-form-input width-18" placeholder=auto data-placement=right bs-tooltip="\'Override automatic decimal precision for legend and tooltips\'" ng-model=ctrl.panel.decimals ng-change=ctrl.refresh() ng-model-onblur>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Coloring</h5>\n    <div class=gf-form-inline>\n      <gf-form-switch class=gf-form label-class=width-8 label=Background checked=ctrl.panel.colorBackground on-change=ctrl.render()></gf-form-switch>\n      <gf-form-switch class=gf-form label-class=width-6 label=Value checked=ctrl.panel.colorValue on-change=ctrl.render()></gf-form-switch>\n    </div>\n    <div class=gf-form-inline>\n      <gf-form-switch class=gf-form label-class=width-8 label=Prefix checked=ctrl.panel.colorPrefix on-change=ctrl.render() ng-disabled=!ctrl.canModifyText()></gf-form-switch>\n      <gf-form-switch class=gf-form label-class=width-6 label=Postfix checked=ctrl.panel.colorPostfix on-change=ctrl.render() ng-disabled=!ctrl.canModifyText()></gf-form-switch>\n    </div>\n    <div class=gf-form-inline>\n      <div class="gf-form max-width-21">\n        <label class="gf-form-label width-8">Thresholds\n          <tip>Define two threshold values&lt;br /&gt; 50,80 will produce: value &lt; 50 = Green, 50 &lt;= value &lt; 80 = Yellow, value &gt;= 80 = Red</tip>\n        </label>\n        <input type=text class=gf-form-input ng-model=ctrl.panel.thresholds ng-blur=ctrl.render() placeholder=50,80>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Colors</label>\n      <span class=gf-form-label ng-repeat="color in ctrl.panel.colors track by $index">\n        <color-picker color=color onchange=ctrl.onColorChange($index)></color-picker>\n      </span>\n      <span class=gf-form-label>\n        <a ng-click=ctrl.invertColorOrder()>\n          Invert\n        </a>\n      </span>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Spark lines</h5>\n    <gf-form-switch class=gf-form label-class=width-9 label=Show checked=ctrl.panel.sparkline.show on-change=ctrl.refresh()></gf-form-switch>\n    <div ng-if=ctrl.panel.sparkline.show>\n      <gf-form-switch class=gf-form label-class=width-9 label="Full height" checked=ctrl.panel.sparkline.full on-change=ctrl.render()></gf-form-switch>\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Y-Min</label>\n        <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right ng-model=ctrl.panel.sparkline.ymin ng-change=ctrl.render() ng-model-onblur empty-to-null>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Y-Max</label>\n        <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right ng-model=ctrl.panel.sparkline.ymax ng-change=ctrl.render() ng-model-onblur empty-to-null>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Line Color</label>\n        <span class=gf-form-label>\n          <color-picker color=ctrl.panel.sparkline.lineColor onchange=ctrl.onSparklineColorChange></color-picker>\n        </span>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Fill Color</label>\n        <span class=gf-form-label>\n          <color-picker color=ctrl.panel.sparkline.fillColor onchange=ctrl.onSparklineFillChange></color-picker>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group" ng-if=ctrl.panel.gauge.show>\n    <h5 class=section-heading>Gauge</h5>\n    <gf-form-switch class=gf-form label-class=width-10 switch-class=max-width-6 label=Show checked=ctrl.panel.gauge.show on-change=ctrl.render()></gf-form-switch>\n    <div ng-if=ctrl.panel.gauge.show>\n      <div class=gf-form>\n        <label class="gf-form-label width-10">Min</label>\n        <input type=number class="gf-form-input width-6" placeholder=0 data-placement=right ng-model=ctrl.panel.gauge.minValue ng-change=ctrl.refresh() ng-model-onblur>\n        <label class="gf-form-label alert-state-critical" ng-show=ctrl.invalidGaugeRange>\n          &nbsp; <i class="fa fa-warning"></i>\n          Min value is bigger than max.\n        </label>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-10">Max</label>\n        <input type=number class="gf-form-input width-6" placeholder=0 data-placement=right ng-model=ctrl.panel.gauge.maxValue ng-change=ctrl.refresh() ng-model-onblur>\n      </div>\n      <gf-form-switch class=gf-form label-class=width-10 switch-class=max-width-6 label="Threshold labels" checked=ctrl.panel.gauge.thresholdLabels on-change=ctrl.render()></gf-form-switch>\n      <gf-form-switch class=gf-form label-class=width-10 switch-class=max-width-6 label="Threshold markers" checked=ctrl.panel.gauge.thresholdMarkers on-change=ctrl.render()></gf-form-switch>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},hSYD:function(e,t){var n="public/app/plugins/datasource/cloudwatch/partials/query.parameter.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-inline>\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword width-8">Region</label>\n    <metric-segment segment=regionSegment get-options=getRegions() on-change=regionChanged()></metric-segment>\n  </div>\n\n  <div class="gf-form gf-form--grow">\n    <div class="gf-form-label gf-form-label--grow"></div>\n  </div>\n</div>\n\n<div class=gf-form-inline ng-if="target.expression.length === 0">\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword width-8">Metric</label>\n\n    <metric-segment segment=namespaceSegment get-options=getNamespaces() on-change=namespaceChanged()></metric-segment>\n    <metric-segment segment=metricSegment get-options=getMetrics() on-change=metricChanged()></metric-segment>\n  </div>\n\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword">Stats</label>\n  </div>\n\n  <div class=gf-form ng-repeat="segment in statSegments">\n    <metric-segment segment=segment get-options="getStatSegments(segment, $index)" on-change="statSegmentChanged(segment, $index)"></metric-segment>\n  </div>\n\n  <div class="gf-form gf-form--grow">\n    <div class="gf-form-label gf-form-label--grow"></div>\n  </div>\n</div>\n\n<div class=gf-form-inline ng-if="target.expression.length === 0">\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword width-8">Dimensions</label>\n    <metric-segment ng-repeat="segment in dimSegments" segment=segment get-options="getDimSegments(segment, $index)" on-change="dimSegmentChanged(segment, $index)"></metric-segment>\n  </div>\n\n  <div class="gf-form gf-form--grow">\n    <div class="gf-form-label gf-form-label--grow"></div>\n  </div>\n</div>\n\n<div class=gf-form-inline ng-if="target.statistics.length === 1">\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword width-8">\n      Id\n      <info-popover mode="right-normal ">Id can include numbers, letters, and underscore, and must start with a lowercase letter.</info-popover>\n    </label>\n    <input type="text " class=gf-form-input ng-model="target.id " spellcheck=false ng-pattern=/^[a-z][a-zA-Z0-9_]*$/ ng-model-onblur ng-change="onChange() "/>\n  </div>\n  <div class="gf-form max-width-30">\n    <label class="gf-form-label query-keyword width-7">Expression</label>\n    <input type="text " class=gf-form-input ng-model="target.expression\n " spellcheck=false ng-model-onblur ng-change="onChange() "/>\n  </div>\n</div>\n\n<div class=gf-form-inline>\n  <div class=gf-form>\n    <label class="gf-form-label query-keyword width-8">\n      Min period\n      <info-popover mode="right-normal ">Minimum interval between points in seconds</info-popover>\n    </label>\n    <input type="text " class=gf-form-input ng-model="target.period " spellcheck=false placeholder="auto\n " ng-model-onblur ng-change="onChange() "/>\n  </div>\n  <div class="gf-form max-width-30">\n    <label class="gf-form-label query-keyword width-7">Alias</label>\n    <input type="text " class=gf-form-input ng-model="target.alias " spellcheck=false ng-model-onblur ng-change="onChange() "/>\n    <info-popover mode="right-absolute ">\n      Alias replacement variables:\n      <ul ng-non-bindable>\n        <li>{{ metric }}</li>\n        <li>{{ stat }}</li>\n        <li>{{ namespace }}</li>\n        <li>{{ region }}</li>\n        <li>{{ period }}</li>\n        <li>{{ label }}</li>\n        <li>{{ YOUR_DIMENSION_NAME }}</li>\n      </ul>\n    </info-popover>\n  </div>\n\n  <div class="gf-form gf-form--grow">\n    <div class="gf-form-label gf-form-label--grow"></div>\n  </div>\n</div>\n')}]),e.exports=n},hU0f:function(e,t){},hfOi:function(e,t,n){"use strict";var a,r=n("mrSG"),i=n("q1tI"),o=n.n(i),s=n("/MKj"),l=n("1gCF"),c=n("Xmxp"),u=n("kDLi"),d=function(e){var t=e.icon,n=e.tooltip,a=e.classSuffix,r=e.onClick,i=e.href;return r?o.a.createElement(u.Tooltip,{content:n},o.a.createElement("button",{className:"btn navbar-button navbar-button--"+a,onClick:r,"aria-label":l.a.pages.Dashboard.Toolbar.selectors.toolbarItems(n)},o.a.createElement("i",{className:t}))):o.a.createElement(u.Tooltip,{content:n},o.a.createElement("a",{className:"btn navbar-button navbar-button--"+a,href:i},o.a.createElement("i",{className:t})))},p=n("Obii"),f=n("PAeb"),h=n("GQ3c"),m=n("3Tvq"),g=n("NPB1"),b=Object(u.stylesFactory)(function(e){return{container:Object(f.css)(a||(a=Object(r.__makeTemplateObject)(["\n      position: relative;\n      display: flex;\n      padding: 2px 2px;\n    "],["\n      position: relative;\n      display: flex;\n      padding: 2px 2px;\n    "])))}}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeSrv=Object(g.a)(),t.$rootScope=t.props.$injector.get("$rootScope"),t.triggerForceUpdate=function(){t.forceUpdate()},t.onChangeRefreshInterval=function(e){t.timeSrv.setAutoRefresh(e),t.forceUpdate()},t.onRefresh=function(){return t.timeSrv.refreshDashboard(),Promise.resolve()},t.onMoveBack=function(){t.$rootScope.appEvent(h.CoreEvents.shiftTime,-1)},t.onMoveForward=function(){t.$rootScope.appEvent(h.CoreEvents.shiftTime,1)},t.onChangeTimePicker=function(e){var n=t.props.dashboard.timepicker,a=n.nowDelay&&"now"===e.raw.to,r=p.dateMath.isMathString(e.raw.from)?e.raw.from:e.from,i=p.dateMath.isMathString(e.raw.to)?e.raw.to:e.to,o={from:r,to:a?"now-"+n.nowDelay:i};t.timeSrv.setTime(o)},t.onZoom=function(){t.$rootScope.appEvent(h.CoreEvents.zoomOut,2)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.dashboard.on(h.CoreEvents.timeRangeUpdated,this.triggerForceUpdate)},t.prototype.componentWillUnmount=function(){this.props.dashboard.off(h.CoreEvents.timeRangeUpdated,this.triggerForceUpdate)},Object.defineProperty(t.prototype,"refreshParamInUrl",{get:function(){return this.props.location.query.refresh},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.dashboard,n=e.theme,a=t.timepicker.refresh_intervals,r=this.timeSrv.timeRange(),i=t.getTimezone(),s=b(n);return o.a.createElement("div",{className:s.container},o.a.createElement(m.a,{value:r,onChange:this.onChangeTimePicker,timeZone:i,onMoveBackward:this.onMoveBack,onMoveForward:this.onMoveForward,onZoom:this.onZoom}),o.a.createElement(u.RefreshPicker,{onIntervalChanged:this.onChangeRefreshInterval,onRefresh:this.onRefresh,value:t.refresh,intervals:a,tooltip:"Refresh dashboard"}))},t}(i.Component),y=Object(u.withTheme)(v),w=n("3SGO"),x=function(e){function t(t){var n=e.call(this,t)||this;return n.onDahboardNameClick=function(){c.a.emit(h.CoreEvents.showDashSearch)},n.onFolderNameClick=function(){c.a.emit(h.CoreEvents.showDashSearch,{query:"folder:current"})},n.onClose=function(){n.props.editview?n.props.updateLocation({query:{editview:null},partial:!0}):n.props.updateLocation({query:{panelId:null,edit:null,fullscreen:null,tab:null},partial:!0})},n.onToggleTVMode=function(){c.a.emit(h.CoreEvents.toggleKioskMode)},n.onSave=function(){n.props.$injector.get("dashboardSrv").saveDashboard()},n.onOpenSettings=function(){n.props.updateLocation({query:{editview:"settings"},partial:!0})},n.onStarDashboard=function(){var e=n.props,t=e.dashboard;e.$injector.get("dashboardSrv").starDashboard(t.id,t.meta.isStarred).then(function(e){t.meta.isStarred=e,n.forceUpdate()})},n.onPlaylistPrev=function(){n.playlistSrv.prev()},n.onPlaylistNext=function(){n.playlistSrv.next()},n.onPlaylistStop=function(){n.playlistSrv.stop(),n.forceUpdate()},n.onOpenShare=function(){var e=n.props.$injector.get("$rootScope").$new();e.tabIndex=0,e.dashboard=n.props.dashboard,c.a.emit(h.CoreEvents.showModal,{src:"public/app/features/dashboard/components/ShareModal/template.html",scope:e})},n.playlistSrv=n.props.$injector.get("playlistSrv"),n}return Object(r.__extends)(t,e),t.prototype.renderDashboardTitleSearchButton=function(){var e=this.props.dashboard,t=e.meta.folderTitle,n=e.meta.folderId>0;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("div",{className:"navbar-page-btn"},!this.isInFullscreenOrSettings&&o.a.createElement("i",{className:"gicon gicon-dashboard"}),n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{className:"navbar-page-btn__folder",onClick:this.onFolderNameClick},t),o.a.createElement("i",{className:"fa fa-chevron-right navbar-page-btn__folder-icon"})),o.a.createElement("a",{onClick:this.onDahboardNameClick},e.title," ",o.a.createElement("i",{className:"fa fa-caret-down navbar-page-btn__search"})))),this.isSettings&&o.a.createElement("span",{className:"navbar-settings-title"}," / Settings"),o.a.createElement("div",{className:"navbar__spacer"}))},Object.defineProperty(t.prototype,"isInFullscreenOrSettings",{get:function(){return this.props.editview||this.props.isFullscreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSettings",{get:function(){return this.props.editview},enumerable:!0,configurable:!0}),t.prototype.renderBackButton=function(){return o.a.createElement("div",{className:"navbar-edit"},o.a.createElement(u.Tooltip,{content:"Go back (Esc)"},o.a.createElement("button",{className:"navbar-edit__back-btn",onClick:this.onClose,"aria-label":l.a.pages.Dashboard.Toolbar.selectors.backArrow},o.a.createElement("i",{className:"fa fa-arrow-left"}))))},t.prototype.render=function(){var e=this.props,t=e.dashboard,n=e.onAddPanel,a=e.location,r=e.$injector,i=t.meta,s=i.canStar,l=i.canSave,c=i.canShare,u=i.showSettings,p=i.isStarred,f=t.snapshot,h=f&&f.originalUrl;return o.a.createElement("div",{className:"navbar"},this.isInFullscreenOrSettings&&this.renderBackButton(),this.renderDashboardTitleSearchButton(),this.playlistSrv.isPlaying&&o.a.createElement("div",{className:"navbar-buttons navbar-buttons--playlist"},o.a.createElement(d,{tooltip:"Go to previous dashboard",classSuffix:"tight",icon:"fa fa-step-backward",onClick:this.onPlaylistPrev}),o.a.createElement(d,{tooltip:"Stop playlist",classSuffix:"tight",icon:"fa fa-stop",onClick:this.onPlaylistStop}),o.a.createElement(d,{tooltip:"Go to next dashboard",classSuffix:"tight",icon:"fa fa-forward",onClick:this.onPlaylistNext})),o.a.createElement("div",{className:"navbar-buttons navbar-buttons--actions"},l&&o.a.createElement(d,{tooltip:"Add panel",classSuffix:"add-panel",icon:"gicon gicon-add-panel",onClick:n}),s&&o.a.createElement(d,{tooltip:"Mark as favorite",classSuffix:"star",icon:p?"fa fa-star":"fa fa-star-o",onClick:this.onStarDashboard}),c&&o.a.createElement(d,{tooltip:"Share dashboard",classSuffix:"share",icon:"fa fa-share-square-o",onClick:this.onOpenShare}),l&&o.a.createElement(d,{tooltip:"Save dashboard",classSuffix:"save",icon:"fa fa-save",onClick:this.onSave}),h&&o.a.createElement(d,{tooltip:"Open original dashboard",classSuffix:"snapshot-origin",icon:"gicon gicon-link",href:h}),u&&o.a.createElement(d,{tooltip:"Dashboard settings",classSuffix:"settings",icon:"gicon gicon-cog",onClick:this.onOpenSettings})),o.a.createElement("div",{className:"navbar-buttons navbar-buttons--tv"},o.a.createElement(d,{tooltip:"Cycle view mode",classSuffix:"tv",icon:"fa fa-desktop",onClick:this.onToggleTVMode})),!t.timepicker.hidden&&o.a.createElement("div",{className:"navbar-buttons"},o.a.createElement(y,{$injector:r,dashboard:t,location:a,updateLocation:w.c})))},t}(i.PureComponent),O={updateLocation:w.c},_=Object(s.connect)(function(e){return{location:e.location}},O)(x);n.d(t,"a",function(){return _})},hiSG:function(e,t){var n="public/app/plugins/panel/graph/tab_thresholds_time_regions.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<graph-threshold-form panel-ctrl=ctrl></graph-threshold-form>\n<graph-time-region-form panel-ctrl=ctrl></graph-time-region-form>")}]),e.exports=n},hqzN:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("Obii"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSyncing:!1},t.handleSyncClick=function(){console.log("Bulk-sync now"),t.setState({isSyncing:!t.state.isSyncing})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.ldapSyncInfo,t=this.state.isSyncing,n=Object(o.dateTime)(e.nextSync).format("dddd YYYY-MM-DD HH:mm zz"),a=e&&e.prevSync,r=a?Object(o.dateTime)(e.prevSync.started).format("dddd YYYY-MM-DD HH:mm zz"):"";return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"page-heading"},"LDAP Synchronisation",i.a.createElement("button",{className:"btn btn-secondary pull-right",onClick:this.handleSyncClick,hidden:!0},i.a.createElement("span",{className:"btn-title"},"Bulk-sync now"),t&&i.a.createElement("i",{className:"fa fa-spinner fa-fw fa-spin run-icon"}))),i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("div",{className:"gf-form"},i.a.createElement("table",{className:"filter-table form-inline"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"Active synchronisation"),i.a.createElement("td",{colSpan:2},e.enabled?"Enabled":"Disabled")),i.a.createElement("tr",null,i.a.createElement("td",null,"Scheduled"),i.a.createElement("td",null,e.schedule)),i.a.createElement("tr",null,i.a.createElement("td",null,"Next scheduled synchronisation"),i.a.createElement("td",null,n)),i.a.createElement("tr",null,i.a.createElement("td",null,"Last synchronisation"),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("td",null,r),i.a.createElement("td",null,"Successful"))))))))},t}(r.PureComponent)},iFH1:function(e,t){var n="public/app/features/org/partials/newOrg.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body" ng-form=playlistEditForm>\n\t<h3 class=page-sub-heading>\n\t\tNew Organization\n\t</h3>\n\n\t<p class=playlist-description>Each organization contains their own dashboards, data sources and configuration, and cannot be shared between orgs. While users may belong to more than one, multiple organization are most frequently used in multi-tenant deployments. </p>\n\n\t<form>\n\t\t<div class=gf-form-group>\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-10">Org. name</span>\n\t\t\t\t<input type=text ng-model=newOrg.name required class="gf-form-input max-width-21" placeholder="organization name">\n\t\t\t</div>\n\t\t\t<br>\n\t\t\t<div class=gf-form-buttons-row>\n\t\t\t\t<button type=submit class="btn btn-primary" ng-click=createOrg()>Create</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</div>\n\n<footer/>\n')}]),e.exports=n},iKVC:function(e,t){var n="public/app/partials/confirm_modal.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body ng-cloak>\n\t<div class=modal-header>\n\t\t<h2 class=modal-header-title>\n\t\t\t<i class="fa {{icon}}"></i>\n\t\t\t<span class=p-l-1>\n\t\t\t\t{{title}}\n\t\t\t</span>\n\t\t</h2>\n\n\t\t<a class=modal-header-close ng-click=dismiss();>\n\t\t\t<i class="fa fa-remove"></i>\n\t\t</a>\n\t</div>\n\n\t<div class="modal-content text-center">\n\n\t\t<div class=confirm-modal-text>\n\t\t\t{{text}}\n\t\t\t<div ng-if="text2 && text2htmlBind" class=confirm-modal-text2 ng-bind-html=text2></div>\n      <div ng-if="text2 && !text2htmlBind" class=confirm-modal-text2>{{text2}}</div>\n\t\t</div>\n\n\t\t<div class=modal-content-confirm-text ng-if=confirmText>\n\t\t\t<input type=text class="gf-form-input width-16" style=display:inline-block placeholder="Type {{confirmText}} to confirm" ng-model=confirmInput ng-change=updateConfirmText(confirmInput)>\n\t\t</div>\n\n\t\t<div class=confirm-modal-buttons>\n\t\t\t<button ng-show=onAltAction type=button class="btn btn-primary" ng-click=dismiss();onAltAction();>{{altActionText}}</button>\n\t\t\t<button ng-show=onConfirm type=button class="btn btn-danger" ng-click=onConfirm();dismiss(); ng-disabled=!confirmTextValid give-focus=true aria-label={{selectors.delete}}>{{yesText}}</button>\n\t\t\t<button type=button class="btn btn-inverse" ng-click=dismiss()>{{noText}}</button>\n\t\t</div>\n\t</div>\n\n</div>\n')}]),e.exports=n},iODs:function(e,t,n){"use strict";var a;function r(e){a=e}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r})},iSop:function(e,t){var n="public/app/features/admin/partials/stats.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n\t<table class="filter-table form-inline">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>Name</th>\n\t\t\t\t<th>Value</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<td>Total dashboards</td>\n\t\t\t\t<td>{{ctrl.stats.dashboards}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total users</td>\n\t\t\t\t<td>{{ctrl.stats.users}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Active users (seen last 14 days)</td>\n\t\t\t\t<td>{{ctrl.stats.activeUsers}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total organizations</td>\n\t\t\t\t<td>{{ctrl.stats.orgs}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total datasources</td>\n\t\t\t\t<td>{{ctrl.stats.datasources}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total playlists</td>\n\t\t\t\t<td>{{ctrl.stats.playlists}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total snapshots</td>\n\t\t\t\t<td>{{ctrl.stats.snapshots}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total dashboard tags</td>\n\t\t\t\t<td>{{ctrl.stats.tags}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>Total starred dashboards</td>\n\t\t\t\t<td>{{ctrl.stats.stars}}</td>\n\t\t\t</tr>\n      <tr>\n\t\t\t\t<td>Total alerts</td>\n\t\t\t\t<td>{{ctrl.stats.alerts}}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>\n')}]),e.exports=n},iZOS:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=function(){function e(e){var t,n,r,i;if(this.columns=[],this.columnMap={},this.rows=[],this.type="table",e){if(e.columns)try{for(var o=Object(a.__values)(e.columns),s=o.next();!s.done;s=o.next()){var l=s.value;this.addColumn(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}if(e.rows)try{for(var c=Object(a.__values)(e.rows),u=c.next();!u.done;u=c.next()){var d=u.value;this.addRow(d)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}return e.prototype.sort=function(e){null===e.col||this.columns.length<=e.col||(this.rows.sort(function(t,n){return+(null==(t=t[e.col]))-+(null==(n=n[e.col]))||+(t>n)||-(t<n)}),e.desc&&this.rows.reverse(),this.columns[e.col].sort=!0,this.columns[e.col].desc=e.desc)},e.prototype.addColumn=function(e){this.columnMap[e.text]||(this.columns.push(e),this.columnMap[e.text]=e)},e.prototype.addRow=function(e){this.rows.push(e)},e}();function s(e,t,n){for(var a=!1,r=0;r<e.length;r++)if(void 0!==t[r]&&void 0!==n[r]){if(t[r]!==n[r])return!1}else void 0!==t[r]&&void 0!==n[r]||(a=!0);return a}function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e||new o;if(1===arguments.length)return r;if(2===arguments.length)return r.columns=t[0].hasOwnProperty("columns")?Object(a.__spread)(t[0].columns):[],r.rows=t[0].hasOwnProperty("rows")?Object(a.__spread)(t[0].rows):[],r;var l=t.filter(function(e){return!!e.columns}),c={},u=l.slice().reduce(function(e,t){return t.columns.forEach(function(t){var n=t.text;void 0===c[n]&&(c[n]=e.length,e.push(t))}),e},[]),d=l.map(function(e){return e.columns.map(function(e){return c[e.text]})}),p=l.reduce(function(e,t,n){var a=d[n];return t.rows.forEach(function(t){var n=[];a.forEach(function(e,a){n[e]=t[a]}),e.push(n)}),e},[]),f={},h=p.reduce(function(e,t,n){if(!f[n]){for(var a=n+1;a<p.length;){var r=i.a.findIndex(p,function(e){return s(u,t,e)},a);if(!(r>-1))break;for(var o=p[r],l=0;l<u.length;l++)void 0===t[l]&&void 0!==o[l]&&(t[l]=o[l]);f[r]=o,a=r+1}e.push(t)}return e},[]);return r.columns=u,r.rows=h,r}t.a=o},ibPz:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a,r,i=n("mrSG"),o=n("q1tI"),s=n.n(o),l=n("PAeb"),c=function(e){var t=e.className,n=Object(l.css)(a||(a=Object(i.__makeTemplateObject)(["\n    max-width: 150px;\n  "],["\n    max-width: 150px;\n  "])));return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:Object(l.cx)(t,n),src:"public/img/grafana_icon.svg",alt:"Grafana"}),s.a.createElement("div",{className:"logo-wordmark"}))},u=function(e){var t=e.className,n=e.children,a=Object(l.css)(r||(r=Object(i.__makeTemplateObject)(["\n    background: url(public/img/heatmap_bg_test.svg);\n    background-size: cover;\n  "],["\n    background: url(public/img/heatmap_bg_test.svg);\n    background-size: cover;\n  "])));return s.a.createElement("div",{className:Object(l.cx)(a,t)},n)},d=function(e){var t=e.className;return s.a.createElement("img",{className:t,src:"public/img/grafana_icon.svg",alt:"Grafana"})},p=function(){function e(){}return e.LoginLogo=c,e.LoginBackground=u,e.MenuLogo=d,e}()},"if1/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("mrSG"),r=function(){function e(e){var t=this;this.data=e,this.index=0;for(var n={},a=function(a){var r=e.fields[a],i=function(){return r.values.get(t.index)};n.hasOwnProperty(r.name)||Object.defineProperty(n,r.name,{enumerable:!0,get:i}),Object.defineProperty(n,a,{enumerable:!1,get:i})},r=0;r<e.fields.length;r++)a(r);this.obj=n}return Object.defineProperty(e.prototype,"dataFrame",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.data.length},enumerable:!0,configurable:!0}),e.prototype.getFieldDisplayProcessor=function(e){if(!this.dataFrame||!this.dataFrame.fields)return null;var t=this.dataFrame.fields[e];return t&&t.display?t.display:null},e.prototype.get=function(e){return this.index=e,this.obj},e.prototype.toArray=function(){var e=this;return new Array(this.data.length).fill(0).map(function(t,n){return Object(a.__assign)({},e.get(n))})},e.prototype.toJSON=function(){return this.toArray()},e.prototype.forEachRow=function(e){for(var t=0;t<this.data.length;t++)e(this.get(t))},e.prototype.map=function(e){for(var t=[],n=0;n<this.data.length;n++)t.push(e(this.get(n),n));return t},e}()},ir79:function(e,t,n){"use strict";var a=n("mrSG"),r=n("HJqT"),i=n("0v62"),o=n("Z0cm"),s=n.n(o),l=n("4qC0"),c=n.n(l);function u(e,t){return t.type||("time"===t.name||"Time"===t.name?t.type=r.a.time:t.type=Object(i.d)(e)),t.type===r.a.number?function(e){return parseFloat(e)}:t.type===r.a.boolean?function(e){return!("F"===e[0]||"f"===e[0]||"0"===e[0])}:function(e){return e}}var d=n("0uOV"),p=n("F03Y");n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var f=null,h=function(){function e(e,t){var n,r,i=this;if(this.fields=[],this.values={},this.first=new d.a,this.creator=t||function(e){return new d.a(e)},e){var o=e.name,s=e.refId,l=e.meta,c=e.fields;if(o&&(this.name=o),s&&(this.refId=s),l&&(this.meta=l),c)try{for(var u=Object(a.__values)(c),p=u.next();!p.done;p=u.next()){var f=p.value;this.addField(f)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}Object.defineProperty(this,"length",{enumerable:!0,get:function(){return i.first.length}})}return Object.defineProperty(e.prototype,"length",{get:function(){return this.first.length},enumerable:!0,configurable:!0}),e.prototype.addFieldFor=function(e,t){return this.addField({name:t||"",type:Object(i.d)(e)})},e.prototype.addField=function(e,t){var n=void 0;e.values&&(n=s()(e.values)?e.values:e.values.toArray());var a=e.type;a||"time"!==e.name&&"Time"!==e.name?(!a&&n&&n.length&&(a=Object(i.d)(n[0])),a||(a=r.a.other)):a=r.a.time;var o=e.name;o||(o=a===r.a.time?this.values.Time?"Time "+(this.fields.length+1):"Time":"Field "+(this.fields.length+1));var l={name:o,type:a,config:e.config||{},values:this.creator(n),labels:e.labels};if(a===r.a.other&&(a=Object(i.c)(l))&&(l.type=a),this.fields.push(l),this.first=this.fields[0].values,this.values[o]?console.warn("Duplicate field names found: "+o+", only the first will be accessible"):this.values[o]=l.values,t)for(;l.values.length<t;)l.values.add(f);else this.validate();return l},e.prototype.validate=function(){var e,t,n=this.fields.reduce(function(e,t){return Math.max(e,t.values.length)},0);try{for(var r=Object(a.__values)(this.fields),i=r.next();!i.done;i=r.next())for(var o=i.value;o.values.length!==n;)o.values.add(f)}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.addMissingFieldsFor=function(e){var t,n;try{for(var r=Object(a.__values)(Object.keys(e)),o=r.next();!o.done;o=r.next()){var s=o.value;this.values[s]||this.addField({name:s,type:Object(i.d)(e[s])})}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.reverse=function(){var e,t;try{for(var n=Object(a.__values)(this.fields),r=n.next();!r.done;r=n.next()){r.value.values.reverse()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.appendRow=function(e){for(var t=this.fields.length;t<e.length;t++)this.addField({name:"Field "+(t+1),type:Object(i.d)(e[t])});if(this.length<1)for(t=0;t<this.fields.length;t++){(n=this.fields[t]).type&&n.type!==r.a.other||(n.type=Object(i.d)(e[t]))}for(t=0;t<this.fields.length;t++){var n=this.fields[t],a=e[t];n.type!==r.a.string&&c()(a)&&(n.parse||(n.parse=u(a,n)),a=n.parse(a)),n.values.add(a)}},e.prototype.add=function(e,t){var n,i;t&&this.addMissingFieldsFor(e);var o=e;try{for(var s=Object(a.__values)(this.fields),l=s.next();!l.done;l=s.next()){var d=l.value,p=o[d.name];d.type!==r.a.string&&c()(p)&&(d.parse||(d.parse=u(p,d)),p=d.parse(p)),void 0===p&&(p=f),d.values.add(p)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.set=function(e,t,n){var r,i;if(e>this.length)throw new Error("Unable ot set value beyond current length");n&&this.addMissingFieldsFor(t);var o=t||{};try{for(var s=Object(a.__values)(this.fields),l=s.next();!l.done;l=s.next()){var c=l.value;c.values.set(e,o[c.name])}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.get=function(e){var t,n,r={};try{for(var i=Object(a.__values)(this.fields),o=i.next();!o.done;o=i.next()){var s=o.value;r[s.name]=s.values.get(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.toArray=function(){return Object(p.a)(this)},e.prototype.toJSON=function(){return Object(i.k)(this)},e}()},iyz2:function(e,t){var n="public/app/features/dashboard/components/RowOptions/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body>\n\t<div class=modal-header>\n\t\t<h2 class=modal-header-title>\n\t\t\t<i class="fa fa-copy"></i>\n\t\t\t<span class=p-l-1>Row Options</span>\n\t\t</h2>\n\n\t\t<a class=modal-header-close ng-click=ctrl.dismiss();>\n\t\t\t<i class="fa fa-remove"></i>\n\t\t</a>\n\t</div>\n\n\t<form name=ctrl.saveForm ng-submit=ctrl.save() class="modal-content text-center" novalidate>\n\t\t<div class=section>\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-7">Title</span>\n\t\t\t\t<input type=text class="gf-form-input max-width-13" ng-model=ctrl.row.title>\n\t\t\t</div>\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-7">Repeat for</span>\n\t\t\t\t<dash-repeat-option panel=ctrl.row></dash-repeat-option>\n\t\t\t</div>\n\n\t\t\t<div class=gf-form-button-row>\n\t\t\t\t<button type=submit class="btn btn-primary" ng-click=ctrl.update()>Update</button>\n\t\t\t\t<button type=button class="btn btn-inverse" ng-click=ctrl.dismiss()>Cancel</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</div>\n')}]),e.exports=n},jGYO:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("t8hP"),i=n("y6L2");function o(){var e=this;return function(t){return Object(a.__awaiter)(e,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,Object(r.getBackendSrv)().get("api/plugins",{embedded:0})];case 1:return e=n.sent(),t(Object(i.d)(e)),[2]}})})}}function s(){var e=this;return function(t,n){return Object(a.__awaiter)(e,void 0,void 0,function(){var e,o;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return t(Object(i.b)()),e=n().dataSources.dataSource.type,[4,Object(r.getBackendSrv)().get("api/plugins/"+e+"/dashboards")];case 1:return o=a.sent(),t(Object(i.c)(o)),[2]}})})}}},jaLZ:function(e,t){var n="public/app/plugins/datasource/prometheus/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n\t<div class=gf-form>\n\t\t<span class="gf-form-label width-10">Search expression</span>\n\t\t<input type=text class=gf-form-input ng-model=ctrl.annotation.expr placeholder=ALERTS>\n\t</div>\n\t<div class=gf-form>\n\t\t<span class="gf-form-label width-10">step</span>\n\t\t<input type=text class="gf-form-input max-width-6" ng-model=ctrl.annotation.step placeholder={{::ctrl.stepDefaultValuePlaceholder}}>\n\t</div>\n</div>\n\n<div class=gf-form-group>\n\t<h5 class=section-heading>Field formats</h5>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-5">Title</span>\n\t\t\t<input type=text class="gf-form-input max-width-9" ng-model=ctrl.annotation.titleFormat placeholder=alertname>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-5">Tags</span>\n\t\t\t<input type=text class="gf-form-input max-width-9" ng-model=ctrl.annotation.tagKeys placeholder=label1,label2>\n\t\t</div>\n\t\t<div class=gf-form-inline>\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-5">Text</span>\n\t\t\t\t<input type=text class="gf-form-input max-width-9" ng-model=ctrl.annotation.textFormat placeholder=instance>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<h5 class=section-heading>Other options</h5>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<gf-form-switch class=gf-form label="Series value as timestamp" label-class=width-14 checked=ctrl.annotation.useValueForTime tooltip="The unit of timestamp is milliseconds. If the unit of the series value is seconds, multiply its range vector by 1000.">\n\t\t\t</gf-form-switch>\n\t\t</div>\n\t</div>\n</div>\n')}]),e.exports=n},jvip:function(e,t){var n="public/app/features/dashboard/components/DashboardSettings/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<aside class=dashboard-settings__aside>\n\t<a href={{::section.url}} class=dashboard-settings__nav-item ng-class="{active: ctrl.viewId === section.id}" ng-repeat="section in ctrl.sections" aria-label={{ctrl.selectors.sectionItems(section.title)}}>\n    <i class={{::section.icon}}></i>\n\t\t{{::section.title}}\n\t</a>\n\n\t<div class=dashboard-settings__aside-actions>\n    <button class="btn btn-primary" ng-click=ctrl.saveDashboard() ng-show=ctrl.canSave aria-label={{ctrl.selectors.saveDashBoard}}>\n\t\t\tSave\n\t\t</button>\n\t\t<button class="btn btn-inverse" ng-click=ctrl.openSaveAsModal() ng-show=ctrl.canSaveAs aria-label={{ctrl.selectors.saveAsDashBoard}}>\n\t\t\tSave As...\n\t\t</button>\n\t</div>\n</aside>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'settings\'">\n\t<h3 class=dashboard-settings__header>\n\t\tGeneral\n\t</h3>\n\n\t<div class=gf-form-group>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label width-7">Name</label>\n\t\t\t<input type=text class="gf-form-input width-30" ng-model=ctrl.dashboard.title>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label width-7">Description</label>\n\t\t\t<input type=text class="gf-form-input width-30" ng-model=ctrl.dashboard.description>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label width-7">\n\t\t\t\tTags\n\t\t\t\t<info-popover mode=right-normal>Press enter to add a tag</info-popover>\n\t\t\t</label>\n\t\t\t<bootstrap-tagsinput ng-model=ctrl.dashboard.tags tagclass="label label-tag" placeholder="add tags">\n\t\t\t</bootstrap-tagsinput>\n\t\t</div>\n\t\t<folder-picker initial-title=ctrl.dashboard.meta.folderTitle initial-folder-id=ctrl.dashboard.meta.folderId on-change=ctrl.onFolderChange($folder) enable-create-new=true is-valid-selection=true label-class=width-7 dashboard-id=ctrl.dashboard.id>\n\t\t</folder-picker>\n\t\t<gf-form-switch class=gf-form label=Editable tooltip="Uncheck, then save and reload to disable all dashboard editing" checked=ctrl.dashboard.editable label-class=width-7>\n\t\t</gf-form-switch>\n\t</div>\n\n\t<gf-time-picker-settings dashboard=ctrl.dashboard></gf-time-picker-settings>\n\n\t<h5 class=section-heading>Panel Options</h5>\n\t<div class=gf-form>\n\t\t<label class="gf-form-label width-11">\n\t\t\tGraph Tooltip\n\t\t\t<info-popover mode=right-normal>\n\t\t\t\tCycle between options using Shortcut: CTRL+O or CMD+O\n\t\t\t</info-popover>\n\t\t</label>\n\t\t<div class=gf-form-select-wrapper>\n\t\t\t<select ng-model=ctrl.dashboard.graphTooltip class=gf-form-input ng-options="f.value as f.text for f in [{value: 0, text: \'Default\'}, {value: 1, text: \'Shared crosshair\'},{value: 2, text: \'Shared Tooltip\'}]"></select>\n\t\t</div>\n\t</div>\n\t<div class=gf-form-button-row>\n\t  <button class="btn btn-danger" ng-click=ctrl.deleteDashboard() ng-show=ctrl.canDelete aria-label="Dashboard settings page delete dashboard button">\n\t\t  Delete Dashboard\n\t  </button>\n  </div>\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'annotations\'" ng-include="\'public/app/features/annotations/partials/editor.html\'">\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'templating\'" ng-include="\'public/app/features/templating/partials/editor.html\'">\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'links\'">\n\t<dash-links-editor dashboard=ctrl.dashboard></dash-links-editor>\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'versions\'">\n\t<gf-dashboard-history dashboard=dashboard></gf-dashboard-history>\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'dashboard_json\'">\n\t<h3 class=dashboard-settings__header>JSON Model</h3>\n  <div class=dashboard-settings__subheader>\n    The JSON Model below is data structure that defines the dashboard. Including settings, panel settings & layout,\n    queries etc.\n  </div>\n\n\t<div class=gf-form>\n\t\t<code-editor content=ctrl.json data-mode=json data-max-lines=30></code-editor>\n\t</div>\n\n  <div class=gf-form-button-row>\n    <button class="btn btn-primary" ng-click=ctrl.saveDashboardJson() ng-show=ctrl.canSave>\n      Save Changes\n    </button>\n  </div>\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'permissions\'">\n  <dashboard-permissions ng-if="ctrl.dashboard && !ctrl.hasUnsavedFolderChange" dashboardid=ctrl.dashboard.id backendsrv=ctrl.backendSrv folder=ctrl.getFolder() />\n  <div ng-if=ctrl.hasUnsavedFolderChange>\n    <h5>You have changed folder, please save to view permissions.</h5>\n  </div>\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'404\'">\n  <h3 class=dashboard-settings__header>Settings view not found</h3>\n\n  <div>\n    <h5>The settings page could not be found or you do not have permission to access it</h5>\n  </div>\n</div>\n\n<div class=dashboard-settings__content ng-if="ctrl.viewId === \'make_editable\'">\n  <h3 class=dashboard-settings__header>Make Editable</h3>\n\n  <button class="btn btn-primary" ng-click=ctrl.makeEditable()>\n    Make Editable\n  </button>\n</div>\n\n')}]),e.exports=n},kDLi:function(e,t,n){"use strict";n.r(t);var a=n("aPt1");n.d(t,"ConfirmButton",function(){return a.v}),n.d(t,"DeleteButton",function(){return a.G}),n.d(t,"Tooltip",function(){return a.gc}),n.d(t,"PopoverContent",function(){return a.Ab}),n.d(t,"PopoverController",function(){return a.Bb}),n.d(t,"Popover",function(){return a.zb}),n.d(t,"Portal",function(){return a.Cb}),n.d(t,"CustomScrollbar",function(){return a.B}),n.d(t,"Select",function(){return a.Kb}),n.d(t,"AsyncSelect",function(){return a.d}),n.d(t,"IndicatorsContainer",function(){return a.bb}),n.d(t,"NoOptionsMessage",function(){return a.ub}),n.d(t,"resetSelectStyles",function(){return a.qc}),n.d(t,"ButtonSelect",function(){return a.n}),n.d(t,"ButtonCascader",function(){return a.m}),n.d(t,"Cascader",function(){return a.p}),n.d(t,"CascaderOption",function(){return a.q}),n.d(t,"FormLabel",function(){return a.Q}),n.d(t,"FormField",function(){return a.P}),n.d(t,"SecretFormField",function(){return a.Fb}),n.d(t,"LoadingPlaceholder",function(){return a.qb}),n.d(t,"ColorPicker",function(){return a.u}),n.d(t,"SeriesColorPicker",function(){return a.Lb}),n.d(t,"SeriesColorPickerPopover",function(){return a.Mb}),n.d(t,"SeriesColorPickerPopoverWithTheme",function(){return a.Nb}),n.d(t,"PanelOptionsGroup",function(){return a.wb}),n.d(t,"PanelOptionsGrid",function(){return a.vb}),n.d(t,"ValueMappingsEditor",function(){return a.kc}),n.d(t,"Switch",function(){return a.Ub}),n.d(t,"EmptySearchResult",function(){return a.I}),n.d(t,"PieChart",function(){return a.xb}),n.d(t,"PieChartType",function(){return a.yb}),n.d(t,"UnitPicker",function(){return a.jc}),n.d(t,"StatsPicker",function(){return a.Tb}),n.d(t,"Input",function(){return a.cb}),n.d(t,"InputStatus",function(){return a.db}),n.d(t,"RefreshPicker",function(){return a.Eb}),n.d(t,"TimePicker",function(){return a.dc}),n.d(t,"TimeOfDayPicker",function(){return a.cc}),n.d(t,"List",function(){return a.pb}),n.d(t,"TagsInput",function(){return a.ac}),n.d(t,"Modal",function(){return a.tb}),n.d(t,"ConfirmModal",function(){return a.w}),n.d(t,"QueryField",function(){return a.Db}),n.d(t,"SetInterval",function(){return a.Pb}),n.d(t,"Table",function(){return a.Xb}),n.d(t,"TableInputCSV",function(){return a.Yb}),n.d(t,"TabsBar",function(){return a.Zb}),n.d(t,"Tab",function(){return a.Vb}),n.d(t,"TabContent",function(){return a.Wb}),n.d(t,"BigValue",function(){return a.g}),n.d(t,"BigValueColorMode",function(){return a.h}),n.d(t,"BigValueSparkline",function(){return a.k}),n.d(t,"BigValueGraphMode",function(){return a.i}),n.d(t,"BigValueJustifyMode",function(){return a.j}),n.d(t,"Gauge",function(){return a.S}),n.d(t,"Graph",function(){return a.T}),n.d(t,"GraphLegend",function(){return a.V}),n.d(t,"GraphWithLegend",function(){return a.Z}),n.d(t,"GraphContextMenu",function(){return a.U}),n.d(t,"BarGauge",function(){return a.e}),n.d(t,"BarGaugeDisplayMode",function(){return a.f}),n.d(t,"GraphTooltipOptions",function(){return a.Y}),n.d(t,"VizRepeater",function(){return a.nc}),n.d(t,"LegendOptions",function(){return a.kb}),n.d(t,"LegendBasicOptions",function(){return a.gb}),n.d(t,"LegendRenderOptions",function(){return a.mb}),n.d(t,"LegendList",function(){return a.jb}),n.d(t,"LegendTable",function(){return a.nb}),n.d(t,"LegendItem",function(){return a.ib}),n.d(t,"LegendPlacement",function(){return a.lb}),n.d(t,"LegendDisplayMode",function(){return a.hb}),n.d(t,"Alert",function(){return a.a}),n.d(t,"AlertVariant",function(){return a.b}),n.d(t,"GraphSeriesToggler",function(){return a.W}),n.d(t,"GraphSeriesTogglerAPI",function(){return a.X}),n.d(t,"Collapse",function(){return a.t}),n.d(t,"LogLabels",function(){return a.rb}),n.d(t,"LogRows",function(){return a.sb}),n.d(t,"getLogRowStyles",function(){return a.pc}),n.d(t,"ToggleButtonGroup",function(){return a.fc}),n.d(t,"ToggleButton",function(){return a.ec}),n.d(t,"ThresholdsEditor",function(){return a.bc}),n.d(t,"ClickOutsideWrapper",function(){return a.s}),n.d(t,"CallToActionCard",function(){return a.o}),n.d(t,"ContextMenu",function(){return a.x}),n.d(t,"ContextMenuItem",function(){return a.z}),n.d(t,"ContextMenuGroup",function(){return a.y}),n.d(t,"ContextMenuProps",function(){return a.A}),n.d(t,"VariableSuggestion",function(){return a.mc}),n.d(t,"VariableOrigin",function(){return a.lc}),n.d(t,"DataLinksEditor",function(){return a.E}),n.d(t,"DataLinkInput",function(){return a.C}),n.d(t,"DataLinksContextMenu",function(){return a.D}),n.d(t,"SeriesIcon",function(){return a.Ob}),n.d(t,"transformersUIRegistry",function(){return a.tc}),n.d(t,"TransformationRow",function(){return a.hc}),n.d(t,"TransformationsEditor",function(){return a.ic}),n.d(t,"JSONFormatter",function(){return a.eb}),n.d(t,"JsonExplorer",function(){return a.fb}),n.d(t,"ErrorBoundary",function(){return a.J}),n.d(t,"ErrorBoundaryAlert",function(){return a.K}),n.d(t,"ErrorWithStack",function(){return a.L}),n.d(t,"AlphaNotice",function(){return a.c}),n.d(t,"DataSourceHttpSettings",function(){return a.F}),n.d(t,"Spinner",function(){return a.Sb}),n.d(t,"FadeTransition",function(){return a.M}),n.d(t,"SlideOutTransition",function(){return a.Rb}),n.d(t,"Segment",function(){return a.Gb}),n.d(t,"SegmentAsync",function(){return a.Hb}),n.d(t,"SegmentInput",function(){return a.Ib}),n.d(t,"SegmentSelect",function(){return a.Jb}),n.d(t,"Chart",function(){return a.r}),n.d(t,"Icon",function(){return a.ab}),n.d(t,"Drawer",function(){return a.H}),n.d(t,"Forms",function(){return a.R}),n.d(t,"Button",function(){return a.l}),n.d(t,"LinkButton",function(){return a.ob}),n.d(t,"FieldDisplayEditor",function(){return a.N}),n.d(t,"FieldPropertiesEditor",function(){return a.O}),n.d(t,"SingleStatBaseOptions",function(){return a.Qb}),n.d(t,"sharedSingleStatPanelChangedHandler",function(){return a.sc}),n.d(t,"sharedSingleStatMigrationHandler",function(){return a.rc}),n.d(t,"convertOldAngularValueMapping",function(){return a.oc});var r=n("Gj0f");for(var i in r)["ConfirmButton","DeleteButton","Tooltip","PopoverContent","PopoverController","Popover","Portal","CustomScrollbar","Select","AsyncSelect","IndicatorsContainer","NoOptionsMessage","resetSelectStyles","ButtonSelect","ButtonCascader","Cascader","CascaderOption","FormLabel","FormField","SecretFormField","LoadingPlaceholder","ColorPicker","SeriesColorPicker","SeriesColorPickerPopover","SeriesColorPickerPopoverWithTheme","PanelOptionsGroup","PanelOptionsGrid","ValueMappingsEditor","Switch","EmptySearchResult","PieChart","PieChartType","UnitPicker","StatsPicker","Input","InputStatus","RefreshPicker","TimePicker","TimeOfDayPicker","List","TagsInput","Modal","ConfirmModal","QueryField","SetInterval","Table","TableInputCSV","TabsBar","Tab","TabContent","BigValue","BigValueColorMode","BigValueSparkline","BigValueGraphMode","BigValueJustifyMode","Gauge","Graph","GraphLegend","GraphWithLegend","GraphContextMenu","BarGauge","BarGaugeDisplayMode","GraphTooltipOptions","VizRepeater","LegendOptions","LegendBasicOptions","LegendRenderOptions","LegendList","LegendTable","LegendItem","LegendPlacement","LegendDisplayMode","Alert","AlertVariant","GraphSeriesToggler","GraphSeriesTogglerAPI","Collapse","LogLabels","LogRows","getLogRowStyles","ToggleButtonGroup","ToggleButton","ThresholdsEditor","ClickOutsideWrapper","CallToActionCard","ContextMenu","ContextMenuItem","ContextMenuGroup","ContextMenuProps","VariableSuggestion","VariableOrigin","DataLinksEditor","DataLinkInput","DataLinksContextMenu","SeriesIcon","transformersUIRegistry","TransformationRow","TransformationsEditor","JSONFormatter","JsonExplorer","ErrorBoundary","ErrorBoundaryAlert","ErrorWithStack","AlphaNotice","DataSourceHttpSettings","Spinner","FadeTransition","SlideOutTransition","Segment","SegmentAsync","SegmentInput","SegmentSelect","Chart","Icon","Drawer","Forms","Button","LinkButton","FieldDisplayEditor","FieldPropertiesEditor","SingleStatBaseOptions","sharedSingleStatPanelChangedHandler","sharedSingleStatMigrationHandler","convertOldAngularValueMapping","default"].indexOf(i)<0&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n("aWP2");n.d(t,"ansicolor",function(){return o.m}),n.d(t,"DOMUtil",function(){return o.c}),n.d(t,"PALETTE_ROWS",function(){return o.i}),n.d(t,"PALETTE_COLUMNS",function(){return o.h}),n.d(t,"DEFAULT_ANNOTATION_COLOR",function(){return o.b}),n.d(t,"OK_COLOR",function(){return o.g}),n.d(t,"ALERTING_COLOR",function(){return o.a}),n.d(t,"NO_DATA_COLOR",function(){return o.f}),n.d(t,"PENDING_COLOR",function(){return o.j}),n.d(t,"REGION_FILL_ALPHA",function(){return o.k}),n.d(t,"colors",function(){return o.o}),n.d(t,"sortedColors",function(){return o.w}),n.d(t,"EventsWithValidation",function(){return o.e}),n.d(t,"validate",function(){return o.x}),n.d(t,"hasValidationEvent",function(){return o.q}),n.d(t,"regexValidation",function(){return o.v}),n.d(t,"SCHEMA",function(){return o.l}),n.d(t,"makeFragment",function(){return o.s}),n.d(t,"makeValue",function(){return o.t}),n.d(t,"DataLinkBuiltInVars",function(){return o.d}),n.d(t,"linkModelToContextMenuItems",function(){return o.r}),n.d(t,"getTagColorsFromName",function(){return o.p}),n.d(t,"measureText",function(){return o.u}),n.d(t,"calculateFontSize",function(){return o.n});var s=n("MIBK");n.d(t,"stylesFactory",function(){return s.g}),n.d(t,"ThemeContext",function(){return s.a}),n.d(t,"withTheme",function(){return s.i}),n.d(t,"mockTheme",function(){return s.c}),n.d(t,"getTheme",function(){return s.b}),n.d(t,"selectThemeVariant",function(){return s.e}),n.d(t,"useTheme",function(){return s.h}),n.d(t,"mockThemeContext",function(){return s.d}),n.d(t,"styleMixins",function(){return s.f});var l=n("CqUX");n.d(t,"BracesPlugin",function(){return l.a}),n.d(t,"ClearPlugin",function(){return l.b}),n.d(t,"ClipboardPlugin",function(){return l.c}),n.d(t,"IndentationPlugin",function(){return l.d}),n.d(t,"NewlinePlugin",function(){return l.e}),n.d(t,"RunnerPlugin",function(){return l.f}),n.d(t,"SelectionShortcutsPlugin",function(){return l.g}),n.d(t,"SlatePrism",function(){return l.h}),n.d(t,"SuggestionsPlugin",function(){return l.i})},kHZm:function(e,t,n){"use strict";var a=n("mrSG"),r=n("F/XL"),i=n("p0ib"),o=n("gI3B"),s=n("0/uQ"),l=n("LvDl"),c=n("67Y/"),u=n("9Z1F"),d=n("xMyE"),p=n("2WpN"),f=n("S1nX"),h=n("aGNc"),m=n("ny24"),g=n("NXk7"),b=n("Obii"),v=n("p+Sq"),y=n("t8hP");var w=n("exx3");function x(e,t){var n={panelData:{state:b.LoadingState.Loading,series:[],request:t,timeRange:t.range},packets:{}};if(!t.targets.length)return t.endTime=Date.now(),n.panelData.state=b.LoadingState.Done,Object(r.a)(n.panelData);var x,_=function(e,t){var n,r;try{for(var i=Object(a.__values)(t.targets),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.datasource===w.a)return w.b.query(t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}var c=e.query(t);return Object(s.a)(c)}(e,t).pipe(Object(c.a)(function(e){if(!Object(l.isArray)(e.data))throw new Error("Expected response data to be array, got "+typeof e.data+".");return t.endTime=Date.now(),(n=function(e,t){var n=t.panelData.request,r=Object(a.__assign)({},t.packets);r[e.key||"A"]=e;var i=e.state||b.LoadingState.Done,o=void 0,s=Object(a.__assign)({},n.range),c=Object(l.isString)(s.raw.from)?{from:b.dateMath.parse(s.raw.from,!1),to:b.dateMath.parse(s.raw.to,!0),raw:s.raw}:s,u=Object(l.flatten)(Object(l.map)(r,function(e){return e.error&&(i=b.LoadingState.Error,o=e.error),e.data}));return{packets:r,panelData:{state:i,series:u,error:o,request:n,timeRange:c}}}(e,n)).panelData}),Object(u.a)(function(e){return Object(r.a)(Object(a.__assign)(Object(a.__assign)({},n.panelData),{state:b.LoadingState.Error,error:O(e)}))}),Object(d.a)(function(e){var t=!1;return function(n){if(n.request&&!t&&(n.state===b.LoadingState.Done||n.state===b.LoadingState.Error)){var a={datasourceName:e.name,datasourceId:e.id,panelId:n.request.panelId,dashboardId:n.request.dashboardId,dataSize:0,duration:n.request.endTime-n.request.startTime,eventName:"data-request"},r=Object(v.a)().getCurrent();r&&(a.dashboardId=r.id,a.dashboardName=r.title,a.dashboardUid=r.uid,a.folderName=r.meta.folderTitle),n.series&&n.series.length>0&&(a.dataSize=n.series.length),n.error&&(a.error=n.error.message),Object(y.reportMetaAnalytics)(a),t=!0}}}(e)),Object(p.a)((x=t,function(){Object(g.b)().resolveCancelerIfExists(x.requestId)})),Object(f.a)());return Object(i.a)(Object(o.a)(200).pipe(Object(h.a)(n.panelData),Object(m.a)(_)),_)}function O(e){var t=e||{};if(!t.message){if("string"==typeof e||e instanceof String)return{message:e};var n="Query error";t.message?n=t.message:t.data&&t.data.message?n=t.data.message:t.data&&t.data.error?n=t.data.error:t.status&&(n="Query error: "+t.status+" "+t.statusText),t.message=n}return t}function _(e){var t,n,r,i;if(!Object(l.isArray)(e))return[];var o=[];try{for(var s=Object(a.__values)(e),c=s.next();!c.done;c=s.next()){var u=c.value,d=Object(b.guessFieldTypes)(Object(b.toDataFrame)(u));try{for(var p=(r=void 0,Object(a.__values)(d.fields)),f=p.next();!f.done;f=p.next()){f.value.calcs=null}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}o.push(d)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}function k(e,t){var n=e.series;return e.state===b.LoadingState.Loading&&0===n.length?(t||(t=e),Object(a.__assign)(Object(a.__assign)({},t),{state:b.LoadingState.Loading})):Object(a.__assign)(Object(a.__assign)({},e),{series:_(n)})}n.d(t,"c",function(){return x}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return k})},kX54:function(e,t){!function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:t}})}(window.jQuery),function(e){"use strict";var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};function a(){e(".dropdown-backdrop").remove(),e(t).each(function(){r(e(this)).removeClass("open")})}function r(t){var n,a=t.attr("data-target");return a||(a=(a=t.attr("href"))&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,"")),(n=a&&e(a))&&n.length||(n=t.parent()),n}n.prototype={constructor:n,toggle:function(t){var n,i,o=e(this);if(!o.is(".disabled, :disabled"))return i=(n=r(o)).hasClass("open"),a(),i||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",a),n.toggleClass("open")),o.focus(),!1},keydown:function(n){var a,i,o,s,l;if(/(38|40|27)/.test(n.keyCode)&&(a=e(this),n.preventDefault(),n.stopPropagation(),!a.is(".disabled, :disabled"))){if(!(s=(o=r(a)).hasClass("open"))||s&&27==n.keyCode)return 27==n.which&&o.find(t).focus(),a.click();(i=e("[role=menu] li:not(.divider):visible a",o)).length&&(l=i.index(i.filter(":focus")),38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<i.length-1&&l++,~l||(l=0),i.eq(l).focus())}}};var i=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var a=e(this),r=a.data("dropdown");r||a.data("dropdown",r=new n(this)),"string"==typeof t&&r[t].call(a)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=i,this},e(document).on("click.dropdown.data-api",a).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var a=e(this),r=a.data("modal"),i=e.extend({},e.fn.modal.defaults,a.data(),"object"==typeof n&&n);r||a.data("modal",r=new t(this,i)),"string"==typeof n?r[n]():i.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),a=n.attr("href"),r=e(n.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),i=r.data("modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},r.data(),n.data());t.preventDefault(),r.modal(i).one("hide",function(){n.focus()})})}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,a){var r,i,o,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.enabled=!0,l=(o=this.options.trigger.split(" ")).length;l--;)"click"==(s=o[l])?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",i="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,a=e.fn[this.type].defaults,r={};if(this._options&&e.each(this._options,function(e,t){a[e]!=t&&(r[e]=t)},this),!(n=e(t.currentTarget)[this.type](r).data(this.type)).options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},show:function(){var t,n,a,r,i,o,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),i="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),a=t[0].offsetWidth,r=t[0].offsetHeight,i){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-a/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-a/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-a};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width};break;case"topLeft":o={top:n.top-r,left:n.left+n.width/2-.1*a};break;case"topRight":o={top:n.top-r,left:n.left+n.width/2-.9*a};break;case"rightTop":o={top:n.top+n.height/2-.1*r,left:n.left+n.width};break;case"rightBottom":o={top:n.top+n.height/2-.9*r,left:n.left+n.width};break;case"bottomLeft":o={top:n.top+n.height,left:n.left+n.width/2-.1*a};break;case"bottomRight":o={top:n.top+n.height,left:n.left+n.width/2-.9*a};break;case"leftTop":o={top:n.top+n.height/2-.1*r,left:n.left-a};break;case"leftBottom":o={top:n.top+n.height/2-.9*r,left:n.left-a}}this.applyPlacement(o,i),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,a,r,i,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(e).addClass(t).addClass("in"),n=o[0].offsetWidth,a=o[0].offsetHeight,"top"==t&&a!=l&&(e.top=e.top+l-a,i=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,o.offset(e),n=o[0].offsetWidth,a=o[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(a-l,a,"top"),i&&o.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var t,n=this.tip(),a=e.Event("hide");if(this.$element.trigger(a),!a.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout(function(){n.off(e.support.transition.end).detach()},500),n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})):n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var a=e(this),r=a.data("tooltip"),i="object"==typeof n&&n;r||a.data("tooltip",r=new t(this,i)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,a,r=this.element,i=r.closest("ul:not(.dropdown-menu)"),o=r.attr("data-target");o||(o=(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=i.find(".active:last a")[0],a=e.Event("show",{relatedTarget:t}),r.trigger(a),a.isDefaultPrevented()||(n=e(o),this.activate(r.parent("li"),i),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,a){var r=n.find("> .active"),i=a&&e.support.transition&&r.hasClass("fade");function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),i?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}i?r.one(e.support.transition.end,o):o(),r.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var a=e(this),r=a.data("tab");r||a.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value")||this.$element.val();return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source)?this.process(n):this},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],a=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?a.push(t):r.push(t):n.push(t);return n.concat(a,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t?e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"}):e},render:function(t){var n=this;return t=e(t).map(function(t,a){return(t=e(n.options.item).attr("data-value",a)).find("a").html(n.highlighter(a)),t[0]}),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active").next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},destroy:function(){this.$element.off().removeData("typeahead"),this.$menu.off()},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown&&(!e.shiftKey||40!==e.keyCode)){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27,57]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}13===e.keyCode&&void 0===this.$menu.find(".active").attr("data-value")?this.$element.submit():(e.stopPropagation(),e.preventDefault())},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var a=e(this),r=a.data("typeahead"),i="object"==typeof n&&n;r||a.data("typeahead",r=new t(this,i)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),a=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,o=i.bottom,s=i.top;"object"!=typeof i&&(o=s=i),"function"==typeof s&&(s=i.top()),"function"==typeof o&&(o=i.bottom()),t=!(null!=this.unpin&&a+this.unpin<=r.top)&&(null!=o&&r.top+this.$element.height()>=n-o?"bottom":null!=s&&a<=s&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-a:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var a=e(this),r=a.data("affix"),i="object"==typeof n&&n;r||a.data("affix",r=new t(this,i)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery)},kYRH:function(e,t){!function(e){"use strict";e.plot.plugins.push({init:function(t){t.hooks.drawSeries.push(function(t,n,a){var r,i,o,s,l,c,u;function d(e,t){n.beginPath(),n.moveTo(a.xaxis.p2c(e)+c.left,a.yaxis.p2c(t)+c.top)}function p(e,t){console.assert(t>e,"expects the end index to be greater than the start index");var n,a,r=0===e||null===o[e-1]||null===l[e-1],c=!1;for(n=e;n<t;n++)if(null===o[n*i+1]||null===l[n*i+1])c=!1,r=!0;else if(o[n*i+1]===l[n*s+1])c=!0,r=!1;else{if(o[n*i+1]>l[n*s+1])return r?d(o[n*i],o[n*i+1]):c?d(o[(n-1)*i],o[(n-1)*i+1]):d((a=f(n))[0],a[1]),void m(n,t);r=!1,c=!1}}function f(e){var t,n,a,r,c,u,d,p,f,h,m,g,b,v,y,w;for(console.assert(e>0,"expects the second point in the series line segment"),t=1;t<l.length/s;t++)if(a=o[(e-1)*i],r=o[(e-1)*i+1],c=o[e*i],u=o[e*i+1],d=l[(t-1)*s],p=l[(t-1)*s+1],f=l[t*s],h=l[t*s+1],m=void 0,g=void 0,b=void 0,v=void 0,y=void 0,w=void 0,w=((b=f-d)*(r-p)-(v=h-p)*(a-d))/(-b*(g=u-r)+(m=c-a)*v),null!==(n=(y=(-g*(a-d)+m*(r-p))/(-b*g+m*v))>=0&&y<=1&&w>=0&&w<=1?[a+w*m,r+w*g]:null))return n;console.error("intersectionPoint() should only be called when an intersection happens")}function h(e,t){var a;for(console.assert(e>=t,"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)"),a=e;a>=t;a--)n.lineTo(r.xaxis.p2c(l[a*s])+c.left,r.yaxis.p2c(l[a*s+1])+c.top);n.closePath(),n.fill()}function m(e,t){var r,u;for(console.assert(e<=t,"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)"),r=e;r<t;r++){if(null===o[r*i+1]&&r>e)return h(r-1,e),void p(r,t);if(o[r*i+1]===l[r*s+1])return h(r,e),void p(r,t);if(o[r*i+1]<l[r*s+1])return u=f(r),n.lineTo(a.xaxis.p2c(u[0])+c.left,a.yaxis.p2c(u[1])+c.top),h(r,e),void p(r,t);n.lineTo(a.xaxis.p2c(o[r*i])+c.left,a.yaxis.p2c(o[r*i+1])+c.top)}h(t,e)}null!==a.fillBelowTo&&(r=function(e,t){var n;for(n=0;n<t.length;++n)if(t[n].id===e.fillBelowTo)return t[n];return null}(a,t.getData()))&&(i=a.datapoints.pointsize,o=a.datapoints.points,s=r.datapoints.pointsize,l=r.datapoints.points,c=t.getPlotOffset(),function(){if(o.length/i!=l.length/s)return console.error("Refusing to graph inconsistent number of points"),!1;var e;for(e=0;e<o.length/i;e++)if(null!==o[e*i]&&null!==l[e*s]&&o[e*i]!==l[e*s])return console.error("Refusing to graph points without matching value"),!1;return!0}()&&((u=e.color.parse(a.color)).a=.4,u.normalize(),n.fillStyle=u.toString(),p(0,o.length/i)))})},options:{series:{fillBelowTo:null}},name:"fillbelow",version:"0.1.0"})}(jQuery)},krwA:function(e,t){var n="public/app/features/playlist/partials/playlist.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body" ng-form=ctrl.playlistEditForm>\n\n\t<h3 class=page-sub-heading ng-hide=ctrl.isNew>Edit Playlist</h3>\n\t<h3 class=page-sub-heading ng-show=ctrl.isNew>New Playlist</h3>\n\n\t<p class=playlist-description>A playlist rotates through a pre-selected list of Dashboards. A Playlist can be a great way to build situational awareness, or just show off your metrics to your team or visitors.</p>\n\n\t<div class=gf-form-group>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-7">Name</span>\n\t\t\t<input type=text required ng-model=ctrl.playlist.name class="gf-form-input max-width-21">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-7">Interval</span>\n\t\t\t<input type=text required ng-model=ctrl.playlist.interval placeholder=5m class="gf-form-input max-width-21">\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-group>\n\t\t<h3 class=page-headering>Dashboards</h3>\n\n\t\t<table class="filter-table playlist-available-list">\n\t\t\t<tr ng-repeat="playlistItem in ctrl.playlistItems">\n\t\t\t\t<td ng-if="playlistItem.type === \'dashboard_by_id\'">\n\t\t\t\t\t<i class="gicon gicon-dashboard"></i>&nbsp;&nbsp;{{playlistItem.title}}\n\t\t\t\t</td>\n\t\t\t\t<td ng-if="playlistItem.type === \'dashboard_by_tag\'">\n\t\t\t\t\t<a class="search-result-tag label label-tag" tag-color-from-name=playlistItem.title>\n\t\t\t\t\t\t<i class="fa fa-tag"></i>\n\t\t\t\t\t\t<span>{{playlistItem.title}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</td>\n\n\t\t\t\t<td class=selected-playlistitem-settings>\n\t\t\t\t\t<button class="btn btn-inverse btn-small" ng-hide=$first ng-click=ctrl.movePlaylistItemUp(playlistItem)>\n\t\t\t\t\t\t<i class="fa fa-arrow-up"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn btn-inverse btn-small" ng-hide=$last ng-click=ctrl.movePlaylistItemDown(playlistItem)>\n\t\t\t\t\t\t<i class="fa fa-arrow-down"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn btn-inverse btn-small" ng-click=ctrl.removePlaylistItem(playlistItem)>\n\t\t\t\t\t\t<i class="fa fa-remove"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr ng-if="ctrl.playlistItems.length === 0">\n\t\t\t\t<td><em>Playlist is empty, add dashboards below.</em></td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n\n\t<div class=gf-form-group>\n\t\t<h3 class=page-headering>Add dashboards</h3>\n\t\t<playlist-search class=playlist-search-container search-started=ctrl.searchStarted(promise)></playlist-search>\n\n\t\t<div ng-if="ctrl.filteredDashboards.length > 0">\n\t\t\t<table class="filter-table playlist-available-list">\n\t\t\t\t<tr ng-repeat="playlistItem in ctrl.filteredDashboards">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<i class="gicon gicon-dashboard"></i>\n\t\t\t\t\t\t&nbsp;&nbsp;{{playlistItem.title}}\n\t\t\t\t\t\t<i class="fa fa-star" ng-show=playlistItem.isStarred></i>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=add-dashboard>\n\t\t\t\t\t\t<button class="btn btn-inverse btn-small pull-right" ng-click=ctrl.addPlaylistItem(playlistItem)>\n\t\t\t\t\t\t\t<i class="fa fa-plus"></i>\n\t\t\t\t\t\t\tAdd to playlist\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t\t<div class=playlist-search-results-container ng-if="ctrl.filteredTags.length > 0;">\n\t\t\t<table class="filter-table playlist-available-list">\n\t\t\t\t<tr ng-repeat="tag in ctrl.filteredTags">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<a class="search-result-tag label label-tag" tag-color-from-name=tag.term>\n\t\t\t\t\t\t\t<i class="fa fa-tag"></i>\n\t\t\t\t\t\t\t<span>{{tag.term}} &nbsp;({{tag.count}})</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=add-dashboard>\n\t\t\t\t\t\t<button class="btn btn-inverse btn-small pull-right" ng-click=ctrl.addTagPlaylistItem(tag)>\n\t\t\t\t\t\t\t<i class="fa fa-plus"></i>\n\t\t\t\t\t\t\tAdd to playlist\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n\n\t<div class=clearfix></div>\n\n\t<div class=gf-form-button-row>\n\t\t<a class="btn btn-primary" ng-show=ctrl.isNew ng-disabled="ctrl.playlistEditForm.$invalid || ctrl.isPlaylistEmpty()" ng-click="ctrl.savePlaylist(ctrl.playlist, ctrl.playlistItems)">Create</a>\n\t\t<a class="btn btn-primary" ng-show=!ctrl.isNew ng-disabled="ctrl.playlistEditForm.$invalid || ctrl.isPlaylistEmpty()" ng-click="ctrl.savePlaylist(ctrl.playlist, ctrl.playlistItems)">Save</a>\n\t\t<a class=btn-text ng-click=ctrl.backToList()>Cancel</a>\n\t</div>\n</div>\n\n<footer/>\n')}]),e.exports=n},lJbD:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var a=n("mrSG"),r=n("txxJ"),i=n("ZFWI"),o=n("LvDl"),s=n.n(o),l=function(){function e(){this.navItems=i.b.bootData.navTree}return e.prototype.getCfgNode=function(){return s.a.find(this.navItems,{id:"cfg"})},e.prototype.getNav=function(){for(var e,t,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var l=this.navItems,c={breadcrumbs:[]};try{for(var u=Object(a.__values)(i),d=u.next();!d.done;d=u.next()){var p=d.value;if(s.a.isNumber(p)){c.main=c.breadcrumbs[p];break}var f=s.a.find(l,{id:p});c.breadcrumbs.push(f),c.node=f,c.main=f,l=f.children}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(c.main.children)try{for(var h=Object(a.__values)(c.main.children),m=h.next();!m.done;m=h.next()){var g=m.value;g.active=!1,g.url===c.node.url&&(g.active=!0)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}return c},e.prototype.getNotFoundNav=function(){return c()},e}();function c(){return u("Page not found","404 Error")}function u(e,t){var n={text:e,subTitle:t,icon:"fa fa-fw fa-warning"};return{breadcrumbs:[n],node:n,main:n}}r.c.service("navModelSrv",l)},lcef:function(e,t,n){"use strict";var a,r,i,o,s,l,c,u,d,p,f,h,m,g,b,v,y,w,x,O,_,k,j,C,S=n("MIBK"),E=n("mrSG"),T=n("q1tI"),M=n.n(T),A=n("PAeb"),N=Object(S.g)(function(e){return{label:Object(A.css)(a||(a=Object(E.__makeTemplateObject)(["\n      font-size: ",";\n      font-weight: ",";\n      line-height: 1.25;\n      margin: ",";\n      padding: ",";\n      color: ",";\n      max-width: 480px;\n    "],["\n      font-size: ",";\n      font-weight: ",";\n      line-height: 1.25;\n      margin: ",";\n      padding: ",";\n      color: ",";\n      max-width: 480px;\n    "])),e.typography.size.sm,e.typography.weight.semibold,e.spacing.formLabelMargin,e.spacing.formLabelPadding,e.colors.formLabel),description:Object(A.css)(r||(r=Object(E.__makeTemplateObject)(["\n      color: ",";\n      font-size: ",";\n      font-weight: ",";\n      display: block;\n    "],["\n      color: ",";\n      font-size: ",";\n      font-weight: ",";\n      display: block;\n    "])),e.colors.formLabel,e.typography.size.sm,e.typography.weight.regular)}}),D=function(e){var t=e.children,n=e.description,a=e.className,r=Object(E.__rest)(e,["children","description","className"]),i=Object(S.h)(),o=N(i);return M.a.createElement("div",{className:Object(A.cx)(o.label,a)},M.a.createElement("label",Object(E.__assign)({},r),t,n&&M.a.createElement("span",{className:o.description},n)))},I=Object(S.g)(function(e){return{legend:Object(A.css)(i||(i=Object(E.__makeTemplateObject)(["\n      font-size: ",";\n      font-weight: ",";\n      margin: ",";\n      color: ",";\n    "],["\n      font-size: ",";\n      font-weight: ",";\n      margin: ",";\n      color: ",";\n    "])),e.typography.heading.h3,e.typography.weight.regular,e.spacing.formLegendMargin,e.colors.formLegend)}}),P=Object(S.g)(function(e){return{fieldValidationMessage:Object(A.css)(o||(o=Object(E.__makeTemplateObject)(["\n      font-size: ",";\n      font-weight: ",";\n      margin: ",";\n      padding: ",";\n      color: ",";\n      background: ",";\n      border-radius: ",";\n      position: relative;\n      display: inline-block;\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: 9px;\n        top: -4px;\n        width: 0;\n        height: 0;\n        border-left: 4px solid transparent;\n        border-right: 4px solid transparent;\n        border-bottom: 4px solid ",";\n      }\n    "],["\n      font-size: ",";\n      font-weight: ",";\n      margin: ",";\n      padding: ",";\n      color: ",";\n      background: ",";\n      border-radius: ",";\n      position: relative;\n      display: inline-block;\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: 9px;\n        top: -4px;\n        width: 0;\n        height: 0;\n        border-left: 4px solid transparent;\n        border-right: 4px solid transparent;\n        border-bottom: 4px solid ",";\n      }\n    "])),e.typography.size.sm,e.typography.weight.semibold,e.spacing.formValidationMessageMargin,e.spacing.formValidationMessagePadding,e.colors.formValidationMessageText,e.colors.formValidationMessageBg,e.border.radius.sm,e.colors.formValidationMessageBg),fieldValidationMessageIcon:Object(A.css)(s||(s=Object(E.__makeTemplateObject)(["\n      margin-right: ","px;\n    "],["\n      margin-right: ","px;\n    "])),e.spacing.formSpacingBase)}}),F=function(e){var t=e.children,n=e.className,a=Object(S.h)(),r=P(a);return M.a.createElement("div",{className:Object(A.cx)(r.fieldValidationMessage,n)},M.a.createElement("i",{className:Object(A.cx)(r.fieldValidationMessageIcon,"fa","fa-warning")}),t)},L=n("Zss7"),R=n.n(L),V=n("oeKk"),$=n("4Qg+"),B=function(e,t,n){return Object(A.css)(l||(l=Object(E.__makeTemplateObject)(["\n  background: linear-gradient(180deg, "," 0%, "," 100%);\n  color: ",";\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:focus {\n    background: ",";\n    outline: none;\n  }\n"],["\n  background: linear-gradient(180deg, "," 0%, "," 100%);\n  color: ",";\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:focus {\n    background: ",";\n    outline: none;\n  }\n"])),e,t,n,e,n,e)},U=Object(S.g)(function(e){var t=e.theme,n=e.size,a=e.variant,r=Object($.c)(t,n),i=r.padding,o=r.fontSize,s=r.height,l=function(e,t){switch(t){case"secondary":var n=Object(S.e)({light:e.colors.gray7,dark:e.colors.gray15},e.type),a=Object(S.e)({light:R()(n).darken(5).toString(),dark:R()(n).lighten(4).toString()},e.type);return{borderColor:Object(S.e)({light:e.colors.gray85,dark:e.colors.gray25},e.type),background:B(n,a,Object(S.e)({light:e.colors.gray25,dark:e.colors.gray4},e.type))};case"destructive":return{borderColor:e.colors.redShade,background:B(e.colors.redBase,e.colors.redShade,e.colors.white)};case"link":return{borderColor:"transparent",background:B("transparent","transparent",e.colors.linkExternal),variantStyles:Object(A.css)(c||(c=Object(E.__makeTemplateObject)(["\n          &:focus {\n            outline: none;\n            box-shadow: none;\n          }\n        "],["\n          &:focus {\n            outline: none;\n            box-shadow: none;\n          }\n        "])))};case"primary":default:return{borderColor:e.colors.blueShade,background:B(e.colors.blueBase,e.colors.blueShade,e.colors.white)}}}(t,a),m=l.background,g=l.borderColor,b=l.variantStyles;return{button:Object(A.cx)(Object(A.css)(u||(u=Object(E.__makeTemplateObject)(["\n        label: button;\n        display: inline-flex;\n        align-items: center;\n        font-weight: ",";\n        font-family: ",";\n        line-height: ",";\n        font-size: ",";\n        padding: ",";\n        height: ",";\n        vertical-align: middle;\n        cursor: pointer;\n        border: 1px solid ",";\n        border-radius: ",";\n        ",";\n\n        &[disabled],\n        &:disabled {\n          cursor: not-allowed;\n          opacity: 0.65;\n          box-shadow: none;\n        }\n      "],["\n        label: button;\n        display: inline-flex;\n        align-items: center;\n        font-weight: ",";\n        font-family: ",";\n        line-height: ",";\n        font-size: ",";\n        padding: ",";\n        height: ",";\n        vertical-align: middle;\n        cursor: pointer;\n        border: 1px solid ",";\n        border-radius: ",";\n        ",";\n\n        &[disabled],\n        &:disabled {\n          cursor: not-allowed;\n          opacity: 0.65;\n          box-shadow: none;\n        }\n      "])),t.typography.weight.semibold,t.typography.fontFamily.sansSerif,t.typography.lineHeight.sm,o,i,s,g,t.border.radius.sm,m),Object($.b)(t),Object(A.css)(d||(d=Object(E.__makeTemplateObject)(["\n        ","\n      "],["\n        ","\n      "])),b)),buttonWithIcon:Object(A.css)(p||(p=Object(E.__makeTemplateObject)(["\n      padding-left: ",";\n    "],["\n      padding-left: ",";\n    "])),t.spacing.sm),iconButton:Object(A.css)(f||(f=Object(E.__makeTemplateObject)(["\n      padding-right: 0;\n    "],["\n      padding-right: 0;\n    "]))),iconWrap:Object(A.css)(h||(h=Object(E.__makeTemplateObject)(["\n      label: button-icon-wrap;\n      & + * {\n        margin-left: ",";\n      }\n    "],["\n      label: button-icon-wrap;\n      & + * {\n        margin-left: ",";\n      }\n    "])),t.spacing.sm)}}),q=M.a.forwardRef(function(e,t){var n=Object(T.useContext)(S.a),a=U({theme:n,size:e.size||"md",variant:e.variant||"primary"});return M.a.createElement(V.a,Object(E.__assign)({},e,{styles:a,ref:t}))}),z=M.a.forwardRef(function(e,t){var n=Object(T.useContext)(S.a),a=U({theme:n,size:e.size||"md",variant:e.variant||"primary"});return M.a.createElement(V.b,Object(E.__assign)({},e,{styles:a,ref:t}))}),H=n("6iRR"),G=Object(S.g)(function(e){return{slider:Object(A.cx)(Object(A.css)(m||(m=Object(E.__makeTemplateObject)(["\n        width: 32px;\n        height: 16px;\n        background: ",";\n        transition: all 0.30s ease;\n        border-radius: 50px;\n        position: relative;\n        border: none;\n        display: block;\n        padding: 0;\n        &:hover {\n          background: ",";\n        }\n        &:after {\n          content: '';\n          transition: transform 0.2s cubic-bezier(0.19, 1, 0.22, 1);\n          position: absolute;\n          top: 50%;\n          display: block;\n          width: 12px;\n          height: 12px;\n          background: ",";\n          border-radius: 6px;\n          transform: translate3d(2px, -50%, 0);\n        }\n        &:focus {\n          /* border: 1px solid ","; */\n        }\n        &[disabled] {\n          background: ",";\n        }\n      "],["\n        width: 32px;\n        height: 16px;\n        background: ",";\n        transition: all 0.30s ease;\n        border-radius: 50px;\n        position: relative;\n        border: none;\n        display: block;\n        padding: 0;\n        &:hover {\n          background: ",";\n        }\n        &:after {\n          content: '';\n          transition: transform 0.2s cubic-bezier(0.19, 1, 0.22, 1);\n          position: absolute;\n          top: 50%;\n          display: block;\n          width: 12px;\n          height: 12px;\n          background: ",";\n          border-radius: 6px;\n          transform: translate3d(2px, -50%, 0);\n        }\n        &:focus {\n          /* border: 1px solid ","; */\n        }\n        &[disabled] {\n          background: ",";\n        }\n      "])),e.colors.formSwitchBg,e.colors.formSwitchBgHover,e.colors.formSwitchDot,e.colors.formSwitchDot,e.colors.formSwitchBgDisabled),Object($.b)(e)),sliderActive:Object(A.css)(g||(g=Object(E.__makeTemplateObject)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n      &:after {\n        transform: translate3d(16px, -50%, 0);\n      }\n    "],["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n      &:after {\n        transform: translate3d(16px, -50%, 0);\n      }\n    "])),e.colors.formSwitchBgActive,e.colors.formSwitchBgActiveHover)}}),W=Object(S.g)(function(e){var t=N(e);return{label:Object(A.cx)(t.label,Object(A.css)(b||(b=Object(E.__makeTemplateObject)(["\n        padding-left: ","px;\n      "],["\n        padding-left: ","px;\n      "])),e.spacing.formSpacingBase)),description:Object(A.cx)(t.description,Object(A.css)(v||(v=Object(E.__makeTemplateObject)(["\n        padding-left: ","px;\n      "],["\n        padding-left: ","px;\n      "])),e.spacing.formSpacingBase)),wrapper:Object(A.css)(y||(y=Object(E.__makeTemplateObject)(["\n      position: relative;\n      padding-left: ",";\n    "],["\n      position: relative;\n      padding-left: ",";\n    "])),"16px"),input:Object(A.css)(w||(w=Object(E.__makeTemplateObject)(["\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      opacity: 0;\n      &:focus + span {\n        ","\n      }\n\n      /**\n       * Using adjacent sibling selector to style checked state.\n       * Primarily to limit the classes necessary to use when these classes will be used\n       * for angular components styling\n       * */\n      &:checked + span {\n        background: blue;\n        background: ",";\n        border: none;\n        &:hover {\n          background: ",";\n        }\n        &:after {\n          content: '';\n          position: absolute;\n          left: 5px;\n          top: 1px;\n          width: 6px;\n          height: 12px;\n          border: solid ",";\n          border-width: 0 3px 3px 0;\n          transform: rotate(45deg);\n        }\n      }\n    "],["\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      opacity: 0;\n      &:focus + span {\n        ","\n      }\n\n      /**\n       * Using adjacent sibling selector to style checked state.\n       * Primarily to limit the classes necessary to use when these classes will be used\n       * for angular components styling\n       * */\n      &:checked + span {\n        background: blue;\n        background: ",";\n        border: none;\n        &:hover {\n          background: ",";\n        }\n        &:after {\n          content: '';\n          position: absolute;\n          left: 5px;\n          top: 1px;\n          width: 6px;\n          height: 12px;\n          border: solid ",";\n          border-width: 0 3px 3px 0;\n          transform: rotate(45deg);\n        }\n      }\n    "])),Object($.a)(e),e.colors.formCheckboxBgChecked,e.colors.formCheckboxBgCheckedHover,e.colors.formCheckboxCheckmark),checkmark:Object(A.css)(x||(x=Object(E.__makeTemplateObject)(["\n      display: inline-block;\n      width: ",";\n      height: ",";\n      border-radius: ",";\n      margin-right: ","px;\n      background: ",";\n      border: 1px solid ",";\n      position: absolute;\n      top: 1px;\n      left: 0;\n      &:hover {\n        cursor: pointer;\n        border-color: ",";\n      }\n    "],["\n      display: inline-block;\n      width: ",";\n      height: ",";\n      border-radius: ",";\n      margin-right: ","px;\n      background: ",";\n      border: 1px solid ",";\n      position: absolute;\n      top: 1px;\n      left: 0;\n      &:hover {\n        cursor: pointer;\n        border-color: ",";\n      }\n    "])),"16px","16px",e.border.radius.sm,e.spacing.formSpacingBase,e.colors.formCheckboxBg,e.colors.formInputBorder,e.colors.formInputBorderHover)}}),Q=Object(S.g)(function(e,t){return{label:N(e),legend:I(e),fieldValidationMessage:P(e),button:U({theme:e,variant:t.variant,size:t.size}),input:Object(H.b)({theme:e,invalid:t.invalid}),switch:G(e),checkbox:W(e)}}),Y=n("ZYew"),K=Object(S.g)(function(e){return{form:Object(A.css)(O||(O=Object(E.__makeTemplateObject)(["\n      margin-bottom: ",";\n    "],["\n      margin-bottom: ",";\n    "])),e.spacing.formMargin)}}),J=Object(S.g)(function(e){return{field:Object(A.css)(_||(_=Object(E.__makeTemplateObject)(["\n      display: flex;\n      flex-direction: column;\n      margin-bottom: ","px;\n    "],["\n      display: flex;\n      flex-direction: column;\n      margin-bottom: ","px;\n    "])),2*e.spacing.formSpacingBase),fieldHorizontal:Object(A.css)(k||(k=Object(E.__makeTemplateObject)(["\n      flex-direction: row;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "],["\n      flex-direction: row;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]))),fieldValidationWrapper:Object(A.css)(j||(j=Object(E.__makeTemplateObject)(["\n      margin-top: ","px;\n    "],["\n      margin-top: ","px;\n    "])),e.spacing.formSpacingBase/2),fieldValidationWrapperHorizontal:Object(A.css)(C||(C=Object(E.__makeTemplateObject)(["\n      flex: 1 1 100%;\n    "],["\n      flex: 1 1 100%;\n    "])))}}),Z={getFormStyles:Q,Label:D,Input:H.a,Form:function(e){var t=e.children,n=Object(S.h)(),a=K(n);return M.a.createElement("div",{className:a.form},t)},Field:function(e){var t,n=e.label,a=e.description,r=e.horizontal,i=e.invalid,o=e.loading,s=e.disabled,l=e.error,c=e.children,u=e.className,d=Object(S.h)(),p=J(d),f=M.a.Children.map(c,function(e){return e})[0];return f&&(t=f.props.id),M.a.createElement("div",{className:Object(A.cx)(p.field,r&&p.fieldHorizontal,u)},n&&M.a.createElement(D,{htmlFor:t,description:a},n),M.a.createElement("div",null,M.a.cloneElement(c,{invalid:i,disabled:s,loading:o}),i&&l&&!r&&M.a.createElement("div",{className:p.fieldValidationWrapper},M.a.createElement(F,null,l))),i&&l&&r&&M.a.createElement("div",{className:Object(A.cx)(p.fieldValidationWrapper,p.fieldValidationWrapperHorizontal)},M.a.createElement(F,null,l)))},Button:q,LinkButton:z,Select:Y.a};t.a=Z},lhB2:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a={},r=function(e,t,n){var r="[Deprecation warning] "+e+": "+t+" is deprecated";n&&(r+=".  Use "+n+" instead");var i=Date.now(),o=a[r];(!o||i-o>1e4)&&(console.warn(r),a[r]=i)}},lonE:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a,r,i=n("mrSG"),o=n("q1tI"),s=n.n(o),l=n("PAeb"),c=n("MIBK"),u=Object(c.g)(function(e){return void 0===e&&(e=!1),{list:Object(l.css)(a||(a=Object(i.__makeTemplateObject)(["\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  "],["\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  "]))),item:Object(l.css)(r||(r=Object(i.__makeTemplateObject)(["\n    display: ",";\n  "],["\n    display: ",";\n  "])),e?"inline-block":"block")}}),d=function(e){function t(t){return e.call(this,t)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.renderItem,a=e.getItemKey,r=e.className,i=e.inline,o=u(i);return s.a.createElement("ul",{className:Object(l.cx)(o.list,r)},t.map(function(e,t){return s.a.createElement("li",{className:o.item,key:a?a(e):t},n(e,t))}))},t}(s.a.PureComponent)},"lpb/":function(e,t){var n="public/app/features/admin/partials/users.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n\t<div class=page-action-bar>\n    <label class="gf-form gf-form--grow gf-form--has-input-icon">\n      <input type=text class="gf-form-input max-width-30" placeholder="Find user by name/login/email" tabindex=1 give-focus=true ng-model=ctrl.query ng-model-options="{ debounce: 500 }" spellcheck=false ng-change=ctrl.getUsers() />\n      <i class="gf-form-input-icon fa fa-search"></i>\n    </label>\n    <div class=page-action-bar__spacer></div>\n    <a class="btn btn-primary" href=admin/users/create>\n      New user\n    </a>\n  </div>\n\n  <div class=admin-list-table>\n    <table class="filter-table form-inline filter-table--hover">\n      <thead>\n        <tr>\n          <th></th>\n          <th>Login</th>\n          <th>Email</th>\n          <th>\n            Seen\n            <tip>Time since user was seen using Grafana</tip>\n          </th>\n          <th></th>\n          <th style=width:1%></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="user in ctrl.users">\n          <td class="width-4 text-center link-td">\n            <a href=admin/users/edit/{{user.id}}>\n              <img class=filter-table__avatar ng-src={{user.avatarUrl}}>\n            </a>\n          </td>\n          <td class=link-td>\n            <a href=admin/users/edit/{{user.id}}>\n              {{user.login}}\n            </a>\n          </td>\n          <td class=link-td>\n            <a href=admin/users/edit/{{user.id}}>\n              {{user.email}}\n            </a>\n          </td>\n          <td class=link-td>\n            <a href=admin/users/edit/{{user.id}}>\n              {{user.lastSeenAtAge}}\n            </a>\n          </td>\n          <td class=link-td>\n            <a href=admin/users/edit/{{user.id}}>\n              <i class="fa fa-shield" ng-show=user.isAdmin bs-tooltip="\'Grafana Admin\'"></i>\n            </a>\n          </td>\n          <td class=text-right>\n            <span class="label label-tag" ng-style=user.authLabelStyle ng-if=user.authLabel>\n              {{user.authLabel}}\n            </span>\n          </td>\n          <td class=text-right>\n            <span class="label label-tag label-tag--gray" ng-if=user.isDisabled>Disabled</span>\n          </td>\n        </tr>\n      </tbody>\n\n    </table>\n  </div>\n\n  <div class=admin-list-paging ng-if=ctrl.showPaging>\n    <ol>\n      <li ng-repeat="page in ctrl.pages">\n        <button class="btn btn-small" ng-class="{\'btn-secondary\': page.current, \'btn-inverse\': !page.current}" ng-click=ctrl.navigateToPage(page)>{{page.page}}</button>\n      </li>\n    </ol>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},lzJ5:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n("mrSG");function r(e,t,n){if(e[t]){var r=e[t],i=Object(a.__assign)({},r.parentItem);return i.children=i.children.map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{active:e.url===r.url})}),{node:r,main:i}}return n||{node:o={id:"not-found",text:"Page not found",icon:"fa fa-fw fa-warning",subTitle:"404 Error",url:"not-found"},main:o};var o}var i=function(e){return e.main.text+(e.node.text?": "+e.node.text:"")}},"m+sf":function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return v});var a,r=n("mrSG"),i=n("TYy9"),o=n.n(i),s=n("Zss7"),l=n.n(s),c=n("UcAx"),u=function(e,t,n,a){var i=Object(r.__read)(n,2);return{hue:e,name:t,variants:{light:i[0],dark:i[1]},isPrimary:!!a}},d=function(e){return o()(Array.from(v().values())).filter(function(t){return t.name===e})[0]},p=function(e,t){return o()(Array.from(v().values())).filter(function(n){return n.variants[t]===e})[0]},f=function(e){return/^((0x){0,1}|#{0,1})([0-9A-F]{8}|[0-9A-F]{6}|[0-9A-F]{3})$/gi.test(e)},h=function(e,t){if(e&&!(e.indexOf("rgb")>-1)){if(f(e)){var n=p(e,t||c.a.Dark);return n?n.name:void 0}return e}},m=function(e){var t=o()(Array.from(v().values())).filter(function(t){return t.name===e});return t.length>0?t[0]:void 0},g=function(e,t){if(e.indexOf("rgb")>-1||f(e))return e;var n=m(e);return n?t?n.variants[t]:n.variants.dark:new l.a(e).toHexString()},b=function(e,t){return t?e.variants[t]:e.variants.dark},v=function(){return a||(e=new Map,t=[u("green","green",["#56A64B","#73BF69"],!0),u("green","dark-green",["#19730E","#37872D"]),u("green","semi-dark-green",["#37872D","#56A64B"]),u("green","light-green",["#73BF69","#96D98D"]),u("green","super-light-green",["#96D98D","#C8F2C2"])],n=[u("yellow","yellow",["#F2CC0C","#FADE2A"],!0),u("yellow","dark-yellow",["#CC9D00","#E0B400"]),u("yellow","semi-dark-yellow",["#E0B400","#F2CC0C"]),u("yellow","light-yellow",["#FADE2A","#FFEE52"]),u("yellow","super-light-yellow",["#FFEE52","#FFF899"])],r=[u("red","red",["#E02F44","#F2495C"],!0),u("red","dark-red",["#AD0317","#C4162A"]),u("red","semi-dark-red",["#C4162A","#E02F44"]),u("red","light-red",["#F2495C","#FF7383"]),u("red","super-light-red",["#FF7383","#FFA6B0"])],i=[u("blue","blue",["#3274D9","#5794F2"],!0),u("blue","dark-blue",["#1250B0","#1F60C4"]),u("blue","semi-dark-blue",["#1F60C4","#3274D9"]),u("blue","light-blue",["#5794F2","#8AB8FF"]),u("blue","super-light-blue",["#8AB8FF","#C0D8FF"])],o=[u("orange","orange",["#FF780A","#FF9830"],!0),u("orange","dark-orange",["#E55400","#FA6400"]),u("orange","semi-dark-orange",["#FA6400","#FF780A"]),u("orange","light-orange",["#FF9830","#FFB357"]),u("orange","super-light-orange",["#FFB357","#FFCB7D"])],s=[u("purple","purple",["#A352CC","#B877D9"],!0),u("purple","dark-purple",["#7C2EA3","#8F3BB8"]),u("purple","semi-dark-purple",["#8F3BB8","#A352CC"]),u("purple","light-purple",["#B877D9","#CA95E5"]),u("purple","super-light-purple",["#CA95E5","#DEB6F2"])],e.set("green",t),e.set("yellow",n),e.set("red",r),e.set("blue",i),e.set("orange",o),e.set("purple",s),a=e);var e,t,n,r,i,o,s}},m257:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"r",function(){return b}),n.d(t,"k",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return O}),n.d(t,"u",function(){return j}),n.d(t,"s",function(){return C}),n.d(t,"v",function(){return S}),n.d(t,"i",function(){return T}),n.d(t,"j",function(){return M}),n.d(t,"h",function(){return A}),n.d(t,"q",function(){return D}),n.d(t,"z",function(){return I}),n.d(t,"m",function(){return F}),n.d(t,"n",function(){return L}),n.d(t,"o",function(){return V}),n.d(t,"p",function(){return $}),n.d(t,"l",function(){return B}),n.d(t,"w",function(){return U}),n.d(t,"c",function(){return P}),n.d(t,"t",function(){return z}),n.d(t,"x",function(){return H}),n.d(t,"f",function(){return G}),n.d(t,"y",function(){return W}),n.d(t,"g",function(){return Q});var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("Obii"),s=n("0Mjz"),l=n("SMGL"),c=n("PbtU"),u=n("bMS5"),d=n("kDLi"),p=n("sBLX"),f=n("ZFWI"),h={from:"now-1h",to:"now"},m={showingTable:!0,showingGraph:!0,showingLogs:!0,dedupStrategy:o.LogsDedupStrategy.none},g=100,b=function(e){return"grafana.explore.datasource."+e};function v(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,l,c,u,d,p,f,h,m,g,b,v,y,w,x;return Object(a.__generator)(this,function(O){switch(O.label){case 0:if(t=e.panel,n=e.panelTargets,r=e.panelDatasource,i=e.datasourceSrv,o=e.timeSrv,l=r,c=n,"mixed"!==r.meta.id||!c)return[3,8];d=function(e){var t;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,i.get(e.datasource)];case 1:return(t=a.sent())?(l=t,c=n.filter(function(e){return e.datasource===t.name}),[2,"break"]):[2]}})},O.label=1;case 1:O.trys.push([1,6,7,8]),p=Object(a.__values)(c),f=p.next(),O.label=2;case 2:return f.done?[3,5]:(h=f.value,[5,d(h)]);case 3:if("break"===O.sent())return[3,5];O.label=4;case 4:return f=p.next(),[3,2];case 5:return[3,8];case 6:return m=O.sent(),w={error:m},[3,8];case 7:try{f&&!f.done&&(x=p.return)&&x.call(p)}finally{if(w)throw w.error}return[7];case 8:return l&&(g=o.timeRangeForUrl(),b={range:g},l.interpolateVariablesInQueries?(v=t.scopedVars||{},b=Object(a.__assign)(Object(a.__assign)({},b),{datasource:l.name,context:"explore",queries:l.interpolateVariablesInQueries(c,v)})):b=Object(a.__assign)(Object(a.__assign)({},b),{datasource:l.name,context:"explore",queries:c.map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{datasource:l.name})})}),y=JSON.stringify(Object(a.__assign)(Object(a.__assign)({},b),{originPanelId:t.id})),u=Object(s.b)("/explore",{left:y})),[2,u]}})})}function y(e,t,n,r){var i=e.map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),t)}),s=e.reduce(function(e,t){return e+=t.key},""),l=function(e,t,n){if(!n)return{interval:"1s",intervalMs:1e3};return c.a.calculateInterval(e,n,t)}(n,t.minInterval,t.maxDataPoints),u=l.interval,d=l.intervalMs,p=""+s;return{queries:e,request:{app:o.CoreApp.Explore,dashboardId:0,timezone:o.DefaultTimeZone,startTime:Date.now(),interval:u,intervalMs:d,panelId:p,targets:i,range:n,requestId:"explore",rangeRaw:n.raw,scopedVars:{__interval:{text:u,value:u},__interval_ms:{text:d,value:d}},maxDataPoints:t.maxDataPoints,exploreMode:t.mode},scanning:r,id:E(),done:!1,latency:0}}var w,x,O=function(e){e.key,e.refId;return Object(a.__rest)(e,["key","refId"])},_=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.some(function(t){return e.hasOwnProperty(t)})};!function(e){e[e.RangeFrom=0]="RangeFrom",e[e.RangeTo=1]="RangeTo",e[e.Datasource=2]="Datasource",e[e.SegmentsStart=3]="SegmentsStart"}(w||(w={})),function(e){e[e.Graph=0]="Graph",e[e.Logs=1]="Logs",e[e.Table=2]="Table",e[e.Strategy=3]="Strategy"}(x||(x={}));var k=function(e){if(e)try{return JSON.parse(decodeURI(e))}catch(e){console.error(e)}},j=function(e,t){if(!e)return"";try{return JSON.stringify(e,null,t)}catch(e){console.error(e)}return""};function C(e){var t=k(e),n={datasource:null,queries:[],range:h,ui:m,mode:null,originPanelId:null};if(!t)return n;if(!Array.isArray(t))return t;if(t.length<=w.SegmentsStart)return console.error("Error parsing compact URL state for Explore."),n;var r={from:t[w.RangeFrom],to:t[w.RangeTo]},i=t[w.Datasource],o=t.slice(w.SegmentsStart),s=["expr","target","datasource","query"],l=o.filter(function(e){return _.apply(void 0,Object(a.__spread)([e],s))}),c=o.filter(function(e){return _(e,"mode")})[0],u=c?c.mode:p.b.Metrics,d=o.filter(function(e){return _(e,"ui")})[0];return{datasource:i,queries:l,range:r,ui:d?{showingGraph:d.ui[x.Graph],showingLogs:d.ui[x.Logs],showingTable:d.ui[x.Table],dedupStrategy:d.ui[x.Strategy]}:m,mode:u,originPanelId:o.filter(function(e){return _(e,"originPanelId")})[0]}}function S(e,t){return t?JSON.stringify(Object(a.__spread)([e.range.from,e.range.to,e.datasource],e.queries,[{mode:e.mode},{ui:[!!e.ui.showingGraph,!!e.ui.showingLogs,!!e.ui.showingTable,e.ui.dedupStrategy]}])):JSON.stringify(e)}function E(e){return void 0===e&&(e=0),"Q-"+Date.now()+"-"+Math.random()+"-"+e}function T(e,t){return void 0===t&&(t=0),{refId:Object(u.b)(e),key:E(t)}}var M=function(e,t,n){void 0===n&&(n=0);var r=E(n),i=e.refId||Object(u.b)(t);return Object(a.__assign)(Object(a.__assign)({},e),{refId:i,key:r})};function A(e){if(e&&"object"==typeof e&&e.length>0){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=E(n),o=r.refId;o||(o=Object(u.b)(t)),t.push(Object(a.__assign)(Object(a.__assign)({},r),{refId:o,key:i}))}return t}return[Object(a.__assign)({},T(e))]}var N=["refId","key","context"];function D(e){return e&&e.some(function(e){return Object.keys(e).filter(function(e){return-1===N.indexOf(e)}).map(function(t){return e[t]}).filter(function(e){return e}).length>0})}function I(e,t,n){var r=Date.now();n.forEach(function(t){e=Object(a.__spread)([{query:t,ts:r}],e)}),e.length>g&&(e=e.slice(0,g));var i="grafana.explore.history."+t;return l.a.setObject(i,e),e}var P,F=function(e,t){return e.reduce(function(e,n,a){var r=t&&t.name?t.name:n.key;return e.concat(r+"-"+a)},[])},L=function(e,t){return{from:o.dateMath.parse(t.from,!1,e),to:o.dateMath.parse(t.to,!0,e),raw:t}},R=function(e){if(null===e)return null;if(-1!==e.indexOf("now"))return e;if(8===e.length)return Object(o.toUtc)(e,"YYYYMMDD");if(15===e.length)return Object(o.toUtc)(e,"YYYYMMDDTHHmmss");if(19===e.length)return Object(o.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(!isNaN(e)){var t=parseInt(e,10);return Object(o.toUtc)(t)}return null},V=function(e,t){var n={from:R(e.from),to:R(e.to)};return{from:o.dateMath.parse(n.from,!1,t),to:o.dateMath.parse(n.to,!0,t),raw:n}},$=function(e){if(e&&"object"==typeof e){if(e.refId)return e;for(var t=Object.keys(e),n=0;n<t.length;n++){var a=t[n],r=$(e[a]);if(r)return r}}},B=function(e){if(e)return e.filter(function(e){return!e||!e.refId})[0]},U=function(e,t){return e.timeEpochMs<t.timeEpochMs?-1:e.timeEpochMs>t.timeEpochMs?1:0},q=function(e,t){return e.timeEpochMs>t.timeEpochMs?-1:e.timeEpochMs<t.timeEpochMs?1:0};!function(e){e.Descending="Descending",e.Ascending="Ascending"}(P||(P={}));var z=function(e){return d.RefreshPicker.isLive(e)?P.Ascending:P.Descending},H=function(e,t){var n=e?e.rows:[];return t===P.Ascending?n.sort(U):n.sort(q),e?Object(a.__assign)(Object(a.__assign)({},e),{rows:n}):{hasUniqueLabels:!1,rows:n}},G=function(e){var t=""+("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+f.a.appSubUrl;return t.endsWith("/")&&(t=t.slice(0,-1)),""+t+e},W=function(e){e&&e.unsubscribe()};function Q(e){return i.a.uniqBy(e,"uid")}},mCU5:function(e,t){var n="public/app/plugins/panel/heatmap/partials/display_editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Colors</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-9">Mode</label>\n      <div class="gf-form-select-wrapper width-8">\n        <select class="input-small gf-form-input" ng-model=ctrl.panel.color.mode ng-options="s for s in ctrl.colorModes" ng-change=ctrl.render()></select>\n      </div>\n    </div>\n\n    <div ng-show="ctrl.panel.color.mode === \'opacity\'">\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Color</label>\n        <span class=gf-form-label>\n          <color-picker color=ctrl.panel.color.cardColor onchange=ctrl.onCardColorChange></color-picker>\n        </span>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Scale</label>\n        <div class="gf-form-select-wrapper width-8">\n          <select class="input-small gf-form-input" ng-model=ctrl.panel.color.colorScale ng-options="s for s in ctrl.opacityScales" ng-change=ctrl.render()></select>\n        </div>\n      </div>\n      <div class=gf-form ng-if="ctrl.panel.color.colorScale === \'sqrt\'">\n        <label class="gf-form-label width-9">Exponent</label>\n        <input type=number class="gf-form-input width-8" placeholder=auto data-placement=right bs-tooltip="\'\'" ng-model=ctrl.panel.color.exponent ng-change=ctrl.refresh() ng-model-onblur>\n      </div>\n    </div>\n\n    <div ng-show="ctrl.panel.color.mode === \'spectrum\'">\n      <div class=gf-form>\n        <label class="gf-form-label width-9">Scheme</label>\n        <div class="gf-form-select-wrapper width-8">\n          <select class="input-small gf-form-input" ng-model=ctrl.panel.color.colorScheme ng-options="s.value as s.name for s in ctrl.colorSchemes" ng-change=ctrl.render()></select>\n        </div>\n      </div>\n    </div>\n\n    <div class=gf-form>\n      <color-legend></color-legend>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Color scale</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Min</label>\n      <input type=number ng-model=ctrl.panel.color.min class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'\'" ng-change=ctrl.refresh() ng-model-onblur>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Max</label>\n      <input type=number ng-model=ctrl.panel.color.max class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'\'" ng-change=ctrl.refresh() ng-model-onblur>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Legend</h5>\n    <gf-form-switch class=gf-form label-class=width-8 label="Show legend" checked=ctrl.panel.legend.show on-change=ctrl.render()>\n    </gf-form-switch>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Buckets</h5>\n    <gf-form-switch class=gf-form label-class=width-8 label="Hide zero" checked=ctrl.panel.hideZeroBuckets on-change=ctrl.render()>\n    </gf-form-switch>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Space</label>\n      <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'\'" ng-model=ctrl.panel.cards.cardPadding ng-change=ctrl.refresh() ng-model-onblur>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Round</label>\n      <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'\'" ng-model=ctrl.panel.cards.cardRound ng-change=ctrl.refresh() ng-model-onblur>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Tooltip</h5>\n    <gf-form-switch class=gf-form label-class=width-8 label="Show tooltip" checked=ctrl.panel.tooltip.show on-change=ctrl.render()>\n    </gf-form-switch>\n    <div ng-if=ctrl.panel.tooltip.show>\n      <gf-form-switch class=gf-form label-class=width-8 label=Histogram checked=ctrl.panel.tooltip.showHistogram on-change=ctrl.render()>\n      </gf-form-switch>\n      <div class=gf-form>\n        <label class="gf-form-label width-8">Decimals</label>\n        <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'Max decimal precision for tooltip.\'" ng-model=ctrl.panel.tooltipDecimals ng-change=ctrl.render() ng-model-onblur>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},mHLn:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s=n("NXk7"),l=[{value:"",label:"Default"},{value:"dark",label:"Dark"},{value:"light",label:"Light"}],c=[{value:"",label:"Default"},{value:"browser",label:"Local browser time"},{value:"utc",label:"UTC"}],u=function(e){function t(t){var n=e.call(this,t)||this;return n.backendSrv=Object(s.b)(),n.onSubmitForm=function(e){return Object(a.__awaiter)(n,void 0,void 0,function(){var t,n,r,i;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return e.preventDefault(),t=this.state,n=t.homeDashboardId,r=t.theme,i=t.timezone,[4,this.backendSrv.put("/api/"+this.props.resourceUri+"/preferences",{homeDashboardId:n,theme:r,timezone:i})];case 1:return a.sent(),window.location.reload(),[2]}})})},n.onThemeChanged=function(e){n.setState({theme:e})},n.onTimeZoneChanged=function(e){n.setState({timezone:e})},n.onHomeDashboardChanged=function(e){n.setState({homeDashboardId:e})},n.getFullDashName=function(e){return void 0===e.folderTitle||""===e.folderTitle?e.title:e.folderTitle+" / "+e.title},n.state={homeDashboardId:0,theme:"",timezone:"",dashboards:[]},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:return[4,this.backendSrv.get("/api/"+this.props.resourceUri+"/preferences")];case 1:return e=i.sent(),[4,this.backendSrv.search({starred:!0})];case 2:return t=i.sent(),n={id:0,title:"Default",tags:[],type:"",uid:"",uri:"",url:"",folderId:0,folderTitle:"",folderUid:"",folderUrl:"",isStarred:!1,slug:""},e.homeDashboardId>0&&!t.find(function(t){return t.id===e.homeDashboardId})?[4,this.backendSrv.search({dashboardIds:[e.homeDashboardId]})]:[3,4];case 3:(r=i.sent())&&r.length>0&&t.push(r[0]),i.label=4;case 4:return this.setState({homeDashboardId:e.homeDashboardId,theme:e.theme,timezone:e.timezone,dashboards:Object(a.__spread)([n],t)}),[2]}})})},t.prototype.render=function(){var e=this,t=this.state,n=t.theme,a=t.timezone,r=t.homeDashboardId,s=t.dashboards;return i.a.createElement("form",{className:"section gf-form-group",onSubmit:this.onSubmitForm},i.a.createElement("h3",{className:"page-heading"},"Preferences"),i.a.createElement("div",{className:"gf-form"},i.a.createElement("span",{className:"gf-form-label width-11"},"UI Theme"),i.a.createElement(o.Select,{isSearchable:!1,value:l.find(function(e){return e.value===n}),options:l,onChange:function(t){return e.onThemeChanged(t.value)},width:20})),i.a.createElement("div",{className:"gf-form"},i.a.createElement(o.FormLabel,{width:11,tooltip:"Not finding dashboard you want? Star it first, then it should appear in this select box."},"Home Dashboard"),i.a.createElement(o.Select,{value:s.find(function(e){return e.id===r}),getOptionValue:function(e){return e.id},getOptionLabel:this.getFullDashName,onChange:function(t){return e.onHomeDashboardChanged(t.id)},options:s,placeholder:"Choose default dashboard",width:20})),i.a.createElement("div",{className:"gf-form"},i.a.createElement("label",{className:"gf-form-label width-11"},"Timezone"),i.a.createElement(o.Select,{isSearchable:!1,value:c.find(function(e){return e.value===a}),onChange:function(t){return e.onTimeZoneChanged(t.value)},options:c,width:20})),i.a.createElement("div",{className:"gf-form-button-row"},i.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))},t}(r.PureComponent);t.b=u},mbvD:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a,r,i,o=n("mrSG"),s=n("q1tI"),l=n.n(s),c=n("PAeb"),u=n("MIBK"),d=Object(u.g)(function(e){var t=Object(u.e)({light:e.colors.gray4,dark:e.colors.dark9},e.type);return{header:Object(c.css)(a||(a=Object(o.__makeTemplateObject)(["\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      justify-items: center;\n      cursor: pointer;\n      padding: 7px 10px;\n      width: 100%;\n      border-bottom: 1px solid ",";\n      text-transform: capitalize;\n    "],["\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      justify-items: center;\n      cursor: pointer;\n      padding: 7px 10px;\n      width: 100%;\n      border-bottom: 1px solid ",";\n      text-transform: capitalize;\n    "])),t),label:Object(c.css)(r||(r=Object(o.__makeTemplateObject)(["\n      flex-grow: 1;\n    "],["\n      flex-grow: 1;\n    "]))),icon:Object(c.css)(i||(i=Object(o.__makeTemplateObject)(["\n      padding-right: 2px;\n    "],["\n      padding-right: 2px;\n    "])))}}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={expanded:!1},t.onToggleChildren=function(){t.setState(function(e){return{expanded:!e.expanded}})},t}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.data.expanded)this.setState({expanded:!0});else if(this.props.selectProps&&this.props.selectProps.value){var e=this.props.selectProps.value.value;e&&this.props.options.some(function(t){return t.value===e})&&this.setState({expanded:!0})}},t.prototype.componentDidUpdate=function(e){""!==e.selectProps.inputValue&&this.setState({expanded:!0})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.label,a=e.theme,r=this.state.expanded,i=d(a),o=r?"fa-caret-left":"fa-caret-down";return l.a.createElement("div",null,l.a.createElement("div",{className:i.header,onClick:this.onToggleChildren},l.a.createElement("span",{className:i.label},n),l.a.createElement("i",{className:Object(c.cx)("fa",o,i.icon)})," "),r&&t)},t}(s.PureComponent),f=Object(u.i)(p)},mgzm:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.Absolute="absolute",e.Percentage="percentage"}(a||(a={}))},nABS:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var a,r=n("mrSG"),i=n("i7Pf"),o=n("ZFWI"),s={invitees:[],users:[],searchQuery:"",canInvite:!o.b.externalUserMngLinkName,externalUserMngInfo:o.b.externalUserMngInfo,externalUserMngLinkName:o.b.externalUserMngLinkName,externalUserMngLinkUrl:o.b.externalUserMngLinkUrl,hasFetched:!1},l=Object(i.c)({name:"users",initialState:s,reducers:{usersLoaded:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{hasFetched:!0,users:t.payload})},inviteesLoaded:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{hasFetched:!0,invitees:t.payload})},setUsersSearchQuery:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{searchQuery:t.payload})}}}),c=(a=l.actions).inviteesLoaded,u=a.setUsersSearchQuery,d=a.usersLoaded,p=l.reducer;t.a={users:p}},nHyz:function(e,t){},nfvv:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a={keepTime:"__url_time_range",timeRangeFrom:"__from",timeRangeTo:"__to",includeVars:"__all_variables",seriesName:"__series.name",fieldName:"__field.name",valueTime:"__value.time",valueNumeric:"__value.numeric",valueText:"__value.text",valueRaw:"__value.raw",valueCalc:"__value.calc"},r=function(e){return e.getLinks().map(function(e){return{label:e.title,url:e.href,target:e.target,icon:"fa "+("_self"===e.target?"fa-link":"fa-external-link"),onClick:e.onClick}})}},nnkO:function(e,t){},nvwu:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s=n("PAeb"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isEditing:!1,currentAdminOption:t.props.isGrafanaAdmin?"YES":"NO"},t.onChangeClick=function(){t.setState({isEditing:!0})},t.onCancelClick=function(){t.setState({isEditing:!1,currentAdminOption:t.props.isGrafanaAdmin?"YES":"NO"})},t.onGrafanaAdminChange=function(){var e="YES"===t.state.currentAdminOption;t.props.onGrafanaAdminChange(e)},t.onAdminOptionSelect=function(e){t.setState({currentAdminOption:e.target.value})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.isGrafanaAdmin,t=this.state,n=t.isEditing,a=t.currentAdminOption,r=Object(s.cx)("pull-right");return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"page-heading"},"Permissions"),i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("div",{className:"gf-form"},i.a.createElement("table",{className:"filter-table form-inline"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"width-16"},"Grafana Admin"),n?i.a.createElement("td",{colSpan:2},i.a.createElement("div",{className:"gf-form-select-wrapper width-8"},i.a.createElement("select",{value:a,className:"gf-form-input",onChange:this.onAdminOptionSelect},["YES","NO"].map(function(e,t){return i.a.createElement("option",{value:e,key:e+"-"+t},e)})))):i.a.createElement("td",{colSpan:2},e?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"gicon gicon-shield"})," Yes"):i.a.createElement(i.a.Fragment,null,"No")),i.a.createElement("td",null,i.a.createElement("div",{className:r},i.a.createElement(o.ConfirmButton,{className:"pull-right",onClick:this.onChangeClick,onConfirm:this.onGrafanaAdminChange,onCancel:this.onCancelClick,confirmText:"Change"},"Change")))))))))},t}(r.PureComponent)},nwiq:function(e,t,n){"use strict";function a(e,t,n){var a=Math.sqrt(50),r=Math.sqrt(10),i=Math.sqrt(2),o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),l=o/s;return l>=a?s*=10:l>=r?s*=5:l>=i&&(s*=2),t<e?-s:s}function r(e,t){return e-Math.floor(Math.log(t)/Math.LN10)}function i(e,t,n,a){var r,i=(t-e)/n,o=-Math.floor(Math.log(i)/Math.LN10),s=a,l=Math.pow(10,-o),c=i/l;return c<1.5?r=1:c<3?(r=2,c>2.25&&(null==s||o+1<=s)&&(r=2.5,++o)):r=c<7.5?5:10,r*=l}function o(e,t,n,a){var r=+(null!=e?e:n),i=+(null!=t?t:a),o=i-r;if(0===o){var s=Math.abs(0===i?1:.25*i);null===e&&(r-=s),null!=t&&null==e||(i+=s)}else{null==e&&(r-=.02*o)<0&&null!=n&&n>=0&&(r=0),null==t&&(i+=.02*o)>0&&null!=a&&a<=0&&(i=0)}return{min:r,max:i}}function s(e,t,n,a){var r,i=o(n.min,n.max,e,t),s=i.min,l=(i.max-s)/(.3*Math.sqrt(a)),c=-Math.floor(Math.log(l)/Math.LN10),u=Math.pow(10,-c),d=l/u;d<1.5?r=1:d<3?(r=2,d>2.25&&(r=2.5)):r=d<7.5?5:10,r*=u;var p=Math.max(0,1-Math.floor(Math.log(l)/Math.LN10));return{tickDecimals:p,scaledDecimals:p-Math.floor(Math.log(r)/Math.LN10)}}function l(e,t,n){if(t&&n&&e){var a=n-t,r=a/e/1e3;return r<=45?"%H:%M:%S":r<=7200||a<=864e5?"%H:%M":r<=8e4?"%m/%d %H:%M":r<=2419200||a<=31536e6?"%m/%d":"%Y-%m"}return"%H:%M"}function c(e,t){return Math.log(e)/Math.log(t)}function u(e){return d(e.toString())}function d(e){if(isNaN(e))return 0;var t=e.indexOf(".");return-1===t?0:e.length-t-1}n.r(t),n.d(t,"tickStep",function(){return a}),n.d(t,"getScaledDecimals",function(){return r}),n.d(t,"getFlotTickSize",function(){return i}),n.d(t,"getFlotRange",function(){return o}),n.d(t,"getFlotTickDecimals",function(){return s}),n.d(t,"grafanaTimeFormat",function(){return l}),n.d(t,"logp",function(){return c}),n.d(t,"getPrecision",function(){return u}),n.d(t,"getStringPrecision",function(){return d})},o85q:function(e,t){},oEL2:function(e,t){var n="public/app/features/panel/partials/query_editor_row.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div ng-transclude class=gf-form-query-content></div>\n\n")}]),e.exports=n},oOjz:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"h",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return d});var a=["(","[","{","}","]",")","|","*","+","-",".","?","<",">","#","&","^","$"],r=function(e){return e?a.reduce(function(e,t){return e.replace(t,"\\"+t)},e):e},i=function(e){return e?a.reduce(function(e,t){return e.replace("\\"+t,t)},e):e};function o(e){return!!e&&"/"===e[0]}function s(e){if(!o(e))return new RegExp("^"+e+"$");var t=e.match(new RegExp("^/(.*?)/(g?i?m?y?)$"));if(!t)throw new Error("'"+e+"' is not a valid regular expression.");return new RegExp(t[1],t[2])}function l(e){if(!e)return 0;var t=parseInt(e,10),n=e.substr(String(t).length);switch(n){case"s":return 1e3*t;case"m":return 6e4*t;case"h":return 36e5*t;case"d":return 864e5*t;default:if(!n)return isNaN(t)?0:t;throw new Error("Not supported unit: "+n)}}function c(e){return null!=e&&Number.isFinite(e)?e.toString():""}function u(e){if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}}function d(e){if(e){var t=parseFloat(e);return isNaN(t)?void 0:t}}},oZti:function(e,t){var n="public/app/features/panel/partials/panelTime.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n\t<div class=gf-form>\n\t\t<span class=gf-form-label>\n\t\t\t<i class="fa fa-clock-o"></i>\n\t\t</span>\n\n\t\t<span class="gf-form-label width-12">Override relative time</span>\n\t\t<span class="gf-form-label width-6">Last</span>\n\n\t\t<input type=text class="gf-form-input max-width-8" placeholder=1h empty-to-null ng-model=ctrl.panel.timeFrom valid-time-span ng-change=ctrl.refresh() ng-model-onblur>\n\t</div>\n\n\t<div class=gf-form>\n\t\t<span class=gf-form-label>\n\t\t\t<i class="fa fa-clock-o"></i>\n\t\t</span>\n\t\t<span class="gf-form-label width-12">Add time shift</span>\n\t\t<span class="gf-form-label width-6">Amount</span>\n\t\t<input type=text class="gf-form-input max-width-8" placeholder=1h empty-to-null ng-model=ctrl.panel.timeShift valid-time-span ng-change=ctrl.refresh() ng-model-onblur>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<span class=gf-form-label>\n\t\t\t\t<i class="fa fa-clock-o"></i>\n\t\t\t</span>\n\t\t</div>\n\t\t<gf-form-switch class="gf-form max-width-30" label="Hide time override info" label-class=width-12 checked=ctrl.panel.hideTimeOverride switch-class=max-width-6 on-change=ctrl.refresh()>\n\t\t</gf-form-switch>\n\t</div>\n</div>\n\n\n')}]),e.exports=n},oeKk:function(e,t,n){"use strict";var a,r,i,o,s,l,c,u=n("mrSG"),d=n("q1tI"),p=n.n(d),f=n("MIBK"),h=n("Zss7"),m=n.n(h),g=n("PAeb"),b=function(e,t,n,r,i){return void 0===r&&(r="rgba(0, 0, 0, 0.1)"),void 0===i&&(i=!1),Object(g.css)(a||(a=Object(u.__makeTemplateObject)(["\n  background: linear-gradient(to bottom, ",", ",");\n  color: ",";\n  text-shadow: 0 "," ",";\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:focus {\n    background: ",";\n    outline: none;\n  }\n"],["\n  background: linear-gradient(to bottom, ",", ",");\n  color: ",";\n  text-shadow: 0 "," ",";\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n\n  &:focus {\n    background: ",";\n    outline: none;\n  }\n"])),e,t,n,i?"1px":"-1px",r,e,n,e)},v=Object(f.g)(function(e){var t,n=e.theme,a=e.size,l=e.variant,c=e.textAndIcon,d=n.border.radius.sm,p=y(n,a,!!c),h=p.padding,v=p.fontSize,w=p.height,x=p.fontWeight;switch(l){case"primary":t=b(n.colors.greenBase,n.colors.greenShade,n.colors.white);break;case"secondary":t=b(n.colors.blueBase,n.colors.blueShade,n.colors.white);break;case"danger":t=b(n.colors.redBase,n.colors.redShade,n.colors.white);break;case"inverse":var O=Object(f.e)({light:n.colors.gray5,dark:n.colors.dark6},n.type),_=Object(f.e)({light:m()(O).darken(5).toString(),dark:m()(O).lighten(4).toString()},n.type);t=b(O,_,n.colors.link,"rgba(0, 0, 0, 0.1)",!0);break;case"transparent":t=Object(g.css)(r||(r=Object(u.__makeTemplateObject)(["\n        ",";\n        background: transparent;\n      "],["\n        ",";\n        background: transparent;\n      "])),b("","",n.colors.link,"rgba(0, 0, 0, 0.1)",!0));break;case"link":t=Object(g.css)(i||(i=Object(u.__makeTemplateObject)(["\n        ",";\n        background: transparent;\n      "],["\n        ",";\n        background: transparent;\n      "])),b("","",n.colors.linkExternal,"rgba(0, 0, 0, 0.1)",!0))}return{button:Object(g.css)(o||(o=Object(u.__makeTemplateObject)(["\n      label: button;\n      display: inline-flex;\n      align-items: center;\n      font-weight: ",";\n      font-size: ",";\n      font-family: ",";\n      line-height: ",";\n      padding: ",";\n      vertical-align: middle;\n      cursor: pointer;\n      border: none;\n      height: ",";\n      border-radius: ",";\n      ",";\n\n      &[disabled],\n      &:disabled {\n        cursor: not-allowed;\n        opacity: 0.65;\n        box-shadow: none;\n      }\n    "],["\n      label: button;\n      display: inline-flex;\n      align-items: center;\n      font-weight: ",";\n      font-size: ",";\n      font-family: ",";\n      line-height: ",";\n      padding: ",";\n      vertical-align: middle;\n      cursor: pointer;\n      border: none;\n      height: ",";\n      border-radius: ",";\n      ",";\n\n      &[disabled],\n      &:disabled {\n        cursor: not-allowed;\n        opacity: 0.65;\n        box-shadow: none;\n      }\n    "])),x,v,n.typography.fontFamily.sansSerif,n.typography.lineHeight.xs,h,w,d,t),iconWrap:Object(g.css)(s||(s=Object(u.__makeTemplateObject)(["\n      label: button-icon-wrap;\n      & + * {\n        margin-left: ",";\n      }\n    "],["\n      label: button-icon-wrap;\n      & + * {\n        margin-left: ",";\n      }\n    "])),n.spacing.sm)}}),y=function(e,t,n){switch(t){case"sm":return{padding:e.spacing.xs+" "+e.spacing.sm,fontSize:e.typography.size.sm,height:e.height.sm,fontWeight:e.typography.weight.semibold};case"md":var a=n?e.spacing.sm:e.spacing.md;return{padding:e.spacing.sm+" "+e.spacing.md+" "+e.spacing.sm+" "+a,fontSize:e.typography.size.md,height:e.height.md,fontWeight:e.typography.weight.semibold};case"lg":a=n?e.spacing.md:e.spacing.lg;return{padding:e.spacing.md+" "+e.spacing.lg+" "+e.spacing.md+" "+a,fontSize:e.typography.size.lg,height:e.height.lg,fontWeight:e.typography.weight.regular};default:a=n?e.spacing.sm:e.spacing.md;return{padding:e.spacing.sm+" "+e.spacing.md+" "+e.spacing.sm+" "+a,fontSize:e.typography.size.base,height:e.height.md,fontWeight:e.typography.weight.regular}}},w=Object(f.g)(function(e){return{content:Object(g.css)(l||(l=Object(u.__makeTemplateObject)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    white-space: nowrap;\n    height: 100%;\n  "],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    white-space: nowrap;\n    height: 100%;\n  "]))),icon:Object(g.css)(c||(c=Object(u.__makeTemplateObject)(["\n    & + * {\n      margin-left: ",";\n    }\n  "],["\n    & + * {\n      margin-left: ",";\n    }\n  "])),e.spacing.sm)}});function x(e){var t=e.icon,n=e.children,a=Object(f.h)(),r=w(a);if(!n)return p.a.createElement("span",{className:r.content},p.a.createElement("i",{className:t}));var i=t&&p.a.createElement("span",{className:r.icon},p.a.createElement("i",{className:t}));return p.a.createElement("span",{className:r.content},i,p.a.createElement("span",null,n))}n.d(t,"a",function(){return O}),n.d(t,"b",function(){return _});var O=p.a.forwardRef(function(e,t){var n=Object(d.useContext)(f.a),a=e.size,r=e.variant,i=e.icon,o=e.children,s=(e.className,e.styles),l=Object(u.__rest)(e,["size","variant","icon","children","className","styles"]);l.type=l.type||"button";var c=s||v({theme:n,size:a||"md",variant:r||"primary",textAndIcon:!(!o||!i)});return p.a.createElement("button",Object(u.__assign)({className:c.button},l,{ref:t}),p.a.createElement(x,{icon:i},o))});O.displayName="Button";var _=p.a.forwardRef(function(e,t){var n=Object(d.useContext)(f.a),a=e.size,r=e.variant,i=e.icon,o=e.children,s=(e.className,e.styles),l=Object(u.__rest)(e,["size","variant","icon","children","className","styles"]),c=s||v({theme:n,size:a||"md",variant:r||"primary",textAndIcon:!(!o||!i)});return p.a.createElement("a",Object(u.__assign)({className:c.button},l,{ref:t}),p.a.createElement(x,{icon:i},o))});_.displayName="LinkButton"},okuo:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("NXk7"),r={};function i(e){var t=r[e];return t?Promise.resolve(t):Object(a.b)().get("/api/plugins/"+e+"/settings").then(function(t){return r[e]=t,t}).catch(function(e){return Promise.reject("Unknown Plugin")})}},"p+Sq":function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h});var a,r=n("mrSG"),i=n("txxJ"),o=n("Xmxp"),s=n("UIT+"),l=n("rd46"),c=n("+JUD"),u=n("GQ3c"),d=n("Obii"),p=function(){function e(e,t,n){var a=this;this.backendSrv=e,this.$rootScope=t,this.$location=n,this.onRemovePanel=function(e){var t=a.getCurrent();Object(c.g)(t,t.getPanelById(e),!0)},this.onPanelChangeView=function(e){var t,n,i=e.fullscreen,o=void 0!==i&&i,s=e.edit,l=void 0!==s&&s,c=e.panelId,u=a.$location.search();if(o!==u.fullscreen||l!==!!u.edit){var d=Object(r.__assign)(Object(r.__assign)({},u),{fullscreen:o||void 0,edit:l||void 0,tab:l?u.tab:void 0,panelId:c});Object.keys(d).forEach(function(e){void 0===d[e]&&delete d[e]}),a.$location.search(d)}else{try{for(var p=Object(r.__values)(["fullscreen","edit","panelId","tab"]),f=p.next();!f.done;f=p.next()){delete u[f.value]}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}a.$location.search(u)}},o.a.on(u.CoreEvents.saveDashboard,this.saveDashboard.bind(this),t),o.a.on(d.PanelEvents.panelChangeView,this.onPanelChangeView),o.a.on(u.CoreEvents.removePanel,this.onRemovePanel)}return e.$inject=["backendSrv","$rootScope","$location"],e.prototype.create=function(e,t){return new l.a(e,t)},e.prototype.setCurrent=function(e){this.dashboard=e},e.prototype.getCurrent=function(){return this.dashboard},e.prototype.handleSaveDashboardError=function(e,t,n){var a=this;t.overwrite=!0,n.data&&"version-mismatch"===n.data.status&&(n.isHandled=!0,this.$rootScope.appEvent(u.CoreEvents.showConfirmModal,{title:"Conflict",text:"Someone else has updated this dashboard.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){a.save(e,t)}})),n.data&&"name-exists"===n.data.status&&(n.isHandled=!0,this.$rootScope.appEvent(u.CoreEvents.showConfirmModal,{title:"Conflict",text:"A dashboard with the same name in selected folder already exists.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){a.save(e,t)}})),n.data&&"plugin-dashboard"===n.data.status&&(n.isHandled=!0,this.$rootScope.appEvent(u.CoreEvents.showConfirmModal,{title:"Plugin Dashboard",text:n.data.message,text2:"Your changes will be lost when you update the plugin. Use Save As to create custom version.",yesText:"Overwrite",icon:"fa-warning",altActionText:"Save As",onAltAction:function(){a.showSaveAsModal()},onConfirm:function(){a.save(e,Object(r.__assign)(Object(r.__assign)({},t),{overwrite:!0}))}}))},e.prototype.postSave=function(e){this.dashboard.version=e.version,this.$rootScope.appEvent(u.CoreEvents.dashboardSaved,this.dashboard),this.$rootScope.appEvent(d.AppEvents.alertSuccess,["Dashboard saved"]);var t=s.a.stripBaseFromUrl(e.url);return t!==this.$location.path()&&this.$location.url(t).replace(),this.dashboard},e.prototype.save=function(e,t){var n=this;return t.folderId=t.folderId>=0?t.folderId:this.dashboard.meta.folderId||e.folderId,this.backendSrv.saveDashboard(e,t).then(function(e){return n.postSave(e)}).catch(this.handleSaveDashboardError.bind(this,e,{folderId:t.folderId}))},e.prototype.saveDashboard=function(e,t){var n=void 0===t?{}:t,a=n.makeEditable,r=void 0!==a&&a,i=n.folderId,o=n.overwrite,s=void 0!==o&&o,l=n.message;return e&&this.setCurrent(this.create(e,this.dashboard.meta)),this.dashboard.meta.provisioned?this.showDashboardProvisionedModal():this.dashboard.meta.canSave||r?"New dashboard"===this.dashboard.title?this.showSaveAsModal():this.dashboard.version>0?this.showSaveModal():this.save(this.dashboard.getSaveModelClone(),{folderId:i,overwrite:s,message:l}):Promise.resolve()},e.prototype.saveJSONDashboard=function(e){return this.save(JSON.parse(e),{})},e.prototype.showDashboardProvisionedModal=function(){this.$rootScope.appEvent(u.CoreEvents.showModal,{templateHtml:'<save-provisioned-dashboard-modal dismiss="dismiss()"></save-provisioned-dashboard-modal>'})},e.prototype.showSaveAsModal=function(){this.$rootScope.appEvent(u.CoreEvents.showModal,{templateHtml:'<save-dashboard-as-modal dismiss="dismiss()"></save-dashboard-as-modal>',modalClass:"modal--narrow"})},e.prototype.showSaveModal=function(){this.$rootScope.appEvent(u.CoreEvents.showModal,{templateHtml:'<save-dashboard-modal dismiss="dismiss()"></save-dashboard-modal>',modalClass:"modal--narrow"})},e.prototype.starDashboard=function(e,t){var n=this;return(t?this.backendSrv.delete("/api/user/stars/dashboard/"+e).then(function(){return!1}):this.backendSrv.post("/api/user/stars/dashboard/"+e).then(function(){return!0})).then(function(t){return n.dashboard&&n.dashboard.id===e&&(n.dashboard.meta.isStarred=t),t})},e}();function f(e){a=e}function h(){return a}i.c.service("dashboardSrv",p)},"pCo/":function(e,t){var n="public/app/plugins/datasource/testdata/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl has-text-edit-mode=false>\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Scenario</label>\n\t\t\t<div class="gf-form-select-wrapper width-15">\n\t\t\t\t<select class=gf-form-input ng-model=ctrl.target.scenarioId ng-options="v.id as v.name for v in ctrl.scenarioList" ng-change=ctrl.scenarioChanged() aria-label={{ctrl.selectors.scenarioSelect}}></select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="gf-form gf-form gf-form--grow" ng-if=ctrl.scenario.stringInput>\n\t\t\t<label class="gf-form-label query-keyword">String Input</label>\n      <input type=text class=gf-form-input placeholder={{ctrl.scenario.stringInput}} ng-model=ctrl.target.stringInput ng-change=ctrl.refresh() ng-model-onblur>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword">Alias</label>\n\t\t\t<input type=text class="gf-form-input width-14" placeholder=optional ng-model=ctrl.target.alias ng-change=ctrl.refresh() ng-model-onblur>\n\t\t</div>\n\t\t<div ng-if=ctrl.showLabels class="gf-form gf-form--grow">\n\t\t\t<label class="gf-form-label query-keyword">\n\t\t\t\tLabels\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\tSet labels using a key=value syntax:<br/>\n\t\t\t\t\t{key="value", key2="value"}<br/>\n\t\t\t\t\tkey="value", key2="value"<br/>\n\t\t\t\t\tkey=value, key2=value<br/>\n\t\t\t\t</info-popover>\n\t\t\t</label>\n\t\t\t<input type=text class="gf-form-input gf-form--grow" placeholder="key=value, key2=value2" ng-model=ctrl.target.labels ng-change=ctrl.refresh() ng-model-onblur>\n\t\t</div>\n\t\t<div ng-if=!ctrl.showLabels class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n\t<div class=gf-form-inline ng-if="ctrl.scenario.id === \'manual_entry\'">\n\t\t<div class="gf-form gf-form">\n\t\t\t<label class="gf-form-label query-keyword width-7">New value</label>\n      <input type=number class="gf-form-input width-15" placeholder=value ng-model=ctrl.newPointValue>\n\t\t\t<label class="gf-form-label query-keyword">Time</label>\n      <input type=string class="gf-form-input width-12" placeholder=time ng-model=ctrl.newPointTime>\n\t\t\t<button class="btn btn-secondary gf-form-btn" ng-click=ctrl.addPoint()>Add</button>\n\t\t\t<label class="gf-form-label query-keyword">All values</label>\n\t\t\t<gf-form-dropdown css-class=width-12 model=ctrl.selectedPoint get-options=ctrl.getPoints() on-change=ctrl.pointSelected($option)>\n\t\t\t</gf-form-dropdown>\n\t\t</div>\n\t\t<div class="gf-form gf-form" ng-if="ctrl.selectedPoint.value !== null">\n\t\t\t<button class="btn btn-danger gf-form-btn" ng-click=ctrl.deletePoint()>Delete</button>\n\t\t</div>\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n  <div class=gf-form-inline ng-if="ctrl.scenario.id === \'random_walk\'">\n    <div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Series count</label>\n\t\t\t<input type=number class="gf-form-input width-7" placeholder=1 ng-model=ctrl.target.seriesCount min=1 step=1 ng-change=ctrl.refresh() />\n\t\t</div>\n    <div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Start value</label>\n\t\t\t<input type=number class="gf-form-input width-6" placeholder=auto ng-model=ctrl.target.startValue step=1 ng-change=ctrl.refresh() />\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Spread</label>\n\t\t\t<input type=number class="gf-form-input width-6" placeholder=1 ng-model=ctrl.target.spread min=0.5 step=0.1 ng-change=ctrl.refresh() />\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Noise</label>\n\t\t\t<input type=number class="gf-form-input width-6" placeholder=0 ng-model=ctrl.target.noise min=0 step=0.1 ng-change=ctrl.refresh() />\n\t\t</div>\n    <div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Min</label>\n\t\t\t<input type=number class="gf-form-input width-6" placeholder=none ng-model=ctrl.target.min step=0.1 ng-change=ctrl.refresh() />\n\t\t</div>\n    <div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">Max</label>\n\t\t\t<input type=number class="gf-form-input width-6" placeholder=none ng-model=ctrl.target.max step=0.1 ng-change=ctrl.refresh() />\n\t\t</div>\n  </div>\n\t<div class=gf-form-inline ng-if="ctrl.scenario.id === \'streaming_client\'">\n\t\t<div class="gf-form gf-form">\n\t\t\t<label class="gf-form-label query-keyword width-7">Type</label>\n\t\t\t<div class=gf-form-select-wrapper>\n\t\t\t\t<select ng-model=ctrl.target.stream.type class=gf-form-input ng-options="type for type in [\'signal\',\'logs\', \'fetch\']" ng-change=ctrl.streamChanged() />\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword">Speed (ms)</label>\n\t\t\t<input type=number class="gf-form-input width-5" placeholder=value ng-model=ctrl.target.stream.speed min=10 step=10 ng-change=ctrl.streamChanged() />\n\t\t</div>\n\t\t<div class=gf-form ng-if="ctrl.target.stream.type === \'signal\'">\n\t\t\t<label class="gf-form-label query-keyword">Spread</label>\n\t\t\t<input type=number class="gf-form-input width-5" placeholder=value ng-model=ctrl.target.stream.spread min=0.5 step=0.1 ng-change=ctrl.streamChanged() />\n\t\t</div>\n\t\t<div class=gf-form ng-if="ctrl.target.stream.type === \'signal\'">\n\t\t\t<label class="gf-form-label query-keyword">Noise</label>\n\t\t\t<input type=number class="gf-form-input width-5" placeholder=value ng-model=ctrl.target.stream.noise min=0 step=0.1 ng-change=ctrl.streamChanged() />\n\t\t</div>\n\t\t<div class=gf-form ng-if="ctrl.target.stream.type === \'signal\'">\n\t\t\t<label class="gf-form-label query-keyword">Bands</label>\n\t\t\t<input type=number class="gf-form-input width-5" placeholder=bands ng-model=ctrl.target.stream.bands min=0 step=1 ng-change=ctrl.streamChanged() />\n\t\t</div>\n\t\t<div class="gf-form gf-form--grow" ng-if="ctrl.target.stream.type === \'fetch\'">\n\t\t\t<label class="gf-form-label query-keyword">URL</label>\n\t\t\t<input type=string class="gf-form-input gf-form-label--grow" placeholder="Fetch URL" ng-model=ctrl.target.stream.url ng-change=ctrl.streamChanged() ng-model-onblur/>\n\t\t</div>\n\t\t<div class="gf-form gf-form--grow" ng-if="ctrl.target.stream.type !== \'fetch\'">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline ng-if="ctrl.scenario.id === \'logs\'">\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword">Lines</label>\n\t\t\t<input type=number class="gf-form-input width-5" placeholder=10 ng-model=ctrl.target.lines ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<gf-form-switch class=gf-form label=Level label-class="query-keyword width-5" checked=ctrl.target.levelColumn switch-class=max-width-6 on-change=ctrl.refresh()></gf-form-switch>\n\t\t</div>\n\t</div>\n\n\t\x3c!-- Predictable Pulse Scenario Options Form --\x3e\n\t<div class=gf-form-inline ng-if="ctrl.scenario.id === \'predictable_pulse\'">\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t\tStep\n\t\t\t\t<info-popover mode=right-normal>The number of seconds between datapoints.</info-popover>\n\t\t\t</label>\n\t\t\t\t<input type=number class="gf-form-input width-5" placeholder=60 ng-model=ctrl.target.pulseWave.timeStep ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t\tOn Count\n\t\t\t\t<info-popover mode=right-normal>The number of values within a cycle, at the start of the cycle, that should have the onValue.</info-popover>\n\t\t\t</label>\n\t\t\t<input type=number class="gf-form-input width-3" placeholder=3 ng-model=ctrl.target.pulseWave.onCount ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t\tOff Count\n\t\t\t\t<info-popover mode=right-normal>The number of offValues within the cycle.</info-popover>\n\t\t\t</label>\n\t\t\t<input type=number class="gf-form-input width-3" placeholder=6 ng-model=ctrl.target.pulseWave.offCount ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t\tOn Value\n\t\t\t\t<info-popover mode=right-normal>The value for "on values", may be a int, float, or null.</info-popover>\n\t\t\t</label>\n\t\t\t<input type=string class="gf-form-input width-5" placeholder=1 ng-model=ctrl.target.pulseWave.onValue ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t\tOff Value\n\t\t\t\t<info-popover mode=right-normal>The value for "off values", may be a int, float, or null.</info-popover>\n\t\t\t</label>\n\t\t\t<input type=string class="gf-form-input width-5" placeholder=1 ng-model=ctrl.target.pulseWave.offValue ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t</div>\n\t</div>\n\n\t\x3c!-- Predictable CSV Wave Scenario Options Form --\x3e\n\t<div class=gf-form-inline ng-if="ctrl.scenario.id === \'predictable_csv_wave\'">\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label query-keyword width-7">\n\t\t\t\t\tStep\n\t\t\t\t\t<info-popover mode=right-normal>The number of seconds between datapoints.</info-popover>\n\t\t\t\t</label>\n\t\t\t\t\t<input type=number class="gf-form-input width-5" placeholder=60 ng-model=ctrl.target.csvWave.timeStep ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t\t</div>\n\t\t\t<div class="gf-form gf-form--grow">\n\t\t\t\t\t<label class="gf-form-label query-keyword width-10">\n\t\t\t\t\t\t\tCSV Values\n\t\t\t\t\t\t\t<info-popover mode=right-normal>Comma separated values. Each value may be an int, float, or null and must not be empty. Whitespace and trailing commas are removed.</info-popover>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t<input type=string class="gf-form-input gf-form-label--grow" placeholder=1,2,3,2 ng-model=ctrl.target.csvWave.valuesCSV ng-change=ctrl.refresh() ng-model-onblur/>\n\t\t\t\t</div>\n\t\t</div>\n</query-editor-row>\n')}]),e.exports=n},pDgv:function(e,t){var n="public/app/plugins/panel/graph/time_regions_form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=gf-form-group>\n  <div class=gf-form-inline ng-repeat=\"timeRegion in ctrl.panel.timeRegions\">\n    <div class=gf-form>\n      <label class=gf-form-label>T{{$index+1}}</label>\n    </div>\n\n    <div class=gf-form>\n      <label class=gf-form-label>From</label>\n      <div class=gf-form-select-wrapper>\n        <select class=\"gf-form-input width-6\" ng-model=timeRegion.fromDayOfWeek ng-options=\"f.d as f.value for f in [{d: undefined, value: 'Any'}, {d:1, value: 'Mon'}, {d:2, value: 'Tue'}, {d:3, value: 'Wed'}, {d:4, value: 'Thu'}, {d:5, value: 'Fri'}, {d:6, value: 'Sat'}, {d:7, value: 'Sun'}]\" ng-change=ctrl.render()></select>\n      </div>\n      <input type=text ng-maxlength=5 ng-model=timeRegion.from class=\"gf-form-input width-5\" ng-change=ctrl.render() placeholder=hh:mm>\n      <label class=gf-form-label>To</label>\n      <div class=gf-form-select-wrapper>\n        <select class=\"gf-form-input width-6\" ng-model=timeRegion.toDayOfWeek ng-options=\"f.d as f.value for f in [{d: undefined, value: 'Any'}, {d:1, value: 'Mon'}, {d:2, value: 'Tue'}, {d:3, value: 'Wed'}, {d:4, value: 'Thu'}, {d:5, value: 'Fri'}, {d:6, value: 'Sat'}, {d:7, value: 'Sun'}]\" ng-change=ctrl.render()></select>\n      </div>\n      <input type=text ng-maxlength=5 ng-model=timeRegion.to class=\"gf-form-input width-5\" ng-change=ctrl.render() placeholder=hh:mm>\n    </div>\n\n    <div class=gf-form>\n      <label class=gf-form-label>Color</label>\n      <div class=gf-form-select-wrapper>\n        <select class=gf-form-input ng-model=timeRegion.colorMode ng-options=\"f.key as f.value for f in ctrl.colorModes\" ng-change=ctrl.render()>\n        </select>\n      </div>\n    </div>\n\n    <gf-form-switch class=gf-form label=Fill checked=timeRegion.fill on-change=ctrl.render()></gf-form-switch>\n\n    <div class=gf-form ng-if=\"timeRegion.fill && timeRegion.colorMode === 'custom'\">\n      <label class=gf-form-label>Fill color</label>\n      <span class=gf-form-label>\n        <color-picker color=timeRegion.fillColor onchange=ctrl.onFillColorChange($index)></color-picker>\n      </span>\n    </div>\n\n    <gf-form-switch class=gf-form label=Line checked=timeRegion.line on-change=ctrl.render()></gf-form-switch>\n\n    <div class=gf-form ng-if=\"timeRegion.line && timeRegion.colorMode === 'custom'\">\n      <label class=gf-form-label>Line color</label>\n      <span class=gf-form-label>\n        <color-picker color=timeRegion.lineColor onchange=ctrl.onLineColorChange($index)></color-picker>\n      </span>\n    </div>\n\n    <div class=gf-form>\n      <label class=gf-form-label>\n        <a class=pointer ng-click=ctrl.removeTimeRegion($index)>\n          <i class=\"fa fa-trash\"></i>\n        </a>\n      </label>\n    </div>\n  </div>\n\n  <div class=gf-form-button-row>\n    <button class=\"btn btn-inverse\" ng-click=ctrl.addTimeRegion()>\n      <i class=\"fa fa-plus\"></i>&nbsp;Add time region<tip>All configured time regions refers to UTC time</tip>\n    </button>\n  </div>\n</div>")}]),e.exports=n},pFCG:function(e,t,n){"use strict";var a=n("mrSG"),r=n("F03Y"),i=function(){function e(e){void 0===e&&(e=0),this.length=0,this.source=new Array,this.length=e}return e.prototype.setLength=function(e){var t,n;if(e>this.length)this.length=e;else if(e<this.length){var r=new Array;try{for(var i=Object(a.__values)(this.source),o=i.next();!o.done;o=i.next()){var s=o.value;if(r.push(s),s.end>e){s.end=e;break}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.source=r,this.length=e}},e.prototype.append=function(e){var t={start:this.length,end:this.length+e.length,values:e};return this.length=t.end,this.source.push(t),t},e.prototype.get=function(e){for(var t=0;t<this.source.length;t++){var n=this.source[t];if(e>=n.start&&e<n.end)return n.values.get(e-n.start)}},e.prototype.toArray=function(){return Object(r.a)(this)},e.prototype.toJSON=function(){return Object(r.a)(this)},e}(),o=n("0uOV"),s=n("Rabt"),l=function(){function e(e,t){this.value=e,this.len=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.value},e.prototype.toArray=function(){return new Array(this.length).fill(this.value)},e.prototype.toJSON=function(){return this.toArray()},e}(),c=function(){function e(e,t){this.source=e,this.scale=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.source.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.source.get(e)*this.scale},e.prototype.toArray=function(){return Object(r.a)(this)},e.prototype.toJSON=function(){return Object(r.a)(this)},e}(),u=n("YmbM");n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return s.a}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return u.a})},peu1:function(e,t){var n="public/app/partials/signup_step2.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n  <div class=signup>\n    <h3 class=p-b-1>You\'re almost there.</h3>\n    <div class=p-b-1>\n      We just need a couple of more bits of<br> information to finish creating your account.\n    </div>\n    <form name=signUpForm class="login-form gf-form-group">\n      <div class=gf-form ng-if=verifyEmailEnabled>\n        <span class="gf-form-label width-9">\n          Email code<tip>Email verification code (sent to your email)</tip>\n        </span>\n        <input type=text class="gf-form-input max-width-14" ng-model=formModel.code required>\n      </div>\n\n      <div class=gf-form ng-if=!autoAssignOrg>\n        <span class="gf-form-label width-9">Org. name</span>\n        <input type=text name=orgName class="gf-form-input max-width-14" ng-model=formModel.orgName placeholder="Name your organization">\n      </div>\n\n      <div class=gf-form>\n        <span class="gf-form-label width-9">Your name</span>\n        <input type=text name=name class="gf-form-input max-width-14" ng-model=formModel.name placeholder=(optional)>\n      </div>\n      <div class=gf-form>\n        <span class="gf-form-label width-9">Email</span>\n        <input type=text class="gf-form-input max-width-14" required ng-model=formModel.username placeholder=Email autocomplete=off>\n      </div>\n      <div class=gf-form>\n        <span class="gf-form-label width-9">Password</span>\n        <input type=password class="gf-form-input max-width-14" required ng-model=formModel.password id=inputPassword placeholder=password autocomplete=off>\n      </div>\n\n      <div class="gf-form-button-row p-t-3">\n        <button type=submit class="btn btn-primary" ng-click=ctrl.submit(); ng-disabled=!signUpForm.$valid>\n          Sign Up\n        </button>\n        <a href=login class="btn btn-inverse">\n            Back\n        </a>\n      </div>\n    </form>\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},phJb:function(e,t){var n="public/app/plugins/panel/alertlist/editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Options</h5>\n    <div class=gf-form>\n      <span class="gf-form-label width-8">Show</span>\n      <div class="gf-form-select-wrapper max-width-15">\n        <select class=gf-form-input ng-model=ctrl.panel.show ng-options="f.value as f.text for f in ctrl.showOptions" ng-change=ctrl.onRefresh()></select>\n      </div>\n    </div>\n    <div class=gf-form>\n      <span class="gf-form-label width-8">Max items</span>\n      <input type=text class="gf-form-input max-width-15" ng-model=ctrl.panel.limit ng-change=ctrl.onRefresh() />\n    </div>\n    <div class=gf-form ng-show="ctrl.panel.show === \'current\'">\n      <span class="gf-form-label width-8">Sort order</span>\n      <div class="gf-form-select-wrapper max-width-15">\n        <select class=gf-form-input ng-model=ctrl.panel.sortOrder ng-options="f.value as f.text for f in ctrl.sortOrderOptions" ng-change=ctrl.onRefresh()></select>\n      </div>\n    </div>\n    <gf-form-switch class=gf-form label="Alerts from this dashboard" label-class=width-18 checked=ctrl.panel.onlyAlertsOnDashboard on-change=ctrl.updateStateFilter()></gf-form-switch>\n  </div>\n  <div class="section gf-form-group" ng-show="ctrl.panel.show === \'current\'">\n    <h5 class=section-heading>Filter</h5>\n    <div class=gf-form>\n      <span class="gf-form-label width-8">Alert name</span>\n      <input type=text class="gf-form-input max-width-15" ng-model=ctrl.panel.nameFilter placeholder="Alert name query" ng-change=ctrl.onRefresh() />\n    </div>\n    <div class=gf-form>\n      <span class="gf-form-label width-8">Dashboard title</span>\n      <input type=text class=gf-form-input placeholder="Dashboard title query" ng-model=ctrl.panel.dashboardFilter ng-change=ctrl.onRefresh() ng-model-onblur>\n    </div>\n    <div class=gf-form>\n      <folder-picker initial-folder-id=ctrl.panel.folderId on-change=ctrl.onFolderChange($folder) label-class=width-8 initial-title="\'All\'" enable-reset=true>\n      </folder-picker>\n    </div>\n    <div class=gf-form>\n        <span class="gf-form-label width-8">Dashboard tags</span>\n        <bootstrap-tagsinput ng-model=ctrl.panel.dashboardTags tagclass="label label-tag" placeholder="add tags" on-tags-updated=ctrl.refresh()>\n        </bootstrap-tagsinput>\n    </div>\n  </div>\n  <div class="section gf-form-group" ng-show="ctrl.panel.show === \'current\'">\n    <h5 class=section-heading>State filter</h5>\n    <gf-form-switch class=gf-form label=Ok label-class=width-10 checked="ctrl.stateFilter[\'ok\']" on-change=ctrl.updateStateFilter()></gf-form-switch>\n    <gf-form-switch class=gf-form label=Paused label-class=width-10 checked="ctrl.stateFilter[\'paused\']" on-change=ctrl.updateStateFilter()></gf-form-switch>\n    <gf-form-switch class=gf-form label="No data" label-class=width-10 checked="ctrl.stateFilter[\'no_data\']" on-change=ctrl.updateStateFilter()></gf-form-switch>\n    <gf-form-switch class=gf-form label="Execution error" label-class=width-10 checked="ctrl.stateFilter[\'execution_error\']" on-change=ctrl.updateStateFilter()></gf-form-switch>\n    <gf-form-switch class=gf-form label=Alerting label-class=width-10 checked="ctrl.stateFilter[\'alerting\']" on-change=ctrl.updateStateFilter()></gf-form-switch>\n    <gf-form-switch class=gf-form label=Pending label-class=width-10 checked="ctrl.stateFilter[\'pending\']" on-change=ctrl.updateStateFilter()></gf-form-switch>\n  </div>\n</div>\n')}]),e.exports=n},pu3h:function(e,t){},qOGI:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var a,r=n("mrSG"),i=n("3ulR"),o=n("Obii"),s=n("i7Pf");var l=Object(s.c)({name:"alertRules",initialState:{items:[],searchQuery:"",isLoading:!1},reducers:{loadAlertRules:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{isLoading:!0})},loadedAlertRules:function(e,t){var n=t.payload.map(function(e){return function(e,t){var n=i.a.getStateDisplayModel(t),a=Object(r.__assign)(Object(r.__assign)({},e),{stateText:n.text,stateIcon:n.iconClass,stateClass:n.stateClass,stateAge:Object(o.dateTime)(e.newStateDate).fromNow(!0)});return"paused"!==a.state&&(a.executionError&&(a.info="Execution Error: "+a.executionError),a.evalData&&a.evalData.noData&&(a.info="Query returned no data")),a}(e,e.state)});return Object(r.__assign)(Object(r.__assign)({},e),{items:n,isLoading:!1})},setSearchQuery:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{searchQuery:t.payload})}}}),c=(a=l.actions).loadAlertRules,u=a.loadedAlertRules,d=a.setSearchQuery,p=l.reducer;t.a={alertRules:p}},qQGB:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("Wwog");function r(e){return Object(a.default)(e)}},qrvd:function(e,t){var n="public/app/features/dashboard/components/ExportDataModal/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body>\n  <div class=modal-header>\n    <h2 class=modal-header-title>\n      Export CSV\n    </h2>\n\n    <a class=modal-header-close ng-click=ctrl.dismiss();>\n      <i class="fa fa-remove"></i>\n    </a>\n  </div>\n\n  <div class=modal-content>\n    <div class=p-t-2>\n      <div class=gf-form ng-hide="ctrl.panel === \'table\'">\n        <label class="gf-form-label width-10">Mode</label>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=ctrl.asRows ng-options="f.value as f.text for f in [{text: \'Series as rows\', value: true}, {text: \'Series as columns\', value: false}]">\n          </select>\n        </div>\n      </div>\n      <div class=gf-form ng-hide="ctrl.panel === \'table\'">\n        <label class="gf-form-label width-10">Date Time Format</label>\n        <input type=text class=gf-form-input ng-model=ctrl.dateTimeFormat>\n      </div>\n      <gf-form-switch class=gf-form label="Excel CSV Dialect" label-class=width-10 switch-class=max-width-6 checked=ctrl.excel>\n      </gf-form-switch>\n    </div>\n\n    <div class="gf-form-button-row text-center">\n      <a class="btn btn-primary" ng-click=ctrl.export();>Export</a>\n      <a class=btn-text ng-click=ctrl.dismiss();>Cancel</a>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},rCnR:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("kDLi"),s=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.removeIcon,a=e.count,r=Object(o.getTagColorsFromName)(t),s={backgroundColor:r.color,borderColor:r.borderColor},l=0!==a&&i.a.createElement("span",{className:"tag-count-label"},"("+a+")");return i.a.createElement("span",{className:"label label-tag",style:s},n&&i.a.createElement("i",{className:"fa fa-remove"}),t," ",l)},t}(i.a.Component)},rEbV:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("mrSG"),r=n("q1tI"),i=function(e){function t(t){var n=e.call(this,t)||this;return n.showPopper=function(){n.hideTimeout&&clearTimeout(n.hideTimeout),n.setState(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{show:!0})})},n.hidePopper=function(){0===n.props.hideAfter?n.setState(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{show:!1})}):n.hideTimeout=setTimeout(function(){n.setState(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{show:!1})})},n.props.hideAfter)},n.state={placement:n.props.placement||"auto",show:!1},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.placement&&e.placement!==this.state.placement&&this.setState(function(t){return Object(a.__assign)(Object(a.__assign)({},t),{placement:e.placement||"auto"})})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.content,a=this.state,r=a.show,i=a.placement;return t(this.showPopper,this.hidePopper,{show:r,placement:i,content:n})},t}(n.n(r).a.Component)},rbvf:function(e,t){var n="public/app/features/admin/partials/new_user.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=navModel></page-header>\n\n<div class="page-container page-body">\n\t<div class=page-sub-heading>\n\t\t<h3 class=page-sub-heading>Add new user</h3>\n\t</div>\n\n\t<form name=userForm class=gf-form-group>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Name</span>\n\t\t\t<input type=text required ng-model=user.name class="gf-form-input max-width-20">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Email</span>\n\t\t\t<input type=email ng-model=user.email class="gf-form-input max-width-20">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Username</span>\n\t\t\t<input type=text ng-model=user.login class="gf-form-input max-width-20">\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<span class="gf-form-label width-10">Password</span>\n\t\t\t<input type=password required ng-model=user.password class="gf-form-input max-width-20">\n\t\t</div>\n\n\t\t<div class=gf-form-button-row>\n\t\t\t<button type=submit class="btn btn-primary" ng-click=create()>Create</button>\n\t\t</div>\n\t</form>\n</div>\n\n<footer/>\n')}]),e.exports=n},rd46:function(e,t,n){"use strict";var a=n("mrSG"),r=n("LvDl"),i=n.n(r),o=n("kDLi"),s=n("eXZ6"),l=n("1524"),c=n("umNM");function u(e){var t,n;if(i.a.isArray(e))return e.map(u);if(i.a.isPlainObject(e)){var r={};try{for(var o=Object(a.__values)(i.a.keys(e).sort()),s=o.next();!s.done;s=o.next()){var l=s.value;r[l]=u(e[l])}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return e}var d=n("K47g"),p=n("LtRX"),f=n("0Mjz"),h=n("PbtU"),m=function(){function e(e){this.dashboard=e}return e.prototype.updateSchema=function(e){var t,n,r,o,l=this.dashboard.schemaVersion,c=[];if(this.dashboard.schemaVersion=22,l!==this.dashboard.schemaVersion){if(l<2&&(e.services&&e.services.filter&&(this.dashboard.time=e.services.filter.time,this.dashboard.templating.list=e.services.filter.list||[]),c.push(function(e){"graphite"===e.type&&(e.type="graph"),"graph"===e.type&&(i.a.isBoolean(e.legend)&&(e.legend={show:e.legend}),e.grid&&(e.grid.min&&(e.grid.leftMin=e.grid.min,delete e.grid.min),e.grid.max&&(e.grid.leftMax=e.grid.max,delete e.grid.max)),e.y_format&&(e.y_formats||(e.y_formats=[]),e.y_formats[0]=e.y_format,delete e.y_format),e.y2_format&&(e.y_formats||(e.y_formats=[]),e.y_formats[1]=e.y2_format,delete e.y2_format))})),l<3){var u=this.dashboard.getNextPanelId();c.push(function(e){e.id||(e.id=u,u+=1)})}if(l<4&&c.push(function(e){"graph"===e.type&&(i.a.each(e.aliasYAxis,function(t,n){e.seriesOverrides=[{alias:n,yaxis:t}]}),delete e.aliasYAxis)}),l<6){var d=i.a.find(e.pulldowns,{type:"annotations"});for(d&&(this.dashboard.annotations={list:d.annotations||[]}),t=0;t<this.dashboard.templating.list.length;t++){var f=this.dashboard.templating.list[t];void 0===f.datasource&&(f.datasource=null),"filter"===f.type&&(f.type="query"),void 0===f.type&&(f.type="query"),void 0===f.allFormat&&(f.allFormat="glob")}}if(l<7&&(e.nav&&e.nav.length&&(this.dashboard.timepicker=e.nav[0]),c.push(function(e){i.a.each(e.targets,function(t){t.refId||(t.refId=e.getNextQueryLetter&&e.getNextQueryLetter())})})),l<8&&c.push(function(e){i.a.each(e.targets,function(e){e.fields&&e.tags&&e.groupBy&&(e.rawQuery?(delete e.fields,delete e.fill):(e.select=i.a.map(e.fields,function(e){var t=[];return t.push({type:"field",params:[e.name]}),t.push({type:e.func,params:[]}),e.mathExpr&&t.push({type:"math",params:[e.mathExpr]}),e.asExpr&&t.push({type:"alias",params:[e.asExpr]}),t}),delete e.fields,i.a.each(e.groupBy,function(e){"time"===e.type&&e.interval&&(e.params=[e.interval],delete e.interval),"tag"===e.type&&e.key&&(e.params=[e.key],delete e.key)}),e.fill&&(e.groupBy.push({type:"fill",params:[e.fill]}),delete e.fill)))})}),l<9&&c.push(function(e){if(("singlestat"===e.type||""===e.thresholds)&&e.thresholds){var t=e.thresholds.split(",");t.length>=3&&(t.shift(),e.thresholds=t.join(","))}}),l<10&&c.push(function(e){"table"===e.type&&i.a.each(e.styles,function(e){if(e.thresholds&&e.thresholds.length>=3){var t=e.thresholds;t.shift(),e.thresholds=t}})}),l<12&&i.a.each(this.dashboard.templating.list,function(e){e.refresh&&(e.refresh=1),e.refresh||(e.refresh=0),e.hideVariable?e.hide=2:e.hideLabel&&(e.hide=1)}),l<12&&c.push(function(e){"graph"===e.type&&e.grid&&(e.yaxes||(e.yaxes=[{show:e["y-axis"],min:e.grid.leftMin,max:e.grid.leftMax,logBase:e.grid.leftLogBase,format:e.y_formats[0],label:e.leftYAxisLabel},{show:e["y-axis"],min:e.grid.rightMin,max:e.grid.rightMax,logBase:e.grid.rightLogBase,format:e.y_formats[1],label:e.rightYAxisLabel}],e.xaxis={show:e["x-axis"]},delete e.grid.leftMin,delete e.grid.leftMax,delete e.grid.leftLogBase,delete e.grid.rightMin,delete e.grid.rightMax,delete e.grid.rightLogBase,delete e.y_formats,delete e.leftYAxisLabel,delete e.rightYAxisLabel,delete e["y-axis"],delete e["x-axis"]))}),l<13&&c.push(function(e){if("graph"===e.type&&e.grid){e.thresholds||(e.thresholds=[]);var t={},n={};null!==e.grid.threshold1&&(t.value=e.grid.threshold1,e.grid.thresholdLine?(t.line=!0,t.lineColor=e.grid.threshold1Color,t.colorMode="custom"):(t.fill=!0,t.fillColor=e.grid.threshold1Color,t.colorMode="custom")),null!==e.grid.threshold2&&(n.value=e.grid.threshold2,e.grid.thresholdLine?(n.line=!0,n.lineColor=e.grid.threshold2Color,n.colorMode="custom"):(n.fill=!0,n.fillColor=e.grid.threshold2Color,n.colorMode="custom")),i.a.isNumber(t.value)&&(i.a.isNumber(n.value)?t.value>n.value?(t.op=n.op="lt",e.thresholds.push(t),e.thresholds.push(n)):(t.op=n.op="gt",e.thresholds.push(t),e.thresholds.push(n)):(t.op="gt",e.thresholds.push(t))),delete e.grid.threshold1,delete e.grid.threshold1Color,delete e.grid.threshold2,delete e.grid.threshold2Color,delete e.grid.thresholdLine}}),l<14&&(this.dashboard.graphTooltip=e.sharedCrosshair?1:0),l<16&&this.upgradeToGridLayout(e),l<17&&c.push(function(e){if(e.minSpan){var t=s.e/e.minSpan,n=Object(p.a)(s.e);e.maxPerRow=n[i.a.findIndex(n,function(e){return e>t})-1]}delete e.minSpan}),l<18&&c.push(function(e){e["options-gauge"]&&(e.options=e["options-gauge"],e.options.valueOptions={unit:e.options.unit,stat:e.options.stat,decimals:e.options.decimals,prefix:e.options.prefix,suffix:e.options.suffix},e.options.thresholds&&e.options.thresholds.reverse(),delete e.options.options,delete e.options.unit,delete e.options.stat,delete e.options.decimals,delete e.options.prefix,delete e.options.suffix,delete e["options-gauge"])}),l<19&&c.push(function(e){e.links&&i.a.isArray(e.links)&&(e.links=e.links.map(v))}),l<20){var h=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{url:y(e.url)})};c.push(function(e){e.options&&e.options.dataLinks&&i.a.isArray(e.options.dataLinks)&&(e.options.dataLinks=e.options.dataLinks.map(h)),e.options&&e.options.fieldOptions&&e.options.fieldOptions.defaults&&(e.options.fieldOptions.defaults.links&&i.a.isArray(e.options.fieldOptions.defaults.links)&&(e.options.fieldOptions.defaults.links=e.options.fieldOptions.defaults.links.map(h)),e.options.fieldOptions.defaults.title&&(e.options.fieldOptions.defaults.title=y(e.options.fieldOptions.defaults.title)))})}if(l<21){var m=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{url:e.url.replace(/__series.labels/g,"__field.labels")})};c.push(function(e){e.options&&e.options.dataLinks&&i.a.isArray(e.options.dataLinks)&&(e.options.dataLinks=e.options.dataLinks.map(m)),e.options&&e.options.fieldOptions&&e.options.fieldOptions.defaults&&e.options.fieldOptions.defaults.links&&i.a.isArray(e.options.fieldOptions.defaults.links)&&(e.options.fieldOptions.defaults.links=e.options.fieldOptions.defaults.links.map(m))})}if(l<22&&c.push(function(e){"table"===e.type&&i.a.each(e.styles,function(e){e.align="auto"})}),0!==c.length)for(n=0;n<this.dashboard.panels.length;n++)for(r=0;r<c.length;r++)if(c[r].call(this,this.dashboard.panels[n]),this.dashboard.panels[n].panels)for(o=0;o<this.dashboard.panels[n].panels.length;o++)c[r].call(this,this.dashboard.panels[n].panels[o])}},e.prototype.upgradeToGridLayout=function(e){var t,n,r,o,l=0,c=s.e/12,u=i.a.max(i.a.flattenDeep(i.a.map(e.rows,function(e){return i.a.map(e.panels,"id")})))+1;if(e.rows){var p=i.a.some(e.rows,function(e){return e.collapse||e.showTitle||e.repeat});try{for(var f=Object(a.__values)(e.rows),h=f.next();!h.done;h=f.next()){var m=h.value;if(!m.repeatIteration){var v=g(m.height||s.b),y={},w=void 0;p&&(y.id=u,y.type="row",y.title=m.title,y.collapsed=m.collapse,y.repeat=m.repeat,y.panels=[],y.gridPos={x:0,y:l,w:s.e,h:v},w=new d.a(y),u++,l++);var x=new b(v,s.e,l);try{for(var O=(r=void 0,Object(a.__values)(m.panels)),_=O.next();!_.done;_=O.next()){var k=_.value;k.span=k.span||s.a,k.minSpan&&(k.minSpan=Math.min(s.e,s.e/12*k.minSpan));var j=Math.floor(k.span)*c,C=k.height?g(k.height):v,S=x.getPanelPosition(C,j);l=x.yPos,k.gridPos={x:S.x,y:l+S.y,w:j,h:C},x.addPanel(k.gridPos),delete k.span,w&&y.collapsed?w.panels.push(k):this.dashboard.panels.push(new d.a(k))}}catch(e){r={error:e}}finally{try{_&&!_.done&&(o=O.return)&&o.call(O)}finally{if(r)throw r.error}}w&&this.dashboard.panels.push(w),w&&y.collapsed||(l+=v)}}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}}},e}();function g(e){return i.a.isString(e)&&(e=parseInt(e.replace("px",""),10)),e<s.g&&(e=s.g),Math.ceil(e/(s.c+s.d))}var b=function(){function e(e,t,n){void 0===t&&(t=s.e),void 0===n&&(n=0),this.area=new Array(t).fill(0),this.yPos=n,this.height=e}return e.prototype.reset=function(){this.area.fill(0)},e.prototype.addPanel=function(e){for(var t=e.x;t<e.x+e.w;t++)(!this.area[t]||e.y+e.h-this.yPos>this.area[t])&&(this.area[t]=e.y+e.h-this.yPos);return this.area},e.prototype.getPanelPosition=function(e,t,n){var a,r;void 0===n&&(n=!1);for(var o=this.area.length-1;o>=0&&this.height-this.area[o]>0;o--)if(void 0===r)r=o;else{if(!(o<this.area.length-1&&this.area[o]<=this.area[o+1]))break;a=o}return void 0!==a&&void 0!==r&&r-a>=t-1?{x:a,y:i.a.max(this.area.slice(a))}:n?null:(this.yPos+=this.height,this.reset(),this.getPanelPosition(e,t,!0))},e}();function v(e){var t=e.url;return!t&&e.dashboard&&(t="dashboard/db/"+h.a.slugifyForUrl(e.dashboard)),!t&&e.dashUri&&(t="dashboard/"+e.dashUri),t||(t="/"),e.keepTime&&(t=Object(f.a)(t,"$"+o.DataLinkBuiltInVars.keepTime)),e.includeVars&&(t=Object(f.a)(t,"$"+o.DataLinkBuiltInVars.includeVars)),e.params&&(t=Object(f.a)(t,e.params)),{url:t,title:e.title,targetBlank:e.targetBlank}}function y(e){return e.replace(/(__series_name)|(\$__series_name)|(__value_time)|(__field_name)|(\$__field_name)/g,function(e,t,n,a,r,i){return t?"__series.name":n?"${__series.name}":a?"__value.time":r?"__field.name":i?"${__field.name}":e})}var w=n("Obii"),x=n("GQ3c");n.d(t,"a",function(){return O});var O=function(){function e(e,t){e||(e={}),this.events=new l.a,this.id=e.id||null,this.uid=e.uid||null,this.revision=e.revision,this.title=e.title||"No Title",this.autoUpdate=e.autoUpdate,this.description=e.description,this.tags=e.tags||[],this.style=e.style||"dark",this.timezone=e.timezone||"",this.editable=!1!==e.editable,this.graphTooltip=e.graphTooltip||0,this.time=e.time||{from:"now-6h",to:"now"},this.timepicker=e.timepicker||{},this.templating=this.ensureListExist(e.templating),this.annotations=this.ensureListExist(e.annotations),this.refresh=e.refresh,this.snapshot=e.snapshot,this.schemaVersion=e.schemaVersion||0,this.version=e.version||0,this.links=e.links||[],this.gnetId=e.gnetId||null,this.panels=i.a.map(e.panels||[],function(e){return new d.a(e)}),this.resetOriginalVariables(),this.resetOriginalTime(),this.initMeta(t),this.updateSchema(e),this.addBuiltInAnnotationQuery(),this.sortPanelsByGridPos()}return e.prototype.addBuiltInAnnotationQuery=function(){var e,t,n=!1;try{for(var r=Object(a.__values)(this.annotations.list),i=r.next();!i.done;i=r.next()){if(1===i.value.builtIn){n=!0;break}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n||this.annotations.list.unshift({datasource:"-- Grafana --",name:"Annotations & Alerts",type:"dashboard",iconColor:o.DEFAULT_ANNOTATION_COLOR,enable:!0,hide:!0,builtIn:1})},e.prototype.initMeta=function(e){(e=e||{}).canShare=!1!==e.canShare,e.canSave=!1!==e.canSave,e.canStar=!1!==e.canStar,e.canEdit=!1!==e.canEdit,e.showSettings=e.canEdit,e.canMakeEditable=e.canSave&&!this.editable,e.fullscreen=!1,e.isEditing=!1,this.editable||(e.canEdit=!1,e.canDelete=!1,e.canSave=!1),this.meta=e},e.prototype.getSaveModelClone=function(t){var n=i.a.defaults(t||{},{saveVariables:!0,saveTimerange:!0}),a={};for(var r in this)!e.nonPersistedProperties[r]&&this.hasOwnProperty(r)&&(a[r]=i.a.cloneDeep(this[r]));if(a.templating={list:i.a.map(this.templating.list,function(e){return e.getSaveModel?e.getSaveModel():e})},!n.saveVariables)for(var o=0;o<a.templating.list.length;o++){var s=a.templating.list[o],l=i.a.find(this.originalTemplating,{name:s.name,type:s.type});l&&("adhoc"===s.type?a.templating.list[o].filters=l.filters:a.templating.list[o].current=l.current)}return n.saveTimerange||(a.time=this.originalTime),a.panels=i.a.chain(this.panels).filter(function(e){return"add-panel"!==e.type}).map(function(e){return e.getSaveModel()}).value(),a=u(a)},e.prototype.setViewMode=function(e,t,n){this.meta.fullscreen=t,this.meta.isEditing=n&&this.meta.canEdit,e.setViewMode(t,this.meta.isEditing),this.events.emit(w.PanelEvents.viewModeChanged,e)},e.prototype.timeRangeUpdated=function(e){this.events.emit(x.CoreEvents.timeRangeUpdated,e)},e.prototype.startRefresh=function(){var e,t;this.events.emit(w.PanelEvents.refresh);try{for(var n=Object(a.__values)(this.panels),r=n.next();!r.done;r=n.next()){var i=r.value;this.otherPanelInFullscreen(i)||i.refresh()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.render=function(){var e,t;this.events.emit(w.PanelEvents.render);try{for(var n=Object(a.__values)(this.panels),r=n.next();!r.done;r=n.next()){r.value.render()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.panelInitialized=function(e){e.initialized(),this.otherPanelInFullscreen(e)||e.refresh()},e.prototype.otherPanelInFullscreen=function(e){return this.meta.fullscreen&&!e.fullscreen},e.prototype.ensureListExist=function(e){return e||(e={}),e.list||(e.list=[]),e},e.prototype.getNextPanelId=function(){var e,t,n,r,i=0;try{for(var o=Object(a.__values)(this.panels),s=o.next();!s.done;s=o.next()){var l=s.value;if(l.id>i&&(i=l.id),l.collapsed)try{for(var c=(n=void 0,Object(a.__values)(l.panels)),u=c.next();!u.done;u=c.next()){var d=u.value;d.id>i&&(i=d.id)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i+1},e.prototype.forEachPanel=function(e){for(var t=0;t<this.panels.length;t++)e(this.panels[t],t)},e.prototype.getPanelById=function(e){var t,n;try{for(var r=Object(a.__values)(this.panels),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.id===e)return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype.canEditPanel=function(e){return this.meta.canEdit&&e&&!e.repeatPanelId},e.prototype.canEditPanelById=function(e){return this.canEditPanel(this.getPanelById(e))},e.prototype.addPanel=function(e){e.id=this.getNextPanelId();var t=new d.a(e);this.panels.unshift(t),this.sortPanelsByGridPos(),this.events.emit(d.b,t)},e.prototype.sortPanelsByGridPos=function(){this.panels.sort(function(e,t){return e.gridPos.y===t.gridPos.y?e.gridPos.x-t.gridPos.x:e.gridPos.y-t.gridPos.y})},e.prototype.cleanUpRepeats=function(){var e,t;if(!this.snapshot&&0!==this.templating.list.length){this.iteration=(this.iteration||(new Date).getTime())+1;var n=[];try{for(var r=Object(a.__values)(this.panels),o=r.next();!o.done;o=r.next()){delete(l=o.value).scopedVars}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}for(var s=0;s<this.panels.length;s++){var l;(l=this.panels[s]).repeat&&!l.repeatedByRow||!l.repeatPanelId||l.repeatIteration===this.iteration||n.push(l)}i.a.pull.apply(i.a,Object(a.__spread)([this.panels],n)),n.map(function(e){return e.destroy()}),this.sortPanelsByGridPos(),this.events.emit(x.CoreEvents.repeatsProcessed)}},e.prototype.processRepeats=function(){if(!this.snapshot&&0!==this.templating.list.length){this.cleanUpRepeats(),this.iteration=(this.iteration||(new Date).getTime())+1;for(var e=0;e<this.panels.length;e++){var t=this.panels[e];t.repeat&&this.repeatPanel(t,e)}this.sortPanelsByGridPos(),this.events.emit(x.CoreEvents.repeatsProcessed)}},e.prototype.cleanUpRowRepeats=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];!r.repeat&&r.repeatPanelId&&t.push(r)}i.a.pull.apply(i.a,Object(a.__spread)([e],t)),i.a.pull.apply(i.a,Object(a.__spread)([this.panels],t))},e.prototype.processRowRepeats=function(e){if(!this.snapshot&&0!==this.templating.list.length){var t=e.panels;if(!e.collapsed){var n=i.a.findIndex(this.panels,function(t){return t.id===e.id});t=this.getRowPanels(n)}this.cleanUpRowRepeats(t);for(var a=function(e){var n=t[e];if(n.repeat){var a=i.a.findIndex(r.panels,function(e){return e.id===n.id});r.repeatPanel(n,a)}},r=this,o=0;o<t.length;o++)a(o)}},e.prototype.getPanelRepeatClone=function(e,t,n){if(0===t)return e;var a=new d.a(e.getSaveModel());return a.id=this.getNextPanelId(),this.panels.splice(n+t,0,a),a.repeatIteration=this.iteration,a.repeatPanelId=e.id,a.repeat=null,a},e.prototype.getRowRepeatClone=function(e,t,n){if(0===t){if(!e.collapsed){var a=this.getRowPanels(n);e.panels=a}return e}var r,o,s=new d.a(e.getSaveModel());return e.collapsed?(r=i.a.cloneDeep(e.panels),s.panels=r,o=n+t):(r=this.getRowPanels(n),s.panels=i.a.map(r,function(e){return e.getSaveModel()}),o=n+(r.length+1)*t),this.panels.splice(o,0,s),this.updateRepeatedPanelIds(s),s},e.prototype.repeatPanel=function(e,t){var n=i.a.find(this.templating.list,{name:e.repeat});if(n)if("row"!==e.type){for(var a=this.getSelectedVariableOptions(n),r=e.maxPerRow||4,o=0,l=e.gridPos.y,c=0;c<a.length;c++){var u=a[c],d=void 0;(d=this.getPanelRepeatClone(e,c,t)).scopedVars=d.scopedVars||{},d.scopedVars[n.name]=u,e.repeatDirection===s.i?(c>0&&(l+=d.gridPos.h),d.gridPos.y=l):(d.gridPos.w=Math.max(s.e/a.length,s.e/r),d.gridPos.x=o,d.gridPos.y=l,(o+=d.gridPos.w)+d.gridPos.w>s.e&&(o=0,l+=d.gridPos.h))}var p=l-e.gridPos.y;if(p>0)for(var f=t+a.length;f<this.panels.length;f++)this.panels[f].gridPos.y+=p}else this.repeatRow(e,t,n)},e.prototype.repeatRow=function(e,t,n){var a=this,r=this.getSelectedVariableOptions(n),o=e.gridPos.y;function s(e,t){e.scopedVars=e.scopedVars||{},e.scopedVars[n.name]=t}for(var l=function(n){var l=r[n],u=c.getRowRepeatClone(e,n,t);s(u,l);var p=c.getRowHeight(u),f=u.panels||[],h=void 0;if(e.collapsed)i.a.each(f,function(e,t){s(e,l),n>0&&a.updateRepeatedPanelIds(e,!0)}),u.gridPos.y+=n,o+=n,h=t+n+1;else{var m=t+(f.length+1)*n+1;i.a.each(f,function(e,t){if(s(e,l),n>0){var r=new d.a(e);a.updateRepeatedPanelIds(r,!0),r.gridPos.y+=p*n,a.panels.splice(m+t,0,r)}}),u.panels=[],u.gridPos.y+=p*n,o+=p,h=m+f.length}for(var g=h;g<c.panels.length;g++)c.panels[g].gridPos.y+=o},c=this,u=0;u<r.length;u++)l(u)},e.prototype.updateRepeatedPanelIds=function(e,t){return e.repeatPanelId=e.id,e.id=this.getNextPanelId(),e.repeatIteration=this.iteration,t?e.repeatedByRow=!0:e.repeat=null,e},e.prototype.getSelectedVariableOptions=function(e){return"All"===e.current.text?e.options.slice(1,e.options.length):i.a.filter(e.options,{selected:!0})},e.prototype.getRowHeight=function(e){if(!e.panels||0===e.panels.length)return 0;var t=e.gridPos.y,n=i.a.map(e.panels,"gridPos"),a=i.a.maxBy(n,function(e){return e.y+e.h});return a.y+a.h-t},e.prototype.removePanel=function(e){var t=i.a.indexOf(this.panels,e);this.panels.splice(t,1),this.events.emit(d.c,e)},e.prototype.removeRow=function(e,t){(!t&&e.collapsed||t&&!e.collapsed)&&this.toggleRow(e),this.removePanel(e)},e.prototype.expandRows=function(){for(var e=0;e<this.panels.length;e++){var t=this.panels[e];"row"===t.type&&(t.collapsed&&this.toggleRow(t))}},e.prototype.collapseRows=function(){for(var e=0;e<this.panels.length;e++){var t=this.panels[e];"row"===t.type&&(t.collapsed||this.toggleRow(t))}},e.prototype.setPanelFocus=function(e){this.meta.focusPanelId=e},e.prototype.updateSubmenuVisibility=function(){var e=this;this.meta.submenuEnabled=e.links.length>0||i.a.filter(e.templating.list,function(e){return 2!==e.hide}).length>0||i.a.filter(e.annotations.list,function(e){return!0!==e.hide}).length>0,this.events.emit(x.CoreEvents.submenuVisibilityChanged,this.meta.submenuEnabled)},e.prototype.getPanelInfoById=function(e){for(var t=0;t<this.panels.length;t++)if(this.panels[t].id===e)return{panel:this.panels[t],index:t};return null},e.prototype.duplicatePanel=function(e){var t=e.getSaveModel();return t.id=this.getNextPanelId(),delete t.repeat,delete t.repeatIteration,delete t.repeatPanelId,delete t.scopedVars,t.alert&&delete t.thresholds,delete t.alert,e.gridPos.x+2*e.gridPos.w<=s.e?t.gridPos.x+=e.gridPos.w:t.gridPos.y+=e.gridPos.h,this.addPanel(t),t},e.prototype.formatDate=function(e,t){return e=Object(w.isDateTime)(e)?e:Object(w.dateTime)(e),t=t||"YYYY-MM-DD HH:mm:ss","browser"===this.getTimezone()?Object(w.dateTime)(e).format(t):Object(w.toUtc)(e).format(t)},e.prototype.destroy=function(){var e,t;this.events.removeAllListeners();try{for(var n=Object(a.__values)(this.panels),r=n.next();!r.done;r=n.next()){r.value.destroy()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.toggleRow=function(e){var t,n,r=i.a.indexOf(this.panels,e);if(e.collapsed){e.collapsed=!1;var o=i.a.some(e.panels,function(e){return e.repeat});if(e.panels.length>0){var s=e.panels[0].gridPos.y-(e.gridPos.y+e.gridPos.h),l=r+1,c=e.gridPos.y;try{for(var u=Object(a.__values)(e.panels),p=u.next();!p.done;p=u.next()){var f=p.value;f.gridPos.y-=s,this.panels.splice(l,0,new d.a(f)),l+=1,c=Math.max(c,f.gridPos.y+f.gridPos.h)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var h=c-e.gridPos.y-1,m=l;m<this.panels.length;m++)this.panels[m].gridPos.y+=h;e.panels=[],o&&this.processRowRepeats(e)}return this.sortPanelsByGridPos(),void this.events.emit(x.CoreEvents.rowExpanded)}var g=this.getRowPanels(r);i.a.pull.apply(i.a,Object(a.__spread)([this.panels],g)),e.panels=i.a.map(g,function(e){return e.getSaveModel()}),e.collapsed=!0,this.events.emit(x.CoreEvents.rowCollapsed)},e.prototype.getRowPanels=function(e){for(var t=[],n=e+1;n<this.panels.length;n++){var a=this.panels[n];if("row"===a.type)break;t.push(a)}return t},e.prototype.on=function(e,t){this.events.on(e,t)},e.prototype.off=function(e,t){this.events.off(e,t)},e.prototype.cycleGraphTooltip=function(){this.graphTooltip=(this.graphTooltip+1)%3},e.prototype.sharedTooltipModeEnabled=function(){return this.graphTooltip>0},e.prototype.sharedCrosshairModeOnly=function(){return 1===this.graphTooltip},e.prototype.getRelativeTime=function(e){return e=Object(w.isDateTime)(e)?e:Object(w.dateTime)(e),"browser"===this.timezone?Object(w.dateTime)(e).fromNow():Object(w.toUtc)(e).fromNow()},e.prototype.isTimezoneUtc=function(){return"utc"===this.getTimezone()},e.prototype.isSnapshot=function(){return void 0!==this.snapshot},e.prototype.getTimezone=function(){return this.timezone?this.timezone:c.a.user.timezone},e.prototype.updateSchema=function(e){new m(this).updateSchema(e)},e.prototype.resetOriginalTime=function(){this.originalTime=i.a.cloneDeep(this.time)},e.prototype.hasTimeChanged=function(){return!i.a.isEqual(this.time,this.originalTime)},e.prototype.resetOriginalVariables=function(){this.originalTemplating=i.a.map(this.templating.list,function(e){return{name:e.name,type:e.type,current:i.a.cloneDeep(e.current),filters:i.a.cloneDeep(e.filters)}})},e.prototype.hasVariableValuesChanged=function(){if(this.templating.list.length!==this.originalTemplating.length)return!1;var e=i.a.map(this.templating.list,function(e){return{name:e.name,type:e.type,current:i.a.cloneDeep(e.current),filters:i.a.cloneDeep(e.filters)}});return!i.a.isEqual(e,this.originalTemplating)},e.prototype.autoFitPanels=function(e,t){var n=Math.max.apply(Math,Object(a.__spread)(this.panels.map(function(e){return e.gridPos.h+e.gridPos.y}))),r=e-55-20;this.meta.submenuEnabled&&!t&&(r-=50),t&&t!==x.KIOSK_MODE_TV&&(r+=55);var i=n/Math.floor(r/(s.c+s.d));this.panels.forEach(function(e,t){e.gridPos.y=Math.round(e.gridPos.y/i)||1,e.gridPos.h=Math.round(e.gridPos.h/i)||1})},e.prototype.templateVariableValueUpdated=function(){this.processRepeats(),this.events.emit(x.CoreEvents.templateVariableValueUpdated)},e.prototype.expandParentRowFor=function(e){var t,n,r,i;try{for(var o=Object(a.__values)(this.panels),s=o.next();!s.done;s=o.next()){var l=s.value;if(l.collapsed)try{for(var c=(r=void 0,Object(a.__values)(l.panels)),u=c.next();!u.done;u=c.next()){if(u.value.id===e)return void this.toggleRow(l)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.toggleLegendsForAll=function(){var e,t,n=this.panels.filter(function(e){return void 0!==e.legend&&null!==e.legend}),r=n.filter(function(e){return e.legend.show}).length,i=r>=n.length-r;try{for(var o=Object(a.__values)(n),s=o.next();!s.done;s=o.next()){var l=s.value;l.legend.show=!i,l.render()}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.nonPersistedProperties={events:!0,meta:!0,panels:!0,templating:!0,originalTime:!0,originalTemplating:!0},e}()},"s+LN":function(e,t){var n="public/app/plugins/datasource/opentsdb/partials/annotations.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=gf-form-group>\n  <div class=gf-form>\n    <span class="gf-form-label width-13">OpenTSDB metrics query</span>\n    <input type=text class=gf-form-input ng-model=ctrl.annotation.target placeholder=events.eventname>\n  </div>\n  <gf-form-switch class=gf-form label="Show Global Annotations?" checked=ctrl.annotation.isGlobal switch-class=max-width-6 label-class=width-13></gf-form-switch>\n</div>\n')}]),e.exports=n},sAJe:function(e,t,n){"use strict";n.d(t,"h",function(){return c}),n.d(t,"q",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"r",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"p",function(){return y}),n.d(t,"d",function(){return w}),n.d(t,"m",function(){return O}),n.d(t,"l",function(){return _}),n.d(t,"j",function(){return k}),n.d(t,"o",function(){return j}),n.d(t,"i",function(){return C}),n.d(t,"k",function(){return S}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return T});var a=n("mrSG"),r=n("3SGO"),i=n("ZFWI"),o=n("Obii"),s=n("t8hP"),l=n("YiuE");function c(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),n(Object(l.h)(!1)),[4,n(u(e))];case 1:return a.sent(),[4,n(b(e))];case 2:return a.sent(),[4,n(x(e))];case 3:return a.sent(),i.b.ldapEnabled&&i.b.licenseInfo.hasLicense?[4,n(k())]:[3,5];case 4:a.sent(),a.label=5;case 5:return n(Object(l.h)(!0)),[3,7];case 6:return t=a.sent(),console.log(t),t.isHandled=!0,r={title:t.data.message,body:t.data.error},n(Object(l.g)(r)),[3,7];case 7:return[2]}})})}}function u(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,Object(s.getBackendSrv)().get("/api/users/"+e)];case 1:return t=a.sent(),n(Object(l.l)(t)),[2]}})})}}function d(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(s.getBackendSrv)().put("/api/users/"+e.id,e)];case 1:return t.sent(),n(c(e.id)),[2]}})})}}function p(e,t){var n=this;return function(r){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return n={password:t},[4,Object(s.getBackendSrv)().put("/api/admin/users/"+e+"/password",n)];case 1:return a.sent(),r(c(e)),[2]}})})}}function f(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(s.getBackendSrv)().post("/api/admin/users/"+e+"/disable")];case 1:return t.sent(),n(Object(r.c)({path:"/admin/users"})),[2]}})})}}function h(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(s.getBackendSrv)().post("/api/admin/users/"+e+"/enable")];case 1:return t.sent(),n(c(e)),[2]}})})}}function m(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(s.getBackendSrv)().delete("/api/admin/users/"+e)];case 1:return t.sent(),n(Object(r.c)({path:"/admin/users"})),[2]}})})}}function g(e,t){var n=this;return function(r){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return n={isGrafanaAdmin:t},[4,Object(s.getBackendSrv)().put("/api/admin/users/"+e+"/permissions",n)];case 1:return a.sent(),r(c(e)),[2]}})})}}function b(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,Object(s.getBackendSrv)().get("/api/users/"+e+"/orgs")];case 1:return t=a.sent(),n(Object(l.k)(t)),[2]}})})}}function v(e,t,n){var r=this;return function(i){return Object(a.__awaiter)(r,void 0,void 0,function(){var r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return r={loginOrEmail:e.login,role:n},[4,Object(s.getBackendSrv)().post("/api/orgs/"+t+"/users/",r)];case 1:return a.sent(),i(c(e.id)),[2]}})})}}function y(e,t,n){var r=this;return function(i){return Object(a.__awaiter)(r,void 0,void 0,function(){var r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return r={role:n},[4,Object(s.getBackendSrv)().patch("/api/orgs/"+t+"/users/"+e,r)];case 1:return a.sent(),i(c(e)),[2]}})})}}function w(e,t){var n=this;return function(r){return Object(a.__awaiter)(n,void 0,void 0,function(){return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,Object(s.getBackendSrv)().delete("/api/orgs/"+t+"/users/"+e)];case 1:return n.sent(),r(c(e)),[2]}})})}}function x(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return[4,Object(s.getBackendSrv)().get("/api/admin/users/"+e+"/auth-tokens")];case 1:return(t=a.sent()).reverse(),r=t.map(function(e){return{id:e.id,isActive:e.isActive,seenAt:Object(o.dateTime)(e.seenAt).fromNow(),createdAt:Object(o.dateTime)(e.createdAt).format("MMMM DD, YYYY"),clientIp:e.clientIp,browser:e.browser,browserVersion:e.browserVersion,os:e.os,osVersion:e.osVersion,device:e.device}}),n(Object(l.m)(r)),[2]}})})}}function O(e,t){var n=this;return function(r){return Object(a.__awaiter)(n,void 0,void 0,function(){var n;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return n={authTokenId:e},[4,Object(s.getBackendSrv)().post("/api/admin/users/"+t+"/revoke-auth-token",n)];case 1:return a.sent(),r(x(t)),[2]}})})}}function _(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(s.getBackendSrv)().post("/api/admin/users/"+e+"/logout")];case 1:return t.sent(),n(x(e)),[2]}})})}}function k(){var e=this;return function(t){return Object(a.__awaiter)(e,void 0,void 0,function(){var e;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return i.b.licenseInfo.hasLicense?[4,Object(s.getBackendSrv)().get("/api/admin/ldap-sync-status")]:[3,2];case 1:e=n.sent(),t(Object(l.f)(e)),n.label=2;case 2:return[2]}})})}}function j(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,Object(s.getBackendSrv)().post("/api/admin/ldap/sync/"+e)];case 1:return t.sent(),n(c(e)),[2]}})})}}function C(){var e=this;return function(t){return Object(a.__awaiter)(e,void 0,void 0,function(){var e,n,r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Object(s.getBackendSrv)().get("/api/admin/ldap/status")];case 1:return e=a.sent(),t(Object(l.d)(e)),[3,3];case 2:return(n=a.sent()).isHandled=!0,r={title:n.data.message,body:n.data.error},t(Object(l.e)(r)),[3,3];case 3:return[2]}})})}}function S(e){var t=this;return function(n){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,r,i,o,c,u,d,p,f,h,m,g;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Object(s.getBackendSrv)().get("/api/admin/ldap/"+e)];case 1:return t=a.sent(),r=t.name,i=t.surname,o=t.email,c=t.login,u=t.isGrafanaAdmin,d=t.isDisabled,p=t.roles,f=t.teams,h={info:{name:r,surname:i,email:o,login:c},permissions:{isGrafanaAdmin:u,isDisabled:d},roles:p,teams:f},n(Object(l.j)(h)),[3,3];case 2:return(m=a.sent()).isHandled=!0,g={title:m.data.message,body:m.data.error},n(Object(l.b)()),n(Object(l.i)(g)),[3,3];case 3:return[2]}})})}}function E(){return function(e){e(Object(l.a)())}}function T(){return function(e){e(Object(l.a)()),e(Object(l.b)())}}},sBLX:function(e,t,n){"use strict";var a,r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e.Metrics="Metrics",e.Logs="Logs"}(a||(a={})),function(e){e.left="left",e.right="right"}(r||(r={}))},sH2m:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("PAeb"),s=n("RO46");var l=n("MIBK"),c=n("Al41"),u=n("VtFO"),d=n("AWKi");n.d(t,"a",function(){return g});var p,f,h,m=Object(l.g)(function(e){return{singleValue:Object(o.css)(p||(p=Object(a.__makeTemplateObject)(["\n    label: singleValue;\n    color: ",";\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    box-sizing: border-box;\n    max-width: 100%;\n    /* padding-right: 40px; */\n  "],["\n    label: singleValue;\n    color: ",";\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    box-sizing: border-box;\n    max-width: 100%;\n    /* padding-right: 40px; */\n  "])),e.colors.formInputText),container:Object(o.css)(f||(f=Object(a.__makeTemplateObject)(["\n    width: 16px;\n    height: 16px;\n    display: inline-block;\n    margin-right: 10px;\n    position: relative;\n    vertical-align: middle;\n    overflow: hidden;\n  "],["\n    width: 16px;\n    height: 16px;\n    display: inline-block;\n    margin-right: 10px;\n    position: relative;\n    vertical-align: middle;\n    overflow: hidden;\n  "]))),item:Object(o.css)(h||(h=Object(a.__makeTemplateObject)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  "],["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  "])))}}),g=function(e){var t=e.children,n=e.data,o=Object(l.h)(),u=m(o),p=function(e,t){void 0===t&&(t={});var n=t.duration,i=void 0===n?250:n,o=t.delay,s=void 0===o?250:o,l=Object(a.__read)(Object(r.useState)(e),2),c=l[0],u=l[1],d=Object(r.useRef)();return Object(r.useEffect)(function(){var t;if(e)t=setTimeout(function(){d.current=new Date,u(e)},s);else{var n=d.current?Date.now()-d.current.valueOf():0,a=function(){d.current=void 0,u(e)};n>=i?a():t=setTimeout(a,i-n)}return function(){t&&(clearTimeout(t),t=void 0)}},[e,i,s]),c}(n.loading||!1,{delay:250,duration:750});return i.a.createElement(s.b.SingleValue,Object(a.__assign)({},e),i.a.createElement("div",{className:u.singleValue},n.imgUrl?i.a.createElement(b,{loading:p,imgUrl:n.imgUrl}):i.a.createElement(c.a,{horizontal:!0,size:16,visible:p,duration:150},i.a.createElement("div",{className:u.container},i.a.createElement(d.a,{className:u.item,inline:!0}))),!n.hideText&&t))},b=function(e){var t=Object(l.h)(),n=m(t);return i.a.createElement("div",{className:n.container},i.a.createElement(u.a,{duration:150,visible:e.loading},i.a.createElement(d.a,{className:n.item,inline:!0})),i.a.createElement(u.a,{duration:150,visible:!e.loading},i.a.createElement("img",{className:n.item,src:e.imgUrl})))}},sjC4:function(e,t){},"spX/":function(e,t,n){"use strict";var a=n("2kIT"),r=n("mrSG"),i=function(e,t){return function(n){d(e,t,n.currentTarget.value)}},o=function(e,t){return function(n){p(e,t,n.currentTarget.value)}},s=function(e,t){return function(n){f(e,t,n.currentTarget.value)}},l=function(e,t){return function(n){p(e,t,n.value)}},c=function(e,t){return function(n){f(e,t,n.value)}},u=function(e,t){return function(n){h(e,t)}};function d(e,t,n){var a,i=e.options;e.onOptionsChange(Object(r.__assign)(Object(r.__assign)({},i),((a={})[t]=n,a)))}var p=function(e,t,n){var a,i=e.options;e.onOptionsChange(Object(r.__assign)(Object(r.__assign)({},i),{jsonData:Object(r.__assign)(Object(r.__assign)({},i.jsonData),(a={},a[t]=n,a))}))},f=function(e,t,n){var a,i=e.options;e.onOptionsChange(Object(r.__assign)(Object(r.__assign)({},i),{secureJsonData:Object(r.__assign)(Object(r.__assign)({},i.secureJsonData),(a={},a[t]=n,a))}))};function h(e,t){var n,a,i=e.options;e.onOptionsChange(Object(r.__assign)(Object(r.__assign)({},i),{secureJsonData:Object(r.__assign)(Object(r.__assign)({},i.secureJsonData),(n={},n[t]="",n)),secureJsonFields:Object(r.__assign)(Object(r.__assign)({},i.secureJsonFields),(a={},a[t]=!1,a))}))}var m,g,b=n("lhB2"),v=n("NpuA"),y=n.n(v),w=n("la6v"),x=n.n(w),O=n("UB5X"),_=n.n(O),k=n("KgU3"),j=n("0v62"),C=n("ir79");function S(e,t){return new E(t).readCSV(e)}!function(e){e[e.full=0]="full",e[e.name=1]="name",e[e.none=2]="none"}(m||(m={})),function(e){e[e.Starting=0]="Starting",e[e.InHeader=1]="InHeader",e[e.ReadingRows=2]="ReadingRows"}(g||(g={}));var E=function(){function e(e){var t=this;this.step=function(e,n){for(var a,i,o=0;o<e.data.length;o++){var s=e.data[o];if(!(s.length<1)){var l=s[0];if(l){if(l.startsWith("#")){var c=l.indexOf("#",2);if(c>0){var u=l.substr(1,c-1),d="name"===u;if(d||{unit:"#"}.hasOwnProperty(u)){t.state===g.ReadingRows&&(t.current=new C.b({fields:[]}),t.data.push(t.current));var p=l.substr(c+1);if(d){t.current.addFieldFor(void 0,p);for(var f=1;f<s.length;f++)t.current.addFieldFor(void 0,s[f])}else{var h=t.current.fields;for(f=0;f<h.length;f++){h[f].config||(h[f].config={}),h[f].config[u]=0===f?p:s[f]}}t.state=g.InHeader;continue}}else if(t.state===g.Starting){t.state=g.InHeader;continue}continue}if(t.state===g.Starting){if(Object(j.d)(l)===k.FieldType.string){try{for(var m=(a=void 0,Object(r.__values)(s)),b=m.next();!b.done;b=m.next()){var v=b.value;t.current.addFieldFor(void 0,v)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}t.state=g.InHeader;continue}t.state=g.InHeader}}if(t.state,g.ReadingRows,t.state=g.ReadingRows,s.length>t.current.fields.length){for(var y=(h=t.current.fields).length;y<s.length;y++)t.current.addFieldFor(s[y]);t.callback&&t.callback.onHeader(t.current.fields)}t.current.appendRow(s),t.callback&&t.callback.onRow(s)}}},e||(e={}),this.config=e.config||{},this.callback=e.callback,this.current=new C.b({fields:[]}),this.state=g.Starting,this.data=[]}return e.prototype.readCSV=function(e){this.current=new C.b({fields:[]}),this.data=[this.current];var t=Object(r.__assign)(Object(r.__assign)({},this.config),{dynamicTyping:!1,skipEmptyLines:!0,comments:!1,step:this.step});return y.a.parse(e,t),this.data},e}();function T(e,t){var n=e.toString();return n.includes('"')?t.quoteChar+n.replace(/"/gi,'""')+t.quoteChar:n.includes("\n")||n.includes(t.delimiter)?t.quoteChar+n+t.quoteChar:n}function M(e,t){if(e.type){if(e.type===k.FieldType.boolean)return function(e){return e?"true":"false"};if(e.type===k.FieldType.number)return function(e){return _()(e)?e.toString():T(e,t)}}return function(e){return T(e,t)}}function A(e,t,n){var a,i,o="name"===e,s="type"===e;try{for(var l=Object(r.__values)(t),c=l.next();!c.done;c=l.next()){var u=c.value.config;if(o||s||u&&u.hasOwnProperty(e)){for(var d="#"+e+"#",p=0;p<t.length;p++){p>0&&(d+=n.delimiter);var f=t[p].name;s?f=t[p].type:o||(f=t[p].config[e]),f&&(d+=T(f,n))}return d+n.newline}}}catch(e){a={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return""}function N(e,t){var n,a;if(!e)return"";var i="";t=x()(t,{delimiter:",",newline:"\r\n",quoteChar:'"',encoding:"",headerStyle:m.name});try{for(var o=Object(r.__values)(e),s=o.next();!s.done;s=o.next()){var l=s.value.fields;if(0!==l.length){if(t.headerStyle===m.full)i=i+A("name",l,t)+A("type",l,t)+A("unit",l,t)+A("dateFormat",l,t);else if(t.headerStyle===m.name){for(var c=0;c<l.length;c++)c>0&&(i+=t.delimiter),i+=l[c].name;i+=t.newline}var u=l[0].values.length;if(u>0){var d=l.map(function(e){return M(e,t)});for(c=0;c<u;c++){for(var p=0;p<l.length;p++){p>0&&(i+=t.delimiter);var f=l[p].values.get(c);null!==f&&(i+=d[p](f))}i+=t.newline}}i+=t.newline}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i}var D=n("LvDl"),I=n("RH9q"),P=n("0uOV"),F=/(?:^|\s)([\w\(\)\[\]\{\}]+)=(""|(?:".*?[^\\]"|[^"\s]\S*))/;function L(e){var t,n;if(!e)return I.a.unknown;try{for(var a=Object(r.__values)(Object.keys(I.a)),i=a.next();!i.done;i=a.next()){var o=i.value;if(new RegExp("\\b"+o+"\\b","i").test(e)){var s=I.a[o];if(s)return s}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return I.a.unknown}function R(e){var t=I.a[e.toLowerCase()];return t||I.a.unknown}function V(e,t){for(var n=new P.a,a=e.fields[t],i=0;i<a.values.length;i++){var o=a.values.get(t);n.buffer.push(L(o))}return Object(r.__assign)(Object(r.__assign)({},e),{fields:Object(r.__spread)(e.fields,[{name:"LogLevel",type:k.FieldType.string,values:n,config:{}}])})}var $={JSON:{buildMatcher:function(e){return new RegExp('(?:{|,)\\s*"'+e+'"\\s*:\\s*"?([\\d\\.]+|[^"]*)"?')},getFields:function(e){try{var t=JSON.parse(e);return Object.keys(t).map(function(e){return'"'+e+'":'+JSON.stringify(t[e])})}catch(e){}return[]},getLabelFromField:function(e){return(e.match(/^"([^"]+)"\s*:/)||[])[1]},getValueFromField:function(e){return(e.match(/:\s*(.*)$/)||[])[1]},test:function(e){try{return JSON.parse(e)}catch(e){}}},logfmt:{buildMatcher:function(e){return new RegExp("(?:^|\\s)"+Object(D.escapeRegExp)(e)+'=("[^"]*"|\\S+)')},getFields:function(e){var t=[];return e.replace(new RegExp(F,"g"),function(e){return t.push(e.trim()),""}),t},getLabelFromField:function(e){return(e.match(F)||[])[1]},getValueFromField:function(e){return(e.match(F)||[])[2]},test:function(e){return F.test(e)}}};function B(e,t){var n=e.filter(function(e){return t.test(e.entry)}),a=n.length,r=Object(D.countBy)(n,function(e){var n=e.entry.match(t);return n?n[1]:null});return z(r,a)}function U(e,t){var n=e.filter(function(e){return void 0!==e.labels[t]}),a=n.length,r=Object(D.countBy)(n,function(e){return e.labels[t]});return z(r,a)}function q(e){var t=e.filter(function(e){return null!=e}),n=Object(D.countBy)(t);return z(n,t.length)}var z=function(e,t){return Object(D.chain)(e).map(function(e,n){return{count:e,value:n,proportion:e/t}}).sortBy("count").reverse().value()};function H(e){var t;try{$.JSON.test(e)&&(t=$.JSON)}catch(e){}return!t&&$.logfmt.test(e)&&(t=$.logfmt),t}var G=/\b(\w+)(!?=~?)"([^"\n]*?)"/g;function W(e){var t={};return e.replace(G,function(e,n,a,r){return t[n]=r,""}),t}function Q(e){return e.reduce(function(e,t){if(!t)throw new Error("Need parsed labels to find common labels.");return e?(Object.keys(t).forEach(function(n){void 0!==e[n]&&e[n]===t[n]||delete e[n]}),Object.keys(e).forEach(function(n){void 0===t[n]&&delete e[n]})):e=Object(r.__assign)({},t),e},void 0)}function Y(e,t){var n=Object(r.__assign)({},e);return Object.keys(t).forEach(function(e){delete n[e]}),n}function K(e,t){return void 0===t&&(t=""),e&&0!==Object.keys(e).length?["{",Object.keys(e).sort().map(function(t){return t+'="'+e[t]+'"'}).join(", "),"}"].join(""):t}var J=function(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})},Z=n("m+sf"),X=function(e){for(var t,n,a=0;a<e.values.length;a++){var r=e.values.get(a);if(void 0!==t){var i=r-t;void 0===n&&(n=i),i<n&&(n=i)}t=r}return n},ee=function(e){for(var t=0;t<e.values.length;t++){var n=e.values.get(t);if(null!=n){var a=n.toString();if(13===a.length&&a%1e3!=0)return!0}}return!1},te=n("b+mb"),ne=n("U5HE");n.d(t,"d",function(){return a.a}),n.d(t,"E",function(){return i}),n.d(t,"C",function(){return o}),n.d(t,"G",function(){return s}),n.d(t,"D",function(){return l}),n.d(t,"H",function(){return c}),n.d(t,"F",function(){return u}),n.d(t,"M",function(){return d}),n.d(t,"L",function(){return p}),n.d(t,"O",function(){return f}),n.d(t,"N",function(){return h}),n.d(t,"i",function(){return b.a}),n.d(t,"a",function(){return m}),n.d(t,"J",function(){return S}),n.d(t,"b",function(){return E}),n.d(t,"K",function(){return N}),n.d(t,"u",function(){return L}),n.d(t,"v",function(){return R}),n.d(t,"e",function(){return V}),n.d(t,"c",function(){return $}),n.d(t,"f",function(){return B}),n.d(t,"g",function(){return U}),n.d(t,"h",function(){return q}),n.d(t,"y",function(){return H}),n.d(t,"I",function(){return W}),n.d(t,"j",function(){return Q}),n.d(t,"k",function(){return Y}),n.d(t,"l",function(){return K}),n.d(t,"I",function(){return W}),n.d(t,"j",function(){return Q}),n.d(t,"k",function(){return Y}),n.d(t,"l",function(){return K}),n.d(t,"B",function(){return J}),n.d(t,"o",function(){return Z.c}),n.d(t,"n",function(){return Z.b}),n.d(t,"r",function(){return Z.f}),n.d(t,"m",function(){return Z.a}),n.d(t,"q",function(){return Z.e}),n.d(t,"p",function(){return Z.d}),n.d(t,"x",function(){return Z.g}),n.d(t,"z",function(){return X}),n.d(t,"A",function(){return ee}),n.d(t,"w",function(){return te.a}),n.d(t,"s",function(){return ne.a}),n.d(t,"t",function(){return ne.b})},"t/ct":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("t8hP"),s=n("kDLi"),l=n("Obii"),c=i.a.createContext(o.config),u=c.Consumer,d=function(){return Object(s.getTheme)(o.config.bootData.user.lightTheme?l.GrafanaThemeType.Light:l.GrafanaThemeType.Dark)},p=function(e){var t=e.children;return i.a.createElement(u,null,function(e){return i.a.createElement(s.ThemeContext.Provider,{value:d()},t)})},f=function(e){return function(e){return function(t){return i.a.createElement(c.Provider,{value:o.config},i.a.createElement(e,Object(a.__assign)({},t)))}}(function(t){return i.a.createElement(p,null,i.a.createElement(e,Object(a.__assign)({},t)))})}},t8hP:function(e,t,n){"use strict";n.r(t);var a=n("3x4x");n.d(t,"EchoEventType",function(){return a.a}),n.d(t,"setEchoSrv",function(){return a.k}),n.d(t,"getEchoSrv",function(){return a.e}),n.d(t,"registerEchoBackend",function(){return a.g}),n.d(t,"setBackendSrv",function(){return a.i}),n.d(t,"getBackendSrv",function(){return a.c}),n.d(t,"setAngularLoader",function(){return a.h}),n.d(t,"getAngularLoader",function(){return a.b}),n.d(t,"setDataSourceSrv",function(){return a.j}),n.d(t,"getDataSourceSrv",function(){return a.d}),n.d(t,"setLocationSrv",function(){return a.l}),n.d(t,"getLocationSrv",function(){return a.f});var r=n("J9Im");n.d(t,"GrafanaBootConfig",function(){return r.a}),n.d(t,"config",function(){return r.b});var i=n("MbqT");for(var o in i)["loadPluginCss","SystemJS","reportMetaAnalytics","DataSourceWithBackend","EchoEventType","setEchoSrv","getEchoSrv","registerEchoBackend","setBackendSrv","getBackendSrv","setAngularLoader","getAngularLoader","setDataSourceSrv","getDataSourceSrv","setLocationSrv","getLocationSrv","GrafanaBootConfig","config","default"].indexOf(o)<0&&function(e){n.d(t,e,function(){return i[e]})}(o);var s=n("/vR/");n.d(t,"loadPluginCss",function(){return s.b}),n.d(t,"SystemJS",function(){return s.a});var l=n("4aoj");n.d(t,"reportMetaAnalytics",function(){return l.a});var c=n("+4lh");n.d(t,"DataSourceWithBackend",function(){return c.a})},tAX7:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f});var a=n("wd/R"),r=n.n(a),i=r.a.ISO_8601,o=function(e){r.a.locale(e)},s=function(){return r.a.localeData()},l=function(e){return r.a.isMoment(e)},c=function(e,t){return r.a.utc(e,t)},u=function(e,t){return r.a.duration(e,t)},d=function(e,t){return r()(e,t)},p=function(e){return d(e)},f=function(e,t,n){return"utc"===e?c(t,n):d(t,n)}},tOGo:function(e,t){},tjQr:function(e,t){var n="public/app/features/dashboard/components/DashExportModal/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=share-modal-header>\n\t<div class=share-modal-big-icon>\n\t\t<i class="fa fa-cloud-upload"></i>\n\t</div>\n\t<div>\n\t\t<gf-form-switch class=gf-form label="Export for sharing externally" label-class=width-16 checked=ctrl.shareExternally tooltip="Useful for sharing dashboard publicly on grafana.com. Will templatize data source names. Can then only be used with the specific dashboard import API.">\n\t\t</gf-form-switch>\n\n\t\t<div class=gf-form-button-row>\n\t\t\t<button type=button class="btn gf-form-btn width-10 btn-primary" ng-click=ctrl.saveDashboardAsFile()>\n\t\t\t  Save to file\n\t\t\t</button>\n\t\t\t<button type=button class="btn gf-form-btn width-10 btn-secondary" ng-click=ctrl.viewJson()>\n\t\t\t  View JSON\n\t\t\t</button>\n\t\t\t<a class="btn btn-link" ng-click=ctrl.dismiss()>Cancel</a>\n\t\t</div>\n\n\t</div>\n</div>\n')}]),e.exports=n},txxJ:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var a=n("KHwQ"),r=n.n(a),i=r.a.module("grafana.core",["ngRoute"]),o=[i,r.a.module("grafana.controllers",[]),r.a.module("grafana.directives",[]),r.a.module("grafana.factories",[]),r.a.module("grafana.services",[]),r.a.module("grafana.filters",[]),r.a.module("grafana.routes",[])];t.c=i},uiFW:function(e,t){var n="public/app/features/manage-dashboards/partials/dashboard_import.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body" ng-cloak>\n  <div ng-if="ctrl.step === 1">\n\n    <form class=page-action-bar>\n      <div class=page-action-bar__spacer></div>\n      <dash-upload on-upload=ctrl.onUpload(dash)></dash-upload>\n    </form>\n\n    <h5 class=section-heading>Grafana.com Dashboard</h5>\n\n    <div class=gf-form-group>\n      <div class="gf-form gf-form--grow">\n        <input type=text class="gf-form-input max-width-30" ng-model=ctrl.gnetUrl placeholder="Paste Grafana.com dashboard url or id" ng-blur=ctrl.checkGnetDashboard()>\n      </div>\n      <div class=gf-form ng-if=ctrl.gnetError>\n        <label class="gf-form-label text-warning">\n          <i class="fa fa-warning"></i>\n          {{ctrl.gnetError}}\n        </label>\n      </div>\n    </div>\n\n    <h5 class=section-heading>Or paste JSON</h5>\n\n    <div class=gf-form-group>\n      <div class=gf-form>\n        <textarea rows=10 data-share-panel-url="" class=gf-form-input ng-model=ctrl.jsonText></textarea>\n      </div>\n      <button type=button class="btn btn-secondary" ng-click=ctrl.loadJsonText()>\n        <i class="fa fa-paste"></i>\n        Load\n      </button>\n      <span ng-if=ctrl.parseError class="text-error p-l-1">\n        <i class="fa fa-warning"></i>\n        {{ctrl.parseError}}\n      </span>\n    </div>\n  </div>\n\n  <div ng-if="ctrl.step === 2">\n    <div class=gf-form-group ng-if=ctrl.dash.gnetId>\n      <h3 class=section-heading>\n        Importing Dashboard from\n        <a href=https://grafana.com/dashboards/{{ctrl.dash.gnetId}} class=external-link target=_blank>Grafana.com</a>\n      </h3>\n\n      <div class=gf-form>\n        <label class="gf-form-label width-15">Published by</label>\n        <label class="gf-form-label width-15">{{ctrl.gnetInfo.orgName}}</label>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-15">Updated on</label>\n        <label class="gf-form-label width-15">{{ctrl.gnetInfo.updatedAt | date : \'yyyy-MM-dd HH:mm:ss\'}}</label>\n      </div>\n    </div>\n\n    <h3 class=section-heading>\n      Options\n    </h3>\n\n    <div class=gf-form-group>\n      <div class=gf-form-inline>\n        <div class="gf-form gf-form--grow">\n          <label class="gf-form-label width-15">Name</label>\n          <input type=text class=gf-form-input ng-model=ctrl.dash.title give-focus=true ng-change=ctrl.titleChanged() ng-class="{\'validation-error\': ctrl.nameExists || !ctrl.dash.title}">\n          <label class="gf-form-label text-success" ng-if="ctrl.titleTouched && !ctrl.hasNameValidationError">\n            <i class="fa fa-check"></i>\n          </label>\n        </div>\n      </div>\n\n      <div class=gf-form-inline ng-if=ctrl.hasNameValidationError>\n        <div class="gf-form offset-width-15 gf-form--grow">\n          <label class="gf-form-label text-warning gf-form-label--grow">\n            <i class="fa fa-warning"></i>\n            {{ctrl.nameValidationError}}\n          </label>\n        </div>\n      </div>\n\n      <div class=gf-form-inline>\n        <div class="gf-form gf-form--grow">\n          <folder-picker label-class=width-15 initial-folder-id=ctrl.folderId initial-title=ctrl.initialFolderTitle on-change=ctrl.onFolderChange($folder) on-load=ctrl.onFolderChange($folder) enter-folder-creation=ctrl.onEnterFolderCreation() exit-folder-creation=ctrl.onExitFolderCreation() enable-create-new=true>\n          </folder-picker>\n        </div>\n      </div>\n\n      <div class=gf-form-inline>\n        <div class="gf-form gf-form--grow">\n          <span class="gf-form-label width-15">\n            Unique identifier (uid)\n            <info-popover mode=right-normal>\n                The unique identifier (uid) of a dashboard can be used for uniquely identify a dashboard between multiple Grafana installs.\n                The uid allows having consistent URL’s for accessing dashboards so changing the title of a dashboard will not break any\n                bookmarked links to that dashboard.\n            </info-popover>\n          </span>\n          <input type=text class=gf-form-input disabled=disabled ng-model=ctrl.autoGenerateUidValue ng-if=ctrl.autoGenerateUid>\n          <a class="btn btn-secondary gf-form-btn" href=# ng-click="ctrl.autoGenerateUid = false" ng-if=ctrl.autoGenerateUid>change</a>\n          <input type=text class=gf-form-input maxlength=40 placeholder="optional, will be auto-generated if empty" ng-model=ctrl.dash.uid ng-change=ctrl.uidChanged() ng-if=!ctrl.autoGenerateUid>\n          <label class="gf-form-label text-success" ng-if="!ctrl.autoGenerateUid && !ctrl.hasUidValidationError">\n            <i class="fa fa-check"></i>\n          </label>\n        </div>\n      </div>\n\n      <div class=gf-form-inline ng-if=ctrl.hasUidValidationError>\n        <div class="gf-form offset-width-15 gf-form--grow">\n          <label class="gf-form-label text-warning gf-form-label--grow">\n            <i class="fa fa-warning"></i>\n            {{ctrl.uidValidationError}}\n          </label>\n        </div>\n      </div>\n\n      <div ng-repeat="input in ctrl.inputs">\n        <div class=gf-form>\n          <label class="gf-form-label width-15">\n            {{input.label}}\n            <info-popover mode=right-normal>\n              {{input.info}}\n            </info-popover>\n          </label>\n          \x3c!-- Data source input --\x3e\n          <div class=gf-form-select-wrapper style=width:100% ng-if="input.type === \'datasource\'">\n            <select class=gf-form-input ng-model=input.value ng-options="v.value as v.text for v in input.options" ng-change=ctrl.inputValueChanged()>\n              <option value="" ng-hide=input.value>{{input.info}}</option>\n            </select>\n          </div>\n          \x3c!-- Constant input --\x3e\n          <input ng-if="input.type === \'constant\'" type=text class=gf-form-input ng-model=input.value placeholder={{input.default}} ng-change=ctrl.inputValueChanged()>\n          <label class="gf-form-label text-success" ng-show=input.value>\n            <i class="fa fa-check"></i>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button type=button class="btn btn-primary width-12" ng-click=ctrl.saveDashboard() ng-hide="ctrl.nameExists || ctrl.uidExists" ng-disabled=!ctrl.isValid()>\n        Import\n      </button>\n      <button type=button class="btn btn-danger width-12" ng-click=ctrl.saveDashboard() ng-show="ctrl.nameExists || ctrl.uidExists" ng-disabled=!ctrl.isValid()>\n        Import (Overwrite)\n      </button>\n      <a class="btn btn-link" ng-click=ctrl.back()>Cancel</a>\n    </div>\n\n  </div>\n</div>\n\n<footer/>\n')}]),e.exports=n},umNM:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("ZFWI"),r=n("LvDl"),i=n.n(r),o=n("txxJ"),s=function(){return function(){a.b.bootData.user&&i.a.extend(this,a.b.bootData.user)}}(),l=new(function(){function e(){this.sidemenuSmallBreakpoint=!1,a.b.bootData||(a.b.bootData={user:{},settings:{}}),this.user=new s,this.isSignedIn=this.user.isSignedIn,this.isGrafanaAdmin=this.user.isGrafanaAdmin,this.isEditor=this.hasRole("Editor")||this.hasRole("Admin"),this.hasEditPermissionInFolders=this.user.hasEditPermissionInFolders}return e.prototype.hasRole=function(e){return this.user.orgRole===e},e.prototype.isGrafanaVisible=function(){return!(void 0!==document.visibilityState&&"visible"!==document.visibilityState)},e.prototype.hasAccessToExplore=function(){return(this.isEditor||a.b.viewersCanEdit)&&a.b.exploreEnabled},e}());o.c.factory("contextSrv",function(){return l})},uomI:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("I7VN"),s=n("BC3V"),l=n("S3Uj"),c=n.n(l),u={transition:"opacity 200ms linear",opacity:0},d={exited:{opacity:0},entering:{opacity:0},entered:{opacity:1,transitionDelay:"0s"},exiting:{opacity:0,transitionDelay:"500ms"}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.show,r=e.placement,l=e.onMouseEnter,p=e.onMouseLeave,f=e.className,h=e.wrapperClassName,m=e.renderArrow,g=e.referenceElement,b=e.eventsEnabled;return i.a.createElement(o.a,null,i.a.createElement(c.a,{in:n,timeout:100,mountOnEnter:!0,unmountOnExit:!0},function(e){return i.a.createElement(s.a,null,i.a.createElement(o.b,{placement:r,referenceElement:g,eventsEnabled:b,modifiers:{preventOverflow:{enabled:!0,boundariesElement:"window"}}},function(n){var r=n.ref,o=n.style,s=n.placement,c=n.arrowProps,g=n.scheduleUpdate;return i.a.createElement("div",{onMouseEnter:l,onMouseLeave:p,ref:r,style:Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},o),u),d[e]),"data-placement":s,className:""+h},i.a.createElement("div",{className:f},"string"==typeof t&&t,i.a.isValidElement(t)&&i.a.cloneElement(t),"function"==typeof t&&t({updatePopperPosition:g}),m&&m({arrowProps:c,placement:s})))}))}))},t.defaultProps={eventsEnabled:!0},t}(r.PureComponent)},uz0r:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("wZee"),o=n.n(i),s=function(){var e=Object(r.useRef)(!1);return Object(r.useEffect)(function(){return e.current=!0,function(){e.current=!1}}),e},l=function(e,t,n,i){var o=s(),l=Object(a.__read)(Object(r.useState)([]),2),c=l[0],u=l[1],d=Object(a.__read)(Object(r.useState)(!1),2),p=d[0],f=d[1],h=Object(a.__read)(Object(r.useState)(!1),2),m=h[0],g=h[1];return Object(r.useEffect)(function(){if(t){var r=n[n.length-1];if(r){var s=c.map(function(e){return e.value===r.value?Object(a.__assign)(Object(a.__assign)({},e),{loading:!0}):e});u(s),l=r.value,Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,e.fetchLabelValues(l,i)];case 1:return t.sent(),o.current&&u(e.logLabelOptions),[2]}})})}}var l},[n]),Object(r.useEffect)(function(){(p||m)&&Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,e.refreshLogLabels(i,m)];case 1:return t.sent(),o.current&&(f(!1),g(!1),u(e.logLabelOptions)),[2]}})})},[p,m]),{logLabelOptions:c,setLogLabelOptions:u,refreshLabels:function(){return f(!0)}}};n.d(t,"a",function(){return c});var c=function(e,t){var n=s(),i=Object(a.__read)(Object(r.useState)(!1),2),c=i[0],u=i[1],d=Object(a.__read)(Object(r.useState)(null),2),p=d[0],f=d[1],h=Object(a.__read)(Object(r.useState)(),2),m=h[0],g=h[1],b=l(e,c,m,t),v=b.logLabelOptions,y=b.setLogLabelOptions,w=b.refreshLabels;return Object(r.useEffect)(function(){Object(a.__awaiter)(void 0,void 0,void 0,function(){return Object(a.__generator)(this,function(a){switch(a.label){case 0:return e.initialRange=t,[4,e.start()];case 1:return a.sent(),o.a.languages.promql=e.getSyntax(),n.current&&(y(e.logLabelOptions),f(e.getSyntax()),u(!0)),[2]}})})},[]),{isSyntaxReady:c,syntax:p,logLabelOptions:v,setActiveOption:g,refreshLabels:w}}},v4Fa:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("LvDl"),r=n.n(a);function i(e){return e&&!r.a.isString(e)?e.message?e.message:e.data&&e.data.message?e.data.message:e.statusText?e.statusText:JSON.stringify(e):e}},v7bs:function(e,t){var n="public/app/plugins/panel/table/column_options.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=edit-tab-content ng-repeat="style in editor.panel.styles">\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Options</h5>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-12">Apply to columns named</label>\n        <input type=text placeholder="Name or regex" class="gf-form-input width-13" ng-model=style.pattern bs-tooltip="\'Specify regex using /my.*regex/ syntax\'" bs-typeahead=editor.getColumnNames ng-blur=editor.render() data-min-length=0 data-items=100 ng-model-onblur data-placement=right>\n      </div>\n    </div>\n    <div class=gf-form ng-if="style.type !== \'hidden\'">\n      <label class="gf-form-label width-12">Column Header</label>\n      <input type=text class="gf-form-input width-12" ng-model=style.alias ng-change=editor.render() ng-model-onblur placeholder="Override header label">\n    </div>\n    <gf-form-switch class=gf-form label-class=width-12 label="Render value as link" checked=style.link on-change=editor.render()></gf-form-switch>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Type</h5>\n\n    <div class=gf-form>\n      <label class="gf-form-label width-10">Type</label>\n      <div class="gf-form-select-wrapper width-16">\n        <select class=gf-form-input ng-model=style.type ng-options="c.value as c.text for c in editor.columnTypes" ng-change=editor.render()></select>\n      </div>\n    </div>\n    <div class=gf-form ng-if="style.type === \'date\'">\n      <label class="gf-form-label width-10">Date Format</label>\n      <gf-form-dropdown model=style.dateFormat css-class="gf-form-input width-16" lookup-text=true get-options=editor.dateFormats on-change=editor.render() allow-custom=true>\n      </gf-form-dropdown>\n    </div>\n\n    <div ng-if="style.type === \'string\'">\n      <gf-form-switch class=gf-form label-class=width-10 ng-if="style.type === \'string\'" label="Sanitize HTML" checked=style.sanitize on-change=editor.render()></gf-form-switch>\n    </div>\n\n    <div ng-if="style.type !== \'hidden\'">\n      <div class=gf-form>\n        <label class="gf-form-label width-10">Align</label>\n        <gf-form-dropdown model=style.align css-class="gf-form-input width-16" lookup-text=true get-options=editor.alignTypes allow-custom=false on-change=editor.render() allow-custom=false />\n      </div>\n    </div>\n\n    <div ng-if="style.type === \'string\'">\n      <gf-form-switch class=gf-form label-class=width-10 ng-if="style.type === \'string\'" label="Preserve Formatting" checked=style.preserveFormat on-change=editor.render()></gf-form-switch>\n    </div>\n\n    <div ng-if="style.type === \'number\'">\n      <div class=gf-form>\n        <label class="gf-form-label width-10">Unit</label>\n        <div class="gf-form-dropdown-typeahead width-16" ng-model=style.unit dropdown-typeahead2=editor.unitFormats dropdown-typeahead-on-select="editor.setUnitFormat(style, $subItem)"></div>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-10">Decimals</label>\n        <input type=number class="gf-form-input width-4" data-placement=right ng-model=style.decimals ng-change=editor.render() ng-model-onblur>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group" ng-if="style.type === \'string\'">\n    <h5 class=section-heading>Value Mappings</h5>\n    <div class=editor-row>\n      <div class=gf-form-group>\n        <div class=gf-form>\n          <span class=gf-form-label>\n            Type\n          </span>\n          <div class=gf-form-select-wrapper>\n            <select class=gf-form-input ng-model=style.mappingType ng-options="c.value as c.text for c in editor.mappingTypes" ng-change=editor.render()></select>\n          </div>\n        </div>\n        <div class=gf-form-group ng-if="style.mappingType==1">\n          <div class=gf-form ng-repeat="map in style.valueMaps">\n            <span class=gf-form-label>\n              <i class="fa fa-remove pointer" ng-click="editor.removeValueMap(style, $index)"></i>\n            </span>\n            <input type=text class="gf-form-input max-width-6" ng-model=map.value placeholder=Value ng-blur=editor.render()>\n            <label class=gf-form-label>\n              <i class="fa fa-arrow-right"></i>\n            </label>\n            <input type=text class="gf-form-input max-width-8" ng-model=map.text placeholder=Text ng-blur=editor.render()>\n          </div>\n          <div class=gf-form>\n            <label class=gf-form-label>\n              <a class=pointer ng-click=editor.addValueMap(style)><i class="fa fa-plus"></i></a>\n            </label>\n          </div>\n        </div>\n        <div class=gf-form-group ng-if="style.mappingType==2">\n          <div class=gf-form ng-repeat="rangeMap in style.rangeMaps">\n            <span class=gf-form-label>\n              <i class="fa fa-remove pointer" ng-click="editor.removeRangeMap(style, $index)"></i>\n            </span>\n            <span class=gf-form-label>From</span>\n            <input type=text ng-model=rangeMap.from class="gf-form-input max-width-6" ng-blur=editor.render()>\n            <span class=gf-form-label>To</span>\n            <input type=text ng-model=rangeMap.to class="gf-form-input max-width-6" ng-blur=editor.render()>\n            <span class=gf-form-label>Text</span>\n            <input type=text ng-model=rangeMap.text class="gf-form-input max-width-8" ng-blur=editor.render()>\n          </div>\n          <div class=gf-form>\n            <label class=gf-form-label>\n              <a class=pointer ng-click=editor.addRangeMap(style)><i class="fa fa-plus"></i></a>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group" ng-if="[\'number\', \'string\'].indexOf(style.type) !== -1">\n    <h5 class=section-heading>Thresholds</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Thresholds\n        <tip>Comma separated values</tip>\n      </label>\n      <input type=text class="gf-form-input width-10" ng-model=style.thresholds placeholder=50,80 ng-blur=editor.render() array-join>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Color Mode</label>\n      <div class="gf-form-select-wrapper width-10">\n        <select class=gf-form-input ng-model=style.colorMode ng-options="c.value as c.text for c in editor.colorModes" ng-change=editor.render()></select>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Colors</label>\n      <span class=gf-form-label>\n        <color-picker color=style.colors[0] onchange=editor.onColorChange(style,0)></color-picker>\n      </span>\n      <span class=gf-form-label>\n        <color-picker color=style.colors[1] onchange=editor.onColorChange(style,1)></color-picker>\n      </span>\n      <span class=gf-form-label>\n        <color-picker color=style.colors[2] onchange=editor.onColorChange(style,2)></color-picker>\n      </span>\n      <div class=gf-form-label>\n        <a class=pointer ng-click=editor.invertColorOrder($index)>Invert</a>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group" ng-if=style.link>\n    <h5 class=section-heading>Link</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-9">\n        Url\n        <info-popover mode=right-normal>\n          <p>Specify an URL (relative or absolute)</p>\n          <span>\n            Use special variables to specify cell values:\n            <br>\n            <em>${__cell}</em> refers to current cell value\n            <br>\n            <em>${__cell_n}</em> refers to Nth column value in current row. Column indexes are started from 0. For instance,\n            <em>${__cell_1}</em> refers to second column\'s value.\n            <br>\n            <em>${__cell:raw}</em> syntax. By default values are URI encoded. If the value is a complete URL you can disable all encoding using\n          </span>\n        </info-popover>\n      </label>\n      <input type=text class="gf-form-input width-29" ng-model=style.linkUrl ng-blur=editor.render() ng-model-onblur data-placement=right>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-9">\n        Tooltip\n        <info-popover mode=right-normal>\n          <p>Specify text for link tooltip.</p>\n          <span>\n              This title appears when user hovers pointer over the cell with link. Use the same variables as for URL.\n          </span>\n        </info-popover>\n      </label>\n      <input type=text class="gf-form-input width-29" ng-model=style.linkTooltip ng-blur=editor.render() ng-model-onblur data-placement=right>\n    </div>\n    <gf-form-switch class=gf-form label-class=width-9 label="Open in new tab" checked=style.linkTargetBlank></gf-form-switch>\n  </div>\n\n  <div class=clearfix></div>\n  <div class=gf-form-group>\n    <button class="btn btn-danger btn-small" ng-click=editor.removeColumnStyle(style)>\n      <i class="fa fa-trash"></i> Remove Rule\n    </button>\n  </div>\n\n  <hr>\n</div>\n\n<div class=gf-form-button-row>\n  <button class="btn btn-inverse" ng-click=editor.addColumnStyle()>\n    <i class="fa fa-plus"></i>&nbsp;Add column style\n  </button>\n</div>\n\n')}]),e.exports=n},vFKA:function(e,t,n){var a={"./core/components/manage_dashboards/manage_dashboards.html":"EOC3","./core/components/search/search.html":"xQSJ","./core/components/search/search_results.html":"VDBq","./features/admin/partials/admin_home.html":"1duI","./features/admin/partials/edit_org.html":"1yDb","./features/admin/partials/edit_user.html":"QH30","./features/admin/partials/new_user.html":"rbvf","./features/admin/partials/orgs.html":"eYNV","./features/admin/partials/stats.html":"iSop","./features/admin/partials/styleguide.html":"6rcN","./features/admin/partials/users.html":"lpb/","./features/alerting/partials/alert_howto.html":"wvI5","./features/alerting/partials/alert_tab.html":"0LRa","./features/alerting/partials/notification_edit.html":"WNR3","./features/alerting/partials/notifications_list.html":"BvEB","./features/annotations/partials/editor.html":"RyIb","./features/annotations/partials/event_editor.html":"vk65","./features/dashboard/components/DashExportModal/template.html":"tjQr","./features/dashboard/components/DashLinks/editor.html":"HPUJ","./features/dashboard/components/DashboardSettings/template.html":"jvip","./features/dashboard/components/ExportDataModal/template.html":"qrvd","./features/dashboard/components/FolderPicker/template.html":"XrW9","./features/dashboard/components/RowOptions/template.html":"iyz2","./features/dashboard/components/ShareModal/template.html":"DBN/","./features/dashboard/components/SubMenu/template.html":"coz7","./features/dashboard/components/VersionHistory/template.html":"wxmp","./features/datasources/partials/http_settings_next.html":"WtGe","./features/datasources/partials/tls_auth_settings.html":"/2Ru","./features/folders/partials/create_folder.html":"3XPa","./features/folders/partials/folder_dashboards.html":"yFUm","./features/manage-dashboards/components/MoveToFolderModal/template.html":"3lkw","./features/manage-dashboards/partials/dashboard_import.html":"uiFW","./features/manage-dashboards/partials/dashboard_list.html":"OPwE","./features/manage-dashboards/partials/snapshot_list.html":"aLCo","./features/org/partials/invite.html":"y0W+","./features/org/partials/newOrg.html":"iFH1","./features/org/partials/select_org.html":"QBcC","./features/panel/panellinks/module.html":"bDa/","./features/panel/partials/general_tab.html":"XrM5","./features/panel/partials/panelTime.html":"oZti","./features/panel/partials/query_editor_row.html":"oEL2","./features/playlist/partials/playlist.html":"krwA","./features/playlist/partials/playlist_search.html":"4x4p","./features/playlist/partials/playlists.html":"M76c","./features/plugins/partials/plugin_page.html":"0+gp","./features/plugins/partials/update_instructions.html":"X4jf","./features/profile/partials/profile.html":"Uw6O","./features/templating/partials/editor.html":"6V0m","./partials/confirm_modal.html":"iKVC","./partials/edit_json.html":"Ukuu","./partials/error.html":"UkAP","./partials/modal.html":"/YHu","./partials/reset_password.html":"YRnh","./partials/signup_invited.html":"7teh","./partials/signup_step2.html":"peu1","./partials/valueSelectDropdown.html":"0bcw","./plugins/datasource/cloudwatch/partials/annotations.editor.html":"E1lu","./plugins/datasource/cloudwatch/partials/query.parameter.html":"hSYD","./plugins/datasource/elasticsearch/partials/annotations.editor.html":"LzuI","./plugins/datasource/elasticsearch/partials/bucket_agg.html":"NhjT","./plugins/datasource/elasticsearch/partials/metric_agg.html":"Pfkp","./plugins/datasource/elasticsearch/partials/pipeline_variables.html":"VKbU","./plugins/datasource/elasticsearch/partials/query.editor.html":"bR/a","./plugins/datasource/grafana-azure-monitor-datasource/partials/annotations.editor.html":"Qinm","./plugins/datasource/grafana-azure-monitor-datasource/partials/query.editor.html":"ADUO","./plugins/datasource/grafana/partials/annotations.editor.html":"/8l8","./plugins/datasource/grafana/partials/query.editor.html":"dQag","./plugins/datasource/graphite/partials/annotations.editor.html":"2rVl","./plugins/datasource/graphite/partials/query.editor.html":"ePCq","./plugins/datasource/influxdb/partials/annotations.editor.html":"Szrz","./plugins/datasource/influxdb/partials/query.editor.html":"/HFP","./plugins/datasource/loki/partials/annotations.editor.html":"3CYn","./plugins/datasource/mssql/partials/annotations.editor.html":"PQb9","./plugins/datasource/mssql/partials/config.html":"1kYe","./plugins/datasource/mssql/partials/query.editor.html":"U1ax","./plugins/datasource/mysql/partials/annotations.editor.html":"9RCP","./plugins/datasource/mysql/partials/config.html":"7ym3","./plugins/datasource/mysql/partials/query.editor.html":"gw38","./plugins/datasource/opentsdb/partials/annotations.editor.html":"s+LN","./plugins/datasource/opentsdb/partials/query.editor.html":"vhkK","./plugins/datasource/postgres/partials/annotations.editor.html":"I+An","./plugins/datasource/postgres/partials/config.html":"diqK","./plugins/datasource/postgres/partials/query.editor.html":"HmKx","./plugins/datasource/prometheus/partials/annotations.editor.html":"jaLZ","./plugins/datasource/stackdriver/partials/annotations.editor.html":"cytP","./plugins/datasource/stackdriver/partials/config.html":"OEPh","./plugins/datasource/stackdriver/partials/query.editor.html":"7wpZ","./plugins/datasource/testdata/partials/query.editor.html":"pCo/","./plugins/panel/alertlist/editor.html":"phJb","./plugins/panel/alertlist/module.html":"0ZQg","./plugins/panel/dashlist/editor.html":"QqjE","./plugins/panel/dashlist/module.html":"eNSq","./plugins/panel/graph/axes_editor.html":"ZG7E","./plugins/panel/graph/tab_display.html":"Lmi3","./plugins/panel/graph/tab_drilldown_links.html":"cZsJ","./plugins/panel/graph/tab_legend.html":"/XDc","./plugins/panel/graph/tab_thresholds_time_regions.html":"hiSG","./plugins/panel/graph/thresholds_form.html":"zJCM","./plugins/panel/graph/time_regions_form.html":"pDgv","./plugins/panel/heatmap/module.html":"NoBN","./plugins/panel/heatmap/partials/axes_editor.html":"vInx","./plugins/panel/heatmap/partials/display_editor.html":"mCU5","./plugins/panel/pluginlist/editor.html":"7dpV","./plugins/panel/pluginlist/module.html":"UJAu","./plugins/panel/singlestat/editor.html":"hE9y","./plugins/panel/singlestat/mappings.html":"2euF","./plugins/panel/singlestat/module.html":"8iRp","./plugins/panel/table/column_options.html":"v7bs","./plugins/panel/table/editor.html":"RYWr","./plugins/panel/table/module.html":"N1Zo","./plugins/panel/text/editor.html":"9CCn","./plugins/panel/text/module.html":"/Dwp"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="vFKA"},vInx:function(e,t){var n="public/app/plugins/panel/heatmap/partials/axes_editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=editor-row>\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Y Axis</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Unit</label>\n      <div class="gf-form-dropdown-typeahead width-12" ng-model=ctrl.panel.yAxis.format dropdown-typeahead2=editor.unitFormats dropdown-typeahead-on-select=editor.setUnitFormat($subItem)>\n      </div>\n    </div>\n    <div ng-if="ctrl.panel.dataFormat == \'timeseries\'">\n      <div class=gf-form>\n        <label class="gf-form-label width-8">Scale</label>\n        <div class="gf-form-select-wrapper width-12">\n          <select class=gf-form-input ng-model=ctrl.panel.yAxis.logBase ng-options="v as k for (k, v) in editor.logScales" ng-change=ctrl.refresh()></select>\n        </div>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-8">Y-Min</label>\n        <input type=text class="gf-form-input width-12" placeholder=auto empty-to-null ng-model=ctrl.panel.yAxis.min ng-change=ctrl.render() ng-model-onblur>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-8">Y-Max</label>\n        <input type=text class="gf-form-input width-12" placeholder=auto empty-to-null ng-model=ctrl.panel.yAxis.max ng-change=ctrl.render() ng-model-onblur>\n      </div>\n    </div>\n    <div class=gf-form>\n      <label class="gf-form-label width-8">Decimals</label>\n      <input type=number class="gf-form-input width-12" placeholder=auto data-placement=right bs-tooltip="\'Override automatic decimal precision for axis.\'" ng-model=ctrl.panel.yAxis.decimals ng-change=ctrl.render() ng-model-onblur>\n    </div>\n    <div class=gf-form ng-if="ctrl.panel.dataFormat == \'tsbuckets\'">\n      <label class="gf-form-label width-8">Bucket bound</label>\n      <div class="gf-form-select-wrapper max-width-12">\n        <select class=gf-form-input ng-model=ctrl.panel.yBucketBound ng-options="v as k for (k, v) in editor.yBucketBoundModes" ng-change=ctrl.render() data-placement=right bs-tooltip="\'Use series label as an upper or lower bucket bound.\'">\n        </select>\n      </div>\n    </div>\n    <gf-form-switch ng-if="ctrl.panel.dataFormat == \'tsbuckets\'" class=gf-form label-class=width-8 label="Reverse order" checked=ctrl.panel.reverseYBuckets on-change=ctrl.refresh()>\n    </gf-form-switch>\n  </div>\n\n  <div class="section gf-form-group" ng-if="ctrl.panel.dataFormat == \'timeseries\'">\n    <h5 class=section-heading>Buckets</h5>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-5">Y Axis</label>\n      </div>\n      <div class=gf-form ng-show="ctrl.panel.yAxis.logBase === 1">\n        <label class="gf-form-label width-5">Buckets</label>\n        <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'Number of buckets for Y axis.\'" ng-model=ctrl.panel.yBucketNumber ng-change=ctrl.refresh() ng-model-onblur>\n      </div>\n      <div class=gf-form ng-show="ctrl.panel.yAxis.logBase === 1">\n        <label class="gf-form-label width-4">Size</label>\n        <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'Size of bucket. Has priority over Buckets option.\'" ng-model=ctrl.panel.yBucketSize ng-change=ctrl.refresh() ng-model-onblur>\n      </div>\n      <div class=gf-form ng-show="ctrl.panel.yAxis.logBase !== 1">\n        <label class="gf-form-label width-10">Split Factor</label>\n        <input type=number class="gf-form-input width-9" placeholder=1 data-placement=right bs-tooltip="\'For log scales only. By default Y values is splitted by integer powers of log base (1, 2, 4, 8, 16, ... for log2). This option allows to split each default bucket into specified number of buckets.\'" ng-model=ctrl.panel.yAxis.splitFactor ng-change=ctrl.refresh() ng-model-onblur>\n        \n      </div>\n    </div>\n    <div class=gf-form-inline>\n      <div class=gf-form>\n        <label class="gf-form-label width-5">X Axis</label>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-5">Buckets</label>\n        <input type=number class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'Number of buckets for X axis.\'" ng-model=ctrl.panel.xBucketNumber ng-change=ctrl.refresh() ng-model-onblur>\n      </div>\n      <div class=gf-form>\n        <label class="gf-form-label width-4">Size</label>\n        <input type=text class="gf-form-input width-5" placeholder=auto data-placement=right bs-tooltip="\'Size of bucket. Number or interval (10s, 5m, 1h, etc). Supported intervals: ms, s, m, h, d, w, M, y. Has priority over Buckets option.\'" ng-model=ctrl.panel.xBucketSize ng-change=ctrl.refresh() ng-model-onblur>\n      </div>\n    </div>\n  </div>\n\n  <div class="section gf-form-group">\n    <h5 class=section-heading>Data format</h5>\n    <div class=gf-form>\n      <label class="gf-form-label width-5">Format</label>\n      <div class="gf-form-select-wrapper max-width-15">\n        <select class=gf-form-input ng-model=ctrl.panel.dataFormat ng-options="v as k for (k, v) in editor.dataFormats" ng-change=ctrl.render() data-placement=right bs-tooltip="\'Time series: create heatmap from regular time series. <br>Time series buckets: use histogram data returned from data source. Each series represents bucket which upper/lower bound is a series label.\'">\n        </select>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),e.exports=n},vKfT:function(e,t){!function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,t,n){t.dashes.show&&e.hooks.draw.push(function(e,a){var r=e.getPlotOffset(),i=t.xaxis,o=t.yaxis;function s(e,r){var s,l,c=n.points,u=n.pointsize,d=null,p=null,f=0,h=!0;t.dashes.dashLength[0]?(s=t.dashes.dashLength[0],l=t.dashes.dashLength[1]?t.dashes.dashLength[1]:s):l=s=t.dashes.dashLength,a.beginPath();for(var m=u;m<c.length;m+=u){var g=c[m-u],b=c[m-u+1],v=c[m],y=c[m+1];if(null!=g&&null!=v){if(b<=y&&b<o.min){if(y<o.min)continue;g=(o.min-b)/(y-b)*(v-g)+g,b=o.min}else if(y<=b&&y<o.min){if(b<o.min)continue;v=(o.min-b)/(y-b)*(v-g)+g,y=o.min}if(b>=y&&b>o.max){if(y>o.max)continue;g=(o.max-b)/(y-b)*(v-g)+g,b=o.max}else if(y>=b&&y>o.max){if(b>o.max)continue;v=(o.max-b)/(y-b)*(v-g)+g,y=o.max}if(g<=v&&g<i.min){if(v<i.min)continue;b=(i.min-g)/(v-g)*(y-b)+b,g=i.min}else if(v<=g&&v<i.min){if(g<i.min)continue;y=(i.min-g)/(v-g)*(y-b)+b,v=i.min}if(g>=v&&g>i.max){if(v>i.max)continue;b=(i.max-g)/(v-g)*(y-b)+b,g=i.max}else if(v>=g&&v>i.max){if(g>i.max)continue;y=(i.max-g)/(v-g)*(y-b)+b,v=i.max}g==d&&b==p||a.moveTo(i.p2c(g)+e,o.p2c(b)+r);var w,x=i.p2c(g)+e,O=o.p2c(b)+r,_=i.p2c(v)+e,k=o.p2c(y)+r;do{0==(w=j(f>0?f:h?s:l)).deltaX&&0==w.deltaY||(h?a.lineTo(x+w.deltaX,O+w.deltaY):a.moveTo(x+w.deltaX,O+w.deltaY)),h=!h,f=w.remainder,x+=w.deltaX,O+=w.deltaY}while(w.distance>0);d=v,p=y}function j(e){var t=Math.sqrt(Math.pow(_-x,2)+Math.pow(k-O,2));if(t<=e)return{deltaX:_-x,deltaY:k-O,distance:t,remainder:e-t};var n=k>O?1:-1;return{deltaX:(_>x?1:-1)*Math.sqrt(Math.pow(e,2)/(1+Math.pow((k-O)/(_-x),2))),deltaY:n*Math.sqrt(Math.pow(e,2)-Math.pow(e,2)/(1+Math.pow((k-O)/(_-x),2))),distance:e,remainder:0}}}a.stroke()}a.save(),a.translate(r.left,r.top),a.lineJoin="round";var l=t.dashes.lineWidth,c=t.shadowSize;if(l>0&&c>0){a.lineWidth=c,a.strokeStyle="rgba(0,0,0,0.1)";var u=Math.PI/18;s(Math.sin(u)*(l/2+c/2),Math.cos(u)*(l/2+c/2)),a.lineWidth=c/2,s(Math.sin(u)*(l/2+c/4),Math.cos(u)*(l/2+c/4))}a.lineWidth=l,a.strokeStyle=t.color,l>0&&s(0,0),a.restore()})})},options:{series:{dashes:{show:!1,lineWidth:2,dashLength:10}}},name:"dashes",version:"0.1"})}()},vMjj:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c});var a,r=n("mrSG"),i=n("i7Pf"),o=Object(i.c)({name:"appNotifications",initialState:{appNotifications:[]},reducers:{notifyApp:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{appNotifications:e.appNotifications.concat([t.payload])})},clearAppNotification:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{appNotifications:e.appNotifications.filter(function(e){return e.id!==t.payload})})}}}),s=(a=o.actions).notifyApp,l=a.clearAppNotification,c=o.reducer},vhkK:function(e,t){var n="public/app/plugins/datasource/opentsdb/partials/query.editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<query-editor-row query-ctrl=ctrl can-collapse=false>\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form max-width-25">\n\t\t\t<label class="gf-form-label query-keyword width-8">\n\t\t\t\tMetric\n\t\t\t\t<label class=gf-form-label bs-tooltip=ctrl.errors.metric style=color:#e5bd1c ng-show=ctrl.errors.metric>\n\t\t\t\t\t<i class="fa fa-warning"></i>\n\t\t\t\t</label>\n\t\t\t</label>\n\t\t\t<input type=text class=gf-form-input ng-model=ctrl.target.metric spellcheck=false bs-typeahead=ctrl.suggestMetrics placeholder="metric name" data-min-length=0 data-items=100 ng-blur=ctrl.targetBlur()>\n\t\t\t\n\t\t</div>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword">\n\t\t\t\tAggregator\n\t\t\t\t<a bs-tooltip=ctrl.errors.aggregator style=color:#e5bd1c ng-show=ctrl.errors.aggregator>\n\t\t\t\t\t<i class="fa fa-warning"></i>\n\t\t\t\t</a>\n\t\t\t</label>\n\t\t\t<div class="gf-form-select-wrapper max-width-15">\n\t\t\t\t<select ng-model=ctrl.target.aggregator class=gf-form-input ng-options="agg for agg in ctrl.aggregators" ng-change=ctrl.targetBlur()>\n\t\t \t </select>\n\t\t\t</div>\n\t\t</div>\n\t\t\t<div class="gf-form max-width-20">\n\t\t\t\t<label class="gf-form-label query-keyword width-6">\n\t\t\t\t\tAlias:\n\t\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\t\tUse patterns like $tag_tagname to replace part of the alias for a tag value\n\t\t\t\t\t</info-popover>\n\t\t\t\t</label>\n\t\t\t\t<input type=text class=gf-form-input ng-model=ctrl.target.alias spellcheck=false placeholder="series alias" data-min-length=0 data-items=100 ng-blur=ctrl.targetBlur()>\n\t\t\t</div>\n\n\t\t\t<div class="gf-form gf-form--grow">\n\t\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class="gf-form max-width-25">\n\t\t\t<label class="gf-form-label query-keyword width-8">Down sample</label>\n\t\t\t<input type=text class="gf-form-input gf-form-input--has-help-icon" ng-model=ctrl.target.downsampleInterval ng-model-onblur ng-change=ctrl.targetBlur() placeholder=interval>\n\t\t\t<info-popover mode=right-absolute>\n\t\t\t\tblank for auto, or for example <code>1m</code>\n\t\t\t</info-popover>\n\t\t</div>\n\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword">Aggregator</label>\n\t\t\t<div class=gf-form-select-wrapper>\n\t\t\t\t<select ng-model=ctrl.target.downsampleAggregator class=gf-form-input ng-options="agg for agg in ctrl.aggregators" ng-change=ctrl.targetBlur()>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=gf-form ng-if="ctrl.tsdbVersion >= 2">\n\t\t\t<label class="gf-form-label query-keyword width-6">Fill</label>\n\t\t\t<div class=gf-form-select-wrapper>\n\t\t\t\t<select ng-model=ctrl.target.downsampleFillPolicy class=gf-form-input ng-options="agg for agg in ctrl.fillPolicies" ng-change=ctrl.targetBlur()>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<gf-form-switch class=gf-form label="Disable downsampling" label-class=query-keyword checked=ctrl.target.disableDownsampling on-change=ctrl.targetBlur()>\n\t\t</gf-form-switch>\n\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline ng-if="ctrl.tsdbVersion >= 2">\n\t\t<div class=gf-form>\n\n\t\t\t<label class="gf-form-label query-keyword width-8">\n\t\t\t\tFilters\n\t\t\t\t<info-popover mode=right-normal>\n\t\t\t\t\tFilters does not work with tags, either of the two will work but not both.\n\t\t\t\t</info-popover>\n\t\t\t</label>\n\n\t\t\t<div ng-repeat="fil in ctrl.target.filters track by $index" class=gf-form-label>\n\t\t\t\t{{fil.tagk}}&nbsp;=&nbsp;{{fil.type}}&#40;{{fil.filter}}&#41;&nbsp;&#44&nbsp;groupBy&nbsp;=&nbsp;{{fil.groupBy}}\n\t\t\t\t<a ng-click="ctrl.editFilter(fil, $index)">\n\t\t\t\t\t<i class="fa fa-pencil"></i>\n\t\t\t\t</a>\n\t\t\t\t<a ng-click=ctrl.removeFilter($index)>\n\t\t\t\t\t<i class="fa fa-remove"></i>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<label class="gf-form-label query-keyword" ng-hide=ctrl.addFilterMode>\n\t\t\t\t<a ng-click=ctrl.addFilter()>\n\t\t\t\t\t<i class="fa fa-plus"></i>\n\t\t\t\t</a>\n\t\t\t</label>\n \t\t</div>\n\n\t\t<div class=gf-form-inline ng-show=ctrl.addFilterMode>\n\t\t\t<div class=gf-form>\n\t\t\t\t<input type=text class=gf-form-input spellcheck=false bs-typeahead=ctrl.suggestTagKeys data-min-length=0 data-items=100 ng-model=ctrl.target.currentFilterKey placeholder=key>\n\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class=gf-form>\n\t\t\t\t<label class="gf-form-label query-keyword">Type</label>\n\t\t\t\t<div class=gf-form-select-wrapper>\n\t\t\t\t\t<select ng-model=ctrl.target.currentFilterType class=gf-form-input ng-options="filType for filType in ctrl.filterTypes">\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=gf-form>\n\t\t\t\t<input type=text class=gf-form-input spellcheck=false bs-typeahead=ctrl.suggestTagValues data-min-length=0 data-items=100 ng-model=ctrl.target.currentFilterValue placeholder=filter>\n\t\t\t\t\n\t\t\t</div>\n\n      <gf-form-switch class=gf-form label="Group by" label-class=query-keyword checked=ctrl.target.currentFilterGroupBy on-change=ctrl.targetBlur()>\n\t\t\t</gf-form-switch>\n\n\t\t\t<div class=gf-form ng-show=ctrl.addFilterMode>\n\t\t\t\t<label class=gf-form-label ng-show=ctrl.errors.filters>\n\t\t\t\t\t<a bs-tooltip=ctrl.errors.filters style=color:#e5bd1c>\n\t\t\t\t\t\t<i class="fa fa-warning"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</label>\n\t\t\t\t<label class=gf-form-label>\n\t\t\t\t\t<a ng-click=ctrl.addFilter() ng-hide=ctrl.errors.filters>add filter</a>\n\t\t\t\t\t<a ng-click=ctrl.closeAddFilterMode()>\n\t\t\t\t\t\t<i class="fa fa-remove"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<div class=gf-form>\n\t\t\t<label class="gf-form-label query-keyword width-8">\n\t\t\t\tTags\n\t\t\t\t<info-popover mode=right-normal ng-if="ctrl.tsdbVersion >= 2">\n\t\t\t\t\tPlease use filters, tags are deprecated in opentsdb 2.2\n\t\t\t\t</info-popover>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class=gf-form ng-repeat="(key, value) in ctrl.target.tags track by $index" class=gf-form>\n\t\t\t<label class=gf-form-label>\n\t\t\t\t{{key}}&nbsp;=&nbsp;{{value}}\n\t\t\t\t<a ng-click="ctrl.editTag(key, value)">\n\t\t\t\t\t<i class="fa fa-pencil"></i>\n\t\t\t\t</a>\n\t\t\t\t<a ng-click=ctrl.removeTag(key)>\n\t\t\t\t\t<i class="fa fa-remove"></i>\n\t\t\t\t</a>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class=gf-form ng-hide=ctrl.addTagMode>\n\t\t\t<label class="gf-form-label query-keyword">\n\t\t\t\t<a ng-click=ctrl.addTag()><i class="fa fa-plus"></i></a>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class=gf-form ng-show=ctrl.addTagMode>\n\t\t\t<input type=text class=gf-form-input spellcheck=false bs-typeahead=ctrl.suggestTagKeys data-min-length=0 data-items=100 ng-model=ctrl.target.currentTagKey placeholder=key>\n\t\t\t\n\n\t\t\t<input type=text class=gf-form-input spellcheck=false bs-typeahead=ctrl.suggestTagValues data-min-length=0 data-items=100 ng-model=ctrl.target.currentTagValue placeholder=value>\n\t\t\t\n\n\t\t\t<label class=gf-form-label ng-show=ctrl.errors.tags>\n\t\t\t\t<a bs-tooltip=ctrl.errors.tags style=color:#e5bd1c>\n\t\t\t\t\t<i class="fa fa-warning"></i>\n\t\t\t\t</a>\n\t\t\t</label>\n\t\t\t<label class=gf-form-label>\n\t\t\t\t<a ng-click=ctrl.addTag() ng-hide=ctrl.errors.tags>add tag</a>\n\t\t\t\t<a ng-click=ctrl.closeAddTagMode()><i class="fa fa-remove"></i></a>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n\n\t<div class=gf-form-inline>\n\t\t<gf-form-switch class=gf-form label=Rate label-class="width-8 query-keyword" checked=ctrl.target.shouldComputeRate on-change=ctrl.targetBlur()>\n\t\t</gf-form-switch>\n\n\t\t<gf-form-switch ng-hide=!ctrl.target.shouldComputeRate class=gf-form label=Counter label-class=query-keyword checked=ctrl.target.isCounter on-change=ctrl.targetBlur()>\n\t\t</gf-form-switch>\n\n\n\t\t<div class=gf-form ng-hide="!ctrl.target.isCounter || !ctrl.target.shouldComputeRate">\n\t\t\t<label class="gf-form-label query-keyword">Counter Max</label>\n\t\t\t<input type=text class=gf-form-input ng-disabled=!ctrl.target.shouldComputeRate ng-model=ctrl.target.counterMax spellcheck=false placeholder="max value" ng-model-onblur ng-blur=ctrl.targetBlur()>\n\t\t\t\n\n\t\t\t<label class="gf-form-label query-keyword">Reset Value</label>\n\t\t\t<input type=text class="tight-form-input input-small" ng-disabled=!ctrl.target.shouldComputeRate ng-model=ctrl.target.counterResetValue spellcheck=false placeholder="reset value" ng-model-onblur ng-blur=ctrl.targetBlur()>\n\t\t\t\n\t\t</div>\n\n\t\t<div class=gf-form ng-if="ctrl.tsdbVersion > 2">\n\t\t\t<gf-form-switch class=gf-form label="Explicit tags" label-class="width-8 query-keyword" checked=ctrl.target.explicitTags on-change=ctrl.targetBlur()>\n\t\t\t</gf-form-switch>\n\t\t</div>\n\n\t\t<div class="gf-form gf-form--grow">\n\t\t\t<div class="gf-form-label gf-form-label--grow"></div>\n\t\t</div>\n\t</div>\n</query-editor-row>\n\n')}]),e.exports=n},vi1D:function(e,t,n){"use strict";n.r(t),n.d(t,"alertSuccess",function(){return r}),n.d(t,"alertWarning",function(){return i}),n.d(t,"alertError",function(){return o});var a=n("5m9O"),r=Object(a.a)("alert-success"),i=Object(a.a)("alert-warning"),o=Object(a.a)("alert-error")},vk65:function(e,t){var n="public/app/features/annotations/partials/event_editor.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=graph-annotation>\n\t<div class=graph-annotation__header>\n\t\t<div class=graph-annotation__user bs-tooltip="\'Created by {{ctrl.login}}\'">\n\t\t</div>\n\n\t\t<div class=graph-annotation__title>\n\t\t\t<span ng-if=!ctrl.event.id>Add Annotation</span>\n\t\t\t<span ng-if=ctrl.event.id>Edit Annotation</span>\n\t\t</div>\n\n    <div class=graph-annotation__time>{{ctrl.timeFormated}}</div>\n\t</div>\n\n\t<form name=ctrl.form class="graph-annotation__body text-center">\n\t\t<div style=display:inline-block>\n\t\t\t<div class="gf-form gf-form--v-stretch">\n\t\t\t\t<span class="gf-form-label width-7">Description</span>\n\t\t\t\t<textarea class="gf-form-input width-20" rows=2 ng-model=ctrl.event.text placeholder=Description></textarea>\n\t\t\t</div>\n\n\t\t\t<div class=gf-form>\n\t\t\t\t<span class="gf-form-label width-7">Tags</span>\n\t\t\t\t<bootstrap-tagsinput ng-model=ctrl.event.tags tagclass="label label-tag" placeholder="add tags">\n\t\t\t\t</bootstrap-tagsinput>\n\t\t\t</div>\n\n\t\t\t<div class=gf-form-button-row>\n\t\t\t\t<button type=submit class="btn btn-primary" ng-click=ctrl.save()>Save</button>\n\t\t\t\t<button ng-if=ctrl.event.id type=submit class="btn btn-danger" ng-click=ctrl.delete()>Delete</button>\n\t\t\t\t<a class=btn-text ng-click=ctrl.close();>Cancel</a>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</div>\n')}]),e.exports=n},vkM9:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a,r=n("mrSG"),i=n("q1tI"),o=n.n(i),s=n("J2iB"),l=n.n(s),c=n("TSYQ"),u=n.n(c),d=n("k82f"),p=n.n(d),f=n("PAeb"),h=function(e){function t(t){var n=e.call(this,t)||this;return n.renderTrack=function(e,t,n){return o.a.createElement("div",Object(r.__assign)({},n,{className:Object(f.cx)(Object(f.css)(a||(a=Object(r.__makeTemplateObject)(["\n            visibility: ",";\n          "],["\n            visibility: ",";\n          "])),t?"hidden":"visible"),e)}))},n.renderThumb=function(e,t){return o.a.createElement("div",Object(r.__assign)({},t,{className:e}))},n.renderTrackHorizontal=function(e){return n.renderTrack("track-horizontal",n.props.hideHorizontalTrack,e)},n.renderTrackVertical=function(e){return n.renderTrack("track-vertical",n.props.hideVerticalTrack,e)},n.renderThumbHorizontal=function(e){return n.renderThumb("thumb-horizontal",e)},n.renderThumbVertical=function(e){return n.renderThumb("thumb-vertical",e)},n.renderView=function(e){return o.a.createElement("div",Object(r.__assign)({},e,{className:"view"}))},n.ref=o.a.createRef(),n}return Object(r.__extends)(t,e),t.prototype.updateScroll=function(){var e=this.ref.current,t=this.props.scrollTop;e&&!l()(t)&&e.scrollTop(t)},t.prototype.componentDidMount=function(){var e=this;this.updateScroll(),this.props.updateAfterMountMs&&setTimeout(function(){return e.updateAfterMount()},this.props.updateAfterMountMs)},t.prototype.updateAfterMount=function(){if(this.ref&&this.ref.current){var e=this.ref.current;e.update&&e.update()}},t.prototype.componentDidUpdate=function(){this.updateScroll()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,a=e.autoHeightMax,r=e.autoHeightMin,i=e.setScrollTop,s=e.autoHide,l=e.autoHideTimeout,c=e.hideTracksWhenNotNeeded;return o.a.createElement(p.a,{ref:this.ref,className:u()("custom-scrollbar",t),onScroll:i,autoHeight:!0,autoHide:s,autoHideTimeout:l,hideTracksWhenNotNeeded:c,autoHeightMax:a,autoHeightMin:r,renderTrackHorizontal:this.renderTrackHorizontal,renderTrackVertical:this.renderTrackVertical,renderThumbHorizontal:this.renderThumbHorizontal,renderThumbVertical:this.renderThumbVertical,renderView:this.renderView},n)},t.defaultProps={autoHide:!1,autoHideTimeout:200,autoHideDuration:200,setScrollTop:function(){},hideTracksWhenNotNeeded:!1,autoHeightMin:"0",autoHeightMax:"100%"},t}(i.Component)},wEtz:function(e,t,n){"use strict";function a(e,t){var n=(t=t||{}).delimiter||".",a=t.maxDepth||3,r=1,i={};return function e(o,s){Object.keys(o).forEach(function(l){var c=o[l],u=t.safe&&Array.isArray(c),d="[object Object]"===Object.prototype.toString.call(c),p=s?s+n+l:l;if(t.maxDepth||(a=r+1),!u&&d&&Object.keys(c).length&&r<a)return++r,e(c,p);i[p]=c})}(e,null),i}n.r(t),n.d(t,"default",function(){return a})},wK5K:function(e,t){},wobk:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("+dgx"),s=n("LvDl"),l=n.n(s),c=n("kDLi"),u=n("NXk7"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isLoading:!1},n.search=n.search.bind(n),n.debouncedSearch=Object(s.debounce)(n.search,300,{leading:!0,trailing:!0}),n}return Object(a.__extends)(t,e),t.prototype.search=function(e){var t=this,n=Object(u.b)();return this.setState({isLoading:!0}),l.a.isNil(e)&&(e=""),n.get("/api/teams/search?perpage=100&page=1&query="+e).then(function(e){var n=e.teams.map(function(e){return{id:e.id,value:e.id,label:e.name,name:e.name,imgUrl:e.avatarUrl}});return t.setState({isLoading:!1}),n})},t.prototype.render=function(){var e=this.props,t=e.onSelected,n=e.className,a=this.state.isLoading;return i.a.createElement("div",{className:"user-picker"},i.a.createElement(c.AsyncSelect,{isLoading:a,defaultOptions:!0,loadOptions:this.debouncedSearch,onChange:t,className:n,placeholder:"Select a team",noOptionsMessage:function(){return"No teams found"}}))},t}(r.Component),p=n("9iwZ"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.onTypeChanged=function(e){var t=e.target.value;switch(t){case p.a.User:case p.a.Team:n.setState({type:t,userId:0,teamId:0,role:void 0});break;case p.a.Editor:n.setState({type:t,userId:0,teamId:0,role:p.b.Editor});break;case p.a.Viewer:n.setState({type:t,userId:0,teamId:0,role:p.b.Viewer})}},n.onUserSelected=function(e){n.setState({userId:e&&!Array.isArray(e)?e.id:0})},n.onTeamSelected=function(e){n.setState({teamId:e&&!Array.isArray(e)?e.id:0})},n.onPermissionChanged=function(e){n.setState({permission:e.value})},n.onSubmit=function(e){return Object(a.__awaiter)(n,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,this.props.onAddPermission(this.state)];case 1:return t.sent(),this.setState(this.getCleanState()),[2]}})})},n.state=n.getCleanState(),n}return Object(a.__extends)(t,e),t.prototype.getCleanState=function(){return{userId:0,teamId:0,type:p.a.Team,permission:p.c.View}},t.prototype.isValid=function(){switch(this.state.type){case p.a.Team:return this.state.teamId>0;case p.a.User:return this.state.userId>0}return!0},t.prototype.render=function(){var e=this.props.onCancel,t=this.state,n=this.isValid();return i.a.createElement("div",{className:"gf-form-inline cta-form"},i.a.createElement("button",{className:"cta-form__close btn btn-transparent",onClick:e},i.a.createElement("i",{className:"fa fa-close"})),i.a.createElement("form",{name:"addPermission",onSubmit:this.onSubmit},i.a.createElement("h5",null,"Add Permission For"),i.a.createElement("div",{className:"gf-form-inline"},i.a.createElement("div",{className:"gf-form"},i.a.createElement("div",{className:"gf-form-select-wrapper"},i.a.createElement("select",{className:"gf-form-input gf-size-auto",value:t.type,onChange:this.onTypeChanged},p.e.map(function(e,t){return i.a.createElement("option",{key:t,value:e.value},e.text)})))),t.type===p.a.User?i.a.createElement("div",{className:"gf-form"},i.a.createElement(o.a,{onSelected:this.onUserSelected,className:"min-width-20"})):null,t.type===p.a.Team?i.a.createElement("div",{className:"gf-form"},i.a.createElement(d,{onSelected:this.onTeamSelected,className:"min-width-20"})):null,i.a.createElement("div",{className:"gf-form"},i.a.createElement(c.Select,{isSearchable:!1,options:p.f,onChange:this.onPermissionChanged,className:"gf-form-select-box__control--menu-right"})),i.a.createElement("div",{className:"gf-form"},i.a.createElement("button",{"data-save-permission":!0,className:"btn btn-primary",type:"submit",disabled:!n},"Save")))))},t.defaultProps={showPermissionLevels:!0},t}(r.Component);t.a=f},wvI5:function(e,t){var n="public/app/features/alerting/partials/alert_howto.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class=modal-body>\n\t<div class=modal-header>\n\t\t<h2 class=modal-header-title>\n\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t<span class=p-l-1>Adding an Alert</span>\n\t\t</h2>\n\n\t\t<a class=modal-header-close ng-click=dismiss();>\n\t\t\t<i class="fa fa-remove"></i>\n\t\t</a>\n\t</div>\n\n\n\t<div class=modal-content>\n\t\t<div class=text-center>\n\t\t\t<img src=public/img/alert_howto_new.png>\n\t\t</div>\n\t\t<p class="p-a-2 text-center offset-lg-1 col-lg-10">\n\t\t\tAlerts are added and configured in the <strong>Alert Tab</strong> of any dashboard\n\t\t\tgraph panel, letting you build and visualize an alert using existing queries.\n\t\t\t<br> <br>\n\t\t\tTo persist your alert rule changes remember to save the dashboard.\n\t\t\t<br>\n\t\t\t<br>\n\t\t</p>\n\t</div>\n\n</div>\n\n')}]),e.exports=n},wxmp:function(e,t){var n="public/app/features/dashboard/components/VersionHistory/template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<h3 class=dashboard-settings__header>\n  <a ng-click="ctrl.switchMode(\'list\')">Versions</a>\n  <span ng-show="ctrl.mode === \'compare\'">\n    <i class="fa fa-fw fa-chevron-right"></i> Comparing {{ctrl.baseInfo.version}}\n    <i class="fa fa-arrows-h"></i>\n    {{ctrl.newInfo.version}}\n    <cite class=muted ng-if=ctrl.isNewLatest>(Latest)</cite>\n  </span>\n</h3>\n\n<div ng-if="ctrl.mode === \'list\'">\n  <div ng-if=ctrl.loading>\n    <i class="fa fa-spinner fa-spin"></i>\n    <em>Fetching history list&hellip;</em>\n  </div>\n\n  <div ng-if=!ctrl.loading>\n    <div class=gf-form-group>\n      <table class=filter-table>\n        <thead>\n          <tr>\n            <th class=width-4></th>\n            <th class=width-4>Version</th>\n            <th class=width-14>Date</th>\n            <th class=width-10>Updated By</th>\n            <th>Notes</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="revision in ctrl.revisions">\n            <td class=filter-table__switch-cell bs-tooltip="!revision.checked && ctrl.canCompare ? \'You can only compare 2 versions at a time\' : \'\'" data-placement=right>\n              <gf-form-checkbox switch-class=gf-form-switch--table-cell checked=revision.checked on-change=ctrl.revisionSelectionChanged() ng-disabled="!revision.checked && ctrl.canCompare">\n              </gf-form-checkbox>\n            </td>\n            <td class=text-center>{{revision.version}}</td>\n            <td>{{revision.createdDateString}}</td>\n            <td>{{revision.createdBy}}</td>\n            <td>{{revision.message}}</td>\n            <td class=text-right>\n              <a class="btn btn-inverse btn-small" ng-show="revision.version !== ctrl.dashboard.version" ng-click=ctrl.restore(revision.version)>\n                <i class="fa fa-history"></i>&nbsp;&nbsp;Restore\n              </a>\n              <a class="btn btn-outline-disabled btn-small" ng-show="revision.version === ctrl.dashboard.version">\n                <i class="fa fa-check"></i>&nbsp;&nbsp;Latest\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div ng-if=ctrl.appending>\n        <i class="fa fa-spinner fa-spin"></i>\n        <em>Fetching more entries&hellip;</em>\n      </div>\n\n      <div class=gf-form-group>\n        <div class=gf-form-button-row>\n          <button type=button class="btn gf-form-button btn-inverse" ng-if="ctrl.revisions.length >= ctrl.limit" ng-click=ctrl.addToLog() ng-disabled=ctrl.isLastPage()>\n            Show more versions\n          </button>\n          <button type=button class="btn btn-primary" ng-if="ctrl.revisions.length > 1" ng-disabled=!ctrl.canCompare ng-click=ctrl.getDiff(ctrl.diff) bs-tooltip="ctrl.canCompare ? \'\' : \'Select 2 versions to start comparing\'" data-placement=bottom>\n            <i class="fa fa-code-fork"></i>&nbsp;&nbsp;Compare versions\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="ctrl.mode === \'compare\'">\n  <div ng-if=ctrl.loading>\n    <i class="fa fa-spinner fa-spin"></i>\n    <em>Fetching changes&hellip;</em>\n  </div>\n\n  <div ng-if=!ctrl.loading>\n    <button type=button class="btn btn-danger pull-right" ng-click=ctrl.restore(ctrl.baseInfo.version) ng-if=ctrl.isNewLatest>\n      <i class="fa fa-history"></i>&nbsp;&nbsp;Restore to version {{ctrl.baseInfo.version}}\n    </button>\n    <section>\n      <p class="small muted">\n      <strong>Version {{ctrl.newInfo.version}}</strong> updated by\n      <span>{{ctrl.newInfo.createdBy}} </span>\n      <span>{{ctrl.newInfo.ageString}}</span>\n      <span> - {{ctrl.newInfo.message}}</span>\n      </p>\n      <p class="small muted">\n      <strong>Version {{ctrl.baseInfo.version}}</strong> updated by\n      <span>{{ctrl.baseInfo.createdBy}} </span>\n      <span>{{ctrl.baseInfo.ageString}}</span>\n      <span> - {{ctrl.baseInfo.message}}</span>\n      </p>\n    </section>\n\n    <div id=delta diff-delta>\n      <div class=delta-basic compile=ctrl.delta.basic></div>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button class="btn btn-secondary" ng-click="ctrl.getDiff(\'json\')">View JSON Diff</button>\n    </div>\n\n    <div class=delta-html ng-show="ctrl.diff === \'json\'" compile=ctrl.delta.json></div>\n  </div>\n</div>\n')}]),e.exports=n},"xAj+":function(e,t,n){"use strict";n.r(t),n.d(t,"showDashSearch",function(){return r}),n.d(t,"hideDashSearch",function(){return i}),n.d(t,"hideDashEditor",function(){return o}),n.d(t,"dashScroll",function(){return s}),n.d(t,"dashLinksUpdated",function(){return l}),n.d(t,"saveDashboard",function(){return c}),n.d(t,"dashboardFetchStart",function(){return u}),n.d(t,"dashboardSaved",function(){return d}),n.d(t,"removePanel",function(){return p}),n.d(t,"searchQuery",function(){return f}),n.d(t,"locationChange",function(){return h}),n.d(t,"timepickerOpen",function(){return m}),n.d(t,"timepickerClosed",function(){return g}),n.d(t,"showModal",function(){return b}),n.d(t,"showConfirmModal",function(){return v}),n.d(t,"hideModal",function(){return y}),n.d(t,"dsRequestResponse",function(){return w}),n.d(t,"dsRequestError",function(){return x}),n.d(t,"graphHover",function(){return O}),n.d(t,"graphHoverClear",function(){return _}),n.d(t,"toggleSidemenuMobile",function(){return k}),n.d(t,"toggleSidemenuHidden",function(){return j}),n.d(t,"playlistStarted",function(){return C}),n.d(t,"playlistStopped",function(){return S}),n.d(t,"toggleKioskMode",function(){return E}),n.d(t,"toggleViewMode",function(){return T}),n.d(t,"timeRangeUpdated",function(){return M}),n.d(t,"repeatsProcessed",function(){return A}),n.d(t,"rowExpanded",function(){return N}),n.d(t,"rowCollapsed",function(){return D}),n.d(t,"templateVariableValueUpdated",function(){return I}),n.d(t,"submenuVisibilityChanged",function(){return P}),n.d(t,"dataFramesReceived",function(){return F}),n.d(t,"graphClicked",function(){return L}),n.d(t,"thresholdChanged",function(){return R}),n.d(t,"zoomOut",function(){return V}),n.d(t,"shiftTime",function(){return $}),n.d(t,"elasticQueryUpdated",function(){return B}),n.d(t,"layoutModeChanged",function(){return U}),n.d(t,"jsonDiffReady",function(){return q}),n.d(t,"closeTimepicker",function(){return z}),n.d(t,"routeUpdated",function(){return H});var a=n("Obii"),r=Object(a.eventFactory)("show-dash-search"),i=Object(a.eventFactory)("hide-dash-search"),o=Object(a.eventFactory)("hide-dash-editor"),s=Object(a.eventFactory)("dash-scroll"),l=Object(a.eventFactory)("dash-links-updated"),c=Object(a.eventFactory)("save-dashboard"),u=Object(a.eventFactory)("dashboard-fetch-start"),d=Object(a.eventFactory)("dashboard-saved"),p=Object(a.eventFactory)("remove-panel"),f=Object(a.eventFactory)("search-query"),h=Object(a.eventFactory)("location-change"),m=Object(a.eventFactory)("timepickerOpen"),g=Object(a.eventFactory)("timepickerClosed"),b=Object(a.eventFactory)("show-modal"),v=Object(a.eventFactory)("confirm-modal"),y=Object(a.eventFactory)("hide-modal"),w=Object(a.eventFactory)("ds-request-response"),x=Object(a.eventFactory)("ds-request-error"),O=Object(a.eventFactory)("graph-hover"),_=Object(a.eventFactory)("graph-hover-clear"),k=Object(a.eventFactory)("toggle-sidemenu-mobile"),j=Object(a.eventFactory)("toggle-sidemenu-hidden"),C=Object(a.eventFactory)("playlist-started"),S=Object(a.eventFactory)("playlist-stopped"),E=Object(a.eventFactory)("toggle-kiosk-mode"),T=Object(a.eventFactory)("toggle-view-mode"),M=Object(a.eventFactory)("time-range-updated"),A=Object(a.eventFactory)("repeats-processed"),N=Object(a.eventFactory)("row-expanded"),D=Object(a.eventFactory)("row-collapsed"),I=Object(a.eventFactory)("template-variable-value-updated"),P=Object(a.eventFactory)("submenu-visibility-changed"),F=Object(a.eventFactory)("data-frames-received"),L=Object(a.eventFactory)("graph-click"),R=Object(a.eventFactory)("threshold-changed"),V=Object(a.eventFactory)("zoom-out"),$=Object(a.eventFactory)("shift-time"),B=Object(a.eventFactory)("elastic-query-updated"),U=Object(a.eventFactory)("layout-mode-changed"),q=Object(a.eventFactory)("json-diff-ready"),z=Object(a.eventFactory)("closeTimepicker"),H=Object(a.eventFactory)("$routeUpdate")},xKbd:function(e,t){!function(e){jQuery.plot.plugins.push({init:function(e){var t={},n=!1,a={};function r(e){var t=e.length,n={};if(t>0)for(var a=0;a<t;a++)if(e[a].stackpercent){var r=0,i=1;e[a].bars&&e[a].bars.horizontal&&!0===e[a].bars.horizontal&&(r=1,i=0);for(var o=e[a].data.length,s=0;s<o;s++){var l=0;null!=e[a].data[s][1]&&(l=e[a].data[s][i]),n[e[a].data[s][r]+""]?n[e[a].data[s][r]+""]+=l:n[e[a].data[s][r]+""]=l}}return n}e.hooks.processRawData.push(function(e,t,i,o){if(n||(n=!0,a=r(e.getData())),1==t.stackpercent){var s=i.length;t.percents=[];var l=0,c=1;t.bars&&t.bars.horizontal&&!0===t.bars.horizontal&&(l=1,c=0);for(var u=0;u<s;u++){var d=a[i[u][l]+""];d>0?t.percents.push(100*i[u][c]/d):t.percents.push(0)}}}),e.hooks.processDatapoints.push(function(e,i,o){if(i.stackpercent){n||(a=r(e.getData()));var s=[],l=0,c=1;i.bars&&i.bars.horizontal&&!0===i.bars.horizontal&&(l=1,c=0);for(var u=0;u<o.points.length;u+=3)t[o.points[u+l]]||(t[o.points[u+l]]=0),s[u+l]=o.points[u+l],s[u+c]=o.points[u+c]+t[o.points[u+l]],s[u+2]=t[o.points[u+l]],t[o.points[u+l]]+=o.points[u+c],a[s[u+l]+""]>0?(s[u+c]=100*s[u+c]/a[s[u+l]+""],s[u+2]=100*s[u+2]/a[s[u+l]+""]):(s[u+c]=0,s[u+2]=0);o.points=s}})},options:{series:{stackpercent:null}},name:"stackpercent",version:"0.1"})}()},"xL/7":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h});var a,r,i,o=n("mrSG"),s=n("i7Pf");!function(e){e.Queries="queries",e.Visualization="visualization",e.Advanced="advanced",e.Alert="alert"}(i||(i={}));var l=((a={})[i.Queries]="Queries",a[i.Visualization]="Visualization",a[i.Advanced]="General",a[i.Alert]="Alert",a),c=function(e){return{id:e,text:l[e]}},u={activeTab:null,tabs:[]},d=Object(s.c)({name:"panelEditor",initialState:u,reducers:{panelEditorInitCompleted:function(e,t){var n=t.payload,a=n.activeTab,r=n.tabs;return Object(o.__assign)(Object(o.__assign)({},e),{activeTab:a,tabs:r})},panelEditorCleanUp:function(e,t){return u}}}),p=(r=d.actions).panelEditorCleanUp,f=r.panelEditorInitCompleted,h=d.reducer},xQSJ:function(e,t){var n="public/app/core/components/search/search.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'\n<div class=search-backdrop ng-if=ctrl.isOpen></div>\n\n<div class=search-container ng-if=ctrl.isOpen>\n\n  <search-field query=ctrl.query autofocus=ctrl.giveSearchFocus on-change=ctrl.onQueryChange on-key-down=ctrl.onKeyDown />\n\n\n\t<div class=search-dropdown>\n    <div class=search-dropdown__col_1>\n      <div class=search-results-scroller>\n        <div class=search-results-container grafana-scrollbar>\n          <h6 ng-show="!ctrl.isLoading && ctrl.results.length === 0">No dashboards matching your query were found.</h6>\n          <dashboard-search-results results=ctrl.results on-tag-selected=ctrl.filterByTag($tag) on-folder-expanding=ctrl.folderExpanding() on-folder-expanded=ctrl.folderExpanded($folder) />\n        </div>\n      </div>\n    </div>\n\n    <div class=search-dropdown__col_2>\n      <div class=search-filter-box ng-click=ctrl.onFilterboxClick()>\n        <div class=search-filter-box__header>\n          <i class="fa fa-filter"></i>\n          Filter by:\n          <a class="pointer pull-right small" ng-click=ctrl.clearSearchFilter()>\n            <i class="fa fa-remove"></i> Clear\n          </a>\n        </div>\n\n        <tag-filter tags=ctrl.query.tags tagoptions=ctrl.getTags on-change=ctrl.onTagFiltersChanged>\n        </tag-filter>\n      </div>\n\n      <div class=search-filter-box ng-if="ctrl.isEditor || ctrl.hasEditPermissionInFolders">\n        <a href=dashboard/new class=search-filter-box-link>\n          <i class="gicon gicon-dashboard-new"></i> New dashboard\n        </a>\n        <a href=dashboards/folder/new class=search-filter-box-link ng-if=ctrl.isEditor>\n          <i class="gicon gicon-folder-new"></i> New folder\n        </a>\n        <a href=dashboard/import class=search-filter-box-link ng-if="ctrl.isEditor || ctrl.hasEditPermissionInFolders">\n          <i class="gicon gicon-dashboard-import"></i> Import dashboard\n        </a>\n        <a class=search-filter-box-link target=_blank href="https://grafana.com/dashboards?utm_source=grafana_search">\n          <img src=public/img/icn-dashboard-tiny.svg width=20 /> Find dashboards on Grafana.com\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n\n')}]),e.exports=n},xdKY:function(e,t,n){"use strict";k.$inject=["$sanitize","dashboardSrv","contextSrv","$compile"];var a=n("mrSG"),r=n("KHwQ"),i=n.n(r),o=n("LvDl"),s=n.n(o),l=n("+2Rf"),c=n.n(l),u=n("txxJ"),d=n("Xmxp"),p=n("Obii"),f=function(){function e(e,t){var n=this;this.$scope=e,this.datasourceSrv=t,this.annotationDefaults={name:"",datasource:null,iconColor:"rgba(255, 96, 96, 1)",enable:!0,showIn:0,hide:!1},this.emptyListCta={title:"There are no custom annotation queries added yet",buttonIcon:"gicon gicon-annotation",buttonTitle:"Add Annotation Query",infoBox:{__html:"<p>Annotations provide a way to integrate event data into your graphs. They are visualized as vertical lines\n    and icons on all graph panels. When you hover over an annotation icon you can get event text &amp; tags for\n    the event. You can add annotation events directly from grafana by holding CTRL or CMD + click on graph (or\n    drag region). These will be stored in Grafana's annotation database.\n  </p>\n  Checkout the\n  <a class='external-link' target='_blank' href='http://docs.grafana.org/reference/annotations/'\n    >Annotations documentation</a\n  >\n  for more information."},infoBoxTitle:"What are annotations?"},this.showOptions=[{text:"All Panels",value:0},{text:"Specific Panels",value:1}],this.setupNew=function(){n.mode="new",n.reset()},e.ctrl=this,this.dashboard=e.dashboard,this.mode="list",this.datasources=t.getAnnotationSources(),this.annotations=this.dashboard.annotations.list,this.reset(),this.onColorChange=this.onColorChange.bind(this)}return e.$inject=["$scope","datasourceSrv"],e.prototype.datasourceChanged=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t=this;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,this.datasourceSrv.get(this.currentAnnotation.datasource)];case 1:return e=n.sent(),this.$scope.$apply(function(){t.currentDatasource=e}),[2]}})})},e.prototype.edit=function(e){this.currentAnnotation=e,this.currentAnnotation.showIn=this.currentAnnotation.showIn||0,this.currentIsNew=!1,this.datasourceChanged(),this.mode="edit",c()(".tooltip.in").remove()},e.prototype.reset=function(){this.currentAnnotation=i.a.copy(this.annotationDefaults),this.currentAnnotation.datasource=this.datasources[0].name,this.currentIsNew=!0,this.datasourceChanged()},e.prototype.update=function(){this.reset(),this.mode="list"},e.prototype.backToList=function(){this.mode="list"},e.prototype.move=function(e,t){s.a.move(this.annotations,e,e+t)},e.prototype.add=function(){s.a.find(this.annotations,{name:this.currentAnnotation.name})?d.b.emit(p.AppEvents.alertWarning,["Validation","Annotations with the same name already exists"]):(this.annotations.push(this.currentAnnotation),this.reset(),this.mode="list",this.dashboard.updateSubmenuVisibility())},e.prototype.removeAnnotation=function(e){var t=s.a.indexOf(this.annotations,e);this.annotations.splice(t,1),this.dashboard.updateSubmenuVisibility()},e.prototype.onColorChange=function(e){this.currentAnnotation.iconColor=e},e}();function h(e){return"panel-alert"===e.eventType}u.c.controller("AnnotationsEditorCtrl",f);var m=function(){function e(e,t,n,a){this.$rootScope=e,this.datasourceSrv=t,this.backendSrv=n,this.timeSrv=a}return e.$inject=["$rootScope","datasourceSrv","backendSrv","timeSrv"],e.prototype.init=function(e){this.clearPromiseCaches(),e.on(p.PanelEvents.refresh,this.clearPromiseCaches.bind(this))},e.prototype.clearPromiseCaches=function(){this.globalAnnotationsPromise=null,this.alertStatesPromise=null,this.datasourcePromises=null},e.prototype.getAnnotations=function(e){var t=this;return Promise.all([this.getGlobalAnnotations(e),this.getAlertStates(e)]).then(function(t){var n=s.a.flattenDeep(t[0]);return{annotations:n=function(e){var t=[],n=s.a.partition(e,"id"),a=s.a.groupBy(n[0],"id");return t=s.a.map(a,function(e){return e.length>1&&!s.a.every(e,h)?s.a.find(e,function(e){return"panel-alert"!==e.eventType}):s.a.head(e)}),t=s.a.concat(t,n[1])}(n=s.a.filter(n,function(t){return!t.panelId||"dashboard"!==t.source.type||t.panelId===e.panel.id})),alertState:s.a.find(t[1],{panelId:e.panel.id})}}).catch(function(e){return!e.message&&e.data&&e.data.message&&(e.message=e.data.message),console.log("AnnotationSrv.query error",e),t.$rootScope.appEvent(p.AppEvents.alertError,["Annotation Query Failed",e.message||e]),[]})},e.prototype.getAlertStates=function(e){return e.dashboard.id?e.panel&&!e.panel.alert?Promise.resolve([]):"now"!==e.range.raw.to?Promise.resolve([]):this.alertStatesPromise?this.alertStatesPromise:(this.alertStatesPromise=this.backendSrv.get("/api/alerts/states-for-dashboard",{dashboardId:e.dashboard.id}),this.alertStatesPromise):Promise.resolve([])},e.prototype.getGlobalAnnotations=function(e){var t,n,r=this,o=e.dashboard;if(this.globalAnnotationsPromise)return this.globalAnnotationsPromise;var s=this.timeSrv.timeRange(),l=[],c=[],u=function(e){if(!e.enable)return"continue";if(e.snapshotData)return{value:d.translateQueryResult(e,e.snapshotData)};var t=d.datasourceSrv.get(e.datasource);c.push(t),l.push(t.then(function(t){return t.annotationQuery({range:s,rangeRaw:s.raw,annotation:e,dashboard:o})}).then(function(t){return o.snapshot&&(e.snapshotData=i.a.copy(t)),r.translateQueryResult(e,t)}))},d=this;try{for(var p=Object(a.__values)(o.annotations.list),f=p.next();!f.done;f=p.next()){var h=u(f.value);if("object"==typeof h)return h.value}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return this.datasourcePromises=Promise.all(c),this.globalAnnotationsPromise=Promise.all(l),this.globalAnnotationsPromise},e.prototype.saveAnnotationEvent=function(e){return this.globalAnnotationsPromise=null,this.backendSrv.post("/api/annotations",e)},e.prototype.updateAnnotationEvent=function(e){return this.globalAnnotationsPromise=null,this.backendSrv.put("/api/annotations/"+e.id,e)},e.prototype.deleteAnnotationEvent=function(e){this.globalAnnotationsPromise=null;var t="/api/annotations/"+e.id;return this.backendSrv.delete(t)},e.prototype.translateQueryResult=function(e,t){var n,r;e.snapshotData&&delete(e=i.a.copy(e)).snapshotData;try{for(var o=Object(a.__values)(t),s=o.next();!s.done;s=o.next()){var l=s.value;l.source=e,l.isRegion=l.timeEnd&&l.time!==l.timeEnd}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},e}();u.c.service("annotationsSrv",m);var g=n("HJRA"),b=function(){function e(e){this.annotationsSrv=e,this.event.panelId=this.panelCtrl.panel.id,this.event.dashboardId=this.panelCtrl.dashboard.id,this.event.time=v(this.event.time),this.event.isRegion&&(this.event.timeEnd=v(this.event.timeEnd)),this.timeFormated=this.panelCtrl.dashboard.formatDate(this.event.time)}return e.$inject=["annotationsSrv"],e.prototype.save=function(){var e=this;if(this.form.$valid){var t=s.a.cloneDeep(this.event);t.time=t.time.valueOf(),t.timeEnd=0,t.isRegion&&(t.timeEnd=this.event.timeEnd.valueOf(),t.timeEnd<t.time)?console.log("invalid time"):t.id?this.annotationsSrv.updateAnnotationEvent(t).then(function(){e.panelCtrl.refresh(),e.close()}).catch(function(){e.panelCtrl.refresh(),e.close()}):this.annotationsSrv.saveAnnotationEvent(t).then(function(){e.panelCtrl.refresh(),e.close()}).catch(function(){e.panelCtrl.refresh(),e.close()})}},e.prototype.delete=function(){var e=this;return this.annotationsSrv.deleteAnnotationEvent(this.event).then(function(){e.panelCtrl.refresh(),e.close()}).catch(function(){e.panelCtrl.refresh(),e.close()})},e}();function v(e){if(e&&s.a.isNumber(e)){var t=Number(e);return Object(p.dateTime)(t)}return e}g.c.directive("eventEditor",function(){return{restrict:"E",controller:b,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/features/annotations/partials/event_editor.html",scope:{panelCtrl:"=",event:"=",close:"&"}}});var y=n("Zss7"),w=n.n(y),x=n("kDLi"),O=function(){function e(e){this.panelCtrl=e}return e.prototype.editorClosed=function(){this.event=null,this.editorOpen=!1,this.panelCtrl.render()},e.prototype.editorOpened=function(){this.editorOpen=!0},e.prototype.updateTime=function(e){this.event||(this.event={},this.event.dashboardId=this.panelCtrl.dashboard.id,this.event.panelId=this.panelCtrl.panel.id),this.event.time=e.from,this.event.isRegion=!1,e.to&&(this.event.timeEnd=e.to,this.event.isRegion=!0),this.panelCtrl.render()},e.prototype.editEvent=function(e,t){this.event=e,this.panelCtrl.render()},e.prototype.addFlotEvents=function(e,t){if(this.event||0!==e.length){var n,a={$__alerting:{color:x.ALERTING_COLOR,position:"BOTTOM",markerSize:5},$__ok:{color:x.OK_COLOR,position:"BOTTOM",markerSize:5},$__no_data:{color:x.NO_DATA_COLOR,position:"BOTTOM",markerSize:5},$__pending:{color:x.PENDING_COLOR,position:"BOTTOM",markerSize:5},$__editing:{color:x.DEFAULT_ANNOTATION_COLOR,position:"BOTTOM",markerSize:5}};if(this.event)e=this.event.isRegion?[{isRegion:!0,min:this.event.time,timeEnd:this.event.timeEnd,text:this.event.text,eventType:"$__editing",editModel:this.event}]:[{min:this.event.time,text:this.event.text,editModel:this.event,eventType:"$__editing"}];else for(var r=0;r<e.length;r++){var i=e[r];i.min=i.time,i.max=i.time,i.eventType=i.source.name,i.newState?i.eventType="$__"+i.newState:a[i.source.name]||(a[i.source.name]={color:i.source.iconColor,position:"BOTTOM",markerSize:5})}!function(e,t){var n,a=t.grid.markings,r=x.DEFAULT_ANNOTATION_COLOR;s.a.each(e,function(e){var t,i,o;n=e.source&&e.source.iconColor||r,t=n,i=x.REGION_FILL_ALPHA,o=w()(t),n=o.isValid()?(o.setAlpha(i),o.toRgbString()):t,a.push({xaxis:{from:e.min,to:e.timeEnd},color:n})})}((n=e,s.a.filter(n,"isRegion")),t);t.grid.eventSectionHeight=7,t.xaxis.eventSectionHeight=20,t.events={levels:s.a.keys(a).length+1,data:e,types:a,manager:this}}},e}();var _=n("3ulR");function k(e,t,n,a){function r(t){try{return e(t)}catch(e){return console.log("Could not sanitize annotation string, html escaping instead"),s.a.escape(t)}}return{restrict:"E",scope:{event:"=",onEdit:"&"},link:function(e,n){var i=e.event,o=i.title,l=i.text,u=t.getCurrent(),d='<div class="graph-annotation">',p="";if(i.alertId){var f=_.a.getStateDisplayModel(i.newState);p=f.stateClass,o='<i class="'+f.iconClass+'"></i> '+f.text,l=_.a.getAlertAnnotationInfo(i),i.text&&(l=l+"<br />"+i.text)}else o&&(l=o+"<br />"+(s.a.isString(l)?l:""),o="");var h='<div class="graph-annotation__header">';i.login&&(h+='<div class="graph-annotation__user" bs-tooltip="\'Created by '+i.login+'\'"><img src="'+i.avatarUrl+'" /></div>'),h+='\n          <span class="graph-annotation__title '+p+'">'+r(o)+'</span>\n          <span class="graph-annotation__time">'+u.formatDate(i.min)+"</span>\n      ",i.id&&u.meta.canEdit&&(h+='\n          <span class="pointer graph-annotation__edit-icon" ng-click="onEdit()">\n            <i class="fa fa-pencil-square"></i>\n          </span>\n        '),d+=h+="</div>",d+='<div class="graph-annotation__body">',l&&(d+="<div>"+r(l.replace(/\n/g,"<br>"))+"</div>");var m=i.tags;m&&m.length&&(e.tags=m,d+='<span class="label label-tag small" ng-repeat="tag in tags" tag-color-from-name="tag">{{tag}}</span><br/>'),d+="</div>",d+="</div>",c()(d).appendTo(n),a(n.contents())(e)}}}u.c.directive("annotationTooltip",k),n.d(t,"a",function(){return O})},"y0W+":function(e,t){var n="public/app/features/org/partials/invite.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header model=ctrl.navModel></page-header>\n\n<div class="page-container page-body" ng-cloak>\n\n\t<h3 class=page-sub-heading>Invite User</h3>\n\n\t<div class=p-b-2>\n\t\tSend invite or add existing Grafana user to the organization\n\t\t<span class=highlight-word>{{contextSrv.user.orgName}}</span>\n\t</div>\n\n\t<form name=ctrl.inviteForm>\n\t\t<div class=gf-form-group>\n\t\t\t<div class="gf-form max-width-30">\n\t\t\t\t<span class="gf-form-label width-10">Email or Username</span>\n\t\t\t\t<input type=text ng-model=ctrl.invite.loginOrEmail required class=gf-form-input placeholder=email@test.com>\n\t\t\t</div>\n\t\t\t<div class="gf-form max-width-30">\n\t\t\t\t<span class="gf-form-label width-10">Name</span>\n\t\t\t\t<input type=text ng-model=ctrl.invite.name class=gf-form-input placeholder="name (optional)">\n\t\t\t</div>\n\t\t\t<div class="gf-form max-width-30">\n        <span class="gf-form-label width-10">Role</span>\n\t\t\t\t<select ng-model=ctrl.invite.role class=gf-form-input ng-options="f for f in [\'Viewer\', \'Editor\', \'Admin\']">\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<gf-form-switch class=gf-form label="Send invite email" checked=ctrl.invite.sendEmail label-class=width-10></gf-form-switch>\n\n\t\t\t<div class=gf-form-button-row>\n\t\t\t\t<button type=submit class="btn btn-primary" ng-click=ctrl.sendInvite();>Invite</button>\n\t\t\t\t<a class="btn btn-inverse" href=org/users>Back</a>\n\t\t\t</div>\n\t</div></form>\n</div>\n')}]),e.exports=n},y6L2:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p});var a,r=n("mrSG"),i=n("i7Pf"),o={plugins:[],searchQuery:"",layoutMode:n("Wu7z").a.Grid,hasFetched:!1,dashboards:[],isLoadingPluginDashboards:!1},s=Object(i.c)({name:"plugins",initialState:o,reducers:{pluginsLoaded:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{hasFetched:!0,plugins:t.payload})},setPluginsSearchQuery:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{searchQuery:t.payload})},setPluginsLayoutMode:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{layoutMode:t.payload})},pluginDashboardsLoad:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{dashboards:[],isLoadingPluginDashboards:!0})},pluginDashboardsLoaded:function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{dashboards:t.payload,isLoadingPluginDashboards:!1})}}}),l=(a=s.actions).pluginsLoaded,c=a.pluginDashboardsLoad,u=a.pluginDashboardsLoaded,d=a.setPluginsLayoutMode,p=a.setPluginsSearchQuery,f=s.reducer;t.a={plugins:f}},yFUm:function(e,t){var n="public/app/features/folders/partials/folder_dashboards.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<page-header ng-if=ctrl.navModel model=ctrl.navModel></page-header>\n\n<div class="page-container page-body">\n  <manage-dashboards ng-if="ctrl.folderId && ctrl.uid" folder-id=ctrl.folderId folder-uid=ctrl.uid />\n</div>\n\n<footer/>\n')}]),e.exports=n},yqtr:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var a=n("1VFa");n.d(t,"d",function(){return a.a});var r,i=n("Ke2B");n.d(t,"h",function(){return i.a}),function(e){e.List="list",e.Table="table"}(r||(r={}))},zD9p:function(e,t,n){"use strict";(function(e){var a=n("mrSG"),r=n("q1tI"),i=n.n(r),o=n("0cfB"),s=n("/MKj"),l=n("kDLi"),c=n("lzJ5"),u=n("ZFWI"),d=n("ZGyg"),p=n("Abyo"),f=n("hqzN"),h=n("0pSv"),m=n("GQ3c"),g=n("sAJe"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoading:!0},t.search=function(e){e.preventDefault();var n=e.target.elements.username.value;n&&t.fetchUserMapping(n)},t.onClearUserError=function(){t.props.clearUserError()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n,r;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return e=this.props,t=e.username,n=e.clearUserMappingInfo,r=e.loadUserMapping,[4,n()];case 1:return a.sent(),[4,this.fetchLDAPStatus()];case 2:return a.sent(),t?[4,r(t)]:[3,4];case 3:a.sent(),a.label=4;case 4:return this.setState({isLoading:!1}),[2]}})})},t.prototype.fetchLDAPStatus=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,n;return Object(a.__generator)(this,function(a){return e=this.props,t=e.loadLdapState,n=e.loadLdapSyncStatus,[2,Promise.all([t(),n()])]})})},t.prototype.fetchUserMapping=function(e){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,this.props.loadUserMapping)(e)];case 1:return[2,t.sent()]}})})},t.prototype.render=function(){var e=this.props,t=e.ldapUser,n=e.userError,a=e.ldapError,r=e.ldapSyncInfo,o=e.ldapConnectionInfo,s=e.navModel,c=e.username,g=this.state.isLoading;return i.a.createElement(d.a,{navModel:s},i.a.createElement(d.a.Contents,{isLoading:g},i.a.createElement(i.a.Fragment,null,a&&a.title&&i.a.createElement("div",{className:"gf-form-group"},i.a.createElement(l.Alert,{title:a.title,severity:m.AppNotificationSeverity.Error,children:a.body})),i.a.createElement(p.a,{ldapConnectionInfo:o}),u.b.licenseInfo.hasLicense&&r&&i.a.createElement(f.a,{ldapSyncInfo:r}),i.a.createElement("h3",{className:"page-heading"},"Test user mapping"),i.a.createElement("div",{className:"gf-form-group"},i.a.createElement("form",{onSubmit:this.search,className:"gf-form-inline"},i.a.createElement(l.FormField,{label:"Username",labelWidth:8,inputWidth:30,type:"text",id:"username",name:"username",defaultValue:c}),i.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Run"))),n&&n.title&&i.a.createElement("div",{className:"gf-form-group"},i.a.createElement(l.Alert,{title:n.title,severity:m.AppNotificationSeverity.Error,children:n.body,onRemove:this.onClearUserError})),t&&i.a.createElement(h.a,{ldapUser:t,showAttributeMapping:!0}))))},t}(r.PureComponent),v={loadLdapState:g.i,loadLdapSyncStatus:g.j,loadUserMapping:g.k,clearUserError:g.b,clearUserMappingInfo:g.c};t.a=Object(o.hot)(e)(Object(s.connect)(function(e){return{navModel:Object(c.a)(e.navIndex,"ldap"),username:e.location.routeParams.user,ldapConnectionInfo:e.ldap.connectionInfo,ldapUser:e.ldap.user,ldapSyncInfo:e.ldap.syncInfo,userError:e.ldap.userError,ldapError:e.ldap.ldapError}},v)(b))}).call(this,n("3UD+")(e))},zJCM:function(e,t){var n="public/app/plugins/panel/graph/thresholds_form.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,"<div class=gf-form-group>\n  <p class=muted ng-show=ctrl.disabled>\n    Visual thresholds options <strong>disabled.</strong>\n    Visit the Alert tab to update your thresholds.<br>\n    To re-enable thresholds, the alert rule must be deleted from this panel.\n  </p>\n  <div ng-class=\"{'thresholds-form-disabled': ctrl.disabled}\">\n    <div class=gf-form-inline ng-repeat=\"threshold in ctrl.panel.thresholds\">\n      <div class=gf-form>\n        <label class=gf-form-label>T{{$index+1}}</label>\n      </div>\n\n      <div class=gf-form>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=threshold.op ng-options=\"f for f in ['gt', 'lt']\" ng-change=ctrl.render() ng-disabled=ctrl.disabled></select>\n        </div>\n        <input type=number ng-model=threshold.value class=\"gf-form-input width-8\" ng-change=ctrl.render() placeholder=value ng-disabled=ctrl.disabled>\n      </div>\n\n      <div class=gf-form>\n        <label class=gf-form-label>Color</label>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=threshold.colorMode ng-options=\"f for f in ['custom', 'critical', 'warning', 'ok']\" ng-change=ctrl.onThresholdTypeChange($index) ng-disabled=ctrl.disabled>\n          </select>\n        </div>\n      </div>\n\n      <gf-form-switch class=gf-form label=Fill checked=threshold.fill on-change=ctrl.render() ng-disabled=ctrl.disabled></gf-form-switch>\n\n      <div class=gf-form ng-if=\"threshold.fill && threshold.colorMode === 'custom'\">\n        <label class=gf-form-label>Fill color</label>\n        <span class=gf-form-label>\n          <color-picker color=threshold.fillColor onchange=ctrl.onFillColorChange($index)></color-picker>\n        </span>\n      </div>\n\n      <gf-form-switch class=gf-form label=Line checked=threshold.line on-change=ctrl.render() ng-disabled=ctrl.disabled></gf-form-switch>\n\n      <div class=gf-form ng-if=\"threshold.line && threshold.colorMode === 'custom'\">\n        <label class=gf-form-label>Line color</label>\n        <span class=gf-form-label>\n          <color-picker color=threshold.lineColor onchange=ctrl.onLineColorChange($index)></color-picker>\n        </span>\n      </div>\n\n      <div class=gf-form>\n        <label class=gf-form-label>Y-Axis</label>\n        <div class=gf-form-select-wrapper>\n          <select class=gf-form-input ng-model=threshold.yaxis ng-init=\"threshold.yaxis = threshold.yaxis === 'left' || threshold.yaxis === 'right' ? threshold.yaxis : 'left'\" ng-options=\"f for f in ['left', 'right']\" ng-change=ctrl.render() ng-disabled=ctrl.disabled>\n          </select>\n        </div>\n      </div>\n\n      <div class=gf-form>\n        <label class=gf-form-label>\n          <a class=pointer ng-click=ctrl.removeThreshold($index) ng-disabled=ctrl.disabled>\n            <i class=\"fa fa-trash\"></i>\n          </a>\n        </label>\n      </div>\n    </div>\n\n    <div class=gf-form-button-row>\n      <button class=\"btn btn-inverse\" ng-click=ctrl.addThreshold() ng-disabled=ctrl.disabled>\n        <i class=\"fa fa-plus\"></i>&nbsp;Add Threshold\n      </button>\n    </div>\n  </div>\n</div>\n")}]),e.exports=n},zVNn:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("i7Pf"),r=Object(a.b)("core/cleanUpState")},zl43:function(e,t,n){"use strict";I.$inject=["$route","$location","$injector","$rootScope","contextSrv"],le.$inject=["$routeProvider","$locationProvider"],wt.$inject=["playlistSrv","contextSrv","$timeout","$rootScope","$location"],Vt.$inject=["$compile","datasourceSrv","$rootScope","$http","$templateCache","$timeout","$location"],Ut.$inject=["templateSrv"],zt.$inject=["$rootScope","$location","$timeout","contextSrv","dashboardSrv","$window"],Jt.$inject=["$compile","$sanitize","linkSrv"],gn.$inject=["$scope","$rootScope","$location","$timeout","timeSrv","templateSrv","linkSrv"],Pn.$inject=["$routeProvider"],Rn.$inject=["$compile"],zn.$inject=["dynamicDirectiveSrv"],Qn.$inject=["variableSrv"],fa.$inject=["timer","$location"],n.r(t);var a=n("mrSG"),r=(n("55Il"),n("dasq"),n("JEAp")),i=n("LvDl"),o=n.n(i),s=n("+2Rf"),l=n.n(s),c=n("KHwQ"),u=n.n(c),d=(n("STM2"),n("wmx0"),n("YTCJ"),n("VBMh"),n("q1tI")),p=n.n(d),f=n("i8i4"),h=n.n(f),m=(n("kX54"),n("Qhie"),n("ZFWI")),g=n("JgE6"),b=n.n(g),v=n("Obii"),y=n("Xmxp"),w=null;var x=function(){if(null!==w)return w;if("undefined"!=typeof document){var e=document.createElement("div"),t={width:"100px",height:"100px",position:"absolute",top:"-9999px",overflow:"scroll",MsOverflowStyle:"scrollbar"};Object.keys(t).map(function(n){e.style[n]=t[n]}),document.body.appendChild(e),w=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else w=0;return w||0}()>0,O=function(e,t){void 0===t&&(t=document.body),x&&t.classList.add(e)};var _=n("Vw/f"),k=n("txxJ"),j=n("HJRA"),C=n("UIT+"),S=n("GQ3c"),E=function(){function e(e,t,n,a,r,i){e.appEvent(S.CoreEvents.dashboardFetchStart),t.uid||t.slug?"script"===t.type||"snapshot"===t.type||t.uid?n.loadDashboard(t.type,t.slug,t.uid).then(function(n){if(n.meta.url){var a=C.a.stripBaseFromUrl(n.meta.url);if(a!==r.path())return void r.path(a).replace()}n.meta.autofitpanels=t.autofitpanels,n.meta.kiosk=t.kiosk,e.initDashboard(n,e)}):a.getDashboardBySlug(t.slug).then(function(e){e&&r.path(C.a.stripBaseFromUrl(e.meta.url)).replace()}):a.get("/api/dashboards/home").then(function(t){if(t.redirectUri){var n=C.a.stripBaseFromUrl(t.redirectUri);r.path(n)}else{var a=t.meta;a.canSave=a.canShare=a.canStar=!1,e.initDashboard(t,e)}})}return e.$inject=["$scope","$routeParams","dashboardLoaderSrv","backendSrv","$location","$browser"],e}(),T=function(){function e(e,t){e.initDashboard({meta:{canStar:!1,canShare:!1,isNew:!0,folderId:Number(t.folderId)},dashboard:{title:"New dashboard",panels:[{type:"add-panel",gridPos:{x:0,y:0,w:12,h:9},title:"Panel Title"}]}},e)}return e.$inject=["$scope","$routeParams"],e}();k.c.controller("LoadDashboardCtrl",E),k.c.controller("NewDashboardCtrl",T);var M=n("/MKj"),A=n("iODs"),N=n("t/ct"),D=n("kDLi");function I(e,t,n,r,i){return{restrict:"E",template:"",link:function(o,s){var l=e.current.locals.roles;l&&l.length&&(l.some(function(e){return i.hasRole(e)})||t.url("/"));var c=e.current.locals.component;c.default&&(c=c.default);var u={$injector:n,$rootScope:r,$scope:o,$contextSrv:i,routeInfo:e.current.$$route.routeInfo};document.body.classList.add("is-react"),h.a.render(function(e,t,n){return p.a.createElement(M.Provider,{store:e},p.a.createElement(D.ErrorBoundaryAlert,{style:"page"},p.a.createElement(t,Object(a.__assign)({},n))))}(A.b,Object(N.b)(c),u),s[0]),o.$on("$destroy",function(){document.body.classList.remove("is-react"),h.a.unmountComponentAtNode(s[0])})}}}k.c.directive("reactContainer",I);var P=[];var F=function(){function e(e,t,n,a){this.backendSrv=e,this.$location=t,this.validationSrv=n,this.title="",this.titleTouched=!1,this.navModel=a.getNav("dashboards","manage-dashboards",0)}return e.$inject=["backendSrv","$location","validationSrv","navModelSrv"],e.prototype.create=function(){var e=this;if(!this.hasValidationError)return this.backendSrv.createFolder({title:this.title}).then(function(t){y.b.emit(v.AppEvents.alertSuccess,["Folder Created","OK"]),e.$location.url(C.a.stripBaseFromUrl(t.url))})},e.prototype.titleChanged=function(){var e=this;this.titleTouched=!0,this.validationSrv.validateNewFolderName(this.title).then(function(){e.hasValidationError=!1}).catch(function(t){e.hasValidationError=!0,e.validationError=t.message})},e}(),L=function(){function e(e){this.backendSrv=e}return e.prototype.load=function(e,t,n){return e.navModel={main:{icon:"fa fa-folder-open",id:"manage-folder",subTitle:"Manage folder dashboards & permissions",url:"",text:"",breadcrumbs:[{title:"Dashboards",url:"dashboards"}],children:[{active:"manage-folder-dashboards"===n,icon:"fa fa-fw fa-th-large",id:"manage-folder-dashboards",text:"Dashboards",url:"dashboards"},{active:"manage-folder-permissions"===n,icon:"fa fa-fw fa-lock",id:"manage-folder-permissions",text:"Permissions",url:"dashboards/permissions"},{active:"manage-folder-settings"===n,icon:"gicon gicon-cog",id:"manage-folder-settings",text:"Settings",url:"dashboards/settings"}]}},this.backendSrv.getFolderByUid(t).then(function(t){e.folderId=t.id;var n=t.title,a=t.url;e.navModel.main.text=n;var r=e.navModel.main.children.find(function(e){return"manage-folder-dashboards"===e.id});(r.url=a,t.canAdmin)?(e.navModel.main.children.find(function(e){return"manage-folder-permissions"===e.id}).url=a+"/permissions",e.navModel.main.children.find(function(e){return"manage-folder-settings"===e.id}).url=a+"/settings"):e.navModel.main.children=[r];return t})},e}(),R=function(){function e(e,t,n,a){(this.backendSrv=e,this.$routeParams=n,this.$routeParams.uid)&&(this.uid=n.uid,new L(this.backendSrv).load(this,this.uid,"manage-folder-dashboards").then(function(e){var t=C.a.stripBaseFromUrl(e.url);t!==a.path()&&a.path(t).replace()}))}return e.$inject=["backendSrv","navModelSrv","$routeParams","$location"],e}(),V=function(){function e(e,t,n,a,r){this.backendSrv=e,this.validationSrv=t,this.$location=a,this.navModel=n.getNav("create","import"),this.step=1,this.nameExists=!1,this.uidExists=!1,this.autoGenerateUid=!0,this.autoGenerateUidValue="auto-generated",this.folderId=r.folderId?Number(r.folderId)||0:null,this.initialFolderTitle="Select a folder",r.gnetId&&(this.gnetUrl=r.gnetId,this.checkGnetDashboard())}return e.$inject=["backendSrv","validationSrv","navModelSrv","$location","$routeParams"],e.prototype.onUpload=function(e){var t,n;if(this.dash=e,this.dash.id=null,this.step=2,this.inputs=[],this.dash.__inputs)try{for(var r=Object(a.__values)(this.dash.__inputs),i=r.next();!i.done;i=r.next()){var o=i.value,s={name:o.name,label:o.label,info:o.description,value:o.value,type:o.type,pluginId:o.pluginId,options:[]};"datasource"===o.type?this.setDatasourceOptions(o,s):s.info||(s.info="Specify a string constant"),this.inputs.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.inputsValid=0===this.inputs.length,this.titleChanged(),this.uidChanged(!0)},e.prototype.setDatasourceOptions=function(e,t){var n=o.a.filter(m.b.datasources,function(t){return t.type===e.pluginId});0===n.length?t.info="No data sources of type "+e.pluginName+" found":t.info||(t.info="Select a "+e.pluginName+" data source"),t.options=n.map(function(e){return{text:e.name,value:e.name}})},e.prototype.inputValueChanged=function(){var e,t;this.inputsValid=!0;try{for(var n=Object(a.__values)(this.inputs),r=n.next();!r.done;r=n.next()){r.value.value||(this.inputsValid=!1)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.titleChanged=function(){var e=this;this.titleTouched=!0,this.nameExists=!1,this.validationSrv.validateNewDashboardName(this.folderId,this.dash.title).then(function(){e.nameExists=!1,e.hasNameValidationError=!1}).catch(function(t){"EXISTING"===t.type&&(e.nameExists=!0),e.hasNameValidationError=!0,e.nameValidationError=t.message})},e.prototype.uidChanged=function(e){var t=this;this.uidExists=!1,this.hasUidValidationError=!1,!0===e&&this.dash.uid&&(this.autoGenerateUidValue="value set"),this.dash.uid&&this.backendSrv.getDashboardByUid(this.dash.uid).then(function(e){t.uidExists=!0,t.hasUidValidationError=!0,t.uidValidationError="Dashboard named '"+e.dashboard.title+"' in folder '"+e.meta.folderTitle+"' has the same uid"}).catch(function(e){e.isHandled=!0})},e.prototype.onFolderChange=function(e){this.folderId=e.id,this.titleChanged()},e.prototype.onEnterFolderCreation=function(){this.inputsValid=!1},e.prototype.onExitFolderCreation=function(){this.inputValueChanged()},e.prototype.isValid=function(){return this.inputsValid&&null!==this.folderId},e.prototype.saveDashboard=function(){var e=this,t=this.inputs.map(function(e){return{name:e.name,type:e.type,pluginId:e.pluginId,value:e.value}});return this.backendSrv.post("api/dashboards/import",{dashboard:this.dash,overwrite:!0,inputs:t,folderId:this.folderId}).then(function(t){var n=C.a.stripBaseFromUrl(t.importedUrl);e.$location.url(n)})},e.prototype.loadJsonText=function(){try{this.parseError="";var e=JSON.parse(this.jsonText);this.onUpload(e)}catch(e){return console.log(e),void(this.parseError=e.message)}},e.prototype.checkGnetDashboard=function(){var e=this;this.gnetError="";var t,n=/(^\d+$)|dashboards\/(\d+)/.exec(this.gnetUrl);return n&&n[1]?t=n[1]:n&&n[2]?t=n[2]:this.gnetError="Could not find dashboard",this.backendSrv.get("api/gnet/dashboards/"+t).then(function(t){e.gnetInfo=t,t.json.gnetId=t.id,e.onUpload(t.json)}).catch(function(t){t.isHandled=!0,e.gnetError=t.data.message||t})},e.prototype.back=function(){this.gnetUrl="",this.step=1,this.gnetError="",this.gnetInfo=""},e}(),$=n("zD9p"),B=n("0mC0"),U=n("1w3K"),q=function(){return p.a.createElement("div",{className:"login-signup-box"},p.a.createElement("div",{className:"login-signup-title p-r-1"},"New to Grafana?"),p.a.createElement("a",{href:"signup",className:"btn btn-medium btn-signup btn-p-x-2"},"Sign Up"))},z=function(){var e=!!m.b.oauth;return{saml:{enabled:m.b.samlEnabled,name:"SAML",className:"github",icon:"key"},google:{enabled:e&&m.b.oauth.google,name:"Google"},github:{enabled:e&&m.b.oauth.github,name:"GitHub"},gitlab:{enabled:e&&m.b.oauth.gitlab,name:"GitLab"},grafanacom:{enabled:e&&m.b.oauth.grafana_com,name:"Grafana.com",hrefName:"grafana_com",icon:"grafana_com"},oauth:{enabled:e&&m.b.oauth.generic_oauth,name:e&&m.b.oauth.generic_oauth?m.b.oauth.generic_oauth.name:"OAuth",icon:"sign-in",hrefName:"generic_oauth"}}},H=function(){var e=Object.keys(z()).filter(function(e){return z()[e].enabled});if(0===e.length)return null;var t=e.map(function(e){var t=z()[e];return p.a.createElement("a",{key:e,className:"btn btn-medium btn-service btn-service--"+(t.className||e)+" login-btn",href:"login/"+(t.hrefName?t.hrefName:e),target:"_self"},p.a.createElement("i",{className:"btn-service-icon fa fa-"+(t.icon?t.icon:e)}),"Sign in with ",t.name)}),n=p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"text-center login-divider"},p.a.createElement("div",null,p.a.createElement("div",{className:"login-divider-line"})),p.a.createElement("div",null,p.a.createElement("span",{className:"login-divider-text"},m.b.disableLoginForm?null:p.a.createElement("span",null,"or"))),p.a.createElement("div",null,p.a.createElement("div",{className:"login-divider-line"}))),p.a.createElement("div",{className:"clearfix"}));return p.a.createElement(p.a.Fragment,null,n,p.a.createElement("div",{className:"login-oauth text-center"},t))},G=n("LOGi"),W=n("1gCF"),Q=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.user,r=t.password,i=t.email;n.state.valid&&n.props.onSubmit({user:a,password:r,email:i})},n.onChangePassword=function(e){n.setState({password:e.target.value,valid:n.validate(n.state.user,e.target.value)})},n.onChangeUsername=function(e){n.setState({user:e.target.value,valid:n.validate(e.target.value,n.state.password)})},n.state={user:"",password:"",email:"",valid:!1},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.userInput.focus()},t.prototype.validate=function(e,t){return e.length>0&&t.length>0},t.prototype.render=function(){var e=this;return p.a.createElement("form",{name:"loginForm",className:"login-form-group gf-form-group"},p.a.createElement("div",{className:"login-form"},p.a.createElement("input",{ref:function(t){e.userInput=t},type:"text",name:"user",className:"gf-form-input login-form-input",required:!0,placeholder:this.props.loginHint,"aria-label":W.a.pages.Login.selectors.username,onChange:this.onChangeUsername})),p.a.createElement("div",{className:"login-form"},p.a.createElement("input",{type:"password",name:"password",className:"gf-form-input login-form-input",required:!0,"ng-model":"formModel.password",id:"inputPassword",placeholder:this.props.passwordHint,"aria-label":W.a.pages.Login.selectors.password,onChange:this.onChangePassword})),p.a.createElement("div",{className:"login-button-group"},this.props.isLoggingIn?p.a.createElement("button",{type:"submit",disabled:!0,className:"btn btn-large p-x-2 btn-inverse btn-loading"},"Logging In",p.a.createElement("span",null,"."),p.a.createElement("span",null,"."),p.a.createElement("span",null,".")):p.a.createElement("button",{type:"submit","aria-label":W.a.pages.Login.selectors.submit,className:"btn btn-large p-x-2 "+(this.state.valid?"btn-primary":"btn-inverse"),onClick:this.onSubmit,disabled:!this.state.valid},"Log In"),this.props.displayForgotPassword?p.a.createElement("div",{className:"small login-button-forgot-password"},p.a.createElement("a",{href:"user/password/send-reset-email"},"Forgot your password?")):null))},t}(d.PureComponent),Y=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.newPassword;t.valid?n.props.onSubmit(a):y.b.emit(v.AppEvents.alertWarning,["New passwords do not match"])},n.onNewPasswordChange=function(e){n.setState({newPassword:e.target.value,valid:n.validate("newPassword",e.target.value)})},n.onConfirmPasswordChange=function(e){n.setState({confirmNew:e.target.value,valid:n.validate("confirmNew",e.target.value)})},n.onSkip=function(e){n.props.onSkip()},n.state={newPassword:"",confirmNew:"",valid:!1},n}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){!e.focus&&this.props.focus&&this.focus()},t.prototype.focus=function(){this.userInput.focus()},t.prototype.validate=function(e,t){return"newPassword"===e?this.state.confirmNew===t:"confirmNew"===e&&this.state.newPassword===t},t.prototype.render=function(){var e=this;return p.a.createElement("div",{className:"login-inner-box",id:"change-password-view"},p.a.createElement("div",{className:"text-left login-change-password-info"},p.a.createElement("h5",null,"Change Password"),"Before you can get started with awesome dashboards we need you to make your account more secure by changing your password.",p.a.createElement("br",null),"You can change your password again later."),p.a.createElement("form",{className:"login-form-group gf-form-group"},p.a.createElement("div",{className:"login-form"},p.a.createElement("input",{type:"password",id:"newPassword",name:"newPassword",className:"gf-form-input login-form-input",required:!0,placeholder:"New password",onChange:this.onNewPasswordChange,ref:function(t){e.userInput=t}})),p.a.createElement("div",{className:"login-form"},p.a.createElement("input",{type:"password",name:"confirmNew",className:"gf-form-input login-form-input",required:!0,"ng-model":"command.confirmNew",placeholder:"Confirm new password",onChange:this.onConfirmPasswordChange})),p.a.createElement("div",{className:"login-button-group login-button-group--right text-right"},p.a.createElement(D.Tooltip,{placement:"bottom",content:"If you skip you will be prompted to change password next time you login."},p.a.createElement("a",{className:"btn btn-link",onClick:this.onSkip,"aria-label":W.a.pages.Login.selectors.skip},"Skip")),p.a.createElement("button",{type:"submit",className:"btn btn-large p-x-2 "+(this.state.valid?"btn-primary":"btn-inverse"),onClick:this.onSubmit,disabled:!this.state.valid},"Save"))))},t}(d.PureComponent),K=n("ibPz"),J=n("5C3A"),Z=function(){return p.a.createElement(K.a.LoginBackground,{className:"login container"},p.a.createElement("div",{className:"login-content"},p.a.createElement("div",{className:"login-branding"},p.a.createElement(K.a.LoginLogo,{className:"login-logo"})),p.a.createElement(G.a,null,function(e){var t=e.loginHint,n=e.passwordHint,a=(e.isOauthEnabled,e.ldapEnabled),r=e.authProxyEnabled,i=e.disableLoginForm,o=e.disableUserSignUp,s=e.login,l=e.isLoggingIn,c=e.changePassword,u=e.skipPasswordChange,d=e.isChangingPassword;return p.a.createElement("div",{className:"login-outer-box"},p.a.createElement("div",{className:"login-inner-box "+(d?"hidden":""),id:"login-view"},i?null:p.a.createElement(Q,{displayForgotPassword:!(a||r),onSubmit:s,loginHint:t,passwordHint:n,isLoggingIn:l}),p.a.createElement(H,null),o?null:p.a.createElement(q,null)),p.a.createElement(U.CSSTransition,{appear:!0,mountOnEnter:!0,in:d,timeout:250,classNames:"login-inner-box"},p.a.createElement(Y,{onSubmit:c,onSkip:u,focus:d})))}),p.a.createElement("div",{className:"clearfix"})),p.a.createElement(J.a,null))},X=n("CnBM"),ee=n.n(X),te=p.a.memo(function(){return p.a.createElement("div",{className:"preloader"},p.a.createElement(D.LoadingPlaceholder,{text:"Loading..."}))});te.displayName="LoadingChunkPlaceHolder";var ne,ae=n("PAeb"),re=Object(D.stylesFactory)(function(){return Object(ae.css)(ne||(ne=Object(a.__makeTemplateObject)(["\n    width: 508px;\n    margin: 128px auto;\n  "],["\n    width: 508px;\n    margin: 128px auto;\n  "])))}),ie=function(e){var t=e.error;return p.a.createElement("div",{className:re()},p.a.createElement("h2",null,"Unable to find application file"),p.a.createElement("br",null),p.a.createElement("h2",{className:"page-heading"},"Grafana has likely been updated. Please try reloading the page."),p.a.createElement("br",null),p.a.createElement("div",{className:"gf-form-group"},p.a.createElement(D.Button,{size:"md",variant:"secondary",icon:"fa fa-repeat",onClick:function(){return window.location.reload()}},"Reload")),p.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},t&&t.message?t.message:"Unexpected error occurred",p.a.createElement("br",null),t&&t.stack?t.stack:null))};ie.displayName="ErrorLoadingChunk";var oe=function(e){var t=e.error,n=e.pastDelay;return t?p.a.createElement(ie,{error:t}):n?p.a.createElement(te,null):null},se=function(e){return function(t){var n=Object(a.__rest)(t,[]),r=ee()({loader:function(){return e},loading:oe});return p.a.createElement(r,Object(a.__assign)({},n))}};function le(e,t){t.html5Mode(!0);var r=function(){return se(Promise.all([n.e(0),n.e(2),n.e(8)]).then(n.bind(null,"lIMf")))};e.when("/",{template:"<react-container />",pageClass:"page-dashboard",routeInfo:S.DashboardRouteInfo.Home,reloadOnSearch:!1,resolve:{component:r}}).when("/d/:uid/:slug",{template:"<react-container />",pageClass:"page-dashboard",routeInfo:S.DashboardRouteInfo.Normal,reloadOnSearch:!1,resolve:{component:r}}).when("/d/:uid",{template:"<react-container />",pageClass:"page-dashboard",reloadOnSearch:!1,routeInfo:S.DashboardRouteInfo.Normal,resolve:{component:r}}).when("/dashboard/:type/:slug",{template:"<react-container />",pageClass:"page-dashboard",routeInfo:S.DashboardRouteInfo.Normal,reloadOnSearch:!1,resolve:{component:r}}).when("/dashboard/new",{template:"<react-container />",pageClass:"page-dashboard",routeInfo:S.DashboardRouteInfo.New,reloadOnSearch:!1,resolve:{component:r}}).when("/d-solo/:uid/:slug",{template:"<react-container />",pageClass:"dashboard-solo",routeInfo:S.DashboardRouteInfo.Normal,reloadOnSearch:!1,resolve:{component:function(){return se(Promise.all([n.e(0),n.e(2),n.e(19)]).then(n.bind(null,"gBvE")))}}}).when("/d-solo/:uid",{template:"<react-container />",pageClass:"dashboard-solo",routeInfo:S.DashboardRouteInfo.Normal,reloadOnSearch:!1,resolve:{component:function(){return se(Promise.all([n.e(0),n.e(2),n.e(19)]).then(n.bind(null,"gBvE")))}}}).when("/dashboard-solo/:type/:slug",{template:"<react-container />",pageClass:"dashboard-solo",routeInfo:S.DashboardRouteInfo.Normal,reloadOnSearch:!1,resolve:{component:function(){return se(Promise.all([n.e(0),n.e(2),n.e(19)]).then(n.bind(null,"gBvE")))}}}).when("/dashboard/import",{templateUrl:"public/app/features/manage-dashboards/partials/dashboard_import.html",controller:V,controllerAs:"ctrl"}).when("/datasources",{template:"<react-container />",resolve:{component:function(){return se(n.e(11).then(n.bind(null,"rouV")))}}}).when("/datasources/edit/:id/",{template:"<react-container />",reloadOnSearch:!1,resolve:{component:function(){return se(n.e(10).then(n.bind(null,"Klwq")))}}}).when("/datasources/edit/:id/dashboards",{template:"<react-container />",resolve:{component:function(){return se(n.e(9).then(n.bind(null,"BLAY")))}}}).when("/datasources/new",{template:"<react-container />",resolve:{component:function(){return se(n.e(14).then(n.bind(null,"Fofh")))}}}).when("/dashboards",{templateUrl:"public/app/features/manage-dashboards/partials/dashboard_list.html",controller:"DashboardListCtrl",controllerAs:"ctrl"}).when("/dashboards/folder/new",{templateUrl:"public/app/features/folders/partials/create_folder.html",controller:F,controllerAs:"ctrl"}).when("/dashboards/f/:uid/:slug/permissions",{template:"<react-container />",resolve:{component:function(){return se(n.e(12).then(n.bind(null,"rtU1")))}}}).when("/dashboards/f/:uid/:slug/settings",{template:"<react-container />",resolve:{component:function(){return se(n.e(13).then(n.bind(null,"kzsD")))}}}).when("/dashboards/f/:uid/:slug",{templateUrl:"public/app/features/folders/partials/folder_dashboards.html",controller:R,controllerAs:"ctrl"}).when("/dashboards/f/:uid",{templateUrl:"public/app/features/folders/partials/folder_dashboards.html",controller:R,controllerAs:"ctrl"}).when("/explore",{template:"<react-container />",reloadOnSearch:!1,resolve:{roles:function(){return m.b.viewersCanEdit?[]:["Editor","Admin"]},component:function(){return se(Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"eX1b")))}}}).when("/a/:pluginId/",{template:"<react-container />",reloadOnSearch:!1,resolve:{component:function(){return se(n.e(6).then(n.bind(null,"Xzuj")))}}}).when("/org",{template:"<react-container />",resolve:{component:function(){return se(n.e(15).then(n.bind(null,"e5mm")))}}}).when("/org/new",{templateUrl:"public/app/features/org/partials/newOrg.html",controller:"NewOrgCtrl"}).when("/org/users",{template:"<react-container />",resolve:{component:function(){return se(n.e(22).then(n.bind(null,"DWvN")))}}}).when("/org/users/invite",{templateUrl:"public/app/features/org/partials/invite.html",controller:"UserInviteCtrl",controllerAs:"ctrl"}).when("/org/apikeys",{template:"<react-container />",resolve:{roles:function(){return["Editor","Admin"]},component:function(){return se(n.e(5).then(n.bind(null,"pSIq")))}}}).when("/org/teams",{template:"<react-container />",resolve:{roles:function(){return m.b.editorsCanAdmin?[]:["Editor","Admin"]},component:function(){return se(n.e(20).then(n.bind(null,"+nK6")))}}}).when("/org/teams/new",{template:"<react-container />",resolve:{roles:function(){return m.b.editorsCanAdmin?[]:["Admin"]},component:function(){return se(n.e(7).then(n.bind(null,"9i9D")))}}}).when("/org/teams/edit/:id/:page?",{template:"<react-container />",resolve:{roles:function(){return m.b.editorsCanAdmin?[]:["Admin"]},component:function(){return se(n.e(21).then(n.bind(null,"p+xb")))}}}).when("/profile",{templateUrl:"public/app/features/profile/partials/profile.html",controller:"ProfileCtrl",controllerAs:"ctrl"}).when("/profile/password",{template:"<react-container />",resolve:{component:function(){return se(n.e(52).then(n.bind(null,"PEdC")))}}}).when("/profile/select-org",{templateUrl:"public/app/features/org/partials/select_org.html",controller:"SelectOrgCtrl"}).when("/admin",{templateUrl:"public/app/features/admin/partials/admin_home.html",controller:"AdminHomeCtrl",controllerAs:"ctrl"}).when("/admin/settings",{template:"<react-container />",resolve:{component:function(){return se(n.e(3).then(n.bind(null,"Cqi4")))}}}).when("/admin/upgrading",{template:"<react-container />",resolve:{component:function(){return se(n.e(51).then(n.bind(null,"QBpM")))}}}).when("/admin/users",{templateUrl:"public/app/features/admin/partials/users.html",controller:"AdminListUsersCtrl",controllerAs:"ctrl"}).when("/admin/users/create",{templateUrl:"public/app/features/admin/partials/new_user.html",controller:"AdminEditUserCtrl"}).when("/admin/users/edit/:id",{template:"<react-container />",resolve:{component:function(){return B.a}}}).when("/admin/orgs",{templateUrl:"public/app/features/admin/partials/orgs.html",controller:"AdminListOrgsCtrl",controllerAs:"ctrl"}).when("/admin/orgs/edit/:id",{templateUrl:"public/app/features/admin/partials/edit_org.html",controller:"AdminEditOrgCtrl",controllerAs:"ctrl"}).when("/admin/stats",{template:"<react-container />",resolve:{component:function(){return se(n.e(18).then(n.bind(null,"jmwA")))}}}).when("/admin/ldap",{template:"<react-container />",resolve:{component:function(){return $.a}}}).when("/login",{template:"<react-container/>",resolve:{component:function(){return Z}},pageClass:"login-page sidemenu-hidden"}).when("/invite/:code",{templateUrl:"public/app/partials/signup_invited.html",controller:"InvitedCtrl",pageClass:"sidemenu-hidden"}).when("/signup",{templateUrl:"public/app/partials/signup_step2.html",controller:"SignUpCtrl",pageClass:"sidemenu-hidden"}).when("/user/password/send-reset-email",{templateUrl:"public/app/partials/reset_password.html",controller:"ResetPasswordCtrl",pageClass:"sidemenu-hidden"}).when("/user/password/reset",{templateUrl:"public/app/partials/reset_password.html",controller:"ResetPasswordCtrl",pageClass:"sidemenu-hidden"}).when("/dashboard/snapshots",{templateUrl:"public/app/features/manage-dashboards/partials/snapshot_list.html",controller:"SnapshotListCtrl",controllerAs:"ctrl"}).when("/plugins",{template:"<react-container />",resolve:{component:function(){return se(n.e(16).then(n.bind(null,"mGjS")))}}}).when("/plugins/:pluginId/",{template:"<react-container />",reloadOnSearch:!1,resolve:{component:function(){return se(n.e(17).then(n.bind(null,"kYMR")))}}}).when("/plugins/:pluginId/page/:slug",{templateUrl:"public/app/features/plugins/partials/plugin_page.html",controller:"AppPageCtrl",controllerAs:"ctrl"}).when("/alerting",{redirectTo:"/alerting/list"}).when("/alerting/list",{template:"<react-container />",reloadOnSearch:!1,resolve:{component:function(){return se(n.e(4).then(n.bind(null,"JRIL")))}}}).when("/alerting/notifications",{templateUrl:"public/app/features/alerting/partials/notifications_list.html",controller:"AlertNotificationsListCtrl",controllerAs:"ctrl"}).when("/alerting/notification/new",{templateUrl:"public/app/features/alerting/partials/notification_edit.html",controller:"AlertNotificationEditCtrl",controllerAs:"ctrl"}).when("/alerting/notification/:id/edit",{templateUrl:"public/app/features/alerting/partials/notification_edit.html",controller:"AlertNotificationEditCtrl",controllerAs:"ctrl"}).otherwise({templateUrl:"public/app/partials/error.html",controller:"ErrorCtrl"}),function(e){var t,n;try{for(var r=Object(a.__values)(P),i=r.next();!i.done;i=r.next())(0,i.value)(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}(e)}var ce=n("t8hP"),ue=n("umNM"),de=function(){return function(e){var t=this;this.config={flushInterval:1e4,debug:!1},this.backends=[],this.logDebug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.config.debug},this.flush=function(){var e,n;try{for(var r=Object(a.__values)(t.backends),i=r.next();!i.done;i=r.next())i.value.flush()}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},this.addBackend=function(e){t.logDebug("Adding backend",e),t.backends.push(e)},this.addEvent=function(e,n){var r,i,o=t.getMeta(),s=Object(a.__assign)(Object(a.__assign)({},e),{meta:Object(a.__assign)(Object(a.__assign)({},o),n)});try{for(var l=Object(a.__values)(t.backends),c=l.next();!c.done;c=l.next()){var u=c.value;(0===u.supportedEvents.length||u.supportedEvents.indexOf(s.type)>-1)&&u.addEvent(s)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}t.logDebug("Adding event",s)},this.getMeta=function(){return{sessionId:"",userId:ue.a.user.id,userLogin:ue.a.user.login,userSignedIn:ue.a.user.isSignedIn,screenSize:{width:window.innerWidth,height:window.innerHeight},windowSize:{width:window.screen.width,height:window.screen.height},userAgent:window.navigator.userAgent,ts:(new Date).getTime(),timeSinceNavigationStart:performance.now(),url:window.location.href}},this.config=Object(a.__assign)(Object(a.__assign)({},this.config),e),setInterval(this.flush,this.config.flushInterval)}}(),pe=function(e,t){Object(ce.getEchoSrv)().addEvent({type:ce.EchoEventType.Performance,payload:{metricName:e,duration:t}})},fe=function(){return function(e){var t=this;this.options=e,this.buffer=[],this.supportedEvents=[ce.EchoEventType.Performance],this.addEvent=function(e){t.buffer.push(e)},this.flush=function(){0!==t.buffer.length&&(t.buffer,t.buffer=[])}}}(),he=n("XI+/"),me=n.n(he),ge=n("T9PE"),be=n("NPB1"),ve=n("WUic"),ye=function(){function e(e,t){this.$compile=e,this.$rootScope=t}return e.$inject=["$compile","$rootScope"],e.prototype.load=function(e,t,n){var a=this.$rootScope.$new();o.a.assign(a,t);var r=this.$compile(n)(a);return u.a.element(e).append(r),{destroy:function(){a.$destroy(),r.remove()},digest:function(){a.$$phase||a.$digest()},getScope:function(){return a}}},e}();k.c.service("angularLoader",ye);var we=n("i7Pf"),xe=n("1mXj"),Oe=n("sINF"),_e=Object(we.c)({name:"application",initialState:{logActions:!1},reducers:{toggleLogActions:function(e){return Object(a.__assign)(Object(a.__assign)({},e),{logActions:!e.logActions})}}}),ke=(_e.actions.toggleLogActions,_e.reducer),je=n("ANjH"),Ce=n("zVNn"),Se=n("R9Tc"),Ee=n("13X4"),Te=n("vMjj"),Me={navIndex:Se.b,location:Ee.a,appNotifications:Te.a,application:ke},Ae=n("qOGI"),Ne=n("BPIC"),De=n("Gz/h"),Ie=n("BAXh"),Pe=n("J4KJ"),Fe=n("ZJ8E"),Le=n("xL/7"),Re=n("rd46"),Ve={initPhase:S.DashboardInitPhase.NotStarted,isInitSlow:!1,model:null,permissions:[],modifiedQueries:{panelId:void 0,queries:void 0}},$e={dashboard:function(e,t){if(void 0===e&&(e=Ve),Pe.k.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{permissions:Object(Fe.a)(t.payload)});if(Pe.f.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{initPhase:S.DashboardInitPhase.Fetching});if(Pe.g.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{initPhase:S.DashboardInitPhase.Services});if(Pe.h.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{isInitSlow:!0});if(Pe.e.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{initPhase:S.DashboardInitPhase.Failed,isInitSlow:!1,initError:t.payload,model:new Re.a({title:"Dashboard init failed"},{canSave:!1,canEdit:!1})});if(Pe.d.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{initPhase:S.DashboardInitPhase.Completed,model:t.payload,isInitSlow:!1});if(Pe.b.match(t))return e.model.destroy(),Object(a.__assign)(Object(a.__assign)({},e),{initPhase:S.DashboardInitPhase.NotStarted,model:null,isInitSlow:!1,initError:null});if(Pe.n.match(t)){var n=t.payload,r=n.panelId,i=n.queries;return Object(a.__assign)(Object(a.__assign)({},e),{modifiedQueries:{panelId:r,queries:i}})}return Pe.c.match(t)?Object(a.__assign)(Object(a.__assign)({},e),{modifiedQueries:{panelId:void 0,queries:void 0}}):e},panelEditor:Le.e},Be=n("m257"),Ue=n("sBLX"),qe=n("OTXG"),ze=n("iZOS"),He=n("QJHg"),Ge=n("66yP"),We=function(){function e(e,t,n,a){this.state=e,this.dataFrames=t,this.intervalMs=n,this.timeZone=a}return e.prototype.getGraphResult=function(){if(this.state.mode!==Ue.b.Metrics)return null;var e=this.dataFrames.filter(Qe);return 0===e.length?null:Object(Ge.a)(e,this.timeZone,{},{showBars:!1,showLines:!0,showPoints:!1},{asTable:!1,isVisible:!0,placement:"under"})},e.prototype.getTableResult=function(){var e,t;if(this.state.mode!==Ue.b.Metrics)return null;var n=this.dataFrames.filter(function(e){return!Qe(e)});if(0===n.length)return null;var r=n.map(function(e){for(var t=e.fields,n=t.length,a=e.length,r=t.map(function(e){return{text:e.name,type:e.type,filterable:e.config.filterable}}),i=[],o=0;o<a;o++){for(var s=[],l=0;l<n;l++)s.push(e.fields[l].values.get(o));i.push(s)}return new ze.a({columns:r,rows:i,meta:e.meta})}),i=ze.b.apply(void 0,Object(a.__spread)([new ze.a],r)),o=Object(v.toDataFrame)(i);try{for(var s=Object(a.__values)(o.fields),l=s.next();!l.done;l=s.next()){var c=l.value;c.display=Object(v.getDisplayProcessor)({field:c,theme:m.a.theme})}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o},e.prototype.getLogsResult=function(){if(this.state.mode!==Ue.b.Logs)return null;var e=Object(He.a)(this.dataFrames,this.intervalMs,this.timeZone),t=Object(Be.t)(this.state.refreshInterval),n=Object(Be.x)(e,t),r=n.rows,i=n.series;return Object(a.__assign)(Object(a.__assign)({},n),{rows:r,series:i})},e}();function Qe(e){return 2===e.fields.length&&e.fields[1].type===v.FieldType.time}var Ye=n("3SGO"),Ke={from:"now-6h",to:"now"},Je=function(){return{containerWidth:0,datasourceInstance:null,requestedDatasourceName:null,datasourceLoading:null,datasourceMissing:!1,history:[],queries:[],initialized:!1,range:{from:null,to:null,raw:Ke},absoluteRange:{from:null,to:null},scanning:!1,scanRange:null,showingGraph:!0,showingTable:!0,loading:!1,queryKeys:[],urlState:null,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1},latency:0,supportedModes:[],mode:null,isLive:!1,isPaused:!1,urlReplaced:!1,queryResponse:Ze()}},Ze=function(){return{state:v.LoadingState.NotStarted,request:{},series:[],error:null,timeRange:v.DefaultTimeRange}},Xe=Je(),et={split:null,syncedTimes:!1,left:Xe,right:Xe},tt=function(e,t){var n=t.payload.response,r=n.request,i=n.state,o=n.series,s=n.error;if(s)return s.cancelled?e:(e.eventBridge.emit(v.PanelEvents.dataError,s),Object(a.__assign)(Object(a.__assign)({},e),{loading:!1,queryResponse:n,graphResult:null,tableResult:null,logsResult:null,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}}));var l=r.endTime?r.endTime-r.startTime:0,c=new We(e,o,r.intervalMs,r.timezone),u=c.getGraphResult(),d=c.getTableResult(),p=c.getLogsResult();if(e.datasourceInstance.components.QueryCtrl){var f=o.map(function(e){return Object(v.toLegacyResponseData)(e)});e.eventBridge.emit(v.PanelEvents.dataReceived,f)}return Object(a.__assign)(Object(a.__assign)({},e),{latency:l,queryResponse:n,graphResult:u,tableResult:d,logsResult:p,loading:i===v.LoadingState.Loading||i===v.LoadingState.Streaming,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}})},nt=function(e,t,n){var r=t.path||"",i=t.query[n];if(!i)return e;var s=Object(Be.s)(i);if(!e.urlState||"/explore"!==r)return Object(a.__assign)(Object(a.__assign)({},e),{urlState:s,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}});var l=!1===o.a.isEqual(s?s.datasource:"",e.urlState.datasource),c=!1===o.a.isEqual(s?s.queries:[],e.urlState.queries),u=!1===o.a.isEqual(s?s.range:Ke,e.urlState.range),d=!1===o.a.isEqual(s?s.mode:Ue.b.Metrics,e.urlState.mode),p=!1===o.a.isEqual(s?s.ui:Be.b,e.urlState.ui);return Object(a.__assign)(Object(a.__assign)({},e),{urlState:s,update:Object(a.__assign)(Object(a.__assign)({},e.update),{datasource:l,queries:c,range:u,mode:d,ui:p})})},at=function(e,t){var n=e.meta.metrics,a=e.meta.logs,r=t||Ue.b.Metrics,i=[];return n&&i.push(Ue.b.Metrics),a&&i.push(Ue.b.Logs),1===i.length&&(r=i[0]),"Loki"!==e.meta.name||t||(r=Ue.b.Logs),[i,r]},rt={explore:function(e,t){var n,r;if(void 0===e&&(e=et),qe.z.match(t)){var i={left:t.payload.itemId===Ue.a.left?e.right:e.left,right:et.right};return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),i),{split:!1})}if(qe.A.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{split:!0,right:Object(a.__assign)({},t.payload.itemState)});if(qe.B.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{syncedTimes:t.payload.syncedTimes});if(qe.t.match(t)){var o=t.payload,s=e[Ue.a.left],l=e[Ue.a.right];return Object(Be.y)(s.querySubscription),Object(Be.y)(l.querySubscription),o.force||!Number.isInteger(e.left.originPanelId)?et:Object(a.__assign)(Object(a.__assign)({},et),{left:Object(a.__assign)(Object(a.__assign)({},Xe),{queries:e.left.queries,originPanelId:e.left.originPanelId})})}if(Ye.c.match(t)){var c=(o=t.payload).query;if(!c||!c[Ue.a.left])return e;var u=!!c[Ue.a.right];return s=e[Ue.a.left],l=e[Ue.a.right],Object(a.__assign)(Object(a.__assign)({},e),((n={split:u})[Ue.a.left]=nt(s,o,Ue.a.left),n[Ue.a.right]=nt(l,o,Ue.a.right),n))}if(t.payload){var d=t.payload.exploreId;if(void 0!==d){var p=e[d];return Object(a.__assign)(Object(a.__assign)({},e),((r={})[d]=function(e,t){if(void 0===e&&(e=Je()),qe.a.match(t)){var n=e.queries,r=t.payload,i=r.index,o=r.query,s=Object(a.__spread)(n.slice(0,i+1),[Object(a.__assign)({},o)],n.slice(i+1));return Object(a.__assign)(Object(a.__assign)({},e),{queries:s,logsHighlighterExpressions:void 0,queryKeys:Object(Be.m)(s,e.datasourceInstance)})}if(qe.d.match(t)){n=e.queries;var l=t.payload,c=(o=l.query,i=l.index,Object(Be.j)(o,n,i));return(s=Object(a.__spread)(n))[i]=c,Object(a.__assign)(Object(a.__assign)({},e),{queries:s,queryKeys:Object(Be.m)(s,e.datasourceInstance)})}if(qe.g.match(t)){var u=t.payload.width;return Object(a.__assign)(Object(a.__assign)({},e),{containerWidth:u})}if(qe.c.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{mode:t.payload.mode,graphResult:null,tableResult:null,logsResult:null,queryResponse:Ze(),loading:!1});if(qe.f.match(t)){var d=t.payload.refreshInterval,p=D.RefreshPicker.isLive(d),f=Object(Be.t)(d),h=Object(Be.x)(e.logsResult,f);return D.RefreshPicker.isLive(e.refreshInterval)&&!p&&Object(Be.y)(e.querySubscription),Object(a.__assign)(Object(a.__assign)({},e),{refreshInterval:d,queryResponse:Object(a.__assign)(Object(a.__assign)({},e.queryResponse),{state:p?v.LoadingState.Streaming:v.LoadingState.Done}),isLive:p,isPaused:!p&&e.isPaused,loading:p,logsResult:h})}if(qe.h.match(t))return n=Object(Be.h)(),Object(Be.y)(e.querySubscription),Object(a.__assign)(Object(a.__assign)({},e),{queries:n.slice(),graphResult:null,tableResult:null,logsResult:null,queryKeys:Object(Be.m)(n,e.datasourceInstance),queryResponse:Ze(),loading:!1});if(qe.i.match(t)){var m=t.payload.expressions;return Object(a.__assign)(Object(a.__assign)({},e),{logsHighlighterExpressions:m})}if(qe.k.match(t)){var g=t.payload,b=(u=g.containerWidth,g.eventBridge),y=(n=g.queries,g.range),w=g.mode,x=g.ui,O=g.originPanelId;return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},e),{containerWidth:u,eventBridge:b,range:y,mode:w,queries:n,initialized:!0,queryKeys:Object(Be.m)(n,e.datasourceInstance)}),x),{originPanelId:O,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}})}if(qe.F.match(t)){var _=t.payload,k=_.datasourceInstance,j=_.version;w=_.mode,Object(Be.y)(e.querySubscription);var C=k.meta;j&&j.length&&"Loki"===k.meta.name&&(C=Object(a.__assign)(Object(a.__assign)({},C),{v0:{metrics:!1},v1:{metrics:!0}}[j]));var S=Object.assign(k,{meta:C}),E=Object(a.__read)(at(S,e.mode),2),T=E[0],M=E[1];return Object(a.__assign)(Object(a.__assign)({},e),{datasourceInstance:S,graphResult:null,tableResult:null,logsResult:null,latency:0,queryResponse:Ze(),loading:!1,queryKeys:[],supportedModes:T,mode:null!=w?w:M,originPanelId:e.urlState&&e.urlState.originPanelId})}if(qe.l.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{datasourceMissing:!0,datasourceLoading:!1,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}});if(qe.m.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{datasourceLoading:!0,requestedDatasourceName:t.payload.requestedDatasourceName});if(qe.n.match(t)){var A=t.payload.history;return Object(a.__assign)(Object(a.__assign)({},e),{history:A,datasourceLoading:!1,datasourceMissing:!1,logsHighlighterExpressions:void 0,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}})}if(qe.o.match(t)){var N=e.queries,I=t.payload,P=I.modification,F=I.index,L=I.modifier;return s=void 0,s=void 0===F?N.map(function(e,t){var n=L(Object(a.__assign)({},e),P);return Object(Be.j)(n,N,t)}):N.map(function(e,t){if(t===F){var n=L(Object(a.__assign)({},e),P);return Object(Be.j)(n,N,t)}return e}),Object(a.__assign)(Object(a.__assign)({},e),{queries:s,queryKeys:Object(Be.m)(s,e.datasourceInstance)})}if(qe.s.match(t)){n=e.queries;var R=e.queryKeys;if(i=t.payload.index,n.length<=1)return e;s=Object(a.__spread)(n.slice(0,i),n.slice(i+1));var V=Object(a.__spread)(R.slice(0,i),R.slice(i+1));return Object(a.__assign)(Object(a.__assign)({},e),{queries:s,logsHighlighterExpressions:void 0,queryKeys:V})}if(qe.u.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{scanning:!0});if(qe.v.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{scanning:!1,scanRange:void 0,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}});if(qe.x.match(t))return n=t.payload.queries,Object(a.__assign)(Object(a.__assign)({},e),{queries:n.slice(),queryKeys:Object(Be.m)(n,e.datasourceInstance)});if(qe.G.match(t))return Object(a.__assign)(Object(a.__assign)({},e),t.payload);if(qe.C.match(t)){var $=!e.showingGraph;return $?Object(a.__assign)(Object(a.__assign)({},e),{showingGraph:$}):Object(a.__assign)(Object(a.__assign)({},e),{showingGraph:$,graphResult:null})}if(qe.E.match(t)){var B=!e.showingTable;return B?Object(a.__assign)(Object(a.__assign)({},e),{showingTable:B}):Object(a.__assign)(Object(a.__assign)({},e),{showingTable:B,tableResult:null})}if(qe.p.match(t))return n=t.payload.queries,Object(a.__assign)(Object(a.__assign)({},e),{queries:n,queryKeys:Object(Be.m)(n,e.datasourceInstance)});if(qe.D.match(t)){var U=t.payload.hiddenLogLevels;return Object(a.__assign)(Object(a.__assign)({},e),{hiddenLogLevels:Array.from(U)})}if(qe.j.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{history:t.payload.history});if(qe.y.match(t))return Object(a.__assign)(Object(a.__assign)({},e),{urlReplaced:!0});if(qe.e.match(t)){var q=t.payload,z=(y=q.range,q.absoluteRange);return Object(a.__assign)(Object(a.__assign)({},e),{range:y,absoluteRange:z,update:{datasource:!1,queries:!1,range:!1,mode:!1,ui:!1}})}if(qe.b.match(t)){var H=t.payload.loadingState;return Object(a.__assign)(Object(a.__assign)({},e),{queryResponse:Object(a.__assign)(Object(a.__assign)({},e.queryResponse),{state:H}),loading:H===v.LoadingState.Loading||H===v.LoadingState.Streaming})}if(qe.w.match(t)){var G=t.payload.isPaused;return Object(a.__assign)(Object(a.__assign)({},e),{isPaused:G})}if(qe.q.match(t)){var W=t.payload.querySubscription;return Object(a.__assign)(Object(a.__assign)({},e),{querySubscription:W})}return qe.r.match(t)?tt(e,t):e}(p,t),r))}}return e}},it=n("y6L2"),ot=n("FFN/"),st=n("nABS"),lt={orgId:m.b.bootData.user.orgId,timeZone:m.b.bootData.user.timezone},ct={user:function(e,t){return void 0===e&&(e=lt),e}},ut=n("fZn8"),dt=n("YiuE"),pt=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},Me),Ae.a),Ne.a),De.b),Ie.a),$e),rt),it.a),ot.f),st.a),ct),ut.a),dt.c),ft={},ht=function(){var e=Object(je.combineReducers)(Object(a.__assign)(Object(a.__assign)({},pt),ft));return function(t,n){if(n.type!==Ce.a.type)return e(t,n);var a=(0,n.payload.stateSelector)(t);return mt(t,a),e(t,n)}},mt=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a===t)return e[n]=void 0,!0;if("object"==typeof a)if(mt(a,t))return!0}return!1};var gt=n("GkHB"),bt=n("p+Sq"),vt=function(){function e(e,t,n,a,r,i,s,l,c,u,d,p){var f;f=p,Object(ce.setAngularLoader)(f),Object(ce.setBackendSrv)(i),Object(ce.setDataSourceSrv)(c),Object(be.b)(s),Object(gt.e)(l),Object(ve.b)(u),Object(bt.b)(d);var h=function(){Object(xe.createLogger)({predicate:function(e){return e().application.logActions}});var e=[Oe.a],t=Object(we.a)({reducer:ht(),middleware:e,devTools:!1,preloadedState:{navIndex:Object(Se.a)()}});return Object(A.a)(t),t}();Object(ce.setLocationSrv)({update:function(e){h.dispatch(Object(Ye.c)(e))}}),e.init=function(){e.contextSrv=a,e.appSubUrl=m.b.appSubUrl,e._=o.a,ge.a.init(m.b,n),t.init(),r.init()},n.colors=D.colors,n.onAppEvent=function(e,t,a){var r;r="string"==typeof e?n.$on(e,t):n.$on(e.name,t);var i=this;1!==i.$id||a||console.log("warning rootScope onAppEvent called without localscope"),a&&(i=a),i.$on("$destroy",r)},n.appEvent=function(e,t){"string"==typeof e?(n.$emit(e,t),y.b.emit(e,t)):(n.$emit(e.name,t),y.b.emit(e,t))},e.init()}return e.$inject=["$scope","utilSrv","$rootScope","contextSrv","bridgeSrv","backendSrv","timeSrv","linkSrv","datasourceSrv","keybindingSrv","dashboardSrv","angularLoader"],e}();function yt(e,t){switch(e.removeClass("view-mode--tv"),e.removeClass("view-mode--kiosk"),e.removeClass("view-mode--inactive"),t){case"tv":e.addClass("view-mode--tv");break;case"1":case!0:e.addClass("view-mode--kiosk")}}function wt(e,t,n,r,i){return{restrict:"E",controller:vt,link:function(e,t){var r,o=l()("body");l.a.fn.modal.Constructor.prototype.enforceFocus=function(){},l()(".preloader").remove(),y.b.on(S.CoreEvents.toggleSidemenuMobile,function(){o.toggleClass("sidemenu-open--xs")}),y.b.on(S.CoreEvents.toggleSidemenuHidden,function(){o.toggleClass("sidemenu-hidden")}),y.b.on(S.CoreEvents.playlistStarted,function(){t.toggleClass("view-mode--playlist",!0)}),y.b.on(S.CoreEvents.playlistStopped,function(){t.toggleClass("view-mode--playlist",!1)}),m.b.phantomJSRenderer&&-1!==document.cookie.indexOf("renderKey")&&o.addClass("body--phantomjs"),e.$on("$routeChangeSuccess",function(e,t){var n,i;r&&o.removeClass(r),t.$$route&&(r=t.$$route.pageClass)&&o.addClass(r),o.removeClass("sidemenu-open--xs"),l()("#tooltip, .tooltip").remove(),yt(o,t.params.kiosk);try{for(var s=Object(a.__values)(me.a.drops),c=s.next();!c.done;c=s.next()){c.value.destroy()}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}y.b.emit(S.CoreEvents.hideDashSearch)}),y.b.on(S.CoreEvents.toggleKioskMode,function(e){var t=i.search();switch(e&&e.exit&&(t.kiosk="1"),t.kiosk){case"tv":t.kiosk=!0,y.b.emit(v.AppEvents.alertSuccess,["Press ESC to exit Kiosk mode"]);break;case"1":case!0:delete t.kiosk;break;default:t.kiosk="tv"}n(function(){return i.search(t)}),yt(o,t.kiosk)});var s=(new Date).getTime(),c=!0,u=3e5;function d(){c&&o.hasClass("page-dashboard")&&(new Date).getTime()-s>u&&(c=!1,o.addClass("view-mode--inactive"))}function p(){s=(new Date).getTime(),c||(c=!0,o.removeClass("view-mode--inactive"))}o.mousemove(p),o.keydown(p),document.addEventListener("wheel",p,{capture:!0,passive:!0}),document.addEventListener("visibilitychange",p),setInterval(d,2e3),y.b.on(S.CoreEvents.toggleViewMode,function(){s=0,d()}),o.click(function(n){var a=l()(n.target);if(0!==a.parents().length){o.find(".dropdown-menu-open").removeClass("dropdown-menu-open");var r=a.closest("[data-click-hide]");if(r.length){var i=r.parent();r.detach(),setTimeout(function(){i.append(r)},100)}o.find(".search-container").length>0&&0===a.parents(".search-results-container, .search-field-wrapper").length&&e.$apply(function(){e.appEvent(S.CoreEvents.hideDashSearch)});var s=t.find(".popover");s.length>0&&0===a.parents(".graph-legend").length&&s.hide()}})}}}k.c.directive("grafanaApp",wt);n("xdKY");var xt=n("4qJB"),Ot=n("2KQq"),_t=function(){function e(e,t,n,r){var i=this;e.variableTypes=xt.i,e.ctrl={},e.namePattern=/^(?!__).*$/,e._=o.a,e.optionsLimit=20,e.emptyListCta={title:"There are no variables yet",buttonTitle:"Add variable",buttonIcon:"gicon gicon-variable",infoBox:{__html:' <p>\n      Variables enable more interactive and dynamic dashboards. Instead of hard-coding things like server or\n      sensor names in your metric queries you can use variables in their place. Variables are shown as dropdown\n      select boxes at the top of the dashboard. These dropdowns make it easy to change the data being displayed in\n      your dashboard. Check out the\n      <a class="external-link" href="http://docs.grafana.org/reference/templating/" target="_blank">\n        Templating documentation\n      </a>\n      for more information.\n    </p>',infoBoxTitle:"What do variables do?"}},e.refreshOptions=[{value:0,text:"Never"},{value:1,text:"On Dashboard Load"},{value:2,text:"On Time Range Change"}],e.sortOptions=[{value:0,text:"Disabled"},{value:1,text:"Alphabetical (asc)"},{value:2,text:"Alphabetical (desc)"},{value:3,text:"Numerical (asc)"},{value:4,text:"Numerical (desc)"},{value:5,text:"Alphabetical (case-insensitive, asc)"},{value:6,text:"Alphabetical (case-insensitive, desc)"}],e.hideOptions=[{value:0,text:""},{value:1,text:"Label"},{value:2,text:"Variable"}],e.selectors=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},W.a.pages.Dashboard.Settings.Variables.List.selectors),W.a.pages.Dashboard.Settings.Variables.Edit.General.selectors),W.a.pages.Dashboard.Settings.Variables.Edit.QueryVariable.selectors),W.a.pages.Dashboard.Settings.Variables.Edit.ConstantVariable.selectors),e.init=function(){e.mode="list",e.variables=n.variables,e.reset(),e.$watch("mode",function(t){"new"===t&&e.reset()})},e.setMode=function(t){e.mode=t},e.setNewMode=function(){e.setMode("new")},e.add=function(){e.isValid()&&(n.addVariable(e.current),e.update())},e.isValid=function(){if(!e.ctrl.form.$valid)return!1;if(!e.current.name.match(/^\w+$/))return y.b.emit(v.AppEvents.alertWarning,["Validation","Only word and digit characters are allowed in variable names"]),!1;var t=o.a.find(e.variables,{name:e.current.name});return t&&t!==e.current?(y.b.emit(v.AppEvents.alertWarning,["Validation","Variable with the same name already exists"]),!1):"query"!==e.current.type||!o.a.isString(e.current.query)||!e.current.query.match(new RegExp("\\$"+e.current.name+"(/| |$)"))||(y.b.emit(v.AppEvents.alertWarning,["Validation","Query cannot contain a reference to itself. Variable: $"+e.current.name]),!1)},e.validate=function(){e.infoText="","adhoc"===e.current.type&&null!==e.current.datasource&&(e.infoText="Adhoc filters are applied automatically to all queries that target this datasource",Object(Ot.a)(e)(t.get(e.current.datasource).then(function(t){t.getTagKeys||(e.infoText="This datasource does not support adhoc filters yet.")})))},e.runQuery=function(){return e.optionsLimit=20,n.updateOptions(e.current).catch(function(e){e.data&&e.data.message&&(e.message=e.data.message),y.b.emit(v.AppEvents.alertError,["Templating","Template variables could not be initialized: "+e.message])})},e.onQueryChange=function(t,n){e.current.query=t,e.current.definition=n,e.runQuery()},e.edit=function(n){e.current=n,e.currentIsNew=!1,e.mode="edit",e.validate(),Object(Ot.a)(e)(t.get(e.current.datasource).then(function(t){e.currentDatasource=t}))},e.duplicate=function(t){var a=o.a.cloneDeep(t.getSaveModel());e.current=n.createVariableFromModel(a),e.current.name="copy_of_"+t.name,n.addVariable(e.current)},e.update=function(){e.isValid()&&Object(Ot.a)(e)(e.runQuery().then(function(){e.reset(),e.mode="list",r.updateIndex()}))},e.reset=function(){e.currentIsNew=!0,e.current=n.createVariableFromModel({type:"query"}),e.datasources=o.a.filter(t.getMetricSources(),function(e){return!e.meta.mixed&&null!==e.value}),e.datasourceTypes=o()(e.datasources).uniqBy("meta.id").map(function(e){return{text:e.meta.name,value:e.meta.id}}).value()},e.typeChanged=function(){var t=e.current;e.current=n.createVariableFromModel({type:e.current.type}),e.current.name=t.name,e.current.label=t.label;var a=o.a.indexOf(this.variables,t);-1!==a&&(this.variables[a]=e.current),e.validate()},e.removeVariable=function(e){n.removeVariable(e)},e.showMoreOptions=function(){e.optionsLimit+=20},e.datasourceChanged=function(){return Object(a.__awaiter)(i,void 0,void 0,function(){return Object(a.__generator)(this,function(n){return Object(Ot.a)(e)(t.get(e.current.datasource).then(function(t){e.current.query="",e.currentDatasource=t})),[2]})})}}return e.$inject=["$scope","datasourceSrv","variableSrv","templateSrv"],e}();k.c.controller("VariableEditorCtrl",_t);var kt=n("5kRJ"),jt=function(){function e(){}return e.prototype._linkTo=function(e,t){t<=0&&e.inputEdges.push(this),t>=0&&e.outputEdges.push(this),e.edges.push(this)},e.prototype.link=function(e,t){if(!e)throw Error("inputNode is required");if(!t)throw Error("outputNode is required");return this.unlink(),this.inputNode=e,this.outputNode=t,this._linkTo(e,1),this._linkTo(t,-1),this},e.prototype.unlink=function(){var e,t=this.inputNode,n=this.outputNode;t&&n&&((e=t.edges.indexOf(this))>-1&&t.edges.splice(e,1),(e=n.edges.indexOf(this))>-1&&n.edges.splice(e,1),(e=t.outputEdges.indexOf(this))>-1&&t.outputEdges.splice(e,1),(e=n.inputEdges.indexOf(this))>-1&&n.inputEdges.splice(e,1),this.inputNode=null,this.outputNode=null)},e}(),Ct=function(){function e(e){this.name=e,this.edges=[],this.inputEdges=[],this.outputEdges=[]}return e.prototype.getEdgeFrom=function(e){return e?"object"==typeof e?this.inputEdges.find(function(t){return t.inputNode.name===e.name}):this.inputEdges.find(function(t){return t.inputNode.name===e}):null},e.prototype.getEdgeTo=function(e){return e?"object"==typeof e?this.outputEdges.find(function(t){return t.outputNode.name===e.name}):this.outputEdges.find(function(t){return t.outputNode.name===e}):null},e.prototype.getOptimizedInputEdges=function(){var e=this,t=[];return this.inputEdges.forEach(function(n){n.inputNode.inputEdges.map(function(e){return e.inputNode}).forEach(function(n){var a=n.getEdgeTo(e.name);a&&t.push(a)})}),this.inputEdges.filter(function(e){return-1===t.indexOf(e)})},e}(),St=function(){function e(){this.nodes={}}return e.prototype.createNode=function(e){var t=new Ct(e);return this.nodes[e]=t,t},e.prototype.createNodes=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.createNode(e))}),n},e.prototype.link=function(e,t){var n=this,a=[],r=[],i=[],o=[];a=e instanceof Array?e:[e],r=t instanceof Array?t:[t];for(var s=0;s<a.length;s++){if("string"==typeof(c=a[s])){var l=this.getNode(c);if(!l)throw Error("cannot link input node named "+c+" since it doesn't exist in graph");i.push(l)}else i.push(c)}for(s=0;s<r.length;s++){var c;if("string"==typeof(c=r[s])){var u=this.getNode(c);if(!u)throw Error("cannot link output node named "+c+" since it doesn't exist in graph");o.push(u)}else o.push(c)}var d=[];return i.forEach(function(e){o.forEach(function(t){d.push(n.createEdge().link(e,t))})}),d},e.prototype.createEdge=function(){return new jt},e.prototype.getNode=function(e){return this.nodes[e]},e}(),Et=function(){function e(e,t,n,a,r){this.$q=e,this.$location=t,this.$injector=n,this.templateSrv=a,this.timeSrv=r}return e.$inject=["$q","$location","$injector","templateSrv","timeSrv"],e.prototype.init=function(e){var t,n,r=this;this.dashboard=e,this.dashboard.events.on(S.CoreEvents.timeRangeUpdated,this.onTimeRangeUpdated.bind(this)),this.dashboard.events.on(S.CoreEvents.templateVariableValueUpdated,this.updateUrlParamsWithCurrentVariables.bind(this)),this.variables=e.templating.list=e.templating.list.map(this.createVariableFromModel.bind(this)),this.templateSrv.init(this.variables,this.timeSrv.timeRange());try{for(var i=Object(a.__values)(this.variables),o=i.next();!o.done;o=i.next()){o.value.initLock=this.$q.defer()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var s=this.$location.search();return this.$q.all(this.variables.map(function(e){return r.processVariable(e,s)})).then(function(){r.templateSrv.updateIndex()})},e.prototype.onTimeRangeUpdated=function(e){var t=this;this.templateSrv.updateTimeRange(e);var n=this.variables.filter(function(e){return 2===e.refresh}).map(function(e){var n=e.options.slice();return e.updateOptions().then(function(){u.a.toJson(n)!==u.a.toJson(e.options)&&t.dashboard.templateVariableValueUpdated()})});return this.$q.all(n).then(function(){t.dashboard.startRefresh()}).catch(function(e){j.a.emit(v.AppEvents.alertError,["Template variable service failed",e.message])})},e.prototype.processVariable=function(e,t){var n,r,i=this,o=[];try{for(var s=Object(a.__values)(this.variables),l=s.next();!l.done;l=s.next()){var c=l.value;e.dependsOn(c)&&o.push(c.initLock.promise)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this.$q.all(o).then(function(){var n=t["var-"+e.name];return void 0!==n?e.setValueFromUrl(n).then(e.initLock.resolve):1===e.refresh||2===e.refresh?e.updateOptions().then(e.initLock.resolve):void e.initLock.resolve()}).finally(function(){i.templateSrv.variableInitialized(e),delete e.initLock})},e.prototype.createVariableFromModel=function(e){var t=xt.i[e.type].ctor;if(!t)throw{message:"Unable to find variable constructor for "+e.type};return this.$injector.instantiate(t,{model:e})},e.prototype.addVariable=function(e){this.variables.push(e),this.templateSrv.updateIndex(),this.dashboard.updateSubmenuVisibility()},e.prototype.removeVariable=function(e){var t=o.a.indexOf(this.variables,e);this.variables.splice(t,1),this.templateSrv.updateIndex(),this.dashboard.updateSubmenuVisibility()},e.prototype.updateOptions=function(e){return e.updateOptions()},e.prototype.variableUpdated=function(e,t){var n=this;if(e.initLock)return this.$q.when();var a=this.createGraph().getNode(e.name),r=[];return a&&(r=a.getOptimizedInputEdges().map(function(e){return n.updateOptions(n.variables.find(function(t){return t.name===e.inputNode.name}))})),this.$q.all(r).then(function(){t&&(n.dashboard.templateVariableValueUpdated(),n.dashboard.startRefresh())})},e.prototype.selectOptionsForCurrentValue=function(e){var t,n,a,r,i=[];for(t=0;t<e.options.length;t++)if((r=e.options[t]).selected=!1,o.a.isArray(e.current.value))for(n=0;n<e.current.value.length;n++)a=e.current.value[n],r.value===a&&(r.selected=!0,i.push(r));else r.value===e.current.value&&(r.selected=!0,i.push(r));return i},e.prototype.validateVariableSelectionState=function(e,t){if(e.current||(e.current={}),o.a.isArray(e.current.value)){var n=this.selectOptionsForCurrentValue(e);return n=0===n.length?e.options[0]:{value:o.a.map(n,function(e){return e.value}),text:o.a.map(n,function(e){return e.text})},e.setValue(n)}var a=void 0;return(a=o.a.find(e.options,{text:e.current.text}))?e.setValue(a):t&&(a=o.a.find(e.options,{text:t}))?e.setValue(a):e.options?e.setValue(e.options[0]):Promise.resolve()},e.prototype.setOptionFromUrl=function(e,t){var n=this.$q.when();return e.refresh&&(n=e.updateOptions()),n.then(function(){var n=o.a.find(e.options,function(e){return e.text===t||e.value===t});if(!n){var a=t,r=t;o.a.isArray(t)&&(a=t.reduce(function(t,n){var a=o.a.find(e.options,{value:n});return a?t.push(a.text):t.push(n),t},[])),n={text:a,value:r}}return e.multi&&(n={text:o.a.castArray(n.text),value:o.a.castArray(n.value)}),e.setValue(n)})},e.prototype.setOptionAsCurrent=function(e,t){return e.current=o.a.cloneDeep(t),o.a.isArray(e.current.text)&&e.current.text.length>0?e.current.text=e.current.text.join(" + "):o.a.isArray(e.current.value)&&"$__all"!==e.current.value[0]&&(e.current.text=e.current.value.join(" + ")),this.selectOptionsForCurrentValue(e),this.variableUpdated(e)},e.prototype.templateVarsChangedInUrl=function(e){var t,n,r=this,i=[];try{for(var o=Object(a.__values)(this.variables),s=o.next();!s.done;s=o.next()){var l=s.value,c="var-"+l.name;e.hasOwnProperty(c)&&i.push(l.setValueFromUrl(e[c]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}i.length&&Promise.all(i).then(function(){r.dashboard.templateVariableValueUpdated(),r.dashboard.startRefresh()})},e.prototype.updateUrlParamsWithCurrentVariables=function(){var e=this.$location.search();o.a.each(e,function(t,n){0===n.indexOf("var-")&&delete e[n]}),this.templateSrv.fillVariableValuesForUrl(e),this.$location.search(e)},e.prototype.setAdhocFilter=function(e){var t=o.a.find(this.variables,{type:"adhoc",datasource:e.datasource});t||(t=this.createVariableFromModel({name:"Filters",type:"adhoc",datasource:e.datasource}),this.addVariable(t));var n=t.filters,a=o.a.find(n,{key:e.key,value:e.value});a||(a={key:e.key,value:e.value},n.push(a)),a.operator=e.operator,this.variableUpdated(t,!0)},e.prototype.createGraph=function(){var e=this,t=new St;return this.variables.forEach(function(e){t.createNode(e.name)}),this.variables.forEach(function(n){e.variables.forEach(function(e){n!==e&&n.dependsOn(e)&&t.link(n.name,e.name)})}),t},e}();k.c.service("variableSrv",Et);var Tt=n("PbtU"),Mt=function(){function e(e,t,n,a){this.model=e,this.timeSrv=t,this.templateSrv=n,this.variableSrv=a,this.defaults={type:"interval",name:"",label:"",hide:xt.a.dontHide,skipUrlSync:!1,auto_count:30,auto_min:"10s",options:[],auto:!1,query:"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",refresh:xt.b.onTimeRangeChanged,current:{}},Object(xt.d)(this,e,this.defaults),this.refresh=xt.b.onTimeRangeChanged}return e.$inject=["model","timeSrv","templateSrv","variableSrv"],e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),this.model},e.prototype.setValue=function(e){return this.updateAutoValue(),this.variableSrv.setOptionAsCurrent(this,e)},e.prototype.updateAutoValue=function(){if(this.auto){this.options.length&&"auto"!==this.options[0].text&&this.options.unshift({text:"auto",value:"$__auto_interval_"+this.name,selected:!1});var e=Tt.a.calculateInterval(this.timeSrv.timeRange(),this.auto_count,this.auto_min);this.templateSrv.setGrafanaVariable("$__auto_interval_"+this.name,e.interval),this.templateSrv.setGrafanaVariable("$__auto_interval",e.interval)}},e.prototype.updateOptions=function(){return this.options=o.a.map(this.query.match(/(["'])(.*?)\1|\w+/g),function(e){return{text:(e=e.replace(/["']+/g,"")).trim(),value:e.trim(),selected:!1}}),this.updateAutoValue(),this.variableSrv.validateVariableSelectionState(this)},e.prototype.dependsOn=function(e){return!1},e.prototype.setValueFromUrl=function(e){return this.updateAutoValue(),this.variableSrv.setOptionFromUrl(this,e)},e.prototype.getValueForUrl=function(){return this.current.value},e}();xt.i.interval={name:"Interval",ctor:Mt,description:"Define a timespan interval (ex 1m, 1h, 1d)"};var At=function(){function e(e,t,n,a,r){this.model=e,this.datasourceSrv=t,this.templateSrv=n,this.variableSrv=a,this.timeSrv=r,this.defaults={type:"query",name:"",label:null,hide:xt.a.dontHide,skipUrlSync:!1,datasource:null,query:"",regex:"",sort:xt.c.disabled,refresh:xt.b.never,multi:!1,includeAll:!1,allValue:null,options:[],current:{},tags:[],useTags:!1,tagsQuery:"",tagValuesQuery:"",definition:""},Object(xt.d)(this,e,this.defaults),this.updateOptionsFromMetricFindQuery.bind(this)}return e.$inject=["model","datasourceSrv","templateSrv","variableSrv","timeSrv"],e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),0!==this.refresh&&(this.model.options=[]),this.model},e.prototype.setValue=function(e){return this.variableSrv.setOptionAsCurrent(this,e)},e.prototype.setValueFromUrl=function(e){return this.variableSrv.setOptionFromUrl(this,e)},e.prototype.getValueForUrl=function(){return"All"===this.current.text?"All":this.current.value},e.prototype.updateOptions=function(e){var t=this;return this.datasourceSrv.get(this.datasource).then(function(n){return t.updateOptionsFromMetricFindQuery(n,e)}).then(this.updateTags.bind(this)).then(this.variableSrv.validateVariableSelectionState.bind(this.variableSrv,this))},e.prototype.updateTags=function(e){var t=this;return this.useTags?this.metricFindQuery(e,this.tagsQuery).then(function(n){t.tags=[];for(var a=0;a<n.length;a++)t.tags.push(n[a].text);return e}):(delete this.tags,e)},e.prototype.getValuesForTag=function(e){var t=this;return this.datasourceSrv.get(this.datasource).then(function(n){var a=t.tagValuesQuery.replace("$tag",e);return t.metricFindQuery(n,a).then(function(e){return o.a.map(e,function(e){return e.text})})})},e.prototype.updateOptionsFromMetricFindQuery=function(e,t){var n=this;return this.metricFindQuery(e,this.query,t).then(function(t){return n.options=n.metricNamesToVariableValues(t),n.includeAll&&n.addAllOption(),n.options.length||n.options.push({text:"None",value:"",isNone:!0,selected:!1}),e})},e.prototype.metricFindQuery=function(e,t,n){var a={range:void 0,variable:this,searchFilter:n};return 2===this.refresh&&(a.range=this.timeSrv.timeRange()),e.metricFindQuery(t,a)},e.prototype.addAllOption=function(){this.options.unshift({text:"All",value:"$__all",selected:!1})},e.prototype.metricNamesToVariableValues=function(e){var t,n,a,r;for(n=[],this.regex&&(t=Object(v.stringToJsRegex)(this.templateSrv.replace(this.regex,{},"regex"))),a=0;a<e.length;a++){var i=e[a],s=void 0===i.text||null===i.text?i.value:i.text,l=void 0===i.value||null===i.value?i.text:i.value;if(o.a.isNumber(l)&&(l=l.toString()),o.a.isNumber(s)&&(s=s.toString()),t){if(!(r=t.exec(l)))continue;r.length>1&&(l=r[1],s=r[1])}n.push({text:s,value:l})}return n=o.a.uniqBy(n,"value"),this.sortVariableValues(n,this.sort)},e.prototype.sortVariableValues=function(e,t){if(0===t)return e;var n=Math.ceil(t/2),a=t%2==0;return 1===n?e=o.a.sortBy(e,"text"):2===n?e=o.a.sortBy(e,function(e){var t=e.text.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)}):3===n&&(e=o.a.sortBy(e,function(e){return o.a.toLower(e.text)})),a&&(e=e.reverse()),e},e.prototype.dependsOn=function(e){return Object(xt.f)(this.query,this.datasource,this.regex,e.name)},e}();xt.i.query={name:"Query",ctor:At,description:"Variable values are fetched from a datasource query",supportsMulti:!0};var Nt=function(){function e(e,t,n,a){this.model=e,this.datasourceSrv=t,this.variableSrv=n,this.templateSrv=a,this.defaults={type:"datasource",name:"",hide:0,label:"",current:{},regex:"",options:[],query:"",multi:!1,includeAll:!1,refresh:1,skipUrlSync:!1},Object(xt.d)(this,e,this.defaults),this.refresh=1}return e.$inject=["model","datasourceSrv","variableSrv","templateSrv"],e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),this.model.options=[],this.model},e.prototype.setValue=function(e){return this.variableSrv.setOptionAsCurrent(this,e)},e.prototype.updateOptions=function(){var e,t=[],n=this.datasourceSrv.getMetricSources({skipVariables:!0});this.regex&&(e=this.templateSrv.replace(this.regex,null,"regex"),e=Object(v.stringToJsRegex)(e));for(var a=0;a<n.length;a++){var r=n[a];r.meta.id===this.query&&(e&&!e.exec(r.name)||t.push({text:r.name,value:r.name}))}0===t.length&&t.push({text:"No data sources found",value:""}),this.options=t,this.includeAll&&this.addAllOption();var i=ce.config.bootData.settings.defaultDatasource;return this.variableSrv.validateVariableSelectionState(this,i)},e.prototype.addAllOption=function(){this.options.unshift({text:"All",value:"$__all"})},e.prototype.dependsOn=function(e){return!!this.regex&&Object(xt.f)(this.regex,e.name)},e.prototype.setValueFromUrl=function(e){return this.variableSrv.setOptionFromUrl(this,e)},e.prototype.getValueForUrl=function(){return"All"===this.current.text?"All":this.current.value},e}();xt.i.datasource={name:"Datasource",ctor:Nt,supportsMulti:!0,description:"Enabled you to dynamically switch the datasource for multiple panels"};var Dt=function(){function e(e,t){this.model=e,this.variableSrv=t,this.defaults={type:"custom",name:"",label:"",hide:xt.a.dontHide,skipUrlSync:!1,query:"",options:[],includeAll:!1,multi:!1,current:{},allValue:null},Object(xt.d)(this,e,this.defaults)}return e.$inject=["model","variableSrv"],e.prototype.setValue=function(e){return this.variableSrv.setOptionAsCurrent(this,e)},e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),this.model},e.prototype.updateOptions=function(){return this.options=o.a.map(this.query.match(/(?:\\,|[^,])+/g),function(e){return{text:(e=e.replace(/\\,/g,",")).trim(),value:e.trim(),selected:!1}}),this.includeAll&&this.addAllOption(),this.variableSrv.validateVariableSelectionState(this)},e.prototype.addAllOption=function(){this.options.unshift({text:"All",value:"$__all",selected:!1})},e.prototype.dependsOn=function(e){return!1},e.prototype.setValueFromUrl=function(e){return this.variableSrv.setOptionFromUrl(this,e)},e.prototype.getValueForUrl=function(){return"All"===this.current.text?"All":this.current.value},e}();xt.i.custom={name:"Custom",ctor:Dt,description:"Define variable values manually",supportsMulti:!0};var It=function(){function e(e,t){this.model=e,this.variableSrv=t,this.defaults={type:"constant",name:"",hide:xt.a.hideLabel,label:"",query:"",current:{},options:[],skipUrlSync:!1},Object(xt.d)(this,e,this.defaults)}return e.$inject=["model","variableSrv"],e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),this.model},e.prototype.setValue=function(e){this.variableSrv.setOptionAsCurrent(this,e)},e.prototype.updateOptions=function(){return this.options=[{text:this.query.trim(),value:this.query.trim(),selected:!1}],this.setValue(this.options[0]),Promise.resolve()},e.prototype.dependsOn=function(e){return!1},e.prototype.setValueFromUrl=function(e){return this.variableSrv.setOptionFromUrl(this,e)},e.prototype.getValueForUrl=function(){return this.current.value},e}();xt.i.constant={name:"Constant",ctor:It,description:"Define a hidden constant variable, useful for metric prefixes in dashboards you want to share"};var Pt=function(){function e(e){this.model=e,this.defaults={type:"adhoc",name:"",label:"",hide:xt.a.dontHide,skipUrlSync:!1,datasource:null,filters:[]},Object(xt.d)(this,e,this.defaults)}return e.$inject=["model"],e.prototype.setValue=function(e){return Promise.resolve()},e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),this.model},e.prototype.updateOptions=function(){return Promise.resolve()},e.prototype.dependsOn=function(e){return!1},e.prototype.setValueFromUrl=function(e){var t=this;return o.a.isArray(e)||(e=[e]),this.filters=e.map(function(e){var n=e.split("|").map(function(e){return t.unescapeDelimiter(e)});return{key:n[0],operator:n[1],value:n[2],condition:""}}),Promise.resolve()},e.prototype.getValueForUrl=function(){var e=this;return this.filters.map(function(t){return[t.key,t.operator,t.value].map(function(t){return e.escapeDelimiter(t)}).join("|")})},e.prototype.escapeDelimiter=function(e){return e.replace(/\|/g,"__gfp__")},e.prototype.unescapeDelimiter=function(e){return e.replace(/__gfp__/g,"|")},e.prototype.setFilters=function(e){this.filters=e},e}();xt.i.adhoc={name:"Ad hoc filters",ctor:Pt,description:"Add key/value filters on the fly"};var Ft=function(){function e(e,t){this.model=e,this.variableSrv=t,this.defaults={type:"textbox",name:"",label:"",hide:xt.a.dontHide,query:"",current:{},options:[],skipUrlSync:!1},Object(xt.d)(this,e,this.defaults)}return e.$inject=["model","variableSrv"],e.prototype.getSaveModel=function(){return Object(xt.d)(this.model,this,this.defaults),this.model},e.prototype.setValue=function(e){this.variableSrv.setOptionAsCurrent(this,e)},e.prototype.updateOptions=function(){return this.options=[{text:this.query.trim(),value:this.query.trim(),selected:!1}],this.current=this.options[0],Promise.resolve()},e.prototype.dependsOn=function(e){return!1},e.prototype.setValueFromUrl=function(e){return this.query=e,this.variableSrv.setOptionFromUrl(this,e)},e.prototype.getValueForUrl=function(){return this.current.value},e}();xt.i.textbox={name:"Text box",ctor:Ft,description:"Define a textbox variable, where users can enter any arbitrary string"},k.c.factory("templateSrv",function(){return kt.b});var Lt=n("okuo"),Rt=function(){function e(e,t,n){var a=this;this.$routeParams=e,this.$rootScope=t,this.navModelSrv=n,this.pluginId=e.pluginId,Object(Ot.a)(t)(Promise.resolve(Object(Lt.a)(this.pluginId)).then(function(e){a.initPage(e)}).catch(function(e){a.$rootScope.appEvent(v.AppEvents.alertError,["Unknown Plugin"]),a.navModel=a.navModelSrv.getNotFoundNav()}))}return e.$inject=["$routeParams","$rootScope","navModelSrv"],e.prototype.initPage=function(e){if(this.appModel=e,this.page=o.a.find(e.includes,{slug:this.$routeParams.slug}),!this.page)return this.$rootScope.appEvent(v.AppEvents.alertError,["App Page Not Found"]),void(this.navModel=this.navModelSrv.getNotFoundNav());if("app"!==e.type||!e.enabled)return this.$rootScope.appEvent(v.AppEvents.alertError,["Application Not Enabled"]),void(this.navModel=this.navModelSrv.getNotFoundNav());var t=this.navModelSrv.getNav("plugin-page-"+e.id);this.navModel={main:{img:e.info.logos.large,subTitle:e.name,url:"",text:this.page.name,breadcrumbs:[{title:e.name,url:t.main.url}]}}},e}();u.a.module("grafana.controllers").controller("AppPageCtrl",Rt);n("WnbS");function Vt(e,t,n,a,r,i,s){function l(e,t){if(e)return 0===e.indexOf("public")?e:t+"/"+e}function c(e,t){var n={name:"panel-plugin-"+e.panel.type,bindings:{dashboard:"=",panel:"=",row:"="},attrs:{dashboard:"dashboard",panel:"panel",class:"panel-height-helper"}},i=m.b.panels[e.panel.type];return Object(_.c)(i.id).then(function(e){var t=e.angularPanelCtrl;return n.Component=t,!t||t.registered?n:t.templatePromise?t.templatePromise.then(function(e){return n}):(i&&(t.templateUrl=l(t.templateUrl,i.baseUrl)),t.templatePromise=function(e){if(e.template)return Promise.resolve(e.template);var t=r.get(e.templateUrl);return t?Promise.resolve(t):a.get(e.templateUrl).then(function(e){return e.data})}(t).then(function(e){return t.templateUrl=null,t.template='<grafana-panel ctrl="ctrl" class="panel-height-helper">'+e+"</grafana-panel>",n}),t.templatePromise)})}function d(t,n,a,r){if(r.notFound)n.empty();else{if(!r.Component)throw{message:"Failed to find exported plugin component for "+r.name};if(!r.Component.registered){var i=a.$normalize(r.name),s=((c=r).Component.templateUrl=l(c.Component.templateUrl,c.baseUrl),function(){return{templateUrl:c.Component.templateUrl,template:c.Component.template,restrict:"E",controller:c.Component,controllerAs:"ctrl",bindToController:!0,scope:c.bindings,link:function(e,t,n,a){a.link&&a.link(e,t,n,a),a.init&&a.init()}}});k.c.directive(i,s),r.Component.registered=!0}var c;!function(t,n,a){var r=u.a.element(document.createElement(a.name));o.a.each(a.attrs,function(e,t){r.attr(t,e)}),e(r)(t),n.empty(),setTimeout(function(){t.$applyAsync(function(){n.append(r),setTimeout(function(){t.$applyAsync(function(){t.$broadcast("component-did-mount")})})})})}(t,n,r)}}return{restrict:"E",link:function(e,t,n){(function(e,t){switch(t.type){case"query-ctrl":var n=e.ctrl.datasource;return Promise.resolve({baseUrl:n.meta.baseUrl,name:"query-ctrl-"+n.meta.id,bindings:{target:"=",panelCtrl:"=",datasource:"="},attrs:{target:"ctrl.target","panel-ctrl":"ctrl",datasource:"ctrl.datasource"},Component:n.components.QueryCtrl});case"annotations-query-ctrl":var a=e.ctrl.currentDatasource.meta.baseUrl,r=e.ctrl.currentDatasource.meta.id;return Object(_.b)(e.ctrl.currentDatasource.meta).then(function(e){return{baseUrl:a,name:"annotations-query-ctrl-"+r,bindings:{annotation:"=",datasource:"="},attrs:{annotation:"ctrl.currentAnnotation",datasource:"ctrl.currentDatasource"},Component:e.components.AnnotationsQueryCtrl}});case"datasource-config-ctrl":var i=e.ctrl.datasourceMeta,o=s.url();return Object(_.b)(i).then(function(t){return e.$watch("ctrl.current",function(){o===s.url()&&e.onModelChanged(e.ctrl.current)},!0),{baseUrl:i.baseUrl,name:"ds-config-"+i.id,bindings:{meta:"=",current:"="},attrs:{meta:"ctrl.datasourceMeta",current:"ctrl.current"},Component:t.angularConfigCtrl}});case"app-config-ctrl":var l=e.ctrl.model;return Object(_.a)(l).then(function(e){return{baseUrl:l.baseUrl,name:"app-config-"+l.id,bindings:{appModel:"=",appEditCtrl:"="},attrs:{"app-model":"ctrl.model","app-edit-ctrl":"ctrl"},Component:e.angularConfigCtrl}});case"app-page":var u=e.ctrl.appModel;return Object(_.a)(u).then(function(t){return{baseUrl:u.baseUrl,name:"app-page-"+u.id+"-"+e.ctrl.page.slug,bindings:{appModel:"="},attrs:{"app-model":"ctrl.appModel"},Component:t.angularPages[e.ctrl.page.component]}});case"panel":return c(e);default:return Promise.reject({message:"Could not find component type: "+t.type})}})(e,n).then(function(a){d(e,t,n,a)}).catch(function(e){console.log("Plugin component error",e)})}}}k.c.directive("pluginComponent",Vt);var $t=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){n.setState({value:e.currentTarget.value})},n.onBlur=function(e){n.props.onChange(e.currentTarget.value,e.currentTarget.value)},n.state={value:t.query},n}return Object(a.__extends)(t,e),t.prototype.getLineCount=function(){var e=this.state.value;return"string"==typeof e?e.split("\n").length:1},t.prototype.render=function(){return p.a.createElement("div",{className:"gf-form"},p.a.createElement("span",{className:"gf-form-label width-10"},"Query"),p.a.createElement("textarea",{rows:this.getLineCount(),className:"gf-form-input",value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,placeholder:"metric name or tags query",required:!0,"aria-label":W.a.pages.Dashboard.Settings.Variables.Edit.QueryVariable.selectors.queryOptionsQueryInput}))},t}(d.PureComponent);function Bt(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t;return Object(a.__generator)(this,function(n){switch(n.label){case 0:return[4,Object(_.b)(e)];case 1:return(t=n.sent()).components.VariableQueryEditor?[2,t.components.VariableQueryEditor]:[2,$t]}})})}function Ut(e){var t=this;return{restrict:"E",link:function(n,r){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,i;return Object(a.__generator)(this,function(o){switch(o.label){case 0:return[4,Bt(n.currentDatasource.meta)];case 1:return t=o.sent(),i={datasource:n.currentDatasource,query:n.current.query,onChange:n.onQueryChange,templateSrv:e},h.a.render(p.a.createElement(t,Object(a.__assign)({},i)),r[0]),n.$on("$destroy",function(){h.a.unmountComponentAtNode(r[0])}),[2]}})})}}}k.c.directive("variableQueryEditorLoader",Ut);var qt=function(){function e(e,t,n,a,r,i,o,s){var l=this;this.$location=a,this.$timeout=i,this.contextSrv=o,this.$rootScope=s,this.$location=a,this.$window=r,this.current=e,this.originalPath=a.path(),this.scope=t,t.onAppEvent(S.CoreEvents.dashboardSaved,function(){l.original=l.current.getSaveModelClone(),l.originalPath=a.path()}),r.onbeforeunload=function(){if(!l.ignoreChanges())return l.hasChanges()?"There are unsaved changes to this dashboard":void 0},t.$on("$locationChangeStart",function(e,t){return l.originalPath===a.path()||(!!l.ignoreChanges()||(l.hasChanges()&&(e.preventDefault(),l.next=t,l.$timeout(function(){l.open_modal()})),!1))}),n&&!e.meta.fromExplore?this.$timeout(function(){l.original=e.getSaveModelClone()},n):this.original=e.getSaveModelClone()}return e.$inject=["dashboard","scope","originalCopyDelay","$location","$window","$timeout","contextSrv","$rootScope"],e.prototype.ignoreChanges=function(){if(!this.original)return!0;if(!this.contextSrv.isEditor)return!0;if(!this.current||!this.current.meta)return!0;var e=this.current.meta;return!e.canSave||e.fromScript||e.fromFile},e.prototype.cleanDashboardFromIgnoredChanges=function(e){var t=new Re.a(e);t.expandRows();var n=t.getSaveModelClone();return n.time=0,n.refresh=0,n.schemaVersion=0,delete n.iteration,n.panels=o.a.filter(n.panels,function(e){return!e.repeatPanelId&&(e.scopedVars=null,e.legend&&(delete e.legend.sort,delete e.legend.sortDesc),!0)}),o.a.each(n.templating.list,function(e){e.current=null,e.options=null,e.filters=null}),n},e.prototype.hasChanges=function(){var e=this.cleanDashboardFromIgnoredChanges(this.current.getSaveModelClone()),t=this.cleanDashboardFromIgnoredChanges(this.original),n=o.a.find(e.nav,{type:"timepicker"}),a=o.a.find(t.nav,{type:"timepicker"});return n&&a&&(n.now=a.now),u.a.toJson(e,!0)!==u.a.toJson(t,!0)},e.prototype.discardChanges=function(){this.original=null,this.gotoNext()},e.prototype.open_modal=function(){this.$rootScope.appEvent(S.CoreEvents.showModal,{templateHtml:'<unsaved-changes-modal dismiss="dismiss()"></unsaved-changes-modal>',modalClass:"modal--narrow confirm-modal"})},e.prototype.saveChanges=function(){var e=this,t=this,n=this.$rootScope.$on("dashboard-saved",function(){n(),e.$timeout(function(){t.gotoNext()})});this.$rootScope.appEvent(S.CoreEvents.saveDashboard)},e.prototype.gotoNext=function(){var e=this.$location.absUrl().length-this.$location.url().length,t=this.next.substring(e);this.$location.url(t)},e}();function zt(e,t,n,a,r,i){this.init=function(r,o){return this.tracker=new qt(r,o,1e3,t,i,n,a,e),this.tracker}}u.a.module("grafana.services").service("unsavedChangesSrv",zt);var Ht=n("wd/R"),Gt=n.n(Ht),Wt=n("h3Ht"),Qt=function(){function e(e,t,n,a,r,i,o,s){this.backendSrv=e,this.dashboardSrv=t,this.datasourceSrv=n,this.$http=a,this.$timeout=r,this.$routeParams=o,this.$rootScope=s}return e.$inject=["backendSrv","dashboardSrv","datasourceSrv","$http","$timeout","contextSrv","$routeParams","$rootScope"],e.prototype._dashboardLoadFailed=function(e,t){return{meta:{canStar:!1,isSnapshot:t=t||!1,canDelete:!1,canSave:!1,canEdit:!1,dashboardNotFound:!0},dashboard:{title:e}}},e.prototype.loadDashboard=function(e,t,n){var a,r=this;return(a="script"===e?this._loadScriptedDashboard(t):"snapshot"===e?this.backendSrv.get("/api/snapshots/"+t).catch(function(){return r._dashboardLoadFailed("Snapshot not found",!0)}):this.backendSrv.getDashboardByUid(n).then(function(e){if(e.meta.isFolder)throw r.$rootScope.appEvent(v.AppEvents.alertError,["Dashboard not found"]),new Error("Dashboard not found");return e}).catch(function(){return r._dashboardLoadFailed("Not found",!0)})).then(function(e){return!0!==e.meta.dashboardNotFound&&Wt.a.addDashboardImpression(e.dashboard.id),e}),a},e.prototype._loadScriptedDashboard=function(e){var t=this,n="public/dashboards/"+e.replace(/\.(?!js)/,"/")+"?"+(new Date).getTime();return this.$http({url:n,method:"GET"}).then(this._executeScript.bind(this)).then(function(e){return{meta:{fromScript:!0,canDelete:!1,canSave:!1,canStar:!1},dashboard:e.data}},function(e){return console.log("Script dashboard error "+e),t.$rootScope.appEvent(v.AppEvents.alertError,["Script Error","Please make sure it exists and returns a valid dashboard"]),t._dashboardLoadFailed("Scripted dashboard")})},e.prototype._executeScript=function(e){var t=this,n={dashboardSrv:this.dashboardSrv,datasourceSrv:this.datasourceSrv},a=new Function("ARGS","kbn","dateMath","_","moment","window","document","$","jQuery","services",e.data)(this.$routeParams,Tt.a,v.dateMath,o.a,Gt.a,window,document,l.a,l.a,n);return o.a.isFunction(a)?new Promise(function(e){a(function(n){t.$timeout(function(){e({data:n})})})}):{data:a}},e}();u.a.module("grafana.services").service("dashboardLoaderSrv",Qt);var Yt={"external link":"fa-external-link",dashboard:"fa-th-large",question:"fa-question",info:"fa-info",bolt:"fa-bolt",doc:"fa-file-text-o",cloud:"fa-cloud"},Kt=function(){function e(e,t){var n=this;this.emptyListCta={title:"There are no dashboard links added yet",buttonIcon:"gicon gicon-link",buttonTitle:"Add Dashboard Link",infoBox:{__html:"<p>\n      Dashboard Links allow you to place links to other dashboards and web sites directly in below the dashboard\n      header.\n    </p>"},infoBoxTitle:"What are Dashboard Links?"},this.setupNew=function(){n.mode="new",n.link={type:"dashboards",icon:"external link"}},this.iconMap=Yt,this.dashboard.links=this.dashboard.links||[],this.mode="list",e.$on("$destroy",function(){t.appEvent(S.CoreEvents.dashLinksUpdated)})}return e.$inject=["$scope","$rootScope"],e.prototype.backToList=function(){this.mode="list"},e.prototype.addLink=function(){this.dashboard.links.push(this.link),this.mode="list",this.dashboard.updateSubmenuVisibility()},e.prototype.editLink=function(e){this.link=e,this.mode="edit",console.log(this.link)},e.prototype.saveLink=function(){this.backToList()},e.prototype.moveLink=function(e,t){o.a.move(this.dashboard.links,e,e+t)},e.prototype.deleteLink=function(e){this.dashboard.links.splice(e,1),this.dashboard.updateSubmenuVisibility()},e}();function Jt(e,t,n){return{restrict:"E",link:function(a,r){var i=a.link,o=a.dashboard,s='<div class="gf-form"><a class="pointer gf-form-label" data-placement="bottom"'+(i.asDropdown?' ng-click="fillDropdown(link)" data-toggle="dropdown"':"")+"><i></i> <span></span></a>";function l(){var e=n.getAnchorInfo(i),o=r.find("a");r.find("span").text(e.title),i.asDropdown||(o.attr("href",e.href),function(){var e=r.find("a"),n=t(e.parent().html());e.parent().html(n)}()),o.attr("data-placement","bottom"),o.tooltip({title:t(a.link.tooltip),html:!0,container:"body"})}i.asDropdown&&(s+='<ul class="dropdown-menu" role="menu"><li ng-repeat="dash in link.searchHits"><a href="{{dash.url}}" target="{{dash.target}}">{{dash.title}}</a></li></ul>'),s+="</div>",r.html(s),e(r.contents())(a),r.find("i").attr("class","fa fa-fw "+a.link.icon),r.find("a").attr("target",a.link.target),i.asDropdown&&a.$last&&r.find(".dropdown-menu").addClass("pull-right"),l(),o.events.on(v.PanelEvents.refresh,l,a)}}}u.a.module("grafana.directives").directive("dashLinksEditor",function(){return{restrict:"E",controller:Kt,templateUrl:"public/app/features/dashboard/components/DashLinks/editor.html",bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}});var Zt=function(){function e(e,t,n,a,r){var i=a.getCurrent().id;function s(t){return"dashboards"===t.type?t.tags?t.asDropdown?Promise.resolve([{title:t.title,tags:t.tags,keepTime:t.keepTime,includeVars:t.includeVars,target:t.targetBlank?"_blank":"_self",icon:"fa fa-bars",asDropdown:!0}]):e.searchDashboards(t,7):(console.log("Dashboard link missing tag"),Promise.resolve([])):"link"===t.type?Promise.resolve([{url:t.url,title:t.title,icon:Yt[t.icon],tooltip:t.tooltip,target:t.targetBlank?"_blank":"_self",keepTime:t.keepTime,includeVars:t.includeVars}]):Promise.resolve([])}function l(){var t=o.a.map(e.links,s);Promise.all(t).then(function(t){e.generatedLinks=o.a.flatten(t)})}e.searchDashboards=function(e,t){return n.search({tag:e.tags,limit:t}).then(function(t){return o.a.reduce(t,function(t,n){return n.id!==i&&t.push({title:n.title,url:n.url,target:"_self"===e.target?"":e.target,icon:"fa fa-th-large",keepTime:e.keepTime,includeVars:e.includeVars}),t},[])})},e.fillDropdown=function(t){e.searchDashboards(t,100).then(function(e){o.a.each(e,function(e){e.url=r.getLinkUrl(e)}),t.searchHits=e})},l(),t.onAppEvent(S.CoreEvents.dashLinksUpdated,l,e)}return e.$inject=["$scope","$rootScope","backendSrv","dashboardSrv","linkSrv"],e}();u.a.module("grafana.directives").directive("dashLinksContainer",function(){return{scope:{links:"=",dashboard:"="},restrict:"E",controller:"DashLinksContainerCtrl",template:'<dash-link ng-repeat="link in generatedLinks" link="link"></dash-link>',link:function(){}}}),u.a.module("grafana.directives").directive("dashLink",Jt),u.a.module("grafana.directives").controller("DashLinksContainerCtrl",Zt);var Xt=function(){function e(e){this.datasourceSrv=e}return e.prototype.makeExportable=function(e){var t,n,r,i,s,l,c,u,d,p,f=this;e.cleanUpRepeats();var h=e.getSaveModelClone();h.id=null,e.processRepeats();var g=[],b={},v={},y=[],w={};try{for(var x=Object(a.__values)(h.templating.list),O=x.next();!O.done;O=x.next()){var _=O.value;w[_.name]=_}}catch(e){t={error:e}}finally{try{O&&!O.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}var k=function(e){var t=e.datasource,n=null;t&&0===t.indexOf("$")&&(n=w[t.substring(1)])&&n.current&&(t=n.current.value),y.push(f.datasourceSrv.get(t).then(function(t){if(!t.meta.builtIn&&(b["datasource"+t.meta.id]={type:"datasource",id:t.meta.id,name:t.meta.name,version:t.meta.info.version||"1.0.0"},!n)){var a="DS_"+t.name.replace(" ","_").toUpperCase();v[a]={name:a,label:t.name,description:"",type:"datasource",pluginId:t.meta.id,pluginName:t.meta.name},e.datasource="${"+a+"}"}}))},j=function(e){var t,n;if(void 0!==e.datasource&&k(e),e.targets)try{for(var r=Object(a.__values)(e.targets),i=r.next();!i.done;i=r.next()){var o=i.value;void 0!==o.datasource&&k(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}var s=m.b.panels[e.type];s&&(b["panel"+s.id]={type:"panel",id:s.id,name:s.name,version:s.info.version})};try{for(var C=Object(a.__values)(h.panels),S=C.next();!S.done;S=C.next()){var E=S.value;if(j(E),void 0!==E.collapsed&&!0===E.collapsed&&E.panels)try{for(var T=(s=void 0,Object(a.__values)(E.panels)),M=T.next();!M.done;M=T.next()){j(M.value)}}catch(e){s={error:e}}finally{try{M&&!M.done&&(l=T.return)&&l.call(T)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{S&&!S.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}try{for(var A=Object(a.__values)(h.templating.list),N=A.next();!N.done;N=A.next()){"query"===(_=N.value).type&&(k(_),_.options=[],_.current={},_.refresh=_.refresh>0?_.refresh:1)}}catch(e){c={error:e}}finally{try{N&&!N.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}try{for(var D=Object(a.__values)(h.annotations.list),I=D.next();!I.done;I=D.next()){var P=I.value;k(P)}}catch(e){d={error:e}}finally{try{I&&!I.done&&(p=D.return)&&p.call(D)}finally{if(d)throw d.error}}return b.grafana={type:"grafana",id:"grafana",name:"Grafana",version:m.b.buildInfo.version},Promise.all(y).then(function(){var e,t;o.a.each(v,function(e){g.push(e)});try{for(var n=Object(a.__values)(h.templating.list),r=n.next();!r.done;r=n.next()){var i=r.value;if("constant"===i.type){var s="VAR_"+i.name.replace(" ","_").toUpperCase();g.push({name:s,type:"constant",label:i.label||i.name,value:i.current.value,description:""}),i.query="${"+s+"}",i.options[0]=i.current={value:i.query,text:i.query}}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}var l={};return l.__inputs=g,l.__requires=o.a.sortBy(b,["id"]),o.a.defaults(l,h),l}).catch(function(e){return console.log("Export failed:",e),{error:e}})},e}(),en=function(){function e(e,t,n,a){this.dashboardSrv=e,this.$scope=n,this.$rootScope=a,this.exporter=new Xt(t),this.dash=this.dashboardSrv.getCurrent()}return e.$inject=["dashboardSrv","datasourceSrv","$scope","$rootScope"],e.prototype.saveDashboardAsFile=function(){var e=this;this.shareExternally?this.exporter.makeExportable(this.dash).then(function(t){e.$scope.$apply(function(){e.openSaveAsDialog(t)})}):this.openSaveAsDialog(this.dash.getSaveModelClone())},e.prototype.viewJson=function(){var e=this;this.shareExternally?this.exporter.makeExportable(this.dash).then(function(t){e.$scope.$apply(function(){e.openJsonModal(t)})}):this.openJsonModal(this.dash.getSaveModelClone())},e.prototype.openSaveAsDialog=function(e){var t=new Blob([u.a.toJson(e,!0)],{type:"application/json;charset=utf-8"});Object(r.saveAs)(t,e.title+"-"+(new Date).getTime()+".json")},e.prototype.openJsonModal=function(e){var t={object:e,enableCopy:!0};this.$rootScope.appEvent(S.CoreEvents.showModal,{src:"public/app/partials/edit_json.html",model:t}),this.dismiss()},e}();k.c.directive("dashExportModal",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/DashExportModal/template.html",controller:en,bindToController:!0,controllerAs:"ctrl",scope:{dismiss:"&"}}});n("hfOi");var tn=n("FO4H"),nn=function(){function e(e){this.dashboardSrv=e,this.asRows=!0,this.dateTimeFormat="YYYY-MM-DDTHH:mm:ssZ",this.excel=!1}return e.$inject=["dashboardSrv"],e.prototype.export=function(){var e=this.dashboardSrv.getCurrent().timezone,t={excel:this.excel,dateTimeFormat:this.dateTimeFormat,timezone:e};"table"===this.panel?tn.exportTableDataToCsv(this.data,this.excel):this.asRows?tn.exportSeriesListToCsv(this.data,t):tn.exportSeriesListToCsvColumns(this.data,t),this.dismiss()},e.prototype.dismiss=function(){y.b.emit(S.CoreEvents.hideModal)},e}();u.a.module("grafana.directives").directive("exportDataModal",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/ExportDataModal/template.html",controller:nn,controllerAs:"ctrl",scope:{panel:"<",data:"<"},bindToController:!0}});var an=function(){function e(e,t,n){this.backendSrv=e,this.validationSrv=t,this.contextSrv=n,this.rootName="General",this.isEditor=this.contextSrv.isEditor,this.labelClass||(this.labelClass="width-7"),this.loadInitialValue()}return e.$inject=["backendSrv","validationSrv","contextSrv"],e.prototype.getOptions=function(e){var t=this,n={query:e,type:"dash-folder",permission:"Edit"};return this.backendSrv.get("api/search",n).then(function(n){return!t.isEditor||""!==e&&"g"!==e.toLowerCase()&&"ge"!==e.toLowerCase()&&"gen"!==e.toLowerCase()&&"gene"!==e.toLowerCase()&&"gener"!==e.toLowerCase()&&"genera"!==e.toLowerCase()&&"general"!==e.toLowerCase()||n.unshift({title:t.rootName,id:0}),t.isEditor&&t.enableCreateNew&&""===e&&n.unshift({title:"-- New Folder --",id:-1}),t.enableReset&&""===e&&""!==t.initialTitle&&n.unshift({title:t.initialTitle,id:null}),o.a.map(n,function(e){return{text:e.title,value:e.id}})})},e.prototype.onFolderChange=function(e){if(e){if(-1===e.value)return this.createNewFolder=!0,void this.enterFolderCreation()}else e={value:0,text:this.rootName};this.onChange({$folder:{id:e.value,title:e.text}})},e.prototype.newFolderNameChanged=function(){var e=this;this.newFolderNameTouched=!0,this.validationSrv.validateNewFolderName(this.newFolderName).then(function(){e.hasValidationError=!1}).catch(function(t){e.hasValidationError=!0,e.validationError=t.message})},e.prototype.createFolder=function(e){var t=this;return e&&(e.stopPropagation(),e.preventDefault()),this.backendSrv.createFolder({title:this.newFolderName}).then(function(e){y.b.emit(v.AppEvents.alertSuccess,["Folder Created","OK"]),t.closeCreateFolder(),t.folder={text:e.title,value:e.id},t.onFolderChange(t.folder)})},e.prototype.cancelCreateFolder=function(e){e&&(e.stopPropagation(),e.preventDefault()),this.closeCreateFolder(),this.loadInitialValue()},e.prototype.closeCreateFolder=function(){this.exitFolderCreation(),this.createNewFolder=!1,this.hasValidationError=!1,this.validationError=null,this.newFolderName="",this.newFolderNameTouched=!1},e.prototype.loadInitialValue=function(){var e=this,t={text:this.initialTitle,value:null},n={text:this.rootName,value:0};this.getOptions("").then(function(a){var r;(e.initialFolderId?r=o.a.find(a,{value:e.initialFolderId}):e.enableReset&&e.initialTitle&&null===e.initialFolderId&&(r=t),r)||(r=e.isEditor?n:!!e.dashboardId?t:a.length>0?a[0]:t);e.folder=r,e.folder.value!==e.initialFolderId&&e.onChange({$folder:{id:e.folder.value,title:e.folder.text}})})},e}();k.c.directive("folderPicker",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/FolderPicker/template.html",controller:an,bindToController:!0,controllerAs:"ctrl",scope:{initialTitle:"<",initialFolderId:"<",labelClass:"@",rootName:"@",onChange:"&",onCreateFolder:"&",enterFolderCreation:"&",exitFolderCreation:"&",enableCreateNew:"@",enableReset:"@",dashboardId:"<?"}}});var rn=function(){function e(e,t,n,a,r){this.$route=e,this.$rootScope=t,this.$location=n,this.historySrv=a,this.$scope=r,this.appending=!1,this.diff="basic",this.limit=10,this.loading=!1,this.max=2,this.mode="list",this.start=0,this.canCompare=!1,this.$rootScope.onAppEvent(S.CoreEvents.dashboardSaved,this.onDashboardSaved.bind(this),r),this.resetFromSource()}return e.$inject=["$route","$rootScope","$location","historySrv","$scope"],e.prototype.onDashboardSaved=function(){this.resetFromSource()},e.prototype.switchMode=function(e){this.mode=e,"list"===this.mode&&this.reset()},e.prototype.dismiss=function(){this.$rootScope.appEvent(S.CoreEvents.hideDashEditor)},e.prototype.addToLog=function(){this.start=this.start+this.limit,this.getLog(!0)},e.prototype.revisionSelectionChanged=function(){var e=o.a.filter(this.revisions,{checked:!0}).length;this.canCompare=2===e},e.prototype.formatDate=function(e){return this.dashboard.formatDate(e)},e.prototype.formatBasicDate=function(e){var t="browser"===this.dashboard.timezone?Object(v.dateTime)():Object(v.toUtc)();return("browser"===this.dashboard.timezone?Object(v.dateTime)(e):Object(v.toUtc)(e)).from(t)},e.prototype.getDiff=function(e){var t=this;if(this.diff=e,this.mode="compare",this.delta[e])return Promise.resolve(this.delta[e]);var n=o.a.filter(this.revisions,{checked:!0});this.newInfo=n[0],this.baseInfo=n[1],this.isNewLatest=this.newInfo.version===this.dashboard.version,this.loading=!0;var a={new:{dashboardId:this.dashboard.id,version:this.newInfo.version},base:{dashboardId:this.dashboard.id,version:this.baseInfo.version},diffType:e};return this.historySrv.calculateDiff(a).then(function(e){t.delta[t.diff]=e}).catch(function(){t.mode="list"}).finally(function(){t.loading=!1})},e.prototype.getLog=function(e){var t=this;void 0===e&&(e=!1),this.loading=!e,this.appending=e;var n={limit:this.limit,start:this.start};return this.historySrv.getHistoryList(this.dashboard,n).then(function(n){var r,i;try{for(var o=Object(a.__values)(n),s=o.next();!s.done;s=o.next()){var l=s.value;l.createdDateString=t.formatDate(l.created),l.ageString=t.formatBasicDate(l.created),l.checked=!1}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}t.revisions=e?t.revisions.concat(n):n}).catch(function(e){t.loading=!1}).finally(function(){t.loading=!1,t.appending=!1})},e.prototype.isLastPage=function(){return o.a.find(this.revisions,function(e){return 1===e.version})},e.prototype.reset=function(){this.delta={basic:"",json:""},this.diff="basic",this.mode="list",this.revisions=o.a.map(this.revisions,function(e){return o.a.extend({},e,{checked:!1})}),this.canCompare=!1,this.start=0,this.isNewLatest=!1},e.prototype.resetFromSource=function(){return this.revisions=[],this.getLog().then(this.reset.bind(this))},e.prototype.restore=function(e){this.$rootScope.appEvent(S.CoreEvents.showConfirmModal,{title:"Restore version",text:"",text2:"Are you sure you want to restore the dashboard to version "+e+"? All unsaved changes will be lost.",icon:"fa-history",yesText:"Yes, restore to version "+e,onConfirm:this.restoreConfirm.bind(this,e)})},e.prototype.restoreConfirm=function(e){var t=this;return this.loading=!0,this.historySrv.restoreDashboard(this.dashboard,e).then(function(n){t.$location.url(C.a.stripBaseFromUrl(n.url)).replace(),t.$route.reload(),t.$rootScope.appEvent(v.AppEvents.alertSuccess,["Dashboard restored","Restored from version "+e])}).catch(function(){t.mode="list",t.loading=!1})},e}();u.a.module("grafana.directives").directive("gfDashboardHistory",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/VersionHistory/template.html",controller:rn,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}});var on=function(){function e(e){this.backendSrv=e}return e.$inject=["backendSrv"],e.prototype.getHistoryList=function(e,t){var n=e&&e.id?e.id:void 0;return n?this.backendSrv.get("api/dashboards/id/"+n+"/versions",t):Promise.resolve([])},e.prototype.calculateDiff=function(e){return this.backendSrv.post("api/dashboards/calculate-diff",e)},e.prototype.restoreDashboard=function(e,t){var n=e&&e.id?e.id:void 0,a="api/dashboards/id/"+n+"/restore";return n&&o.a.isNumber(t)?this.backendSrv.post(a,{version:t}):Promise.resolve({})},e}();k.c.service("historySrv",on);n("2t1j"),n("PVeq");var sn='\n<div class="modal-body">\n  <div class="modal-header">\n    <h2 class="modal-header-title">\n      <i class="fa fa-exclamation"></i>\n      <span class="p-l-1">Unsaved changes</span>\n    </h2>\n\n    <a class="modal-header-close" ng-click="ctrl.dismiss();">\n      <i class="fa fa-remove"></i>\n    </a>\n  </div>\n\n  <div class="modal-content text-center">\n\n    <div class="confirm-modal-text">\n      Do you want to save your changes?\n    </div>\n\n    <div class="confirm-modal-buttons">\n      <button type="button" class="btn btn-primary" ng-click="ctrl.save()">Save</button>\n      <button type="button" class="btn btn-danger" ng-click="ctrl.discard()">Discard</button>\n      <button type="button" class="btn btn-inverse" ng-click="ctrl.dismiss()">Cancel</button>\n    </div>\n  </div>\n</div>\n',ln=function(){function e(e){this.unsavedChangesSrv=e}return e.$inject=["unsavedChangesSrv"],e.prototype.discard=function(){this.dismiss(),this.unsavedChangesSrv.tracker.discardChanges()},e.prototype.save=function(){this.dismiss(),this.unsavedChangesSrv.tracker.saveChanges()},e}();k.c.directive("unsavedChangesModal",function(){return{restrict:"E",template:sn,controller:ln,bindToController:!0,controllerAs:"ctrl",scope:{dismiss:"&"}}});var cn='\n<div class="modal-body">\n\t<div class="modal-header">\n\t\t<h2 class="modal-header-title">\n\t\t\t<i class="fa fa-copy"></i>\n\t\t\t<span class="p-l-1">Save As...</span>\n\t\t</h2>\n\n\t\t<a class="modal-header-close" ng-click="ctrl.dismiss();">\n\t\t\t<i class="fa fa-remove"></i>\n\t\t</a>\n\t</div>\n\n\t<form name="ctrl.saveForm" class="modal-content" novalidate>\n\t\t<div class="p-t-2">\n\t\t\t<div class="gf-form">\n\t\t\t\t<label class="gf-form-label width-8">New name</label>\n\t\t\t\t<input type="text" class="gf-form-input" ng-model="ctrl.clone.title" give-focus="true" required aria-label="Save dashboard title field">\n\t\t\t</div>\n      <folder-picker initial-folder-id="ctrl.folderId"\n                       on-change="ctrl.onFolderChange($folder)"\n                       enter-folder-creation="ctrl.onEnterFolderCreation()"\n                       exit-folder-creation="ctrl.onExitFolderCreation()"\n                       enable-create-new="true"\n                       label-class="width-8"\n                       dashboard-id="ctrl.clone.id">\n      </folder-picker>\n      <div class="gf-form-inline">\n        <gf-form-switch class="gf-form" label="Copy tags" label-class="width-8" checked="ctrl.copyTags">\n        </gf-form-switch>\n      </div>\n\t\t</div>\n\n\t\t<div class="gf-form-button-row text-center">\n      <button\n        type="submit"\n        class="btn btn-primary"\n        ng-click="ctrl.save()"\n        ng-disabled="!ctrl.isValidFolderSelection"\n        aria-label="Save dashboard button">\n        Save\n      </button>\n\t\t\t<a class="btn-text" ng-click="ctrl.dismiss();">Cancel</a>\n\t\t</div>\n\t</form>\n</div>\n',un=function(){function e(e){this.dashboardSrv=e,this.isValidFolderSelection=!0;var t=this.dashboardSrv.getCurrent();this.clone=t.getSaveModelClone(),this.clone.id=null,this.clone.uid="",this.clone.title+=" Copy",this.clone.editable=!0,this.clone.hideControls=!1,this.folderId=t.meta.folderId,this.copyTags=!1,t.id>0&&this.clone.panels.forEach(function(e){"graph"===e.type&&e.alert&&delete e.thresholds,delete e.alert}),delete this.clone.autoUpdate}return e.$inject=["dashboardSrv"],e.prototype.save=function(){return this.copyTags||(this.clone.tags=[]),this.dashboardSrv.save(this.clone,{folderId:this.folderId}).then(this.dismiss)},e.prototype.keyDown=function(e){13===e.keyCode&&this.save()},e.prototype.onFolderChange=function(e){this.folderId=e.id},e.prototype.onEnterFolderCreation=function(){this.isValidFolderSelection=!1},e.prototype.onExitFolderCreation=function(){this.isValidFolderSelection=!0},e}();k.c.directive("saveDashboardAsModal",function(){return{restrict:"E",template:cn,controller:un,bindToController:!0,controllerAs:"ctrl",scope:{dismiss:"&"}}});var dn='\n<div class="modal-body">\n  <div class="modal-header">\n    <h2 class="modal-header-title">\n      <i class="fa fa-save"></i>\n      <span class="p-l-1">Save changes</span>\n    </h2>\n\n    <a class="modal-header-close" ng-click="ctrl.dismiss();">\n      <i class="fa fa-remove"></i>\n    </a>\n  </div>\n\n  <form name="ctrl.saveForm" ng-submit="ctrl.save()" class="modal-content" novalidate>\n    <div class="p-t-1">\n      <div class="gf-form-group" ng-if="ctrl.timeChange || ctrl.variableValueChange">\n\t\t    <gf-form-switch class="gf-form"\n\t\t\t    label="Save current time range" ng-if="ctrl.timeChange" label-class="width-12" switch-class="max-width-6"\n\t\t\t    checked="ctrl.saveTimerange" on-change="buildUrl()">\n\t\t    </gf-form-switch>\n\t\t    <gf-form-switch class="gf-form"\n\t\t\t    label="Save current variables" ng-if="ctrl.variableValueChange" label-class="width-12" switch-class="max-width-6"\n\t\t\t    checked="ctrl.saveVariables" on-change="buildUrl()">\n\t\t    </gf-form-switch>\n\t    </div>\n      <div class="gf-form">\n        <label class="gf-form-hint">\n          <input\n            type="text"\n            name="message"\n            class="gf-form-input"\n            placeholder="Add a note to describe your changes &hellip;"\n            give-focus="true"\n            ng-model="ctrl.message"\n            ng-model-options="{allowInvalid: true}"\n            ng-maxlength="this.max"\n            maxlength="64"\n            autocomplete="off" />\n          <small class="gf-form-hint-text muted" ng-cloak>\n            <span ng-class="{\'text-error\': ctrl.saveForm.message.$invalid && ctrl.saveForm.message.$dirty }">\n              {{ctrl.message.length || 0}}\n            </span>\n            / {{ctrl.max}} characters\n          </small>\n        </label>\n      </div>\n    </div>\n\n    <div class="gf-form-button-row text-center">\n      <button\n        id="saveBtn"\n        type="submit"\n        class="btn btn-primary"\n        ng-class="{\'btn-primary--processing\': ctrl.isSaving}"\n        ng-disabled="ctrl.saveForm.$invalid || ctrl.isSaving"\n        aria-label={{ctrl.selectors.save}}\n      >\n        <span ng-if="!ctrl.isSaving">Save</span>\n        <span ng-if="ctrl.isSaving === true">Saving...</span>\n      </button>\n      <button class="btn btn-inverse" ng-click="ctrl.dismiss();">Cancel</button>\n    </div>\n  </form>\n</div>\n',pn=function(){function e(e){this.dashboardSrv=e,this.saveVariables=!1,this.saveTimerange=!1,this.current=[],this.originalCurrent=[],this.timeChange=!1,this.variableValueChange=!1,this.message="",this.max=64,this.isSaving=!1,this.timeChange=this.dashboardSrv.getCurrent().hasTimeChanged(),this.variableValueChange=this.dashboardSrv.getCurrent().hasVariableValuesChanged(),this.selectors=W.a.pages.SaveDashboardModal.selectors}return e.$inject=["dashboardSrv"],e.prototype.save=function(){if(this.saveForm.$valid){var e={saveVariables:this.saveVariables,saveTimerange:this.saveTimerange,message:this.message},t=this.dashboardSrv.getCurrent().getSaveModelClone(e);return this.isSaving=!0,this.dashboardSrv.save(t,e).then(this.postSave.bind(this,e))}},e.prototype.postSave=function(e){e.saveVariables&&this.dashboardSrv.getCurrent().resetOriginalVariables(),e.saveTimerange&&this.dashboardSrv.getCurrent().resetOriginalTime(),this.dismiss()},e}();k.c.directive("saveDashboardModal",function(){return{restrict:"E",template:dn,controller:pn,bindToController:!0,controllerAs:"ctrl",scope:{dismiss:"&"}}});var fn='\n<div class="modal-body">\n  <div class="modal-header">\n    <h2 class="modal-header-title">\n      <i class="fa fa-save"></i><span class="p-l-1">Cannot save provisioned dashboard</span>\n    </h2>\n\n    <a class="modal-header-close" ng-click="ctrl.dismiss();">\n      <i class="fa fa-remove"></i>\n    </a>\n  </div>\n\n  <div class="modal-content">\n    <small>\n      This dashboard cannot be saved from Grafana\'s UI since it has been provisioned from another source.\n      Copy the JSON or save it to a file below. Then you can update your dashboard in corresponding provisioning source.<br/>\n      <i>See <a class="external-link" href="http://docs.grafana.org/administration/provisioning/#dashboards" target="_blank">\n      documentation</a> for more information about provisioning.</i>\n    </small>\n    <div class="p-t-1">\n      File path: {{ctrl.dashboardModel.meta.provisionedExternalId}}\n    </div>\n    <div class="p-t-2">\n      <div class="gf-form">\n        <code-editor content="ctrl.dashboardJson" data-mode="json" data-max-lines=15></code-editor>\n      </div>\n      <div class="gf-form-button-row">\n        <button class="btn btn-primary" clipboard-button="ctrl.getJsonForClipboard()">\n          Copy JSON to Clipboard\n        </button>\n        <button class="btn btn-secondary" clipboard-button="ctrl.save()">\n          Save JSON to file\n        </button>\n        <a class="btn btn-link" ng-click="ctrl.dismiss();">Cancel</a>\n      </div>\n    </div>\n  </div>\n</div>\n',hn=function(){function e(e){this.dashboardModel=e.getCurrent(),this.dash=this.dashboardModel.getSaveModelClone(),delete this.dash.id,this.dashboardJson=u.a.toJson(this.dash,!0)}return e.$inject=["dashboardSrv"],e.prototype.save=function(){var e=new Blob([u.a.toJson(this.dash,!0)],{type:"application/json;charset=utf-8"});Object(r.saveAs)(e,this.dash.title+"-"+(new Date).getTime()+".json")},e.prototype.getJsonForClipboard=function(){return this.dashboardJson},e}();k.c.directive("saveProvisionedDashboardModal",function(){return{restrict:"E",template:fn,controller:hn,bindToController:!0,controllerAs:"ctrl",scope:{dismiss:"&"}}});var mn=n("0Mjz");function gn(e,t,n,a,r,i,o){e.options={forCurrent:!0,includeTemplateVars:!0,theme:"current"},e.editor={index:e.tabIndex||0},e.selectors=W.a.pages.SharePanelModal.selectors,e.init=function(){e.panel=e.model&&e.model.panel?e.model.panel:e.panel,e.dashboard=e.model&&e.model.dashboard?e.model.dashboard:e.dashboard,e.modeSharePanel=!!e.panel,e.tabs=[{title:"Link",src:"shareLink.html"}],e.modeSharePanel?(e.modalTitle="Share Panel",e.tabs.push({title:"Embed",src:"shareEmbed.html"})):e.modalTitle="Share",e.dashboard.meta.isSnapshot||e.tabs.push({title:"Snapshot",src:"shareSnapshot.html"}),e.dashboard.meta.isSnapshot||e.modeSharePanel||e.tabs.push({title:"Export",src:"shareExport.html"}),e.buildUrl()},e.buildUrl=function(){var t=n.absUrl(),a=t.indexOf("?");-1!==a&&(t=t.substring(0,a));var o=u.a.copy(n.search()),s=r.timeRange();o.from=s.from.valueOf(),o.to=s.to.valueOf(),o.orgId=m.b.bootData.user.orgId,e.options.includeTemplateVars&&i.fillVariableValuesForUrl(o),e.options.forCurrent||(delete o.from,delete o.to),"current"!==e.options.theme&&(o.theme=e.options.theme),e.modeSharePanel?(o.panelId=e.panel.id,o.fullscreen=!0):(delete o.panelId,delete o.fullscreen),e.shareUrl=Object(mn.a)(t,Object(mn.c)(o));var l=t.replace(m.b.appSubUrl+"/dashboard/",m.b.appSubUrl+"/dashboard-solo/");l=l.replace(m.b.appSubUrl+"/d/",m.b.appSubUrl+"/d-solo/"),delete o.fullscreen,delete o.edit,l=Object(mn.a)(l,Object(mn.c)(o)),e.iframeHtml='<iframe src="'+l+'" width="450" height="200" frameborder="0"></iframe>',e.imageUrl=l.replace(m.b.appSubUrl+"/dashboard-solo/",m.b.appSubUrl+"/render/dashboard-solo/"),e.imageUrl=e.imageUrl.replace(m.b.appSubUrl+"/d-solo/",m.b.appSubUrl+"/render/d-solo/"),e.imageUrl+="&width=1000&height=500"+e.getLocalTimeZone()},e.getLocalTimeZone=function(){var e="&tz=UTC"+encodeURIComponent(Object(v.dateTime)().format("Z"));if(!window.Intl)return e;var t=window.Intl.DateTimeFormat();if(!t.resolvedOptions)return e;var n=t.resolvedOptions();return n.timeZone?"&tz="+encodeURIComponent(n.timeZone):e},e.getShareUrl=function(){return e.shareUrl}}u.a.module("grafana.controllers").controller("ShareModalCtrl",gn);var bn=function(){function e(e,t,n,a,r,i){e.snapshot={name:e.dashboard.title,expires:0,timeoutSeconds:4},e.step=1,e.expireOptions=[{text:"1 Hour",value:3600},{text:"1 Day",value:86400},{text:"7 Days",value:604800},{text:"Never",value:0}],e.accessOptions=[{text:"Anyone with the link",value:1},{text:"Organization users",value:2},{text:"Public on the web",value:3}],e.init=function(){a.get("/api/snapshot/shared-options").then(function(t){e.sharingButtonText=t.externalSnapshotName,e.externalEnabled=t.externalEnabled})},e.apiUrl="/api/snapshots",e.createSnapshot=function(t){e.dashboard.snapshot={timestamp:new Date},t||(e.dashboard.snapshot.originalUrl=n.absUrl()),e.loading=!0,e.snapshot.external=t,e.dashboard.startRefresh(),r(function(){e.saveSnapshot(t)},1e3*e.snapshot.timeoutSeconds)},e.saveSnapshot=function(t){var n=e.dashboard.getSaveModelClone();e.scrubDashboard(n);var r={dashboard:n,name:n.title,expires:e.snapshot.expires,external:t};a.post(e.apiUrl,r).then(function(t){e.loading=!1,e.deleteUrl=t.deleteUrl,e.snapshotUrl=t.url,e.step=2},function(){e.loading=!1})},e.getSnapshotUrl=function(){return e.snapshotUrl},e.scrubDashboard=function(t){if(t.title=e.snapshot.name,t.time=i.timeRange(),o.a.each(t.panels,function(e){e.targets=[],e.links=[],e.datasource=null}),t.annotations.list=o.a.chain(t.annotations.list).filter(function(e){return e.enable}).map(function(e){return{name:e.name,enable:e.enable,iconColor:e.iconColor,snapshotData:e.snapshotData,type:e.type,builtIn:e.builtIn,hide:e.hide}}).value(),o.a.each(t.templating.list,function(e){e.query="",e.options=e.current,e.refresh=!1}),e.modeSharePanel){var n=e.panel.getSaveModel();n.gridPos.w=24,n.gridPos.x=0,n.gridPos.y=0,n.gridPos.h=20,t.panels=[n]}delete e.dashboard.snapshot,e.dashboard.forEachPanel(function(e){delete e.snapshotData}),o.a.each(e.dashboard.annotations.list,function(e){delete e.snapshotData})},e.deleteSnapshot=function(){a.get(e.deleteUrl).then(function(){e.step=3})}}return e.$inject=["$scope","$rootScope","$location","backendSrv","$timeout","timeSrv"],e}();u.a.module("grafana.controllers").controller("ShareSnapshotCtrl",bn);var vn=function(){function e(e,t,n,a){this.uiSegmentSrv=e,this.datasourceSrv=t,this.variableSrv=n,this.removeTagFilterSegment=e.newSegment({fake:!0,value:"-- remove filter --"}),this.buildSegmentModel(),this.dashboard.events.on(S.CoreEvents.templateVariableValueUpdated,this.buildSegmentModel.bind(this),a)}return e.$inject=["uiSegmentSrv","datasourceSrv","variableSrv","$scope"],e.prototype.buildSegmentModel=function(){var e,t;this.segments=[],this.variable.value&&o.a.isArray(this.variable.value);try{for(var n=Object(a.__values)(this.variable.filters),r=n.next();!r.done;r=n.next()){var i=r.value;this.segments.length>0&&this.segments.push(this.uiSegmentSrv.newCondition("AND")),void 0!==i.key&&void 0!==i.value&&(this.segments.push(this.uiSegmentSrv.newKey(i.key)),this.segments.push(this.uiSegmentSrv.newOperator(i.operator)),this.segments.push(this.uiSegmentSrv.newKeyValue(i.value)))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.segments.push(this.uiSegmentSrv.newPlusButton())},e.prototype.getOptions=function(e,t){var n=this;return"operator"===e.type?Promise.resolve(this.uiSegmentSrv.newOperators(["=","!=","<",">","=~","!~"])):"condition"===e.type?Promise.resolve([this.uiSegmentSrv.newSegment("AND")]):this.datasourceSrv.get(this.variable.datasource).then(function(a){var r={},i=null;return"value"!==e.type?i=a.getTagKeys?a.getTagKeys():Promise.resolve([]):(r.key=n.segments[t-2].value,i=a.getTagValues?a.getTagValues(r):Promise.resolve([])),i.then(function(t){return t=o.a.map(t,function(e){return n.uiSegmentSrv.newSegment({value:e.text})}),"key"===e.type&&t.splice(0,0,u.a.copy(n.removeTagFilterSegment)),t})})},e.prototype.segmentChanged=function(e,t){this.segments[t]=e,e.value===this.removeTagFilterSegment.value?(this.segments.splice(t,3),0===this.segments.length?this.segments.push(this.uiSegmentSrv.newPlusButton()):this.segments.length>2&&(this.segments.splice(Math.max(t-1,0),1),"plus-button"!==this.segments[this.segments.length-1].type&&this.segments.push(this.uiSegmentSrv.newPlusButton()))):("plus-button"===e.type&&(t>2&&this.segments.splice(t,0,this.uiSegmentSrv.newCondition("AND")),this.segments.push(this.uiSegmentSrv.newOperator("=")),this.segments.push(this.uiSegmentSrv.newFake("select value","value","query-segment-value")),e.type="key",e.cssClass="query-segment-key"),t+1===this.segments.length&&this.segments.push(this.uiSegmentSrv.newPlusButton())),this.updateVariableModel()},e.prototype.updateVariableModel=function(){var e=[],t=-1,n=!1;this.segments.forEach(function(a){if("value"===a.type&&a.fake)n=!0;else switch(a.type){case"key":e.push({key:a.value}),t+=1;break;case"value":e[t].value=a.value;break;case"operator":e[t].operator=a.value;break;case"condition":e[t].condition=a.value}}),n||(this.variable.setFilters(e),this.variableSrv.variableUpdated(this.variable,!0))},e}(),yn='\n<div class="gf-form-inline">\n  <div class="gf-form" ng-repeat="segment in ctrl.segments">\n    <metric-segment segment="segment" get-options="ctrl.getOptions(segment, $index)"\n                    on-change="ctrl.segmentChanged(segment, $index)"></metric-segment>\n  </div>\n</div>\n';k.c.directive("adHocFilters",function(){return{restrict:"E",template:yn,controller:vn,bindToController:!0,controllerAs:"ctrl",scope:{variable:"=",dashboard:"="}}});var wn=function(){function e(){this.source=this.row,this.row=this.row.getSaveModel()}return e.prototype.update=function(){this.source.title=this.row.title,this.source.repeat=this.row.repeat,this.onUpdated(),this.dismiss()},e}();j.c.directive("rowOptions",function(){return{restrict:"E",templateUrl:"public/app/features/dashboard/components/RowOptions/template.html",controller:wn,bindToController:!0,controllerAs:"ctrl",scope:{row:"=",dismiss:"&",onUpdated:"&"}}});var xn=n("BVom"),On=n("3p3q"),_n=n("wobk"),kn=n("QzbV"),jn=n("AI1G"),Cn=function(e){function t(t){var n=e.call(this,t)||this;return n.onOpenAddPermissions=function(){n.setState({isAdding:!0})},n.onRemoveItem=function(e){n.props.removeDashboardPermission(n.props.dashboardId,e)},n.onPermissionChanged=function(e,t){n.props.updateDashboardPermission(n.props.dashboardId,e,t)},n.onAddPermission=function(e){return n.props.addDashboardPermission(n.props.dashboardId,e)},n.onCancelAddPermission=function(){n.setState({isAdding:!1})},n.state={isAdding:!1},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.getDashboardPermissions(this.props.dashboardId)},t.prototype.render=function(){var e=this.props,t=e.permissions,n=e.folder,a=this.state.isAdding;return p.a.createElement("div",null,p.a.createElement("div",{className:"dashboard-settings__header"},p.a.createElement("div",{className:"page-action-bar"},p.a.createElement("h3",{className:"d-inline-block"},"Permissions"),p.a.createElement(D.Tooltip,{placement:"auto",content:p.a.createElement(kn.a,null)},p.a.createElement("div",{className:"page-sub-heading-icon"},p.a.createElement("i",{className:"gicon gicon-question gicon--has-hover"}))),p.a.createElement("div",{className:"page-action-bar__spacer"}),p.a.createElement("button",{className:"btn btn-primary pull-right",onClick:this.onOpenAddPermissions,disabled:a},"Add Permission"))),p.a.createElement(xn.a,{in:a},p.a.createElement(_n.a,{onAddPermission:this.onAddPermission,onCancel:this.onCancelAddPermission})),p.a.createElement(On.a,{items:t,onRemoveItem:this.onRemoveItem,onPermissionChanged:this.onPermissionChanged,isFetching:!1,folderInfo:n}))},t}(d.PureComponent),Sn={getDashboardPermissions:Pe.i,addDashboardPermission:Pe.a,removeDashboardPermission:Pe.m,updateDashboardPermission:Pe.p},En=Object(jn.a)(Cn,function(e){return{permissions:e.dashboard.permissions}},Sn),Tn=n("Q8uG");Object(Tn.a)("dashboardPermissions",En,["dashboardId","folder"]);var Mn=function(){function e(e,t,n){var a=this;this.$scope=e,this.backendSrv=t,this.navModel=n.getNav("dashboards","playlists",0),t.get("/api/playlists").then(function(e){a.playlists=e.map(function(e){return e.startUrl="playlists/play/"+e.id,e})})}return e.$inject=["$scope","backendSrv","navModelSrv"],e.prototype.removePlaylistConfirmed=function(e){var t=this;o.a.remove(this.playlists,{id:e.id}),this.backendSrv.delete("/api/playlists/"+e.id).then(function(){t.$scope.appEvent(v.AppEvents.alertSuccess,["Playlist deleted"])},function(){t.$scope.appEvent(v.AppEvents.alertError,["Unable to delete playlist"]),t.playlists.push(e)})},e.prototype.removePlaylist=function(e){var t=this;this.$scope.appEvent(S.CoreEvents.showConfirmModal,{title:"Delete",text:"Are you sure you want to delete playlist "+e.name+"?",yesText:"Delete",icon:"fa-trash",onConfirm:function(){t.removePlaylistConfirmed(e)}})},e}();k.c.controller("PlaylistsCtrl",Mn);var An=function(){function e(e,t){var n=this;this.backendSrv=t,this.query={query:"",tag:[],starred:!1,limit:20},e(function(){n.query.query="",n.query.type="dash-db",n.searchDashboards()},100)}return e.$inject=["$timeout","backendSrv"],e.prototype.searchDashboards=function(){this.tagsMode=!1;var e={};e.promise=this.backendSrv.search(this.query).then(function(e){return{dashboardResult:e,tagResult:[]}}),this.searchStarted(e)},e.prototype.showStarred=function(){this.query.starred=!this.query.starred,this.searchDashboards()},e.prototype.queryHasNoFilters=function(){return""===this.query.query&&!1===this.query.starred&&0===this.query.tag.length},e.prototype.filterByTag=function(e,t){this.query.tag.push(e),this.searchDashboards(),t&&(t.stopPropagation(),t.preventDefault())},e.prototype.getTags=function(){var e={};e.promise=this.backendSrv.get("/api/dashboards/tags").then(function(e){return{dashboardResult:[],tagResult:e}}),this.searchStarted(e)},e}();k.c.directive("playlistSearch",function(){return{restrict:"E",templateUrl:"public/app/features/playlist/partials/playlist_search.html",controller:An,bindToController:!0,controllerAs:"ctrl",scope:{searchStarted:"&"}}});var Nn={kiosk:!0,autofitpanels:!0,orgId:!0},Dn=function(){function e(e,t,n){this.$location=e,this.$timeout=t,this.backendSrv=n,this.numberOfLoops=0}return e.$inject=["$location","$timeout","backendSrv"],e.prototype.next=function(){var e=this;if(this.$timeout.cancel(this.cancelPromise),this.index>this.dashboards.length-1){if(this.numberOfLoops++,this.numberOfLoops>=3)return void(window.location.href=this.startUrl);this.index=0}var t=this.dashboards[this.index],n=this.$location.search(),a=o.a.pickBy(n,function(e,t){return Nn[t]}),r=C.a.stripBaseFromUrl(t.url);this.$timeout(function(){e.$location.url(r+"?"+Object(mn.c)(a))}),this.index++,this.validPlaylistUrl=r,this.cancelPromise=this.$timeout(function(){return e.next()},this.interval)},e.prototype.prev=function(){this.index=Math.max(this.index-2,0),this.next()},e.prototype.storeUpdated=function(){A.b.getState().location.path!==this.validPlaylistUrl&&this.stop()},e.prototype.start=function(e){var t=this;return this.stop(),this.startUrl=window.location.href,this.index=0,this.isPlaying=!0,this.storeUnsub=A.b.subscribe(function(){return t.storeUpdated()}),this.validPlaylistUrl=this.$location.path(),y.b.emit(S.CoreEvents.playlistStarted),this.backendSrv.get("/api/playlists/"+e).then(function(n){return t.backendSrv.get("/api/playlists/"+e+"/dashboards").then(function(e){t.dashboards=e,t.interval=Tt.a.interval_to_ms(n.interval),t.next()})})},e.prototype.stop=function(){this.isPlaying&&(this.$location.search().kiosk&&y.b.emit(S.CoreEvents.toggleKioskMode,{exit:!0}));this.index=0,this.isPlaying=!1,this.storeUnsub&&this.storeUnsub(),this.cancelPromise&&this.$timeout.cancel(this.cancelPromise),y.b.emit(S.CoreEvents.playlistStopped)},e}();k.c.service("playlistSrv",Dn);var In=function(){function e(e,t,n,a,r){var i=this;if(this.$scope=e,this.backendSrv=t,this.$location=n,this.filteredDashboards=[],this.filteredTags=[],this.searchQuery="",this.loading=!1,this.playlist={interval:"5m"},this.playlistItems=[],this.dashboardresult=[],this.tagresult=[],this.navModel=r.getNav("dashboards","playlists",0),this.isNew=!a.current.params.id,a.current.params.id){var o=a.current.params.id;t.get("/api/playlists/"+o).then(function(e){i.playlist=e}),t.get("/api/playlists/"+o+"/items").then(function(e){i.playlistItems=e})}}return e.$inject=["$scope","backendSrv","$location","$route","navModelSrv"],e.prototype.filterFoundPlaylistItems=function(){var e=this;this.filteredDashboards=o.a.reject(this.dashboardresult,function(t){return o.a.find(e.playlistItems,function(e){return parseInt(e.value,10)===t.id})}),this.filteredTags=o.a.reject(this.tagresult,function(t){return o.a.find(e.playlistItems,function(e){return e.value===t.term})})},e.prototype.addPlaylistItem=function(e){e.value=e.id.toString(),e.type="dashboard_by_id",e.order=this.playlistItems.length+1,this.playlistItems.push(e),this.filterFoundPlaylistItems()},e.prototype.addTagPlaylistItem=function(e){var t={value:e.term,type:"dashboard_by_tag",order:this.playlistItems.length+1,title:e.term};this.playlistItems.push(t),this.filterFoundPlaylistItems()},e.prototype.removePlaylistItem=function(e){o.a.remove(this.playlistItems,function(t){return e===t}),this.filterFoundPlaylistItems()},e.prototype.savePlaylist=function(e,t){var n=this;e.items=t,(e.id?this.backendSrv.put("/api/playlists/"+e.id,e):this.backendSrv.post("/api/playlists",e)).then(function(){n.$scope.appEvent(v.AppEvents.alertSuccess,["Playlist saved"]),n.$location.path("/playlists")},function(){n.$scope.appEvent(v.AppEvents.alertError,["Unable to save playlist"])})},e.prototype.isPlaylistEmpty=function(){return!this.playlistItems.length},e.prototype.backToList=function(){this.$location.path("/playlists")},e.prototype.searchStarted=function(e){var t=this;e.then(function(e){t.dashboardresult=e.dashboardResult,t.tagresult=e.tagResult,t.filterFoundPlaylistItems()})},e.prototype.movePlaylistItem=function(e,t){var n=this.playlistItems.indexOf(e),a=n+t;a>=0&&a<this.playlistItems.length&&(this.playlistItems.splice(n,1),this.playlistItems.splice(a,0,e))},e.prototype.movePlaylistItemUp=function(e){this.movePlaylistItem(e,-1)},e.prototype.movePlaylistItemDown=function(e){this.movePlaylistItem(e,1)},e}();function Pn(e){e.when("/playlists",{templateUrl:"public/app/features/playlist/partials/playlists.html",controllerAs:"ctrl",controller:"PlaylistsCtrl"}).when("/playlists/create",{templateUrl:"public/app/features/playlist/partials/playlist.html",controllerAs:"ctrl",controller:"PlaylistEditCtrl"}).when("/playlists/edit/:id",{templateUrl:"public/app/features/playlist/partials/playlist.html",controllerAs:"ctrl",controller:"PlaylistEditCtrl"}).when("/playlists/play/:id",{template:"",resolve:{init:["playlistSrv","$route",function(e,t){var n=t.current.params.id;e.start(n)}]}})}k.c.controller("PlaylistEditCtrl",In),u.a.module("grafana.routes").config(Pn);var Fn='\n<span class="panel-title">\n  <span class="icon-gf panel-alert-icon"></span>\n  <span class="panel-title-text">{{ctrl.panel.title | interpolateTemplateVars:this}}</span>\n  <span class="panel-menu-container dropdown">\n    <span class="fa fa-caret-down panel-menu-toggle" data-toggle="dropdown"></span>\n    <ul class="dropdown-menu dropdown-menu--menu panel-menu" role="menu">\n    </ul>\n  </span>\n  <span class="panel-time-info" ng-if="ctrl.timeInfo"><i class="fa fa-clock-o"></i> {{ctrl.timeInfo}}</span>\n</span>';function Ln(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,s,l;return Object(a.__generator)(this,function(c){switch(c.label){case 0:t="",c.label=1;case 1:return c.trys.push([1,6,7,8]),[4,e.getMenu()];case 2:n=a.__values.apply(void 0,[c.sent()]),r=n.next(),c.label=3;case 3:if(r.done)return[3,5];i=r.value,t+=function e(t,n){var r,i,o="",s="";if(t.divider)return'<li class="divider"></li>';if(t.submenu&&(s="dropdown-submenu"),o+='<li class="'+s+'"><a ',t.click&&(o+=' ng-click="'+t.click+'"'),t.href&&(o+=' href="'+t.href+'"'),o+='><i class="'+t.icon+'"></i>',o+='<span class="dropdown-item-text" aria-label="'+W.a.pages.Dashboard.Panels.Panel.selectors.headerItems(t.text)+'">'+t.text+"</span>",t.shortcut&&(o+='<span class="dropdown-menu-item-shortcut">'+t.shortcut+"</span>"),o+="</a>",t.submenu){o+='<ul class="dropdown-menu dropdown-menu--menu panel-menu">';try{for(var l=Object(a.__values)(t.submenu),c=l.next();!c.done;c=l.next())o+=e(c.value,n)}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}o+="</ul>"}return o+="</li>"}(i,e),c.label=4;case 4:return r=n.next(),[3,3];case 5:return[3,8];case 6:return o=c.sent(),s={error:o},[3,8];case 7:try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(s)throw s.error}return[7];case 8:return[2,t]}})})}function Rn(e){var t=this;return{restrict:"E",template:Fn,link:function(n,r,i){var o,s,l,c,u=r.find(".panel-menu");r.click(function(i){return Object(a.__awaiter)(t,void 0,void 0,function(){var t,l;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return t=i.target.className,o&&o.$destroy(),o=n.$new(),[4,Ln(n.ctrl)];case 1:return l=a.sent(),u.html(l),e(u)(o),(t.indexOf("panel-title-text")>=0||t.indexOf("panel-title")>=0)&&(c=i,s||(c.stopPropagation(),r.find("[data-toggle=dropdown]").dropdown("toggle"))),[2]}var c})})}),r.mousedown(function(e){l=e.pageX,c=e.pageY}),r.mouseup(function(e){s=l!==e.pageX||c!==e.pageY})}}}j.c.directive("panelHeader",Rn);var Vn=n("CLuu"),$n=n.n(Vn),Bn=u.a.module("grafana.directives");Bn.directive("grafanaPanel",["$rootScope","$document","$timeout",function(e,t,n){return{restrict:"E",template:'\n  <div class="panel-container" ng-class="{\'panel-container--no-title\': !ctrl.panel.title.length}">\n      <div class="panel-header" ng-class="{\'grid-drag-handle\': !ctrl.panel.fullscreen}">\n        <span class="panel-info-corner">\n          <i class="fa"></i>\n          <span class="panel-info-corner-inner"></span>\n        </span>\n\n        <span class="panel-loading" ng-show="ctrl.loading">\n          <i class="fa fa-spinner fa-spin"></i>\n        </span>\n\n        <panel-header class="panel-title-container" panel-ctrl="ctrl" aria-label={{ctrl.selectors.title(ctrl.panel.title)}}></panel-header>\n      </div>\n\n      <div class="panel-content">\n        <ng-transclude class="panel-height-helper"></ng-transclude>\n      </div>\n    </div>\n  </div>\n',transclude:!0,scope:{ctrl:"="},link:function(e,t){var a,r,i=t.find(".panel-container"),o=t.find(".panel-content"),s=t.find(".panel-info-corner"),c=e.ctrl;c.selectors=W.a.pages.Dashboard.Panels.Panel.selectors;var u,d,p=!1,f=!1;function h(){r&&r.update()}function m(){var e=c.getInfoMode();s[0].className="panel-info-corner panel-info-corner--"+e,e&&(a&&a.destroy(),a=new me.a({target:s[0],content:function(){return c.getInfoContent({mode:"tooltip"})},classes:c.error?"drop-error":"drop-help",openOn:"hover",hoverOpenDelay:100,tetherOptions:{attachment:"bottom left",targetAttachment:"top left",constraints:[{to:"window",attachment:"together",pin:!0}]}}))}c.panel.transparent&&(p=!0,i.addClass("panel-container--transparent")),c.events.on(v.PanelEvents.componentDidMount,function(){if(c.__proto__.constructor.scrollable){var e=o,t=o.find(":first").find(":first");e.addClass("baron baron__root baron__clipper panel-content--scrollable"),l()('\n            <div class="baron__track">\n              <div class="baron__bar"></div>\n            </div>\n          ').appendTo(e),t.addClass("baron__scroller"),(r=$n()({root:e[0],scroller:t[0],bar:".baron__bar",barOnCls:"_scrollbar",scrollingCls:"_scrolling"})).scroll()}}),c.events.on(v.PanelEvents.panelSizeChanged,function(){c.calculatePanelHeight(i[0].offsetHeight),n(function(){h(),c.render()})}),c.events.on(v.PanelEvents.viewModeChanged,function(){setTimeout(function(){c.calculatePanelHeight(i[0].offsetHeight),n(function(){c.render(),h()})},10)}),c.events.on(v.PanelEvents.render,function(){c.height||c.calculatePanelHeight(i[0].offsetHeight),p!==c.panel.transparent&&(i.toggleClass("panel-container--transparent",!0===c.panel.transparent),p=c.panel.transparent),d=void 0!==c.panel.alert,f!==d&&(i.toggleClass("panel-has-alert",d),f=d),c.alertState?(u&&i.removeClass("panel-alert-state--"+u),"ok"!==c.alertState.state&&"alerting"!==c.alertState.state&&"pending"!==c.alertState.state||i.addClass("panel-alert-state--"+c.alertState.state),u=c.alertState.state):u&&(i.removeClass("panel-alert-state--"+u),u=null)}),e.$watchGroup(["ctrl.error","ctrl.panel.description"],m),e.$watchCollection("ctrl.panel.links",m),t.on("mouseenter",function(){i.toggleClass("panel-hover-highlight",!0),c.dashboard.setPanelFocus(c.panel.id)}),t.on("mouseleave",function(){i.toggleClass("panel-hover-highlight",!1),c.dashboard.setPanelFocus(0)}),s.on("click",function(){c.error&&Object(ce.getLocationSrv)().update({partial:!0,query:{inspect:c.panel.id}})}),e.$on("$destroy",function(){t.off(),s.off(),a&&a.destroy(),r&&r.dispose()})}}}]),Bn.directive("panelHelpCorner",["$rootScope",function(e){return{restrict:"E",template:'\n    <span class="alert-error panel-error small pointer" ng-if="ctrl.error" ng-click="ctrl.openInspector()">\n    <span data-placement="top" bs-tooltip="ctrl.error">\n    <i class="fa fa-exclamation"></i><span class="panel-error-arrow"></span>\n    </span>\n    </span>\n    ',link:function(e,t){}}}]);n("fQqI");var Un=u.a.module("grafana.directives"),qn={};function zn(e){return e.create({scope:{ctrl:"=",editorTab:"="},directive:function(e){var t=e.ctrl.pluginId,n=e.editorTab.title.toLowerCase().replace(" ","-").replace("&","").replace(" ","").replace(" ","-");if(qn[t]){if(qn[t][n])return qn[t][n]}else qn[t]=[];var a={fn:function(){return e.editorTab.directiveFn()},name:"panel-editor-tab-"+t+n};return qn[t][n]=a,a}})}Un.directive("panelEditorTab",zn);var Hn=u.a.module("grafana.directives"),Gn=function(){return function(){this.panelCtrl=this.queryCtrl.panelCtrl,this.target=this.queryCtrl.target,this.panel=this.panelCtrl.panel,this.hasTextEditMode&&this.queryCtrl.toggleEditorMode&&(this.panelCtrl.toggleEditorMode=this.queryCtrl.toggleEditorMode.bind(this.queryCtrl)),this.queryCtrl.getCollapsedText&&(this.panelCtrl.getCollapsedText=this.queryCtrl.getCollapsedText.bind(this.queryCtrl))}}();Hn.directive("queryEditorRow",function(){return{restrict:"E",controller:Gn,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/features/panel/partials/query_editor_row.html",transclude:!0,scope:{queryCtrl:"=",canCollapse:"=",hasTextEditMode:"="}}});var Wn='\n<div class="gf-form-select-wrapper max-width-18">\n  <select class="gf-form-input" ng-model="panel.repeat" ng-options="f.value as f.text for f in variables" ng-change="optionChanged()">\n  <option value=""></option>\n</div>\n';function Qn(e){return{restrict:"E",template:Wn,scope:{panel:"="},link:function(t,n){n.css({display:"block",width:"100%"}),t.variables=e.variables.map(function(e){return{text:e.name,value:e.name}}),0===t.variables.length&&t.variables.unshift({text:"No template variables found",value:null}),t.variables.unshift({text:"Disabled",value:null}),t.panel.repeat&&!t.panel.repeatDirection&&(t.panel.repeatDirection="h"),t.optionChanged=function(){t.panel.repeat&&(t.panel.repeatDirection="h")}}}}j.c.directive("dashRepeatOption",Qn);var Yn=function(){function e(e,t){e.panel.links=e.panel.links||[],e.addLink=function(){e.panel.links.push({type:"dashboard"})},e.searchDashboards=function(e,n){t.search({query:e}).then(function(e){var t=o.a.map(e,function(e){return e.title});n(t)})},e.dashboardChanged=function(e){t.search({query:e.dashboard}).then(function(t){var n=o.a.find(t,{title:e.dashboard});n&&(n.url?e.url=n.url:e.dashUri=n.uri,e.title=n.title)})},e.deleteLink=function(t){e.panel.links=o.a.without(e.panel.links,t)}}return e.$inject=["$scope","backendSrv"],e}();u.a.module("grafana.directives").directive("panelLinksEditor",function(){return{scope:{panel:"="},restrict:"E",controller:"PanelLinksEditorCtrl",templateUrl:"public/app/features/panel/panellinks/module.html",link:function(){}}}).controller("PanelLinksEditorCtrl",Yn);var Kn=function(){function e(e,t,n){n.sidemenu=!1,e.navModel={main:{icon:"gicon gicon-branding",subTitle:"Preferences",text:"Select active organization"}},e.init=function(){e.getUserOrgs()},e.getUserOrgs=function(){t.get("/api/user/orgs").then(function(t){e.orgs=t})},e.setUsingOrg=function(e){t.post("/api/user/using/"+e.orgId).then(function(){window.location.href=m.b.appSubUrl+"/"})},e.init()}return e.$inject=["$scope","backendSrv","contextSrv"],e}();u.a.module("grafana.controllers").controller("SelectOrgCtrl",Kn);var Jn=function(){function e(e,t,n,a){e.navModel=a.getNav("admin","global-orgs",0),e.newOrg={name:""},e.createOrg=function(){n.post("/api/orgs/",e.newOrg).then(function(e){n.post("/api/user/using/"+e.orgId).then(function(){window.location.href=m.b.appSubUrl+"/org"})})}}return e.$inject=["$scope","$http","backendSrv","navModelSrv"],e}();u.a.module("grafana.controllers").controller("NewOrgCtrl",Jn);var Zn=function(){function e(e,t,n){this.backendSrv=e,this.$location=n,this.navModel=t.getNav("cfg","users",0),this.invite={name:"",email:"",role:"Editor",sendEmail:!0}}return e.$inject=["backendSrv","navModelSrv","$location"],e.prototype.sendInvite=function(){var e=this;if(this.inviteForm.$valid)return this.backendSrv.post("/api/org/invites",this.invite).then(function(){e.$location.path("org/users/")})},e}();k.c.controller("UserInviteCtrl",Zn);var Xn=function(){function e(e,t){this.backendSrv=e,this.pages=[],this.perPage=50,this.page=1,this.showPaging=!1,this.navModel=t.getNav("admin","global-users",0),this.query="",this.getUsers()}return e.$inject=["backendSrv","navModelSrv"],e.prototype.getUsers=function(){var e=this;this.backendSrv.get("/api/users/search?perpage="+this.perPage+"&page="+this.page+"&query="+this.query).then(function(t){e.users=t.users,e.page=t.page,e.perPage=t.perPage,e.totalPages=Math.ceil(t.totalCount/t.perPage),e.showPaging=e.totalPages>1,e.pages=[];for(var n=1;n<e.totalPages+1;n++)e.pages.push({page:n,current:n===e.page});e.addUsersAuthLabels()})},e.prototype.navigateToPage=function(e){this.page=e.page,this.getUsers()},e.prototype.addUsersAuthLabels=function(){var e,t;try{for(var n=Object(a.__values)(this.users),r=n.next();!r.done;r=n.next()){var i=r.value;i.authLabel=ea(i),i.authLabelStyle=ta(i.authLabel)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e}();function ea(e){return e.authLabels&&e.authLabels.length?e.authLabels[0]:""}function ta(e){if("LDAP"===e||!e)return{};var t=Object(D.getTagColorsFromName)(e);return{"background-color":t.color,"border-color":t.borderColor}}var na=function(){function e(e,t,n,a,r){e.user={},e.sessions=[],e.newOrg={name:"",role:"Editor"},e.permissions={},e.navModel=r.getNav("admin","global-users",0),e.init=function(){t.id&&(e.getUser(t.id),e.getUserSessions(t.id),e.getUserOrgs(t.id))},e.getUser=function(t){n.get("/api/users/"+t).then(function(n){e.user=n,e.user_id=t,e.permissions.isGrafanaAdmin=n.isGrafanaAdmin})},e.getUserSessions=function(t){n.get("/api/admin/users/"+t+"/auth-tokens").then(function(t){t.reverse(),e.sessions=t.map(function(e){return{id:e.id,isActive:e.isActive,seenAt:Object(v.dateTime)(e.seenAt).fromNow(),createdAt:Object(v.dateTime)(e.createdAt).format("MMMM DD, YYYY"),clientIp:e.clientIp,browser:e.browser,browserVersion:e.browserVersion,os:e.os,osVersion:e.osVersion,device:e.device}})})},e.revokeUserSession=function(t){n.post("/api/admin/users/"+e.user_id+"/revoke-auth-token",{authTokenId:t}).then(function(){e.sessions=e.sessions.filter(function(e){return e.id!==t})})},e.revokeAllUserSessions=function(t){n.post("/api/admin/users/"+e.user_id+"/logout").then(function(){e.sessions=[]})},e.setPassword=function(){if(e.passwordForm.$valid){var t={password:e.password};n.put("/api/admin/users/"+e.user_id+"/password",t).then(function(){a.path("/admin/users")})}},e.updatePermissions=function(){var t=e.permissions;n.put("/api/admin/users/"+e.user_id+"/permissions",t)},e.create=function(){e.userForm.$valid&&n.post("/api/admin/users",e.user).then(function(){a.path("/admin/users")})},e.getUserOrgs=function(t){n.get("/api/users/"+t+"/orgs").then(function(t){e.orgs=t})},e.update=function(){e.userForm.$valid&&n.put("/api/users/"+e.user_id,e.user).then(function(){a.path("/admin/users")})},e.updateOrgUser=function(t){n.patch("/api/orgs/"+t.orgId+"/users/"+e.user_id,t).then(function(){})},e.removeOrgUser=function(t){n.delete("/api/orgs/"+t.orgId+"/users/"+e.user_id).then(function(){e.getUser(e.user_id),e.getUserOrgs(e.user_id)})},e.orgsSearchCache=[],e.searchOrgs=function(t,a){e.orgsSearchCache.length>0?a(o.a.map(e.orgsSearchCache,"name")):n.get("/api/orgs",{query:""}).then(function(t){e.orgsSearchCache=t,a(o.a.map(t,"name"))})},e.addOrgUser=function(){if(e.addOrgForm.$valid){var t=o.a.find(e.orgsSearchCache,{name:e.newOrg.name});t&&(e.newOrg.loginOrEmail=e.user.login,n.post("/api/orgs/"+t.id+"/users/",e.newOrg).then(function(){e.getUser(e.user_id),e.getUserOrgs(e.user_id)}))}},e.deleteUser=function(t){e.appEvent(S.CoreEvents.showConfirmModal,{title:"Delete",text:"Do you want to delete "+t.login+"?",icon:"fa-trash",yesText:"Delete",onConfirm:function(){n.delete("/api/admin/users/"+t.id).then(function(){a.path("/admin/users")})}})},e.disableUser=function(t){var a=e.user;if(a.isExternal)return t.preventDefault(),void t.stopPropagation();var r=a.isDisabled?"/enable":"/disable";n.post("/api/admin/users/"+a.id+r).then(function(){e.init()})},e.init()}return e.$inject=["$scope","$routeParams","backendSrv","$location","navModelSrv"],e}(),aa=function(){function e(e,t,n){e.init=function(){e.navModel=n.getNav("admin","global-orgs",0),e.getOrgs()},e.getOrgs=function(){t.get("/api/orgs").then(function(t){e.orgs=t})},e.deleteOrg=function(n){e.appEvent(S.CoreEvents.showConfirmModal,{title:"Delete",text:"Do you want to delete organization "+n.name+"?",text2:"All dashboards for this organization will be removed!",icon:"fa-trash",yesText:"Delete",onConfirm:function(){t.delete("/api/orgs/"+n.id).then(function(){e.getOrgs()})}})},e.init()}return e.$inject=["$scope","backendSrv","navModelSrv"],e}(),ra=function(){function e(e,t,n,a,r){e.init=function(){e.navModel=r.getNav("admin","global-orgs",0),t.id&&(e.getOrg(t.id),e.getOrgUsers(t.id))},e.getOrg=function(t){n.get("/api/orgs/"+t).then(function(t){e.org=t})},e.getOrgUsers=function(t){n.get("/api/orgs/"+t+"/users").then(function(t){e.orgUsers=t})},e.update=function(){e.orgDetailsForm.$valid&&n.put("/api/orgs/"+e.org.id,e.org).then(function(){a.path("/admin/orgs")})},e.updateOrgUser=function(e){n.patch("/api/orgs/"+e.orgId+"/users/"+e.userId,e)},e.removeOrgUser=function(t){n.delete("/api/orgs/"+t.orgId+"/users/"+t.userId).then(function(){e.getOrgUsers(e.org.id)})},e.init()}return e.$inject=["$scope","$routeParams","backendSrv","$location","navModelSrv"],e}(),ia=function(){function e(e){this.navModel=e.getNav("admin")}return e.$inject=["navModelSrv"],e}();k.c.controller("AdminListUsersCtrl",Xn),k.c.controller("AdminEditUserCtrl",na),k.c.controller("AdminListOrgsCtrl",aa),k.c.controller("AdminEditOrgCtrl",ra),k.c.controller("AdminHomeCtrl",ia);var oa=function(){function e(e,t,n,r,i){var s=this;this.$routeParams=e,this.backendSrv=t,this.$location=n,this.$templateCache=r,this.testSeverity="critical",this.defaults={type:"email",sendReminder:!1,disableResolveMessage:!1,frequency:"15m",settings:{httpMethod:"POST",autoResolve:!0,severity:"critical",uploadImage:!0},isDefault:!1},this.navModel=i.getNav("alerting","channels",0),this.isNew=!this.$routeParams.id,this.getFrequencySuggestion=function(){return["1m","5m","10m","15m","30m","1h"]},this.backendSrv.get("/api/alert-notifiers").then(function(e){var t,n;s.notifiers=e;try{for(var r=Object(a.__values)(s.notifiers),i=r.next();!i.done;i=r.next()){var l=i.value;s.$templateCache.put(s.getNotifierTemplateId(l.type),l.optionsTemplate)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return s.$routeParams.id?s.backendSrv.get("/api/alert-notifications/"+s.$routeParams.id).then(function(e){return s.navModel.breadcrumbs.push({text:e.name}),s.navModel.node={text:e.name},e.settings=o.a.defaults(e.settings,s.defaults.settings),e}):(s.navModel.breadcrumbs.push({text:"New channel"}),s.navModel.node={text:"New channel"},o.a.defaults(s.model,s.defaults))}).then(function(e){s.model=e,s.notifierTemplateId=s.getNotifierTemplateId(s.model.type)})}return e.$inject=["$routeParams","backendSrv","$location","$templateCache","navModelSrv"],e.prototype.save=function(){var e=this;this.theForm.$valid&&(this.model.id?this.backendSrv.put("/api/alert-notifications/"+this.model.id,this.model).then(function(t){e.model=t,j.a.emit(v.AppEvents.alertSuccess,["Notification updated"])}).catch(function(e){e.data&&e.data.error&&j.a.emit(v.AppEvents.alertError,[e.data.error])}):this.backendSrv.post("/api/alert-notifications",this.model).then(function(t){j.a.emit(v.AppEvents.alertSuccess,["Notification created"]),e.$location.path("alerting/notifications")}).catch(function(e){e.data&&e.data.error&&j.a.emit(v.AppEvents.alertError,[e.data.error])}))},e.prototype.deleteNotification=function(){var e=this;this.backendSrv.delete("/api/alert-notifications/"+this.model.id).then(function(t){e.model=t,e.$location.path("alerting/notifications")})},e.prototype.getNotifierTemplateId=function(e){return"notifier-options-"+e},e.prototype.typeChanged=function(){this.model.settings=o.a.defaults({},this.defaults.settings),this.notifierTemplateId=this.getNotifierTemplateId(this.model.type)},e.prototype.testNotification=function(){if(this.theForm.$valid){var e={name:this.model.name,type:this.model.type,frequency:this.model.frequency,settings:this.model.settings};this.backendSrv.post("/api/alert-notifications/test",e)}},e}();j.c.controller("AlertNotificationEditCtrl",oa);var sa=function(){function e(e,t){this.backendSrv=e,this.loadNotifications(),this.navModel=t.getNav("alerting","channels",0)}return e.$inject=["backendSrv","navModelSrv"],e.prototype.loadNotifications=function(){var e=this;this.backendSrv.get("/api/alert-notifications").then(function(t){e.notifications=t})},e.prototype.deleteNotification=function(e){var t=this;this.backendSrv.delete("/api/alert-notifications/"+e).then(function(){t.notifications=t.notifications.filter(function(t){return t.id!==e})})},e}();j.c.controller("AlertNotificationsListCtrl",sa);var la="dash-folder",ca="dash-db",ua=function(){function e(e){this.backendSrv=e,this.rootName="general"}return e.$inject=["backendSrv"],e.prototype.validateNewDashboardName=function(e,t){return this.validate(e,t,"A dashboard in this folder with the same name already exists")},e.prototype.validateNewFolderName=function(e){return this.validate(0,e,"A folder or dashboard in the general folder with the same name already exists")},e.prototype.validate=function(e,t,n){var r=(t=(t||"").trim()).toLowerCase();if(0===t.length)return Promise.reject({type:"REQUIRED",message:"Name is required"});if(0===e&&r===this.rootName)return Promise.reject({type:"EXISTING",message:"This is a reserved name and cannot be used for a folder."});var i=[];return i.push(this.backendSrv.search({type:la,folderIds:[e],query:t})),i.push(this.backendSrv.search({type:ca,folderIds:[e],query:t})),Promise.all(i).then(function(e){var t,i,o=[];e.length>0&&e[0].length>0&&(o=e[0]),e.length>1&&e[1].length>0&&(o=o.concat(e[1]));try{for(var s=Object(a.__values)(o),l=s.next();!l.done;l=s.next()){var c=l.value;if(r===c.title.toLowerCase())throw{type:"EXISTING",message:n}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}})},e}();k.c.service("validationSrv",ua);var da=function(){function e(e){this.backendSrv=e,this.isValidFolderSelection=!0}return e.$inject=["backendSrv"],e.prototype.onFolderChange=function(e){this.folder=e},e.prototype.save=function(){var e=this;return this.backendSrv.moveDashboards(this.dashboards,this.folder).then(function(t){if(t.successCount>0){var n="Dashboard"+(1===t.successCount?"":"s")+" Moved",a=t.successCount+" dashboard"+(1===t.successCount?"":"s")+" moved to "+e.folder.title;y.b.emit(v.AppEvents.alertSuccess,[n,a])}return t.totalCount===t.alreadyInFolderCount&&y.b.emit(v.AppEvents.alertError,["Error","Dashboards already belongs to folder "+e.folder.title]),e.dismiss(),e.afterSave()})},e.prototype.onEnterFolderCreation=function(){this.isValidFolderSelection=!1},e.prototype.onExitFolderCreation=function(){this.isValidFolderSelection=!0},e}();k.c.directive("moveToFolderModal",function(){return{restrict:"E",templateUrl:"public/app/features/manage-dashboards/components/MoveToFolderModal/template.html",controller:da,bindToController:!0,controllerAs:"ctrl",scope:{dismiss:"&",dashboards:"=",afterSave:"&"}}});var pa='\n<input type="file" id="dashupload" name="dashupload" class="hide" onchange="angular.element(this).scope().file_selected"/>\n<label class="btn btn-primary" for="dashupload">\n  {{btnText}}\n</label>\n';function fa(e,t){return{restrict:"E",template:pa,scope:{onUpload:"&",btnText:"@?"},link:function(e,t){e.btnText=u.a.isDefined(e.btnText)?e.btnText:"Upload .json file";var n=window;n.File&&n.FileReader&&n.FileList&&n.Blob?t[0].addEventListener("change",function(t){for(var n=t.target.files,a=0,r=n[a];r;){var i=new FileReader;i.onload=function(t){var n;try{n=JSON.parse(t.target.result)}catch(e){return console.log(e),void y.b.emit(v.AppEvents.alertError,["Import failed","JSON -> JS Serialization failed: "+e.message])}e.$apply(function(){e.onUpload({dash:n})})},i.readAsText(r),r=n[a+=1]}},!1):y.b.emit(v.AppEvents.alertError,["Oops","The HTML5 File APIs are not fully supported in this browser"])}}}k.c.directive("dashUpload",fa);var ha=function(){function e(e){this.navModel=e.getNav("dashboards","manage-dashboards",0)}return e.$inject=["navModelSrv"],e}(),ma=function(){function e(e,t,n,r){var i=this;this.$rootScope=e,this.backendSrv=t,this.$location=r,this.navModel=n.getNav("dashboards","snapshots",0),this.backendSrv.get("/api/dashboard/snapshots").then(function(e){var t=i.$location.absUrl().replace(r.url(),"");i.snapshots=e.map(function(e){return Object(a.__assign)(Object(a.__assign)({},e),{url:e.externalUrl||t+"/dashboard/snapshot/"+e.key})})})}return e.$inject=["$rootScope","backendSrv","navModelSrv","$location"],e.prototype.removeSnapshotConfirmed=function(e){var t=this;o.a.remove(this.snapshots,{key:e.key}),this.backendSrv.delete("/api/snapshots/"+e.key).then(function(){},function(){t.snapshots.push(e)})},e.prototype.removeSnapshot=function(e){var t=this;this.$rootScope.appEvent(S.CoreEvents.showConfirmModal,{title:"Delete",text:"Are you sure you want to delete snapshot "+e.name+"?",yesText:"Delete",icon:"fa-trash",onConfirm:function(){t.removeSnapshotConfirmed(e)}})},e}();k.c.controller("DashboardListCtrl",ha),k.c.controller("SnapshotListCtrl",ma);var ga=function(){function e(e,t){this.backendSrv=e,this.sessions=[],this.getUserSessions(),this.navModel=t.getNav("profile","profile-settings",0)}return e.$inject=["backendSrv","navModelSrv"],e.prototype.getUserSessions=function(){var e=this;this.backendSrv.get("/api/user/auth-tokens").then(function(t){t.reverse();var n=t.findIndex(function(e){return e.isActive});if(n){var a=t[n];t.splice(n,n),t.unshift(a)}e.sessions=t.map(function(e){return{id:e.id,isActive:e.isActive,seenAt:Object(v.dateTime)(e.seenAt).fromNow(),createdAt:Object(v.dateTime)(e.createdAt).format("MMMM DD, YYYY"),clientIp:e.clientIp,browser:e.browser,browserVersion:e.browserVersion,os:e.os,osVersion:e.osVersion,device:e.device}})})},e.prototype.revokeUserSession=function(e){var t=this;this.backendSrv.post("/api/user/revoke-auth-token",{authTokenId:e}).then(function(){t.sessions=t.sessions.filter(function(t){return t.id!==e})})},e}();j.c.controller("ProfileCtrl",ga),j.c.directive("datasourceHttpSettings",function(){return{scope:{current:"=",suggestUrl:"@",noDirectAccess:"@"},templateUrl:"public/app/features/datasources/partials/http_settings_next.html",link:{pre:function(e){e.showAccessOption="true"!==e.noDirectAccess,e.onChange=function(t){e.current=t}}}}}),j.c.directive("datasourceTlsAuthSettings",function(){return{scope:{current:"="},templateUrl:"public/app/features/datasources/partials/tls_auth_settings.html"}}),o.a.move=function(e,t,n){return e.splice(n,0,e.splice(t,1)[0]),e};var ba=n("Nu4n");ba.keys().forEach(function(e){ba(e)});var va=new(function(){function e(){O("no-overlay-scrollbar"),this.preBootModules=[],this.registerFunctions={},this.ngModuleDependencies=[]}return e.prototype.useModule=function(e){return this.preBootModules?this.preBootModules.push(e):o.a.extend(e,this.registerFunctions),this.ngModuleDependencies.push(e.name),e},e.prototype.init=function(){var e,t,n=this,r=u.a.module("grafana",[]);Object(v.setLocale)(m.b.bootData.user.locale),Object(v.setMarkdownOptions)({sanitize:!m.b.disableSanitizeHtml}),r.config(["$locationProvider","$controllerProvider","$compileProvider","$filterProvider","$httpProvider","$provide",function(e,t,a,r,i,o){a.preAssignBindingsEnabled(!0),"development"!==m.b.buildInfo.env&&a.debugInfoEnabled(!1),i.useApplyAsync(!0),n.registerFunctions.controller=t.register,n.registerFunctions.directive=a.directive,n.registerFunctions.factory=o.factory,n.registerFunctions.service=o.service,n.registerFunctions.filter=r.register,o.decorator("$http",["$delegate","$templateCache",function(e,t){var n=e.get;return e.get=function(e,a){return e.match(/\.html$/)&&(t.get(e)||(e+="?v="+(new Date).getTime())),n(e,a)},e}])}]),this.ngModuleDependencies=["grafana.core","ngRoute","ngSanitize","$strap.directives","ang-drag-drop","grafana","pasvaz.bindonce","react"],o.a.each(k.a,function(e){n.useModule(e)}),k.b.config(le),Object(j.e)(),l.a.fn.tooltip.defaults.animation=!1,u.a.bootstrap(document,this.ngModuleDependencies).invoke(function(){var e,t,a,r,i;o.a.each(n.preBootModules,function(e){o.a.extend(e,n.registerFunctions)}),n.preBootModules=null,e=navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Edge/")>-1||navigator.userAgent.indexOf("Edg/")>-1,a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i=/Edge\/([0-9.]+)/.exec(navigator.userAgent),(e&&parseFloat(/Trident\/([0-9.]+)/.exec(navigator.userAgent)[1])<=7||t&&(i&&parseFloat(i[1])<=16||parseFloat(/Edg\/([0-9.]+)/.exec(navigator.userAgent)[1])<=16)||a&&parseFloat(/Firefox\/([0-9.]+)/.exec(navigator.userAgent)[1])<=64||r&&parseFloat(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1])<=54)&&setTimeout(function(){y.b.emit(v.AppEvents.alertWarning,["Your browser is not fully supported","A newer browser version is recommended"])},1e3)});try{for(var i=Object(a.__values)(m.b.pluginsToPreload),s=i.next();!s.done;s=i.next()){var c=s.value;Object(_.d)(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.initEchoSrv=function(){Object(ce.setEchoSrv)(new de({debug:!1})),b.a.getFirstConsistentlyInteractive().then(function(e){var t,n,r=performance&&performance.getEntriesByType?performance.getEntriesByType("paint"):[];try{for(var i=Object(a.__values)(r),o=i.next();!o.done;o=i.next()){var s=o.value;pe(s.name,Math.round(s.startTime+s.duration))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}pe("tti",e)}),Object(ce.registerEchoBackend)(new fe({})),window.addEventListener("DOMContentLoaded",function(){pe("dcl",Math.round(performance.now()))})},e}());va.initEchoSrv(),va.init()},zlcF:function(e,t,n){"use strict";var a,r;function i(e){r=e}function o(){return r}n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),function(e){e.Performance="performance",e.MetaAnalytics="meta-analytics"}(a||(a={}));var s=function(e){o().addBackend(e)}},zp0N:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var a=n("0aAt"),r={document:{nodes:[{match:[{type:"paragraph"},{type:"code_block"},{type:"code_line"}]}]},inlines:{}},i=function(e,t){var n=e.split("\n").map(function(e){return a.a.create({type:"code_line",nodes:[a.m.create(e)]})}),r=a.a.create({data:{syntax:t},type:"code_block",nodes:n});return a.d.create({nodes:[r]})},o=function(e,t){var n=i(e,t);return a.n.create({document:n})}}},[["zl43",1,23,39,48]]]);
//# sourceMappingURL=app.4d0490a94b199a11f40c.js.map