{"version":3,"sources":["webpack:///./public/app/features/admin/ServerStats.tsx"],"names":["ServerStats","_super","props","_this","call","this","state","stats","isLoading","tslib__WEBPACK_IMPORTED_MODULE_0__","prototype","componentDidMount","setState","getServerStats","_a","sent","console","error","error_1","render","navModel","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_6__","Contents","className","map","StatItem","react__WEBPACK_IMPORTED_MODULE_1__","stat","key","name","value","__webpack_exports__","Object","react_hot_loader__WEBPACK_IMPORTED_MODULE_2__","module","react_redux__WEBPACK_IMPORTED_MODULE_3__","app_core_selectors_navModel__WEBPACK_IMPORTED_MODULE_4__","navIndex","_state_apis__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"0PAmBAA,EAAA,SAAAC,GACE,SAAAD,EAAYE,GAAZ,IAAAC,EACEF,EAAAG,KAAAC,KAAMH,IAAMG,YAEZF,EAAKG,MAAQ,CACXC,MAAO,GACPC,WAAW,KAkCjB,OAxCiCC,EAAA,EAAAT,EAAAC,GAUzBD,EAAAU,UAAAC,kBAAN,+GAGkB,6BADdN,KAAKO,SAAS,CAAEJ,WAAW,IACb,GAAMH,KAAKH,MAAMW,gCAAzBN,EAAQO,EAAAC,OACdV,KAAKO,SAAS,CAAEL,MAAKA,EAAEC,WAAW,mCAElCQ,QAAQC,MAAMC,gCAIlBlB,EAAAU,UAAAS,OAAA,WACU,IAAAC,EAAAf,KAAAH,MAAAkB,SACFN,EAAAT,KAAAC,MAAEC,EAAAO,EAAAP,MAAOC,EAAAM,EAAAN,UAEf,OACEa,EAAAC,EAAAC,cAACC,EAAA,EAAI,CAACJ,SAAUA,GACdC,EAAAC,EAAAC,cAACC,EAAA,EAAKC,SAAQ,CAACjB,UAAWA,GACxBa,EAAAC,EAAAC,cAAA,SAAOG,UAAU,4BACfL,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,qBAGJF,EAAAC,EAAAC,cAAA,aAAQhB,EAAMoB,IAAIC,QAM9B5B,EAxCA,CAAiC6B,EAAA,eA0CjC,SAASD,EAASE,GAChB,OACET,EAAAC,EAAAC,cAAA,MAAIQ,IAAKD,EAAKE,MACZX,EAAAC,EAAAC,cAAA,UAAKO,EAAKE,MACVX,EAAAC,EAAAC,cAAA,UAAKO,EAAKG,QAUDC,EAAA,QAAAC,OAAAC,EAAA,IAAAD,CAAIE,EAAJ,CAAYF,OAAAG,EAAA,EAAAH,CALH,SAAC7B,GAAsB,OAC7Cc,SAAUe,OAAAI,EAAA,EAAAJ,CAAY7B,EAAMkC,SAAU,gBACtC3B,eAAgB4B,EAAA,IAGSN,CAAyBnC","file":"ServerStats.3932bda029d2299a9d96.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport { hot } from 'react-hot-loader';\nimport { connect } from 'react-redux';\nimport { StoreState } from 'app/types';\nimport { getNavModel } from 'app/core/selectors/navModel';\nimport { getServerStats, ServerStat } from './state/apis';\nimport Page from 'app/core/components/Page/Page';\nimport { NavModel } from '@grafana/data';\n\ninterface Props {\n  navModel: NavModel;\n  getServerStats: () => Promise<ServerStat[]>;\n}\n\ninterface State {\n  stats: ServerStat[];\n  isLoading: boolean;\n}\n\nexport class ServerStats extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      stats: [],\n      isLoading: false,\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({ isLoading: true });\n      const stats = await this.props.getServerStats();\n      this.setState({ stats, isLoading: false });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    const { navModel } = this.props;\n    const { stats, isLoading } = this.state;\n\n    return (\n      <Page navModel={navModel}>\n        <Page.Contents isLoading={isLoading}>\n          <table className=\"filter-table form-inline\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Value</th>\n              </tr>\n            </thead>\n            <tbody>{stats.map(StatItem)}</tbody>\n          </table>\n        </Page.Contents>\n      </Page>\n    );\n  }\n}\n\nfunction StatItem(stat: ServerStat) {\n  return (\n    <tr key={stat.name}>\n      <td>{stat.name}</td>\n      <td>{stat.value}</td>\n    </tr>\n  );\n}\n\nconst mapStateToProps = (state: StoreState) => ({\n  navModel: getNavModel(state.navIndex, 'server-stats'),\n  getServerStats: getServerStats,\n});\n\nexport default hot(module)(connect(mapStateToProps)(ServerStats));\n"],"sourceRoot":""}