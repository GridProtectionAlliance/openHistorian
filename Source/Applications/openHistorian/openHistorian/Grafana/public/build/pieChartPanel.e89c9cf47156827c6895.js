(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[6105],{33434:(pt,z,x)=>{"use strict";x.d(z,{A:()=>E});var B=x(5556),R=x.n(B),F=x(96540),J=x(46942),G=x.n(J),rt=["top","left","transform","className","children","innerRef"];function q(){return q=Object.assign?Object.assign.bind():function(k){for(var P=1;P<arguments.length;P++){var M=arguments[P];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(k[O]=M[O])}return k},q.apply(this,arguments)}function m(k,P){if(k==null)return{};var M={},O=Object.keys(k),A,L;for(L=0;L<O.length;L++)A=O[L],!(P.indexOf(A)>=0)&&(M[A]=k[A]);return M}function E(k){var P=k.top,M=P===void 0?0:P,O=k.left,A=O===void 0?0:O,L=k.transform,w=k.className,j=k.children,K=k.innerRef,X=m(k,rt);return F.createElement("g",q({ref:K,className:G()("visx-group",w),transform:L||"translate("+A+", "+M+")"},X),j)}E.propTypes={top:R().number,left:R().number,transform:R().string,className:R().string,children:R().node,innerRef:R().oneOfType([R().string,R().func,R().object])}},68293:(pt,z,x)=>{"use strict";x.r(z),x.d(z,{Group:()=>B.A});var B=x(33434)},44916:(pt,z,x)=>{"use strict";var B;B=!0,z.A=k;var R=q(x(96540)),F=q(x(46942)),J=x(68293),G=x(9810),rt=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function q(P){return P&&P.__esModule?P:{default:P}}function m(){return m=Object.assign?Object.assign.bind():function(P){for(var M=1;M<arguments.length;M++){var O=arguments[M];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(P[A]=O[A])}return P},m.apply(this,arguments)}function E(P,M){if(P==null)return{};var O={},A=Object.keys(P),L,w;for(w=0;w<A.length;w++)L=A[w],!(M.indexOf(L)>=0)&&(O[L]=P[L]);return O}function k(P){var M=P.className,O=P.top,A=P.left,L=P.data,w=L===void 0?[]:L,j=P.centroid,K=P.innerRadius,X=K===void 0?0:K,Z=P.outerRadius,Q=P.cornerRadius,et=P.startAngle,Qt=P.endAngle,Jt=P.padAngle,qt=P.padRadius,te=P.pieSort,ee=P.pieSortValues,Tt=P.pieValue,It=P.children,ct=P.fill,at=ct===void 0?"":ct,Et=E(P,rt),_t=(0,G.arc)({innerRadius:X,outerRadius:Z,cornerRadius:Q,padRadius:qt}),bt=(0,G.pie)({startAngle:et,endAngle:Qt,padAngle:Jt,value:Tt,sort:te,sortValues:ee}),Mt=bt(w);return It?R.default.createElement(R.default.Fragment,null,It({arcs:Mt,path:_t,pie:bt})):R.default.createElement(J.Group,{className:"visx-pie-arcs-group",top:O,left:A},Mt.map(function(vt,ne){return R.default.createElement("g",{key:"pie-arc-"+ne},R.default.createElement("path",m({className:(0,F.default)("visx-pie-arc",M),d:_t(vt)||"",fill:at==null||typeof at=="string"?at:at(vt)},Et)),j?.(_t.centroid(vt),vt))}))}},9810:(pt,z,x)=>{"use strict";z.__esModule=!0,z.arc=rt,z.area=q,z.line=m,z.pie=E,z.radialLine=k,z.stack=P;var B=x(43106),R=G(x(33518)),F=G(x(76290)),J=G(x(90203));function G(M){return M&&M.__esModule?M:{default:M}}function rt(M){var O=M===void 0?{}:M,A=O.innerRadius,L=O.outerRadius,w=O.cornerRadius,j=O.startAngle,K=O.endAngle,X=O.padAngle,Z=O.padRadius,Q=(0,B.arc)();return A!=null&&(0,R.default)(Q.innerRadius,A),L!=null&&(0,R.default)(Q.outerRadius,L),w!=null&&(0,R.default)(Q.cornerRadius,w),j!=null&&(0,R.default)(Q.startAngle,j),K!=null&&(0,R.default)(Q.endAngle,K),X!=null&&(0,R.default)(Q.padAngle,X),Z!=null&&(0,R.default)(Q.padRadius,Z),Q}function q(M){var O=M===void 0?{}:M,A=O.x,L=O.x0,w=O.x1,j=O.y,K=O.y0,X=O.y1,Z=O.defined,Q=O.curve,et=(0,B.area)();return A&&(0,R.default)(et.x,A),L&&(0,R.default)(et.x0,L),w&&(0,R.default)(et.x1,w),j&&(0,R.default)(et.y,j),K&&(0,R.default)(et.y0,K),X&&(0,R.default)(et.y1,X),Z&&et.defined(Z),Q&&et.curve(Q),et}function m(M){var O=M===void 0?{}:M,A=O.x,L=O.y,w=O.defined,j=O.curve,K=(0,B.line)();return A&&(0,R.default)(K.x,A),L&&(0,R.default)(K.y,L),w&&K.defined(w),j&&K.curve(j),K}function E(M){var O=M===void 0?{}:M,A=O.startAngle,L=O.endAngle,w=O.padAngle,j=O.value,K=O.sort,X=O.sortValues,Z=(0,B.pie)();return(K===null||K!=null)&&Z.sort(K),(X===null||X!=null)&&Z.sortValues(X),j!=null&&Z.value(j),w!=null&&(0,R.default)(Z.padAngle,w),A!=null&&(0,R.default)(Z.startAngle,A),L!=null&&(0,R.default)(Z.endAngle,L),Z}function k(M){var O=M===void 0?{}:M,A=O.angle,L=O.radius,w=O.defined,j=O.curve,K=(0,B.radialLine)();return A&&(0,R.default)(K.angle,A),L&&(0,R.default)(K.radius,L),w&&K.defined(w),j&&K.curve(j),K}function P(M){var O=M.keys,A=M.value,L=M.order,w=M.offset,j=(0,B.stack)();return O&&j.keys(O),A&&(0,R.default)(j.value,A),L&&j.order((0,F.default)(L)),w&&j.offset((0,J.default)(w)),j}},33518:(pt,z)=>{"use strict";z.__esModule=!0,z.default=x;function x(B,R){B(R)}},90203:(pt,z,x)=>{"use strict";z.__esModule=!0,z.STACK_OFFSET_NAMES=z.STACK_OFFSETS=void 0,z.default=J;var B=x(43106),R={expand:B.stackOffsetExpand,diverging:B.stackOffsetDiverging,none:B.stackOffsetNone,silhouette:B.stackOffsetSilhouette,wiggle:B.stackOffsetWiggle};z.STACK_OFFSETS=R;var F=Object.keys(R);z.STACK_OFFSET_NAMES=F;function J(G){return G&&R[G]||R.none}},76290:(pt,z,x)=>{"use strict";z.__esModule=!0,z.STACK_ORDER_NAMES=z.STACK_ORDERS=void 0,z.default=J;var B=x(43106),R={ascending:B.stackOrderAscending,descending:B.stackOrderDescending,insideout:B.stackOrderInsideOut,none:B.stackOrderNone,reverse:B.stackOrderReverse};z.STACK_ORDERS=R;var F=Object.keys(R);z.STACK_ORDER_NAMES=F;function J(G){return G&&R[G]||R.none}},43106:(pt,z,x)=>{"use strict";x.r(z),x.d(z,{arc:()=>It,area:()=>Mt,areaRadial:()=>xe,curveBasis:()=>He,curveBasisClosed:()=>Ze,curveBasisOpen:()=>Qe,curveBundle:()=>Pe,curveCardinal:()=>Je,curveCardinalClosed:()=>qe,curveCardinalOpen:()=>tn,curveCatmullRom:()=>ht,curveCatmullRomClosed:()=>gt,curveCatmullRomOpen:()=>yn,curveLinear:()=>at,curveLinearClosed:()=>Ee,curveMonotoneX:()=>nn,curveMonotoneY:()=>sn,curveNatural:()=>ge,curveStep:()=>on,curveStepAfter:()=>an,curveStepBefore:()=>rn,line:()=>bt,lineRadial:()=>At,linkHorizontal:()=>We,linkRadial:()=>Te,linkVertical:()=>tt,pie:()=>Be,pointRadial:()=>Ot,radialArea:()=>xe,radialLine:()=>At,stack:()=>zt,stackOffsetDiverging:()=>cn,stackOffsetExpand:()=>un,stackOffsetNone:()=>Rt,stackOffsetSilhouette:()=>i,stackOffsetWiggle:()=>l,stackOrderAppearance:()=>f,stackOrderAscending:()=>y,stackOrderDescending:()=>g,stackOrderInsideOut:()=>C,stackOrderNone:()=>St,stackOrderReverse:()=>I,symbol:()=>gn,symbolCircle:()=>oe,symbolCross:()=>Ft,symbolDiamond:()=>be,symbolSquare:()=>ae,symbolStar:()=>jt,symbolTriangle:()=>Re,symbolWye:()=>Wt,symbols:()=>Xe});var B=Math.PI,R=2*B,F=1e-6,J=R-F;function G(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rt(){return new G}G.prototype=rt.prototype={constructor:G,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,s){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+s)},bezierCurveTo:function(t,e,n,s,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +s+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,s,r){t=+t,e=+e,n=+n,s=+s,r=+r;var a=this._x1,c=this._y1,o=n-t,h=s-e,_=a-t,p=c-e,v=_*_+p*p;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(v>F)if(!(Math.abs(p*o-h*_)>F)||!r)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var S=n-a,T=s-c,b=o*o+h*h,V=S*S+T*T,N=Math.sqrt(b),Y=Math.sqrt(v),U=r*Math.tan((B-Math.acos((b+v-V)/(2*N*Y)))/2),W=U/Y,H=U/N;Math.abs(W-1)>F&&(this._+="L"+(t+W*_)+","+(e+W*p)),this._+="A"+r+","+r+",0,0,"+ +(p*S>_*T)+","+(this._x1=t+H*o)+","+(this._y1=e+H*h)}},arc:function(t,e,n,s,r,a){t=+t,e=+e,n=+n,a=!!a;var c=n*Math.cos(s),o=n*Math.sin(s),h=t+c,_=e+o,p=1^a,v=a?s-r:r-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+_:(Math.abs(this._x1-h)>F||Math.abs(this._y1-_)>F)&&(this._+="L"+h+","+_),n&&(v<0&&(v=v%R+R),v>J?this._+="A"+n+","+n+",0,1,"+p+","+(t-c)+","+(e-o)+"A"+n+","+n+",0,1,"+p+","+(this._x1=h)+","+(this._y1=_):v>F&&(this._+="A"+n+","+n+",0,"+ +(v>=B)+","+p+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,s){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},toString:function(){return this._}};const q=rt;function m(t){return function(){return t}}var E=Math.abs,k=Math.atan2,P=Math.cos,M=Math.max,O=Math.min,A=Math.sin,L=Math.sqrt,w=1e-12,j=Math.PI,K=j/2,X=2*j;function Z(t){return t>1?0:t<-1?j:Math.acos(t)}function Q(t){return t>=1?K:t<=-1?-K:Math.asin(t)}function et(t){return t.innerRadius}function Qt(t){return t.outerRadius}function Jt(t){return t.startAngle}function qt(t){return t.endAngle}function te(t){return t&&t.padAngle}function ee(t,e,n,s,r,a,c,o){var h=n-t,_=s-e,p=c-r,v=o-a,S=v*h-p*_;if(!(S*S<w))return S=(p*(e-a)-v*(t-r))/S,[t+S*h,e+S*_]}function Tt(t,e,n,s,r,a,c){var o=t-n,h=e-s,_=(c?a:-a)/L(o*o+h*h),p=_*h,v=-_*o,S=t+p,T=e+v,b=n+p,V=s+v,N=(S+b)/2,Y=(T+V)/2,U=b-S,W=V-T,H=U*U+W*W,lt=r-a,ot=S*V-b*T,Pt=(W<0?-1:1)*L(M(0,lt*lt*H-ot*ot)),wt=(ot*W-U*Pt)/H,ut=(-ot*U-W*Pt)/H,ft=(ot*W+U*Pt)/H,dt=(-ot*U+W*Pt)/H,D=wt-N,$=ut-Y,Dt=ft-N,Bt=dt-Y;return D*D+$*$>Dt*Dt+Bt*Bt&&(wt=ft,ut=dt),{cx:wt,cy:ut,x01:-p,y01:-v,x11:wt*(r/lt-1),y11:ut*(r/lt-1)}}function It(){var t=et,e=Qt,n=m(0),s=null,r=Jt,a=qt,c=te,o=null;function h(){var _,p,v=+t.apply(this,arguments),S=+e.apply(this,arguments),T=r.apply(this,arguments)-K,b=a.apply(this,arguments)-K,V=E(b-T),N=b>T;if(o||(o=_=q()),S<v&&(p=S,S=v,v=p),!(S>w))o.moveTo(0,0);else if(V>X-w)o.moveTo(S*P(T),S*A(T)),o.arc(0,0,S,T,b,!N),v>w&&(o.moveTo(v*P(b),v*A(b)),o.arc(0,0,v,b,T,N));else{var Y=T,U=b,W=T,H=b,lt=V,ot=V,Pt=c.apply(this,arguments)/2,wt=Pt>w&&(s?+s.apply(this,arguments):L(v*v+S*S)),ut=O(E(S-v)/2,+n.apply(this,arguments)),ft=ut,dt=ut,D,$;if(wt>w){var Dt=Q(wt/v*A(Pt)),Bt=Q(wt/S*A(Pt));(lt-=Dt*2)>w?(Dt*=N?1:-1,W+=Dt,H-=Dt):(lt=0,W=H=(T+b)/2),(ot-=Bt*2)>w?(Bt*=N?1:-1,Y+=Bt,U-=Bt):(ot=0,Y=U=(T+b)/2)}var Ht=S*P(Y),Zt=S*A(Y),ke=v*P(H),Le=v*A(H);if(ut>w){var ze=S*P(U),De=S*A(U),hn=v*P(W),fn=v*A(W),xt;if(V<j&&(xt=ee(Ht,Zt,hn,fn,ze,De,ke,Le))){var dn=Ht-xt[0],pn=Zt-xt[1],_n=ze-xt[0],vn=De-xt[1],mn=1/A(Z((dn*_n+pn*vn)/(L(dn*dn+pn*pn)*L(_n*_n+vn*vn)))/2),xn=L(xt[0]*xt[0]+xt[1]*xt[1]);ft=O(ut,(v-xn)/(mn-1)),dt=O(ut,(S-xn)/(mn+1))}}ot>w?dt>w?(D=Tt(hn,fn,Ht,Zt,S,dt,N),$=Tt(ze,De,ke,Le,S,dt,N),o.moveTo(D.cx+D.x01,D.cy+D.y01),dt<ut?o.arc(D.cx,D.cy,dt,k(D.y01,D.x01),k($.y01,$.x01),!N):(o.arc(D.cx,D.cy,dt,k(D.y01,D.x01),k(D.y11,D.x11),!N),o.arc(0,0,S,k(D.cy+D.y11,D.cx+D.x11),k($.cy+$.y11,$.cx+$.x11),!N),o.arc($.cx,$.cy,dt,k($.y11,$.x11),k($.y01,$.x01),!N))):(o.moveTo(Ht,Zt),o.arc(0,0,S,Y,U,!N)):o.moveTo(Ht,Zt),!(v>w)||!(lt>w)?o.lineTo(ke,Le):ft>w?(D=Tt(ke,Le,ze,De,v,-ft,N),$=Tt(Ht,Zt,hn,fn,v,-ft,N),o.lineTo(D.cx+D.x01,D.cy+D.y01),ft<ut?o.arc(D.cx,D.cy,ft,k(D.y01,D.x01),k($.y01,$.x01),!N):(o.arc(D.cx,D.cy,ft,k(D.y01,D.x01),k(D.y11,D.x11),!N),o.arc(0,0,v,k(D.cy+D.y11,D.cx+D.x11),k($.cy+$.y11,$.cx+$.x11),N),o.arc($.cx,$.cy,ft,k($.y11,$.x11),k($.y01,$.x01),!N))):o.arc(0,0,v,H,W,N)}if(o.closePath(),_)return o=null,_+""||null}return h.centroid=function(){var _=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-j/2;return[P(p)*_,A(p)*_]},h.innerRadius=function(_){return arguments.length?(t=typeof _=="function"?_:m(+_),h):t},h.outerRadius=function(_){return arguments.length?(e=typeof _=="function"?_:m(+_),h):e},h.cornerRadius=function(_){return arguments.length?(n=typeof _=="function"?_:m(+_),h):n},h.padRadius=function(_){return arguments.length?(s=_==null?null:typeof _=="function"?_:m(+_),h):s},h.startAngle=function(_){return arguments.length?(r=typeof _=="function"?_:m(+_),h):r},h.endAngle=function(_){return arguments.length?(a=typeof _=="function"?_:m(+_),h):a},h.padAngle=function(_){return arguments.length?(c=typeof _=="function"?_:m(+_),h):c},h.context=function(_){return arguments.length?(o=_??null,h):o},h}function ct(t){this._context=t}ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function at(t){return new ct(t)}function Et(t){return t[0]}function _t(t){return t[1]}function bt(){var t=Et,e=_t,n=m(!0),s=null,r=at,a=null;function c(o){var h,_=o.length,p,v=!1,S;for(s==null&&(a=r(S=q())),h=0;h<=_;++h)!(h<_&&n(p=o[h],h,o))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,h,o),+e(p,h,o));if(S)return a=null,S+""||null}return c.x=function(o){return arguments.length?(t=typeof o=="function"?o:m(+o),c):t},c.y=function(o){return arguments.length?(e=typeof o=="function"?o:m(+o),c):e},c.defined=function(o){return arguments.length?(n=typeof o=="function"?o:m(!!o),c):n},c.curve=function(o){return arguments.length?(r=o,s!=null&&(a=r(s)),c):r},c.context=function(o){return arguments.length?(o==null?s=a=null:a=r(s=o),c):s},c}function Mt(){var t=Et,e=null,n=m(0),s=_t,r=m(!0),a=null,c=at,o=null;function h(p){var v,S,T,b=p.length,V,N=!1,Y,U=new Array(b),W=new Array(b);for(a==null&&(o=c(Y=q())),v=0;v<=b;++v){if(!(v<b&&r(V=p[v],v,p))===N)if(N=!N)S=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),T=v-1;T>=S;--T)o.point(U[T],W[T]);o.lineEnd(),o.areaEnd()}N&&(U[v]=+t(V,v,p),W[v]=+n(V,v,p),o.point(e?+e(V,v,p):U[v],s?+s(V,v,p):W[v]))}if(Y)return o=null,Y+""||null}function _(){return bt().defined(r).curve(c).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:m(+p),e=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:m(+p),h):t},h.x1=function(p){return arguments.length?(e=p==null?null:typeof p=="function"?p:m(+p),h):e},h.y=function(p){return arguments.length?(n=typeof p=="function"?p:m(+p),s=null,h):n},h.y0=function(p){return arguments.length?(n=typeof p=="function"?p:m(+p),h):n},h.y1=function(p){return arguments.length?(s=p==null?null:typeof p=="function"?p:m(+p),h):s},h.lineX0=h.lineY0=function(){return _().x(t).y(n)},h.lineY1=function(){return _().x(t).y(s)},h.lineX1=function(){return _().x(e).y(n)},h.defined=function(p){return arguments.length?(r=typeof p=="function"?p:m(!!p),h):r},h.curve=function(p){return arguments.length?(c=p,a!=null&&(o=c(a)),h):c},h.context=function(p){return arguments.length?(p==null?a=o=null:o=c(a=p),h):a},h}function vt(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ne(t){return t}function Be(){var t=ne,e=vt,n=null,s=m(0),r=m(X),a=m(0);function c(o){var h,_=o.length,p,v,S=0,T=new Array(_),b=new Array(_),V=+s.apply(this,arguments),N=Math.min(X,Math.max(-X,r.apply(this,arguments)-V)),Y,U=Math.min(Math.abs(N)/_,a.apply(this,arguments)),W=U*(N<0?-1:1),H;for(h=0;h<_;++h)(H=b[T[h]=h]=+t(o[h],h,o))>0&&(S+=H);for(e!=null?T.sort(function(lt,ot){return e(b[lt],b[ot])}):n!=null&&T.sort(function(lt,ot){return n(o[lt],o[ot])}),h=0,v=S?(N-_*W)/S:0;h<_;++h,V=Y)p=T[h],H=b[p],Y=V+(H>0?H*v:0)+W,b[p]={data:o[p],index:h,value:H,startAngle:V,endAngle:Y,padAngle:U};return b}return c.value=function(o){return arguments.length?(t=typeof o=="function"?o:m(+o),c):t},c.sortValues=function(o){return arguments.length?(e=o,n=null,c):e},c.sort=function(o){return arguments.length?(n=o,e=null,c):n},c.startAngle=function(o){return arguments.length?(s=typeof o=="function"?o:m(+o),c):s},c.endAngle=function(o){return arguments.length?(r=typeof o=="function"?o:m(+o),c):r},c.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:m(+o),c):a},c}var ye=ie(at);function me(t){this._curve=t}me.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function ie(t){function e(n){return new me(t(n))}return e._curve=t,e}function Ct(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(ie(n)):e()._curve},t}function At(){return Ct(bt().curve(ye))}function xe(){var t=Mt().curve(ye),e=t.curve,n=t.lineX0,s=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Ct(n())},delete t.lineX0,t.lineEndAngle=function(){return Ct(s())},delete t.lineX1,t.lineInnerRadius=function(){return Ct(r())},delete t.lineY0,t.lineOuterRadius=function(){return Ct(a())},delete t.lineY1,t.curve=function(c){return arguments.length?e(ie(c)):e()._curve},t}function Ot(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var se=Array.prototype.slice;function Ie(t){return t.source}function Ve(t){return t.target}function Vt(t){var e=Ie,n=Ve,s=Et,r=_t,a=null;function c(){var o,h=se.call(arguments),_=e.apply(this,h),p=n.apply(this,h);if(a||(a=o=q()),t(a,+s.apply(this,(h[0]=_,h)),+r.apply(this,h),+s.apply(this,(h[0]=p,h)),+r.apply(this,h)),o)return a=null,o+""||null}return c.source=function(o){return arguments.length?(e=o,c):e},c.target=function(o){return arguments.length?(n=o,c):n},c.x=function(o){return arguments.length?(s=typeof o=="function"?o:m(+o),c):s},c.y=function(o){return arguments.length?(r=typeof o=="function"?o:m(+o),c):r},c.context=function(o){return arguments.length?(a=o??null,c):a},c}function Fe(t,e,n,s,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+s)/2,n,e,r,s,r)}function je(t,e,n,s,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,s,n,s,r)}function Ke(t,e,n,s,r){var a=Ot(e,n),c=Ot(e,n=(n+r)/2),o=Ot(s,n),h=Ot(s,r);t.moveTo(a[0],a[1]),t.bezierCurveTo(c[0],c[1],o[0],o[1],h[0],h[1])}function We(){return Vt(Fe)}function tt(){return Vt(je)}function Te(){var t=Vt(Ke);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const oe={draw:function(t,e){var n=Math.sqrt(e/j);t.moveTo(n,0),t.arc(0,0,n,0,X)}},Ft={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var re=Math.sqrt(1/3),$e=re*2;const be={draw:function(t,e){var n=Math.sqrt(e/$e),s=n*re;t.moveTo(0,-n),t.lineTo(s,0),t.lineTo(0,n),t.lineTo(-s,0),t.closePath()}};var Ge=.8908130915292852,Nt=Math.sin(j/10)/Math.sin(7*j/10),Ye=Math.sin(X/10)*Nt,Oe=-Math.cos(X/10)*Nt;const jt={draw:function(t,e){var n=Math.sqrt(e*Ge),s=Ye*n,r=Oe*n;t.moveTo(0,-n),t.lineTo(s,r);for(var a=1;a<5;++a){var c=X*a/5,o=Math.cos(c),h=Math.sin(c);t.lineTo(h*n,-o*n),t.lineTo(o*s-h*r,h*s+o*r)}t.closePath()}},ae={draw:function(t,e){var n=Math.sqrt(e),s=-n/2;t.rect(s,s,n,n)}};var kt=Math.sqrt(3);const Re={draw:function(t,e){var n=-Math.sqrt(e/(kt*3));t.moveTo(0,n*2),t.lineTo(-kt*n,-n),t.lineTo(kt*n,-n),t.closePath()}};var st=-.5,nt=Math.sqrt(3)/2,Kt=1/Math.sqrt(12),Ue=(Kt/2+1)*3;const Wt={draw:function(t,e){var n=Math.sqrt(e/Ue),s=n/2,r=n*Kt,a=s,c=n*Kt+n,o=-a,h=c;t.moveTo(s,r),t.lineTo(a,c),t.lineTo(o,h),t.lineTo(st*s-nt*r,nt*s+st*r),t.lineTo(st*a-nt*c,nt*a+st*c),t.lineTo(st*o-nt*h,nt*o+st*h),t.lineTo(st*s+nt*r,st*r-nt*s),t.lineTo(st*a+nt*c,st*c-nt*a),t.lineTo(st*o+nt*h,st*h-nt*o),t.closePath()}};var Xe=[oe,Ft,be,ae,jt,Re,Wt];function gn(){var t=m(oe),e=m(64),n=null;function s(){var r;if(n||(n=r=q()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return s.type=function(r){return arguments.length?(t=typeof r=="function"?r:m(r),s):t},s.size=function(r){return arguments.length?(e=typeof r=="function"?r:m(+r),s):e},s.context=function(r){return arguments.length?(n=r??null,s):n},s}function yt(){}function $t(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function mt(t){this._context=t}mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$t(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$t(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function He(t){return new mt(t)}function le(t){this._context=t}le.prototype={areaStart:yt,areaEnd:yt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$t(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ze(t){return new le(t)}function Se(t){this._context=t}Se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:$t(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qe(t){return new Se(t)}function Gt(t,e){this._basis=new mt(t),this._beta=e}Gt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var s=t[0],r=e[0],a=t[n]-s,c=e[n]-r,o=-1,h;++o<=n;)h=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(s+h*a),this._beta*e[o]+(1-this._beta)*(r+h*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Pe=function t(e){function n(s){return e===1?new mt(s):new Gt(s,e)}return n.beta=function(s){return t(+s)},n}(.85);function Yt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Lt(t,e){this._context=t,this._k=(1-e)/6}Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Yt(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Je=function t(e){function n(s){return new Lt(s,e)}return n.tension=function(s){return t(+s)},n}(0);function ue(t,e){this._context=t,this._k=(1-e)/6}ue.prototype={areaStart:yt,areaEnd:yt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yt(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const qe=function t(e){function n(s){return new ue(s,e)}return n.tension=function(s){return t(+s)},n}(0);function ce(t,e){this._context=t,this._k=(1-e)/6}ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yt(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tn=function t(e){function n(s){return new ce(s,e)}return n.tension=function(s){return t(+s)},n}(0);function he(t,e,n){var s=t._x1,r=t._y1,a=t._x2,c=t._y2;if(t._l01_a>w){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,r=(r*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>w){var _=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*_+t._x1*t._l23_2a-e*t._l12_2a)/p,c=(c*_+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(s,r,a,c,t._x2,t._y2)}function we(t,e){this._context=t,this._alpha=e}we.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:he(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ht=function t(e){function n(s){return e?new we(s,e):new Lt(s,0)}return n.alpha=function(s){return t(+s)},n}(.5);function it(t,e){this._context=t,this._alpha=e}it.prototype={areaStart:yt,areaEnd:yt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:he(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gt=function t(e){function n(s){return e?new it(s,e):new ue(s,0)}return n.alpha=function(s){return t(+s)},n}(.5);function en(t,e){this._context=t,this._alpha=e}en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:he(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yn=function t(e){function n(s){return e?new en(s,e):new ce(s,0)}return n.alpha=function(s){return t(+s)},n}(.5);function fe(t){this._context=t}fe.prototype={areaStart:yt,areaEnd:yt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ee(t){return new fe(t)}function Me(t){return t<0?-1:1}function de(t,e,n){var s=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(s||r<0&&-0),c=(n-t._y1)/(r||s<0&&-0),o=(a*r+c*s)/(s+r);return(Me(a)+Me(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(o))||0}function Ce(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pe(t,e,n){var s=t._x0,r=t._y0,a=t._x1,c=t._y1,o=(a-s)/3;t._context.bezierCurveTo(s+o,r+o*e,a-o,c-o*n,a,c)}function Ut(t){this._context=t}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pe(this,this._t0,Ce(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pe(this,Ce(this,n=de(this,t,e)),n);break;default:pe(this,this._t0,n=de(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ae(t){this._context=new Ne(t)}(Ae.prototype=Object.create(Ut.prototype)).point=function(t,e){Ut.prototype.point.call(this,e,t)};function Ne(t){this._context=t}Ne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,s,r,a){this._context.bezierCurveTo(e,t,s,n,a,r)}};function nn(t){return new Ut(t)}function sn(t){return new Ae(t)}function _e(t){this._context=t}_e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var s=ve(t),r=ve(e),a=0,c=1;c<n;++a,++c)this._context.bezierCurveTo(s[0][a],r[0][a],s[1][a],r[1][a],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ve(t){var e,n=t.length-1,s,r=new Array(n),a=new Array(n),c=new Array(n);for(r[0]=0,a[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,c[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)s=r[e]/a[e-1],a[e]-=s,c[e]-=s*c[e-1];for(r[n-1]=c[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(c[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function ge(t){return new _e(t)}function Xt(t,e){this._context=t,this._t=e}Xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function on(t){return new Xt(t,.5)}function rn(t){return new Xt(t,0)}function an(t){return new Xt(t,1)}function Rt(t,e){if((c=t.length)>1)for(var n=1,s,r,a=t[e[0]],c,o=a.length;n<c;++n)for(r=a,a=t[e[n]],s=0;s<o;++s)a[s][1]+=a[s][0]=isNaN(r[s][1])?r[s][0]:r[s][1]}function St(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ln(t,e){return t[e]}function zt(){var t=m([]),e=St,n=Rt,s=ln;function r(a){var c=t.apply(this,arguments),o,h=a.length,_=c.length,p=new Array(_),v;for(o=0;o<_;++o){for(var S=c[o],T=p[o]=new Array(h),b=0,V;b<h;++b)T[b]=V=[0,+s(a[b],S,b,a)],V.data=a[b];T.key=S}for(o=0,v=e(p);o<_;++o)p[v[o]].index=o;return n(p,v),p}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:m(se.call(a)),r):t},r.value=function(a){return arguments.length?(s=typeof a=="function"?a:m(+a),r):s},r.order=function(a){return arguments.length?(e=a==null?St:typeof a=="function"?a:m(se.call(a)),r):e},r.offset=function(a){return arguments.length?(n=a??Rt,r):n},r}function un(t,e){if((s=t.length)>0){for(var n,s,r=0,a=t[0].length,c;r<a;++r){for(c=n=0;n<s;++n)c+=t[n][r][1]||0;if(c)for(n=0;n<s;++n)t[n][r][1]/=c}Rt(t,e)}}function cn(t,e){if((h=t.length)>0)for(var n,s=0,r,a,c,o,h,_=t[e[0]].length;s<_;++s)for(c=o=0,n=0;n<h;++n)(a=(r=t[e[n]][s])[1]-r[0])>0?(r[0]=c,r[1]=c+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}function i(t,e){if((r=t.length)>0){for(var n=0,s=t[e[0]],r,a=s.length;n<a;++n){for(var c=0,o=0;c<r;++c)o+=t[c][n][1]||0;s[n][1]+=s[n][0]=-o/2}Rt(t,e)}}function l(t,e){if(!(!((c=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,s=1,r,a,c;s<a;++s){for(var o=0,h=0,_=0;o<c;++o){for(var p=t[e[o]],v=p[s][1]||0,S=p[s-1][1]||0,T=(v-S)/2,b=0;b<o;++b){var V=t[e[b]],N=V[s][1]||0,Y=V[s-1][1]||0;T+=N-Y}h+=v,_+=T*v}r[s-1][1]+=r[s-1][0]=n,h&&(n-=_/h)}r[s-1][1]+=r[s-1][0]=n,Rt(t,e)}}function f(t){var e=t.map(u);return St(t).sort(function(n,s){return e[n]-e[s]})}function u(t){for(var e=-1,n=0,s=t.length,r,a=-1/0;++e<s;)(r=+t[e][1])>a&&(a=r,n=e);return n}function y(t){var e=t.map(d);return St(t).sort(function(n,s){return e[n]-e[s]})}function d(t){for(var e=0,n=-1,s=t.length,r;++n<s;)(r=+t[n][1])&&(e+=r);return e}function g(t){return y(t).reverse()}function C(t){var e=t.length,n,s,r=t.map(d),a=f(t),c=0,o=0,h=[],_=[];for(n=0;n<e;++n)s=a[n],c<o?(c+=r[s],h.push(s)):(o+=r[s],_.push(s));return _.reverse().concat(h)}function I(t){return St(t).reverse()}},17334:pt=>{function z(x,B,R){var F,J,G,rt,q;B==null&&(B=100);function m(){var k=Date.now()-rt;k<B&&k>=0?F=setTimeout(m,B-k):(F=null,R||(q=x.apply(G,J),G=J=null))}var E=function(){G=this,J=arguments,rt=Date.now();var k=R&&!F;return F||(F=setTimeout(m,B)),k&&(q=x.apply(G,J),G=J=null),q};return E.clear=function(){F&&(clearTimeout(F),F=null)},E.flush=function(){F&&(q=x.apply(G,J),G=J=null,clearTimeout(F),F=null)},E}z.debounce=z,pt.exports=z},82169:(pt,z,x)=>{"use strict";x.r(z),x.d(z,{plugin:()=>cn});var B=x(65158),R=x(37055),F=x(24293),J=x(11404),G=x(89654),rt=x(22680),q=x(23799),m=x(74848),E=x(96540),k=x(64423),P=x(56323),M=x(83195),O=x(69129),A=x(97152),L=x(52622),w=x(40845),j=x(67266),K=x(96516),X=x(29995),Z=x(79041),Q=x(32196),et=function(){function i(f){var u=f.x,y=u===void 0?0:u,d=f.y,g=d===void 0?0:d;this.x=0,this.y=0,this.x=y,this.y=g}var l=i.prototype;return l.value=function(){return{x:this.x,y:this.y}},l.toArray=function(){return[this.x,this.y]},i}();function Qt(i){return!!i&&i instanceof Element}function Jt(i){return!!i&&(i instanceof SVGElement||"ownerSVGElement"in i)}function qt(i){return!!i&&"createSVGPoint"in i}function te(i){return!!i&&"getScreenCTM"in i}function ee(i){return!!i&&"changedTouches"in i}function Tt(i){return!!i&&"clientX"in i}function It(i){return!!i&&(i instanceof Event||"nativeEvent"in i&&i.nativeEvent instanceof Event)}function ct(){return ct=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},ct.apply(this,arguments)}var at={x:0,y:0};function Et(i){if(!i)return ct({},at);if(ee(i))return i.changedTouches.length>0?{x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY}:ct({},at);if(Tt(i))return{x:i.clientX,y:i.clientY};var l=i?.target,f=l&&"getBoundingClientRect"in l?l.getBoundingClientRect():null;return f?{x:f.x+f.width/2,y:f.y+f.height/2}:ct({},at)}function _t(i,l){if(!i||!l)return null;var f=Et(l),u=Jt(i)?i.ownerSVGElement:i,y=te(u)?u.getScreenCTM():null;if(qt(u)&&y){var d=u.createSVGPoint();return d.x=f.x,d.y=f.y,d=d.matrixTransform(y.inverse()),new et({x:d.x,y:d.y})}var g=i.getBoundingClientRect();return new et({x:f.x-g.left-i.clientLeft,y:f.y-g.top-i.clientTop})}function bt(i,l){if(Qt(i)&&l)return _t(i,l);if(It(i)){var f=i,u=f.target;if(u)return _t(u,f)}return null}var Mt=["children","id","from","to","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform"];function vt(){return vt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},vt.apply(this,arguments)}function ne(i,l){if(i==null)return{};var f={},u=Object.keys(i),y,d;for(d=0;d<u.length;d++)y=u[d],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function Be(i){var l=i.children,f=i.id,u=i.from,y=i.to,d=i.fromOffset,g=d===void 0?"0%":d,C=i.fromOpacity,I=C===void 0?1:C,t=i.toOffset,e=t===void 0?"100%":t,n=i.toOpacity,s=n===void 0?1:n,r=i.rotate,a=i.transform,c=ne(i,Mt);return E.createElement("defs",null,E.createElement("radialGradient",vt({id:f,gradientTransform:r?"rotate("+r+")":a},c),!!l&&l,!l&&E.createElement("stop",{offset:g,stopColor:u,stopOpacity:I}),!l&&E.createElement("stop",{offset:e,stopColor:y,stopOpacity:s})))}var ye=x(33434),me=x(44916),ie=["tooltipOpen"];function Ct(i,l){if(i==null)return{};var f={},u=Object.keys(i),y,d;for(d=0;d<u.length;d++)y=u[d],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function At(){return At=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},At.apply(this,arguments)}function xe(i){var l=(0,E.useState)(At({tooltipOpen:!1},i)),f=l[0],u=l[1],y=(0,E.useCallback)(function(g){return u(typeof g=="function"?function(C){var I=C.tooltipOpen,t=Ct(C,ie);return At({},g(t),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:g.tooltipLeft,tooltipTop:g.tooltipTop,tooltipData:g.tooltipData})},[u]),d=(0,E.useCallback)(function(){return u({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[u]);return{tooltipOpen:f.tooltipOpen,tooltipLeft:f.tooltipLeft,tooltipTop:f.tooltipTop,tooltipData:f.tooltipData,updateTooltip:u,showTooltip:y,hideTooltip:d}}var Ot=x(17334);function se({debounce:i,scroll:l,polyfill:f}={debounce:0,scroll:!1}){const u=f||(typeof window>"u"?class{}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[y,d]=(0,E.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=(0,E.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:y}),C=i?typeof i=="number"?i:i.scroll:null,I=i?typeof i=="number"?i:i.resize:null,t=(0,E.useRef)(!1);(0,E.useEffect)(()=>(t.current=!0,()=>void(t.current=!1)));const[e,n,s]=(0,E.useMemo)(()=>{const o=()=>{if(!g.current.element)return;const{left:h,top:_,width:p,height:v,bottom:S,right:T,x:b,y:V}=g.current.element.getBoundingClientRect(),N={left:h,top:_,width:p,height:v,bottom:S,right:T,x:b,y:V};Object.freeze(N),t.current&&!je(g.current.lastBounds,N)&&d(g.current.lastBounds=N)};return[o,I?(0,Ot.debounce)(o,I):o,C?(0,Ot.debounce)(o,C):o]},[d,C,I]);function r(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(o=>o.removeEventListener("scroll",s,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function a(){g.current.element&&(g.current.resizeObserver=new u(s),g.current.resizeObserver.observe(g.current.element),l&&g.current.scrollContainers&&g.current.scrollContainers.forEach(o=>o.addEventListener("scroll",s,{capture:!0,passive:!0})))}const c=o=>{!o||o===g.current.element||(r(),g.current.element=o,g.current.scrollContainers=Vt(o),a())};return Ve(s,!!l),Ie(n),(0,E.useEffect)(()=>{r(),a()},[l,s,n]),(0,E.useEffect)(()=>r,[]),[c,y,e]}function Ie(i){(0,E.useEffect)(()=>{const l=i;return window.addEventListener("resize",l),()=>void window.removeEventListener("resize",l)},[i])}function Ve(i,l){(0,E.useEffect)(()=>{if(l){const f=i;return window.addEventListener("scroll",f,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",f,!0)}},[i,l])}function Vt(i){const l=[];if(!i||i===document.body)return l;const{overflow:f,overflowX:u,overflowY:y}=window.getComputedStyle(i);return[f,u,y].some(d=>d==="auto"||d==="scroll")&&l.push(i),[...l,...Vt(i.parentElement)]}const Fe=["x","y","top","bottom","left","right","width","height"],je=(i,l)=>Fe.every(f=>i[f]===l[f]),Ke=se;var We=x(5556),tt=x.n(We),Te=x(40961);function oe(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,Ft(i,l)}function Ft(i,l){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,y){return u.__proto__=y,u},Ft(i,l)}var re=function(i){oe(l,i);function l(){return i.apply(this,arguments)||this}var f=l.prototype;return f.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},f.render=function(){return!this.node&&typeof document<"u"&&(this.node=document.createElement("div"),this.props.zIndex!=null&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?Te.createPortal(this.props.children,this.node):null},l}(E.PureComponent);re.propTypes={zIndex:tt().oneOfType([tt().number,tt().string])};var $e=x(46942),be=x.n($e),Ge=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function Nt(){return Nt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},Nt.apply(this,arguments)}function Ye(i,l){if(i==null)return{};var f={},u=Object.keys(i),y,d;for(d=0;d<u.length;d++)y=u[d],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}var Oe={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},jt=E.forwardRef(function(i,l){var f=i.className,u=i.top,y=i.left,d=i.offsetLeft,g=d===void 0?10:d,C=i.offsetTop,I=C===void 0?10:C,t=i.style,e=t===void 0?Oe:t,n=i.children,s=i.unstyled,r=s===void 0?!1:s,a=i.applyPositionStyle,c=a===void 0?!1:a,o=Ye(i,Ge);return E.createElement("div",Nt({ref:l,className:be()("visx-tooltip",f),style:Nt({top:u==null||I==null?u:u+I,left:y==null||g==null?y:y+g},c&&{position:"absolute"},!r&&e)},o),n)});jt.propTypes={children:tt().node,className:tt().string,left:tt().number,offsetLeft:tt().number,offsetTop:tt().number,top:tt().number,applyPositionStyle:tt().bool,unstyled:tt().bool},jt.displayName="Tooltip";const ae=jt;function kt(){return kt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},kt.apply(this,arguments)}function Re(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function st(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,nt(i,l)}function nt(i,l){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,y){return u.__proto__=y,u},nt(i,l)}var Kt={top:0,right:0,bottom:0,left:0,width:0,height:0};function Ue(i){var l;return l=function(f){st(u,f);function u(d){var g;return g=f.call(this,d)||this,g.state={rect:void 0,parentRect:void 0},g.nodeRef=E.createRef(),g.getRects=g.getRects.bind(Re(g)),g}var y=u.prototype;return y.componentDidMount=function(){var g,C=this;this.node=(g=this.nodeRef)!=null&&g.current?this.nodeRef.current:Te.findDOMNode(this),this.setState(function(){return C.getRects()})},y.getRects=function(){if(!this.node)return this.state;var g=this.node,C=g.parentNode,I=g.getBoundingClientRect?g.getBoundingClientRect():Kt,t=C!=null&&C.getBoundingClientRect?C.getBoundingClientRect():Kt;return{rect:I,parentRect:t}},y.render=function(){return E.createElement(i,kt({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},u}(E.PureComponent),l.displayName="withBoundingRects("+(i.displayName||"")+")",l}var Wt=(0,E.createContext)({isFlippedVertically:!1,isFlippedHorizontally:!1}),Xe=Wt.Provider,gn=Wt.Consumer,yt=function(){return useContext(Wt)},$t=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function mt(){return mt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},mt.apply(this,arguments)}function He(i,l){if(i==null)return{};var f={},u=Object.keys(i),y,d;for(d=0;d<u.length;d++)y=u[d],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function le(i){var l=i.children,f=i.getRects,u=i.left,y=u===void 0?0:u,d=i.offsetLeft,g=d===void 0?10:d,C=i.offsetTop,I=C===void 0?10:C,t=i.parentRect,e=i.rect,n=i.style,s=n===void 0?Oe:n,r=i.top,a=r===void 0?0:r,c=i.unstyled,o=c===void 0?!1:c,h=i.nodeRef,_=He(i,$t),p,v=!1,S=!1;if(e&&t){var T=y,b=a;if(t.width){var V=T+g+e.width-t.width,N=e.width-T-g;v=V>0&&V>N}else{var Y=T+g+e.width-window.innerWidth,U=e.width-T-g;v=Y>0&&Y>U}if(t.height){var W=b+I+e.height-t.height,H=e.height-b-I;S=W>0&&W>H}else S=b+I+e.height>window.innerHeight;T=v?T-e.width-g:T+g,b=S?b-e.height-I:b+I,T=Math.round(T),b=Math.round(b),p="translate("+T+"px, "+b+"px)"}return E.createElement(ae,mt({ref:h,style:mt({left:0,top:0,transform:p},!o&&s)},_),E.createElement(Xe,{value:{isFlippedVertically:!S,isFlippedHorizontally:!v}},l))}le.propTypes={nodeRef:tt().oneOfType([tt().string,tt().func,tt().object])};const Ze=Ue(le);var Se=["detectBounds","zIndex"],Qe=["left","top","detectBounds","zIndex"];function Gt(){return Gt=Object.assign?Object.assign.bind():function(i){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},Gt.apply(this,arguments)}function Pe(i,l){if(i==null)return{};var f={},u=Object.keys(i),y,d;for(d=0;d<u.length;d++)y=u[d],!(l.indexOf(y)>=0)&&(f[y]=i[y]);return f}function Yt(i){var l=i===void 0?{}:i,f=l.detectBounds,u=f===void 0?!0:f,y=l.zIndex,d=Pe(l,Se),g=Ke(d),C=g[0],I=g[1],t=g[2],e=(0,E.useState)(!1),n=e[0],s=e[1];(0,E.useEffect)(function(){s(!1)},[]);var r=(0,E.useMemo)(function(){return function(a){var c=a.left,o=c===void 0?0:c,h=a.top,_=h===void 0?0:h,p=a.detectBounds,v=a.zIndex,S=Pe(a,Qe),T=p??u,b=v??y,V=T?Ze:ae,N=n?0:window.scrollX,Y=n?0:window.scrollY,U=o+(I.left||0)+N,W=_+(I.top||0)+Y;return E.createElement(re,{zIndex:b},E.createElement(V,Gt({left:U,top:W},S)))}},[u,y,I.left,I.top,n]);return{containerRef:C,containerBounds:I,forceRefreshBounds:t,TooltipInPortal:r}}var Lt=x(84140),Je=x(13544),ue=x(59796),qe=x(3139),ce=x(16797);let tn=0;const he=()=>tn++;function we(i){const l=(0,E.useRef)(null);return l.current===null&&(l.current=i+he()),l.current.toString()}var ht=(i=>(i.Donut="donut",i.Pie="pie",i))(ht||{}),it=(i=>(i.Name="name",i.Percent="percent",i.Value="value",i))(it||{}),gt=(i=>(i.Percent="percent",i.Value="value",i))(gt||{});const en={values:[]},yn={displayLabels:[]};function fe(i){return!i.field.custom?.hideFrom?.viz&&!isNaN(i.display.numeric)}function Ee(i,l){return l.display.numeric+i}const Me=({fieldDisplayValues:i,pieType:l,width:f,height:u,highlightedTitle:y,displayLabels:d=[],tooltipOptions:g})=>{const C=(0,w.$j)(),I=we("PieChart"),t=(0,w.of)(ge),e=xe(),{containerRef:n,TooltipInPortal:s}=Yt({detectBounds:!0,scroll:!0}),r=i.filter(fe),a=T=>T.display.numeric,c=T=>`${I}-${(0,Lt.A)(T).toHex()}`,o=T=>`url(#${c(T)})`,h=d.length>0,_=g.mode!=="none"&&e.tooltipOpen,p=r.reduce(Ee,0),v=nn(f,u,l),S=[...new Set(r.map(T=>T.display.color??F.F))];return(0,m.jsxs)("div",{className:t.container,children:[(0,m.jsx)("svg",{width:v.size,height:v.size,ref:n,style:{overflow:"visible"},children:(0,m.jsxs)(ye.A,{top:v.position,left:v.position,children:[S.map(T=>(0,m.jsx)(Be,{id:c(T),from:Ae(T,C),to:Ne(T,C),fromOffset:v.gradientFromOffset,toOffset:"1",gradientUnits:"userSpaceOnUse",cx:0,cy:0,radius:v.outerRadius},T)),(0,m.jsx)(me.A,{data:r,pieValue:a,outerRadius:v.outerRadius,innerRadius:v.innerRadius,cornerRadius:3,padAngle:.005,children:T=>(0,m.jsxs)(m.Fragment,{children:[T.arcs.map(b=>{const V=b.data.display.color??F.F,N=_e(y,b);return b.data.hasLinks&&b.data.getLinks?(0,m.jsx)(ue.e,{links:b.data.getLinks,children:Y=>(0,m.jsx)(de,{tooltip:e,highlightState:N,arc:b,pie:T,fill:o(V),openMenu:Y.openMenu,tooltipOptions:g})},b.index):(0,m.jsx)(de,{highlightState:N,tooltip:e,arc:b,pie:T,fill:o(V),tooltipOptions:g},b.index)}),h&&T.arcs.map(b=>{const V=_e(y,b);return(0,m.jsx)(Ce,{arc:b,highlightState:V,outerRadius:v.outerRadius,innerRadius:v.innerRadius,displayLabels:d,total:p,color:C.colors.text.primary},b.index)})]})})]})}),_?(0,m.jsx)(s,{top:e.tooltipTop,className:t.tooltipPortal,left:e.tooltipLeft,unstyled:!0,applyPositionStyle:!0,children:(0,m.jsx)(qe.o,{series:e.tooltipData})},Math.random()):null]})};function de({arc:i,pie:l,highlightState:f,openMenu:u,fill:y,tooltip:d,tooltipOptions:g}){const C=(0,w.$j)(),I=(0,w.of)(ge),{eventBus:t}=(0,Z.d2)(),e=(0,E.useCallback)(r=>{t?.publish({type:O.ql.type,payload:{raw:r,x:0,y:0,dataId:i.data.display.title}}),d.hideTooltip()},[t,i,d]),n=(0,E.useCallback)(r=>{t?.publish({type:O.b_.type,payload:{raw:r,x:0,y:0,dataId:i.data.display.title}});const a=r.currentTarget.ownerSVGElement;if(a){const c=bt(a,r);d.showTooltip({tooltipLeft:c.x,tooltipTop:c.y,tooltipData:pe(l,i,g)})}},[t,i,d,l,g]),s=ve(f,I);return(0,m.jsx)("g",{className:s,onMouseMove:g.mode!=="none"?n:void 0,onMouseOut:e,onClick:u,"data-testid":Je.Tp.components.Panels.Visualization.PieChart.svgSlice,children:(0,m.jsx)("path",{d:l.path({...i}),fill:y,stroke:C.colors.background.primary,strokeWidth:1})},i.data.display.title)}function Ce({arc:i,outerRadius:l,innerRadius:f,displayLabels:u,total:y,color:d,highlightState:g}){const C=(0,w.of)(ge),I=f===0?l/6:f,[t,e]=Ut(i,l,I);if(!(i.endAngle-i.startAngle>=.3))return null;let s=u.includes(it.Name)?Math.min(Math.max(l/150*14,12),30):Math.min(Math.max(l/100*14,12),36);return(0,m.jsx)("g",{className:ve(g,C),children:(0,m.jsxs)("text",{fill:d,x:t,y:e,dy:".33em",fontSize:s,fontWeight:500,textAnchor:"middle",pointerEvents:"none",children:[u.includes(it.Name)&&(0,m.jsx)("tspan",{x:t,dy:"1.2em",children:i.data.display.title}),u.includes(it.Value)&&(0,m.jsx)("tspan",{x:t,dy:"1.2em",children:(0,M.cN)(i.data.display)}),u.includes(it.Percent)&&(0,m.jsx)("tspan",{x:t,dy:"1.2em",children:(i.data.display.numeric/y*100).toFixed(i.data.field.decimals??0)+"%"})]})})}function pe(i,l,f){return f.mode==="multi"?i.arcs.filter(u=>{const y=u.data.field;return y&&!y.custom?.hideFrom?.tooltip&&!y.custom?.hideFrom?.viz}).map(u=>({color:u.data.display.color??F.F,label:u.data.display.title,value:(0,M.cN)(u.data.display),isActive:u.index===l.index})):[{color:l.data.display.color??F.F,label:l.data.display.title,value:(0,M.cN)(l.data.display)}]}function Ut(i,l,f){const u=(l+f)/2,y=(+i.startAngle+ +i.endAngle)/2-Math.PI/2;return[Math.cos(y)*u,Math.sin(y)*u]}function Ae(i,l){return(0,Lt.A)(i).darken(20*(l.isDark?1:-.7)).spin(4).toRgbString()}function Ne(i,l){return(0,Lt.A)(i).darken(10*(l.isDark?1:-.7)).spin(-4).toRgbString()}function nn(i,l,f,u=16){const y=Math.min(l,i),d=(y-u*2)/2,g=f===ht.Pie?d:Math.max(d/3,20),C=d-g,I=(y-u*2)/2,t=1-(d-C)/d;return{position:I+u,size:y,outerRadius:d,innerRadius:C,gradientFromOffset:t}}var sn=(i=>(i[i.Highlighted=0]="Highlighted",i[i.Deemphasized=1]="Deemphasized",i[i.Normal=2]="Normal",i))(sn||{});function _e(i,l){return i?i===l.data.display.title?0:1:2}function ve(i,l){switch(i){case 0:return l.svgArg.highlighted;case 1:return l.svgArg.deemphasized;case 2:default:return l.svgArg.normal}}const ge=i=>({container:(0,Q.css)`
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    `,svgArg:{normal:(0,Q.css)`
        transition: all 200ms ease-in-out;
      `,highlighted:(0,Q.css)`
        transition: all 200ms ease-in-out;
        transform: scale3d(1.03, 1.03, 1);
      `,deemphasized:(0,Q.css)`
        transition: all 200ms ease-in-out;
        fill-opacity: 0.5;
      `},tooltipPortal:(0,Q.css)`
      ${(0,ce.getTooltipContainerStyles)(i)}
    `}),Xt={displayMode:L.lm.List,showLegend:!0,placement:"right",calcs:[],values:[gt.Percent]};function on(i){const{data:l,timeZone:f,fieldConfig:u,replaceVariables:y,width:d,height:g,options:C,id:I}=i,t=(0,w.$j)(),e=Rt(),n=(0,P.PI)({fieldConfig:u,reduceOptions:C.reduceOptions,data:l.series,theme:t,replaceVariables:y,timeZone:f});return an(n)?(0,m.jsx)(j.KU,{width:d,height:g,legend:rn(i,n),children:(s,r)=>(0,m.jsx)(Me,{width:s,height:r,highlightedTitle:e,fieldDisplayValues:n,tooltipOptions:C.tooltip,pieType:C.pieType,displayLabels:C.displayLabels})}):(0,m.jsx)(A.a,{panelId:I,fieldConfig:u,data:l})}function rn(i,l){const f=i.options.legend??Xt;if(f.showLegend===!1)return;const u=l.filter(fe).reduce(Ee,0),y=l.sort((d,g)=>isNaN(d.display.numeric)?1:isNaN(g.display.numeric)?-1:g.display.numeric-d.display.numeric).map((d,g)=>{const C=d.field.custom?.hideFrom??{};if(C.legend)return;const I=!!C.viz,t=d.display;return{label:t.title??"",color:t.color??F.F,yAxis:1,disabled:I,getItemKey:()=>(t.title??"")+g,getDisplayValues:()=>{const e=f.values??[];let n=[];if(e.includes(gt.Value)&&n.push({numeric:t.numeric,text:(0,M.cN)(t),title:"Value"}),e.includes(gt.Percent)){const s=I?0:t.numeric/u,r=s*100;n.push({numeric:s,percent:r,text:I||isNaN(s)?i.fieldConfig.defaults.noValue??"-":r.toFixed(d.field.decimals??0)+"%",title:e.length>1?"Percent":""})}return n}}}).filter(d=>!!d);return(0,m.jsx)(j.KU.Legend,{placement:f.placement,width:f.width,children:(0,m.jsx)(K.t,{items:y,seriesVisibilityChangeBehavior:X.K.Hide,placement:f.placement,displayMode:f.displayMode})})}function an(i){return i.some(l=>l.view?.dataFrame.length)}function Rt(){const[i,l]=(0,E.useState)(),{eventBus:f}=(0,Z.d2)();return(0,E.useEffect)(()=>{const u=g=>{l(g.payload.dataId)},y=g=>{l(void 0)},d=new k.yU;return d.add(f.getStream(O.b_).subscribe({next:u})),d.add(f.getStream(O.ql).subscribe({next:y})),()=>{d.unsubscribe()}},[l,f]),i}var St=x(1173);const ln=(i,l,f)=>{if(l==="grafana-piechart-panel"&&f.angular){const u=f.angular,y=[];let d=i.options;if(u.aliasColors)for(const g of Object.keys(u.aliasColors)){const C=u.aliasColors[g];C&&y.push({matcher:{id:St.Ct.byName,options:g},properties:[{id:R.uo.Color,value:{mode:F.Y.Fixed,fixedColor:C}}]})}if(i.fieldConfig={overrides:y,defaults:{unit:u.format,decimals:u.decimals?u.decimals:0}},d.legend={placement:"right",values:[],displayMode:L.lm.Table,showLegend:!0,calcs:[]},u.valueName)switch(d.reduceOptions={calcs:[]},u.valueName){case"current":d.reduceOptions.calcs=["lastNotNull"];break;case"min":d.reduceOptions.calcs=["min"];break;case"max":d.reduceOptions.calcs=["max"];break;case"avg":d.reduceOptions.calcs=["mean"];break;case"total":d.reduceOptions.calcs=["sum"];break}switch(u.legendType){case"Under graph":d.legend.placement="bottom";break;case"Right side":d.legend.placement="right";break}switch(u.pieType){case"pie":d.pieType=ht.Pie;break;case"donut":d.pieType=ht.Donut;break}return u.legend&&(u.legend.show||(d.legend.showLegend=!1),u.legend.values&&d.legend.values.push(gt.Value),u.legend.percentage&&d.legend.values.push(gt.Percent)),u.legendType==="On graph"&&(d.legend.showLegend=!1,d.displayLabels=[it.Name],u.legend.values&&d.displayLabels.push(it.Value),u.legend.percentage&&d.displayLabels.push(it.Percent)),d}return{}};var zt=x(38824);class un{getSuggestionsForData(l){const f=l.getListAppender({name:zt.m.PieChart,pluginId:"piechart",options:{reduceOptions:{values:!1,calcs:["lastNotNull"]},displayLabels:[it.Percent],legend:{calcs:[],displayMode:L.lm.Hidden,placement:"right",values:[],showLegend:!1}}}),{dataSummary:u}=l;if(u.hasNumberField){if(u.hasStringField&&u.frameCount===1){if(u.rowCountTotal>30||u.rowCountTotal<2)return;f.append({name:zt.m.PieChart,options:{reduceOptions:{values:!0,calcs:[]}}}),f.append({name:zt.m.PieChartDonut,options:{reduceOptions:{values:!0,calcs:[]},pieType:ht.Donut}});return}u.numberFieldCount>30||u.numberFieldCount<2||(f.append({name:zt.m.PieChart}),f.append({name:zt.m.PieChartDonut,options:{pieType:ht.Donut}}))}}}const cn=new B.m(on).setPanelChangeHandler(ln).useFieldConfig({disableStandardOptions:[R.uo.Thresholds],standardOptions:{[R.uo.Color]:{settings:{byValueSupport:!1,bySeriesSupport:!0,preferThresholdsMode:!1},defaultValue:{mode:F.Y.PaletteClassic}}},useCustomConfig:i=>{J.e(i)}}).setPanelOptions(i=>{(0,q.L)(i),i.addRadio({name:"Piechart type",description:"How the piechart should be rendered",path:"pieType",settings:{options:[{value:ht.Pie,label:"Pie"},{value:ht.Donut,label:"Donut"}]},defaultValue:ht.Pie}).addMultiSelect({name:"Labels",path:"displayLabels",description:"Select the labels to be displayed in the pie chart",settings:{options:[{value:it.Percent,label:"Percent"},{value:it.Name,label:"Name"},{value:it.Value,label:"Value"}]}}),G.D(i),rt.H(i,!1),i.addMultiSelect({name:"Legend values",path:"legend.values",category:["Legend"],settings:{options:[{value:gt.Percent,label:"Percent"},{value:gt.Value,label:"Value"}]},showIf:l=>l.legend.showLegend!==!1})}).setSuggestionsSupplier(new un)}}]);

//# sourceMappingURL=pieChartPanel.e89c9cf47156827c6895.js.map