(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1LJY":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.timeZone}},"5BoW":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n("G4qV"),i=n("QJHg"),o=n("WnbS"),a=Object(r.a)(function(e){return e.logsResult&&e.logsResult.rows},function(e){return e.hiddenLogLevels},function(e){return e.dedupStrategy},function(e,t,n){if(!e||!e.length)return e;var r=Object(i.c)(e,new Set(t));return Object(i.b)(r,n)}),s=function(){return Object(o.a)().getExternal().map(function(e){return{value:e.name,name:e.name,meta:e.meta}})}},"9LhM":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),i=n("q1tI"),o=n.n(i),a=n("S3Uj"),s=n.n(a),u=function(e){var t={transition:"opacity "+e.duration+"ms linear",opacity:0},n={exited:{opacity:0,display:"none"},entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0}};return o.a.createElement(s.a,{in:e.in,timeout:e.duration,unmountOnExit:e.unmountOnExit||!1,onExited:e.onExited},function(i){return o.a.createElement("div",{style:Object(r.__assign)(Object(r.__assign)({},t),n[i])},e.children)})}},Efza:function(e,t,n){"use strict";n.d(t,"a",function(){return j}),n.d(t,"b",function(){return x}),n.d(t,"d",function(){return w}),n.d(t,"e",function(){return y}),n.d(t,"g",function(){return z}),n.d(t,"u",function(){return I}),n.d(t,"f",function(){return L}),n.d(t,"h",function(){return S}),n.d(t,"i",function(){return T}),n.d(t,"j",function(){return R}),n.d(t,"m",function(){return N}),n.d(t,"n",function(){return F}),n.d(t,"o",function(){return A}),n.d(t,"p",function(){return G}),n.d(t,"q",function(){return D}),n.d(t,"r",function(){return H}),n.d(t,"s",function(){return M}),n.d(t,"t",function(){return B}),n.d(t,"c",function(){return V}),n.d(t,"l",function(){return J}),n.d(t,"k",function(){return U});var r=n("mrSG"),i=n("AJqF"),o=n("67Y/"),a=n("mChF"),s=n("kDLi"),u=n("Obii"),c=n("SMGL"),l=n("WnbS"),d=n("m257"),f=n("sBLX"),p=n("OTXG"),g=n("1LJY"),_=n("LCjV"),h=n("3SGO"),m=n("NPB1"),b=n("kHZm"),v=n("5BoW"),O=function(e,t){return function(n){n(Object(p.G)(Object(r.__assign)({exploreId:e},t))),n(C())}};function j(e,t){return function(n,r){var i=r().explore[e].queries,o=Object(d.i)(i,t);n(Object(p.a)({exploreId:e,index:t,query:o}))}}function x(e,t){var n=this;return function(i,o){return Object(r.__awaiter)(n,void 0,void 0,function(){var n,a,u,c,d,g,_,h,m,b,v;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=null,t?[3,2]:[4,Object(l.a)().get()];case 1:return n=r.sent(),[3,4];case 2:return[4,Object(l.a)().get(t)];case 3:n=r.sent(),r.label=4;case 4:return a=o().explore[e].datasourceInstance,u=o().explore[e].queries,c=o().user.orgId,(g=n.getVersion)?[4,n.getVersion()]:[3,6];case 5:g=r.sent(),r.label=6;case 6:return d=g,_="Prometheus"===(null===(m=null===(h=a)||void 0===h?void 0:h.meta)||void 0===m?void 0:m.name)&&"Loki"===(null===(v=null===(b=n)||void 0===b?void 0:b.meta)||void 0===v?void 0:v.name),i(Object(p.F)({exploreId:e,datasourceInstance:n,version:d,mode:_?f.b.Logs:void 0})),[4,i(q(e,u,a,n))];case 7:return r.sent(),o().explore[e].isLive&&i(L(e,s.RefreshPicker.offOption.value)),[4,i(E(e,n,c))];case 8:return r.sent(),i(N(e)),[2]}})})}}function w(e,t){return function(n){n(Object(p.c)({exploreId:e,mode:t}))}}function y(e,t,n,r){return void 0===r&&(r=!1),function(i,o){if(null===t){var a=o().explore[e].queries,s=a[n],u=s.refId,c=s.key;t=Object(d.j)({refId:u,key:c},a,n)}i(Object(p.d)({exploreId:e,query:t,index:n,override:r})),r&&i(N(e))}}function z(e,t){var n=t.height,r=t.width;return Object(p.g)({exploreId:e,height:n,width:r})}var I=function(e){return function(t,n){n().explore.syncedTimes?(t(W(Object(r.__assign)(Object(r.__assign)({},e),{exploreId:f.a.left}))),t(N(f.a.left)),t(W(Object(r.__assign)(Object(r.__assign)({},e),{exploreId:f.a.right}))),t(N(f.a.right))):(t(W(Object(r.__assign)({},e))),t(N(e.exploreId)))}};function L(e,t){return Object(p.f)({exploreId:e,refreshInterval:t})}function S(e){return function(t){t(Object(p.v)({exploreId:e})),t(Object(p.h)({exploreId:e})),t(C())}}function T(e,t,n,i,o,a,s,u,c){var l=this;return function(d,f){return Object(r.__awaiter)(l,void 0,void 0,function(){return Object(r.__generator)(this,function(r){return d(function(e,t){return function(n){Object(v.b)().length>=1?n(x(e,t)):n(Object(p.l)({exploreId:e}))}}(e,t)),d(Object(p.k)({exploreId:e,containerWidth:a,eventBridge:s,queries:n,range:i,mode:o,ui:u,originPanelId:c})),d(W({exploreId:e})),[2]})})}}var q=function(e,t,n,i){return function(o){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var a,s;return Object(r.__generator)(this,function(u){switch(u.label){case 0:return n?(a=t,n.meta.id!==i.meta.id?[3,1]:(a=Object(r.__spread)(t),[3,4])):(o(Object(p.p)({exploreId:e,queries:t})),[2]);case 1:return i.importQueries?[4,i.importQueries(t,n.meta)]:[3,3];case 2:return a=u.sent(),[3,4];case 3:a=Object(d.h)(),u.label=4;case 4:return s=Object(d.h)(a),o(Object(p.p)({exploreId:e,queries:s})),[2]}})})}},E=function(e,t,n){return function(i,o){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var a;return Object(r.__generator)(this,function(r){if(a=t.name,i(Object(p.m)({exploreId:e,requestedDatasourceName:a})),t.init)try{t.init()}catch(e){console.log(e)}return a!==o().explore[e].requestedDatasourceName?[2]:(i(function(e,t,n){var r="grafana.explore.history."+t.meta.id,i=c.a.getObject(r,[]);return c.a.set(Object(d.r)(n),t.name),Object(p.n)({exploreId:e,history:i})}(e,t,n)),[2])})})}};function R(e,t,n,r){return function(i){i(Object(p.o)({exploreId:e,modification:t,index:r,modifier:n})),t.preventSubmit||i(N(e))}}var N=function(e){return function(t,n){t(W({exploreId:e}));var r=n().explore[e],s=r.datasourceInstance,c=r.queries,l=r.containerWidth,g=r.isLive,h=r.range,m=r.scanning,v=r.queryResponse,O=r.querySubscription,j=r.history,x=r.mode,w=r.showingGraph,y=r.showingTable;if(!Object(d.q)(c))return t(Object(p.h)({exploreId:e})),void t(C());var z=s.interval;Object(d.y)(O);var I={minInterval:z,maxDataPoints:x===f.b.Logs&&"Loki"===s.name?void 0:l,liveStreaming:g,showingGraph:w,showingTable:y,mode:x},L=s.meta.id,S=Object(d.d)(c,I,h,m),T=!0,q=Object(b.c)(s,S.request).pipe(g?Object(i.a)(500):a.a,Object(o.a)(function(e){return Object(b.b)(e,v)})).subscribe(function(r){if(!r.error&&T){var i=Object(d.z)(j,L,c);t(Object(p.j)({exploreId:e,history:i})),t(C())}if(T=!1,t(Object(p.r)({exploreId:e,response:r})),n().explore[e].scanning)if(r.state===u.LoadingState.Done&&0===r.series.length){var o=Object(_.a)(-1,n().explore[e].range);t(W({exploreId:e,absoluteRange:o})),t(N(e))}else t(Object(p.v)({exploreId:e}))});t(Object(p.q)({exploreId:e,querySubscription:q}))}},k=function(e){var t=e.raw.from;Object(u.isDateTime)(t)&&(t=t.valueOf().toString(10));var n=e.raw.to;return Object(u.isDateTime)(n)&&(n=n.valueOf().toString(10)),{from:t,to:n}},C=function(){return function(e,t){var n=t().explore,r=n.left,i=n.right,o=n.split,a=t().user.orgId.toString(),s=r&&!1===r.urlReplaced,u={orgId:a},c={datasource:r.datasourceInstance.name,queries:r.queries.map(d.e),range:k(r.range),mode:r.mode,ui:{showingGraph:r.showingGraph,showingLogs:!0,showingTable:r.showingTable,dedupStrategy:r.dedupStrategy}};if(u.left=Object(d.v)(c,!0),o){var l={datasource:i.datasourceInstance.name,queries:i.queries.map(d.e),range:k(i.range),mode:i.mode,ui:{showingGraph:i.showingGraph,showingLogs:!0,showingTable:i.showingTable,dedupStrategy:i.dedupStrategy}};u.right=Object(d.v)(l,!0)}e(Object(h.c)({query:u,replace:s})),s&&e(Object(p.y)({exploreId:f.a.left}))}},W=function(e){return function(t,n){var r=e.exploreId,i=e.absoluteRange,o=e.rawRange,a=n().explore[r],s=Object(g.a)(n().user),c=a.range.raw;i&&(c={from:Object(u.dateTimeForTimeZone)(s,i.from),to:Object(u.dateTimeForTimeZone)(s,i.to)}),o&&(c=o);var l=Object(d.n)(s,c),f={from:l.from.valueOf(),to:l.to.valueOf()};Object(m.a)().init({time:l.raw,refresh:!1,getTimezone:function(){return s},timeRangeUpdated:function(){}}),t(Object(p.e)({exploreId:r,range:l,absoluteRange:f}))}};function F(e){return function(t,n){t(Object(p.u)({exploreId:e}));var r=Object(_.a)(-1,n().explore[e].range);t(W({exploreId:e,absoluteRange:r})),t(N(e))}}function A(e,t){return function(n,r){var i=r().explore[e].queries,o=t.map(function(e,t){return Object(d.j)(e,i,t)});n(Object(p.x)({exploreId:e,queries:o})),n(N(e))}}function G(e){return function(t){t(Object(p.z)({itemId:e})),t(C())}}function D(){return function(e,t){var n=t().explore[f.a.left],i=t().location.query[f.a.left],o=Object(d.s)(i),a=Object(r.__assign)(Object(r.__assign)({},n),{queries:n.queries.slice(),urlState:o});e(Object(p.A)({itemState:a})),e(C())}}function H(e){return function(t,n){if(e===f.a.left){var r=n().explore.left;t(I({exploreId:f.a.right,rawRange:r.range.raw}))}else{var i=n().explore.right;t(I({exploreId:f.a.left,rawRange:i.range.raw}))}var o=n().explore.syncedTimes;t(Object(p.B)({syncedTimes:!o})),t(C())}}var P=function(e){return function(t,n){return function(r){var i,o=!n;switch(e.type){case p.C.type:i={showingGraph:!n};break;case p.E.type:i={showingTable:!n}}r(e({exploreId:t})),r(O(t,i)),o&&r(N(t))}}},M=P(p.C),B=P(p.E),V=function(e,t){return function(n){n(O(e,{dedupStrategy:t}))}};function J(e){return function(t,n){var i=n().explore[e];if(i.initialized){for(var o=i.urlState,a=i.update,s=i.containerWidth,u=i.eventBridge,c=o.datasource,l=o.queries,f=o.range,_=o.mode,h=o.ui,m=o.originPanelId,b=[],v=0;v<l.length;v++){var O=l[v];b.push(Object(d.j)(O,b,v))}var j=Object(g.a)(n().user),x=Object(d.o)(f,j);if(a.datasource){var w=Object(d.h)(l);t(T(e,c,w,x,_,s,u,h,m))}else a.range&&t(W({exploreId:e,rawRange:x.raw})),a.ui&&t(Object(p.G)(Object(r.__assign)(Object(r.__assign)({},h),{exploreId:e}))),a.queries&&t(Object(p.x)({exploreId:e,queries:b})),a.mode&&t(Object(p.c)({exploreId:e,mode:_})),(a.queries||a.ui||a.range)&&t(N(e))}}}var U=function(e,t){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var i,o,a,s,u,c,l,d;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=t.getDataSourceSrv,o=t.getTimeSrv,a=t.getExploreUrl,s=t.openInNewWindow,[4,(u=i()).get(e.datasource)];case 1:return c=r.sent(),[4,a({panel:e,panelTargets:e.targets,panelDatasource:c,datasourceSrv:u,timeSrv:o()})];case 2:return l=r.sent(),s?(s(l),[2]):(d={},n(Object(h.c)({path:l,query:d})),[2])}})})}}},Wkk1:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),i=n("q1tI"),o=n.n(i),a=n("kDLi"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t=n.props.datasources.find(function(t){return t.name===e.value});n.props.onChange(t)},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.datasources,n=e.current,r=e.autoFocus,i=e.hideTextValue,s=e.onBlur,u=e.openMenuOnFocus,c=e.showLoading,l=t.map(function(e){return{value:e.name,label:e.name,imgUrl:e.meta.info.logos.small}}),d=n&&{label:n.name.substr(0,37),value:n.name,imgUrl:n.meta.info.logos.small,loading:c,hideText:i};return o.a.createElement("div",{className:"gf-form-inline"},o.a.createElement(a.Select,{className:"ds-picker",isMulti:!1,isClearable:!1,backspaceRemovesValue:!1,onChange:this.onChange,options:l,autoFocus:r,onBlur:s,openMenuOnFocus:u,maxMenuHeight:500,placeholder:"Select datasource",noOptionsMessage:function(){return"No datasources found"},value:d}))},t.defaultProps={autoFocus:!1,openMenuOnFocus:!1},t}(i.PureComponent)},jYz7:function(e,t,n){"use strict";(function(e){var r=n("q1tI");function i(t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var r,i,o="undefined"!=typeof document&&document.attachEvent;if(!o){var a=(i=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)},function(e){return i(e)}),s=(r=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(e){return r(e)}),u=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;u(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}},l=!1,d="",f="animationstart",p="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),_=document.createElement("fakeelement");if(void 0!==_.style.animationName&&(l=!0),!1===l)for(var h=0;h<p.length;h++)if(void 0!==_.style[p[h]+"AnimationName"]){d="-"+p[h].toLowerCase()+"-",f=g[h],l=!0;break}var m="resizeanim",b="@"+d+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",v=d+"animation: 1ms "+m+"; "}return{addResizeListener:function(e,r){if(o)e.attachEvent("onresize",r);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,a=n.getComputedStyle(e);a&&"static"==a.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),r.appendChild(i)}}(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),u(e),e.addEventListener("scroll",c,!0),f&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==m&&u(e)},e.__resizeTriggers__.addEventListener(f,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(o)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e){function t(){var e,n,r;o(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,f=o-l-d,p=a-u-c;(!t&&r.state.height!==f||!n&&r.state.width!==p)&&(r.setState({height:o-l-d,width:a-u-c}),i({height:o,width:a}))}},r._setRef=function(e){r._autoSizer=e},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),a(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.disableHeight,o=e.disableWidth,a=e.style,u=this.state,c=u.height,l=u.width,d={overflow:"visible"},f={},p=!1;return i||(0===c&&(p=!0),d.height=0,f.height=c),o||(0===l&&(p=!0),d.width=0,f.width=l),Object(r.createElement)("div",{className:n,ref:this._setRef,style:s({},d,a)},!p&&t(f))}}]),t}();c.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=c}).call(this,n("yLpj"))}}]);
//# sourceMappingURL=default~DashboardPage~SoloPanelPage~explore.4d0490a94b199a11f40c.js.map