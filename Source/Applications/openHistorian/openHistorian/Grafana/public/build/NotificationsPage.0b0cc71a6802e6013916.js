"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[743],{73810:(e,a,t)=>{t.r(a),t.d(a,{NotificationsPage:()=>w,default:()=>I});var n=t(68404),s=t(69371),r=t(36636),i=t(76687),o=t(3490),l=t(19901),c=t(46094);function d(e,a){return(0,c.Z)(1,arguments),(0,l.Z)(e,Date.now(),a)}var f=t(90923),u=t(45916);const p=e=>{let{children:a,className:t,isSelected:n,onClick:s,severity:r="error",title:i,traceId:l,timestamp:c}=e;const p=(0,o.useTheme2)(),h=m(p),x=f.config.featureToggles.tracing&&l;return(0,u.jsxs)(o.Card,{className:t,onClick:s,children:[(0,u.jsx)(o.Card.Heading,{children:i}),(0,u.jsx)(o.Card.Description,{children:a}),(0,u.jsx)(o.Card.Figure,{children:(0,u.jsx)(o.Checkbox,{onChange:s,tabIndex:-1,value:n})}),(0,u.jsxs)(o.Card.Tags,{className:h.trace,children:[x&&(0,u.jsx)("span",{children:`Trace ID: ${l}`}),c&&d(c,{addSuffix:!0})]})]})},m=e=>({trace:(0,r.css)({alignItems:"flex-end",alignSelf:"flex-end",color:e.colors.text.secondary,display:"flex",flexDirection:"column",fontSize:e.typography.pxToRem(10),justifySelf:"flex-end"})});var h,x,v,g,D=t(49842),y=t(47570);function j(){const e=(0,y.I0)(),a=(0,y.v9)((e=>(0,D.mE)(e.appNotifications))),[t,s]=(0,n.useState)([]),l=a.every((e=>t.includes(e.id))),c=(0,n.useRef)((0,y.v9)((e=>(0,D.Av)(e.appNotifications)))),d=(0,o.useStyles2)(b);(0,i.Z)((()=>{e((0,D.Jk)(Date.now()))}));return 0===a.length?(0,u.jsxs)("div",{className:d.noNotifsWrapper,children:[h||(h=(0,u.jsx)(o.Icon,{name:"bell",size:"xxl"})),x||(x=(0,u.jsx)("span",{children:"Notifications you have received will appear here."}))]}):(0,u.jsxs)("div",{className:d.wrapper,children:[v||(v=(0,u.jsx)(o.Alert,{severity:"info",title:"This page displays past errors and warnings. Once dismissed, they cannot be retrieved."})),(0,u.jsxs)("div",{className:d.topRow,children:[(0,u.jsx)(o.Checkbox,{value:l,onChange:e=>{return t=e.target.checked,void s(t?a.map((e=>e.id)):[]);var t}}),(0,u.jsx)(o.Button,{disabled:0===t.length,onClick:()=>{l?e((0,D.F6)()):t.forEach((a=>{e((0,D.hS)(a))})),s([])},children:"Dismiss notifications"})]}),(0,u.jsx)("ul",{className:d.list,children:a.map((e=>(0,u.jsx)("li",{className:d.listItem,children:(0,u.jsx)(p,{className:(0,r.cx)({[d.newItem]:e.timestamp>c.current}),isSelected:t.includes(e.id),onClick:()=>{return a=e.id,void s((e=>e.includes(a)?e.filter((e=>e!==a)):[...e,a]));var a},severity:e.severity,title:e.title,timestamp:e.timestamp,traceId:e.traceId,children:(0,u.jsx)("span",{children:e.text})})},e.id)))})]})}function b(e){return{topRow:(0,r.css)({alignItems:"center",display:"flex",gap:e.spacing(2)}),list:(0,r.css)({display:"flex",flexDirection:"column"}),listItem:(0,r.css)({alignItems:"center",display:"flex",gap:e.spacing(2),listStyle:"none",position:"relative"}),newItem:(0,r.css)({"&::before":{content:'""',height:"100%",position:"absolute",left:"-7px",top:0,background:e.colors.gradients.brandVertical,width:e.spacing(.5),borderRadius:e.shape.borderRadius(1)}}),noNotifsWrapper:(0,r.css)({display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(1)}),wrapper:(0,r.css)({display:"flex",flexDirection:"column",gap:e.spacing(2)})}}const w=()=>g||(g=(0,u.jsx)(s.T,{navId:"profile/notifications",children:(0,u.jsx)(s.T.Contents,{children:(0,u.jsx)(j,{})})})),I=w},19901:(e,a,t)=>{t.d(a,{Z:()=>h});var n=t(55547),s=t(3049),r=t(74476),i=t(99901),o=t(79346),l=t(91729);function c(e,a){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e}function d(e){return c({},e)}var f=t(5751),u=t(46094),p=1440,m=43200;function h(e,a,t){var h,x;(0,u.Z)(2,arguments);var v=(0,n.j)(),g=null!==(h=null!==(x=null==t?void 0:t.locale)&&void 0!==x?x:v.locale)&&void 0!==h?h:o.Z;if(!g.formatDistance)throw new RangeError("locale must contain formatDistance property");var D=(0,s.Z)(e,a);if(isNaN(D))throw new RangeError("Invalid time value");var y,j,b=c(d(t),{addSuffix:Boolean(null==t?void 0:t.addSuffix),comparison:D});D>0?(y=(0,l.Z)(a),j=(0,l.Z)(e)):(y=(0,l.Z)(e),j=(0,l.Z)(a));var w,I=(0,i.Z)(j,y),N=((0,f.Z)(j)-(0,f.Z)(y))/1e3,C=Math.round((I-N)/60);if(C<2)return null!=t&&t.includeSeconds?I<5?g.formatDistance("lessThanXSeconds",5,b):I<10?g.formatDistance("lessThanXSeconds",10,b):I<20?g.formatDistance("lessThanXSeconds",20,b):I<40?g.formatDistance("halfAMinute",0,b):I<60?g.formatDistance("lessThanXMinutes",1,b):g.formatDistance("xMinutes",1,b):0===C?g.formatDistance("lessThanXMinutes",1,b):g.formatDistance("xMinutes",C,b);if(C<45)return g.formatDistance("xMinutes",C,b);if(C<90)return g.formatDistance("aboutXHours",1,b);if(C<p){var S=Math.round(C/60);return g.formatDistance("aboutXHours",S,b)}if(C<2520)return g.formatDistance("xDays",1,b);if(C<m){var Z=Math.round(C/p);return g.formatDistance("xDays",Z,b)}if(C<86400)return w=Math.round(C/m),g.formatDistance("aboutXMonths",w,b);if((w=(0,r.Z)(j,y))<12){var M=Math.round(C/m);return g.formatDistance("xMonths",M,b)}var T=w%12,k=Math.floor(w/12);return T<3?g.formatDistance("aboutXYears",k,b):T<9?g.formatDistance("overXYears",k,b):g.formatDistance("almostXYears",k+1,b)}}}]);
//# sourceMappingURL=NotificationsPage.0b0cc71a6802e6013916.js.map