(()=>{"use strict";var Ht={},ot={value:()=>{}};function J(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new X(e)}function X(t){this._=t}function ft(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}X.prototype=J.prototype={constructor:X,on:function(t,n){var e=this._,r=ft(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=ut(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=K(e[i],t.name,n);else if(n==null)for(i in e)e[i]=K(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new X(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function ut(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function K(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ot,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}const st=J;var q=0,P=0,L=0,U=1e3,Y,F,R=0,k=0,B=0,O=typeof performance=="object"&&performance.now?performance:Date,V=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function W(){return k||(V(at),k=O.now()+B)}function at(){k=0}function G(){this._call=this._time=this._next=null}G.prototype=Z.prototype={constructor:G,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?W():+e)+(n==null?0:+n),!this._next&&F!==this&&(F?F._next=this:Y=this,F=this),this._call=t,this._time=e,H()},stop:function(){this._call&&(this._call=null,this._time=1/0,H())}};function Z(t,n,e){var r=new G;return r.restart(t,n,e),r}function lt(){W(),++q;for(var t=Y,n;t;)(n=k-t._time)>=0&&t._call.call(void 0,n),t=t._next;--q}function $(){k=(R=O.now())+B,q=P=0;try{lt()}finally{q=0,ct(),k=0}}function ht(){var t=O.now(),n=t-R;n>U&&(B-=n,R=t)}function ct(){for(var t,n=Y,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Y=e);F=t,H(r)}function H(t){if(!q){P&&(P=clearTimeout(P));var n=t-k;n>24?(t<1/0&&(P=setTimeout($,t-O.now()-B)),L&&(L=clearInterval(L))):(L||(R=O.now(),L=setInterval(ht,U)),q=1,V($))}}const gt=1664525,yt=1013904223,tt=4294967296;function vt(){let t=1;return()=>(t=(gt*t+yt)%tt)/tt}function Qt(t){return t.x}function Jt(t){return t.y}var pt=10,xt=Math.PI*(3-Math.sqrt(5));function _t(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,y=Z(v),u=st("tick","end"),g=vt();t==null&&(t=[]);function v(){l(),u.call("tick",n),e<r&&(y.stop(),u.call("end",n))}function l(h){var f,c=t.length,x;h===void 0&&(h=1);for(var d=0;d<h;++d)for(e+=(o-e)*i,s.forEach(function(_){_(e)}),f=0;f<c;++f)x=t[f],x.fx==null?x.x+=x.vx*=a:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=a:(x.y=x.fy,x.vy=0);return n}function p(){for(var h=0,f=t.length,c;h<f;++h){if(c=t[h],c.index=h,c.fx!=null&&(c.x=c.fx),c.fy!=null&&(c.y=c.fy),isNaN(c.x)||isNaN(c.y)){var x=pt*Math.sqrt(.5+h),d=h*xt;c.x=x*Math.cos(d),c.y=x*Math.sin(d)}(isNaN(c.vx)||isNaN(c.vy))&&(c.vx=c.vy=0)}}function w(h){return h.initialize&&h.initialize(t,g),h}return p(),n={tick:l,restart:function(){return y.restart(v),n},stop:function(){return y.stop(),n},nodes:function(h){return arguments.length?(t=h,p(),s.forEach(w),n):t},alpha:function(h){return arguments.length?(e=+h,n):e},alphaMin:function(h){return arguments.length?(r=+h,n):r},alphaDecay:function(h){return arguments.length?(i=+h,n):+i},alphaTarget:function(h){return arguments.length?(o=+h,n):o},velocityDecay:function(h){return arguments.length?(a=1-h,n):1-a},randomSource:function(h){return arguments.length?(g=h,s.forEach(w),n):g},force:function(h,f){return arguments.length>1?(f==null?s.delete(h):s.set(h,w(f)),n):s.get(h)},find:function(h,f,c){var x=0,d=t.length,_,m,b,E,N;for(c==null?c=1/0:c*=c,x=0;x<d;++x)E=t[x],_=h-E.x,m=f-E.y,b=_*_+m*m,b<c&&(N=E,c=b);return N},on:function(h,f){return arguments.length>1?(u.on(h,f),n):u.on(h)}}}function T(t){return function(){return t}}function C(t){return(t()-.5)*1e-6}function wt(t){return t.index}function nt(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function dt(t){var n=wt,e=v,r,i=T(30),o,a,s,y,u,g=1;t==null&&(t=[]);function v(f){return 1/Math.min(s[f.source.index],s[f.target.index])}function l(f){for(var c=0,x=t.length;c<g;++c)for(var d=0,_,m,b,E,N,z,A;d<x;++d)_=t[d],m=_.source,b=_.target,E=b.x+b.vx-m.x-m.vx||C(u),N=b.y+b.vy-m.y-m.vy||C(u),z=Math.sqrt(E*E+N*N),z=(z-o[d])/z*f*r[d],E*=z,N*=z,b.vx-=E*(A=y[d]),b.vy-=N*A,m.vx+=E*(A=1-A),m.vy+=N*A}function p(){if(a){var f,c=a.length,x=t.length,d=new Map(a.map((m,b)=>[n(m,b,a),m])),_;for(f=0,s=new Array(c);f<x;++f)_=t[f],_.index=f,typeof _.source!="object"&&(_.source=nt(d,_.source)),typeof _.target!="object"&&(_.target=nt(d,_.target)),s[_.source.index]=(s[_.source.index]||0)+1,s[_.target.index]=(s[_.target.index]||0)+1;for(f=0,y=new Array(x);f<x;++f)_=t[f],y[f]=s[_.source.index]/(s[_.source.index]+s[_.target.index]);r=new Array(x),w(),o=new Array(x),h()}}function w(){if(a)for(var f=0,c=t.length;f<c;++f)r[f]=+e(t[f],f,t)}function h(){if(a)for(var f=0,c=t.length;f<c;++f)o[f]=+i(t[f],f,t)}return l.initialize=function(f,c){a=f,u=c,p()},l.links=function(f){return arguments.length?(t=f,p(),l):t},l.id=function(f){return arguments.length?(n=f,l):n},l.iterations=function(f){return arguments.length?(g=+f,l):g},l.strength=function(f){return arguments.length?(e=typeof f=="function"?f:T(+f),w(),l):e},l.distance=function(f){return arguments.length?(i=typeof f=="function"?f:T(+f),h(),l):i},l}function mt(t){var n=T(.1),e,r,i;typeof t!="function"&&(t=T(t==null?0:+t));function o(s){for(var y=0,u=e.length,g;y<u;++y)g=e[y],g.vx+=(i[y]-g.x)*r[y]*s}function a(){if(e){var s,y=e.length;for(r=new Array(y),i=new Array(y),s=0;s<y;++s)r[s]=isNaN(i[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return o.initialize=function(s){e=s,a()},o.strength=function(s){return arguments.length?(n=typeof s=="function"?s:T(+s),a(),o):n},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:T(+s),a(),o):t},o}function Nt(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return et(this.cover(n,e),n,e,t)}function et(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,a={data:r},s=t._x0,y=t._y0,u=t._x1,g=t._y1,v,l,p,w,h,f,c,x;if(!o)return t._root=a,t;for(;o.length;)if((h=n>=(v=(s+u)/2))?s=v:u=v,(f=e>=(l=(y+g)/2))?y=l:g=l,i=o,!(o=o[c=f<<1|h]))return i[c]=a,t;if(p=+t._x.call(null,o.data),w=+t._y.call(null,o.data),n===p&&e===w)return a.next=o,i?i[c]=a:t._root=a,t;do i=i?i[c]=new Array(4):t._root=new Array(4),(h=n>=(v=(s+u)/2))?s=v:u=v,(f=e>=(l=(y+g)/2))?y=l:g=l;while((c=f<<1|h)===(x=(w>=l)<<1|p>=v));return i[x]=o,i[c]=a,t}function At(t){var n,e,r=t.length,i,o,a=new Array(r),s=new Array(r),y=1/0,u=1/0,g=-1/0,v=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(a[e]=i,s[e]=o,i<y&&(y=i),i>g&&(g=i),o<u&&(u=o),o>v&&(v=o));if(y>g||u>v)return this;for(this.cover(y,u).cover(g,v),e=0;e<r;++e)et(this,a[e],s[e],t[e]);return this}function Mt(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a=i-e||1,s=this._root,y,u;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,y=new Array(4),y[u]=s,s=y,a*=2,u){case 0:i=e+a,o=r+a;break;case 1:e=i-a,o=r+a;break;case 2:i=e+a,r=o-a;break;case 3:e=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function It(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function bt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function M(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Et(t,n,e){var r,i=this._x0,o=this._y0,a,s,y,u,g=this._x1,v=this._y1,l=[],p=this._root,w,h;for(p&&l.push(new M(p,i,o,g,v)),e==null?e=1/0:(i=t-e,o=n-e,g=t+e,v=n+e,e*=e);w=l.pop();)if(!(!(p=w.node)||(a=w.x0)>g||(s=w.y0)>v||(y=w.x1)<i||(u=w.y1)<o))if(p.length){var f=(a+y)/2,c=(s+u)/2;l.push(new M(p[3],f,c,y,u),new M(p[2],a,c,f,u),new M(p[1],f,s,y,c),new M(p[0],a,s,f,c)),(h=(n>=c)<<1|t>=f)&&(w=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=w)}else{var x=t-+this._x.call(null,p.data),d=n-+this._y.call(null,p.data),_=x*x+d*d;if(_<e){var m=Math.sqrt(e=_);i=t-m,o=n-m,g=t+m,v=n+m,r=p.data}}return r}function zt(t){if(isNaN(g=+this._x.call(null,t))||isNaN(v=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,a=this._x0,s=this._y0,y=this._x1,u=this._y1,g,v,l,p,w,h,f,c;if(!e)return this;if(e.length)for(;;){if((w=g>=(l=(a+y)/2))?a=l:y=l,(h=v>=(p=(s+u)/2))?s=p:u=p,n=e,!(e=e[f=h<<1|w]))return this;if(!e.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(r=n,c=f)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[f]=o:delete n[f],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[c]=e:this._root=e),this):(this._root=o,this)}function Tt(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Dt(){return this._root}function St(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function jt(t){var n=[],e,r=this._root,i,o,a,s,y;for(r&&n.push(new M(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,a=e.y0,s=e.x1,y=e.y1)&&r.length){var u=(o+s)/2,g=(a+y)/2;(i=r[3])&&n.push(new M(i,u,g,s,y)),(i=r[2])&&n.push(new M(i,o,g,u,y)),(i=r[1])&&n.push(new M(i,u,a,s,g)),(i=r[0])&&n.push(new M(i,o,a,u,g))}return this}function kt(t){var n=[],e=[],r;for(this._root&&n.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,y=r.x1,u=r.y1,g=(a+y)/2,v=(s+u)/2;(o=i[0])&&n.push(new M(o,a,s,g,v)),(o=i[1])&&n.push(new M(o,g,s,y,v)),(o=i[2])&&n.push(new M(o,a,v,g,u)),(o=i[3])&&n.push(new M(o,g,v,y,u))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function qt(t){return t[0]}function Pt(t){return arguments.length?(this._x=t,this):this._x}function Lt(t){return t[1]}function Ft(t){return arguments.length?(this._y=t,this):this._y}function rt(t,n,e){var r=new Q(n??qt,e??Lt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Q(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function it(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var I=rt.prototype=Q.prototype;I.copy=function(){var t=new Q(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=it(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=it(r));return t},I.add=Nt,I.addAll=At,I.cover=Mt,I.data=It,I.extent=bt,I.find=Et,I.remove=zt,I.removeAll=Tt,I.root=Dt,I.size=St,I.visit=jt,I.visitAfter=kt,I.x=Pt,I.y=Ft;function Ot(t){return t.x+t.vx}function Xt(t){return t.y+t.vy}function Yt(t){var n,e,r,i=1,o=1;typeof t!="function"&&(t=T(t==null?1:+t));function a(){for(var u,g=n.length,v,l,p,w,h,f,c=0;c<o;++c)for(v=rt(n,Ot,Xt).visitAfter(s),u=0;u<g;++u)l=n[u],h=e[l.index],f=h*h,p=l.x+l.vx,w=l.y+l.vy,v.visit(x);function x(d,_,m,b,E){var N=d.data,z=d.r,A=h+z;if(N){if(N.index>l.index){var S=p-N.x-N.vx,j=w-N.y-N.vy,D=S*S+j*j;D<A*A&&(S===0&&(S=C(r),D+=S*S),j===0&&(j=C(r),D+=j*j),D=(A-(D=Math.sqrt(D)))/D*i,l.vx+=(S*=D)*(A=(z*=z)/(f+z)),l.vy+=(j*=D)*A,N.vx-=S*(A=1-A),N.vy-=j*A)}return}return _>p+A||b<p-A||m>w+A||E<w-A}}function s(u){if(u.data)return u.r=e[u.data.index];for(var g=u.r=0;g<4;++g)u[g]&&u[g].r>u.r&&(u.r=u[g].r)}function y(){if(n){var u,g=n.length,v;for(e=new Array(g),u=0;u<g;++u)v=n[u],e[v.index]=+t(v,u,n)}}return a.initialize=function(u,g){n=u,r=g,y()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:T(+u),y(),a):t},a}addEventListener("message",t=>{const{nodes:n,edges:e,config:r}=t.data;Rt(n,e,r),postMessage({nodes:n,edges:e})});function Rt(t,n,e){let{roots:r,secondLevelRoots:i}=Bt(t,n);[...r,...i].forEach((a,s)=>{a.fx=a.x});const o=_t(t).force("link",dt(n).id(a=>a.id).distance(e.linkDistance).strength(e.linkStrength)).force("x",mt(e.forceX).strength(e.forceXStrength)).force("collide",Yt(e.forceCollide));o.tick(e.tick),o.stop(),Ct(t)}function Bt(t,n){const e={},r=t.reduce((v,l)=>(v[l.id]=l,v),{}),i=n.reduce((v,l)=>{const p=l.source;return v[p]=[...v[p]||[],l],v},{});let o=t.filter(v=>v.incoming===0);o.length||(o=[t[0]]);let a=o.reduce((v,l)=>(v.push(...i[l.id]?i[l.id].map(p=>r[p.target]):[]),v),[]);const s=300,y=200,u=200;let g=0;for(const v of o){let l=[v],p=0;for(;l.length>0;){const w=[];let h=g;for(const f of l)e[f.id]||(f.x=p,f.y=h,e[f.id]=!0,h+=y,i[f.id]&&w.push(...i[f.id].map(c=>r[c.target])));l=w,p+=u,h=g}g+=s}return{roots:o,secondLevelRoots:a}}function Ct(t){const n=Gt(t);for(let e of t)e.x=e.x-n.center.x,e.y=e.y-n.center.y}function Gt(t){if(t.length===0)return{top:0,right:0,bottom:0,left:0,center:{x:0,y:0}};const n=t.reduce((i,o)=>(o.x>i.right&&(i.right=o.x),o.x<i.left&&(i.left=o.x),o.y>i.bottom&&(i.bottom=o.y),o.y<i.top&&(i.top=o.y),i),{top:1/0,right:-1/0,bottom:-1/0,left:1/0}),e=n.top+(n.bottom-n.top)/2,r=n.left+(n.right-n.left)/2;return{...n,center:{x:r,y:e}}}})();

//# sourceMappingURL=1256.43e3dffb97f5c0f5e67e.js.map