{"version":3,"file":"pieChartPanel.e89c9cf47156827c6895.js","mappings":"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","sources":["webpack://grafana/./node_modules/@visx/group/esm/Group.js","webpack://grafana/./node_modules/@visx/shape/lib/shapes/Pie.js","webpack://grafana/./node_modules/@visx/shape/lib/util/D3ShapeFactories.js","webpack://grafana/./node_modules/@visx/shape/lib/util/setNumberOrNumberAccessor.js","webpack://grafana/./node_modules/@visx/shape/lib/util/stackOffset.js","webpack://grafana/./node_modules/@visx/shape/lib/util/stackOrder.js","webpack://grafana/./node_modules/d3-shape/node_modules/d3-path/src/path.js","webpack://grafana/./node_modules/d3-shape/src/constant.js","webpack://grafana/./node_modules/d3-shape/src/math.js","webpack://grafana/./node_modules/d3-shape/src/arc.js","webpack://grafana/./node_modules/d3-shape/src/curve/linear.js","webpack://grafana/./node_modules/d3-shape/src/point.js","webpack://grafana/./node_modules/d3-shape/src/line.js","webpack://grafana/./node_modules/d3-shape/src/area.js","webpack://grafana/./node_modules/d3-shape/src/descending.js","webpack://grafana/./node_modules/d3-shape/src/identity.js","webpack://grafana/./node_modules/d3-shape/src/pie.js","webpack://grafana/./node_modules/d3-shape/src/curve/radial.js","webpack://grafana/./node_modules/d3-shape/src/lineRadial.js","webpack://grafana/./node_modules/d3-shape/src/areaRadial.js","webpack://grafana/./node_modules/d3-shape/src/pointRadial.js","webpack://grafana/./node_modules/d3-shape/src/array.js","webpack://grafana/./node_modules/d3-shape/src/link/index.js","webpack://grafana/./node_modules/d3-shape/src/symbol/circle.js","webpack://grafana/./node_modules/d3-shape/src/symbol/cross.js","webpack://grafana/./node_modules/d3-shape/src/symbol/diamond.js","webpack://grafana/./node_modules/d3-shape/src/symbol/star.js","webpack://grafana/./node_modules/d3-shape/src/symbol/square.js","webpack://grafana/./node_modules/d3-shape/src/symbol/triangle.js","webpack://grafana/./node_modules/d3-shape/src/symbol/wye.js","webpack://grafana/./node_modules/d3-shape/src/symbol.js","webpack://grafana/./node_modules/d3-shape/src/noop.js","webpack://grafana/./node_modules/d3-shape/src/curve/basis.js","webpack://grafana/./node_modules/d3-shape/src/curve/basisClosed.js","webpack://grafana/./node_modules/d3-shape/src/curve/basisOpen.js","webpack://grafana/./node_modules/d3-shape/src/curve/bundle.js","webpack://grafana/./node_modules/d3-shape/src/curve/cardinal.js","webpack://grafana/./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://grafana/./node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://grafana/./node_modules/d3-shape/src/curve/catmullRom.js","webpack://grafana/./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://grafana/./node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://grafana/./node_modules/d3-shape/src/curve/linearClosed.js","webpack://grafana/./node_modules/d3-shape/src/curve/monotone.js","webpack://grafana/./node_modules/d3-shape/src/curve/natural.js","webpack://grafana/./node_modules/d3-shape/src/curve/step.js","webpack://grafana/./node_modules/d3-shape/src/offset/none.js","webpack://grafana/./node_modules/d3-shape/src/order/none.js","webpack://grafana/./node_modules/d3-shape/src/stack.js","webpack://grafana/./node_modules/d3-shape/src/offset/expand.js","webpack://grafana/./node_modules/d3-shape/src/offset/diverging.js","webpack://grafana/./node_modules/d3-shape/src/offset/silhouette.js","webpack://grafana/./node_modules/d3-shape/src/offset/wiggle.js","webpack://grafana/./node_modules/d3-shape/src/order/appearance.js","webpack://grafana/./node_modules/d3-shape/src/order/ascending.js","webpack://grafana/./node_modules/d3-shape/src/order/descending.js","webpack://grafana/./node_modules/d3-shape/src/order/insideOut.js","webpack://grafana/./node_modules/d3-shape/src/order/reverse.js","webpack://grafana/./node_modules/debounce/index.js","webpack://grafana/./node_modules/@visx/point/esm/Point.js","webpack://grafana/./node_modules/@visx/event/esm/typeGuards.js","webpack://grafana/./node_modules/@visx/event/esm/getXAndYFromEvent.js","webpack://grafana/./node_modules/@visx/event/esm/localPointGeneric.js","webpack://grafana/./node_modules/@visx/event/esm/localPoint.js","webpack://grafana/./node_modules/@visx/gradient/esm/gradients/RadialGradient.js","webpack://grafana/./node_modules/@visx/tooltip/esm/hooks/useTooltip.js","webpack://grafana/./node_modules/react-use-measure/dist/web.js","webpack://grafana/./node_modules/@visx/tooltip/esm/Portal.js","webpack://grafana/./node_modules/@visx/tooltip/esm/tooltips/Tooltip.js","webpack://grafana/./node_modules/@visx/bounds/esm/enhancers/withBoundingRects.js","webpack://grafana/./node_modules/@visx/tooltip/esm/context/TooltipPositionContext.js","webpack://grafana/./node_modules/@visx/tooltip/esm/tooltips/TooltipWithBounds.js","webpack://grafana/./node_modules/@visx/tooltip/esm/hooks/useTooltipInPortal.js","webpack://grafana/./packages/grafana-ui/src/utils/useComponetInstanceId.ts","webpack://grafana/./public/app/plugins/panel/piechart/panelcfg.gen.ts","webpack://grafana/./public/app/plugins/panel/piechart/utils.ts","webpack://grafana/./public/app/plugins/panel/piechart/PieChart.tsx","webpack://grafana/./public/app/plugins/panel/piechart/PieChartPanel.tsx","webpack://grafana/./public/app/plugins/panel/piechart/migrations.ts","webpack://grafana/./public/app/plugins/panel/piechart/suggestions.ts","webpack://grafana/./public/app/plugins/panel/piechart/module.tsx"],"sourcesContent":["import _pt from \"prop-types\";\nvar _excluded = [\"top\", \"left\", \"transform\", \"className\", \"children\", \"innerRef\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport cx from 'classnames';\nexport default function Group(_ref) {\n  var _ref$top = _ref.top,\n    top = _ref$top === void 0 ? 0 : _ref$top,\n    _ref$left = _ref.left,\n    left = _ref$left === void 0 ? 0 : _ref$left,\n    transform = _ref.transform,\n    className = _ref.className,\n    children = _ref.children,\n    innerRef = _ref.innerRef,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"g\", _extends({\n    ref: innerRef,\n    className: cx('visx-group', className),\n    transform: transform || \"translate(\" + left + \", \" + top + \")\"\n  }, restProps), children);\n}\nGroup.propTypes = {\n  top: _pt.number,\n  left: _pt.number,\n  transform: _pt.string,\n  className: _pt.string,\n  children: _pt.node,\n  innerRef: _pt.oneOfType([_pt.string, _pt.func, _pt.object])\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.default = Pie;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _group = require(\"@visx/group\");\nvar _D3ShapeFactories = require(\"../util/D3ShapeFactories\");\nvar _excluded = [\"className\", \"top\", \"left\", \"data\", \"centroid\", \"innerRadius\", \"outerRadius\", \"cornerRadius\", \"startAngle\", \"endAngle\", \"padAngle\", \"padRadius\", \"pieSort\", \"pieSortValues\", \"pieValue\", \"children\", \"fill\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction Pie(_ref) {\n  var className = _ref.className,\n    top = _ref.top,\n    left = _ref.left,\n    _ref$data = _ref.data,\n    data = _ref$data === void 0 ? [] : _ref$data,\n    centroid = _ref.centroid,\n    _ref$innerRadius = _ref.innerRadius,\n    innerRadius = _ref$innerRadius === void 0 ? 0 : _ref$innerRadius,\n    outerRadius = _ref.outerRadius,\n    cornerRadius = _ref.cornerRadius,\n    startAngle = _ref.startAngle,\n    endAngle = _ref.endAngle,\n    padAngle = _ref.padAngle,\n    padRadius = _ref.padRadius,\n    pieSort = _ref.pieSort,\n    pieSortValues = _ref.pieSortValues,\n    pieValue = _ref.pieValue,\n    children = _ref.children,\n    _ref$fill = _ref.fill,\n    fill = _ref$fill === void 0 ? '' : _ref$fill,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var path = (0, _D3ShapeFactories.arc)({\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    cornerRadius: cornerRadius,\n    padRadius: padRadius\n  });\n  var pie = (0, _D3ShapeFactories.pie)({\n    startAngle: startAngle,\n    endAngle: endAngle,\n    padAngle: padAngle,\n    value: pieValue,\n    sort: pieSort,\n    sortValues: pieSortValues\n  });\n  var arcs = pie(data);\n  if (children) return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, children({\n    arcs: arcs,\n    path: path,\n    pie: pie\n  }));\n  return /*#__PURE__*/_react.default.createElement(_group.Group, {\n    className: \"visx-pie-arcs-group\",\n    top: top,\n    left: left\n  }, arcs.map(function (arc, i) {\n    return /*#__PURE__*/_react.default.createElement(\"g\", {\n      key: \"pie-arc-\" + i\n    }, /*#__PURE__*/_react.default.createElement(\"path\", _extends({\n      className: (0, _classnames.default)('visx-pie-arc', className),\n      d: path(arc) || '',\n      fill: fill == null || typeof fill === 'string' ? fill : fill(arc)\n    }, restProps)), centroid == null ? void 0 : centroid(path.centroid(arc), arc));\n  }));\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.arc = arc;\nexports.area = area;\nexports.line = line;\nexports.pie = pie;\nexports.radialLine = radialLine;\nexports.stack = stack;\nvar _d3Shape = require(\"d3-shape\");\nvar _setNumberOrNumberAccessor = _interopRequireDefault(require(\"./setNumberOrNumberAccessor\"));\nvar _stackOrder = _interopRequireDefault(require(\"./stackOrder\"));\nvar _stackOffset = _interopRequireDefault(require(\"./stackOffset\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction arc(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    innerRadius = _ref.innerRadius,\n    outerRadius = _ref.outerRadius,\n    cornerRadius = _ref.cornerRadius,\n    startAngle = _ref.startAngle,\n    endAngle = _ref.endAngle,\n    padAngle = _ref.padAngle,\n    padRadius = _ref.padRadius;\n  var path = (0, _d3Shape.arc)();\n  if (innerRadius != null) (0, _setNumberOrNumberAccessor.default)(path.innerRadius, innerRadius);\n  if (outerRadius != null) (0, _setNumberOrNumberAccessor.default)(path.outerRadius, outerRadius);\n  if (cornerRadius != null) (0, _setNumberOrNumberAccessor.default)(path.cornerRadius, cornerRadius);\n  if (startAngle != null) (0, _setNumberOrNumberAccessor.default)(path.startAngle, startAngle);\n  if (endAngle != null) (0, _setNumberOrNumberAccessor.default)(path.endAngle, endAngle);\n  if (padAngle != null) (0, _setNumberOrNumberAccessor.default)(path.padAngle, padAngle);\n  if (padRadius != null) (0, _setNumberOrNumberAccessor.default)(path.padRadius, padRadius);\n  return path;\n}\nfunction area(_temp2) {\n  var _ref2 = _temp2 === void 0 ? {} : _temp2,\n    x = _ref2.x,\n    x0 = _ref2.x0,\n    x1 = _ref2.x1,\n    y = _ref2.y,\n    y0 = _ref2.y0,\n    y1 = _ref2.y1,\n    defined = _ref2.defined,\n    curve = _ref2.curve;\n  var path = (0, _d3Shape.area)();\n  if (x) (0, _setNumberOrNumberAccessor.default)(path.x, x);\n  if (x0) (0, _setNumberOrNumberAccessor.default)(path.x0, x0);\n  if (x1) (0, _setNumberOrNumberAccessor.default)(path.x1, x1);\n  if (y) (0, _setNumberOrNumberAccessor.default)(path.y, y);\n  if (y0) (0, _setNumberOrNumberAccessor.default)(path.y0, y0);\n  if (y1) (0, _setNumberOrNumberAccessor.default)(path.y1, y1);\n  if (defined) path.defined(defined);\n  if (curve) path.curve(curve);\n  return path;\n}\nfunction line(_temp3) {\n  var _ref3 = _temp3 === void 0 ? {} : _temp3,\n    x = _ref3.x,\n    y = _ref3.y,\n    defined = _ref3.defined,\n    curve = _ref3.curve;\n  var path = (0, _d3Shape.line)();\n  if (x) (0, _setNumberOrNumberAccessor.default)(path.x, x);\n  if (y) (0, _setNumberOrNumberAccessor.default)(path.y, y);\n  if (defined) path.defined(defined);\n  if (curve) path.curve(curve);\n  return path;\n}\nfunction pie(_temp4) {\n  var _ref4 = _temp4 === void 0 ? {} : _temp4,\n    startAngle = _ref4.startAngle,\n    endAngle = _ref4.endAngle,\n    padAngle = _ref4.padAngle,\n    value = _ref4.value,\n    sort = _ref4.sort,\n    sortValues = _ref4.sortValues;\n  var path = (0, _d3Shape.pie)();\n\n  // ts can't distinguish between these method overloads\n  if (sort === null) path.sort(sort);else if (sort != null) path.sort(sort);\n  if (sortValues === null) path.sortValues(sortValues);else if (sortValues != null) path.sortValues(sortValues);\n  if (value != null) path.value(value);\n  if (padAngle != null) (0, _setNumberOrNumberAccessor.default)(path.padAngle, padAngle);\n  if (startAngle != null) (0, _setNumberOrNumberAccessor.default)(path.startAngle, startAngle);\n  if (endAngle != null) (0, _setNumberOrNumberAccessor.default)(path.endAngle, endAngle);\n  return path;\n}\nfunction radialLine(_temp5) {\n  var _ref5 = _temp5 === void 0 ? {} : _temp5,\n    angle = _ref5.angle,\n    radius = _ref5.radius,\n    defined = _ref5.defined,\n    curve = _ref5.curve;\n  var path = (0, _d3Shape.radialLine)();\n  if (angle) (0, _setNumberOrNumberAccessor.default)(path.angle, angle);\n  if (radius) (0, _setNumberOrNumberAccessor.default)(path.radius, radius);\n  if (defined) path.defined(defined);\n  if (curve) path.curve(curve);\n  return path;\n}\nfunction stack(_ref6) {\n  var keys = _ref6.keys,\n    value = _ref6.value,\n    order = _ref6.order,\n    offset = _ref6.offset;\n  var path = (0, _d3Shape.stack)();\n  if (keys) path.keys(keys);\n  if (value) (0, _setNumberOrNumberAccessor.default)(path.value, value);\n  if (order) path.order((0, _stackOrder.default)(order));\n  if (offset) path.offset((0, _stackOffset.default)(offset));\n  return path;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.default = setNumberOrNumberAccessor;\n/**\n * This is a workaround for TypeScript not inferring the correct\n * method overload/signature for some d3 shape methods.\n */\nfunction setNumberOrNumberAccessor(func, value) {\n  if (typeof value === 'number') func(value);else func(value);\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.STACK_OFFSET_NAMES = exports.STACK_OFFSETS = void 0;\nexports.default = stackOffset;\nvar _d3Shape = require(\"d3-shape\");\nvar STACK_OFFSETS = {\n  expand: _d3Shape.stackOffsetExpand,\n  diverging: _d3Shape.stackOffsetDiverging,\n  none: _d3Shape.stackOffsetNone,\n  silhouette: _d3Shape.stackOffsetSilhouette,\n  wiggle: _d3Shape.stackOffsetWiggle\n};\nexports.STACK_OFFSETS = STACK_OFFSETS;\nvar STACK_OFFSET_NAMES = Object.keys(STACK_OFFSETS);\nexports.STACK_OFFSET_NAMES = STACK_OFFSET_NAMES;\nfunction stackOffset(offset) {\n  return offset && STACK_OFFSETS[offset] || STACK_OFFSETS.none;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.STACK_ORDER_NAMES = exports.STACK_ORDERS = void 0;\nexports.default = stackOrder;\nvar _d3Shape = require(\"d3-shape\");\nvar STACK_ORDERS = {\n  ascending: _d3Shape.stackOrderAscending,\n  descending: _d3Shape.stackOrderDescending,\n  insideout: _d3Shape.stackOrderInsideOut,\n  none: _d3Shape.stackOrderNone,\n  reverse: _d3Shape.stackOrderReverse\n};\nexports.STACK_ORDERS = STACK_ORDERS;\nvar STACK_ORDER_NAMES = Object.keys(STACK_ORDERS);\nexports.STACK_ORDER_NAMES = STACK_ORDER_NAMES;\nfunction stackOrder(order) {\n  return order && STACK_ORDERS[order] || STACK_ORDERS.none;\n}","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","export var slice = Array.prototype.slice;\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","var Point = /*#__PURE__*/function () {\n  function Point(_ref) {\n    var _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y;\n    this.x = 0;\n    this.y = 0;\n    this.x = x;\n    this.y = y;\n  }\n  var _proto = Point.prototype;\n  _proto.value = function value() {\n    return {\n      x: this.x,\n      y: this.y\n    };\n  };\n  _proto.toArray = function toArray() {\n    return [this.x, this.y];\n  };\n  return Point;\n}();\nexport { Point as default };","export function isElement(elem) {\n  return !!elem && elem instanceof Element;\n}\n\n// functional definition of isSVGElement. Note that SVGSVGElements are HTMLElements\nexport function isSVGElement(elem) {\n  return !!elem && (elem instanceof SVGElement || 'ownerSVGElement' in elem);\n}\n\n// functional definition of SVGGElement\nexport function isSVGSVGElement(elem) {\n  return !!elem && 'createSVGPoint' in elem;\n}\nexport function isSVGGraphicsElement(elem) {\n  return !!elem && 'getScreenCTM' in elem;\n}\n\n// functional definition of TouchEvent\nexport function isTouchEvent(event) {\n  return !!event && 'changedTouches' in event;\n}\n\n// functional definition of MouseEvent\nexport function isMouseEvent(event) {\n  return !!event && 'clientX' in event;\n}\n\n// functional definition of event\nexport function isEvent(event) {\n  return !!event && (event instanceof Event || 'nativeEvent' in event && event.nativeEvent instanceof Event);\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { isMouseEvent, isTouchEvent } from './typeGuards';\nvar DEFAULT_POINT = {\n  x: 0,\n  y: 0\n};\nexport default function getXAndYFromEvent(event) {\n  if (!event) return _extends({}, DEFAULT_POINT);\n  if (isTouchEvent(event)) {\n    return event.changedTouches.length > 0 ? {\n      x: event.changedTouches[0].clientX,\n      y: event.changedTouches[0].clientY\n    } : _extends({}, DEFAULT_POINT);\n  }\n  if (isMouseEvent(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  // for focus events try to extract the center position of the target element\n  var target = event == null ? void 0 : event.target;\n  var boundingClientRect = target && 'getBoundingClientRect' in target ? target.getBoundingClientRect() : null;\n  if (!boundingClientRect) return _extends({}, DEFAULT_POINT);\n  return {\n    x: boundingClientRect.x + boundingClientRect.width / 2,\n    y: boundingClientRect.y + boundingClientRect.height / 2\n  };\n}","import { Point } from '@visx/point';\nimport { isSVGElement, isSVGGraphicsElement, isSVGSVGElement } from './typeGuards';\nimport getXAndYFromEvent from './getXAndYFromEvent';\nexport default function localPoint(node, event) {\n  if (!node || !event) return null;\n  var coords = getXAndYFromEvent(event);\n\n  // find top-most SVG\n  var svg = isSVGElement(node) ? node.ownerSVGElement : node;\n  var screenCTM = isSVGGraphicsElement(svg) ? svg.getScreenCTM() : null;\n  if (isSVGSVGElement(svg) && screenCTM) {\n    var point = svg.createSVGPoint();\n    point.x = coords.x;\n    point.y = coords.y;\n    point = point.matrixTransform(screenCTM.inverse());\n    return new Point({\n      x: point.x,\n      y: point.y\n    });\n  }\n\n  // fall back to bounding box\n  var rect = node.getBoundingClientRect();\n  return new Point({\n    x: coords.x - rect.left - node.clientLeft,\n    y: coords.y - rect.top - node.clientTop\n  });\n}","import localPointGeneric from './localPointGeneric';\nimport { isElement, isEvent } from './typeGuards';\n\n/** Handles two signatures for backwards compatibility. */\nexport default function localPoint(nodeOrEvent, maybeEvent) {\n  // localPoint(node, event)\n  if (isElement(nodeOrEvent) && maybeEvent) {\n    return localPointGeneric(nodeOrEvent, maybeEvent);\n  }\n  // localPoint(event)\n  if (isEvent(nodeOrEvent)) {\n    var event = nodeOrEvent;\n    var node = event.target;\n    if (node) return localPointGeneric(node, event);\n  }\n  return null;\n}","var _excluded = [\"children\", \"id\", \"from\", \"to\", \"fromOffset\", \"fromOpacity\", \"toOffset\", \"toOpacity\", \"rotate\", \"transform\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\n// passed as rest props to radialGradient\n\nexport default function RadialGradient(_ref) {\n  var children = _ref.children,\n    id = _ref.id,\n    from = _ref.from,\n    to = _ref.to,\n    _ref$fromOffset = _ref.fromOffset,\n    fromOffset = _ref$fromOffset === void 0 ? '0%' : _ref$fromOffset,\n    _ref$fromOpacity = _ref.fromOpacity,\n    fromOpacity = _ref$fromOpacity === void 0 ? 1 : _ref$fromOpacity,\n    _ref$toOffset = _ref.toOffset,\n    toOffset = _ref$toOffset === void 0 ? '100%' : _ref$toOffset,\n    _ref$toOpacity = _ref.toOpacity,\n    toOpacity = _ref$toOpacity === void 0 ? 1 : _ref$toOpacity,\n    rotate = _ref.rotate,\n    transform = _ref.transform,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"radialGradient\", _extends({\n    id: id,\n    gradientTransform: rotate ? \"rotate(\" + rotate + \")\" : transform\n  }, restProps), !!children && children, !children && /*#__PURE__*/React.createElement(\"stop\", {\n    offset: fromOffset,\n    stopColor: from,\n    stopOpacity: fromOpacity\n  }), !children && /*#__PURE__*/React.createElement(\"stop\", {\n    offset: toOffset,\n    stopColor: to,\n    stopOpacity: toOpacity\n  })));\n}","var _excluded = [\"tooltipOpen\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { useState, useCallback } from 'react';\nexport default function useTooltip( /** Optional initial TooltipState. */\ninitialTooltipState) {\n  var _useState = useState(_extends({\n      tooltipOpen: false\n    }, initialTooltipState)),\n    tooltipState = _useState[0],\n    setTooltipState = _useState[1];\n  var showTooltip = useCallback(function (showArgs) {\n    return setTooltipState(typeof showArgs === 'function' ? function (_ref) {\n      var tooltipOpen = _ref.tooltipOpen,\n        show = _objectWithoutPropertiesLoose(_ref, _excluded);\n      return _extends({}, showArgs(show), {\n        tooltipOpen: true\n      });\n    } : {\n      tooltipOpen: true,\n      tooltipLeft: showArgs.tooltipLeft,\n      tooltipTop: showArgs.tooltipTop,\n      tooltipData: showArgs.tooltipData\n    });\n  }, [setTooltipState]);\n  var hideTooltip = useCallback(function () {\n    return setTooltipState({\n      tooltipOpen: false,\n      tooltipLeft: undefined,\n      tooltipTop: undefined,\n      tooltipData: undefined\n    });\n  }, [setTooltipState]);\n  return {\n    tooltipOpen: tooltipState.tooltipOpen,\n    tooltipLeft: tooltipState.tooltipLeft,\n    tooltipTop: tooltipState.tooltipTop,\n    tooltipData: tooltipState.tooltipData,\n    updateTooltip: setTooltipState,\n    showTooltip: showTooltip,\n    hideTooltip: hideTooltip\n  };\n}","import { useState, useRef, useEffect, useMemo } from 'react';\nimport { debounce } from 'debounce';\n\nfunction useMeasure({\n  debounce: debounce$1,\n  scroll,\n  polyfill\n} = {\n  debounce: 0,\n  scroll: false\n}) {\n  const ResizeObserver = polyfill || (typeof window === 'undefined' ? class ResizeObserver {} : window.ResizeObserver);\n\n  if (!ResizeObserver) {\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\n  }\n\n  const [bounds, set] = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    bottom: 0,\n    right: 0,\n    x: 0,\n    y: 0\n  }); // keep all state in a ref\n\n  const state = useRef({\n    element: null,\n    scrollContainers: null,\n    resizeObserver: null,\n    lastBounds: bounds\n  }); // set actual debounce values early, so effects know if they should react accordingly\n\n  const scrollDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.scroll : null;\n  const resizeDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.resize : null; // make sure to update state only as long as the component is truly mounted\n\n  const mounted = useRef(false);\n  useEffect(() => {\n    mounted.current = true;\n    return () => void (mounted.current = false);\n  }); // memoize handlers, so event-listeners know when they should update\n\n  const [forceRefresh, resizeChange, scrollChange] = useMemo(() => {\n    const callback = () => {\n      if (!state.current.element) return;\n      const {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      } = state.current.element.getBoundingClientRect();\n      const size = {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      };\n      Object.freeze(size);\n      if (mounted.current && !areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\n    };\n\n    return [callback, resizeDebounce ? debounce(callback, resizeDebounce) : callback, scrollDebounce ? debounce(callback, scrollDebounce) : callback];\n  }, [set, scrollDebounce, resizeDebounce]); // cleanup current scroll-listeners / observers\n\n  function removeListeners() {\n    if (state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(element => element.removeEventListener('scroll', scrollChange, true));\n      state.current.scrollContainers = null;\n    }\n\n    if (state.current.resizeObserver) {\n      state.current.resizeObserver.disconnect();\n      state.current.resizeObserver = null;\n    }\n  } // add scroll-listeners / observers\n\n\n  function addListeners() {\n    if (!state.current.element) return;\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\n    state.current.resizeObserver.observe(state.current.element);\n\n    if (scroll && state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(scrollContainer => scrollContainer.addEventListener('scroll', scrollChange, {\n        capture: true,\n        passive: true\n      }));\n    }\n  } // the ref we expose to the user\n\n\n  const ref = node => {\n    if (!node || node === state.current.element) return;\n    removeListeners();\n    state.current.element = node;\n    state.current.scrollContainers = findScrollContainers(node);\n    addListeners();\n  }; // add general event listeners\n\n\n  useOnWindowScroll(scrollChange, Boolean(scroll));\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\n\n  useEffect(() => {\n    removeListeners();\n    addListeners();\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\n\n  useEffect(() => removeListeners, []);\n  return [ref, bounds, forceRefresh];\n} // Adds native resize listener to window\n\n\nfunction useOnWindowResize(onWindowResize) {\n  useEffect(() => {\n    const cb = onWindowResize;\n    window.addEventListener('resize', cb);\n    return () => void window.removeEventListener('resize', cb);\n  }, [onWindowResize]);\n}\n\nfunction useOnWindowScroll(onScroll, enabled) {\n  useEffect(() => {\n    if (enabled) {\n      const cb = onScroll;\n      window.addEventListener('scroll', cb, {\n        capture: true,\n        passive: true\n      });\n      return () => void window.removeEventListener('scroll', cb, true);\n    }\n  }, [onScroll, enabled]);\n} // Returns a list of scroll offsets\n\n\nfunction findScrollContainers(element) {\n  const result = [];\n  if (!element || element === document.body) return result;\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = window.getComputedStyle(element);\n  if ([overflow, overflowX, overflowY].some(prop => prop === 'auto' || prop === 'scroll')) result.push(element);\n  return [...result, ...findScrollContainers(element.parentElement)];\n} // Checks if element boundaries are equal\n\n\nconst keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\n\nconst areBoundsEqual = (a, b) => keys.every(key => a[key] === b[key]);\n\nexport default useMeasure;\n","import _pt from \"prop-types\";\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n/** Render within a portal using a declarative component API. */\nvar Portal = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Portal, _React$PureComponent);\n  function Portal() {\n    return _React$PureComponent.apply(this, arguments) || this;\n  }\n  var _proto = Portal.prototype;\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.node && document.body) {\n      document.body.removeChild(this.node);\n      delete this.node;\n    }\n  };\n  _proto.render = function render() {\n    // SSR check\n    if (!this.node && typeof document !== 'undefined') {\n      this.node = document.createElement('div');\n      if (this.props.zIndex != null) this.node.style.zIndex = \"\" + this.props.zIndex;\n      document.body.append(this.node);\n    }\n    if (!this.node) {\n      return null;\n    }\n    return /*#__PURE__*/ReactDOM.createPortal(this.props.children, this.node);\n  };\n  return Portal;\n}(React.PureComponent);\nPortal.propTypes = {\n  zIndex: _pt.oneOfType([_pt.number, _pt.string])\n};\nexport { Portal as default };","import _pt from \"prop-types\";\nvar _excluded = [\"className\", \"top\", \"left\", \"offsetLeft\", \"offsetTop\", \"style\", \"children\", \"unstyled\", \"applyPositionStyle\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport cx from 'classnames';\nexport var defaultStyles = {\n  position: 'absolute',\n  backgroundColor: 'white',\n  color: '#666666',\n  padding: '.3rem .5rem',\n  borderRadius: '3px',\n  fontSize: '14px',\n  boxShadow: '0 1px 2px rgba(33,33,33,0.2)',\n  lineHeight: '1em',\n  pointerEvents: 'none'\n};\nvar Tooltip = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var className = _ref.className,\n    top = _ref.top,\n    left = _ref.left,\n    _ref$offsetLeft = _ref.offsetLeft,\n    offsetLeft = _ref$offsetLeft === void 0 ? 10 : _ref$offsetLeft,\n    _ref$offsetTop = _ref.offsetTop,\n    offsetTop = _ref$offsetTop === void 0 ? 10 : _ref$offsetTop,\n    _ref$style = _ref.style,\n    style = _ref$style === void 0 ? defaultStyles : _ref$style,\n    children = _ref.children,\n    _ref$unstyled = _ref.unstyled,\n    unstyled = _ref$unstyled === void 0 ? false : _ref$unstyled,\n    _ref$applyPositionSty = _ref.applyPositionStyle,\n    applyPositionStyle = _ref$applyPositionSty === void 0 ? false : _ref$applyPositionSty,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    className: cx('visx-tooltip', className),\n    style: _extends({\n      top: top == null || offsetTop == null ? top : top + offsetTop,\n      left: left == null || offsetLeft == null ? left : left + offsetLeft\n    }, applyPositionStyle && {\n      position: 'absolute'\n    }, !unstyled && style)\n  }, restProps), children);\n});\nTooltip.propTypes = {\n  children: _pt.node,\n  className: _pt.string,\n  left: _pt.number,\n  offsetLeft: _pt.number,\n  offsetTop: _pt.number,\n  top: _pt.number,\n  applyPositionStyle: _pt.bool,\n  unstyled: _pt.bool\n};\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/* eslint react/no-did-mount-set-state: 0, react/no-find-dom-node: 0 */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nvar emptyRect = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  width: 0,\n  height: 0\n};\nexport default function withBoundingRects(BaseComponent) {\n  var _class;\n  return _class = /*#__PURE__*/function (_React$PureComponent) {\n    _inheritsLoose(WrappedComponent, _React$PureComponent);\n    function WrappedComponent(props) {\n      var _this;\n      _this = _React$PureComponent.call(this, props) || this;\n      _this.state = {\n        rect: undefined,\n        parentRect: undefined\n      };\n      _this.nodeRef = /*#__PURE__*/React.createRef();\n      _this.getRects = _this.getRects.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n    var _proto = WrappedComponent.prototype;\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$nodeRef,\n        _this2 = this;\n      this.node = (_this$nodeRef = this.nodeRef) != null && _this$nodeRef.current ? this.nodeRef.current : ReactDOM.findDOMNode(this);\n      this.setState(function () {\n        return _this2.getRects();\n      });\n    };\n    _proto.getRects = function getRects() {\n      if (!this.node) return this.state;\n      var node = this.node;\n      var parentNode = node.parentNode;\n      var rect = node.getBoundingClientRect ? node.getBoundingClientRect() : emptyRect;\n      var parentRect = parentNode != null && parentNode.getBoundingClientRect ? parentNode.getBoundingClientRect() : emptyRect;\n      return {\n        rect: rect,\n        parentRect: parentRect\n      };\n    };\n    _proto.render = function render() {\n      return /*#__PURE__*/React.createElement(BaseComponent, _extends({\n        nodeRef: this.nodeRef,\n        getRects: this.getRects\n      }, this.state, this.props));\n    };\n    return WrappedComponent;\n  }(React.PureComponent), _class.displayName = \"withBoundingRects(\" + (BaseComponent.displayName || '') + \")\", _class;\n}","import { createContext, useContext } from 'react';\nvar TooltipPositionContext = /*#__PURE__*/createContext({\n  isFlippedVertically: false,\n  isFlippedHorizontally: false\n});\nexport var TooltipPositionProvider = TooltipPositionContext.Provider;\nexport var TooltipPositionConsumer = TooltipPositionContext.Consumer;\nexport var useTooltipPosition = function useTooltipPosition() {\n  return useContext(TooltipPositionContext);\n};","import _pt from \"prop-types\";\nvar _excluded = [\"children\", \"getRects\", \"left\", \"offsetLeft\", \"offsetTop\", \"parentRect\", \"rect\", \"style\", \"top\", \"unstyled\", \"nodeRef\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from 'react';\nimport { withBoundingRects } from '@visx/bounds';\nimport Tooltip, { defaultStyles } from './Tooltip';\nimport { TooltipPositionProvider } from '../context/TooltipPositionContext';\nfunction TooltipWithBounds(_ref) {\n  var children = _ref.children,\n    getRects = _ref.getRects,\n    _ref$left = _ref.left,\n    initialLeft = _ref$left === void 0 ? 0 : _ref$left,\n    _ref$offsetLeft = _ref.offsetLeft,\n    offsetLeft = _ref$offsetLeft === void 0 ? 10 : _ref$offsetLeft,\n    _ref$offsetTop = _ref.offsetTop,\n    offsetTop = _ref$offsetTop === void 0 ? 10 : _ref$offsetTop,\n    parentBounds = _ref.parentRect,\n    ownBounds = _ref.rect,\n    _ref$style = _ref.style,\n    style = _ref$style === void 0 ? defaultStyles : _ref$style,\n    _ref$top = _ref.top,\n    initialTop = _ref$top === void 0 ? 0 : _ref$top,\n    _ref$unstyled = _ref.unstyled,\n    unstyled = _ref$unstyled === void 0 ? false : _ref$unstyled,\n    nodeRef = _ref.nodeRef,\n    otherProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var transform;\n  var placeTooltipLeft = false;\n  var placeTooltipUp = false;\n  if (ownBounds && parentBounds) {\n    var left = initialLeft;\n    var top = initialTop;\n    if (parentBounds.width) {\n      var rightPlacementClippedPx = left + offsetLeft + ownBounds.width - parentBounds.width;\n      var leftPlacementClippedPx = ownBounds.width - left - offsetLeft;\n      placeTooltipLeft = rightPlacementClippedPx > 0 && rightPlacementClippedPx > leftPlacementClippedPx;\n    } else {\n      var _rightPlacementClippedPx = left + offsetLeft + ownBounds.width - window.innerWidth;\n      var _leftPlacementClippedPx = ownBounds.width - left - offsetLeft;\n      placeTooltipLeft = _rightPlacementClippedPx > 0 && _rightPlacementClippedPx > _leftPlacementClippedPx;\n    }\n    if (parentBounds.height) {\n      var bottomPlacementClippedPx = top + offsetTop + ownBounds.height - parentBounds.height;\n      var topPlacementClippedPx = ownBounds.height - top - offsetTop;\n      placeTooltipUp = bottomPlacementClippedPx > 0 && bottomPlacementClippedPx > topPlacementClippedPx;\n    } else {\n      placeTooltipUp = top + offsetTop + ownBounds.height > window.innerHeight;\n    }\n    left = placeTooltipLeft ? left - ownBounds.width - offsetLeft : left + offsetLeft;\n    top = placeTooltipUp ? top - ownBounds.height - offsetTop : top + offsetTop;\n    left = Math.round(left);\n    top = Math.round(top);\n    transform = \"translate(\" + left + \"px, \" + top + \"px)\";\n  }\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({\n    ref: nodeRef,\n    style: _extends({\n      left: 0,\n      top: 0,\n      transform: transform\n    }, !unstyled && style)\n  }, otherProps), /*#__PURE__*/React.createElement(TooltipPositionProvider, {\n    value: {\n      isFlippedVertically: !placeTooltipUp,\n      isFlippedHorizontally: !placeTooltipLeft\n    }\n  }, children));\n}\nTooltipWithBounds.propTypes = {\n  nodeRef: _pt.oneOfType([_pt.string, _pt.func, _pt.object])\n};\nexport default withBoundingRects(TooltipWithBounds);","var _excluded = [\"detectBounds\", \"zIndex\"],\n  _excluded2 = [\"left\", \"top\", \"detectBounds\", \"zIndex\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React, { useEffect, useMemo, useState } from 'react';\nimport useMeasure from 'react-use-measure';\nimport Portal from '../Portal';\nimport Tooltip from '../tooltips/Tooltip';\nimport TooltipWithBounds from '../tooltips/TooltipWithBounds';\n/**\n * Hook that handles rendering of a Tooltip or TooltipWithBounds in a Portal.\n * Handles conversion of container coordinates to page coordinates using the container bounds.\n */\nexport default function useTooltipInPortal(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$detectBounds = _ref.detectBounds,\n    detectBoundsOption = _ref$detectBounds === void 0 ? true : _ref$detectBounds,\n    zIndexOption = _ref.zIndex,\n    useMeasureOptions = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useMeasure = useMeasure(useMeasureOptions),\n    containerRef = _useMeasure[0],\n    containerBounds = _useMeasure[1],\n    forceRefreshBounds = _useMeasure[2];\n  var _useState = useState(false),\n    isSsr = _useState[0],\n    setIsSsr = _useState[1];\n  useEffect(function () {\n    setIsSsr(false);\n  }, []);\n  var TooltipInPortal = useMemo(function () {\n    return function (_ref2) {\n      var _ref2$left = _ref2.left,\n        containerLeft = _ref2$left === void 0 ? 0 : _ref2$left,\n        _ref2$top = _ref2.top,\n        containerTop = _ref2$top === void 0 ? 0 : _ref2$top,\n        detectBoundsProp = _ref2.detectBounds,\n        zIndexProp = _ref2.zIndex,\n        tooltipProps = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n      var detectBounds = detectBoundsProp == null ? detectBoundsOption : detectBoundsProp;\n      var zIndex = zIndexProp == null ? zIndexOption : zIndexProp;\n      var TooltipComponent = detectBounds ? TooltipWithBounds : Tooltip;\n      // convert container coordinates to page coordinates\n      var scrollX = isSsr ? 0 : window.scrollX;\n      var scrollY = isSsr ? 0 : window.scrollY;\n      var portalLeft = containerLeft + (containerBounds.left || 0) + scrollX;\n      var portalTop = containerTop + (containerBounds.top || 0) + scrollY;\n      return /*#__PURE__*/React.createElement(Portal, {\n        zIndex: zIndex\n      }, /*#__PURE__*/React.createElement(TooltipComponent, _extends({\n        left: portalLeft,\n        top: portalTop\n      }, tooltipProps)));\n    };\n  }, [detectBoundsOption, zIndexOption, containerBounds.left, containerBounds.top, isSsr]);\n  return {\n    containerRef: containerRef,\n    containerBounds: containerBounds,\n    forceRefreshBounds: forceRefreshBounds,\n    TooltipInPortal: TooltipInPortal\n  };\n}","import { useRef } from 'react';\n\nlet uniqueId = 0;\nconst getUniqueId = () => uniqueId++;\n\nexport function useComponentInstanceId(prefix: string): string {\n  const idRef = useRef<string | null>(null);\n\n  if (idRef.current === null) {\n    idRef.current = prefix + getUniqueId();\n  }\n\n  return idRef.current!.toString();\n}\n","// Code generated - EDITING IS FUTILE. DO NOT EDIT.\n//\n// Generated by:\n//     public/app/plugins/gen.go\n// Using jennies:\n//     TSTypesJenny\n//     PluginTsTypesJenny\n//\n// Run 'make gen-cue' from repository root to regenerate.\n\nimport * as common from '@grafana/schema';\n\n/**\n * Select the pie chart display style.\n */\nexport enum PieChartType {\n  Donut = 'donut',\n  Pie = 'pie',\n}\n\n/**\n * Select labels to display on the pie chart.\n *  - Name - The series or field name.\n *  - Percent - The percentage of the whole.\n *  - Value - The raw numerical value.\n */\nexport enum PieChartLabels {\n  Name = 'name',\n  Percent = 'percent',\n  Value = 'value',\n}\n\n/**\n * Select values to display in the legend.\n *  - Percent: The percentage of the whole.\n *  - Value: The raw numerical value.\n */\nexport enum PieChartLegendValues {\n  Percent = 'percent',\n  Value = 'value',\n}\n\nexport interface PieChartLegendOptions extends common.VizLegendOptions {\n  values: Array<PieChartLegendValues>;\n}\n\nexport const defaultPieChartLegendOptions: Partial<PieChartLegendOptions> = {\n  values: [],\n};\n\nexport interface Options extends common.OptionsWithTooltip, common.SingleStatBaseOptions {\n  displayLabels: Array<PieChartLabels>;\n  legend: PieChartLegendOptions;\n  pieType: PieChartType;\n}\n\nexport const defaultOptions: Partial<Options> = {\n  displayLabels: [],\n};\n\nexport interface FieldConfig extends common.HideableFieldConfig {}\n","import { FieldDisplay } from '@grafana/data';\n\nexport function filterDisplayItems(item: FieldDisplay) {\n  return !item.field.custom?.hideFrom?.viz && !isNaN(item.display.numeric);\n}\n\nexport function sumDisplayItemsReducer(acc: number, item: FieldDisplay) {\n  return item.display.numeric + acc;\n}\n","import { css } from '@emotion/css';\nimport { localPoint } from '@visx/event';\nimport { RadialGradient } from '@visx/gradient';\nimport { Group } from '@visx/group';\nimport Pie, { PieArcDatum, ProvidedProps } from '@visx/shape/lib/shapes/Pie';\nimport { useTooltip, useTooltipInPortal } from '@visx/tooltip';\nimport { UseTooltipParams } from '@visx/tooltip/lib/hooks/useTooltip';\nimport { useCallback } from 'react';\nimport * as React from 'react';\nimport tinycolor from 'tinycolor2';\n\nimport {\n  FieldDisplay,\n  FALLBACK_COLOR,\n  formattedValueToString,\n  GrafanaTheme2,\n  DataHoverClearEvent,\n  DataHoverEvent,\n} from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { VizTooltipOptions } from '@grafana/schema';\nimport {\n  useTheme2,\n  useStyles2,\n  SeriesTableRowProps,\n  DataLinksContextMenu,\n  SeriesTable,\n  usePanelContext,\n} from '@grafana/ui';\nimport { getTooltipContainerStyles } from '@grafana/ui/src/themes/mixins';\nimport { useComponentInstanceId } from '@grafana/ui/src/utils/useComponetInstanceId';\n\nimport { PieChartType, PieChartLabels } from './panelcfg.gen';\nimport { filterDisplayItems, sumDisplayItemsReducer } from './utils';\n\n/**\n * @beta\n */\ninterface PieChartProps {\n  height: number;\n  width: number;\n  fieldDisplayValues: FieldDisplay[];\n  pieType: PieChartType;\n  highlightedTitle?: string;\n  displayLabels?: PieChartLabels[];\n  useGradients?: boolean; // not used?\n  tooltipOptions: VizTooltipOptions;\n}\n\nexport const PieChart = ({\n  fieldDisplayValues,\n  pieType,\n  width,\n  height,\n  highlightedTitle,\n  displayLabels = [],\n  tooltipOptions,\n}: PieChartProps) => {\n  const theme = useTheme2();\n  const componentInstanceId = useComponentInstanceId('PieChart');\n  const styles = useStyles2(getStyles);\n  const tooltip = useTooltip<SeriesTableRowProps[]>();\n  const { containerRef, TooltipInPortal } = useTooltipInPortal({\n    detectBounds: true,\n    scroll: true,\n  });\n\n  const filteredFieldDisplayValues = fieldDisplayValues.filter(filterDisplayItems);\n\n  const getValue = (d: FieldDisplay) => d.display.numeric;\n  const getGradientId = (color: string) => `${componentInstanceId}-${tinycolor(color).toHex()}`;\n  const getGradientColor = (color: string) => {\n    return `url(#${getGradientId(color)})`;\n  };\n\n  const showLabel = displayLabels.length > 0;\n  const showTooltip = tooltipOptions.mode !== 'none' && tooltip.tooltipOpen;\n  const total = filteredFieldDisplayValues.reduce(sumDisplayItemsReducer, 0);\n  const layout = getPieLayout(width, height, pieType);\n  const colors = [\n    ...new Set(\n      filteredFieldDisplayValues.map((fieldDisplayValue) => fieldDisplayValue.display.color ?? FALLBACK_COLOR)\n    ),\n  ];\n\n  return (\n    <div className={styles.container}>\n      <svg width={layout.size} height={layout.size} ref={containerRef} style={{ overflow: 'visible' }}>\n        <Group top={layout.position} left={layout.position}>\n          {colors.map((color) => {\n            return (\n              <RadialGradient\n                key={color}\n                id={getGradientId(color)}\n                from={getGradientColorFrom(color, theme)}\n                to={getGradientColorTo(color, theme)}\n                fromOffset={layout.gradientFromOffset}\n                toOffset=\"1\"\n                gradientUnits=\"userSpaceOnUse\"\n                cx={0}\n                cy={0}\n                radius={layout.outerRadius}\n              />\n            );\n          })}\n          <Pie\n            data={filteredFieldDisplayValues}\n            pieValue={getValue}\n            outerRadius={layout.outerRadius}\n            innerRadius={layout.innerRadius}\n            cornerRadius={3}\n            padAngle={0.005}\n          >\n            {(pie) => (\n              <>\n                {pie.arcs.map((arc) => {\n                  const color = arc.data.display.color ?? FALLBACK_COLOR;\n                  const highlightState = getHighlightState(highlightedTitle, arc);\n\n                  if (arc.data.hasLinks && arc.data.getLinks) {\n                    return (\n                      <DataLinksContextMenu key={arc.index} links={arc.data.getLinks}>\n                        {(api) => (\n                          <PieSlice\n                            tooltip={tooltip}\n                            highlightState={highlightState}\n                            arc={arc}\n                            pie={pie}\n                            fill={getGradientColor(color)}\n                            openMenu={api.openMenu}\n                            tooltipOptions={tooltipOptions}\n                          />\n                        )}\n                      </DataLinksContextMenu>\n                    );\n                  } else {\n                    return (\n                      <PieSlice\n                        key={arc.index}\n                        highlightState={highlightState}\n                        tooltip={tooltip}\n                        arc={arc}\n                        pie={pie}\n                        fill={getGradientColor(color)}\n                        tooltipOptions={tooltipOptions}\n                      />\n                    );\n                  }\n                })}\n                {showLabel &&\n                  pie.arcs.map((arc) => {\n                    const highlightState = getHighlightState(highlightedTitle, arc);\n                    return (\n                      <PieLabel\n                        arc={arc}\n                        key={arc.index}\n                        highlightState={highlightState}\n                        outerRadius={layout.outerRadius}\n                        innerRadius={layout.innerRadius}\n                        displayLabels={displayLabels}\n                        total={total}\n                        color={theme.colors.text.primary}\n                      />\n                    );\n                  })}\n              </>\n            )}\n          </Pie>\n        </Group>\n      </svg>\n      {showTooltip ? (\n        <TooltipInPortal\n          key={Math.random()}\n          top={tooltip.tooltipTop}\n          className={styles.tooltipPortal}\n          left={tooltip.tooltipLeft}\n          unstyled={true}\n          applyPositionStyle={true}\n        >\n          <SeriesTable series={tooltip.tooltipData!} />\n        </TooltipInPortal>\n      ) : null}\n    </div>\n  );\n};\n\ninterface SliceProps {\n  arc: PieArcDatum<FieldDisplay>;\n  pie: ProvidedProps<FieldDisplay>;\n  highlightState: HighLightState;\n  fill: string;\n  tooltip: UseTooltipParams<SeriesTableRowProps[]>;\n  tooltipOptions: VizTooltipOptions;\n  openMenu?: (event: React.MouseEvent<SVGElement>) => void;\n}\n\nfunction PieSlice({ arc, pie, highlightState, openMenu, fill, tooltip, tooltipOptions }: SliceProps) {\n  const theme = useTheme2();\n  const styles = useStyles2(getStyles);\n  const { eventBus } = usePanelContext();\n\n  const onMouseOut = useCallback(\n    (event: React.MouseEvent<SVGGElement>) => {\n      eventBus?.publish({\n        type: DataHoverClearEvent.type,\n        payload: {\n          raw: event,\n          x: 0,\n          y: 0,\n          dataId: arc.data.display.title,\n        },\n      });\n      tooltip.hideTooltip();\n    },\n    [eventBus, arc, tooltip]\n  );\n\n  const onMouseMoveOverArc = useCallback(\n    (event: React.MouseEvent<SVGGElement>) => {\n      eventBus?.publish({\n        type: DataHoverEvent.type,\n        payload: {\n          raw: event,\n          x: 0,\n          y: 0,\n          dataId: arc.data.display.title,\n        },\n      });\n\n      const owner = event.currentTarget.ownerSVGElement;\n\n      if (owner) {\n        const coords = localPoint(owner, event);\n        tooltip.showTooltip({\n          tooltipLeft: coords!.x,\n          tooltipTop: coords!.y,\n          tooltipData: getTooltipData(pie, arc, tooltipOptions),\n        });\n      }\n    },\n    [eventBus, arc, tooltip, pie, tooltipOptions]\n  );\n\n  const pieStyle = getSvgStyle(highlightState, styles);\n\n  return (\n    <g\n      key={arc.data.display.title}\n      className={pieStyle}\n      onMouseMove={tooltipOptions.mode !== 'none' ? onMouseMoveOverArc : undefined}\n      onMouseOut={onMouseOut}\n      onClick={openMenu}\n      data-testid={selectors.components.Panels.Visualization.PieChart.svgSlice}\n    >\n      <path d={pie.path({ ...arc })!} fill={fill} stroke={theme.colors.background.primary} strokeWidth={1} />\n    </g>\n  );\n}\n\ninterface LabelProps {\n  arc: PieArcDatum<FieldDisplay>;\n  outerRadius: number;\n  innerRadius: number;\n  displayLabels: PieChartLabels[];\n  highlightState: HighLightState;\n  total: number;\n  color: string;\n}\n\nfunction PieLabel({ arc, outerRadius, innerRadius, displayLabels, total, color, highlightState }: LabelProps) {\n  const styles = useStyles2(getStyles);\n  const labelRadius = innerRadius === 0 ? outerRadius / 6 : innerRadius;\n  const [labelX, labelY] = getLabelPos(arc, outerRadius, labelRadius);\n  const hasSpaceForLabel = arc.endAngle - arc.startAngle >= 0.3;\n\n  if (!hasSpaceForLabel) {\n    return null;\n  }\n\n  let labelFontSize = displayLabels.includes(PieChartLabels.Name)\n    ? Math.min(Math.max((outerRadius / 150) * 14, 12), 30)\n    : Math.min(Math.max((outerRadius / 100) * 14, 12), 36);\n\n  return (\n    <g className={getSvgStyle(highlightState, styles)}>\n      <text\n        fill={color}\n        x={labelX}\n        y={labelY}\n        dy=\".33em\"\n        fontSize={labelFontSize}\n        fontWeight={500}\n        textAnchor=\"middle\"\n        pointerEvents=\"none\"\n      >\n        {displayLabels.includes(PieChartLabels.Name) && (\n          <tspan x={labelX} dy=\"1.2em\">\n            {arc.data.display.title}\n          </tspan>\n        )}\n        {displayLabels.includes(PieChartLabels.Value) && (\n          <tspan x={labelX} dy=\"1.2em\">\n            {formattedValueToString(arc.data.display)}\n          </tspan>\n        )}\n        {displayLabels.includes(PieChartLabels.Percent) && (\n          <tspan x={labelX} dy=\"1.2em\">\n            {((arc.data.display.numeric / total) * 100).toFixed(arc.data.field.decimals ?? 0) + '%'}\n          </tspan>\n        )}\n      </text>\n    </g>\n  );\n}\n\nfunction getTooltipData(\n  pie: ProvidedProps<FieldDisplay>,\n  arc: PieArcDatum<FieldDisplay>,\n  tooltipOptions: VizTooltipOptions\n) {\n  if (tooltipOptions.mode === 'multi') {\n    return pie.arcs\n      .filter((pa) => {\n        const field = pa.data.field;\n        return field && !field.custom?.hideFrom?.tooltip && !field.custom?.hideFrom?.viz;\n      })\n      .map((pieArc) => {\n        return {\n          color: pieArc.data.display.color ?? FALLBACK_COLOR,\n          label: pieArc.data.display.title,\n          value: formattedValueToString(pieArc.data.display),\n          isActive: pieArc.index === arc.index,\n        };\n      });\n  }\n  return [\n    {\n      color: arc.data.display.color ?? FALLBACK_COLOR,\n      label: arc.data.display.title,\n      value: formattedValueToString(arc.data.display),\n    },\n  ];\n}\n\nfunction getLabelPos(arc: PieArcDatum<FieldDisplay>, outerRadius: number, innerRadius: number) {\n  const r = (outerRadius + innerRadius) / 2;\n  const a = (+arc.startAngle + +arc.endAngle) / 2 - Math.PI / 2;\n  return [Math.cos(a) * r, Math.sin(a) * r];\n}\n\nfunction getGradientColorFrom(color: string, theme: GrafanaTheme2) {\n  return tinycolor(color)\n    .darken(20 * (theme.isDark ? 1 : -0.7))\n    .spin(4)\n    .toRgbString();\n}\n\nfunction getGradientColorTo(color: string, theme: GrafanaTheme2) {\n  return tinycolor(color)\n    .darken(10 * (theme.isDark ? 1 : -0.7))\n    .spin(-4)\n    .toRgbString();\n}\n\ninterface PieLayout {\n  position: number;\n  size: number;\n  outerRadius: number;\n  innerRadius: number;\n  gradientFromOffset: number;\n}\n\nfunction getPieLayout(height: number, width: number, pieType: PieChartType, margin = 16): PieLayout {\n  const size = Math.min(width, height);\n  const outerRadius = (size - margin * 2) / 2;\n  const donutThickness = pieType === PieChartType.Pie ? outerRadius : Math.max(outerRadius / 3, 20);\n  const innerRadius = outerRadius - donutThickness;\n  const centerOffset = (size - margin * 2) / 2;\n  // for non donut pie charts shift gradient out a bit\n  const gradientFromOffset = 1 - (outerRadius - innerRadius) / outerRadius;\n  return {\n    position: centerOffset + margin,\n    size: size,\n    outerRadius: outerRadius,\n    innerRadius: innerRadius,\n    gradientFromOffset: gradientFromOffset,\n  };\n}\n\nenum HighLightState {\n  Highlighted,\n  Deemphasized,\n  Normal,\n}\n\nfunction getHighlightState(highlightedTitle: string | undefined, arc: PieArcDatum<FieldDisplay>) {\n  if (highlightedTitle) {\n    if (highlightedTitle === arc.data.display.title) {\n      return HighLightState.Highlighted;\n    } else {\n      return HighLightState.Deemphasized;\n    }\n  }\n  return HighLightState.Normal;\n}\n\nfunction getSvgStyle(\n  highlightState: HighLightState,\n  styles: {\n    svgArg: { normal: string; highlighted: string; deemphasized: string };\n  }\n) {\n  switch (highlightState) {\n    case HighLightState.Highlighted:\n      return styles.svgArg.highlighted;\n    case HighLightState.Deemphasized:\n      return styles.svgArg.deemphasized;\n    case HighLightState.Normal:\n    default:\n      return styles.svgArg.normal;\n  }\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css`\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    `,\n    svgArg: {\n      normal: css`\n        transition: all 200ms ease-in-out;\n      `,\n      highlighted: css`\n        transition: all 200ms ease-in-out;\n        transform: scale3d(1.03, 1.03, 1);\n      `,\n      deemphasized: css`\n        transition: all 200ms ease-in-out;\n        fill-opacity: 0.5;\n      `,\n    },\n    tooltipPortal: css`\n      ${getTooltipContainerStyles(theme)}\n    `,\n  };\n};\n","import { useEffect, useState } from 'react';\nimport { Subscription } from 'rxjs';\n\nimport {\n  DataHoverClearEvent,\n  DataHoverEvent,\n  FALLBACK_COLOR,\n  FieldDisplay,\n  formattedValueToString,\n  getFieldDisplayValues,\n  PanelProps,\n} from '@grafana/data';\nimport { PanelDataErrorView } from '@grafana/runtime';\nimport { HideSeriesConfig, LegendDisplayMode } from '@grafana/schema';\nimport {\n  SeriesVisibilityChangeBehavior,\n  usePanelContext,\n  useTheme2,\n  VizLayout,\n  VizLegend,\n  VizLegendItem,\n} from '@grafana/ui';\n\nimport { PieChart } from './PieChart';\nimport { PieChartLegendOptions, PieChartLegendValues, Options } from './panelcfg.gen';\nimport { filterDisplayItems, sumDisplayItemsReducer } from './utils';\n\nconst defaultLegendOptions: PieChartLegendOptions = {\n  displayMode: LegendDisplayMode.List,\n  showLegend: true,\n  placement: 'right',\n  calcs: [],\n  values: [PieChartLegendValues.Percent],\n};\n\ninterface Props extends PanelProps<Options> {}\n\n/**\n * @beta\n */\nexport function PieChartPanel(props: Props) {\n  const { data, timeZone, fieldConfig, replaceVariables, width, height, options, id } = props;\n\n  const theme = useTheme2();\n  const highlightedTitle = useSliceHighlightState();\n  const fieldDisplayValues = getFieldDisplayValues({\n    fieldConfig,\n    reduceOptions: options.reduceOptions,\n    data: data.series,\n    theme: theme,\n    replaceVariables,\n    timeZone,\n  });\n\n  if (!hasFrames(fieldDisplayValues)) {\n    return <PanelDataErrorView panelId={id} fieldConfig={fieldConfig} data={data} />;\n  }\n\n  return (\n    <VizLayout width={width} height={height} legend={getLegend(props, fieldDisplayValues)}>\n      {(vizWidth: number, vizHeight: number) => {\n        return (\n          <PieChart\n            width={vizWidth}\n            height={vizHeight}\n            highlightedTitle={highlightedTitle}\n            fieldDisplayValues={fieldDisplayValues}\n            tooltipOptions={options.tooltip}\n            pieType={options.pieType}\n            displayLabels={options.displayLabels}\n          />\n        );\n      }}\n    </VizLayout>\n  );\n}\n\nfunction getLegend(props: Props, displayValues: FieldDisplay[]) {\n  const legendOptions = props.options.legend ?? defaultLegendOptions;\n\n  if (legendOptions.showLegend === false) {\n    return undefined;\n  }\n  const total = displayValues.filter(filterDisplayItems).reduce(sumDisplayItemsReducer, 0);\n\n  const legendItems: VizLegendItem[] = displayValues\n    // Since the pie chart is always sorted, let's sort the legend as well.\n    .sort((a, b) => {\n      if (isNaN(a.display.numeric)) {\n        return 1;\n      } else if (isNaN(b.display.numeric)) {\n        return -1;\n      } else {\n        return b.display.numeric - a.display.numeric;\n      }\n    })\n    .map<VizLegendItem | undefined>((value: FieldDisplay, idx: number) => {\n      const hideFrom: HideSeriesConfig = value.field.custom?.hideFrom ?? {};\n\n      if (hideFrom.legend) {\n        return undefined;\n      }\n\n      const hideFromViz = Boolean(hideFrom.viz);\n\n      const display = value.display;\n      return {\n        label: display.title ?? '',\n        color: display.color ?? FALLBACK_COLOR,\n        yAxis: 1,\n        disabled: hideFromViz,\n        getItemKey: () => (display.title ?? '') + idx,\n        getDisplayValues: () => {\n          const valuesToShow = legendOptions.values ?? [];\n          let displayValues = [];\n\n          if (valuesToShow.includes(PieChartLegendValues.Value)) {\n            displayValues.push({ numeric: display.numeric, text: formattedValueToString(display), title: 'Value' });\n          }\n\n          if (valuesToShow.includes(PieChartLegendValues.Percent)) {\n            const fractionOfTotal = hideFromViz ? 0 : display.numeric / total;\n            const percentOfTotal = fractionOfTotal * 100;\n\n            displayValues.push({\n              numeric: fractionOfTotal,\n              percent: percentOfTotal,\n              text:\n                hideFromViz || isNaN(fractionOfTotal)\n                  ? (props.fieldConfig.defaults.noValue ?? '-')\n                  : percentOfTotal.toFixed(value.field.decimals ?? 0) + '%',\n              title: valuesToShow.length > 1 ? 'Percent' : '',\n            });\n          }\n\n          return displayValues;\n        },\n      };\n    })\n    .filter((i): i is VizLegendItem => !!i);\n\n  return (\n    <VizLayout.Legend placement={legendOptions.placement} width={legendOptions.width}>\n      <VizLegend\n        items={legendItems}\n        seriesVisibilityChangeBehavior={SeriesVisibilityChangeBehavior.Hide}\n        placement={legendOptions.placement}\n        displayMode={legendOptions.displayMode}\n      />\n    </VizLayout.Legend>\n  );\n}\n\nfunction hasFrames(fieldDisplayValues: FieldDisplay[]) {\n  return fieldDisplayValues.some((fd) => fd.view?.dataFrame.length);\n}\n\nfunction useSliceHighlightState() {\n  const [highlightedTitle, setHighlightedTitle] = useState<string>();\n  const { eventBus } = usePanelContext();\n\n  useEffect(() => {\n    const setHighlightedSlice = (event: DataHoverEvent) => {\n      setHighlightedTitle(event.payload.dataId);\n    };\n\n    const resetHighlightedSlice = (event: DataHoverClearEvent) => {\n      setHighlightedTitle(undefined);\n    };\n\n    const subs = new Subscription();\n    subs.add(eventBus.getStream(DataHoverEvent).subscribe({ next: setHighlightedSlice }));\n    subs.add(eventBus.getStream(DataHoverClearEvent).subscribe({ next: resetHighlightedSlice }));\n\n    return () => {\n      subs.unsubscribe();\n    };\n  }, [setHighlightedTitle, eventBus]);\n\n  return highlightedTitle;\n}\n","import { FieldColorModeId, FieldConfigProperty, FieldMatcherID, PanelModel } from '@grafana/data';\nimport { LegendDisplayMode } from '@grafana/schema';\n\nimport { Options, PieChartLabels, PieChartLegendValues, PieChartType } from './panelcfg.gen';\n\nexport const PieChartPanelChangedHandler = (\n  panel: PanelModel<Partial<Options>> | any,\n  prevPluginId: string,\n  prevOptions: any\n) => {\n  if (prevPluginId === 'grafana-piechart-panel' && prevOptions.angular) {\n    const angular = prevOptions.angular;\n    const overrides = [];\n    let options: Options = panel.options;\n\n    // Migrate color overrides for series\n    if (angular.aliasColors) {\n      for (const alias of Object.keys(angular.aliasColors)) {\n        const color = angular.aliasColors[alias];\n        if (color) {\n          overrides.push({\n            matcher: {\n              id: FieldMatcherID.byName,\n              options: alias,\n            },\n            properties: [\n              {\n                id: FieldConfigProperty.Color,\n                value: {\n                  mode: FieldColorModeId.Fixed,\n                  fixedColor: color,\n                },\n              },\n            ],\n          });\n        }\n      }\n    }\n\n    panel.fieldConfig = {\n      overrides,\n      defaults: {\n        unit: angular.format,\n        decimals: angular.decimals ? angular.decimals : 0, // Old piechart defaults to 0 decimals while the new one defaults to 1\n      },\n    };\n\n    options.legend = {\n      placement: 'right',\n      values: [],\n      displayMode: LegendDisplayMode.Table,\n      showLegend: true,\n      calcs: [],\n    };\n\n    if (angular.valueName) {\n      options.reduceOptions = { calcs: [] };\n      switch (angular.valueName) {\n        case 'current':\n          options.reduceOptions.calcs = ['lastNotNull'];\n          break;\n        case 'min':\n          options.reduceOptions.calcs = ['min'];\n          break;\n        case 'max':\n          options.reduceOptions.calcs = ['max'];\n          break;\n        case 'avg':\n          options.reduceOptions.calcs = ['mean'];\n          break;\n        case 'total':\n          options.reduceOptions.calcs = ['sum'];\n          break;\n      }\n    }\n\n    switch (angular.legendType) {\n      case 'Under graph':\n        options.legend.placement = 'bottom';\n        break;\n      case 'Right side':\n        options.legend.placement = 'right';\n        break;\n    }\n\n    switch (angular.pieType) {\n      case 'pie':\n        options.pieType = PieChartType.Pie;\n        break;\n      case 'donut':\n        options.pieType = PieChartType.Donut;\n        break;\n    }\n\n    if (angular.legend) {\n      if (!angular.legend.show) {\n        options.legend.showLegend = false;\n      }\n      if (angular.legend.values) {\n        options.legend.values.push(PieChartLegendValues.Value);\n      }\n      if (angular.legend.percentage) {\n        options.legend.values.push(PieChartLegendValues.Percent);\n      }\n    }\n\n    // Set up labels when the old piechart is using 'on graph', for the legend option.\n    if (angular.legendType === 'On graph') {\n      options.legend.showLegend = false;\n      options.displayLabels = [PieChartLabels.Name];\n      if (angular.legend.values) {\n        options.displayLabels.push(PieChartLabels.Value);\n      }\n      if (angular.legend.percentage) {\n        options.displayLabels.push(PieChartLabels.Percent);\n      }\n    }\n\n    return options;\n  }\n  return {};\n};\n","import { VisualizationSuggestionsBuilder } from '@grafana/data';\nimport { LegendDisplayMode } from '@grafana/schema';\nimport { SuggestionName } from 'app/types/suggestions';\n\nimport { PieChartLabels, Options, PieChartType } from './panelcfg.gen';\n\nexport class PieChartSuggestionsSupplier {\n  getSuggestionsForData(builder: VisualizationSuggestionsBuilder) {\n    const list = builder.getListAppender<Options, {}>({\n      name: SuggestionName.PieChart,\n      pluginId: 'piechart',\n      options: {\n        reduceOptions: {\n          values: false,\n          calcs: ['lastNotNull'],\n        },\n        displayLabels: [PieChartLabels.Percent],\n        legend: {\n          calcs: [],\n          displayMode: LegendDisplayMode.Hidden,\n          placement: 'right',\n          values: [],\n          showLegend: false,\n        },\n      },\n    });\n\n    const { dataSummary } = builder;\n\n    if (!dataSummary.hasNumberField) {\n      return;\n    }\n\n    if (dataSummary.hasStringField && dataSummary.frameCount === 1) {\n      // if many values this or single value PieChart is not a good option\n      if (dataSummary.rowCountTotal > 30 || dataSummary.rowCountTotal < 2) {\n        return;\n      }\n\n      list.append({\n        name: SuggestionName.PieChart,\n        options: {\n          reduceOptions: {\n            values: true,\n            calcs: [],\n          },\n        },\n      });\n\n      list.append({\n        name: SuggestionName.PieChartDonut,\n        options: {\n          reduceOptions: {\n            values: true,\n            calcs: [],\n          },\n          pieType: PieChartType.Donut,\n        },\n      });\n\n      return;\n    }\n\n    if (dataSummary.numberFieldCount > 30 || dataSummary.numberFieldCount < 2) {\n      return;\n    }\n\n    list.append({\n      name: SuggestionName.PieChart,\n    });\n\n    list.append({\n      name: SuggestionName.PieChartDonut,\n      options: {\n        pieType: PieChartType.Donut,\n      },\n    });\n  }\n}\n","import { FieldColorModeId, FieldConfigProperty, PanelPlugin } from '@grafana/data';\nimport { commonOptionsBuilder } from '@grafana/ui';\n\nimport { addStandardDataReduceOptions } from '../stat/common';\n\nimport { PieChartPanel } from './PieChartPanel';\nimport { PieChartPanelChangedHandler } from './migrations';\nimport { Options, FieldConfig, PieChartType, PieChartLabels, PieChartLegendValues } from './panelcfg.gen';\nimport { PieChartSuggestionsSupplier } from './suggestions';\n\nexport const plugin = new PanelPlugin<Options, FieldConfig>(PieChartPanel)\n  .setPanelChangeHandler(PieChartPanelChangedHandler)\n  .useFieldConfig({\n    disableStandardOptions: [FieldConfigProperty.Thresholds],\n    standardOptions: {\n      [FieldConfigProperty.Color]: {\n        settings: {\n          byValueSupport: false,\n          bySeriesSupport: true,\n          preferThresholdsMode: false,\n        },\n        defaultValue: {\n          mode: FieldColorModeId.PaletteClassic,\n        },\n      },\n    },\n    useCustomConfig: (builder) => {\n      commonOptionsBuilder.addHideFrom(builder);\n    },\n  })\n  .setPanelOptions((builder) => {\n    addStandardDataReduceOptions(builder);\n    builder\n      .addRadio({\n        name: 'Piechart type',\n        description: 'How the piechart should be rendered',\n        path: 'pieType',\n        settings: {\n          options: [\n            { value: PieChartType.Pie, label: 'Pie' },\n            { value: PieChartType.Donut, label: 'Donut' },\n          ],\n        },\n        defaultValue: PieChartType.Pie,\n      })\n      .addMultiSelect({\n        name: 'Labels',\n        path: 'displayLabels',\n        description: 'Select the labels to be displayed in the pie chart',\n        settings: {\n          options: [\n            { value: PieChartLabels.Percent, label: 'Percent' },\n            { value: PieChartLabels.Name, label: 'Name' },\n            { value: PieChartLabels.Value, label: 'Value' },\n          ],\n        },\n      });\n\n    commonOptionsBuilder.addTooltipOptions(builder);\n    commonOptionsBuilder.addLegendOptions(builder, false);\n\n    builder.addMultiSelect({\n      name: 'Legend values',\n      path: 'legend.values',\n      category: ['Legend'],\n      settings: {\n        options: [\n          { value: PieChartLegendValues.Percent, label: 'Percent' },\n          { value: PieChartLegendValues.Value, label: 'Value' },\n        ],\n      },\n      showIf: (c) => c.legend.showLegend !== false,\n    });\n  })\n  .setSuggestionsSupplier(new PieChartSuggestionsSupplier());\n"],"names":["_excluded","_extends","target","i","source","key","_objectWithoutPropertiesLoose","excluded","sourceKeys","Group","_ref","_ref$top","top","_ref$left","left","transform","className","children","innerRef","restProps","exports","Pie","_react","_interopRequireDefault","_classnames","_group","_D3ShapeFactories","obj","_ref$data","data","centroid","_ref$innerRadius","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","_ref$fill","fill","path","pie","arcs","arc","area","line","radialLine","stack","_d3Shape","_setNumberOrNumberAccessor","_stackOrder","_stackOffset","_temp","_temp2","_ref2","x","x0","x1","y","y0","y1","defined","curve","_temp3","_ref3","_temp4","_ref4","value","sort","sortValues","_temp5","_ref5","angle","radius","_ref6","keys","order","offset","setNumberOrNumberAccessor","func","stackOffset","STACK_OFFSETS","STACK_OFFSET_NAMES","stackOrder","STACK_ORDERS","STACK_ORDER_NAMES","pi","tau","epsilon","tauEpsilon","Path","x2","y2","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","t01","t21","r","a0","a1","ccw","dx","dy","cw","da","w","h","abs","atan2","cos","max","min","sin","sqrt","halfPi","acos","asin","arcInnerRadius","d","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","intersect","x3","y3","x10","y10","x32","y32","t","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","constant","context","buffer","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","t0","t1","p0","p1","oc","ax","ay","bx","by","kc","lc","a","Linear","p","output","n","defined0","_","j","k","x0z","y0z","arealine","b","identity","descending","sum","index","pa","v","curveRadialLinear","curveRadial","Radial","radial","lineRadial","c","slice","linkSource","linkTarget","link","argv","s","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","size","tan30","tan30_2","ka","kr","kx","ky","sqrt3","symbols","circle","cross","diamond","square","star","triangle","wye","type","symbol","point","that","Basis","BasisClosed","noop","BasisOpen","Bundle","beta","custom","bundle","Cardinal","tension","cardinal","CardinalClosed","CardinalOpen","m","CatmullRom","alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","sign","slope3","h0","h1","s0","s1","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","px","controlPoints","py","i0","i1","Step","stepBefore","stepAfter","series","o","stackValue","kz","sz","oz","ki","si","sij","none","yp","yn","s2","sij0","sij1","s3","sk","skj0","skj1","peaks","peak","vi","vj","sums","ascending","appearance","bottom","tops","bottoms","debounce","wait","immediate","timeout","args","timestamp","result","later","last","debounced","callNow","module","Point","_ref$x","_ref$y","_proto","isElement","elem","isSVGElement","isSVGSVGElement","isSVGGraphicsElement","isTouchEvent","event","isMouseEvent","isEvent","DEFAULT_POINT","getXAndYFromEvent","boundingClientRect","localPoint","node","coords","svg","screenCTM","rect","nodeOrEvent","maybeEvent","RadialGradient","id","from","to","_ref$fromOffset","fromOffset","_ref$fromOpacity","fromOpacity","_ref$toOffset","toOffset","_ref$toOpacity","toOpacity","rotate","useTooltip","initialTooltipState","_useState","tooltipState","setTooltipState","showTooltip","showArgs","tooltipOpen","show","hideTooltip","useMeasure","debounce$1","scroll","polyfill","ResizeObserver","bounds","set","state","scrollDebounce","resizeDebounce","mounted","forceRefresh","resizeChange","scrollChange","callback","width","height","right","areBoundsEqual","removeListeners","element","addListeners","scrollContainer","ref","findScrollContainers","useOnWindowScroll","useOnWindowResize","onWindowResize","cb","onScroll","enabled","overflow","overflowX","overflowY","prop","_inheritsLoose","subClass","superClass","_setPrototypeOf","Portal","_React$PureComponent","defaultStyles","Tooltip","_ref$offsetLeft","offsetLeft","_ref$offsetTop","offsetTop","_ref$style","style","_ref$unstyled","unstyled","_ref$applyPositionSty","applyPositionStyle","_assertThisInitialized","self","emptyRect","withBoundingRects","BaseComponent","_class","WrappedComponent","props","_this","_this$nodeRef","_this2","parentNode","parentRect","TooltipPositionContext","TooltipPositionProvider","TooltipPositionConsumer","useTooltipPosition","TooltipWithBounds","getRects","initialLeft","parentBounds","ownBounds","initialTop","nodeRef","otherProps","placeTooltipLeft","placeTooltipUp","rightPlacementClippedPx","leftPlacementClippedPx","_rightPlacementClippedPx","_leftPlacementClippedPx","bottomPlacementClippedPx","topPlacementClippedPx","_excluded2","useTooltipInPortal","_ref$detectBounds","detectBoundsOption","zIndexOption","useMeasureOptions","_useMeasure","containerRef","containerBounds","forceRefreshBounds","isSsr","setIsSsr","TooltipInPortal","_ref2$left","containerLeft","_ref2$top","containerTop","detectBoundsProp","zIndexProp","tooltipProps","detectBounds","zIndex","TooltipComponent","scrollX","scrollY","portalLeft","portalTop","uniqueId","getUniqueId","useComponentInstanceId","prefix","idRef","PieChartType","PieChartLabels","PieChartLegendValues","defaultPieChartLegendOptions","defaultOptions","filterDisplayItems","item","sumDisplayItemsReducer","acc","PieChart","fieldDisplayValues","pieType","highlightedTitle","displayLabels","tooltipOptions","theme","componentInstanceId","styles","getStyles","tooltip","filteredFieldDisplayValues","getValue","getGradientId","color","tinycolor","getGradientColor","showLabel","total","layout","getPieLayout","colors","fieldDisplayValue","getGradientColorFrom","getGradientColorTo","highlightState","getHighlightState","DataLinksContextMenu","api","PieSlice","PieLabel","SeriesTable","openMenu","eventBus","onMouseOut","onMouseMoveOverArc","owner","getTooltipData","pieStyle","getSvgStyle","selectors","labelRadius","labelX","labelY","getLabelPos","labelFontSize","field","pieArc","margin","donutThickness","centerOffset","gradientFromOffset","HighLightState","defaultLegendOptions","PieChartPanel","timeZone","fieldConfig","replaceVariables","options","useSliceHighlightState","hasFrames","VizLayout","getLegend","vizWidth","vizHeight","PanelDataErrorView","displayValues","legendOptions","legendItems","idx","hideFrom","hideFromViz","display","valuesToShow","fractionOfTotal","percentOfTotal","VizLegend","fd","setHighlightedTitle","setHighlightedSlice","resetHighlightedSlice","subs","Subscription","PieChartPanelChangedHandler","panel","prevPluginId","prevOptions","angular","overrides","alias","PieChartSuggestionsSupplier","builder","list","dataSummary","PanelPlugin"],"sourceRoot":""}