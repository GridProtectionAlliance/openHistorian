"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7849,4492],{24880:(K,d,t)=>{t.r(d),t.d(d,{SoloPanelPage:()=>S,SoloPanelRenderer:()=>c,default:()=>r});var a=t(74848),O=t(32196),i=t(96540),h=t(54148),x=t(40845),I=t(42418),y=t(62930),C=t(39419),L=t(7392),R=t(31678),T=t(72255),A=t(81887),j=t(30195),u=t(74730);function D(n,e){const[s,o]=(0,i.useState)(),[f,E]=(0,i.useState)();return(0,i.useEffect)(()=>{new A.g5().initSync(n);const m=n.activate();let P=null;try{P=(0,u.vL)(n,e)}catch{}return P?(M(P),o(P)):(0,u.SN)(e)?U(n,e).then(v=>{v?o(v):E("Panel not found")}):E("Panel not found"),m},[n,e]),[s,f]}function M(n){let e=n.parent;for(;e&&!e.isActive;)e.activate(),e=e.parent}function U(n,e){return new Promise(s=>{n.subscribeToEvent(j.d,()=>{const o=(0,u.vL)(n,e);o?s(o):n.state.body.activateRepeaters?.()}),n.state.body.activateRepeaters?.()})}function S({queryParams:n}){const e=(0,T.sP)(),{dashboard:s}=e.useState(),{uid:o=""}=(0,h.g)();return(0,i.useEffect)(()=>(e.loadDashboard({uid:o,route:R.DashboardRoutes.Embedded}),()=>e.clearState()),[e,n,o]),n.panelId?s?(0,a.jsx)(c,{dashboard:s,panelId:n.panelId}):(0,a.jsx)(C.A,{}):(0,a.jsx)(L.L,{entity:"Panel"})}const r=S;function c({dashboard:n,panelId:e}){const[s,o]=D(n,e),f=(0,x.of)(l);return o?(0,a.jsx)(I.F,{title:o}):s?(0,a.jsx)("div",{className:f.container,children:(0,a.jsx)(s.Component,{model:s})}):(0,a.jsxs)("span",{children:["Loading ",(0,a.jsx)(y.y,{})]})}const l=n=>({container:(0,O.css)({position:"fixed",bottom:0,right:0,margin:0,left:0,top:0,width:"100%",height:"100%"})})},55087:(K,d,t)=>{t.r(d),t.d(d,{SoloPanel:()=>M,SoloPanelPage:()=>D,default:()=>U});var a=t(74848),O=t(32196),i=t(96540),h=t(71468),x=t(54148),I=t(70713),y=t(40845),C=t(42418),L=t(76888),R=t(39569),T=t(20470);const A=r=>({dashboard:r.dashboard.getModel()}),j={initDashboard:T.vR},u=(0,h.connect)(A,j),D=({route:r,queryParams:c,dashboard:l,initDashboard:n})=>{const[e,s]=(0,i.useState)(null),[o,f]=(0,i.useState)(!1),{keybindings:E}=(0,L.Il)(),{slug:B,uid:m,type:P}=(0,x.g)();(0,i.useEffect)(()=>{n({urlSlug:B,urlUid:m,urlType:P,routeName:r.routeName,fixUrl:!1,keybindingSrv:E})},[B,m,P,r.routeName,n,E]);const v=(0,i.useCallback)(()=>parseInt(c.panelId??"0",10),[c.panelId]);return(0,i.useEffect)(()=>{if(l){const g=l.getPanelByUrlId(c.panelId);if(!g){f(!0);return}g&&l.exitViewPanel(g),s(g),l.initViewPanel(g)}},[l,c.panelId]),(0,a.jsx)(M,{dashboard:l,notFound:o,panel:e,panelId:v(),timezone:c.timezone})},M=({dashboard:r,notFound:c,panel:l,panelId:n,timezone:e})=>{const s=(0,y.of)(S);return c?(0,a.jsx)(C.F,{severity:"error",title:`Panel with id ${n} not found`}):!l||!r?(0,a.jsx)("div",{children:"Loading & initializing dashboard"}):(0,a.jsx)("div",{className:s.container,children:(0,a.jsx)(I.Ay,{children:({width:o,height:f})=>o===0?null:(0,a.jsx)(R.L,{stateKey:l.key,width:o,height:f,dashboard:r,panel:l,isEditing:!1,isViewing:!0,lazy:!1,timezone:e,hideMenu:!0})})})},U=u(D),S=r=>({container:(0,O.css)({position:"fixed",bottom:0,right:0,margin:0,left:0,top:0,width:"100%",height:"100%"})})}}]);

//# sourceMappingURL=SoloPanelPage.3503f57a0621d0c5de80.js.map