(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7229],{97229:(Ge,ge,O)=>{"use strict";O.r(ge),O.d(ge,{plugin:()=>wu});var Y=O(65158),Z=O(74848),o=O(96540),ae=O(74433),W=O(78659),ie=O(63375),Ne=O(35970),pe=O(23181),re=O(38221),b=O(69321);function le(e,t,n,r,i=!1){const l=o.useRef();l.current=t,o.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const a=n,s=c=>{l.current?.call(a,c)};return a.addEventListener(e,s,{passive:r,capture:i}),()=>{a.removeEventListener(e,s,{capture:i})}},[e,n,r,i])}function Ce(e,t){return e===void 0?void 0:t}const we=Math.PI;function xe(e){return e*we/180}const me=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),ze=(e,t,n,r,i)=>{switch(e){case"left":return Math.floor(t)+r+i/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-i/2}},Ke=(e,t,n)=>Math.min(e,t-n*2),$e=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Le=e=>{const t=e.fgColor??"currentColor";return o.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),o.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Be=e=>{const t=e.fgColor??"currentColor";return o.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function v(e,t,n){const[r,i]=o.useState(e),l=o.useRef(!0);o.useEffect(()=>()=>{l.current=!1},[]);const a=o.useRef(re(s=>{l.current&&i(s)},n));return o.useLayoutEffect(()=>{l.current&&a.current(()=>e())},t),r}const _="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",$="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",oe=new RegExp("^[^"+$+"]*["+_+"]");function B(e){return oe.test(e)?"rtl":"not-rtl"}let j;function Se(){if(typeof document>"u")return 0;if(j!==void 0)return j;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),j=n-r,j}const U=Symbol();function k(e){const t=o.useRef([U,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=o.useState(e),[,i]=o.useState(),l=o.useCallback(s=>{const c=t.current[0];c!==U&&(s=typeof s=="function"?s(c):s,s===c)||(c!==U&&i({}),r(d=>typeof s=="function"?s(c===U?d:c):s),t.current[0]=U)},[]),a=o.useCallback(()=>{t.current[0]=U,i({})},[]);return[t.current[0]===U?n:t.current[0],l,a]}function J(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function ue(e){const t=o.useRef(e);return(0,ae.bD)(e,t.current)||(t.current=e),t.current}var y=new Map,Te=new Map,Re=new Map;function He(){y.clear(),Re.clear(),Te.clear()}function ht(e,t,n,r,i){var l,a,s;let c=0,d={};for(let g of e)c+=(l=n.get(g))!=null?l:i,d[g]=((a=d[g])!=null?a:0)+1;let f=t-c;for(let g of Object.keys(d)){let p=d[g],m=(s=n.get(g))!=null?s:i,h=m*p/c,w=f*h*r/p,S=m+w;n.set(g,S)}}function Ht(e,t){var n;let r=new Map,i=0;for(let d of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let f=e.measureText(d).width;r.set(d,f),i+=f}let l=i/r.size,a=3,s=(t/l+a)/(a+1),c=r.keys();for(let d of c)r.set(d,((n=r.get(d))!=null?n:l)*s);return r}function Ot(e,t,n,r){var i,l;let a=Te.get(n);if(r&&a!==void 0&&a.count>2e4){let d=Re.get(n);if(d===void 0&&(d=Ht(e,a.size),Re.set(n,d)),a.count>5e5){let g=0;for(let p of t)g+=(i=d.get(p))!=null?i:a.size;return g*1.01}let f=e.measureText(t);return ht(t,f.width,d,Math.max(.05,1-a.count/2e5),a.size),Te.set(n,{count:a.count+t.length,size:a.size}),f.width}let s=e.measureText(t),c=s.width/t.length;if(((l=a?.count)!=null?l:0)>2e4)return s.width;if(a===void 0)Te.set(n,{count:t.length,size:c});else{let d=c-a.size,f=t.length/(a.count+t.length),g=a.size+d*f;Te.set(n,{count:a.count+t.length,size:g})}return s.width}function hn(e,t,n,r,i,l,a,s){if(t.length<=1)return t.length;if(i<n)return-1;let c=Math.floor(n/i*l),d=Ot(e,t.slice(0,Math.max(0,c)),r,a),f=s?.(t);if(d!==n)if(d<n){for(;d<n;)c++,d=Ot(e,t.slice(0,Math.max(0,c)),r,a);c--}else for(;d>n;){let g=f!==void 0?0:t.lastIndexOf(" ",c-1);g>0?c=g:c--,d=Ot(e,t.slice(0,Math.max(0,c)),r,a)}if(t[c]!==" "){let g=0;if(f===void 0)g=t.lastIndexOf(" ",c);else for(let p of f){if(p>c)break;g=p}g>0&&(c=g)}return c}function cr(e,t,n,r,i,l){let a=`${t}_${n}_${r}px`,s=y.get(a);if(s!==void 0)return s;if(r<=0)return[];let c=[],d=t.split(`
`),f=Te.get(n),g=f===void 0?t.length:r/f.size*1.5,p=i&&f!==void 0&&f.count>2e4;for(let m of d){let h=Ot(e,m.slice(0,Math.max(0,g)),n,p),w=Math.min(m.length,g);if(h<=r)c.push(m);else{for(;h>r;){let S=hn(e,m,r,n,h,w,p,l),E=m.slice(0,Math.max(0,S));m=m.slice(E.length),c.push(E),h=Ot(e,m.slice(0,Math.max(0,g)),n,p),w=Math.min(m.length,g)}h>0&&c.push(m)}}return c=c.map((m,h)=>h===0?m.trimEnd():m.trim()),y.set(a,c),y.size>500&&y.delete(y.keys().next().value),c}function kn(e,t){return o.useMemo(()=>e.map((n,r)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:r,sticky:r<t,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked})),[e,t])}function no(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if(ro(e.current.cell,t))return!0;const i=[e.current.range,...e.current.rangeStack];for(const l of i)if(n>=l.x&&n<l.x+l.width&&r>=l.y&&r<l.y+l.height)return!0}return!1}function br(e,t){return(e??"")===(t??"")}function Yi(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function ko(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function ro(e,t){return e?.[0]===t?.[0]&&e?.[1]===t?.[1]}function Ki(e){return[e.x+e.width-1,e.y+e.height-1]}function Vi(e,t,n){const r=n.x,i=n.x+n.width-1,l=n.y,a=n.y+n.height-1,[s,c]=e;if(c<l||c>a)return!1;if(t.span===void 0)return s>=r&&s<=i;const[d,f]=t.span;return d>=r&&d<=i||f>=r&&d<=i||d<r&&f>i}function es(e,t,n,r){let i=0;if(n.current===void 0)return i;const l=n.current.range;(r||l.height*l.width>1)&&Vi(e,t,l)&&i++;for(const a of n.current.rangeStack)Vi(e,t,a)&&i++;return i}function ji(e,t){let n=e;if(t!==void 0){let r=[...e];const i=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,i)):(r.splice(t.dest+1,0,i),r.splice(t.src,1)),r=r.map((l,a)=>({...l,sticky:e[a].sticky})),n=r}return n}function Pr(e,t){let n=0;const r=ji(e,t);for(let i=0;i<r.length;i++){const l=r[i];if(l.sticky)n+=l.width;else break}return n}function Cr(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let i=e-t;i<e;i++)r+=n(i);return r}}function si(e,t,n,r,i){const l=ji(e,r),a=[];for(const d of l)if(d.sticky)a.push(d);else break;if(a.length>0)for(const d of a)n-=d.width;let s=t,c=i??0;for(;c<=n&&s<l.length;)c+=l[s].width,s++;for(let d=t;d<s;d++){const f=l[d];f.sticky||a.push(f)}return a}function ts(e,t,n){let r=0;for(const i of t){const l=i.sticky?r:r+(n??0);if(e<=l+i.width)return i.sourceIndex;r+=i.width}return-1}function ns(e,t,n,r,i,l,a,s,c,d){const f=r+i;if(n&&e<=i)return-2;if(e<=f)return-1;let g=t;for(let h=0;h<d;h++){const w=l-1-h,S=typeof a=="number"?a:a(w);if(g-=S,e>=g)return w}const p=l-d,m=e-(c??0);if(typeof a=="number"){const h=Math.floor((m-f)/a)+s;return h>=p?void 0:h}else{let h=f;for(let w=s;w<p;w++){const S=a(w);if(m<=h+S)return w;h+=S}return}}let Eo=0,oo={};const rs=typeof window>"u";async function os(){rs||document?.fonts?.ready===void 0||(await document.fonts.ready,Eo=0,oo={},He())}os();function Gi(e,t,n,r){return`${e}_${r??t?.font}_${n}`}function io(e,t,n,r="middle"){const i=Gi(e,t,r,n);let l=oo[i];return l===void 0&&(l=t.measureText(e),oo[i]=l,Eo++),Eo>1e4&&(oo={},Eo=0),l}function is(e,t){const n=Gi(e,void 0,"middle",t);return oo[n]}function ur(e,t){return typeof t!="string"&&(t=t.baseFontFull),ls(e,t)}function Zi(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const Qi=[];function ls(e,t){for(const l of Qi)if(l.key===t)return l.val;const n=Zi(e,"alphabetic"),i=-(Zi(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return Qi.push({key:t,val:i}),i}function ss(e,t,n,r,i,l){const{ctx:a,rect:s,theme:c}=e;let d=Number.MAX_SAFE_INTEGER;const f=500;if(t!==void 0&&(d=n-t,d<f)){const g=1-d/f;a.globalAlpha=g,a.fillStyle=c.bgSearchResult,a.fillRect(s.x+1,s.y+1,s.width-(i?2:1),s.height-(l?2:1)),a.globalAlpha=1,r!==void 0&&(r.fillStyle=c.bgSearchResult)}return d<f}function lo(e,t,n){const{ctx:r,theme:i}=e,l=t??{},a=n??i.textDark;return a!==l.fillStyle&&(r.fillStyle=a,l.fillStyle=a),l}function Ku(e,t,n){const{rect:r,ctx:i,theme:l}=e;i.fillStyle=l.textDark,Vn({ctx:i,rect:r,theme:l},t,n)}function Ji(e,t,n,r,i,l,a,s,c){c==="right"?e.fillText(t,n+i-(s.cellHorizontalPadding+.5),r+l/2+a):c==="center"?e.fillText(t,n+i/2,r+l/2+a):e.fillText(t,n+s.cellHorizontalPadding+.5,r+l/2+a)}function qi(e,t){const n=io("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function as(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function cs(e,t,n,r,i,l,a,s,c,d){const f=s.baseFontFull,g=cr(e,t,f,i-s.cellHorizontalPadding*2,d??!1),p=qi(e,f),m=s.lineHeight*p,h=p+m*(g.length-1),w=h+s.cellVerticalPadding>l;w&&(e.save(),e.rect(n,r,i,l),e.clip());const S=r+l/2-h/2;let E=Math.max(r+s.cellVerticalPadding,S);for(const M of g)if(Ji(e,M,n,E,i,p,a,s,c),E+=m,E>r+l)break;w&&e.restore()}function Vn(e,t,n,r,i){const{ctx:l,rect:a,theme:s}=e,{x:c,y:d,width:f,height:g}=a;r=r??!1,r||(t=as(t,f));const p=ur(l,s),m=B(t)==="rtl";if(n===void 0&&m&&(n="right"),m&&(l.direction="rtl"),t.length>0){let h=!1;n==="right"?(l.textAlign="right",h=!0):n!==void 0&&n!=="left"&&(l.textAlign=n,h=!0),r?cs(l,t,c,d,f,g,p,s,n,i):Ji(l,t,c,d,f,g,p,s,n),h&&(l.textAlign="start"),m&&(l.direction="inherit")}}function jn(e,t,n,r,i,l){typeof l=="number"&&(l={tl:l,tr:l,br:l,bl:l}),l={tl:Math.max(0,Math.min(l.tl,i/2,r/2)),tr:Math.max(0,Math.min(l.tr,i/2,r/2)),bl:Math.max(0,Math.min(l.bl,i/2,r/2)),br:Math.max(0,Math.min(l.br,i/2,r/2))},e.moveTo(t+l.tl,n),e.arcTo(t+r,n,t+r,n+l.tr,l.tr),e.arcTo(t+r,n+i,t+r-l.br,n+i,l.br),e.arcTo(t,n+i,t,n+i-l.bl,l.bl),e.arcTo(t,n,t+l.tl,n,l.tl)}function us(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function ds(e,t,n){const r=function(s,c){const d=c.x-s.x,f=c.y-s.y,g=Math.sqrt(d*d+f*f),p=d/g,m=f/g;return{x:d,y:c.y-s.y,len:g,nx:p,ny:m,ang:Math.atan2(m,p)}};let i;const l=t.length;let a=t[l-1];for(let s=0;s<l;s++){let c=t[s%l];const d=t[(s+1)%l],f=r(c,a),g=r(c,d),p=f.nx*g.ny-f.ny*g.nx,m=f.nx*g.nx-f.ny*-g.ny;let h=Math.asin(p<-1?-1:p>1?1:p),w=1,S=!1;m<0?h<0?h=Math.PI+h:(h=Math.PI-h,w=-1,S=!0):h>0&&(w=-1,S=!0),i=c.radius!==void 0?c.radius:n;const E=h/2;let M=Math.abs(Math.cos(E)*i/Math.sin(E)),C;M>Math.min(f.len/2,g.len/2)?(M=Math.min(f.len/2,g.len/2),C=Math.abs(M*Math.sin(E)/Math.cos(E))):C=i;let K=c.x+g.nx*M,G=c.y+g.ny*M;K+=-g.ny*C*w,G+=g.nx*C*w,e.arc(K,G,C,f.ang+Math.PI/2*w,g.ang-Math.PI/2*w,S),a=c,c=d}e.closePath()}function ai(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h){const w={x:0,y:l+d,width:0,height:0};if(e>=m.length||t>=f||t<-2||e<0)return w;const S=l-i;if(e>=g){const E=a>e?-1:1,M=Pr(m);w.x+=M+c;for(let C=a;C!==e;C+=E)w.x+=m[E===1?C:C-1].width*E}else for(let E=0;E<e;E++)w.x+=m[E].width;if(w.width=m[e].width+1,t===-1)w.y=i,w.height=S;else if(t===-2){w.y=0,w.height=i;let E=e;const M=m[e].group,C=m[e].sticky;for(;E>0&&br(m[E-1].group,M)&&m[E-1].sticky===C;){const G=m[E-1];w.x-=G.width,w.width+=G.width,E--}let K=e;for(;K+1<m.length&&br(m[K+1].group,M)&&m[K+1].sticky===C;){const G=m[K+1];w.width+=G.width,K++}if(!C){const G=Pr(m),q=w.x-G;q<0&&(w.x-=q,w.width+=q),w.x+w.width>n&&(w.width=n-w.x)}}else if(t>=f-p){let E=f-t;for(w.y=r;E>0;){const M=t+E-1;w.height=typeof h=="number"?h:h(M),w.y-=w.height,E--}w.height+=1}else{const E=s>t?-1:1;if(typeof h=="number"){const M=t-s;w.y+=M*h}else for(let M=s;M!==t;M+=E)w.y+=h(M)*E;w.height=(typeof h=="number"?h:h(t))+1}return w}const ci=1<<21;function _n(e,t){return(t+2)*ci+e}function el(e){return e%ci}function ui(e){return Math.floor(e/ci)-2}function di(e){const t=el(e),n=ui(e);return[t,n]}class tl{visibleWindow={x:0,y:0,width:0,height:0};freezeCols=0;freezeRows=[];isInWindow=t=>{const n=el(t),r=ui(t),i=this.visibleWindow,l=n>=i.x&&n<=i.x+i.width||n<this.freezeCols,a=r>=i.y&&r<=i.y+i.height||this.freezeRows.includes(r);return l&&a};setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&(0,ae.bD)(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class fs extends tl{cache=new Map;setValue=(t,n)=>{this.cache.set(_n(t[0],t[1]),n)};getValue=t=>this.cache.get(_n(t[0],t[1]));clearOutOfWindow=()=>{for(const[t]of this.cache.entries())this.isInWindow(t)||this.cache.delete(t)}}class so{cells;constructor(t=[]){this.cells=new Set(t.map(n=>_n(n[0],n[1])))}add(t){this.cells.add(_n(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(_n(t[0],t[1]))}remove(t){this.cells.delete(_n(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(ui(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(_n(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield di(t)}}function hs(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class gs{onSettled;spriteMap=new Map;headerIcons;inFlight=0;constructor(t,n){this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,r,i,l,a,s,c=1){const[d,f]=hs(n,s),g=a*Math.ceil(window.devicePixelRatio),p=`${d}_${f}_${g}_${t}`;let m=this.spriteMap.get(p);if(m===void 0){const h=this.headerIcons[t];if(h===void 0)return;m=document.createElement("canvas");const w=m.getContext("2d");if(w===null)return;const S=new Image;S.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h({fgColor:f,bgColor:d}))}`,this.spriteMap.set(p,m);const E=S.decode();if(E===void 0)return;this.inFlight++,E.then(()=>{w.drawImage(S,0,0,g,g)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else c<1&&(r.globalAlpha=c),r.drawImage(m,0,0,g,g,i,l,a,a),c<1&&(r.globalAlpha=1)}}var tn=O(73121);function nl(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y)}function Io(e,t,n,r,i,l,a,s,c){s=s??t;let d=t,f=e;const g=r-l;let p=!1;for(;d<n&&f<g;){const m=i(f);if(d+m>s&&c(d,f,m,!1,a&&f===r-1)===!0){p=!0;break}d+=m,f++}if(!p){d=n;for(let m=0;m<l;m++){f=r-1-m;const h=i(f);d-=h,c(d,f,h,!0,a&&f===r-1)}}}function dr(e,t,n,r,i,l){let a=0,s=0;const c=i+r;for(const d of e){const f=d.sticky?s:a+n;if(l(d,f,c,d.sticky?0:s,t)===!0)break;a+=d.width,s+=d.sticky?d.width:0}}function rl(e,t,n,r,i){let l=0,a=0;for(let s=0;s<e.length;s++){const c=e[s];let d=s+1,f=c.width;for(c.sticky&&(a+=f);d<e.length&&br(e[d].group,c.group)&&e[d].sticky===e[s].sticky;){const w=e[d];f+=w.width,d++,s++,w.sticky&&(a+=w.width)}const g=c.sticky?0:n,p=l+g,m=c.sticky?0:Math.max(0,a-p),h=Math.min(f-m,t-(p+m));i([c.sourceIndex,e[d-1].sourceIndex],c.group??"",p+m,0,h,r),l+=f}}function ol(e,t,n,r,i,l,a){const[s,c]=e;let d,f;const g=a.find(p=>!p.sticky)?.sourceIndex??0;if(c>g){const p=Math.max(s,g);let m=t,h=r;for(let w=l.sourceIndex-1;w>=p;w--)m-=a[w].width,h+=a[w].width;for(let w=l.sourceIndex+1;w<=c;w++)h+=a[w].width;f={x:m,y:n,width:h,height:i}}if(g>s){const p=Math.min(c,g-1);let m=t,h=r;for(let w=l.sourceIndex-1;w>=s;w--)m-=a[w].width,h+=a[w].width;for(let w=l.sourceIndex+1;w<=p;w++)h+=a[w].width;d={x:m,y:n,width:h,height:i}}return[d,f]}var Fn=O(78086);function ms(e,t,n,r){if(r==="any")return il(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),ko([t,n],e))return;const i=t-e.x,l=e.x+e.width-t,a=n-e.y+1,s=e.y+e.height-n,c=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="vertical"?Number.MAX_SAFE_INTEGER:l,r==="horizontal"?Number.MAX_SAFE_INTEGER:a,r==="horizontal"?Number.MAX_SAFE_INTEGER:s);return c===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:c===a?{x:e.x,y:n,width:e.width,height:e.y-n}:c===l?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function To(e,t,n,r,i,l,a,s){return e<=i+a&&i<=e+n&&t<=l+s&&l<=t+r}function Do(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function il(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),i=Math.max(e.x+e.width,t.x+t.width)-n,l=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i,height:l}}function ps(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function ws(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const i=-4,l=-4,a=t+4,s=n+4,c=i-e.x,d=e.x+e.width-a,f=l-e.y,g=e.y+e.height-s,p=c>0?e.x+Math.floor(c/r)*r:e.x,m=d>0?e.x+e.width-Math.floor(d/r)*r:e.x+e.width,h=f>0?e.y+Math.floor(f/r)*r:e.y,w=g>0?e.y+e.height-Math.floor(g/r)*r:e.y+e.height;return{x:p,y:h,width:m-p,height:w-h}}function ys(e,t,n,r,i){const[l,a,s,c]=t,[d,f,g,p]=i,{x:m,y:h,width:w,height:S}=e,E=[];if(w<=0||S<=0)return E;const M=m+w,C=h+S,K=m<l,G=h<a,q=m+w>s,H=h+S>c,ee=m>=l&&m<s||M>l&&M<=s||m<l&&M>s,A=h>=a&&h<c||C>a&&C<=c||h<a&&C>c;if(ee&&A){const V=Math.max(m,l),D=Math.max(h,a),P=Math.min(M,s),F=Math.min(C,c);E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:d,y:f,width:g-d+1,height:p-f+1}})}if(K&&G){const V=m,D=h,P=Math.min(M,l),F=Math.min(C,a);E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:0,y:0,width:d+1,height:f+1}})}if(G&&ee){const V=Math.max(m,l),D=h,P=Math.min(M,s),F=Math.min(C,a);E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:d,y:0,width:g-d+1,height:f+1}})}if(G&&q){const V=Math.max(m,s),D=h,P=M,F=Math.min(C,a);E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:g,y:0,width:n-g+1,height:f+1}})}if(K&&A){const V=m,D=Math.max(h,a),P=Math.min(M,l),F=Math.min(C,c);E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:0,y:f,width:d+1,height:p-f+1}})}if(q&&A){const V=Math.max(m,s),D=Math.max(h,a),P=M,F=Math.min(C,c);E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:g,y:f,width:n-g+1,height:p-f+1}})}if(K&&H){const V=m,D=Math.max(h,c),P=Math.min(M,l),F=C;E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:0,y:p,width:d+1,height:r-p+1}})}if(H&&ee){const V=Math.max(m,l),D=Math.max(h,c),P=Math.min(M,s),F=C;E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:d,y:p,width:g-d+1,height:r-p+1}})}if(q&&H){const V=Math.max(m,s),D=Math.max(h,c),P=M,F=C;E.push({rect:{x:V,y:D,width:P-V,height:F-D},clip:{x:g,y:p,width:n-g+1,height:r-p+1}})}return E}const vs={kind:b.dd.Loading,allowOverlay:!1};function ll(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S,E,M,C,K,G,q,H,ee,A,te,V,D,P,F,ke,Ve,Ye,Xe){let mt=C?.size??Number.MAX_SAFE_INTEGER;const Ae=performance.now();let ve=P.baseFontFull;e.font=ve;const ce={ctx:e},se=[0,0],Oe=S>0?Cr(c,S,d):0;let ye,tt;const ot=nl(M);return dr(t,s,l,a,i,(je,ut,Mt,gt,At)=>{const pt=Math.max(0,gt-ut),Et=ut+pt,Dt=i+1,nn=je.width-pt,_e=r-i-1;if(M.length>0){let kt=!1;for(let Rt=0;Rt<M.length;Rt++){const Ue=M[Rt];if(To(Et,Dt,nn,_e,Ue.x,Ue.y,Ue.width,Ue.height)){kt=!0;break}}if(!kt)return}const De=()=>{e.save(),e.beginPath(),e.rect(Et,Dt,nn,_e),e.clip()},ft=K.columns.hasIndex(je.sourceIndex),Ze=g(je.group??"").overrideTheme,wt=je.themeOverride===void 0&&Ze===void 0?P:(0,Fn.P6)(P,Ze,je.themeOverride),it=wt.baseFontFull;it!==ve&&(ve=it,e.font=it),De();let Lt;return Io(At,Mt,r,c,d,S,E,ot,(kt,Rt,Ue,zt,dt)=>{if(Rt<0||(se[0]=je.sourceIndex,se[1]=Rt,C!==void 0&&!C.has(se)))return;if(M.length>0){let Qe=!1;for(let _t=0;_t<M.length;_t++){const Nt=M[_t];if(To(ut,kt,je.width,Ue,Nt.x,Nt.y,Nt.width,Nt.height)){Qe=!0;break}}if(!Qe)return}const nt=K.rows.hasIndex(Rt),rn=m.hasIndex(Rt),xt=Rt<c?f(se):vs;let yt=ut,vt=je.width,Jt=!1,mn=!1;if(xt.span!==void 0){const[Qe,_t]=xt.span,Nt=`${Rt},${Qe},${_t},${je.sticky}`;if(tt===void 0&&(tt=new Set),tt.has(Nt)){mt--;return}else{const Zn=ol(xt.span,ut,kt,je.width,Ue,je,n),wn=je.sticky?Zn[0]:Zn[1];if(!je.sticky&&Zn[0]!==void 0&&(mn=!0),wn!==void 0){yt=wn.x,vt=wn.width,tt.add(Nt),e.restore(),Lt=void 0,e.save(),e.beginPath();const zn=Math.max(0,gt-wn.x);e.rect(wn.x+zn,kt,wn.width-zn,Ue),ye===void 0&&(ye=[]),ye.push({x:wn.x+zn,y:kt,width:wn.width-zn,height:Ue}),e.clip(),Jt=!0}}}const Ln=p?.(Rt),Un=dt&&je.trailingRowOptions?.themeOverride!==void 0?je.trailingRowOptions?.themeOverride:void 0,on=xt.themeOverride===void 0&&Ln===void 0&&Un===void 0?wt:(0,Fn.P6)(wt,Ln,Un,xt.themeOverride);e.beginPath();const Tn=Yi(se,xt,K);let vn=es(se,xt,K,w);const nr=xt.span!==void 0&&K.columns.some(Qe=>xt.span!==void 0&&Qe>=xt.span[0]&&Qe<=xt.span[1]);Tn&&!h&&w?vn=0:Tn&&w&&(vn=Math.max(vn,1)),nr&&vn++,Tn||(nt&&vn++,ft&&!dt&&vn++);const rr=xt.kind===b.dd.Protected?on.bgCellMedium:on.bgCell;let Wt;if((zt||rr!==P.bgCell)&&(Wt=(0,tn.au)(rr,Wt)),vn>0||rn){rn&&(Wt=(0,tn.au)(on.bgHeader,Wt));for(let Qe=0;Qe<vn;Qe++)Wt=(0,tn.au)(on.accentLight,Wt)}else if(G!==void 0){for(const Qe of G)if(Qe[0]===je.sourceIndex&&Qe[1]===Rt){Wt=(0,tn.au)(on.bgSearchResult,Wt);break}}if(q!==void 0)for(let Qe=0;Qe<q.length;Qe++){const _t=q[Qe],Nt=_t.range;_t.style!=="solid-outline"&&Nt.x<=je.sourceIndex&&je.sourceIndex<Nt.x+Nt.width&&Nt.y<=Rt&&Rt<Nt.y+Nt.height&&(Wt=(0,tn.au)(_t.color,Wt))}let St=!1;if(C!==void 0){const Qe=kt+1,Nt=(zt?Qe+Ue-1:Math.min(Qe+Ue-1,r-Oe))-Qe;(Nt!==Ue-1||yt+1<=gt)&&(St=!0,e.save(),e.beginPath(),e.rect(yt+1,Qe,vt-1,Nt),e.clip()),Wt=Wt===void 0?on.bgCell:(0,tn.au)(Wt,on.bgCell)}const Yt=je.sourceIndex===n.length-1,Dn=Rt===c-1;Wt!==void 0&&(e.fillStyle=Wt,Lt!==void 0&&(Lt.fillStyle=Wt),C!==void 0?e.fillRect(yt+1,kt+1,vt-(Yt?2:1),Ue-(Dn?2:1)):e.fillRect(yt,kt,vt,Ue)),xt.style==="faded"&&(e.globalAlpha=.6);let pn;for(let Qe=0;Qe<A.length;Qe++){const _t=A[Qe];if(_t.item[0]===je.sourceIndex&&_t.item[1]===Rt){pn=_t;break}}if(vt>Xe&&!mn){const Qe=on.baseFontFull;Qe!==ve&&(e.font=Qe,ve=Qe),Lt=sl(e,xt,je.sourceIndex,Rt,Yt,Dn,yt,kt,vt,Ue,vn>0,on,Wt??on.bgCell,H,ee,pn?.hoverAmount??0,te,D,Ae,V,Lt,F,ke,Ve,Ye)}return St&&e.restore(),xt.style==="faded"&&(e.globalAlpha=1),mt--,Jt&&(e.restore(),Lt?.deprep?.(ce),Lt=void 0,De(),ve=it,e.font=it),mt<=0}),e.restore(),mt<=0}),ye}const ao=[0,0],co={x:0,y:0,width:0,height:0},fi=[void 0,()=>{}];let hi=!1;function bs(){hi=!0}function sl(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S,E,M,C,K,G,q,H,ee){let A,te;S!==void 0&&S[0][0]===n&&S[0][1]===r&&(A=S[1][0],te=S[1][1]);let V;ao[0]=n,ao[1]=r,co.x=a,co.y=s,co.width=c,co.height=d,fi[0]=q.getValue(ao),fi[1]=ke=>q.setValue(ao,ke),hi=!1;const D={ctx:e,theme:g,col:n,row:r,cell:t,rect:co,highlighted:f,cellFillColor:p,hoverAmount:w,frameTime:M,hoverX:A,drawState:fi,hoverY:te,imageLoader:m,spriteManager:h,hyperWrapping:E,overrideCursor:A!==void 0?ee:void 0,requestAnimationFrame:bs},P=ss(D,t.lastUpdated,M,K,i,l),F=H(t);if(F!==void 0){K?.renderer!==F&&(K?.deprep?.(D),K=void 0);const ke=F.drawPrep?.(D,K);C!==void 0&&!(0,b.pg)(D.cell)?C(D,()=>F.draw(D,t)):F.draw(D,t),V=ke===void 0?void 0:{deprep:ke?.deprep,fillStyle:ke?.fillStyle,font:ke?.font,renderer:F}}return(P||hi)&&G?.(ao),V}function gi(e,t,n,r,i,l,a,s,c=-20,d=-20,f=32,g="center",p="square"){const m=Math.floor(i+a/2),h=p==="circle"?1e4:t.roundingRadius??4;let w=Ke(f,a,t.cellVerticalPadding),S=w/2;const E=ze(g,r,l,t.cellHorizontalPadding,w),M=me(E,m,w),C=$e(r+c,i+d,M);switch(n){case!0:{e.beginPath(),jn(e,E-w/2,m-w/2,w,w,h),p==="circle"&&(S*=.8,w*=.8),e.fillStyle=s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(E-S+w/4.23,m-S+w/1.97),e.lineTo(E-S+w/2.42,m-S+w/1.44),e.lineTo(E-S+w/1.29,m-S+w/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case b.WE:case!1:{e.beginPath(),jn(e,E-w/2+.5,m-w/2+.5,w-1,w-1,h),e.lineWidth=1,e.strokeStyle=C?t.textDark:t.textMedium,e.stroke();break}case b.wm:{e.beginPath(),jn(e,E-w/2,m-w/2,w,w,h),e.fillStyle=C?t.textMedium:t.textLight,e.fill(),p==="circle"&&(S*=.8,w*=.8),e.beginPath(),e.moveTo(E-w/3,m),e.lineTo(E+w/3,m),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:(0,ae.xb)(n)}}function Cs(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S,E,M){const C=a+s;if(C<=0)return;e.fillStyle=g.bgHeader,e.fillRect(0,0,i,C);const[K,G]=r?.[0]??[],q=g.headerFontFull;e.font=q,dr(t,0,l,0,C,(H,ee,A,te)=>{if(S!==void 0&&!S.has([H.sourceIndex,-1]))return;const V=Math.max(0,te-ee);e.save(),e.beginPath(),e.rect(ee+V,s,H.width-V,a),e.clip();const D=w(H.group??"").overrideTheme,P=H.themeOverride===void 0&&D===void 0?g:(0,Fn.P6)(g,D,H.themeOverride);P.bgHeader!==g.bgHeader&&(e.fillStyle=P.bgHeader,e.fill()),P!==g&&(e.font=P.baseFontFull);const F=f.columns.hasIndex(H.sourceIndex),ke=c!==void 0||d,Ve=!ke&&G===-1&&K===H.sourceIndex,Ye=ke?0:m.find(ce=>ce.item[0]===H.sourceIndex&&ce.item[1]===-1)?.hoverAmount??0,Xe=f?.current!==void 0&&f.current.cell[0]===H.sourceIndex,mt=F?P.accentColor:Xe?P.bgHeaderHasFocus:P.bgHeader,Ae=n?s:0,ve=H.sourceIndex===0?0:1;F?(e.fillStyle=mt,e.fillRect(ee+ve,Ae,H.width-ve,a)):(Xe||Ye>0)&&(e.beginPath(),e.rect(ee+ve,Ae,H.width-ve,a),Xe&&(e.fillStyle=P.bgHeaderHasFocus,e.fill()),Ye>0&&(e.globalAlpha=Ye,e.fillStyle=P.bgHeaderHovered,e.fill(),e.globalAlpha=1)),dl(e,ee,Ae,H.width,a,H,F,P,Ve,Xe,Ye,p,E,M),e.restore()}),n&&Ss(e,t,i,l,s,r,g,p,m,h,w,S)}function Ss(e,t,n,r,i,l,a,s,c,d,f,g){const[m,h]=l?.[0]??[];let w=0;rl(t,n,r,i,(S,E,M,C,K,G)=>{if(g!==void 0&&!g.hasItemInRectangle({x:S[0],y:-2,width:S[1]-S[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(M,C,K,G),e.clip();const q=f(E),H=q?.overrideTheme===void 0?a:(0,Fn.P6)(a,q.overrideTheme),ee=h===-2&&m!==void 0&&m>=S[0]&&m<=S[1],A=ee?H.bgHeaderHovered:H.bgHeader;if(A!==a.bgHeader&&(e.fillStyle=A,e.fill()),e.fillStyle=H.textGroupHeader??H.textHeader,q!==void 0){let te=M;if(q.icon!==void 0&&(s.drawSprite(q.icon,"normal",e,te+8,(i-20)/2,20,H),te+=26),e.fillText(q.name,te+8,i/2+ur(e,a.headerFontFull)),q.actions!==void 0&&ee){const V=cl({x:M,y:C,width:K,height:G},q.actions);e.beginPath();const D=V[0].x-10,P=M+K-D;e.rect(D,0,P,i);const F=e.createLinearGradient(D,0,D+P,0),ke=(0,tn.fu)(A,0);F.addColorStop(0,ke),F.addColorStop(10/P,A),F.addColorStop(1,A),e.fillStyle=F,e.fill(),e.globalAlpha=.6;const[Ve,Ye]=l?.[1]??[-1,-1];for(let Xe=0;Xe<q.actions.length;Xe++){const mt=q.actions[Xe],Ae=V[Xe],ve=Do(Ae,Ve+M,Ye);ve&&(e.globalAlpha=1),s.drawSprite(mt.icon,"normal",e,Ae.x+Ae.width/2-10,Ae.y+Ae.height/2-10,20,H),ve&&(e.globalAlpha=.6)}e.globalAlpha=1}}M!==0&&d(S[0])&&(e.beginPath(),e.moveTo(M+.5,0),e.lineTo(M+.5,i),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()),e.restore(),w=M+K}),e.beginPath(),e.moveTo(w+.5,0),e.lineTo(w+.5,i),e.moveTo(0,i+.5),e.lineTo(n,i+.5),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()}const Or=30;function al(e,t,n,r,i){return i?{x:e,y:t,width:Or,height:Math.min(Or,r)}:{x:e+n-Or,y:Math.max(t,t+r/2-Or/2),width:Or,height:Math.min(Or,r)}}function cl(e,t){const n=[];let r=e.x+e.width-26*t.length;const i=e.y+e.height/2-13,l=26,a=26;for(let s=0;s<t.length;s++)n.push({x:r,y:i,width:a,height:l}),r+=26;return n}function ul(e,t,n,r,i,l,a,s,c,d,f,g,p,m){if(l.rowMarker!==void 0){const C=l.rowMarkerChecked;C!==!0&&(e.globalAlpha=d),gi(e,s,C,t,n,r,i,!1,void 0,void 0,18,"center",l.rowMarker),C!==!0&&(e.globalAlpha=1);return}const h=s.cellHorizontalPadding,w=a?s.textHeaderSelected:s.textHeader,S=l.hasMenu===!0&&(c||g&&a),E=p?-1:1;let M=p?t+r-h:t+h;if(l.icon!==void 0){let C=a?"selected":"normal";l.style==="highlight"&&(C=a?"selected":"special");const K=s.headerIconSize;f.drawSprite(l.icon,C,e,p?M-K:M,n+(i-K)/2,K,s),l.overlayIcon!==void 0&&f.drawSprite(l.overlayIcon,a?"selected":"special",e,p?M-K+9:M+9,n+((i-18)/2+6),18,s),M+=Math.ceil(K*1.3)*E}if(S&&l.hasMenu===!0&&r>35){const K=p?35:r-35,G=p?35*.7:r-35*.7,q=K/r,H=G/r,ee=e.createLinearGradient(t,0,t+r,0),A=(0,tn.fu)(w,0);ee.addColorStop(p?1:0,w),ee.addColorStop(q,w),ee.addColorStop(H,A),ee.addColorStop(p?0:1,A),e.fillStyle=ee}else e.fillStyle=w;if(p&&(e.textAlign="right"),e.fillText(l.title,M,n+i/2+ur(e,s.headerFontFull)),p&&(e.textAlign="left"),S&&l.hasMenu===!0)if(l.menuIcon===void 0||l.menuIcon===b.N4.Triangle){e.beginPath();const C=m.x+m.width/2-5.5,K=m.y+m.height/2-3;ds(e,[{x:C,y:K},{x:C+11,y:K},{x:C+5.5,y:K+6}],1),e.fillStyle=w,e.fill()}else if(l.menuIcon===b.N4.Dots){e.beginPath();const C=m.x+m.width/2,K=m.y+m.height/2;us(e,C,K),e.fillStyle=w,e.fill()}else{const C=m.x+(m.width-s.headerIconSize)/2,K=m.y+(m.height-s.headerIconSize)/2;f.drawSprite(l.menuIcon,"normal",e,C,K,s.headerIconSize,s)}}function dl(e,t,n,r,i,l,a,s,c,d,f,g,p,m){const h=B(l.title)==="rtl",w=al(t,n,r,i,h);p!==void 0?p({ctx:e,theme:s,rect:{x:t,y:n,width:r,height:i},column:l,columnIndex:l.sourceIndex,isSelected:a,hoverAmount:f,isHovered:c,hasSelectedCell:d,spriteManager:g,menuBounds:w},()=>ul(e,t,n,r,i,l,a,s,c,f,g,m,h,w)):ul(e,t,n,r,i,l,a,s,c,f,g,m,h,w)}var Rs=O(94394);function xs(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S,E,M){if(E!==void 0||t[t.length-1]!==n[t.length-1])return;const C=nl(S);dr(t,c,a,s,l,(K,G,q,H,ee)=>{if(K!==t[t.length-1])return;G+=K.width;const A=Math.max(G,H);A>r||(e.save(),e.beginPath(),e.rect(A,l+1,1e4,i-l-1),e.clip(),Io(ee,q,i,d,f,h,w,C,(te,V,D,P)=>{if(!P&&S.length>0&&!S.some(Xe=>To(G,te,1e4,D,Xe.x,Xe.y,Xe.width,Xe.height)))return;const F=p.hasIndex(V),ke=m.hasIndex(V);e.beginPath();const Ve=g?.(V),Ye=Ve===void 0?M:(0,Fn.P6)(M,Ve);Ye.bgCell!==M.bgCell&&(e.fillStyle=Ye.bgCell,e.fillRect(G,te,1e4,D)),ke&&(e.fillStyle=Ye.bgHeader,e.fillRect(G,te,1e4,D)),F&&(e.fillStyle=Ye.accentLight,e.fillRect(G,te,1e4,D))}),e.restore())})}function Ms(e,t,n,r,i,l,a,s,c){let d=!1;for(const h of t)if(!h.sticky){d=a(h.sourceIndex);break}const f=c.horizontalBorderColor??c.borderColor,g=c.borderColor,p=d?Pr(t):0;let m;if(p!==0&&(m=(0,tn.mN)(g,c.bgCell),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,r),e.strokeStyle=m,e.stroke()),i>0){const h=g===f&&m!==void 0?m:(0,tn.mN)(f,c.bgCell),w=Cr(l,i,s);e.beginPath(),e.moveTo(0,r-w+.5),e.lineTo(n,r-w+.5),e.strokeStyle=h,e.stroke()}}const fl=(e,t,n)=>{let r=0,i=t,l=0,a=n;if(e!==void 0&&e.length>0){r=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(const s of e)r=Math.min(r,s.x-1),i=Math.max(i,s.x+s.width+1),l=Math.min(l,s.y-1),a=Math.max(a,s.y+s.height+1)}return{minX:r,maxX:i,minY:l,maxY:a}};function ks(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h){const w=h.bgCell,{minX:S,maxX:E,minY:M,maxY:C}=fl(s,l,a),K=[],G=a-Cr(m,p,d);let q=c,H=n,ee=0;for(;q+i<G;){const D=q+i,P=d(H);if(D>=M&&D<=C-1){const ke=f?.(H)?.bgCell;ke!==void 0&&ke!==w&&H>=m-p&&K.push({x:S,y:D,w:E-S,h:P,color:ke})}q+=P,H<m-p&&(ee=q),H++}let A=0;const te=Math.min(G,C)-ee;if(te>0)for(let D=0;D<t.length;D++){const P=t[D];if(P.width===0)continue;const F=P.sticky?A:A+r,ke=P.themeOverride?.bgCell;ke!==void 0&&ke!==w&&F>=S&&F<=E&&g(D+1)&&K.push({x:F,y:ee,w:P.width,h:te,color:ke}),A+=P.width}if(K.length===0)return;let V;e.beginPath();for(let D=K.length-1;D>=0;D--){const P=K[D];V===void 0?V=P.color:P.color!==V&&(e.fillStyle=V,e.fill(),e.beginPath(),V=P.color),e.rect(P.x,P.y,P.w,P.h)}V!==void 0&&(e.fillStyle=V,e.fill()),e.beginPath()}function hl(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S,E=!1){if(c!==void 0){e.beginPath(),e.save(),e.rect(0,0,l,a);for(const D of c)e.rect(D.x+1,D.y+1,D.width-1,D.height-1);e.clip("evenodd")}const M=S.horizontalBorderColor??S.borderColor,C=S.borderColor,{minX:K,maxX:G,minY:q,maxY:H}=fl(s,l,a),ee=[];e.beginPath();let A=.5;for(let D=0;D<t.length;D++){const P=t[D];if(P.width===0)continue;A+=P.width;const F=P.sticky?A:A+r;F>=K&&F<=G&&m(D+1)&&ee.push({x1:F,y1:Math.max(d,q),x2:F,y2:Math.min(a,H),color:C})}let te=a+.5;for(let D=w-h;D<w;D++){const P=g(D);te-=P,ee.push({x1:K,y1:te,x2:G,y2:te,color:M})}if(E!==!0){let D=f+.5,P=n;const F=te;for(;D+i<F;){const ke=D+i;if(ke>=q&&ke<=H-1){const Ve=p?.(P);ee.push({x1:K,y1:ke,x2:G,y2:ke,color:Ve?.horizontalBorderColor??Ve?.borderColor??M})}D+=g(P),P++}}const V=Rs(ee,D=>D.color);for(const D of Object.keys(V)){e.strokeStyle=D;for(const P of V[D])e.moveTo(P.x1,P.y1),e.lineTo(P.x2,P.y2);e.stroke(),e.beginPath()}c!==void 0&&e.restore()}function Es(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S,E,M){const C=[];e.imageSmoothingEnabled=!1;const K=Math.min(i.cellYOffset,a),G=Math.max(i.cellYOffset,a);let q=0;if(typeof E=="number")q+=(G-K)*E;else for(let F=K;F<G;F++)q+=E(F);a>i.cellYOffset&&(q=-q),q+=c-i.translateY;const H=Math.min(i.cellXOffset,l),ee=Math.max(i.cellXOffset,l);let A=0;for(let F=H;F<ee;F++)A+=w[F].width;l>i.cellXOffset&&(A=-A),A+=s-i.translateX;const te=Pr(S);if(A!==0&&q!==0)return{regions:[]};const V=d>0?Cr(p,d,E):0,D=f-te-Math.abs(A),P=g-m-V-Math.abs(q)-1;if(D>150&&P>150){const F={sx:0,sy:0,sw:f*h,sh:g*h,dx:0,dy:0,dw:f*h,dh:g*h};if(q>0?(F.sy=(m+1)*h,F.sh=P*h,F.dy=(q+m+1)*h,F.dh=P*h,C.push({x:0,y:m,width:f,height:q+1})):q<0&&(F.sy=(-q+m+1)*h,F.sh=P*h,F.dy=(m+1)*h,F.dh=P*h,C.push({x:0,y:g+q-V,width:f,height:-q+V})),A>0?(F.sx=te*h,F.sw=D*h,F.dx=(A+te)*h,F.dw=D*h,C.push({x:te-1,y:0,width:A+2,height:g})):A<0&&(F.sx=(te-A)*h,F.sw=D*h,F.dx=te*h,F.dw=D*h,C.push({x:f+A,y:0,width:-A,height:g})),e.setTransform(1,0,0,1,0,0),M){if(te>0&&A!==0&&q===0&&(r===void 0||n?.[1]!==!1)){const ke=te*h,Ve=g*h;e.drawImage(t,0,0,ke,Ve,0,0,ke,Ve)}if(V>0&&A===0&&q!==0&&(r===void 0||n?.[0]!==!1)){const ke=(g-V)*h,Ve=f*h,Ye=V*h;e.drawImage(t,0,ke,Ve,Ye,0,ke,Ve,Ye)}}e.drawImage(t,F.sx,F.sy,F.sw,F.sh,F.dx,F.dy,F.dw,F.dh),e.scale(h,h)}return e.imageSmoothingEnabled=!0,{regions:C}}function Is(e,t,n,r,i,l,a,s,c,d){const f=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||i!==e.translateY||dr(c,n,r,i,s,(g,p,m,h)=>{if(g.sourceIndex===d){const w=Math.max(p,h)+1;return f.push({x:w,y:0,width:l-w,height:a}),!0}}),f}function Ts(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let r=0;r<e.mappedColumns.length;r++){const i=e.mappedColumns[r],l=t.mappedColumns[r];if((0,ae.bD)(i,l))continue;if(n!==void 0||i.width===l.width)return!1;const{width:a,...s}=i,{width:c,...d}=l;if(!(0,ae.bD)(s,d))return!1;n=r}return n===void 0?!0:n}return!0}function gl(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w){const S=h?.filter(H=>H.style!=="no-outline");if(S===void 0||S.length===0)return;const E=Pr(s),M=Cr(m,p,g),C=[c,0,s.length,m-p],K=[E,0,t,n-M],G=S.map(H=>{const ee=H.range,A=H.style??"dashed";return ys(ee,C,t,n,K).map(te=>{const V=te.rect,D=ai(V.x,V.y,t,n,f,d+f,r,i,l,a,m,c,p,s,g),P=V.width===1&&V.height===1?D:ai(V.x+V.width-1,V.y+V.height-1,t,n,f,d+f,r,i,l,a,m,c,p,s,g);return V.x+V.width>=s.length&&(P.width-=1),V.y+V.height>=m&&(P.height-=1),{color:H.color,style:A,clip:te.clip,rect:ws({x:D.x,y:D.y,width:P.x+P.width-D.x,height:P.y+P.height-D.y},t,n,8)}})}),q=()=>{e.lineWidth=1;let H=!1;for(const ee of G)for(const A of ee)if(A?.rect!==void 0&&To(0,0,t,n,A.rect.x,A.rect.y,A.rect.width,A.rect.height)){const te=H,V=!ps(A.clip,A.rect);V&&(e.save(),e.rect(A.clip.x,A.clip.y,A.clip.width,A.clip.height),e.clip()),A.style==="dashed"&&!H?(e.setLineDash([5,3]),H=!0):(A.style==="solid"||A.style==="solid-outline")&&H&&(e.setLineDash([]),H=!1),e.strokeStyle=A.style==="solid-outline"?(0,tn.au)((0,tn.au)(A.color,w.borderColor),w.bgCell):(0,tn.fu)(A.color,1),e.strokeRect(A.rect.x+.5,A.rect.y+.5,A.rect.width-1,A.rect.height-1),V&&(e.restore(),H=te)}H&&e.setLineDash([])};return q(),q}function ml(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=i,e.stroke(),e.globalAlpha=1}function mi(e,t,n,r,i,l,a,s,c,d,f,g,p,m,h,w,S){if(f.current===void 0)return;const E=f.current.range,M=f.current.cell,C=[E.x+E.width-1,E.y+E.height-1];if(M[1]>=S&&C[1]>=S||!a.some(F=>F.sourceIndex===M[0]||F.sourceIndex===C[0]))return;const[G,q]=f.current.cell,H=p(f.current.cell),ee=H.span??[G,G],A=q>=S-m,te=m>0&&!A?Cr(S,m,g)-1:0,V=C[1];let D;if(dr(a,r,i,l,d,(F,ke,Ve,Ye,Xe)=>{if(F.sticky&&G>F.sourceIndex)return;const mt=F.sourceIndex<ee[0],Ae=F.sourceIndex>ee[1],ve=F.sourceIndex===C[0];if(!(!ve&&(mt||Ae)))return Io(Xe,Ve,n,S,g,m,h,void 0,(ce,se,Oe)=>{if(se!==q&&se!==V)return;let ye=ke,tt=F.width;if(H.span!==void 0){const je=ol(H.span,ke,ce,F.width,Oe,F,s),ut=F.sticky?je[0]:je[1];ut!==void 0&&(ye=ut.x,tt=ut.width)}return se===V&&ve&&w&&(D=()=>{Ye>ye&&!F.sticky&&(e.beginPath(),e.rect(Ye,0,t-Ye,n),e.clip()),e.beginPath(),e.rect(ye+tt-4,ce+Oe-4,4,4),e.fillStyle=F.themeOverride?.accentColor??c.accentColor,e.fill()}),D!==void 0}),D!==void 0}),D===void 0)return;const P=()=>{e.save(),e.beginPath(),e.rect(0,d,t,n-d-te),e.clip(),D?.(),e.restore()};return P(),P}function Ds(e,t,n,r,i,l,a,s,c){c===void 0||c.size===0||(e.beginPath(),rl(t,n,l,r,(d,f,g,p,m,h)=>{c.hasItemInRectangle({x:d[0],y:-2,width:d[1]-d[0]+1,height:1})&&e.rect(g,p,m,h)}),dr(t,s,l,a,i,(d,f,g,p)=>{const m=Math.max(0,p-f),h=f+m+1,w=d.width-m-1;c.has([d.sourceIndex,-1])&&e.rect(h,r,w,i-r)}),e.clip())}function Ps(e,t,n,r,i,l,a,s,c,d){let f=0;return dr(e,l,r,i,n,(g,p,m,h,w)=>(Io(w,m,t,a,s,c,d,void 0,(S,E,M,C)=>{C||(f=Math.max(E,f))}),!0)),f}function pl(e,t){const{canvasCtx:n,headerCanvasCtx:r,width:i,height:l,cellXOffset:a,cellYOffset:s,translateX:c,translateY:d,mappedColumns:f,enableGroups:g,freezeColumns:p,dragAndDropState:m,theme:h,drawFocus:w,headerHeight:S,groupHeaderHeight:E,disabledRows:M,rowHeight:C,verticalBorder:K,overrideCursor:G,isResizing:q,selection:H,fillHandle:ee,freezeTrailingRows:A,rows:te,getCellContent:V,getGroupDetails:D,getRowThemeOverride:P,isFocused:F,drawHeaderCallback:ke,prelightCells:Ve,drawCellCallback:Ye,highlightRegions:Xe,resizeCol:mt,imageLoader:Ae,lastBlitData:ve,hoverValues:ce,hyperWrapping:se,hoverInfo:Oe,spriteManager:ye,maxScaleFactor:tt,hasAppendRow:ot,touchMode:je,enqueue:ut,renderStateProvider:Mt,getCellRenderer:gt,renderStrategy:At,bufferACtx:pt,bufferBCtx:Et,damage:Dt,minimumCellWidth:nn}=e;if(i===0||l===0)return;const _e=At==="double-buffer",De=Math.min(tt,Math.ceil(window.devicePixelRatio??1)),ft=At!=="direct"&&Ts(e,t),Ze=n.canvas;(Ze.width!==i*De||Ze.height!==l*De)&&(Ze.width=i*De,Ze.height=l*De,Ze.style.width=i+"px",Ze.style.height=l+"px");const wt=r.canvas,it=g?E+S:S,Lt=it+1;(wt.width!==i*De||wt.height!==Lt*De)&&(wt.width=i*De,wt.height=Lt*De,wt.style.width=i+"px",wt.style.height=Lt+"px");const kt=pt.canvas,Rt=Et.canvas;_e&&(kt.width!==i*De||kt.height!==l*De)&&(kt.width=i*De,kt.height=l*De,ve.current!==void 0&&(ve.current.aBufferScroll=void 0)),_e&&(Rt.width!==i*De||Rt.height!==l*De)&&(Rt.width=i*De,Rt.height=l*De,ve.current!==void 0&&(ve.current.bBufferScroll=void 0));const Ue=ve.current;if(ft===!0&&a===Ue?.cellXOffset&&s===Ue?.cellYOffset&&c===Ue?.translateX&&d===Ue?.translateY)return;let zt=null;_e&&(zt=n);const dt=r;let nt;_e?Dt!==void 0?nt=Ue?.lastBuffer==="b"?Et:pt:nt=Ue?.lastBuffer==="b"?pt:Et:nt=n;const rn=nt.canvas,xt=_e?rn===kt?Rt:kt:Ze,yt=typeof C=="number"?()=>C:C;dt.save(),nt.save(),dt.beginPath(),nt.beginPath(),dt.textBaseline="middle",nt.textBaseline="middle",De!==1&&(dt.scale(De,De),nt.scale(De,De));const vt=si(f,a,i,m,c);let Jt=[];const mn=w&&H.current?.cell[1]===s&&d===0;let Ln=!1;if(Xe!==void 0){for(const St of Xe)if(St.style!=="no-outline"&&St.range.y===s&&d===0){Ln=!0;break}}const Un=()=>{Cs(dt,vt,g,Oe,i,c,S,E,m,q,H,h,ye,ce,K,D,Dt,ke,je),hl(dt,vt,s,c,d,i,l,void 0,void 0,E,it,yt,P,K,A,te,h,!0),dt.beginPath(),dt.moveTo(0,Lt-.5),dt.lineTo(i,Lt-.5),dt.strokeStyle=(0,tn.au)(h.headerBottomBorderColor??h.horizontalBorderColor??h.borderColor,h.bgHeader),dt.stroke(),Ln&&gl(dt,i,l,a,s,c,d,f,p,S,E,C,A,te,Xe,h),mn&&mi(dt,i,l,s,c,d,vt,f,h,it,H,yt,V,A,ot,ee,te)};if(Dt!==void 0){const St=vt[vt.length-1].sourceIndex+1,Yt=Dt.hasItemInRegion([{x:a,y:-2,width:St,height:2},{x:a,y:s,width:St,height:300},{x:0,y:s,width:p,height:300},{x:0,y:-2,width:p,height:2},{x:a,y:te-A,width:St,height:A,when:A>0}]),Dn=pn=>{ll(pn,vt,f,l,it,c,d,s,te,yt,V,D,P,M,F,w,A,ot,Jt,Dt,H,Ve,Xe,Ae,ye,ce,Oe,Ye,se,h,ut,Mt,gt,G,nn);const Qe=H.current;ee&&w&&Qe!==void 0&&Dt.has(Ki(Qe.range))&&mi(pn,i,l,s,c,d,vt,f,h,it,H,yt,V,A,ot,ee,te)};Yt&&(Dn(nt),zt!==null&&(zt.save(),zt.scale(De,De),zt.textBaseline="middle",Dn(zt),zt.restore()),Dt.hasHeader()&&(Ds(dt,vt,i,E,it,c,d,s,Dt),Un())),nt.restore(),dt.restore();return}if((ft!==!0||a!==Ue?.cellXOffset||c!==Ue?.translateX||mn!==Ue?.mustDrawFocusOnHeader||Ln!==Ue?.mustDrawHighlightRingsOnHeader)&&Un(),ft===!0){(0,ae.vA)(xt!==void 0&&Ue!==void 0);const{regions:St}=Es(nt,xt,xt===kt?Ue.aBufferScroll:Ue.bBufferScroll,xt===kt?Ue.bBufferScroll:Ue.aBufferScroll,Ue,a,s,c,d,A,i,l,te,it,De,f,vt,C,_e);Jt=St}else ft!==!1&&((0,ae.vA)(Ue!==void 0),Jt=Is(Ue,a,s,c,d,i,l,it,vt,ft));Ms(nt,vt,i,l,A,te,K,yt,h);const on=gl(nt,i,l,a,s,c,d,f,p,S,E,C,A,te,Xe,h),Tn=w?mi(nt,i,l,s,c,d,vt,f,h,it,H,yt,V,A,ot,ee,te):void 0;if(nt.fillStyle=h.bgCell,Jt.length>0){nt.beginPath();for(const St of Jt)nt.rect(St.x,St.y,St.width,St.height);nt.clip(),nt.fill(),nt.beginPath()}else nt.fillRect(0,0,i,l);const vn=ll(nt,vt,f,l,it,c,d,s,te,yt,V,D,P,M,F,w,A,ot,Jt,Dt,H,Ve,Xe,Ae,ye,ce,Oe,Ye,se,h,ut,Mt,gt,G,nn);xs(nt,vt,f,i,l,it,c,d,s,te,yt,P,H.rows,M,A,ot,Jt,Dt,h),ks(nt,vt,s,c,d,i,l,Jt,it,yt,P,K,A,te,h),hl(nt,vt,s,c,d,i,l,Jt,vn,E,it,yt,P,K,A,te,h),on?.(),Tn?.(),q&&dr(vt,0,c,0,it,(St,Yt)=>St.sourceIndex===mt?(ml(dt,Yt+St.width,0,it+1,(0,tn.au)(h.resizeIndicatorColor??h.accentLight,h.bgHeader)),ml(nt,Yt+St.width,it,l,(0,tn.au)(h.resizeIndicatorColor??h.accentLight,h.bgCell)),!0):!1),zt!==null&&(zt.fillStyle=h.bgCell,zt.fillRect(0,0,i,l),zt.drawImage(nt.canvas,0,0));const nr=Ps(vt,l,it,c,d,s,te,yt,A,ot);Ae?.setWindow({x:a,y:s,width:vt.length,height:nr-s},p,Array.from({length:A},(St,Yt)=>te-1-Yt));const rr=Ue!==void 0&&(a!==Ue.cellXOffset||c!==Ue.translateX),Wt=Ue!==void 0&&(s!==Ue.cellYOffset||d!==Ue.translateY);ve.current={cellXOffset:a,cellYOffset:s,translateX:c,translateY:d,mustDrawFocusOnHeader:mn,mustDrawHighlightRingsOnHeader:Ln,lastBuffer:_e?rn===kt?"a":"b":void 0,aBufferScroll:rn===kt?[rr,Wt]:Ue?.aBufferScroll,bBufferScroll:rn===Rt?[rr,Wt]:Ue?.bBufferScroll},nt.restore(),dt.restore()}const Os=80;function As(e){const t=e-1;return t*t*t+1}class Hs{callback;constructor(t){this.callback=t}currentHoveredItem=void 0;leavingItems=[];lastAnimationTime;addToLeavingItems=t=>{this.leavingItems.some(r=>ro(r.item,t.item))||this.leavingItems.push(t)};removeFromLeavingItems=t=>{const n=this.leavingItems.find(r=>ro(r.item,t));return this.leavingItems=this.leavingItems.filter(r=>r!==n),n?.hoverAmount??0};cleanUpLeavingElements=()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)};shouldStep=()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n};getAnimatingItems=()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:As(t.hoverAmount)}));step=t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const r=(t-this.lastAnimationTime)/Os;for(const l of this.leavingItems)l.hoverAmount=W(l.hoverAmount-r,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=W(this.currentHoveredItem.hoverAmount+r,0,1));const i=this.getAnimatingItems();this.callback(i),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0};setHovered=t=>{if(!ro(this.currentHoveredItem?.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const n=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:n}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}}}class Fs{fn;val;constructor(t){this.fn=t}get value(){return this.val??(this.val=this.fn())}}function pi(e){return new Fs(e)}const Ls=pi(()=>window.navigator.userAgent.includes("Firefox")),Po=pi(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Oo=pi(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function zs(e){const t=o.useRef([]),n=o.useRef(0),r=o.useRef(e);r.current=e;const i=o.useCallback(()=>{const l=()=>window.requestAnimationFrame(a),a=()=>{const s=t.current.map(di);t.current=[],r.current(new so(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?l:a)},[]);return o.useCallback(l=>{t.current.length===0&&i();const a=_n(l[0],l[1]);t.current.includes(a)||t.current.push(a)},[i])}const fr="header",En="group-header",Ao="out-of-bounds";var Ar;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(Ar||(Ar={}));function wl(e,t){return e===t?!0:e?.kind==="out-of-bounds"?e?.kind===t?.kind&&e?.location[0]===t?.location[0]&&e?.location[1]===t?.location[1]&&e?.region[0]===t?.region[0]&&e?.region[1]===t?.region[1]:e?.kind===t?.kind&&e?.location[0]===t?.location[0]&&e?.location[1]===t?.location[1]}const yl=6,Ns=(e,t)=>e.kind===b.dd.Custom?e.copyData:t?.(e)?.getAccessibilityString(e)??"",Ws=(e,t)=>{const{width:n,height:r,accessibilityHeight:i,columns:l,cellXOffset:a,cellYOffset:s,headerHeight:c,fillHandle:d=!1,groupHeaderHeight:f,rowHeight:g,rows:p,getCellContent:m,getRowThemeOverride:h,onHeaderMenuClick:w,enableGroups:S,isFilling:E,onCanvasFocused:M,onCanvasBlur:C,isFocused:K,selection:G,freezeColumns:q,onContextMenu:H,freezeTrailingRows:ee,fixedShadowX:A=!0,fixedShadowY:te=!0,drawFocusRing:V,onMouseDown:D,onMouseUp:P,onMouseMoveRaw:F,onMouseMove:ke,onItemHovered:Ve,dragAndDropState:Ye,firstColAccessible:Xe,onKeyDown:mt,onKeyUp:Ae,highlightRegions:ve,canvasRef:ce,onDragStart:se,onDragEnd:Oe,eventTargetRef:ye,isResizing:tt,resizeColumn:ot,isDragging:je,isDraggable:ut=!1,allowResize:Mt,disabledRows:gt,hasAppendRow:At,getGroupDetails:pt,theme:Et,prelightCells:Dt,headerIcons:nn,verticalBorder:_e,drawCell:De,drawHeader:ft,onCellFocused:Ze,onDragOverCell:wt,onDrop:it,onDragLeave:Lt,imageWindowLoader:kt,smoothScrollX:Rt=!1,smoothScrollY:Ue=!1,experimental:zt,getCellRenderer:dt}=e,nt=e.translateX??0,rn=e.translateY??0,xt=Math.max(q,Math.min(l.length-1,a)),yt=o.useRef(null),vt=kt,Jt=o.useRef(),[mn,Ln]=o.useState(!1),Un=o.useRef([]),on=o.useRef(),[Tn,vn]=o.useState(),[nr,rr]=o.useState(),Wt=o.useRef(null),[St,Yt]=o.useState(),[Dn,pn]=o.useState(!1),Qe=o.useRef(Dn);Qe.current=Dn;const _t=o.useMemo(()=>new gs(nn,()=>{Qn.current=void 0,Sr.current()}),[nn]),Nt=S?f+c:c,Zn=o.useRef(-1),wn=(zt?.enableFirefoxRescaling??!1)&&Ls.value,zn=(zt?.enableSafariRescaling??!1)&&Po.value;o.useLayoutEffect(()=>{window.devicePixelRatio===1||!wn&&!zn||(Zn.current!==-1&&Ln(!0),window.clearTimeout(Zn.current),Zn.current=window.setTimeout(()=>{Ln(!1),Zn.current=-1},200))},[s,xt,nt,rn,wn,zn]);const qt=kn(l,q),Hr=A?Pr(qt,Ye):0,ln=o.useCallback((I,de,Ee)=>{const Me=I.getBoundingClientRect();if(de>=qt.length||Ee>=p)return;const he=Me.width/n,Ie=ai(de,Ee,n,r,f,Nt,xt,s,nt,rn,p,q,ee,qt,g);return he!==1&&(Ie.x*=he,Ie.y*=he,Ie.width*=he,Ie.height*=he),Ie.x+=Me.x,Ie.y+=Me.y,Ie},[n,r,f,Nt,xt,s,nt,rn,p,q,ee,qt,g]),dn=o.useCallback((I,de,Ee,Me)=>{const he=I.getBoundingClientRect(),Ie=he.width/n,Je=(de-he.left)/Ie,Pe=(Ee-he.top)/Ie,We=5,rt=si(qt,xt,n,void 0,nt);let jt=0,Kt=0;Me instanceof MouseEvent&&(jt=Me.button,Kt=Me.buttons);const Tt=ts(Je,rt,nt),bt=ns(Pe,r,S,c,f,p,g,s,rn,ee),Xt=Me?.shiftKey===!0,lt=Me?.ctrlKey===!0,Bt=Me?.metaKey===!0,xr=Me!==void 0&&!(Me instanceof MouseEvent)||Me?.pointerType==="touch",an=[Je<0?-1:n<Je?1:0,Pe<Nt?-1:r<Pe?1:0];let Mr;if(Tt===-1||Pe<0||Je<0||bt===void 0||Je>n||Pe>r){const It=Je>n?1:Je<0?-1:0,gn=Pe>r?1:Pe<0?-1:0;let An=It*2,qn=gn*2;It===0&&(An=Tt===-1?Ar.EndPadding:Ar.Center),gn===0&&(qn=bt===void 0?Ar.EndPadding:Ar.Center);let Yn=!1;if(Tt===-1&&bt===-1){const kr=ln(I,qt.length-1,-1);(0,ae.vA)(kr!==void 0),Yn=de<kr.x+kr.width+We}const Kr=Je>n&&Je<n+Se()||Pe>r&&Pe<r+Se();Mr={kind:Ao,location:[Tt!==-1?Tt:Je<0?0:qt.length-1,bt??p-1],region:[An,qn],shiftKey:Xt,ctrlKey:lt,metaKey:Bt,isEdge:Yn,isTouch:xr,button:jt,buttons:Kt,scrollEdge:an,isMaybeScrollbar:Kr}}else if(bt<=-1){let It=ln(I,Tt,bt);(0,ae.vA)(It!==void 0);let gn=It!==void 0&&It.x+It.width-de<=We;const An=Tt-1;de-It.x<=We&&An>=0?(gn=!0,It=ln(I,An,bt),(0,ae.vA)(It!==void 0),Mr={kind:S&&bt===-2?En:fr,location:[An,bt],bounds:It,group:qt[An].group??"",isEdge:gn,shiftKey:Xt,ctrlKey:lt,metaKey:Bt,isTouch:xr,localEventX:de-It.x,localEventY:Ee-It.y,button:jt,buttons:Kt,scrollEdge:an}):Mr={kind:S&&bt===-2?En:fr,group:qt[Tt].group??"",location:[Tt,bt],bounds:It,isEdge:gn,shiftKey:Xt,ctrlKey:lt,metaKey:Bt,isTouch:xr,localEventX:de-It.x,localEventY:Ee-It.y,button:jt,buttons:Kt,scrollEdge:an}}else{const It=ln(I,Tt,bt);(0,ae.vA)(It!==void 0);const gn=It!==void 0&&It.x+It.width-de<We;let An=!1;if(d&&G.current!==void 0){const qn=Ki(G.current.range),Yn=ln(I,qn[0],qn[1]);if(Yn!==void 0){const Kr=Yn.x+Yn.width-2,kr=Yn.y+Yn.height-2;An=Math.abs(Kr-de)<yl&&Math.abs(kr-Ee)<yl}}Mr={kind:"cell",location:[Tt,bt],bounds:It,isEdge:gn,shiftKey:Xt,ctrlKey:lt,isFillHandle:An,metaKey:Bt,isTouch:xr,localEventX:de-It.x,localEventY:Ee-It.y,button:jt,buttons:Kt,scrollEdge:an}}return Mr},[n,qt,xt,nt,r,S,c,f,p,g,s,rn,ee,ln,d,G,Nt]),[Sn]=Tn??[],Wo=o.useRef(()=>{}),Fr=o.useRef(Tn);Fr.current=Tn;const[or,ir]=o.useMemo(()=>{const I=document.createElement("canvas"),de=document.createElement("canvas");return I.style.display="none",I.style.opacity="0",I.style.position="fixed",de.style.display="none",de.style.opacity="0",de.style.position="fixed",[I.getContext("2d",{alpha:!1}),de.getContext("2d",{alpha:!1})]},[]);o.useLayoutEffect(()=>{if(!(or===null||ir===null))return document.documentElement.append(or.canvas),document.documentElement.append(ir.canvas),()=>{or.canvas.remove(),ir.canvas.remove()}},[or,ir]);const Lr=o.useMemo(()=>new fs,[]),_o=wn&&mn?1:zn&&mn?2:5,Bo=zt?.disableMinimumCellWidth===!0?1:10,Qn=o.useRef(),zr=o.useRef(null),Nr=o.useRef(null),Wr=o.useCallback(()=>{const I=yt.current,de=Wt.current;if(I===null||de===null||(zr.current===null&&(zr.current=I.getContext("2d",{alpha:!1}),I.width=0,I.height=0),Nr.current===null&&(Nr.current=de.getContext("2d",{alpha:!1}),de.width=0,de.height=0),zr.current===null||Nr.current===null||or===null||ir===null))return;let Ee=!1;const Me=Je=>{Ee=!0,Yt(Je)},he=Qn.current,Ie={headerCanvasCtx:Nr.current,canvasCtx:zr.current,bufferACtx:or,bufferBCtx:ir,width:n,height:r,cellXOffset:xt,cellYOffset:s,translateX:Math.round(nt),translateY:Math.round(rn),mappedColumns:qt,enableGroups:S,freezeColumns:q,dragAndDropState:Ye,theme:Et,headerHeight:c,groupHeaderHeight:f,disabledRows:gt??b.I1.empty(),rowHeight:g,verticalBorder:_e,isResizing:tt,resizeCol:ot,isFocused:K,selection:G,fillHandle:d,drawCellCallback:De,hasAppendRow:At,overrideCursor:Me,maxScaleFactor:_o,freezeTrailingRows:ee,rows:p,drawFocus:V,getCellContent:m,getGroupDetails:pt??(Je=>({name:Je})),getRowThemeOverride:h,drawHeaderCallback:ft,prelightCells:Dt,highlightRegions:ve,imageLoader:vt,lastBlitData:on,damage:Jt.current,hoverValues:Un.current,hoverInfo:Fr.current,spriteManager:_t,scrolling:mn,hyperWrapping:zt?.hyperWrapping??!1,touchMode:Dn,enqueue:Wo.current,renderStateProvider:Lr,renderStrategy:zt?.renderStrategy??(Po.value?"double-buffer":"single-buffer"),getCellRenderer:dt,minimumCellWidth:Bo};Ie.damage===void 0?(Qn.current=Ie,pl(Ie,he)):pl(Ie,void 0),!Ee&&(Ie.damage===void 0||Ie.damage.has(Fr?.current?.[0]))&&Yt(void 0)},[or,ir,n,r,xt,s,nt,rn,qt,S,q,Ye,Et,c,f,gt,g,_e,tt,At,ot,K,G,d,ee,p,V,_o,m,pt,h,De,ft,Dt,ve,vt,_t,mn,zt?.hyperWrapping,zt?.renderStrategy,Dn,Lr,dt,Bo]),Sr=o.useRef(Wr);o.useLayoutEffect(()=>{Wr(),Sr.current=Wr},[Wr]),o.useLayoutEffect(()=>{(async()=>{document?.fonts?.ready!==void 0&&(await document.fonts.ready,Qn.current=void 0,Sr.current())})()},[]);const gr=o.useCallback(I=>{Jt.current=I,Sr.current(),Jt.current=void 0},[]),Uo=zs(gr);Wo.current=Uo;const $o=o.useCallback(I=>{gr(new so(I.map(de=>de.cell)))},[gr]);vt.setCallback(gr);const[xi,Mi]=o.useState(!1),[_r,lr]=Sn??[],ki=_r!==void 0&&lr===-1,Ei=_r!==void 0&&lr===-2;let Xo=!1,Br=!1,Jn=St;if(Jn===void 0&&_r!==void 0&&lr!==void 0&&lr>-1&&lr<p){const I=m([_r,lr],!0);Xo=I.kind===b.Ld.NewRow||I.kind===b.Ld.Marker&&I.markerKind!=="number",Br=I.kind===b.dd.Boolean&&(0,b.dB)(I),Jn=I.cursor}const Yo=je?"grabbing":(nr??!1)||tt?"col-resize":xi||E?"crosshair":Jn!==void 0?Jn:ki||Xo||Br||Ei?"pointer":"default",Ur=o.useMemo(()=>({contain:"strict",display:"block",cursor:Yo}),[Yo]),fo=o.useRef("default"),mr=ye?.current;mr!=null&&fo.current!==Ur.cursor&&(mr.style.cursor=fo.current=Ur.cursor);const Pn=o.useCallback((I,de,Ee,Me)=>{if(pt===void 0)return;const he=pt(I);if(he.actions!==void 0){const Ie=cl(de,he.actions);for(const[Je,Pe]of Ie.entries())if(Do(Pe,Ee+de.x,Me+Pe.y))return he.actions[Je]}},[pt]),$n=o.useCallback((I,de,Ee,Me)=>{const he=l[de];if(!je&&!tt&&he.hasMenu===!0&&!(nr??!1)){const Ie=ln(I,de,-1);(0,ae.vA)(Ie!==void 0);const Je=al(Ie.x,Ie.y,Ie.width,Ie.height,B(he.title)==="rtl");if(Ee>Je.x&&Ee<Je.x+Je.width&&Me>Je.y&&Me<Je.y+Je.height)return Ie}},[l,ln,nr,je,tt]),ho=o.useRef(0),pr=o.useRef(),go=o.useRef(!1),bn=o.useCallback(I=>{const de=yt.current,Ee=ye?.current;if(de===null||I.target!==de&&I.target!==Ee)return;go.current=!0;let Me,he;if(I instanceof MouseEvent?(Me=I.clientX,he=I.clientY):(Me=I.touches[0].clientX,he=I.touches[0].clientY),I.target===Ee&&Ee!==null){const Je=Ee.getBoundingClientRect();if(Me>Je.right||he>Je.bottom)return}const Ie=dn(de,Me,he,I);pr.current=Ie.location,Ie.isTouch&&(ho.current=Date.now()),Qe.current!==Ie.isTouch&&pn(Ie.isTouch),!(Ie.kind===fr&&$n(de,Ie.location[0],Me,he)!==void 0)&&(Ie.kind===En&&Pn(Ie.group,Ie.bounds,Ie.localEventX,Ie.localEventY)!==void 0||(D?.(Ie),!Ie.isTouch&&ut!==!0&&ut!==Ie.kind&&Ie.button<3&&Ie.button!==1&&I.preventDefault()))},[ye,ut,dn,Pn,$n,D]);le("touchstart",bn,window,!1),le("mousedown",bn,window,!1);const $r=o.useRef(0),mo=o.useCallback(I=>{const de=$r.current;$r.current=Date.now();const Ee=yt.current;if(go.current=!1,P===void 0||Ee===null)return;const Me=ye?.current,he=I.target!==Ee&&I.target!==Me;let Ie,Je,Pe=!0;if(I instanceof MouseEvent){if(Ie=I.clientX,Je=I.clientY,Pe=I.button<3,I.pointerType==="touch")return}else Ie=I.changedTouches[0].clientX,Je=I.changedTouches[0].clientY;let We=dn(Ee,Ie,Je,I);We.isTouch&&ho.current!==0&&Date.now()-ho.current>500&&(We={...We,isLongTouch:!0}),de!==0&&Date.now()-de<(We.isTouch?1e3:500)&&(We={...We,isDoubleClick:!0}),Qe.current!==We.isTouch&&pn(We.isTouch),!he&&I.cancelable&&Pe&&I.preventDefault();const[rt]=We.location,jt=$n(Ee,rt,Ie,Je);if(We.kind===fr&&jt!==void 0){(We.button!==0||pr.current?.[0]!==rt||pr.current?.[1]!==-1)&&P(We,!0);return}else if(We.kind===En){const Kt=Pn(We.group,We.bounds,We.localEventX,We.localEventY);if(Kt!==void 0){We.button===0&&Kt.onClick(We);return}}P(We,he)},[P,ye,dn,$n,Pn]);le("mouseup",mo,window,!1),le("touchend",mo,window,!1);const Ko=o.useCallback(I=>{const de=yt.current;if(de===null)return;const Ee=ye?.current,Me=I.target!==de&&I.target!==Ee;let he,Ie,Je=!0;I instanceof MouseEvent?(he=I.clientX,Ie=I.clientY,Je=I.button<3):(he=I.changedTouches[0].clientX,Ie=I.changedTouches[0].clientY);const Pe=dn(de,he,Ie,I);Qe.current!==Pe.isTouch&&pn(Pe.isTouch),!Me&&I.cancelable&&Je&&I.preventDefault();const[We]=Pe.location,rt=$n(de,We,he,Ie);if(Pe.kind===fr&&rt!==void 0)Pe.button===0&&pr.current?.[0]===We&&pr.current?.[1]===-1&&w?.(We,rt);else if(Pe.kind===En){const jt=Pn(Pe.group,Pe.bounds,Pe.localEventX,Pe.localEventY);jt!==void 0&&Pe.button===0&&jt.onClick(Pe)}},[ye,dn,$n,w,Pn]);le("click",Ko,window,!1);const Ii=o.useCallback(I=>{const de=yt.current,Ee=ye?.current;if(de===null||I.target!==de&&I.target!==Ee||H===void 0)return;const Me=dn(de,I.clientX,I.clientY,I);H(Me,()=>{I.cancelable&&I.preventDefault()})},[ye,dn,H]);le("contextmenu",Ii,ye?.current??null,!1);const Vo=o.useCallback(I=>{Jt.current=new so(I.map(de=>de.item)),Un.current=I,Sr.current(),Jt.current=void 0},[]),Xn=o.useMemo(()=>new Hs(Vo),[Vo]),sr=o.useRef(Xn);sr.current=Xn,o.useLayoutEffect(()=>{const I=sr.current;if(Sn===void 0||Sn[1]<0){I.setHovered(Sn);return}const de=m(Sn,!0),Ee=dt(de),Me=Ee===void 0&&de.kind===b.dd.Custom||Ee?.needsHover!==void 0&&(typeof Ee.needsHover=="boolean"?Ee.needsHover:Ee.needsHover(de));I.setHovered(Me?Sn:void 0)},[m,dt,Sn]);const On=o.useRef(),z=o.useCallback(I=>{const de=yt.current;if(de===null)return;const Ee=ye?.current,Me=I.target!==de&&I.target!==Ee,he=dn(de,I.clientX,I.clientY,I);if(he.kind!=="out-of-bounds"&&Me&&!go.current&&!he.isTouch)return;const Ie=(Pe,We)=>{vn(rt=>rt===Pe||rt?.[0][0]===Pe?.[0][0]&&rt?.[0][1]===Pe?.[0][1]&&(rt?.[1][0]===Pe?.[1][0]&&rt?.[1][1]===Pe?.[1][1]||!We)?rt:Pe)};if(!wl(he,On.current))Yt(void 0),Ve?.(he),Ie(he.kind===Ao?void 0:[he.location,[he.localEventX,he.localEventY]],!0),On.current=he;else if(he.kind==="cell"||he.kind===fr||he.kind===En){let Pe=!1,We=!0;if(he.kind==="cell"){const jt=m(he.location);We=dt(jt)?.needsHoverPosition??jt.kind===b.dd.Custom,Pe=We}else he.kind===En&&(Pe=!0);const rt=[he.location,[he.localEventX,he.localEventY]];Ie(rt,We),Fr.current=rt,Pe&&gr(new so([he.location]))}const Je=he.location[0]>=(Xe?0:1);rr(he.kind===fr&&he.isEdge&&Je&&Mt===!0),Mi(he.kind==="cell"&&he.isFillHandle),F?.(I),ke(he)},[ye,dn,Xe,Mt,F,ke,Ve,m,dt,gr]);le("mousemove",z,window,!0);const $t=o.useCallback(I=>{const de=yt.current;if(de===null)return;let Ee,Me;G.current!==void 0&&(Ee=ln(de,G.current.cell[0],G.current.cell[1]),Me=G.current.cell),mt?.({bounds:Ee,stopPropagation:()=>I.stopPropagation(),preventDefault:()=>I.preventDefault(),cancel:()=>{},ctrlKey:I.ctrlKey,metaKey:I.metaKey,shiftKey:I.shiftKey,altKey:I.altKey,key:I.key,keyCode:I.keyCode,rawEvent:I,location:Me})},[mt,G,ln]),Rr=o.useCallback(I=>{const de=yt.current;if(de===null)return;let Ee,Me;G.current!==void 0&&(Ee=ln(de,G.current.cell[0],G.current.cell[1]),Me=G.current.cell),Ae?.({bounds:Ee,stopPropagation:()=>I.stopPropagation(),preventDefault:()=>I.preventDefault(),cancel:()=>{},ctrlKey:I.ctrlKey,metaKey:I.metaKey,shiftKey:I.shiftKey,altKey:I.altKey,key:I.key,keyCode:I.keyCode,rawEvent:I,location:Me})},[Ae,G,ln]),Ti=o.useCallback(I=>{yt.current=I,ce!==void 0&&(ce.current=I)},[ce]),jo=o.useCallback(I=>{const de=yt.current;if(de===null||ut===!1||tt){I.preventDefault();return}let Ee,Me;const he=dn(de,I.clientX,I.clientY);if(ut!==!0&&he.kind!==ut){I.preventDefault();return}const Ie=(Kt,Tt)=>{Ee=Kt,Me=Tt};let Je,Pe,We;const rt=(Kt,Tt,bt)=>{Je=Kt,Pe=Tt,We=bt};let jt=!1;if(se?.({...he,setData:Ie,setDragImage:rt,preventDefault:()=>jt=!0,defaultPrevented:()=>jt}),!jt&&Ee!==void 0&&Me!==void 0&&I.dataTransfer!==null)if(I.dataTransfer.setData(Ee,Me),I.dataTransfer.effectAllowed="copyLink",Je!==void 0&&Pe!==void 0&&We!==void 0)I.dataTransfer.setDragImage(Je,Pe,We);else{const[Kt,Tt]=he.location;if(Tt!==void 0){const bt=document.createElement("canvas"),Xt=ln(de,Kt,Tt);(0,ae.vA)(Xt!==void 0);const lt=Math.ceil(window.devicePixelRatio??1);bt.width=Xt.width*lt,bt.height=Xt.height*lt;const Bt=bt.getContext("2d");Bt!==null&&(Bt.scale(lt,lt),Bt.textBaseline="middle",Tt===-1?(Bt.font=Et.headerFontFull,Bt.fillStyle=Et.bgHeader,Bt.fillRect(0,0,bt.width,bt.height),dl(Bt,0,0,Xt.width,Xt.height,qt[Kt],!1,Et,!1,!1,0,_t,ft,!1)):(Bt.font=Et.baseFontFull,Bt.fillStyle=Et.bgCell,Bt.fillRect(0,0,bt.width,bt.height),sl(Bt,m([Kt,Tt]),0,Tt,!1,!1,0,0,Xt.width,Xt.height,!1,Et,Et.bgCell,vt,_t,1,void 0,!1,0,void 0,void 0,void 0,Lr,dt,()=>{}))),bt.style.left="-100%",bt.style.position="absolute",bt.style.width=`${Xt.width}px`,bt.style.height=`${Xt.height}px`,document.body.append(bt),I.dataTransfer.setDragImage(bt,Xt.width/2,Xt.height/2),window.setTimeout(()=>{bt.remove()},0)}}else I.preventDefault()},[ut,tt,dn,se,ln,Et,qt,_t,ft,m,vt,Lr,dt]);le("dragstart",jo,ye?.current??null,!1,!1);const po=o.useRef(),Di=o.useCallback(I=>{const de=yt.current;if(it!==void 0&&I.preventDefault(),de===null||wt===void 0)return;const Ee=dn(de,I.clientX,I.clientY),[Me,he]=Ee.location,Ie=Me-(Xe?0:1),[Je,Pe]=po.current??[];(Je!==Ie||Pe!==he)&&(po.current=[Ie,he],wt([Ie,he],I.dataTransfer))},[Xe,dn,wt,it]);le("dragover",Di,ye?.current??null,!1,!1);const Wl=o.useCallback(()=>{po.current=void 0,Oe?.()},[Oe]);le("dragend",Wl,ye?.current??null,!1,!1);const Q=o.useCallback(I=>{const de=yt.current;if(de===null||it===void 0)return;I.preventDefault();const Ee=dn(de,I.clientX,I.clientY),[Me,he]=Ee.location,Ie=Me-(Xe?0:1);it([Ie,he],I.dataTransfer)},[Xe,dn,it]);le("drop",Q,ye?.current??null,!1,!1);const Rn=o.useCallback(()=>{Lt?.()},[Lt]);le("dragleave",Rn,ye?.current??null,!1,!1);const sn=o.useRef(G);sn.current=G;const Xr=o.useRef(null),wo=o.useCallback(I=>{yt.current===null||!yt.current.contains(document.activeElement)||(I===null&&sn.current.current!==void 0?ce?.current?.focus({preventScroll:!0}):I!==null&&I.focus({preventScroll:!0}),Xr.current=I)},[ce]);o.useImperativeHandle(t,()=>({focus:()=>{const I=Xr.current;I===null||!document.contains(I)?ce?.current?.focus({preventScroll:!0}):I.focus({preventScroll:!0})},getBounds:(I,de)=>{if(!(ce===void 0||ce.current===null))return ln(ce.current,I??0,de??-1)},damage:$o}),[ce,$o,ln]);const wr=o.useRef(),xn=v(()=>{if(n<50||zt?.disableAccessibilityTree===!0)return null;let I=si(qt,xt,n,Ye,nt);const de=Xe?0:-1;!Xe&&I[0]?.sourceIndex===0&&(I=I.slice(1));const[Ee,Me]=G.current?.cell??[],he=G.current?.range,Ie=I.map(Pe=>Pe.sourceIndex),Je=pe(s,Math.min(p,s+i));return Ee!==void 0&&Me!==void 0&&!(Ie.includes(Ee)&&Je.includes(Me))&&wo(null),o.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":p+1,"aria-multiselectable":"true","aria-colcount":qt.length+de},o.createElement("thead",{role:"rowgroup"},o.createElement("tr",{role:"row","aria-rowindex":1},I.map(Pe=>o.createElement("th",{role:"columnheader","aria-selected":G.columns.hasIndex(Pe.sourceIndex),"aria-colindex":Pe.sourceIndex+1+de,tabIndex:-1,onFocus:We=>{if(We.target!==Xr.current)return Ze?.([Pe.sourceIndex,-1])},key:Pe.sourceIndex},Pe.title)))),o.createElement("tbody",{role:"rowgroup"},Je.map(Pe=>o.createElement("tr",{role:"row","aria-selected":G.rows.hasIndex(Pe),key:Pe,"aria-rowindex":Pe+2},I.map(We=>{const rt=We.sourceIndex,jt=_n(rt,Pe),Kt=Ee===rt&&Me===Pe,Tt=he!==void 0&&rt>=he.x&&rt<he.x+he.width&&Pe>=he.y&&Pe<he.y+he.height,bt=`glide-cell-${rt}-${Pe}`,Xt=[rt,Pe],lt=m(Xt,!0);return o.createElement("td",{key:jt,role:"gridcell","aria-colindex":rt+1+de,"aria-selected":Tt,"aria-readonly":(0,b.pg)(lt)||!(0,b.uQ)(lt),id:bt,"data-testid":bt,onClick:()=>{const Bt=ce?.current;if(Bt!=null)return mt?.({bounds:ln(Bt,rt,Pe),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Xt})},onFocusCapture:Bt=>{if(!(Bt.target===Xr.current||wr.current?.[0]===rt&&wr.current?.[1]===Pe))return wr.current=Xt,Ze?.(Xt)},ref:Kt?wo:void 0,tabIndex:-1},Ns(lt,dt))})))))},[n,qt,xt,Ye,nt,p,s,i,G,wo,m,ce,mt,ln,Ze],200),ar=q===0||!A?0:xt>q?1:W(-nt/100,0,1),Pi=-s*32+rn,Yr=te?W(-Pi/100,0,1):0,Oi=o.useMemo(()=>{if(!ar&&!Yr)return null;const I={position:"absolute",top:0,left:Hr,width:n-Hr,height:r,opacity:ar,pointerEvents:"none",transition:Rt?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},de={position:"absolute",top:Nt,left:0,width:n,height:r,opacity:Yr,pointerEvents:"none",transition:Ue?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return o.createElement(o.Fragment,null,ar>0&&o.createElement("div",{id:"shadow-x",style:I}),Yr>0&&o.createElement("div",{id:"shadow-y",style:de}))},[ar,Yr,Hr,n,Rt,Nt,r,Ue]),Ai=o.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return o.createElement(o.Fragment,null,o.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:$t,onKeyUp:Rr,onFocus:M,onBlur:C,ref:Ti,style:Ur},xn),o.createElement("canvas",{ref:Wt,style:Ai}),Oi)},_s=o.memo(o.forwardRef(Ws));function uo(e,t,n,r){return W(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(r))}const Bs=e=>{const[t,n]=o.useState(),[r,i]=o.useState(),[l,a]=o.useState(),[s,c]=o.useState(),[d,f]=o.useState(!1),[g,p]=o.useState(),[m,h]=o.useState(),[w,S]=o.useState(),[E,M]=o.useState(!1),[C,K]=o.useState(),{onHeaderMenuClick:G,getCellContent:q,onColumnMoved:H,onColumnResize:ee,onColumnResizeStart:A,onColumnResizeEnd:te,gridRef:V,maxColumnWidth:D,minColumnWidth:P,onRowMoved:F,lockColumns:ke,onColumnProposeMove:Ve,onMouseDown:Ye,onMouseUp:Xe,onItemHovered:mt,onDragStart:Ae,canvasRef:ve}=e,ce=(ee??te??A)!==void 0,{columns:se,selection:Oe}=e,ye=Oe.columns,tt=o.useCallback(_e=>{const[De,ft]=_e.location;l!==void 0&&s!==De&&De>=ke?(f(!0),c(De)):m!==void 0&&ft!==void 0?(M(!0),S(Math.max(0,ft))):r===void 0&&!d&&!E&&mt?.(_e)},[l,m,s,mt,ke,r,d,E]),ot=H!==void 0,je=o.useCallback(_e=>{if(_e.button===0){const[De,ft]=_e.location;if(_e.kind==="out-of-bounds"&&_e.isEdge&&ce){const Ze=V?.current?.getBounds(se.length-1,-1);Ze!==void 0&&(n(Ze.x),i(se.length-1))}else if(_e.kind==="header"&&De>=ke){const Ze=ve?.current;if(_e.isEdge&&ce&&Ze){n(_e.bounds.x),i(De);const it=Ze.getBoundingClientRect().width/Ze.offsetWidth,Lt=_e.bounds.width/it;A?.(se[De],Lt,De,Lt+(se[De].growOffset??0))}else _e.kind==="header"&&ot&&(p(_e.bounds.x),a(De))}else _e.kind==="cell"&&ke>0&&De===0&&ft!==void 0&&F!==void 0&&(K(_e.bounds.y),h(ft))}Ye?.(_e)},[Ye,ce,ke,F,V,se,ot,A,ve]),ut=o.useCallback((_e,De)=>{d||E||G?.(_e,De)},[d,E,G]),Mt=o.useRef(-1),gt=o.useCallback(()=>{Mt.current=-1,h(void 0),S(void 0),K(void 0),M(!1),a(void 0),c(void 0),p(void 0),f(!1),i(void 0),n(void 0)},[]),At=o.useCallback((_e,De)=>{if(_e.button===0){if(r!==void 0){if(ye?.hasIndex(r)===!0)for(const Ze of ye){if(Ze===r)continue;const wt=se[Ze],it=uo(wt,Mt.current,P,D);ee?.(wt,it,Ze,it+(wt.growOffset??0))}const ft=uo(se[r],Mt.current,P,D);if(te?.(se[r],ft,r,ft+(se[r].growOffset??0)),ye.hasIndex(r))for(const Ze of ye){if(Ze===r)continue;const wt=se[Ze],it=uo(wt,Mt.current,P,D);te?.(wt,it,Ze,it+(wt.growOffset??0))}}gt(),l!==void 0&&s!==void 0&&H?.(l,s),m!==void 0&&w!==void 0&&F?.(m,w)}Xe?.(_e,De)},[Xe,r,l,s,m,w,ye,te,se,P,D,ee,H,F,gt]),pt=o.useMemo(()=>{if(!(l===void 0||s===void 0)&&l!==s&&Ve?.(l,s)!==!1)return{src:l,dest:s}},[l,s,Ve]),Et=o.useCallback(_e=>{const De=ve?.current;if(l!==void 0&&g!==void 0)Math.abs(_e.clientX-g)>20&&f(!0);else if(m!==void 0&&C!==void 0)Math.abs(_e.clientY-C)>20&&M(!0);else if(r!==void 0&&t!==void 0&&De){const Ze=De.getBoundingClientRect().width/De.offsetWidth,wt=(_e.clientX-t)/Ze,it=se[r],Lt=uo(it,wt,P,D);if(ee?.(it,Lt,r,Lt+(it.growOffset??0)),Mt.current=wt,ye?.first()===r)for(const kt of ye){if(kt===r)continue;const Rt=se[kt],Ue=uo(Rt,Mt.current,P,D);ee?.(Rt,Ue,kt,Ue+(Rt.growOffset??0))}}},[l,g,m,C,r,t,se,P,D,ee,ye,ve]),Dt=o.useCallback((_e,De)=>{if(m===void 0||w===void 0)return q(_e,De);let[ft,Ze]=_e;return Ze===w?Ze=m:(Ze>w&&(Ze-=1),Ze>=m&&(Ze+=1)),q([ft,Ze],De)},[m,w,q]),nn=o.useCallback(_e=>{Ae?.(_e),_e.defaultPrevented()||gt()},[gt,Ae]);return o.createElement(_s,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,width:e.width,getCellContent:Dt,isResizing:r!==void 0,onHeaderMenuClick:ut,isDragging:d,onItemHovered:tt,onDragStart:nn,onMouseDown:je,allowResize:ce,onMouseUp:At,dragAndDropState:pt,onMouseMoveRaw:Et,ref:V})};var In=O(95806);function Us(e){const t=(0,o.useRef)(null),[n,r]=(0,o.useState)({width:e?.[0],height:e?.[1]});return(0,o.useLayoutEffect)(()=>{const i=a=>{for(const s of a){const{width:c,height:d}=s&&s.contentRect||{};r(f=>f.width===c&&f.height===d?f:{width:c,height:d})}},l=new window.ResizeObserver(i);return t.current&&l.observe(t.current,void 0),()=>{l.disconnect()}},[t.current]),{ref:t,...n}}const $s=(e,t,n)=>{const r=(0,o.useRef)(null),i=(0,o.useRef)(null),l=(0,o.useRef)(null),a=(0,o.useRef)(0),s=(0,o.useRef)(t);s.current=t;const c=n.current;(0,o.useEffect)(()=>{const d=()=>{if(i.current===!1&&c!==null){const p=[c.scrollLeft,c.scrollTop];if(l.current?.[0]===p[0]&&l.current?.[1]===p[1])if(a.current>10){l.current=null,i.current=null;return}else a.current++;else a.current=0,s.current(p[0],p[1]),l.current=p;r.current=window.setTimeout(d,8.333333333333334)}},f=()=>{i.current=!0,l.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},g=p=>{p.touches.length===0&&(i.current=!1,a.current=0,r.current=window.setTimeout(d,8.333333333333334))};if(e&&c!==null){const p=c;return p.addEventListener("touchstart",f),p.addEventListener("touchend",g),()=>{p.removeEventListener("touchstart",f),p.removeEventListener("touchend",g),r.current!==null&&window.clearTimeout(r.current)}}},[e,c])},Xs=()=>e=>e.isSafari?"scroll":"auto",Ys=(0,In.I)("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[Xs()]}});function Ks(e){const[t,n]=o.useState(!1),r=typeof window>"u"?null:window,i=o.useRef(0);return le("touchstart",o.useCallback(()=>{window.clearTimeout(i.current),n(!0)},[]),r,!0,!1),le("touchend",o.useCallback(l=>{l.touches.length===0&&(i.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const Vs=e=>{const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:i,update:l,draggable:a,className:s,preventDiagonalScrolling:c=!1,paddingBottom:d=0,paddingRight:f=0,rightElement:g,rightElementProps:p,kineticScrollPerfHack:m=!1,scrollRef:h,initialSize:w}=e,S=[],E=p?.sticky??!1,M=p?.fill??!1,C=o.useRef(0),K=o.useRef(0),G=o.useRef(null),q=typeof window>"u"?1:window.devicePixelRatio,H=o.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),ee=o.useRef(null),A=Ks(200),[te,V]=o.useState(!0),D=o.useRef(0);o.useLayoutEffect(()=>{if(!te||A||H.current.lockDirection===void 0)return;const se=G.current;if(se===null)return;const[Oe,ye]=H.current.lockDirection;Oe!==void 0?se.scrollLeft=Oe:ye!==void 0&&(se.scrollTop=ye),H.current.lockDirection=void 0},[A,te]);const P=o.useCallback((se,Oe)=>{const ye=G.current;if(ye===null)return;Oe=Oe??ye.scrollTop,se=se??ye.scrollLeft;const tt=H.current.scrollTop,ot=H.current.scrollLeft,je=se-ot,ut=Oe-tt;A&&je!==0&&ut!==0&&(Math.abs(je)>3||Math.abs(ut)>3)&&c&&H.current.lockDirection===void 0&&(H.current.lockDirection=Math.abs(je)<Math.abs(ut)?[ot,void 0]:[void 0,tt]);const Mt=H.current.lockDirection;se=Mt?.[0]??se,Oe=Mt?.[1]??Oe,H.current.scrollLeft=se,H.current.scrollTop=Oe;const gt=ye.clientWidth,At=ye.clientHeight,pt=Oe,Et=K.current-pt,Dt=ye.scrollHeight-At;if(K.current=pt,Dt>0&&(Math.abs(Et)>2e3||pt===0||pt===Dt)&&r>ye.scrollHeight+5){const nn=pt/Dt,_e=(r-At)*nn;C.current=_e-pt}Mt!==void 0&&(window.clearTimeout(D.current),V(!1),D.current=window.setTimeout(()=>V(!0),200)),l({x:se,y:pt+C.current,width:gt-f,height:At-d,paddingRight:ee.current?.clientWidth??0})},[d,f,r,l,c,A]);$s(m&&Po.value,P,G);const F=o.useRef(P);F.current=P;const ke=o.useRef(),Ve=o.useRef(!1);o.useLayoutEffect(()=>{Ve.current?P():Ve.current=!0},[P,d,f]);const Ye=o.useCallback(se=>{G.current=se,h!==void 0&&(h.current=se)},[h]);let Xe=0,mt=0;for(S.push(o.createElement("div",{key:Xe++,style:{width:i,height:0}}));mt<r;){const se=Math.min(5e6,r-mt);S.push(o.createElement("div",{key:Xe++,style:{width:0,height:se}})),mt+=se}const{ref:Ae,width:ve,height:ce}=Us(w);return typeof window<"u"&&(ke.current?.height!==ce||ke.current?.width!==ve)&&(window.setTimeout(()=>F.current(),0),ke.current={width:ve,height:ce}),(ve??0)===0||(ce??0)===0?o.createElement("div",{ref:Ae}):o.createElement("div",{ref:Ae},o.createElement(Ys,{isSafari:Po.value},o.createElement("div",{className:"dvn-underlay"},t),o.createElement("div",{ref:Ye,style:ke.current,draggable:a,onDragStart:se=>{a||(se.stopPropagation(),se.preventDefault())},className:"dvn-scroller "+(s??""),onScroll:()=>P()},o.createElement("div",{className:"dvn-scroll-inner"+(g===void 0?" dvn-hidden":"")},o.createElement("div",{className:"dvn-stack"},S),g!==void 0&&o.createElement(o.Fragment,null,!M&&o.createElement("div",{className:"dvn-spacer"}),o.createElement("div",{ref:ee,style:{height:ce,maxHeight:n-Math.ceil(q%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:f,flexGrow:M?1:void 0,right:E?f??0:void 0,pointerEvents:"auto"}},g))))))},js=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:i,groupHeaderHeight:l,enableGroups:a,freezeColumns:s,experimental:c,nonGrowWidth:d,clientSize:f,className:g,onVisibleRegionChanged:p,scrollRef:m,preventDiagonalScrolling:h,rightElement:w,rightElementProps:S,overscrollX:E,overscrollY:M,initialSize:C,smoothScrollX:K=!1,smoothScrollY:G=!1,isDraggable:q}=e,{paddingRight:H,paddingBottom:ee}=c??{},[A,te]=f,V=o.useRef(),D=o.useRef(),P=o.useRef(),F=o.useRef(),ke=d+Math.max(0,E??0);let Ve=a?i+l:i;if(typeof r=="number")Ve+=n*r;else for(let Ae=0;Ae<n;Ae++)Ve+=r(Ae);M!==void 0&&(Ve+=M);const Ye=o.useRef(),Xe=o.useCallback(()=>{if(Ye.current===void 0)return;const Ae={...Ye.current};let ve=0,ce=Ae.x<0?-Ae.x:0,se=0,Oe=0;Ae.x=Ae.x<0?0:Ae.x;let ye=0;for(let gt=0;gt<s;gt++)ye+=t[gt].width;for(const gt of t){const At=ve-ye;if(Ae.x>=At+gt.width)ve+=gt.width,Oe++,se++;else if(Ae.x>At)ve+=gt.width,K?ce+=At-Ae.x:Oe++,se++;else if(Ae.x+Ae.width>At)ve+=gt.width,se++;else break}let tt=0,ot=0,je=0;if(typeof r=="number")G?(ot=Math.floor(Ae.y/r),tt=ot*r-Ae.y):ot=Math.ceil(Ae.y/r),je=Math.ceil(Ae.height/r)+ot,tt<0&&je++;else{let gt=0;for(let At=0;At<n;At++){const pt=r(At),Et=gt+(G?0:pt/2);if(Ae.y>=gt+pt)gt+=pt,ot++,je++;else if(Ae.y>Et)gt+=pt,G?tt+=Et-Ae.y:ot++,je++;else if(Ae.y+Ae.height>pt/2+gt)gt+=pt,je++;else break}}const ut={x:Oe,y:ot,width:se-Oe,height:je-ot},Mt=V.current;(Mt===void 0||Mt.y!==ut.y||Mt.x!==ut.x||Mt.height!==ut.height||Mt.width!==ut.width||D.current!==ce||P.current!==tt||Ae.width!==F.current?.[0]||Ae.height!==F.current?.[1])&&(p?.({x:Oe,y:ot,width:se-Oe,height:je-ot},Ae.width,Ae.height,Ae.paddingRight??0,ce,tt),V.current=ut,D.current=ce,P.current=tt,F.current=[Ae.width,Ae.height])},[t,r,n,p,s,K,G]),mt=o.useCallback(Ae=>{Ye.current=Ae,Xe()},[Xe]);return o.useEffect(()=>{Xe()},[Xe]),o.createElement(Vs,{scrollRef:m,className:g,kineticScrollPerfHack:c?.kineticScrollPerfHack,preventDiagonalScrolling:h,draggable:q===!0||typeof q=="string",scrollWidth:ke+(H??0),scrollHeight:Ve+(ee??0),clientHeight:te,rightElement:w,paddingBottom:ee,paddingRight:H,rightElementProps:S,update:mt,initialSize:C},o.createElement(Bs,{eventTargetRef:m,width:A,height:te,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY}))},Gs=(0,In.I)("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),Zs=o.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},o.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),Qs=o.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},o.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),Js=o.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},o.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),qs=10,ea=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:i,searchInputRef:l,searchValue:a,searchResults:s,onSearchValueChange:c,getCellsForSelection:d,onSearchResultsChanged:f,showSearch:g=!1,onSearchClose:p}=e,[m]=o.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[h,w]=o.useState(""),S=a??h,E=o.useCallback(ve=>{w(ve),c?.(ve)},[c]),[M,C]=o.useState(),K=o.useRef(M);K.current=M,o.useEffect(()=>{s!==void 0&&(s.length>0?C(ve=>({rowsSearched:r,results:s.length,selectedIndex:ve?.selectedIndex??-1})):C(void 0))},[r,s]);const G=o.useRef();G.current===void 0&&(G.current=new AbortController);const q=o.useRef(),[H,ee]=o.useState([]),A=s??H,te=o.useCallback(()=>{q.current!==void 0&&(window.cancelAnimationFrame(q.current),q.current=void 0,G.current.abort())},[]),V=o.useRef(n);V.current=n;const D=o.useCallback(ve=>{const ce=new RegExp(ve.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let se=V.current,Oe=Math.min(10,r),ye=0;C(void 0),ee([]);const tt=[],ot=async()=>{if(d===void 0)return;const je=performance.now(),ut=r-ye;let Mt=d({x:0,y:se,width:i.length,height:Math.min(Oe,ut,r-se)},G.current.signal);typeof Mt=="function"&&(Mt=await Mt());let gt=!1;for(const[_e,De]of Mt.entries())for(const[ft,Ze]of De.entries()){let wt;switch(Ze.kind){case b.dd.Text:case b.dd.Number:wt=Ze.displayData;break;case b.dd.Uri:case b.dd.Markdown:wt=Ze.data;break;case b.dd.Boolean:wt=typeof Ze.data=="boolean"?Ze.data.toString():void 0;break;case b.dd.Image:case b.dd.Bubble:wt=Ze.data.join("\u{1F433}");break;case b.dd.Custom:wt=Ze.copyData;break}wt!==void 0&&ce.test(wt)&&(tt.push([ft,_e+se]),gt=!0)}const At=performance.now();gt&&ee([...tt]),ye+=Mt.length,(0,ae.vA)(ye<=r);const pt=K.current?.selectedIndex??-1;C({results:tt.length,rowsSearched:ye,selectedIndex:pt}),f?.(tt,pt),se+Oe>=r?se=0:se+=Oe;const Et=At-je,Dt=Math.max(Et,1),nn=qs/Dt;Oe=Math.ceil(Oe*nn),ye<r&&tt.length<1e3&&(q.current=window.requestAnimationFrame(ot))};te(),q.current=window.requestAnimationFrame(ot)},[te,i.length,d,f,r]),P=o.useCallback(()=>{p?.(),C(void 0),ee([]),f?.([],-1),te(),t?.current?.focus()},[te,t,p,f]),F=o.useCallback(ve=>{E(ve.target.value),s===void 0&&(ve.target.value===""?(C(void 0),ee([]),te()):D(ve.target.value))},[D,te,E,s]);o.useEffect(()=>{g&&l.current!==null&&(E(""),l.current.focus({preventScroll:!0}))},[g,l,E]);const ke=o.useCallback(ve=>{if(ve?.stopPropagation?.(),M===void 0)return;const ce=(M.selectedIndex+1)%M.results;C({...M,selectedIndex:ce}),f?.(A,ce)},[M,f,A]),Ve=o.useCallback(ve=>{if(ve?.stopPropagation?.(),M===void 0)return;let ce=(M.selectedIndex-1)%M.results;ce<0&&(ce+=M.results),C({...M,selectedIndex:ce}),f?.(A,ce)},[f,A,M]),Ye=o.useCallback(ve=>{(ve.ctrlKey||ve.metaKey)&&ve.nativeEvent.code==="KeyF"||ve.key==="Escape"?(P(),ve.stopPropagation(),ve.preventDefault()):ve.key==="Enter"&&(ve.shiftKey?Ve():ke())},[P,ke,Ve]);o.useEffect(()=>()=>{te()},[te]);const[Xe,mt]=o.useState(!1);o.useEffect(()=>{if(g)mt(!0);else{const ve=setTimeout(()=>mt(!1),150);return()=>clearTimeout(ve)}},[g]);const Ae=o.useMemo(()=>{if(!g&&!Xe)return null;let ve;M!==void 0&&(ve=M.results>=1e3?"over 1000":`${M.results} result${M.results!==1?"s":""}`,M.selectedIndex>=0&&(ve=`${M.selectedIndex+1} of ${ve}`));const ce=ye=>{ye.stopPropagation()},Oe={width:`${Math.floor((M?.rowsSearched??0)/r*100)}%`};return o.createElement(Gs,{className:g?"":"out",onMouseDown:ce,onMouseMove:ce,onMouseUp:ce,onClick:ce},o.createElement("div",{className:"gdg-search-bar-inner"},o.createElement("input",{id:m,"aria-hidden":!g,"data-testid":"search-input",ref:l,onChange:F,value:S,tabIndex:g?void 0:-1,onKeyDownCapture:Ye}),o.createElement("button",{"aria-label":"Previous Result","aria-hidden":!g,tabIndex:g?void 0:-1,onClick:Ve,disabled:(M?.results??0)===0},Zs),o.createElement("button",{"aria-label":"Next Result","aria-hidden":!g,tabIndex:g?void 0:-1,onClick:ke,disabled:(M?.results??0)===0},Qs),p!==void 0&&o.createElement("button",{"aria-label":"Close Search","aria-hidden":!g,"data-testid":"search-close-button",tabIndex:g?void 0:-1,onClick:P},Js)),M!==void 0?o.createElement(o.Fragment,null,o.createElement("div",{className:"gdg-search-status"},o.createElement("div",{"data-testid":"search-result-area"},ve)),o.createElement("div",{className:"gdg-search-progress",style:Oe})):o.createElement("div",{className:"gdg-search-status"},o.createElement("label",{htmlFor:m},"Type to search")))},[g,Xe,M,r,m,l,F,S,Ye,Ve,ke,p,P]);return o.createElement(o.Fragment,null,o.createElement(js,{prelightCells:A,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY}),Ae)};var ta=O(11421);const na=()=>e=>Math.max(16,e.targetHeight-10),ra=(0,In.I)("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[na(),"px"]}}),oa=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:i,onFinish:l}=e,[a,s]=o.useState(n);return o.createElement(ta.A,{style:{position:"absolute",left:t.x-i.left+1,top:t.y-i.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},o.createElement(ra,{targetHeight:t.height,"data-testid":"group-rename-input",value:a,onBlur:r,onFocus:c=>c.target.setSelectionRange(0,a.length),onChange:c=>s(c.target.value),onKeyDown:c=>{c.key==="Enter"?l(a):c.key==="Escape"&&r()},autoFocus:!0}))},wi=150;function ia(e,t,n,r){return r(t)?.measure?.(e,t,n)??wi}function vl(e,t,n,r,i,l,a,s,c){let d=0;const f=i===void 0?[]:i.map(p=>{const m=ia(e,p[r],t,c);return d=Math.max(d,m),m});if(f.length>5&&s){d=0;let p=0;for(const h of f)p+=h;const m=p/f.length;for(let h=0;h<f.length;h++)f[h]>=m*2?f[h]=0:d=Math.max(d,f[h])}d=Math.max(d,e.measureText(n.title).width+16+(n.icon===void 0?0:28));const g=Math.max(Math.ceil(l),Math.min(Math.floor(a),Math.ceil(d)));return{...n,width:g}}function la(e,t,n,r,i,l,a,s,c){const d=o.useRef(t),f=o.useRef(n),g=o.useRef(a);d.current=t,f.current=n,g.current=a;const[p,m]=o.useMemo(()=>{if(typeof window>"u")return[null,null];const M=document.createElement("canvas");return M.style.display="none",M.style.opacity="0",M.style.position="fixed",[M,M.getContext("2d",{alpha:!1})]},[]);o.useLayoutEffect(()=>(p&&document.documentElement.append(p),()=>{p?.remove()}),[p]);const h=o.useRef({}),w=o.useRef(),[S,E]=o.useState();return o.useLayoutEffect(()=>{const M=f.current;if(M===void 0||e.every(b.AA))return;let C=Math.max(1,10-Math.floor(e.length/1e4)),K=0;C<d.current&&C>1&&(C--,K=1);const G={x:0,y:0,width:e.length,height:Math.min(d.current,C)},q={x:0,y:d.current-1,width:e.length,height:1};(async()=>{const ee=M(G,c.signal),A=K>0?M(q,c.signal):void 0;let te;typeof ee=="object"?te=ee:te=await(0,b.Mp)(ee),A!==void 0&&(typeof A=="object"?te=[...te,...A]:te=[...te,...await(0,b.Mp)(A)]),w.current=e,E(te)})()},[c.signal,e]),o.useMemo(()=>{let C=e.every(b.AA)?e:m===null?e.map(H=>(0,b.AA)(H)?H:{...H,width:wi}):(m.font=g.current.baseFontFull,e.map((H,ee)=>{if((0,b.AA)(H))return H;if(h.current[H.id]!==void 0)return{...H,width:h.current[H.id]};if(S===void 0||w.current!==e||H.id===void 0)return{...H,width:wi};const A=vl(m,a,H,ee,S,i,l,!0,s);return h.current[H.id]=A.width,A})),K=0,G=0;const q=[];for(const[H,ee]of C.entries())K+=ee.width,ee.grow!==void 0&&ee.grow>0&&(G+=ee.grow,q.push(H));if(K<r&&q.length>0){const H=[...C],ee=r-K;let A=ee;for(let te=0;te<q.length;te++){const V=q[te],D=(C[V].grow??0)/G,P=te===q.length-1?A:Math.min(A,Math.floor(ee*D));H[V]={...C[V],growOffset:P,width:C[V].width+P},A-=P}C=H}return{sizedColumns:C,nonGrowWidth:K}},[r,e,m,S,a,i,l,s])}function sa(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function at(e,t,n){const r=bl(e,t);return r&&(n.didMatch=!0),r}function bl(e,t){if(e.length===0)return!1;if(e.includes("|")){const c=e.split("|");for(const d of c)if(bl(d,t))return!0;return!1}let n=!1,r=!1,i=!1,l=!1;const a=e.split("+"),s=a.pop();if(!sa(s,t))return!1;if(a[0]==="any")return!0;for(const c of a)switch(c){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":i=!0;break;case"meta":l=!0;break;case"primary":Oo.value?l=!0:n=!0;break}return t.altKey===i&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===l}function aa(e,t,n,r,i,l){const a=o.useCallback((d,f,g,p)=>{(l==="cell"||l==="multi-cell")&&d!==void 0&&(d={...d,range:{x:d.cell[0],y:d.cell[1],width:1,height:1}});const m=n==="mixed"&&(g||p==="drag"),h=r==="mixed"&&m,w=i==="mixed"&&m;let S={current:d===void 0?void 0:{...d,rangeStack:p==="drag"?e.current?.rangeStack??[]:[]},columns:h?e.columns:b.I1.empty(),rows:w?e.rows:b.I1.empty()};g&&(l==="multi-rect"||l==="multi-cell")&&S.current!==void 0&&e.current!==void 0&&(S={...S,current:{...S.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(S,f)},[r,e,n,l,i,t]),s=o.useCallback((d,f,g)=>{d=d??e.rows,f!==void 0&&(d=d.add(f));let p;if(i==="exclusive"&&d.length>0)p={current:void 0,columns:b.I1.empty(),rows:d};else{const m=g&&n==="mixed",h=g&&r==="mixed";p={current:m?e.current:void 0,columns:h?e.columns:b.I1.empty(),rows:d}}t(p,!1)},[r,e,n,i,t]),c=o.useCallback((d,f,g)=>{d=d??e.columns,f!==void 0&&(d=d.add(f));let p;if(r==="exclusive"&&d.length>0)p={current:void 0,rows:b.I1.empty(),columns:d};else{const m=g&&n==="mixed",h=g&&i==="mixed";p={current:m?e.current:void 0,rows:h?e.rows:b.I1.empty(),columns:d}}t(p,!1)},[r,e,n,i,t]);return[a,s,c]}function ca(e,t,n,r,i){const l=o.useCallback(d=>{if(e===!0){const f=[];for(let g=d.y;g<d.y+d.height;g++){const p=[];for(let m=d.x;m<d.x+d.width;m++)m<0||g>=i?p.push({kind:b.dd.Loading,allowOverlay:!1}):p.push(t([m,g]));f.push(p)}return f}return e?.(d,r.signal)??[]},[r.signal,t,e,i]),a=e!==void 0?l:void 0,s=o.useCallback(d=>{if(a===void 0)return[];const f={...d,x:d.x-n};if(f.x<0){f.x=0,f.width--;const g=a(f,r.signal);return typeof g=="function"?async()=>(await g()).map(p=>[{kind:b.dd.Loading,allowOverlay:!1},...p]):g.map(p=>[{kind:b.dd.Loading,allowOverlay:!1},...p])}return a(f,r.signal)},[r.signal,a,n]);return[e!==void 0?s:void 0,a]}function ua(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string"};switch(e.kind){case b.dd.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===b.wm?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case b.dd.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case b.dd.Image:case b.dd.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case b.dd.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case b.dd.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case b.dd.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case b.dd.Markdown:case b.dd.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case b.dd.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case b.dd.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case b.dd.Protected:return{formatted:"************",rawValue:"",format:"string"};default:(0,ae.xb)(e)}}function da(e,t){return e.map((r,i)=>{const l=t[i];return r.map(a=>a.span!==void 0&&a.span[0]!==l?{formatted:"",rawValue:"",format:"string"}:ua(a))})}function Cl(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function fa(e){const t=[];for(const n of e){const r=[];for(const i of n)i.format==="url"?r.push(i.rawValue?.toString()??""):i.format==="string-array"?r.push(i.formatted.map(l=>Cl(l,!0)).join(",")):r.push(Cl(i.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function yi(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function Sl(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function ha(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function ga(e){const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const n of e){t.push("<tr>");for(const r of n){const i=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${i}><a href="${r.rawValue}">${yi(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${i}><ol>${r.formatted.map((l,a)=>`<li gdg-raw-value=${Sl(r.rawValue[a])}>`+yi(l)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${Sl(r.rawValue?.toString()??"")} ${i}>${yi(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function ma(e,t){const n=da(e,t),r=fa(n),i=ga(n);return{textPlain:r,textHtml:i}}function Rl(e){const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],i=[];let l;for(;r.length>0;){const a=r.pop();if(a===void 0)break;if(a instanceof HTMLTableElement||a.nodeName==="TBODY")r.push(...[...a.children].reverse());else if(a instanceof HTMLTableRowElement)l!==void 0&&i.push(l),l=[],r.push(...[...a.children].reverse());else if(a instanceof HTMLTableCellElement){const s=a.cloneNode(!0),d=s.children.length===1&&s.children[0].nodeName==="P"?s.children[0]:null,f=d?.children.length===1&&d.children[0].nodeName==="FONT",g=s.querySelectorAll("br");for(const h of g)h.replaceWith(`
`);const p=s.getAttribute("gdg-raw-value"),m=s.getAttribute("gdg-format")??"string";if(s.querySelector("a")!==null)l?.push({rawValue:s.querySelector("a")?.getAttribute("href")??"",formatted:s.textContent??"",format:m});else if(s.querySelector("ol")!==null){const h=s.querySelectorAll("li");l?.push({rawValue:[...h].map(w=>w.getAttribute("gdg-raw-value")??""),formatted:[...h].map(w=>w.textContent??""),format:"string-array"})}else if(p!==null)l?.push({rawValue:ha(p),formatted:s.textContent??"",format:m});else{let h=s.textContent??"";f&&(h=h.replace(/\n(?!\n)/g,"")),l?.push({rawValue:h??"",formatted:h??"",format:m})}}}return l!==void 0&&i.push(l),i}function pa(e,t,n,r,i){const l=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let a=!1;do{if(e?.current===void 0)break;const s=e.current?.range,c=[];if(s.width>2){const g=t({x:s.x,y:s.y,width:1,height:s.height},i.signal);if(typeof g=="function")return l;c.push(...g);const p=t({x:s.x+s.width-1,y:s.y,width:1,height:s.height},i.signal);if(typeof p=="function")return l;c.push(...p)}else{const g=t({x:s.x,y:s.y,width:s.width,height:s.height},i.signal);if(typeof g=="function")return l;c.push(...g)}let d=s.x-n,f=s.x+s.width-1-n;for(const g of c)for(const p of g)p.span!==void 0&&(d=Math.min(p.span[0],d),f=Math.max(p.span[1],f));d===s.x-n&&f===s.x+s.width-1-n?a=!0:e={current:{cell:e.current.cell??[0,0],range:{x:d+n,y:s.y,width:f-d+1,height:s.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!a);return e}function xl(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function wa(e){let t;(function(s){s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],i=0,l=t.None;e=e.replace(/\r\n/g,`
`);let a=0;for(const s of e){switch(l){case t.None:s==="	"||s===`
`?(r.push(e.slice(i,a)),i=a+1,s===`
`&&(n.push(r),r=[])):s==='"'&&(l=t.inString);break;case t.inString:s==='"'&&(l=t.inStringPostQuote);break;case t.inStringPostQuote:s==='"'?l=t.inString:((s==="	"||s===`
`)&&(r.push(xl(e.slice(i,a))),i=a+1,s===`
`&&(n.push(r),r=[])),l=t.None);break}a++}return i<e.length&&r.push(xl(e.slice(i,e.length))),n.push(r),n.map(s=>s.map(c=>({rawValue:c,formatted:c,format:"string"})))}function Ml(e,t,n){const r=ma(e,t),i=s=>{window.navigator.clipboard?.writeText(s)},l=(s,c)=>window.navigator.clipboard?.write===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([s],{type:"text/plain"}),"text/html":new Blob([c],{type:"text/html"})})]),!0),a=(s,c)=>{try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");n?.clipboardData?.setData("text/plain",s),n?.clipboardData?.setData("text/html",c)}catch{l(s,c)||i(s)}};window.navigator.clipboard?.write!==void 0||n?.clipboardData!==void 0?a(r.textPlain,r.textHtml):i(r.textPlain),n?.preventDefault()}function kl(e){return e!==!0}function El(e){return typeof e=="string"?e:`${e}px`}const ya=()=>e=>e.innerWidth,va=()=>e=>e.innerHeight,ba=(0,In.I)("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[ya()],"wmyidgi-1":[va()]}}),Ca=e=>{const{inWidth:t,inHeight:n,children:r,...i}=e;return o.createElement(ba,{innerHeight:El(n),innerWidth:El(t),...i},r)},Sa=2,Ra=1300;function xa(e,t,n){const r=o.useRef(0),[i,l]=e??[0,0];o.useEffect(()=>{if(i===0&&l===0){r.current=0;return}let a=!1,s=0;const c=d=>{if(!a){if(s===0)s=d;else{const f=d-s;r.current=Math.min(1,r.current+f/Ra);const g=r.current**1.618*f*Sa;t.current?.scrollBy(i*g,l*g),s=d,n?.()}window.requestAnimationFrame(c)}};return window.requestAnimationFrame(c),()=>{a=!0}},[t,i,l,n])}function Ma({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:i,overscrollY:l,scaleToRem:a,remSize:s}){const[c,d,f,g,p,m]=o.useMemo(()=>{if(!a||s===16)return[e,t,n,r,i,l];const h=s/16,w=e,S=(0,Fn.n6)();return[typeof w=="number"?w*h:E=>Math.ceil(w(E)*h),Math.ceil(t*h),Math.ceil(n*h),{...r,headerIconSize:(r?.headerIconSize??S.headerIconSize)*h,cellHorizontalPadding:(r?.cellHorizontalPadding??S.cellHorizontalPadding)*h,cellVerticalPadding:(r?.cellVerticalPadding??S.cellVerticalPadding)*h},Math.ceil((i??0)*h),Math.ceil((l??0)*h)]},[n,t,i,l,s,e,a,r]);return{rowHeight:c,headerHeight:d,groupHeaderHeight:f,theme:g,overscrollX:p,overscrollY:m}}const hr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function ct(e,t){return e===!0?t:e===!1?"":e}function Il(e){const t=Oo.value;return{activateCell:ct(e.activateCell," |Enter|shift+Enter"),clear:ct(e.clear,"any+Escape"),closeOverlay:ct(e.closeOverlay,"any+Escape"),acceptOverlayDown:ct(e.acceptOverlayDown,"Enter"),acceptOverlayUp:ct(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:ct(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:ct(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:ct(e.delete,t?"Backspace|Delete":"Delete"),downFill:ct(e.downFill,"primary+_68"),scrollToSelectedCell:ct(e.scrollToSelectedCell,"primary+Enter"),goDownCell:ct(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:ct(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:ct(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:ct(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:ct(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:ct(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:ct(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:ct(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:ct(e.goToFirstCell,"primary+Home"),goToFirstColumn:ct(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:ct(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:ct(e.goToLastCell,"primary+End"),goToLastColumn:ct(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:ct(e.goToLastRow,"primary+ArrowDown"),goToNextPage:ct(e.goToNextPage,"PageDown"),goToPreviousPage:ct(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:ct(e.rightFill,"primary+_82"),search:ct(e.search,"primary+f"),selectAll:ct(e.selectAll,"primary+a"),selectColumn:ct(e.selectColumn,"ctrl+ "),selectGrowDown:ct(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:ct(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:ct(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:ct(e.selectGrowUp,"shift+ArrowUp"),selectRow:ct(e.selectRow,"shift+ "),selectToFirstCell:ct(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:ct(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:ct(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:ct(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:ct(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:ct(e.selectToLastRow,"primary+shift+ArrowDown")}}function ka(e){const t=ue(e);return o.useMemo(()=>{if(t===void 0)return Il(hr);const n={...t,goToNextPage:t?.goToNextPage??t?.pageDown??hr.goToNextPage,goToPreviousPage:t?.goToPreviousPage??t?.pageUp??hr.goToPreviousPage,goToFirstCell:t?.goToFirstCell??t?.first??hr.goToFirstCell,goToLastCell:t?.goToLastCell??t?.last??hr.goToLastCell,selectToFirstCell:t?.selectToFirstCell??t?.first??hr.selectToFirstCell,selectToLastCell:t?.selectToLastCell??t?.last??hr.selectToLastCell};return Il({...hr,...n})},[t])}const Ea=o.lazy(async()=>await O.e(7882).then(O.bind(O,47882)));let Ia=0;function Ta(e){return ie(Ne(Ne(e).filter(t=>t.span!==void 0).map(t=>pe((t.span?.[0]??0)+1,(t.span?.[1]??0)+1))))}function Ho(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const vi={kind:b.dd.Loading,allowOverlay:!1},Fo={columns:b.I1.empty(),rows:b.I1.empty(),current:void 0},Da=(e,t)=>{const[n,r]=o.useState(Fo),[i,l]=o.useState(),a=o.useRef(null),s=o.useRef(null),[c,d]=o.useState(),f=o.useRef(null),g=o.useRef(),p=typeof window>"u"?null:window,{imageEditorOverride:m,getRowThemeOverride:h,markdownDivCreateNode:w,width:S,height:E,columns:M,rows:C,getCellContent:K,onCellClicked:G,onCellActivated:q,onFillPattern:H,onFinishedEditing:ee,coercePasteValue:A,drawHeader:te,drawCell:V,editorBloom:D,onHeaderClicked:P,onColumnProposeMove:F,spanRangeBehavior:ke="default",onGroupHeaderClicked:Ve,onCellContextMenu:Ye,className:Xe,onHeaderContextMenu:mt,getCellsForSelection:Ae,onGroupHeaderContextMenu:ve,onGroupHeaderRenamed:ce,onCellEdited:se,onCellsEdited:Oe,onSearchResultsChanged:ye,searchResults:tt,onSearchValueChange:ot,searchValue:je,onKeyDown:ut,onKeyUp:Mt,keybindings:gt,editOnType:At=!0,onRowAppended:pt,onColumnMoved:Et,validateCell:Dt,highlightRegions:nn,rangeSelect:_e="rect",columnSelect:De="multi",rowSelect:ft="multi",rangeSelectionBlending:Ze="exclusive",columnSelectionBlending:wt="exclusive",rowSelectionBlending:it="exclusive",onDelete:Lt,onDragStart:kt,onMouseMove:Rt,onPaste:Ue,copyHeaders:zt=!1,freezeColumns:dt=0,cellActivationBehavior:nt="second-click",rowSelectionMode:rn="auto",onHeaderMenuClick:xt,getGroupDetails:yt,onSearchClose:vt,onItemHovered:Jt,onSelectionCleared:mn,showSearch:Ln,onVisibleRegionChanged:Un,gridSelection:on,onGridSelectionChange:Tn,minColumnWidth:vn=50,maxColumnWidth:nr=500,maxColumnAutoWidth:rr,provideEditor:Wt,trailingRowOptions:St,freezeTrailingRows:Yt=0,allowedFillDirections:Dn="orthogonal",scrollOffsetX:pn,scrollOffsetY:Qe,verticalBorder:_t,onDragOverCell:Nt,onDrop:Zn,onColumnResize:wn,onColumnResizeEnd:zn,onColumnResizeStart:qt,customRenderers:Hr,fillHandle:ln,drawFocusRing:dn=!0,experimental:Sn,fixedShadowX:Wo,fixedShadowY:Fr,headerIcons:or,imageWindowLoader:ir,initialSize:Lr,isDraggable:_o,onDragLeave:Bo,onRowMoved:Qn,overscrollX:zr,overscrollY:Nr,preventDiagonalScrolling:Wr,rightElement:Sr,rightElementProps:gr,trapFocus:Uo=!1,smoothScrollX:$o,smoothScrollY:xi,scaleToRem:Mi=!1,rowHeight:_r=34,headerHeight:lr=36,groupHeaderHeight:ki=lr,theme:Ei,isOutsideClick:Xo,renderers:Br}=e,Jn=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,Nn=Jn?.kind??e.rowMarkers??"none",Yo=Jn?.width??e.rowMarkerWidth,Ur=Jn?.startIndex??e.rowMarkerStartIndex??1,fo=Jn?.theme??e.rowMarkerTheme,mr=Jn?.checkboxStyle??"square",Pn=Math.max(vn,20),$n=Math.max(nr,Pn),ho=Math.max(rr??$n,Pn),pr=o.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),go=o.useMemo(()=>Number.parseFloat(pr.fontSize),[pr]),{rowHeight:bn,headerHeight:$r,groupHeaderHeight:mo,theme:Ko,overscrollX:Ii,overscrollY:Vo}=Ma({groupHeaderHeight:ki,headerHeight:lr,overscrollX:zr,overscrollY:Nr,remSize:go,rowHeight:_r,scaleToRem:Mi,theme:Ei}),Xn=ka(gt),sr=Yo??(C>1e4?48:C>1e3?44:C>100?36:32),On=Nn!=="none",z=On?1:0,$t=pt!==void 0,Rr=St?.sticky===!0,[Ti,jo]=o.useState(!1),po=Ln??Ti,Di=o.useCallback(()=>{vt!==void 0?vt():jo(!1)},[vt]),Q=o.useMemo(()=>on===void 0?void 0:Ho(on,z),[on,z])??n,Rn=o.useRef();Rn.current===void 0&&(Rn.current=new AbortController),o.useEffect(()=>()=>Rn?.current.abort(),[]);const[sn,Xr]=ca(Ae,K,z,Rn.current,C),wo=o.useCallback((u,x,R)=>{if(Dt===void 0)return!0;const N=[u[0]-z,u[1]];return Dt?.(N,x,R)},[z,Dt]),wr=o.useRef(on),xn=o.useCallback((u,x)=>{x&&(u=pa(u,sn,z,ke,Rn.current)),Tn!==void 0?(wr.current=Ho(u,-z),Tn(wr.current)):r(u)},[Tn,sn,z,ke]),ar=Ce(wn,o.useCallback((u,x,R,N)=>{wn?.(M[R-z],x,R-z,N)},[wn,z,M])),Pi=Ce(zn,o.useCallback((u,x,R,N)=>{zn?.(M[R-z],x,R-z,N)},[zn,z,M])),Yr=Ce(qt,o.useCallback((u,x,R,N)=>{qt?.(M[R-z],x,R-z,N)},[qt,z,M])),Oi=Ce(te,o.useCallback((u,x)=>te?.({...u,columnIndex:u.columnIndex-z},x)??!1,[te,z])),Ai=Ce(V,o.useCallback((u,x)=>V?.({...u,col:u.col-z},x)??!1,[V,z])),I=o.useCallback(u=>{if(Lt!==void 0){const x=Lt(Ho(u,-z));return typeof x=="boolean"?x:Ho(x,z)}return!0},[Lt,z]),[de,Ee,Me]=aa(Q,xn,Ze,wt,it,_e),he=o.useMemo(()=>(0,Fn.P6)((0,Fn.n6)(),Ko),[Ko]),[Ie,Je]=o.useState([0,0,0]),Pe=o.useMemo(()=>{if(Br===void 0)return{};const u={};for(const x of Br)u[x.kind]=x;return u},[Br]),We=o.useCallback(u=>u.kind!==b.dd.Custom?Pe[u.kind]:Hr?.find(x=>x.isMatch(u)),[Hr,Pe]);let{sizedColumns:rt,nonGrowWidth:jt}=la(M,C,Xr,Ie[0]-(z===0?0:sr)-Ie[2],Pn,ho,he,We,Rn.current);Nn!=="none"&&(jt+=sr);const Kt=o.useMemo(()=>rt.some(u=>u.group!==void 0),[rt]),Tt=Kt?$r+mo:$r,bt=Q.rows.length,Xt=Nn==="none"?void 0:bt===0?!1:bt===C?!0:void 0,lt=o.useMemo(()=>Nn==="none"?rt:[{title:"",width:sr,icon:void 0,hasMenu:!1,style:"normal",themeOverride:fo,rowMarker:mr,rowMarkerChecked:Xt},...rt],[Nn,rt,sr,fo,mr,Xt]),[Bt,xr]=o.useMemo(()=>[Qe!==void 0&&typeof bn=="number"?Math.floor(Qe/bn):0,Qe!==void 0&&typeof bn=="number"?-(Qe%bn):0],[Qe,bn]),an=o.useRef({height:1,width:1,x:0,y:0}),Mr=o.useMemo(()=>({x:an.current.x,y:Bt,width:an.current.width??1,height:an.current.height??1,ty:xr}),[xr,Bt]),It=o.useRef(!1),[gn,An,qn]=k(Mr);an.current=gn;const Yn=(gn.height??1)>1;o.useLayoutEffect(()=>{if(Qe!==void 0&&f.current!==null&&Yn){if(f.current.scrollTop===Qe)return;f.current.scrollTop=Qe,f.current.scrollTop!==Qe&&qn(),It.current=!0}},[Qe,Yn,qn]);const Kr=(gn.width??1)>1;o.useLayoutEffect(()=>{if(pn!==void 0&&f.current!==null&&Kr){if(f.current.scrollLeft===pn)return;f.current.scrollLeft=pn,f.current.scrollLeft!==pn&&qn(),It.current=!0}},[pn,Kr,qn]);const kr=gn.x+z,Go=gn.y,Mn=o.useRef(null),Cn=o.useCallback(u=>{u===!0?Mn.current?.focus():window.requestAnimationFrame(()=>{Mn.current?.focus()})},[]),yn=$t?C+1:C,Wn=o.useCallback(u=>{const x=z===0?u:u.map(N=>({...N,location:[N.location[0]-z,N.location[1]]})),R=Oe?.(x);if(R!==!0)for(const N of x)se?.(N.location,N.value);return R},[se,Oe,z]),[Er,Hi]=o.useState(),Zo=Q.current!==void 0&&Q.current.range.width*Q.current.range.height>1?Q.current.range:void 0,_l=dn?Q.current?.cell:void 0,Qo=_l?.[0],Jo=_l?.[1],yu=o.useMemo(()=>{if((nn===void 0||nn.length===0)&&(Zo??Qo??Jo??Er)===void 0)return;const u=[];if(nn!==void 0)for(const x of nn){const R=lt.length-x.range.x-z;R>0&&u.push({color:x.color,range:{...x.range,x:x.range.x+z,width:Math.min(R,x.range.width)},style:x.style})}return Er!==void 0&&u.push({color:(0,tn.fu)(he.accentColor,0),range:Er,style:"dashed"}),Zo!==void 0&&u.push({color:(0,tn.fu)(he.accentColor,.5),range:Zo,style:"solid-outline"}),Qo!==void 0&&Jo!==void 0&&u.push({color:he.accentColor,range:{x:Qo,y:Jo,width:1,height:1},style:"solid-outline"}),u.length>0?u:void 0},[Er,Zo,Qo,Jo,nn,lt.length,he.accentColor,z]),Bl=o.useRef(lt);Bl.current=lt;const Hn=o.useCallback(([u,x],R=!1)=>{const N=$t&&x===yn-1;if(u===0&&On)return N?vi:{kind:b.Ld.Marker,allowOverlay:!1,checkboxStyle:mr,checked:Q?.rows.hasIndex(x)===!0,markerKind:Nn==="clickable-number"?"number":Nn,row:Ur+x,drawHandle:Qn!==void 0,cursor:Nn==="clickable-number"?"pointer":void 0};if(N){const T=u===z?St?.hint??"":"",L=Bl.current[u];if(L?.trailingRowOptions?.disabled===!0)return vi;{const fe=L?.trailingRowOptions?.hint??T,be=L?.trailingRowOptions?.addIcon??St?.addIcon;return{kind:b.Ld.NewRow,hint:fe,allowOverlay:!1,icon:be}}}else{const ne=u-z;if(R||Sn?.strict===!0){const L=an.current,fe=L.x>ne||ne>L.x+L.width||L.y>x||x>L.y+L.height||x>=Li.current,be=ne===L.extras?.selected?.[0]&&x===L.extras?.selected[1];let Fe=!1;if(L.extras?.freezeRegions!==void 0){for(const st of L.extras.freezeRegions)if(Do(st,ne,x)){Fe=!0;break}}if(fe&&!be&&!Fe)return vi}let T=K([ne,x]);return z!==0&&T.span!==void 0&&(T={...T,span:[T.span[0]+z,T.span[1]+z]}),T}},[$t,yn,On,mr,Q?.rows,Nn,Ur,Qn,z,St?.hint,St?.addIcon,Sn?.strict,K]),Fi=o.useCallback(u=>{let x=yt?.(u)??{name:u};return ce!==void 0&&u!==""&&(x={icon:x.icon,name:x.name,overrideTheme:x.overrideTheme,actions:[...x.actions??[],{title:"Rename",icon:"renameIcon",onClick:R=>Ni({group:x.name,bounds:R.bounds})}]}),x},[yt,ce]),qo=o.useCallback(u=>{const[x,R]=u.cell,N=lt[x],X=N?.group!==void 0?Fi(N.group)?.overrideTheme:void 0,ne=N?.themeOverride,T=h?.(R);l({...u,theme:(0,Fn.P6)(he,X,ne,T,u.content.themeOverride)})},[h,lt,Fi,he]),Vr=o.useCallback((u,x,R)=>{if(Q.current===void 0)return;const[N,X]=Q.current.cell,ne=Hn([N,X]);if(ne.kind!==b.dd.Boolean&&ne.allowOverlay){let T=ne;if(R!==void 0)switch(T.kind){case b.dd.Number:{const L=(0,ae.no)(()=>R==="-"?-0:Number.parseFloat(R),0);T={...T,data:Number.isNaN(L)?0:L};break}case b.dd.Text:case b.dd.Markdown:case b.dd.Uri:T={...T,data:R};break}qo({target:u,content:T,initialValue:R,cell:[N,X],highlight:R===void 0,forceEditMode:R!==void 0})}else ne.kind===b.dd.Boolean&&x&&ne.readonly!==!0&&(Wn([{location:Q.current.cell,value:{...ne,data:kl(ne.data)}}]),Mn.current?.damage([{cell:Q.current.cell}]))},[Hn,Q,Wn,qo]),Ul=o.useCallback((u,x)=>{const R=Mn.current?.getBounds(u,x);if(R===void 0||f.current===null)return;const N=Hn([u,x]);N.allowOverlay&&qo({target:R,content:N,initialValue:void 0,highlight:!0,cell:[u,x],forceEditMode:!0})},[Hn,qo]),en=o.useCallback((u,x,R="both",N=0,X=0,ne=void 0)=>{if(f.current!==null){const T=Mn.current,L=s.current,fe=typeof u!="number"?u.unit==="cell"?u.amount:void 0:u,be=typeof x!="number"?x.unit==="cell"?x.amount:void 0:x,Fe=typeof u!="number"&&u.unit==="px"?u.amount:void 0,st=typeof x!="number"&&x.unit==="px"?x.amount:void 0;if(T!==null&&L!==null){let qe={x:0,y:0,width:0,height:0},et=0,Ct=0;if((fe!==void 0||be!==void 0)&&(qe=T.getBounds((fe??0)+z,be??0)??qe,qe.width===0||qe.height===0))return;const Pt=L.getBoundingClientRect(),fn=Pt.width/L.offsetWidth;if(Fe!==void 0&&(qe={...qe,x:Fe-Pt.left-f.current.scrollLeft,width:1}),st!==void 0&&(qe={...qe,y:st+Pt.top-f.current.scrollTop,height:1}),qe!==void 0){const Ut={x:qe.x-N,y:qe.y-X,width:qe.width+2*N,height:qe.height+2*X};let qr=0;for(let Xi=0;Xi<dt;Xi++)qr+=rt[Xi].width;let xo=0;const Mo=Yt+(Rr?1:0);Mo>0&&(xo=Cr(yn,Mo,bn));let tr=qr*fn+Pt.left+z*sr*fn,eo=Pt.right,Dr=Pt.top+Tt*fn,to=Pt.bottom-xo*fn;const ii=qe.width+N*2;switch(ne?.hAlign){case"start":eo=tr+ii;break;case"end":tr=eo-ii;break;case"center":tr=Math.floor((tr+eo)/2)-ii/2,eo=tr+ii;break}const li=qe.height+X*2;switch(ne?.vAlign){case"start":to=Dr+li;break;case"end":Dr=to-li;break;case"center":Dr=Math.floor((Dr+to)/2)-li/2,to=Dr+li;break}tr>Ut.x?et=Ut.x-tr:eo<Ut.x+Ut.width&&(et=Ut.x+Ut.width-eo),Dr>Ut.y?Ct=Ut.y-Dr:to<Ut.y+Ut.height&&(Ct=Ut.y+Ut.height-to),R==="vertical"||typeof u=="number"&&u<dt?et=0:(R==="horizontal"||typeof x=="number"&&x>=yn-Mo)&&(Ct=0),(et!==0||Ct!==0)&&(fn!==1&&(et/=fn,Ct/=fn),f.current.scrollTo(et+f.current.scrollLeft,Ct+f.current.scrollTop))}}}},[z,Yt,sr,Tt,dt,rt,yn,Rr,bn]),$l=o.useRef(Ul),Xl=o.useRef(K),Li=o.useRef(C);$l.current=Ul,Xl.current=K,Li.current=C;const jr=o.useCallback(async(u,x=!0)=>{if(lt[u]?.trailingRowOptions?.disabled===!0)return;const N=pt?.();let X,ne=!0;N!==void 0&&(X=await N,X==="top"&&(ne=!1),typeof X=="number"&&(ne=!1));let T=0;const L=()=>{if(Li.current<=C){T<500&&window.setTimeout(L,T),T=50+T*2;return}const fe=typeof X=="number"?X:ne?C:0;oi.current(u-z,fe),de({cell:[u,fe],range:{x:u,y:fe,width:1,height:1}},!1,!1,"edit");const be=Xl.current([u-z,fe]);be.allowOverlay&&(0,b.uQ)(be)&&be.readonly!==!0&&x&&window.setTimeout(()=>{$l.current(u,fe)},0)};L()},[lt,pt,z,C,de]),ei=o.useCallback(u=>{const x=rt[u]?.trailingRowOptions?.targetColumn??St?.targetColumn;if(typeof x=="number")return x+(On?1:0);if(typeof x=="object"){const R=M.indexOf(x);if(R>=0)return R+(On?1:0)}},[rt,M,On,St?.targetColumn]),yr=o.useRef(),Gr=o.useRef(),yo=o.useCallback((u,x)=>{const[R,N]=x;return(0,Fn.P6)(he,lt[R]?.themeOverride,h?.(N),u.themeOverride)},[h,lt,he]),vo=o.useCallback(u=>{const x=Oo.value?u.metaKey:u.ctrlKey,R=x&&ft==="multi",N=x&&De==="multi",[X,ne]=u.location,T=Q.columns,L=Q.rows,[fe,be]=Q.current?.cell??[];if(u.kind==="cell"){if(Gr.current=void 0,Ir.current=[X,ne],X===0&&On){if($t===!0&&ne===C||Nn==="number"||ft==="none")return;const Fe=Hn(u.location);if(Fe.kind!==b.Ld.Marker)return;if(Qn!==void 0){const et=We(Fe);(0,ae.vA)(et?.kind===b.Ld.Marker);const Ct=et?.onClick?.({...u,cell:Fe,posX:u.localEventX,posY:u.localEventY,bounds:u.bounds,theme:yo(Fe,u.location),preventDefault:()=>{}});if(Ct===void 0||Ct.checked===Fe.checked)return}l(void 0),Cn();const st=L.hasIndex(ne),qe=yr.current;if(ft==="multi"&&(u.shiftKey||u.isLongTouch===!0)&&qe!==void 0&&L.hasIndex(qe)){const et=[Math.min(qe,ne),Math.max(qe,ne)+1];R||rn==="multi"?Ee(void 0,et,!0):Ee(b.I1.fromSingleSelection(et),void 0,R)}else R||u.isTouch||rn==="multi"?st?Ee(L.remove(ne),void 0,!0):(Ee(void 0,ne,!0),yr.current=ne):st&&L.length===1?Ee(b.I1.empty(),void 0,x):(Ee(b.I1.fromSingleSelection(ne),void 0,x),yr.current=ne)}else if(X>=z&&$t&&ne===C){const Fe=ei(X);jr(Fe??X)}else if(fe!==X||be!==ne){const Fe=Hn(u.location),st=We(Fe);if(st?.onSelect!==void 0){let Ct=!1;if(st.onSelect({...u,cell:Fe,posX:u.localEventX,posY:u.localEventY,bounds:u.bounds,preventDefault:()=>Ct=!0,theme:yo(Fe,u.location)}),Ct)return}const qe=Rr&&ne===C,et=Rr&&Q!==void 0&&Q.current?.cell[1]===C;if((u.shiftKey||u.isLongTouch===!0)&&fe!==void 0&&be!==void 0&&Q.current!==void 0&&!et){if(qe)return;const Ct=Math.min(X,fe),Pt=Math.max(X,fe),fn=Math.min(ne,be),Ut=Math.max(ne,be);de({...Q.current,range:{x:Ct,y:fn,width:Pt-Ct+1,height:Ut-fn+1}},!0,x,"click"),yr.current=void 0,Cn()}else de({cell:[X,ne],range:{x:X,y:ne,width:1,height:1}},!0,x,"click"),yr.current=void 0,l(void 0),Cn()}}else if(u.kind==="header")if(Ir.current=[X,ne],l(void 0),On&&X===0)yr.current=void 0,Gr.current=void 0,ft==="multi"&&(L.length!==C?Ee(b.I1.fromSingleSelection([0,C]),void 0,x):Ee(b.I1.empty(),void 0,x),Cn());else{const Fe=Gr.current;if(De==="multi"&&(u.shiftKey||u.isLongTouch===!0)&&Fe!==void 0&&T.hasIndex(Fe)){const st=[Math.min(Fe,X),Math.max(Fe,X)+1];N?Me(void 0,st,x):Me(b.I1.fromSingleSelection(st),void 0,x)}else N?(T.hasIndex(X)?Me(T.remove(X),void 0,x):Me(void 0,X,x),Gr.current=X):De!=="none"&&(Me(b.I1.fromSingleSelection(X),void 0,x),Gr.current=X);yr.current=void 0,Cn()}else u.kind===En?Ir.current=[X,ne]:u.kind===Ao&&!u.isMaybeScrollbar&&(xn(Fo,!1),l(void 0),Cn(),mn?.(),yr.current=void 0,Gr.current=void 0)},[jr,De,Cn,We,ei,Hn,Q,On,Rr,mn,Qn,z,Nn,ft,rn,C,de,xn,Me,Ee,$t,yo]),bo=o.useRef(!1),Ir=o.useRef(),Yl=o.useRef(gn),er=o.useRef(),vu=o.useCallback(u=>{if(Zr.current=!1,Yl.current=an.current,u.button!==0&&u.button!==1){er.current=void 0;return}const x=performance.now();er.current={button:u.button,time:x,location:u.location},u?.kind==="header"&&(bo.current=!0);const R=u.kind==="cell"&&u.isFillHandle;!R&&u.kind!=="cell"&&u.isEdge||(d({previousSelection:Q,fillHandle:R}),Ir.current=void 0,!u.isTouch&&u.button===0&&!R?vo(u):!u.isTouch&&u.button===1&&(Ir.current=u.location))},[Q,vo]),[zi,Ni]=o.useState(),Kl=o.useCallback(u=>{if(u.kind!==En||De!=="multi")return;const x=Oo.value?u.metaKey:u.ctrlKey,[R]=u.location,N=Q.columns;if(R<z)return;const X=lt[R];let ne=R,T=R;for(let L=R-1;L>=z&&br(X.group,lt[L].group);L--)ne--;for(let L=R+1;L<lt.length&&br(X.group,lt[L].group);L++)T++;if(Cn(),x)if(N.hasAll([ne,T+1])){let L=N;for(let fe=ne;fe<=T;fe++)L=L.remove(fe);Me(L,void 0,x)}else Me(void 0,[ne,T+1],x);else Me(b.I1.fromSingleSelection([ne,T+1]),void 0,x)},[De,Cn,Q.columns,lt,z,Me]),Zr=o.useRef(!1),ti=o.useCallback(async u=>{if(sn!==void 0&&ar!==void 0){const x=an.current.y,R=an.current.height;let N=sn({x:u,y:x,width:1,height:Math.min(R,C-x)},Rn.current.signal);typeof N!="object"&&(N=await N());const X=rt[u-z],T=document.createElement("canvas").getContext("2d",{alpha:!1});if(T!==null){T.font=he.baseFontFull;const L=vl(T,he,X,0,N,Pn,$n,!1,We);ar?.(X,L.width,u,L.width)}}},[rt,sn,$n,he,Pn,ar,z,C,We]),[bu,Wi]=o.useState(),Qr=o.useCallback(async(u,x)=>{const R=u.current?.range;if(R===void 0||sn===void 0||x.current===void 0)return;const N=x.current.range;if(H!==void 0){let L=!1;if(H({fillDestination:{...N,x:N.x-z},patternSource:{...R,x:R.x-z},preventDefault:()=>L=!0}),L)return}let X=sn(R,Rn.current.signal);typeof X!="object"&&(X=await X());const ne=X,T=[];for(let L=0;L<N.width;L++)for(let fe=0;fe<N.height;fe++){const be=[N.x+L,N.y+fe];if(ko(be,R))continue;const Fe=ne[fe%R.height][L%R.width];(0,b.pg)(Fe)||!(0,b.uQ)(Fe)||T.push({location:be,value:{...Fe}})}Wn(T),Mn.current?.damage(T.map(L=>({cell:L.location})))},[sn,Wn,H,z]),Vl=o.useCallback(()=>{if(Q.current===void 0||Q.current.range.width<=1)return;const u={...Q,current:{...Q.current,range:{...Q.current.range,width:1}}};Qr(u,Q)},[Qr,Q]),jl=o.useCallback(()=>{if(Q.current===void 0||Q.current.range.height<=1)return;const u={...Q,current:{...Q.current,range:{...Q.current.range,height:1}}};Qr(u,Q)},[Qr,Q]),Cu=o.useCallback((u,x)=>{const R=c;if(d(void 0),Hi(void 0),Wi(void 0),bo.current=!1,x)return;if(R?.fillHandle===!0&&Q.current!==void 0&&R.previousSelection?.current!==void 0){if(Er===void 0)return;const Fe={...Q,current:{...Q.current,range:il(R.previousSelection.current.range,Er)}};Qr(R.previousSelection,Fe),xn(Fe,!0);return}const[N,X]=u.location,[ne,T]=Ir.current??[],L=()=>{Zr.current=!0},fe=Fe=>{const st=Fe.isTouch||ne===N&&T===X;if(st&&G?.([N-z,X],{...Fe,preventDefault:L}),Fe.button===1)return!Zr.current;if(!Zr.current){const qe=Hn(u.location),et=We(qe);if(et!==void 0&&et.onClick!==void 0&&st){const Pt=et.onClick({...Fe,cell:qe,posX:Fe.localEventX,posY:Fe.localEventY,bounds:Fe.bounds,theme:yo(qe,u.location),preventDefault:L});Pt!==void 0&&!(0,b.pg)(Pt)&&(0,b.Bc)(Pt)&&(Wn([{location:Fe.location,value:Pt}]),Mn.current?.damage([{cell:Fe.location}]))}if(Zr.current||Q.current===void 0)return!1;let Ct=!1;switch(qe.activationBehaviorOverride??nt){case"double-click":case"second-click":{if(R?.previousSelection?.current?.cell===void 0)break;const[Pt,fn]=Q.current.cell,[Ut,qr]=R.previousSelection.current.cell;Ct=N===Pt&&N===Ut&&X===fn&&X===qr&&(Fe.isDoubleClick===!0||nt==="second-click");break}case"single-click":{Ct=!0;break}}if(Ct)return q?.([N-z,X]),Vr(Fe.bounds,!1),!0}return!1},be=u.location[0]-z;if(u.isTouch){const Fe=an.current,st=Yl.current;if(Fe.x!==st.x||Fe.y!==st.y)return;if(u.isLongTouch===!0){if(u.kind==="cell"&&ro(Q.current?.cell,u.location)){Ye?.([be,u.location[1]],{...u,preventDefault:L});return}else if(u.kind==="header"&&Q.columns.hasIndex(N)){mt?.(be,{...u,preventDefault:L});return}else if(u.kind===En){if(be<0)return;ve?.(be,{...u,preventDefault:L});return}}u.kind==="cell"?fe(u)||vo(u):u.kind===En?Ve?.(be,{...u,preventDefault:L}):(u.kind===fr&&P?.(be,{...u,preventDefault:L}),vo(u));return}if(u.kind==="header"){if(be<0)return;u.isEdge?u.isDoubleClick===!0&&ti(N):u.button===0&&N===ne&&X===T&&P?.(be,{...u,preventDefault:L})}if(u.kind===En){if(be<0)return;u.button===0&&N===ne&&X===T&&(Ve?.(be,{...u,preventDefault:L}),Zr.current||Kl(u))}u.kind==="cell"&&(u.button===0||u.button===1)&&fe(u),Ir.current=void 0},[c,Q,z,Er,Qr,xn,G,Hn,We,nt,yo,Wn,q,Vr,Ye,mt,ve,vo,Ve,P,ti,Kl]),Su=o.useCallback(u=>{const x={...u,location:[u.location[0]-z,u.location[1]]};Rt?.(x),c!==void 0&&u.buttons===0&&(d(void 0),Hi(void 0),Wi(void 0),bo.current=!1),Wi(R=>bo.current?[u.scrollEdge[0],0]:u.scrollEdge[0]===R?.[0]&&u.scrollEdge[1]===R[1]?R:c===void 0||(er.current?.location[0]??0)<z?void 0:u.scrollEdge)},[c,Rt,z]),Ru=o.useCallback((u,x)=>{xt?.(u-z,x)},[xt,z]),Jr=Q?.current?.cell,xu=o.useCallback((u,x,R,N,X,ne)=>{It.current=!1;let T=Jr;T!==void 0&&(T=[T[0]-z,T[1]]);const L=dt===0?void 0:{x:0,y:u.y,width:dt,height:u.height},fe=[];L!==void 0&&fe.push(L),Yt>0&&(fe.push({x:u.x-z,y:C-Yt,width:u.width,height:Yt}),dt>0&&fe.push({x:0,y:C-Yt,width:dt,height:Yt}));const be={x:u.x-z,y:u.y,width:u.width,height:$t&&u.y+u.height>=C?u.height-1:u.height,tx:X,ty:ne,extras:{selected:T,freezeRegion:L,freezeRegions:fe}};an.current=be,An(be),Je([x,R,N]),Un?.(be,be.tx,be.ty,be.extras)},[Jr,z,$t,C,dt,Yt,An,Un]),Mu=Ce(Et,o.useCallback((u,x)=>{Et?.(u-z,x-z),De!=="none"&&Me(b.I1.fromSingleSelection(x),void 0,!0)},[De,Et,z,Me])),_i=o.useRef(!1),ku=o.useCallback(u=>{if(u.location[0]===0&&z>0){u.preventDefault();return}kt?.({...u,location:[u.location[0]-z,u.location[1]]}),u.defaultPrevented()||(_i.current=!0),d(void 0)},[kt,z]),Eu=o.useCallback(()=>{_i.current=!1},[]),Bi=o.useRef(),Ui=o.useCallback(u=>{if(!wl(u,Bi.current)&&(Bi.current=u,!(er?.current?.button!==void 0&&er.current.button>=1))){if(u.buttons!==0&&c!==void 0&&er.current?.location[0]===0&&u.location[0]===0&&z===1&&ft==="multi"&&c.previousSelection&&!c.previousSelection.rows.hasIndex(er.current.location[1])&&Q.rows.hasIndex(er.current.location[1])){const x=Math.min(er.current.location[1],u.location[1]),R=Math.max(er.current.location[1],u.location[1])+1;Ee(b.I1.fromSingleSelection([x,R]),void 0,!1)}if(u.buttons!==0&&c!==void 0&&Q.current!==void 0&&!_i.current&&!bo.current&&(_e==="rect"||_e==="multi-rect")){const[x,R]=Q.current.cell;let[N,X]=u.location;if(X<0&&(X=an.current.y),c.fillHandle===!0&&c.previousSelection?.current!==void 0){const ne=c.previousSelection.current.range;X=Math.min(X,$t?C-1:C);const T=ms(ne,N,X,Dn);Hi(T)}else{if($t&&R===C)return;if($t&&X===C)if(u.kind===Ao)X--;else return;N=Math.max(N,z);const L=N-x,fe=X-R,be={x:L>=0?x:N,y:fe>=0?R:X,width:Math.abs(L)+1,height:Math.abs(fe)+1};de({...Q.current,range:be},!0,!1,"drag")}}Jt?.({...u,location:[u.location[0]-z,u.location[1]]})}},[Dn,c,z,ft,Q,_e,Jt,Ee,$t,C,de]),Iu=o.useCallback(()=>{const u=Bi.current;if(u===void 0)return;const[x,R]=u.scrollEdge;let[N,X]=u.location;const ne=an.current;x===-1?N=ne.extras?.freezeRegion?.x??ne.x:x===1&&(N=ne.x+ne.width),R===-1?X=Math.max(0,ne.y):R===1&&(X=Math.min(C-1,ne.y+ne.height)),N=W(N,0,lt.length-1),X=W(X,0,C-1),Ui({...u,location:[N,X]})},[lt.length,Ui,C]);xa(bu,f,Iu);const Kn=o.useCallback(u=>{if(Q.current===void 0)return;const[x,R]=u,[N,X]=Q.current.cell,ne=Q.current.range;let T=ne.x,L=ne.x+ne.width,fe=ne.y,be=ne.y+ne.height;if(R!==0)switch(R){case 2:{be=C,fe=X,en(0,be,"vertical");break}case-2:{fe=0,be=X+1,en(0,fe,"vertical");break}case 1:{fe<X?(fe++,en(0,fe,"vertical")):(be=Math.min(C,be+1),en(0,be,"vertical"));break}case-1:{be>X+1?(be--,en(0,be,"vertical")):(fe=Math.max(0,fe-1),en(0,fe,"vertical"));break}default:(0,ae.xb)(R)}if(x!==0)if(x===2)L=lt.length,T=N,en(L-1-z,0,"horizontal");else if(x===-2)T=z,L=N+1,en(T-z,0,"horizontal");else{let Fe=[];if(sn!==void 0){const st=sn({x:T,y:fe,width:L-T-z,height:be-fe},Rn.current.signal);typeof st=="object"&&(Fe=Ta(st))}if(x===1){let st=!1;if(T<N){if(Fe.length>0){const qe=pe(T+1,N+1).find(et=>!Fe.includes(et-z));qe!==void 0&&(T=qe,st=!0)}else T++,st=!0;st&&en(T,0,"horizontal")}st||(L=Math.min(lt.length,L+1),en(L-1-z,0,"horizontal"))}else if(x===-1){let st=!1;if(L>N+1){if(Fe.length>0){const qe=pe(L-1,N,-1).find(et=>!Fe.includes(et-z));qe!==void 0&&(L=qe,st=!0)}else L--,st=!0;st&&en(L-z,0,"horizontal")}st||(T=Math.max(z,T-1),en(T-z,0,"horizontal"))}else(0,ae.xb)(x)}de({cell:Q.current.cell,range:{x:T,y:fe,width:L-T,height:be-fe}},!0,!1,"keyboard-select")},[sn,Q,lt.length,z,C,en,de]),vr=o.useCallback((u,x,R,N)=>{const X=yn-(R?0:1);if(u=W(u,z,rt.length-1+z),x=W(x,0,X),u===Jr?.[0]&&x===Jr?.[1])return!1;if(N&&Q.current!==void 0){const ne=[...Q.current.rangeStack];(Q.current.range.width>1||Q.current.range.height>1)&&ne.push(Q.current.range),xn({...Q,current:{cell:[u,x],range:{x:u,y:x,width:1,height:1},rangeStack:ne}},!0)}else de({cell:[u,x],range:{x:u,y:x,width:1,height:1}},!0,!1,"keyboard-nav");return g.current!==void 0&&g.current[0]===u&&g.current[1]===x&&(g.current=void 0),en(u-z,x),!0},[yn,z,rt.length,Jr,Q,en,xn,de]),Tu=o.useCallback((u,x)=>{i?.cell!==void 0&&u!==void 0&&(0,b.Bc)(u)&&(Wn([{location:i.cell,value:u}]),window.requestAnimationFrame(()=>{Mn.current?.damage([{cell:i.cell}])})),Cn(!0),l(void 0);const[R,N]=x;if(Q.current!==void 0&&(R!==0||N!==0)){const X=Q.current.cell[1]===yn-1&&u!==void 0;vr(W(Q.current.cell[0]+R,0,lt.length-1),W(Q.current.cell[1]+N,0,yn-1),X,!1)}ee?.(u,x)},[i?.cell,Cn,Q,ee,Wn,yn,vr,lt.length]),Du=o.useMemo(()=>`gdg-overlay-${Ia++}`,[]),Tr=o.useCallback(u=>{Cn();const x=[];for(let R=u.x;R<u.x+u.width;R++)for(let N=u.y;N<u.y+u.height;N++){const X=K([R-z,N]);if(!X.allowOverlay&&X.kind!==b.dd.Boolean)continue;let ne;if(X.kind===b.dd.Custom){const T=We(X),L=T?.provideEditor?.(X);T?.onDelete!==void 0?ne=T.onDelete(X):(0,b.zT)(L)&&(ne=L?.deletedValue?.(X))}else((0,b.Bc)(X)&&X.allowOverlay||X.kind===b.dd.Boolean)&&(ne=We(X)?.onDelete?.(X));ne!==void 0&&!(0,b.pg)(ne)&&(0,b.Bc)(ne)&&x.push({location:[R,N],value:ne})}Wn(x),Mn.current?.damage(x.map(R=>({cell:R.location})))},[Cn,K,We,Wn,z]),Co=i!==void 0,Gl=o.useCallback(u=>{const x=()=>{u.stopPropagation(),u.preventDefault()},R={didMatch:!1},{bounds:N}=u,X=Q.columns,ne=Q.rows,T=Xn;if(!Co&&at(T.clear,u,R))xn(Fo,!1),mn?.();else if(!Co&&at(T.selectAll,u,R))xn({columns:b.I1.empty(),rows:b.I1.empty(),current:{cell:Q.current?.cell??[z,0],range:{x:z,y:0,width:M.length,height:C},rangeStack:[]}},!1);else if(at(T.search,u,R))a?.current?.focus({preventScroll:!0}),jo(!0);else if(at(T.delete,u,R)){const et=I?.(Q)??!0;if(et!==!1){const Ct=et===!0?Q:et;if(Ct.current!==void 0){Tr(Ct.current.range);for(const Pt of Ct.current.rangeStack)Tr(Pt)}for(const Pt of Ct.rows)Tr({x:z,y:Pt,width:M.length,height:1});for(const Pt of Ct.columns)Tr({x:Pt,y:0,width:1,height:C})}}if(R.didMatch)return x(),!0;if(Q.current===void 0)return!1;let[L,fe]=Q.current.cell,be=!1,Fe=!1;at(T.scrollToSelectedCell,u,R)?oi.current(L-z,fe):De!=="none"&&at(T.selectColumn,u,R)?X.hasIndex(L)?Me(X.remove(L),void 0,!0):De==="single"?Me(b.I1.fromSingleSelection(L),void 0,!0):Me(void 0,L,!0):ft!=="none"&&at(T.selectRow,u,R)?ne.hasIndex(fe)?Ee(ne.remove(fe),void 0,!0):ft==="single"?Ee(b.I1.fromSingleSelection(fe),void 0,!0):Ee(void 0,fe,!0):!Co&&N!==void 0&&at(T.activateCell,u,R)?fe===C&&$t?window.setTimeout(()=>{const et=ei(L);jr(et??L)},0):(q?.([L-z,fe]),Vr(N,!0)):Q.current.range.height>1&&at(T.downFill,u,R)?jl():Q.current.range.width>1&&at(T.rightFill,u,R)?Vl():at(T.goToNextPage,u,R)?fe+=Math.max(1,an.current.height-4):at(T.goToPreviousPage,u,R)?fe-=Math.max(1,an.current.height-4):at(T.goToFirstCell,u,R)?(l(void 0),fe=0,L=0):at(T.goToLastCell,u,R)?(l(void 0),fe=Number.MAX_SAFE_INTEGER,L=Number.MAX_SAFE_INTEGER):at(T.selectToFirstCell,u,R)?(l(void 0),Kn([-2,-2])):at(T.selectToLastCell,u,R)?(l(void 0),Kn([2,2])):Co?(at(T.closeOverlay,u,R)&&l(void 0),at(T.acceptOverlayDown,u,R)&&(l(void 0),fe++),at(T.acceptOverlayUp,u,R)&&(l(void 0),fe--),at(T.acceptOverlayLeft,u,R)&&(l(void 0),L--),at(T.acceptOverlayRight,u,R)&&(l(void 0),L++)):(at(T.goDownCell,u,R)?fe+=1:at(T.goUpCell,u,R)?fe-=1:at(T.goRightCell,u,R)?L+=1:at(T.goLeftCell,u,R)?L-=1:at(T.goDownCellRetainSelection,u,R)?(fe+=1,be=!0):at(T.goUpCellRetainSelection,u,R)?(fe-=1,be=!0):at(T.goRightCellRetainSelection,u,R)?(L+=1,be=!0):at(T.goLeftCellRetainSelection,u,R)?(L-=1,be=!0):at(T.goToLastRow,u,R)?fe=C-1:at(T.goToFirstRow,u,R)?fe=Number.MIN_SAFE_INTEGER:at(T.goToLastColumn,u,R)?L=Number.MAX_SAFE_INTEGER:at(T.goToFirstColumn,u,R)?L=Number.MIN_SAFE_INTEGER:(_e==="rect"||_e==="multi-rect")&&(at(T.selectGrowDown,u,R)?Kn([0,1]):at(T.selectGrowUp,u,R)?Kn([0,-1]):at(T.selectGrowRight,u,R)?Kn([1,0]):at(T.selectGrowLeft,u,R)?Kn([-1,0]):at(T.selectToLastRow,u,R)?Kn([0,2]):at(T.selectToFirstRow,u,R)?Kn([0,-2]):at(T.selectToLastColumn,u,R)?Kn([2,0]):at(T.selectToFirstColumn,u,R)&&Kn([-2,0])),Fe=R.didMatch);const st=vr(L,fe,!1,be),qe=R.didMatch;return qe&&(st||!Fe||Uo)&&x(),qe},[Co,Q,Xn,De,ft,_e,z,C,vr,xn,mn,M.length,I,Uo,Tr,Me,Ee,$t,ei,jr,q,Vr,jl,Vl,Kn]),So=o.useCallback(u=>{let x=!1;if(ut!==void 0&&ut({...u,cancel:()=>{x=!0}}),x||Gl(u)||Q.current===void 0)return;const[R,N]=Q.current.cell,X=an.current;if(At&&!u.metaKey&&!u.ctrlKey&&Q.current!==void 0&&u.key.length===1&&/[ -~]/g.test(u.key)&&u.bounds!==void 0&&(0,b.uQ)(K([R-z,Math.max(0,Math.min(N,C-1))]))){if((!$t||N!==C)&&(X.y>N||N>X.y+X.height||X.x>R||R>X.x+X.width))return;Vr(u.bounds,!0,u.key),u.stopPropagation(),u.preventDefault()}},[At,ut,Gl,Q,K,z,C,$t,Vr]),Pu=o.useCallback((u,x)=>{const R=u.location[0]-z;if(u.kind==="header"&&mt?.(R,{...u,preventDefault:x}),u.kind===En){if(R<0)return;ve?.(R,{...u,preventDefault:x})}if(u.kind==="cell"){const[N,X]=u.location;Ye?.([R,X],{...u,preventDefault:x}),no(Q,u.location)||vr(N,X,!1,!1)}},[Q,Ye,ve,mt,z,vr]),$i=o.useCallback(async u=>{if(!Xn.paste)return;function x(T,L,fe,be){const Fe=typeof fe=="object"?fe?.join(`
`)??"":fe?.toString()??"";if(!(0,b.pg)(T)&&(0,b.uQ)(T)&&T.readonly!==!0){const st=A?.(Fe,T);if(st!==void 0&&(0,b.Bc)(st))return{location:L,value:st};const qe=We(T);if(qe===void 0)return;if(qe.kind===b.dd.Custom){(0,ae.vA)(T.kind===b.dd.Custom);const et=qe.onPaste?.(Fe,T.data);return et===void 0?void 0:{location:L,value:{...T,data:et}}}else{const et=qe.onPaste?.(Fe,T,{formatted:be,formattedString:typeof be=="string"?be:be?.join(`
`),rawValue:fe});return et===void 0?void 0:((0,ae.vA)(et.kind===T.kind),{location:L,value:et})}}}const R=Q.columns,N=Q.rows,X=f.current?.contains(document.activeElement)===!0||s.current?.contains(document.activeElement)===!0;let ne;if(Q.current!==void 0?ne=[Q.current.range.x,Q.current.range.y]:R.length===1?ne=[R.first()??0,0]:N.length===1&&(ne=[z,N.first()??0]),X&&ne!==void 0){let T,L;const fe="text/plain",be="text/html";if(navigator.clipboard.read!==void 0){const et=await navigator.clipboard.read();for(const Ct of et){if(Ct.types.includes(be)){const fn=await(await Ct.getType(be)).text(),Ut=Rl(fn);if(Ut!==void 0){T=Ut;break}}Ct.types.includes(fe)&&(L=await(await Ct.getType(fe)).text())}}else if(navigator.clipboard.readText!==void 0)L=await navigator.clipboard.readText();else if(u!==void 0&&u?.clipboardData!==null){if(u.clipboardData.types.includes(be)){const et=u.clipboardData.getData(be);T=Rl(et)}T===void 0&&u.clipboardData.types.includes(fe)&&(L=u.clipboardData.getData(fe))}else return;const[Fe,st]=ne,qe=[];do{if(Ue===void 0){const et=Hn(ne),Ct=L??T?.map(fn=>fn.map(Ut=>Ut.rawValue).join("	")).join("	")??"",Pt=x(et,ne,Ct,void 0);Pt!==void 0&&qe.push(Pt);break}if(T===void 0){if(L===void 0)return;T=wa(L)}if(Ue===!1||typeof Ue=="function"&&Ue?.([ne[0]-z,ne[1]],T.map(et=>et.map(Ct=>Ct.rawValue?.toString()??"")))!==!0)return;for(const[et,Ct]of T.entries()){if(et+st>=C)break;for(const[Pt,fn]of Ct.entries()){const Ut=[Pt+Fe,et+st],[qr,xo]=Ut;if(qr>=lt.length||xo>=yn)continue;const Mo=Hn(Ut),tr=x(Mo,Ut,fn.rawValue,fn.formatted);tr!==void 0&&qe.push(tr)}}}while(!1);Wn(qe),Mn.current?.damage(qe.map(et=>({cell:et.location})))}},[A,We,Hn,Q,Xn.paste,lt.length,Wn,yn,Ue,z,C]);le("paste",$i,p,!1,!0);const Ro=o.useCallback(async(u,x)=>{if(!Xn.copy)return;const R=x===!0||f.current?.contains(document.activeElement)===!0||s.current?.contains(document.activeElement)===!0,N=Q.columns,X=Q.rows,ne=(T,L)=>{if(!zt)Ml(T,L,u);else{const fe=L.map(be=>({kind:b.dd.Text,data:M[be].title,displayData:M[be].title,allowOverlay:!1}));Ml([fe,...T],L,u)}};if(R&&sn!==void 0){if(Q.current!==void 0){let T=sn(Q.current.range,Rn.current.signal);typeof T!="object"&&(T=await T()),ne(T,pe(Q.current.range.x-z,Q.current.range.x+Q.current.range.width-z))}else if(X!==void 0&&X.length>0){const L=[...X].map(fe=>{const be=sn({x:z,y:fe,width:M.length,height:1},Rn.current.signal);return typeof be=="object"?be[0]:be().then(Fe=>Fe[0])});if(L.some(fe=>fe instanceof Promise)){const fe=await Promise.all(L);ne(fe,pe(M.length))}else ne(L,pe(M.length))}else if(N.length>0){const T=[],L=[];for(const fe of N){let be=sn({x:fe,y:0,width:1,height:C},Rn.current.signal);typeof be!="object"&&(be=await be()),T.push(be),L.push(fe-z)}if(T.length===1)ne(T[0],L);else{const fe=T.reduce((be,Fe)=>be.map((st,qe)=>[...st,...Fe[qe]]));ne(fe,L)}}}},[M,sn,Q,Xn.copy,z,C,zt]);le("copy",Ro,p,!1,!1);const Ou=o.useCallback(async u=>{if(!(!Xn.cut||!(f.current?.contains(document.activeElement)===!0||s.current?.contains(document.activeElement)===!0))&&(await Ro(u),Q.current!==void 0)){let R={current:{cell:Q.current.cell,range:Q.current.range,rangeStack:[]},rows:b.I1.empty(),columns:b.I1.empty()};const N=I?.(R);if(N===!1||(R=N===!0?R:N,R.current===void 0))return;Tr(R.current.range)}},[Tr,Q,Xn.cut,Ro,I]);le("cut",Ou,p,!1,!1);const Au=o.useCallback((u,x)=>{if(ye!==void 0){z!==0&&(u=u.map(X=>[X[0]-z,X[1]])),ye(u,x);return}if(u.length===0||x===-1)return;const[R,N]=u[x];g.current!==void 0&&g.current[0]===R&&g.current[1]===N||(g.current=[R,N],vr(R,N,!1,!1))},[ye,z,vr]),[ni,ri]=on?.current?.cell??[],oi=o.useRef(en);oi.current=en,o.useLayoutEffect(()=>{!It.current&&ni!==void 0&&ri!==void 0&&(ni!==wr.current?.current?.cell[0]||ri!==wr.current?.current?.cell[1])&&oi.current(ni,ri),It.current=!1},[ni,ri]);const Zl=Q.current!==void 0&&(Q.current.cell[0]>=lt.length||Q.current.cell[1]>=yn);o.useLayoutEffect(()=>{Zl&&xn(Fo,!1)},[Zl,xn]);const Hu=o.useMemo(()=>$t===!0&&St?.tint===!0?b.I1.fromSingleSelection(yn-1):b.I1.empty(),[yn,$t,St?.tint]),Fu=o.useCallback(u=>typeof _t=="boolean"?_t:_t?.(u-z)??!0,[z,_t]),Lu=o.useMemo(()=>{if(zi===void 0||s.current===null)return null;const{bounds:u,group:x}=zi,R=s.current.getBoundingClientRect();return o.createElement(oa,{bounds:u,group:x,canvasBounds:R,onClose:()=>Ni(void 0),onFinish:N=>{Ni(void 0),ce?.(x,N)}})},[ce,zi]),zu=Math.min(lt.length,dt+(On?1:0));o.useImperativeHandle(t,()=>({appendRow:(u,x)=>jr(u+z,x),updateCells:u=>(z!==0&&(u=u.map(x=>({cell:[x.cell[0]+z,x.cell[1]]}))),Mn.current?.damage(u)),getBounds:(u,x)=>{if(!(s?.current===null||f?.current===null)){if(u===void 0&&x===void 0){const R=s.current.getBoundingClientRect(),N=R.width/f.current.clientWidth;return{x:R.x-f.current.scrollLeft*N,y:R.y-f.current.scrollTop*N,width:f.current.scrollWidth*N,height:f.current.scrollHeight*N}}return Mn.current?.getBounds((u??0)+z,x)}},focus:()=>Mn.current?.focus(),emit:async u=>{switch(u){case"delete":So({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":So({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":So({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Ro(void 0,!0);break;case"paste":await $i();break}},scrollTo:en,remeasureColumns:u=>{for(const x of u)ti(x+z)}}),[jr,ti,Ro,So,$i,z,en]);const[Ql,Jl]=Jr??[],Nu=o.useCallback(u=>{const[x,R]=u;if(R===-1){De!=="none"&&(Me(b.I1.fromSingleSelection(x),void 0,!1),Cn());return}Ql===x&&Jl===R||(de({cell:u,range:{x,y:R,width:1,height:1}},!0,!1,"keyboard-nav"),en(x,R))},[De,Cn,en,Ql,Jl,de,Me]),[Wu,_u]=o.useState(!1),ql=o.useRef(re(u=>{_u(u)},5)),Bu=o.useCallback(()=>{ql.current(!0),Q.current===void 0&&Q.columns.length===0&&Q.rows.length===0&&c===void 0&&de({cell:[z,Go],range:{x:z,y:Go,width:1,height:1}},!0,!1,"keyboard-select")},[Go,Q,c,z,de]),Uu=o.useCallback(()=>{ql.current(!1)},[]),[$u,Xu]=o.useMemo(()=>{let u;const x=Sn?.scrollbarWidthOverride??Se(),R=C+($t?1:0);if(typeof bn=="number")u=Tt+R*bn;else{let X=0;const ne=Math.min(R,10);for(let T=0;T<ne;T++)X+=bn(T);X=Math.floor(X/ne),u=Tt+R*X}u+=x;const N=lt.reduce((X,ne)=>ne.width+X,0)+x;return[`${Math.min(1e5,N)}px`,`${Math.min(1e5,u)}px`]},[lt,Sn?.scrollbarWidthOverride,bn,C,$t,Tt]),Yu=o.useMemo(()=>(0,Fn.zc)(he),[he]);return o.createElement(Fn.Dx.Provider,{value:he},o.createElement(Ca,{style:Yu,className:Xe,inWidth:S??$u,inHeight:E??Xu},o.createElement(ea,{fillHandle:ln,drawFocusRing:dn,experimental:Sn,fixedShadowX:Wo,fixedShadowY:Fr,getRowThemeOverride:h,headerIcons:or,imageWindowLoader:ir,initialSize:Lr,isDraggable:_o,onDragLeave:Bo,onRowMoved:Qn,overscrollX:Ii,overscrollY:Vo,preventDiagonalScrolling:Wr,rightElement:Sr,rightElementProps:gr,smoothScrollX:$o,smoothScrollY:xi,className:Xe,enableGroups:Kt,onCanvasFocused:Bu,onCanvasBlur:Uu,canvasRef:s,onContextMenu:Pu,theme:he,cellXOffset:kr,cellYOffset:Go,accessibilityHeight:gn.height,onDragEnd:Eu,columns:lt,nonGrowWidth:jt,drawHeader:Oi,onColumnProposeMove:F,drawCell:Ai,disabledRows:Hu,freezeColumns:zu,lockColumns:z,firstColAccessible:z===0,getCellContent:Hn,minColumnWidth:Pn,maxColumnWidth:$n,searchInputRef:a,showSearch:po,onSearchClose:Di,highlightRegions:yu,getCellsForSelection:sn,getGroupDetails:Fi,headerHeight:$r,isFocused:Wu,groupHeaderHeight:Kt?mo:0,freezeTrailingRows:Yt+($t&&St?.sticky===!0?1:0),hasAppendRow:$t,onColumnResize:ar,onColumnResizeEnd:Pi,onColumnResizeStart:Yr,onCellFocused:Nu,onColumnMoved:Mu,onDragStart:ku,onHeaderMenuClick:Ru,onItemHovered:Ui,isFilling:c?.fillHandle===!0,onMouseMove:Su,onKeyDown:So,onKeyUp:Mt,onMouseDown:vu,onMouseUp:Cu,onDragOverCell:Nt,onDrop:Zn,onSearchResultsChanged:Au,onVisibleRegionChanged:xu,clientSize:Ie,rowHeight:bn,searchResults:tt,searchValue:je,onSearchValueChange:ot,rows:yn,scrollRef:f,selection:Q,translateX:gn.tx,translateY:gn.ty,verticalBorder:Fu,gridRef:Mn,getCellRenderer:We}),Lu,i!==void 0&&o.createElement(o.Suspense,{fallback:null},o.createElement(Ea,{...i,validateCell:wo,bloom:D,id:Du,getCellRenderer:We,className:Sn?.isSubGrid===!0?"click-outside-ignore":void 0,provideEditor:Wt,imageEditorOverride:m,onFinishEditing:Tu,markdownDivCreateNode:w,isOutsideClick:Xo}))))},Pa=o.forwardRef(Da),Tl=20,Oa={getAccessibilityString:e=>e.data?.toString()??"false",kind:b.dd.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Aa(e,e.cell.data,(0,b.dB)(e.cell),e.cell.maxSize??Tl),onDelete:e=>({...e,data:!1}),onClick:e=>{const{cell:t,posX:n,posY:r,bounds:i,theme:l}=e,{width:a,height:s,x:c,y:d}=i,f=t.maxSize??Tl,g=Math.floor(i.y+s/2),p=Ke(f,s,l.cellVerticalPadding),m=ze(t.contentAlign??"center",c,a,l.cellHorizontalPadding,p),h=me(m,g,p),w=$e(c+n,d+r,h);if((0,b.dB)(t)&&w)return{...t,data:kl(t.data)}},onPaste:(e,t)=>{let n=b.WE;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=b.wm),n===t.data?void 0:{...t,data:n}}};function Aa(e,t,n,r){if(!n&&t===b.WE)return;const{ctx:i,hoverAmount:l,theme:a,rect:s,highlighted:c,hoverX:d,hoverY:f,cell:{contentAlign:g}}=e,{x:p,y:m,width:h,height:w}=s,S=.35;let E=n?1-S+S*l:.4;t===b.WE&&(E*=l),E!==0&&(i.globalAlpha=E,gi(i,a,t,p,m,h,w,c,d,f,r,g),i.globalAlpha=1)}const Ha=(0,In.I)("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),Fa=e=>{const{bubbles:t}=e;return o.createElement(Ha,null,t.map((n,r)=>o.createElement("div",{key:r,className:"boe-bubble"},n)),o.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},La={getAccessibilityString:e=>J(e.data),kind:b.dd.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,i)=>e.measureText(i).width+r+20,0)+2*n.cellHorizontalPadding-4,draw:e=>Na(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return o.createElement(Fa,{bubbles:t.data})},onPaste:()=>{}},za=4;function Na(e,t){const{rect:n,theme:r,ctx:i,highlighted:l}=e,{x:a,y:s,width:c,height:d}=n,f=20,g=8,p=za;let m=a+r.cellHorizontalPadding;const h=[];for(const w of t){if(m>a+c)break;const S=io(w,i,r.baseFontFull).width;h.push({x:m,width:S}),m+=S+g*2+p}i.beginPath();for(const w of h)jn(i,w.x,s+(d-f)/2,w.width+g*2,f,r.roundingRadius??f/2);i.fillStyle=l?r.bgBubbleSelected:r.bgBubble,i.fill();for(const[w,S]of h.entries())i.beginPath(),i.fillStyle=r.textBubble,i.fillText(t[w],S.x+g,s+d/2+ur(i,r))}const Wa=(0,In.I)("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),_a=e=>{const{drilldowns:t}=e;return o.createElement(Wa,null,t.map((n,r)=>o.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&o.createElement("img",{src:n.img}),o.createElement("div",null,n.text))))},Ba={getAccessibilityString:e=>J(e.data.map(t=>t.text)),kind:b.dd.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,i)=>e.measureText(i.text).width+r+20+(i.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>Xa(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return o.createElement(_a,{drilldowns:t.data})},onPaste:()=>{}},Ua=4,bi={};function $a(e,t,n,r){const i=Math.ceil(window.devicePixelRatio),l=5,a=n-l*2,s=4,c=n*i,d=r+l,f=r*3,g=(f+l*2)*i,p=`${e},${t},${i},${n}`;if(bi[p]!==void 0)return{el:bi[p],height:c,width:g,middleWidth:s*i,sideWidth:d*i,padding:l*i,dpr:i};const m=document.createElement("canvas"),h=m.getContext("2d");return h===null?null:(m.width=g,m.height=c,h.scale(i,i),bi[p]=m,h.beginPath(),jn(h,l,l,f,a,r),h.shadowColor="rgba(24, 25, 34, 0.4)",h.shadowBlur=1,h.fillStyle=e,h.fill(),h.shadowColor="rgba(24, 25, 34, 0.3)",h.shadowOffsetY=1,h.shadowBlur=5,h.fillStyle=e,h.fill(),h.shadowOffsetY=0,h.shadowBlur=0,h.shadowBlur=0,h.beginPath(),jn(h,l+.5,l+.5,f,a,r),h.strokeStyle=t,h.lineWidth=1,h.stroke(),{el:m,height:c,width:g,sideWidth:d*i,middleWidth:r*i,padding:l*i,dpr:i})}function Xa(e,t){const{rect:n,theme:r,ctx:i,imageLoader:l,col:a,row:s}=e,{x:c,width:d}=n,f=r.baseFontFull,g=qi(i,f),p=Math.min(n.height,Math.max(16,Math.ceil(g*r.lineHeight)*2)),m=Math.floor(n.y+(n.height-p)/2),h=p-10,w=8,S=Ua;let E=c+r.cellHorizontalPadding;const M=r.roundingRadius??6,C=$a(r.bgCell,r.drilldownBorder,p,M),K=[];for(const G of t){if(E>c+d)break;const H=io(G.text,i,f).width;let ee=0;G.img!==void 0&&l.loadOrGetImage(G.img,a,s)!==void 0&&(ee=h-8+4);const A=H+ee+w*2;K.push({x:E,width:A}),E+=A+S}if(C!==null){const{el:G,height:q,middleWidth:H,sideWidth:ee,width:A,dpr:te,padding:V}=C,D=ee/te,P=V/te;for(const F of K){const ke=Math.floor(F.x),Ve=Math.floor(F.width),Ye=Ve-(D-P)*2;i.imageSmoothingEnabled=!1,i.drawImage(G,0,0,ee,q,ke-P,m,D,p),Ye>0&&i.drawImage(G,ee,0,H,q,ke+(D-P),m,Ye,p),i.drawImage(G,A-ee,0,ee,q,ke+Ve-(D-P),m,D,p),i.imageSmoothingEnabled=!0}}i.beginPath();for(const[G,q]of K.entries()){const H=t[G];let ee=q.x+w;if(H.img!==void 0){const A=l.loadOrGetImage(H.img,a,s);if(A!==void 0){const te=h-8;let V=0,D=0,P=A.width,F=A.height;P>F?(V+=(P-F)/2,P=F):F>P&&(D+=(F-P)/2,F=P),i.beginPath(),jn(i,ee,m+p/2-te/2,te,te,r.roundingRadius??3),i.save(),i.clip(),i.drawImage(A,V,D,P,F,ee,m+p/2-te/2,te,te),i.restore(),ee+=te+4}}i.beginPath(),i.fillStyle=r.textBubble,i.fillText(H.text,ee,m+p/2+ur(i,r))}}const Ya=(0,In.I)("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var Ka=O(27428);const Va=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:i}=e,l=t.filter(s=>s!=="");if(l.length===0)return null;const a=l.length>1;return o.createElement(Ya,{"data-testid":"GDG-default-image-overlay-editor"},o.createElement(Ka.FN,{showArrows:a,showThumbs:!1,swipeable:a,emulateTouch:a,infiniteLoop:a},l.map(s=>{const c=i?.(s)??o.createElement("img",{draggable:!1,src:s});return o.createElement("div",{className:"gdg-centering-container",key:s},c)})),n&&r&&o.createElement("button",{className:"gdg-edit-icon",onClick:r},o.createElement(Le,null)))},ja={getAccessibilityString:e=>e.data.join(", "),kind:b.dd.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>Ga(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,i=r??Va;return o.createElement(i,{urls:t.data,canWrite:t.readonly!==!1,onCancel:n,onChange:l=>{n({...t,data:[l]})}})},onPaste:(e,t)=>{e=e.trim();const r=e.split(",").map(i=>{try{return new URL(i),i}catch{return}}).filter(i=>i!==void 0);if(!(r.length===t.data.length&&r.every((i,l)=>i===t.data[l])))return{...t,data:r}}},Ci=4;function Ga(e,t,n,r){const{rect:i,col:l,row:a,theme:s,ctx:c,imageLoader:d}=e,{x:f,y:g,height:p,width:m}=i,h=p-s.cellVerticalPadding*2,w=[];let S=0;for(let M=0;M<t.length;M++){const C=t[M];if(C.length===0)continue;const K=d.loadOrGetImage(C,l,a);if(K!==void 0){w[M]=K;const G=K.width*(h/K.height);S+=G+Ci}}if(S===0)return;S-=Ci;let E=f+s.cellHorizontalPadding;r==="right"?E=Math.floor(f+m-s.cellHorizontalPadding-S):r==="center"&&(E=Math.floor(f+m/2-S/2));for(const M of w){if(M===void 0)continue;const C=M.width*(h/M.height);n>0&&(c.beginPath(),jn(c,E,g+s.cellVerticalPadding,C,h,n),c.save(),c.clip()),c.drawImage(M,E,g+s.cellVerticalPadding,C,h),n>0&&c.restore(),E+=C+Ci}}function Za(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const Qa={getAccessibilityString:()=>"",kind:b.dd.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:r,ctx:i,rect:l,theme:a}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round(Za(n,r)*t.skeletonWidthVariability));const c=a.cellHorizontalPadding,d=t.skeletonHeight??Math.min(18,l.height-2*a.cellVerticalPadding);jn(i,l.x+c,l.y+(l.height-d)/2,s,d,a.roundingRadius??3),i.fillStyle=(0,tn.fu)(a.textDark,.1),i.fill()},onPaste:()=>{}};var Ja=O(60023);const qa=(0,In.I)("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class ec extends o.PureComponent{targetElement=null;renderMarkdownIntoDiv(){const{targetElement:t,props:n}=this;if(t===null)return;const{contents:r,createNode:i}=n,l=(0,Ja.xI)(r),a=document.createRange();a.selectNodeContents(t),a.deleteContents();let s=i?.(l);if(s===void 0){const d=document.createElement("template");d.innerHTML=l,s=d.content}t.append(s);const c=t.getElementsByTagName("a");for(const d of c)d.target="_blank",d.rel="noreferrer noopener"}containerRefHook=t=>{this.targetElement=t,this.renderMarkdownIntoDiv()};render(){return this.renderMarkdownIntoDiv(),o.createElement(qa,{ref:this.containerRefHook})}}const tc=(0,In.I)("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),nc=(0,In.I)("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),rc=(0,In.I)("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let Dl=0;const Lo=e=>{const{placeholder:t,value:n,onKeyDown:r,highlight:i,altNewline:l,validatedSelection:a,...s}=e,{onChange:c,className:d}=s,f=o.useRef(null),g=n??"";(0,ae.vA)(c!==void 0,"GrowingEntry must be a controlled input area");const[p]=o.useState(()=>"input-box-"+(Dl=(Dl+1)%1e7));o.useEffect(()=>{const h=f.current;if(h===null||h.disabled)return;const w=g.toString().length;h.focus(),h.setSelectionRange(i?0:w,w)},[]),o.useLayoutEffect(()=>{if(a!==void 0){const h=typeof a=="number"?[a,null]:a;f.current?.setSelectionRange(h[0],h[1])}},[a]);const m=o.useCallback(h=>{h.key==="Enter"&&h.shiftKey&&l===!0||r?.(h)},[l,r]);return o.createElement(rc,{className:"gdg-growing-entry"},o.createElement(nc,{className:d},g+`
`),o.createElement(tc,{...s,className:(d??"")+" gdg-input",id:p,ref:f,onKeyDown:m,value:g,placeholder:t,dir:"auto"}))},oc=()=>e=>e.targetWidth,Pl=(0,In.I)("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[oc(),"px"]}}),ic=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:i,targetRect:l,onFinish:a,validatedSelection:s}=e,c=t.data,d=t.readonly===!0,[f,g]=o.useState(c===""||r),p=o.useCallback(()=>{g(h=>!h)},[]),m=c?"gdg-ml-6":"";return f?o.createElement(Pl,{targetWidth:l.width-20},o.createElement(Lo,{autoFocus:!0,highlight:!1,validatedSelection:s,value:c,onKeyDown:h=>{h.key==="Enter"&&h.stopPropagation()},onChange:n}),o.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${m}`,onClick:()=>a(t)},o.createElement(Be,null))):o.createElement(Pl,{targetWidth:l.width},o.createElement(ec,{contents:c,createNode:i}),!d&&o.createElement(o.Fragment,null,o.createElement("div",{className:"spacer"}),o.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${m}`,onClick:p},o.createElement(Le,null))),o.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},lc={getAccessibilityString:e=>e.data?.toString()??"",kind:b.dd.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:lo,measure:(e,t,n)=>{const r=t.data.split(`
`)[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>Vn(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:i,markdownDivCreateNode:l,forceEditMode:a,validatedSelection:s}=e;return o.createElement(ic,{onFinish:i,targetRect:r,value:n,validatedSelection:s,onChange:c=>t({...n,data:c.target.value}),forceEditMode:a,createNode:l})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},sc={getAccessibilityString:e=>e.row.toString(),kind:b.Ld.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:ac,measure:()=>44,draw:e=>uc(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:i}=e,{width:l,height:a}=t,s=n.drawHandle?7+(l-7)/2:l/2,c=a/2;if(Math.abs(r-s)<=10&&Math.abs(i-c)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function ac(e,t){const{ctx:n,theme:r}=e,i=r.markerFontFull,l=t??{};return l?.font!==i&&(n.font=i,l.font=i),l.deprep=cc,n.textAlign="center",l}function cc(e){const{ctx:t}=e;t.textAlign="start"}function uc(e,t,n,r,i,l){const{ctx:a,rect:s,hoverAmount:c,theme:d}=e,{x:f,y:g,width:p,height:m}=s,h=n?1:r==="checkbox-visible"?.6+.4*c:c;if(r!=="number"&&h>0){a.globalAlpha=h;const w=7*(n?c:1);if(gi(a,d,n,i?f+w:f,g,i?p-w:p,m,!0,void 0,void 0,18,"center",l),i){a.globalAlpha=c,a.beginPath();for(const S of[3,6])for(const E of[-5,-1,3])a.rect(f+S,g+m/2+E,2,2);a.fillStyle=d.textLight,a.fill(),a.beginPath()}a.globalAlpha=1}if(r==="number"||r==="both"&&!n){const w=t.toString(),S=d.markerFontFull,E=f+p/2;r==="both"&&c!==0&&(a.globalAlpha=1-c),a.fillStyle=d.textLight,a.font=S,a.fillText(w,E,g+m/2+ur(a,S)),c!==0&&(a.globalAlpha=1)}}const dc={getAccessibilityString:()=>"",kind:b.Ld.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>fc(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function fc(e,t,n){const{ctx:r,rect:i,hoverAmount:l,theme:a,spriteManager:s}=e,{x:c,y:d,width:f,height:g}=i;r.beginPath(),r.globalAlpha=l,r.rect(c+1,d+1,f,g-2),r.fillStyle=a.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const p=t!=="";let m=0;if(n!==void 0){const w=g-8,S=c+8/2,E=d+8/2;s.drawSprite(n,"normal",r,S,E,w,a,p?1:l),m=w}else{m=24;const h=12,w=p?h:l*h,S=p?0:(1-l)*h*.5,E=a.cellHorizontalPadding+4;w>0&&(r.moveTo(c+E+S,d+g/2),r.lineTo(c+E+S+w,d+g/2),r.moveTo(c+E+S+w*.5,d+g/2-w*.5),r.lineTo(c+E+S+w*.5,d+g/2+w*.5),r.lineWidth=2,r.strokeStyle=a.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=a.textMedium,r.fillText(t,m+c+a.cellHorizontalPadding+.5,d+g/2+ur(r,a)),r.beginPath()}const hc=o.lazy(async()=>await O.e(5280).then(O.bind(O,55280))),gc={getAccessibilityString:e=>e.data?.toString()??"",kind:b.dd.Number,needsHover:!1,needsHoverPosition:!1,useLabel:!0,drawPrep:lo,draw:e=>Vn(e,e.cell.displayData,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:i}=e;return o.createElement(o.Suspense,{fallback:null},o.createElement(hc,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:i,onChange:l=>n({...r,data:Number.isNaN(l.floatValue??0)?0:l.floatValue})}))},onPaste:(e,t,n)=>{const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return{...t,data:r,displayData:n.formattedString??t.displayData}}},mc={getAccessibilityString:()=>"",measure:()=>108,kind:b.dd.Protected,needsHover:!1,needsHoverPosition:!1,draw:pc,onPaste:()=>{}};function pc(e){const{ctx:t,theme:n,rect:r}=e,{x:i,y:l,height:a}=r;t.beginPath();const s=2.5;let c=i+n.cellHorizontalPadding+s;const d=l+a/2,f=Math.cos(xe(30))*s,g=Math.sin(xe(30))*s;for(let p=0;p<12;p++)t.moveTo(c,d-s),t.lineTo(c,d+s),t.moveTo(c+f,d-g),t.lineTo(c-f,d+g),t.moveTo(c-f,d-g),t.lineTo(c+f,d+g),c+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const wc={getAccessibilityString:e=>e.data?.toString()??"",kind:b.dd.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>lo(e,t,e.theme.textLight),draw:e=>Vn(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:i}=e;return o.createElement(Lo,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:i,onChange:l=>n({...r,data:l.target.value})})},onPaste:()=>{}},yc={getAccessibilityString:e=>e.data?.toString()??"",kind:b.dd.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:lo,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:r,ctx:i,rect:l,theme:a,overrideCursor:s}=e,{displayData:c,contentAlign:d,hoverEffect:f,allowWrapping:g}=t;if(f===!0&&n>0){i.textBaseline="alphabetic";const p=a.cellHorizontalPadding,m=a.cellVerticalPadding,h=io(c,i,a.baseFontFull,"alphabetic"),w=l.height-m,S=Math.min(w,h.actualBoundingBoxAscent*2.5);i.beginPath(),jn(i,l.x+p/2,l.y+(l.height-S)/2+1,h.width+p*3,S-1,a.roundingRadius??4),i.globalAlpha=n,i.fillStyle=(0,tn.fu)(a.textDark,.1),i.fill(),i.globalAlpha=1,i.fillStyle=a.textDark,i.textBaseline="middle",s?.("text")}Vn(e,c,d,g,r)},measure:(e,t,n)=>{const r=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let i=0;for(const l of r)i=Math.max(i,e.measureText(l).width);return i+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:i,validatedSelection:l}=t;return o.createElement(Lo,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:i.readonly!==!0,disabled:i.readonly===!0,altNewline:!0,value:i.data,validatedSelection:l,onChange:a=>r({...i,data:a.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},vc=(0,In.I)("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),bc=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:i,validatedSelection:l,preview:a}=e,[s,c]=o.useState(!i&&(t===""||r)),d=o.useCallback(()=>{c(!0)},[]);return s?o.createElement(Lo,{validatedSelection:l,highlight:!0,autoFocus:!0,value:t,onChange:n}):o.createElement(vc,null,o.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},a),!i&&o.createElement("div",{className:"gdg-edit-icon",onClick:d},o.createElement(Le,null)),o.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function Ol(e,t,n,r){let i=n.cellHorizontalPadding;const l=t.height/2-e.actualBoundingBoxAscent/2,a=e.width,s=e.actualBoundingBoxAscent;return r==="right"?i=t.width-a-n.cellHorizontalPadding:r==="center"&&(i=t.width/2-a/2),{x:i,y:l,width:a,height:s}}const Cc={getAccessibilityString:e=>e.data?.toString()??"",kind:b.dd.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:lo,draw:e=>{const{cell:t,theme:n,overrideCursor:r,hoverX:i,hoverY:l,rect:a,ctx:s}=e,c=t.displayData??t.data,d=t.hoverEffect===!0;if(r!==void 0&&d&&i!==void 0&&l!==void 0){const f=io(c,s,n.baseFontFull),g=Ol(f,a,n,t.contentAlign),{x:p,y:m,width:h,height:w}=g;if(i>=p-4&&i<=p-4+h+8&&l>=m-4&&l<=m-4+w+8){const S=ur(s,n.baseFontFull);r("pointer");const E=5,M=m-S;s.beginPath(),s.moveTo(a.x+p,Math.floor(a.y+M+w+E)+.5),s.lineTo(a.x+p+h,Math.floor(a.y+M+w+E)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,Vn({...e,rect:{...a,x:a.x-1}},c,t.contentAlign),Vn({...e,rect:{...a,x:a.x-2}},c,t.contentAlign),Vn({...e,rect:{...a,x:a.x+1}},c,t.contentAlign),Vn({...e,rect:{...a,x:a.x+2}},c,t.contentAlign),s.restore()}}s.fillStyle=d?n.linkColor:n.textDark,Vn(e,c,t.contentAlign)},onClick:e=>{const{cell:t,bounds:n,posX:r,posY:i,theme:l}=e,a=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return;const s=is(a,l.baseFontFull);if(s===void 0)return;const c=Ol(s,n,l,t.contentAlign);Do({x:c.x-4,y:c.y-4,width:c.width+8,height:c.height+8},r,i)&&t.onClickUri(e)},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:r,forceEditMode:i,validatedSelection:l}=t;return o.createElement(bc,{forceEditMode:r.readonly!==!0&&(i||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:r.data,preview:r.displayData??r.data,validatedSelection:l,readonly:r.readonly===!0,onChange:a=>n({...r,data:a.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},Sc=[sc,dc,Oa,La,Ba,ja,Qa,lc,gc,mc,wc,yc,Cc],Ft='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Rc=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},xc=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},Mc=e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},kc=e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},Ec=e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},Al=e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},Ic={headerRowID:Rc,headerNumber:Mc,headerCode:xc,headerString:kc,headerBoolean:Ec,headerAudioUri:Al,headerVideoUri:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},headerEmoji:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},headerImage:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},headerUri:Al,headerPhone:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},headerMarkdown:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},headerDate:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},headerTime:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},headerEmail:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},headerReference:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},headerIfThenElse:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},headerSingleValue:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},headerLookup:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},headerTextTemplate:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},headerMath:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},headerRollup:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},headerJoinStrings:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},headerSplitString:e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Ft}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},headerGeoDistance:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},headerArray:e=>{const t=e.fgColor,n=e.bgColor;return`${Ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},rowOwnerOverlay:e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},protectedColumnOverlay:e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},renameIcon:e=>{const t=e.bgColor;return`${Ft}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`}};var Tc=O(7350);const Si=[];class Dc extends tl{imageLoaded=()=>{};loadedLocations=[];cache={};setCallback(t){this.imageLoaded=t}sendLoaded=Tc(()=>{this.imageLoaded(new so(this.loadedLocations)),this.loadedLocations=[]},20);clearOutOfWindow=()=>{const t=Object.keys(this.cache);for(const n of t){const r=this.cache[n];let i=!1;for(let l=0;l<r.cells.length;l++){const a=r.cells[l];if(this.isInWindow(a)){i=!0;break}}i?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[n])}};loadImage(t,n,r,i){let l=!1;const a=Si.pop()??new Image;let s=!1;const c={img:void 0,cells:[_n(n,r)],url:t,cancel:()=>{s||(s=!0,Si.length<12?Si.unshift(a):l||(a.src=""))}},d=new Promise(f=>a.addEventListener("load",()=>f(null)));requestAnimationFrame(async()=>{try{a.src=t,await d,await a.decode();const f=this.cache[i];if(f!==void 0&&!s){f.img=a;for(const g of f.cells)this.loadedLocations.push(di(g));l=!0,this.sendLoaded()}}catch{c.cancel()}}),this.cache[i]=c}loadOrGetImage(t,n,r){const i=t,l=this.cache[i];if(l!==void 0){const a=_n(n,r);return l.cells.includes(a)||l.cells.push(a),l.img}else this.loadImage(t,n,r,i)}}const Pc=Dc,Oc=(e,t)=>{const n=o.useMemo(()=>({...Ic,...e.headerIcons}),[e.headerIcons]),r=o.useMemo(()=>e.imageWindowLoader??new Pc,[e.imageWindowLoader]);return o.createElement(Pa,{...e,renderers:Sc,headerIcons:n,ref:t,imageWindowLoader:r})},Ac=o.forwardRef(Oc);var Vt=O(11261),Gt=O(14110),Hl=O(97152),Hc=O(79041),Fc=O(40845),Rd=O(11503);const Lc=({onBlur:e,placeholder:t})=>{const n=(0,o.useRef)(null);(0,o.useEffect)(()=>{n.current&&n.current.focus()});const r=i=>{i.key==="Enter"&&i.currentTarget.blur()};return(0,Z.jsx)("input",{type:"text",placeholder:t,onBlur:e,ref:n,onKeyDown:r,"data-testid":"column-input"})},zc=({divStyle:e,onColumnInputBlur:t})=>{const[n,r]=(0,o.useState)(!1),i=()=>{r(!0)},l=a=>{const s=a.target.value;s&&t(s),r(!1)};return(0,Z.jsx)("div",{className:e,children:n?(0,Z.jsx)(Lc,{placeholder:"Column Name",onBlur:l}):(0,Z.jsx)("button",{onClick:i,children:"+"})})};var Nc=O(2543),Wc=O(50311),Bn=O(64539),_c=O(59093),Bc=O(28122),zo=O(27183),Uc=O(28240),$c=O(32264);const cn=()=>$c.$.featureToggles.enableDatagridEditing;var Ri=O(32196);const Xc="600 13px Inter",Yc="400 13px Inter",Kc=document.createElement("canvas"),Vc=20,jc=300,Gc=65,Zc="both",Qc="number",Jc={isContextMenuOpen:!1},qc={isInputOpen:!1},Zt="datagrid_panel",Qt={EDIT_CELL:"edit_cell",GRID_SELECTED:"grid_selected",APPEND_ROW:"append_row",APPEND_COLUMN:"append_column",DELETE_BTN_PRESSED:"delete_btn_pressed",COLUMN_RESIZE:"column_resize",COLUMN_REORDER:"column_reorder",ROW_REORDER:"row_reorder",CONTEXT_MENU_ACTION:"context_menu_action",HEADER_MENU_ACTION:"header_menu_action"},eu={name:"A",fields:[],length:0},tu={kind:b.dd.Text,data:"",allowOverlay:!0,readonly:!1,displayData:""},Fl={columns:b.I1.empty(),rows:b.I1.empty()},nu={sticky:!1,tint:!0},ru={fill:!0,sticky:!1};async function Gn(e,t){if(t&&cn()){for(let n=0;n<e.fields.length;n++)delete e.fields[n].config.displayName,delete e.fields[n].config.displayNameFromDS;return await t([e])}return!1}const Ll=(e,t=!1)=>{const n=Kc.getContext("2d");return n.font=t?Xc:Yc,n.measureText(e).width},ou=e=>Math.max(Ll(e.name,!0)+Gc,Math.min(jc,e.values.toArray().reduce((t,n)=>{const r=Ll(n?.toString()??"");return r>t?r:t},0)+Vc)),No=(e,t,n=!1)=>{const r={...e,fields:e.fields.map(i=>({...i,values:i.values.slice()}))};for(const i of r.fields){const l=i.values.toArray();for(let a=t.length-1;a>=0;a--)n?l.splice(t[a],1):l.splice(t[a],1,null);i.values=[...l]}return{...r,length:r.fields[0]?.values.length??0}},iu=(e,t)=>{const n=t.x,r=t.y,i=t.x+t.width-1,l={...e,fields:e.fields.map(a=>({...a,values:a.values.slice()}))};for(let a=n;a<=i;a++){const s=l.fields[a],c=s.values.toArray();c.splice(r,t.height,...new Array(t.height).fill(null)),s.values=[...c]}return{...l,length:l.fields[0]?.values.length??0}},lu=e=>{const t=e.values.toArray();e.values=t.map(n=>n==="undefined"||n==="null"?null:n)};function su(e){return{accentColor:e.colors.primary.main,accentFg:e.colors.secondary.main,textDark:e.colors.text.primary,textMedium:e.colors.text.secondary,textLight:e.colors.text.secondary,textBubble:e.colors.text.primary,textHeader:e.colors.text.primary,bgCell:e.colors.background.primary,bgCellMedium:e.colors.background.primary,bgHeader:e.colors.background.primary,bgHeaderHasFocus:e.colors.background.secondary,bgHeaderHovered:e.colors.background.secondary,linkColor:e.colors.text.link,fontFamily:e.typography.fontFamily,headerFontStyle:`${e.typography.fontWeightMedium} ${e.typography.fontSize}px`,fgIconHeader:e.colors.secondary.contrastText,bgIconHeader:e.colors.secondary.main}}const au=(e,t,n=!1)=>{const r=e.values.get(t);switch(e.type){case Vt.PU.boolean:return{kind:b.dd.Boolean,data:r||!1,allowOverlay:!1,readonly:!1};case Vt.PU.number:return{kind:b.dd.Number,data:r||0,allowOverlay:cn()&&!n,readonly:!1,displayData:r!=null?r.toString():""};case Vt.PU.string:return{kind:b.dd.Text,data:r||"",allowOverlay:cn()&&!n,readonly:!1,displayData:r!=null?r.toString():""};default:return{kind:b.dd.Text,data:r||"",allowOverlay:cn()&&!n,readonly:!1,displayData:r!=null?r.toString():""}}},cu=(e,t)=>({dataEditor:(0,Ri.css)`
      .dvn-scroll-inner > div:nth-child(2) {
        pointer-events: none !important;
      }
      scrollbar-color: ${e.colors.background.secondary} ${e.colors.background.primary};
      ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }
      ::-webkit-scrollbar-track {
        background: ${e.colors.background.primary};
      }
      ::-webkit-scrollbar-thumb {
        border-radius: 10px;
      }
      ::-webkit-scrollbar-corner {
        display: none;
      }
    `,addColumnDiv:(0,Ri.css)`
      width: 120px;
      display: flex;
      flex-direction: column;
      background-color: ${e.colors.background.primary};
      button {
        pointer-events: ${t?"none":"auto"};
        border: none;
        outline: none;
        height: 37px;
        font-size: 20px;
        background-color: ${e.colors.background.primary};
        color: ${e.colors.text.primary};
        border-right: 1px solid ${e.components.panel.borderColor};
        border-bottom: 1px solid ${e.components.panel.borderColor};
        transition: background-color 200ms;
        cursor: pointer;
        :hover {
          background-color: ${e.colors.background.secondary};
        }
      }
      input {
        height: 37px;
        border: 1px solid ${e.colors.primary.main};
        :focus {
          outline: none;
        }
      }
    `,renameColumnInput:(0,Ri.css)`
      height: 37px;
      border: 1px solid ${e.colors.primary.main};
      :focus {
        outline: none;
      }
    `}),zl=e=>e.rows.length||e.columns.length?!0:e.current===void 0?!1:e.current.range&&!(e.current.range.height===1&&e.current.range.width===1);var un=(e=>(e.columnResizeStart="columnResizeStart",e.columnResizeEnd="columnResizeEnd",e.columnMove="columnMove",e.updateColumns="updateColumns",e.showColumnRenameInput="showColumnRenameInput",e.hideColumnRenameInput="hideColumnRenameInput",e.openCellContextMenu="openCellContextMenu",e.openHeaderContextMenu="openHeaderContextMenu",e.openHeaderDropdownMenu="openHeaderDropdownMenu",e.closeContextMenu="closeContextMenu",e.multipleCellsSelected="multipleCellsSelected",e.gridSelectionCleared="gridSelectionCleared",e.columnFreezeReset="columnFreezeReset",e.columnFreezeChanged="columnFreezeChanged",e.openSearch="openSearch",e.closeSearch="closeSearch",e))(un||{});const uu={columns:[],contextMenuData:Jc,renameColumnInputData:qc,gridSelection:Fl,columnFreezeIndex:0,toggleSearch:!1,isResizeInProgress:!1},du=new Map([[Vt.PU.number,b.Gf.HeaderNumber],[Vt.PU.string,b.Gf.HeaderTextTemplate],[Vt.PU.boolean,b.Gf.HeaderBoolean],[Vt.PU.time,b.Gf.HeaderDate],[Vt.PU.other,b.Gf.HeaderReference]]),fu=(e,t)=>{let n=[];switch(t.type){case"columnResizeStart":n=[...e.columns];const r=t.payload;return n[r.columnIndex]={...e.columns[r.columnIndex],width:r.width},{...e,columns:n,isResizeInProgress:!0};case"columnMove":n=[...e.columns];const i=t.payload,l=e.columns[i.from].width;let a=n.splice(i.from,1)[0];return a={...a,width:l},n.splice(i.to,0,a),{...e,columns:n};case"columnResizeEnd":return{...e,isResizeInProgress:!1};case"updateColumns":const s=t.payload;return n=[...s.frame.fields.map((E,M)=>{const C=e.columns.find(G=>G.title===E.name)?.width;return{title:(0,Uc.Ct)(E,s.frame),width:C??ou(E),icon:du.get(E.type),hasMenu:cn(),trailingRowOptions:{targetColumn:--M}}})],{...e,columns:n};case"showColumnRenameInput":return{...e,renameColumnInputData:{...e.renameColumnInputData,isInputOpen:!0}};case"hideColumnRenameInput":return{...e,renameColumnInputData:{...e.renameColumnInputData,isInputOpen:!1}};case"openCellContextMenu":const c=t.payload,d=c.event,f=c.cell;return{...e,contextMenuData:{x:d.bounds.x+d.localEventX,y:d.bounds.y+d.localEventY,column:f[0]===-1?void 0:f[0],row:f[1],isContextMenuOpen:!0,isHeaderMenu:!1}};case"openHeaderContextMenu":const g=t.payload,p=g.event;return{...e,contextMenuData:{x:p.bounds.x+p.localEventX,y:p.bounds.y+p.localEventY,column:g.columnIndex,row:void 0,isContextMenuOpen:!0,isHeaderMenu:!1}};case"openHeaderDropdownMenu":const m=t.payload,h=m.screenPosition;return{...e,contextMenuData:{x:h.x+h.width,y:h.y+h.height,column:m.columnIndex,row:void 0,isContextMenuOpen:!0,isHeaderMenu:!0},renameColumnInputData:{x:h.x,y:h.y,width:h.width,height:h.height,columnIdx:m.columnIndex,isInputOpen:!1,inputValue:m.value}};case"closeContextMenu":return{...e,contextMenuData:{isContextMenuOpen:!1}};case"closeSearch":return{...e,toggleSearch:!1};case"openSearch":return{...e,toggleSearch:!0};case"multipleCellsSelected":const w=t.payload;return{...e,gridSelection:w.selection};case"gridSelectionCleared":return{...e,gridSelection:Fl};case"columnFreezeReset":return{...e,columnFreezeIndex:0};case"columnFreezeChanged":const S=t.payload;return{...e,columnFreezeIndex:S.columnIndex};default:return e}},hu=({menuData:e,data:t,saveData:n,closeContextMenu:r,dispatch:i,gridSelection:l,columnFreezeIndex:a,renameColumnClicked:s})=>{let c=[],d=[];const{row:f,column:g,x:p,y:m,isHeaderMenu:h}=e;l.rows&&(c=l.rows.toArray()),l.columns&&(d=l.columns.toArray());let w="Delete row";c.length&&c.length>1&&(w=`Delete ${c.length} rows`);let S="Delete column";d.length&&d.length>1&&(S=`Delete ${d.length} columns`);const E=f!==void 0&&f>=0||c.length,M=g!==void 0&&g>=0&&f!==void 0||d.length,C=f!==void 0&&f>=0&&!c.length,K=g!==void 0&&g>=0&&f!==void 0&&!d.length,G=()=>(0,Z.jsxs)(Z.Fragment,{children:[E?(0,Z.jsx)(Bn.D,{label:w,onClick:()=>{if(c.length){n(No(t,c,!0)),i({type:un.gridSelectionCleared});return}f!==void 0&&f>=0&&((0,Gt.rR)(Zt,{item:Qt.CONTEXT_MENU_ACTION,menu_action:"row_delete"}),n(No(t,[f],!0)))}}):null,M?(0,Z.jsx)(Bn.D,{label:S,onClick:()=>{if(d.length){n({...t,fields:t.fields.filter((H,ee)=>!d.includes(ee))}),i({type:un.gridSelectionCleared});return}g!==void 0&&g>=0&&((0,Gt.rR)(Zt,{item:Qt.CONTEXT_MENU_ACTION,menu_action:"column_delete"}),n({...t,fields:t.fields.filter((H,ee)=>ee!==g)}))}}):null,M||E?(0,Z.jsx)(zo.N,{}):null,C?(0,Z.jsx)(Bn.D,{label:"Clear row",onClick:()=>{(0,Gt.rR)(Zt,{item:Qt.CONTEXT_MENU_ACTION,menu_action:"row_clear"}),n(No(t,[f]))}}):null,K?(0,Z.jsx)(Bn.D,{label:"Clear column",onClick:()=>{const H=t.fields[g];H.values=H.values.map(()=>null),(0,Gt.rR)(Zt,{item:Qt.CONTEXT_MENU_ACTION,menu_action:"column_clear"}),n({...t})}}):null,C||K?(0,Z.jsx)(zo.N,{}):null,(0,Z.jsx)(Bn.D,{label:"Remove all data",onClick:()=>{(0,Gt.rR)(Zt,{item:Qt.CONTEXT_MENU_ACTION,menu_action:"remove_all"}),n(eu)}}),(0,Z.jsx)(Bn.D,{label:"Search...",onClick:()=>{(0,Gt.rR)(Zt,{item:Qt.CONTEXT_MENU_ACTION,menu_action:"open_search"}),i({type:un.openSearch})}})]}),q=()=>{if(g==null)return null;const H=t.fields[g].type,ee=[],A=D=>{ee.push({label:(0,Nc.capitalize)(D),options:{targetField:t.fields[g].name,destinationType:D}})};H===Vt.PU.string?(A(Vt.PU.number),A(Vt.PU.boolean)):H===Vt.PU.number?(A(Vt.PU.string),A(Vt.PU.boolean)):H===Vt.PU.boolean?(A(Vt.PU.number),A(Vt.PU.string)):(A(Vt.PU.string),A(Vt.PU.number),A(Vt.PU.boolean));let te="Set column freeze position";const V=g+1;return a===V&&(te="Unset column freeze"),(0,Z.jsxs)(Z.Fragment,{children:[ee.length?(0,Z.jsx)(_c.r,{label:"Set field type",children:ee.map((D,P)=>(0,Z.jsx)(Bn.D,{label:D.label,onClick:()=>{const F=(0,Wc.s7)(t.fields[g],D.options);D.options.destinationType===Vt.PU.string&&lu(F);const ke={name:t.name,fields:[...t.fields],length:t.length};ke.fields[g]=F,(0,Gt.rR)(Zt,{item:Qt.HEADER_MENU_ACTION,menu_action:"convert_field"}),n(ke)}},P))}):null,(0,Z.jsx)(zo.N,{}),(0,Z.jsx)(Bn.D,{label:te,onClick:()=>{(0,Gt.rR)(Zt,{item:Qt.HEADER_MENU_ACTION,menu_action:"column_freeze"}),i(a===V?{type:un.columnFreezeReset}:{type:un.columnFreezeChanged,payload:{columnIndex:V}})}}),(0,Z.jsx)(Bn.D,{label:"Rename column",onClick:s}),(0,Z.jsx)(zo.N,{}),(0,Z.jsx)(Bn.D,{label:"Delete column",onClick:()=>{(0,Gt.rR)(Zt,{item:Qt.HEADER_MENU_ACTION,menu_action:"delete_column"}),n({...t,fields:t.fields.filter((D,P)=>P!==g)}),i({type:un.gridSelectionCleared})}}),(0,Z.jsx)(Bn.D,{label:"Clear column",onClick:()=>{const D=t.fields[g];D.values=D.values.map(()=>null),(0,Gt.rR)(Zt,{item:Qt.HEADER_MENU_ACTION,menu_action:"clear_column"}),n({...t})}})]})};return(0,Z.jsx)(Bc.t,{renderMenuItems:h?q:G,x:p,y:m,onClose:r})};var gu=O(17464);const mu=({renameColumnData:e,onColumnInputBlur:t,classStyle:n})=>{const{x:r,y:i,width:l,height:a,inputValue:s,columnIdx:c}=e,[d,f]=(0,o.useState)({}),[g,p]=(0,o.useState)(s),m=(0,o.useRef)(null);(0,o.useLayoutEffect)(()=>{m.current?.focus();const E=m.current?.getBoundingClientRect();if(E){const M={right:window.innerWidth<r+E.width,bottom:window.innerHeight<i+E.height};f({position:"fixed",left:M.right?r-E.width:r,top:M.bottom?i-E.height:i,width:l,height:a})}},[a,l,r,i]);const h=E=>{const M=E.target.value;M&&t(M,c)},w=E=>{p(E.target.value)},S=E=>{E.key==="Enter"&&E.currentTarget.blur()};return(0,Z.jsx)(gu.ZL,{children:(0,Z.jsx)("input",{type:"text",className:n,value:g,onBlur:h,ref:m,style:d,onChange:w,onKeyDown:S})})};function pu({options:e,data:t,id:n,fieldConfig:r,width:i,height:l}){const[a,s]=(0,o.useReducer)(fu,uu),{onUpdateData:c}=(0,Hc.d2)(),{columns:d,contextMenuData:f,renameColumnInputData:g,gridSelection:p,columnFreezeIndex:m,toggleSearch:h,isResizeInProgress:w}=a,S=t.series[e.selectedSeries??0],E=(0,Fc.$j)(),M=su(E);(0,o.useEffect)(()=>{S&&s({type:un.updateColumns,payload:{frame:S}})},[S]);const C=([ce,se])=>{const Oe=S.fields[ce];return!Oe||se>S.length?tu:au(Oe,se,zl(p))},K=(ce,se)=>{if(zl(p))return;const[Oe,ye]=ce,tt={...S,fields:S.fields.map(ut=>({...ut,values:[...ut.values]}))},ot=tt.fields[Oe];if(!ot)return;const je=ot.values.toArray();je[ye]=se.data,ot.values=[...je],(0,Gt.rR)(Zt,{item:Qt.EDIT_CELL}),Gn(tt,c)},G=ce=>{const se=S.length??0;(0,Gt.rR)(Zt,{item:Qt.APPEND_COLUMN}),Gn({...S,fields:[...S.fields,{name:ce,type:Vt.PU.string,config:{},values:new Array(se).fill("")}]},c)},q=()=>{const ce=S.fields.map(se=>{const Oe=se.values.slice();return Oe.push(null),{...se,values:Oe}});(0,Gt.rR)(Zt,{item:Qt.APPEND_ROW}),Gn({...S,fields:ce,length:S.length+1},c)},H=(ce,se,Oe,ye)=>{(0,Gt.rR)(Zt,{item:Qt.COLUMN_RESIZE}),s({type:un.columnResizeStart,payload:{columnIndex:Oe,width:se}})},ee=(ce,se,Oe,ye)=>{s({type:un.columnResizeEnd})},A=()=>{s({type:un.closeContextMenu})},te=ce=>{if(ce.current&&ce.current.range)return(0,Gt.rR)(Zt,{item:Qt.DELETE_BTN_PRESSED,selection:"grid-cell"}),Gn(iu(S,ce.current.range),c),!0;const se=ce.rows.toArray(),Oe=ce.columns.toArray();if(se.length)return(0,Gt.rR)(Zt,{item:Qt.DELETE_BTN_PRESSED,selection:"rows"}),Gn(No(S,se),c),!0;if(Oe.length){const ye={...S,fields:S.fields.map((tt,ot)=>Oe.includes(ot)?{...tt,values:new Array(S.length).fill(null)}:tt)};return(0,Gt.rR)(Zt,{item:Qt.DELETE_BTN_PRESSED,selection:"columns"}),Gn(ye,c),!0}return!1},V=(ce,se)=>{se.preventDefault(),s({type:un.openCellContextMenu,payload:{event:se,cell:ce}})},D=(ce,se)=>{se.preventDefault(),s({type:un.openHeaderContextMenu,payload:{event:se,columnIndex:ce}})},P=(ce,se)=>{s({type:un.openHeaderDropdownMenu,payload:{screenPosition:se,columnIndex:ce,value:a.columns[ce].title}})},F=async(ce,se)=>{const Oe=S.fields.map(ot=>ot),ye=Oe[ce];Oe.splice(ce,1),Oe.splice(se,0,ye),await Gn({...S,fields:Oe},c)&&((0,Gt.rR)(Zt,{item:Qt.COLUMN_REORDER}),s({type:un.columnMove,payload:{from:ce,to:se}}))},ke=(ce,se)=>{const Oe=S.fields.map(ye=>({...ye,values:ye.values.slice()}));for(const ye of Oe){const tt=ye.values[ce];ye.values.splice(ce,1),ye.values.splice(se,0,tt)}(0,Gt.rR)(Zt,{item:Qt.ROW_REORDER}),Gn({...S,fields:Oe},c)},Ve=()=>{(0,Gt.rR)(Zt,{item:Qt.HEADER_MENU_ACTION,menu_action:"rename_column"}),s({type:un.showColumnRenameInput})},Ye=(ce,se)=>{const Oe=S.fields.map(ye=>ye);Oe[se].name=ce,s({type:un.hideColumnRenameInput}),Gn({...S,fields:Oe},c)},Xe=()=>{s({type:un.closeSearch})},mt=ce=>{(0,Gt.rR)(Zt,{item:Qt.GRID_SELECTED}),s({type:un.multipleCellsSelected,payload:{selection:ce}})},Ae=ce=>{Gn(ce,c)};if(!S)return(0,Z.jsx)(Hl.a,{panelId:n,fieldConfig:r,data:t});if(!cn())return(0,Z.jsx)(Hl.a,{panelId:n,message:"Datagrid is not enabled",fieldConfig:r,data:t});if(!document.getElementById("portal")){const ce=document.createElement("div");ce.id="portal",document.body.appendChild(ce)}const ve=cu(E,w);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ac,{className:ve.dataEditor,getCellContent:C,columns:d,rows:S.length,width:i,height:l,initialSize:[i,l],theme:M,smoothScrollX:!0,smoothScrollY:!0,overscrollY:50,onCellEdited:cn()?K:void 0,getCellsForSelection:cn()?!0:void 0,showSearch:cn()?h:!1,onSearchClose:Xe,gridSelection:p,onGridSelectionChange:cn()?mt:void 0,onRowAppended:cn()?q:void 0,onDelete:cn()?te:void 0,rowMarkers:cn()?Zc:Qc,onColumnResize:H,onColumnResizeEnd:ee,onCellContextMenu:cn()?V:void 0,onHeaderContextMenu:cn()?D:void 0,onHeaderMenuClick:cn()?P:void 0,trailingRowOptions:nu,rightElement:cn()?(0,Z.jsx)(zc,{onColumnInputBlur:G,divStyle:ve.addColumnDiv}):null,rightElementProps:ru,freezeColumns:m,onRowMoved:cn()?ke:void 0,onColumnMoved:cn()?F:void 0}),f.isContextMenuOpen&&(0,Z.jsx)(hu,{menuData:f,data:S,saveData:Ae,closeContextMenu:A,dispatch:s,gridSelection:p,columnFreezeIndex:m,renameColumnClicked:Ve}),g.isInputOpen?(0,Z.jsx)(mu,{onColumnInputBlur:Ye,renameColumnData:g,classStyle:ve.renameColumnInput}):null]})}const Nl={selectedSeries:0},wu=new Y.m(pu).setPanelOptions((e,t)=>{const n=t.data.map((r,i)=>({value:i,label:r.refId}));return t.options&&!n.map(r=>r.value).includes(t.options.selectedSeries??0)&&(t.options.selectedSeries=Nl.selectedSeries),e.addSelect({path:"selectedSeries",name:"Select series",defaultValue:Nl.selectedSeries,settings:{options:n}})})},63945:Ge=>{function ge(O,Y,Z,o){for(var ae=-1,W=O==null?0:O.length;++ae<W;){var ie=O[ae];Y(o,ie,Z(ie),O)}return o}Ge.exports=ge},15325:(Ge,ge,O)=>{var Y=O(96131);function Z(o,ae){var W=o==null?0:o.length;return!!W&&Y(o,ae,0)>-1}Ge.exports=Z},29905:Ge=>{function ge(O,Y,Z){for(var o=-1,ae=O==null?0:O.length;++o<ae;)if(Z(Y,O[o]))return!0;return!1}Ge.exports=ge},62429:(Ge,ge,O)=>{var Y=O(3290);function Z(o,ae,W,ie){return Y(o,function(Ne,pe,re){ae(ie,Ne,W(Ne),re)}),ie}Ge.exports=Z},3290:(Ge,ge,O)=>{var Y=O(30641),Z=O(38329),o=Z(Y);Ge.exports=o},20426:Ge=>{var ge=Object.prototype,O=ge.hasOwnProperty;function Y(Z,o){return Z!=null&&O.call(Z,o)}Ge.exports=Y},55765:(Ge,ge,O)=>{var Y=O(38859),Z=O(15325),o=O(29905),ae=O(19219),W=O(44517),ie=O(84247),Ne=200;function pe(re,b,le){var Ce=-1,we=Z,xe=re.length,me=!0,ze=[],Ke=ze;if(le)me=!1,we=o;else if(xe>=Ne){var $e=b?null:W(re);if($e)return ie($e);me=!1,we=ae,Ke=new Y}else Ke=b?[]:ze;e:for(;++Ce<xe;){var Le=re[Ce],Be=b?b(Le):Le;if(Le=le||Le!==0?Le:0,me&&Be===Be){for(var v=Ke.length;v--;)if(Ke[v]===Be)continue e;b&&Ke.push(Be),ze.push(Le)}else we(Ke,Be,le)||(Ke!==ze&&Ke.push(Be),ze.push(Le))}return ze}Ge.exports=pe},42e3:(Ge,ge,O)=>{var Y=O(63945),Z=O(62429),o=O(15389),ae=O(56449);function W(ie,Ne){return function(pe,re){var b=ae(pe)?Y:Z,le=Ne?Ne():{};return b(pe,ie,o(re,2),le)}}Ge.exports=W},38329:(Ge,ge,O)=>{var Y=O(64894);function Z(o,ae){return function(W,ie){if(W==null)return W;if(!Y(W))return o(W,ie);for(var Ne=W.length,pe=ae?Ne:-1,re=Object(W);(ae?pe--:++pe<Ne)&&ie(re[pe],pe,re)!==!1;);return W}}Ge.exports=Z},44517:(Ge,ge,O)=>{var Y=O(76545),Z=O(63950),o=O(84247),ae=1/0,W=Y&&1/o(new Y([,-0]))[1]==ae?function(ie){return new Y(ie)}:Z;Ge.exports=W},78659:(Ge,ge,O)=>{var Y=O(87133),Z=O(99374);function o(ae,W,ie){return ie===void 0&&(ie=W,W=void 0),ie!==void 0&&(ie=Z(ie),ie=ie===ie?ie:0),W!==void 0&&(W=Z(W),W=W===W?W:0),Y(Z(ae),W,ie)}Ge.exports=o},94394:(Ge,ge,O)=>{var Y=O(43360),Z=O(42e3),o=Object.prototype,ae=o.hasOwnProperty,W=Z(function(ie,Ne,pe){ae.call(ie,pe)?ie[pe].push(Ne):Y(ie,pe,[Ne])});Ge.exports=W},61448:(Ge,ge,O)=>{var Y=O(20426),Z=O(49326);function o(ae,W){return ae!=null&&Z(ae,W,Y)}Ge.exports=o},63950:Ge=>{function ge(){}Ge.exports=ge},63375:(Ge,ge,O)=>{var Y=O(55765);function Z(o){return o&&o.length?Y(o):[]}Ge.exports=Z},71410:function(Ge,ge,O){var Y,Z,o;(function(ae,W){if(1)Z=[ge,O(57206)],Y=W,o=typeof Y=="function"?Y.apply(ge,Z):Y,o!==void 0&&(Ge.exports=o);else var ie})(this,function(ae,W){"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var ie=Ne(W);function Ne(pe){return pe&&pe.__esModule?pe:{default:pe}}ae.default=ie.default})},57206:function(Ge,ge,O){var Y,Z,o;(function(ae,W){if(1)Z=[ge,O(96540),O(5556)],Y=W,o=typeof Y=="function"?Y.apply(ge,Z):Y,o!==void 0&&(Ge.exports=o);else var ie})(this,function(ae,W,ie){"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.setHasSupportToCaptureOption=Ke;var Ne=re(W),pe=re(ie);function re(v){return v&&v.__esModule?v:{default:v}}var b=Object.assign||function(v){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&(v[oe]=$[oe])}return v};function le(v,_){var $={};for(var oe in v)_.indexOf(oe)>=0||Object.prototype.hasOwnProperty.call(v,oe)&&($[oe]=v[oe]);return $}function Ce(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}var we=function(){function v(_,$){for(var oe=0;oe<$.length;oe++){var B=$[oe];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(_,B.key,B)}}return function(_,$,oe){return $&&v(_.prototype,$),oe&&v(_,oe),_}}();function xe(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function me(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var ze=!1;function Ke(v){ze=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){Ke(!0)}}))}catch{}function $e(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return ze?v:v.capture}function Le(v){if("touches"in v){var _=v.touches[0],$=_.pageX,oe=_.pageY;return{x:$,y:oe}}var B=v.screenX,j=v.screenY;return{x:B,y:j}}var Be=function(v){me(_,v);function _(){var $;Ce(this,_);for(var oe=arguments.length,B=Array(oe),j=0;j<oe;j++)B[j]=arguments[j];var Se=xe(this,($=_.__proto__||Object.getPrototypeOf(_)).call.apply($,[this].concat(B)));return Se._handleSwipeStart=Se._handleSwipeStart.bind(Se),Se._handleSwipeMove=Se._handleSwipeMove.bind(Se),Se._handleSwipeEnd=Se._handleSwipeEnd.bind(Se),Se._onMouseDown=Se._onMouseDown.bind(Se),Se._onMouseMove=Se._onMouseMove.bind(Se),Se._onMouseUp=Se._onMouseUp.bind(Se),Se._setSwiperRef=Se._setSwiperRef.bind(Se),Se}return we(_,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,$e({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,$e({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(oe){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(oe))}},{key:"_onMouseMove",value:function(oe){this.mouseDown&&this._handleSwipeMove(oe)}},{key:"_onMouseUp",value:function(oe){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(oe)}},{key:"_handleSwipeStart",value:function(oe){var B=Le(oe),j=B.x,Se=B.y;this.moveStart={x:j,y:Se},this.props.onSwipeStart(oe)}},{key:"_handleSwipeMove",value:function(oe){if(this.moveStart){var B=Le(oe),j=B.x,Se=B.y,U=j-this.moveStart.x,k=Se-this.moveStart.y;this.moving=!0;var J=this.props.onSwipeMove({x:U,y:k},oe);J&&oe.cancelable&&oe.preventDefault(),this.movePosition={deltaX:U,deltaY:k}}}},{key:"_handleSwipeEnd",value:function(oe){this.props.onSwipeEnd(oe);var B=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-B?this.props.onSwipeLeft(1,oe):this.movePosition.deltaX>B&&this.props.onSwipeRight(1,oe),this.movePosition.deltaY<-B?this.props.onSwipeUp(1,oe):this.movePosition.deltaY>B&&this.props.onSwipeDown(1,oe)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(oe){this.swiper=oe,this.props.innerRef(oe)}},{key:"render",value:function(){var oe=this.props,B=oe.tagName,j=oe.className,Se=oe.style,U=oe.children,k=oe.allowMouseEvents,J=oe.onSwipeUp,ue=oe.onSwipeDown,y=oe.onSwipeLeft,Te=oe.onSwipeRight,Re=oe.onSwipeStart,He=oe.onSwipeMove,ht=oe.onSwipeEnd,Ht=oe.innerRef,Ot=oe.tolerance,hn=le(oe,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return Ne.default.createElement(this.props.tagName,b({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:j,style:Se},hn),U)}}]),_}(W.Component);Be.displayName="ReactSwipe",Be.propTypes={tagName:pe.default.string,className:pe.default.string,style:pe.default.object,children:pe.default.node,allowMouseEvents:pe.default.bool,onSwipeUp:pe.default.func,onSwipeDown:pe.default.func,onSwipeLeft:pe.default.func,onSwipeRight:pe.default.func,onSwipeStart:pe.default.func,onSwipeMove:pe.default.func,onSwipeEnd:pe.default.func,innerRef:pe.default.func,tolerance:pe.default.number.isRequired},Be.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},ae.default=Be})},47845:(Ge,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var O=function(Z,o,ae){var W=Z===0?Z:Z+o,ie=ae==="horizontal"?[W,0,0]:[0,W,0],Ne="translate3d",pe="("+ie.join(",")+")";return Ne+pe};ge.default=O},23613:(Ge,ge,O)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.fadeAnimationHandler=ge.slideStopSwipingHandler=ge.slideSwipeAnimationHandler=ge.slideAnimationHandler=void 0;var Y=O(96540),Z=ae(O(47845)),o=O(40929);function ae(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function W(Ce,we){var xe=Object.keys(Ce);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Ce);we&&(me=me.filter(function(ze){return Object.getOwnPropertyDescriptor(Ce,ze).enumerable})),xe.push.apply(xe,me)}return xe}function ie(Ce){for(var we=1;we<arguments.length;we++){var xe=arguments[we]!=null?arguments[we]:{};we%2?W(Object(xe),!0).forEach(function(me){Ne(Ce,me,xe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(xe)):W(Object(xe)).forEach(function(me){Object.defineProperty(Ce,me,Object.getOwnPropertyDescriptor(xe,me))})}return Ce}function Ne(Ce,we,xe){return we in Ce?Object.defineProperty(Ce,we,{value:xe,enumerable:!0,configurable:!0,writable:!0}):Ce[we]=xe,Ce}var pe=function(we,xe){var me={},ze=xe.selectedItem,Ke=ze,$e=Y.Children.count(we.children)-1,Le=we.infiniteLoop&&(ze<0||ze>$e);if(Le)return Ke<0?we.centerMode&&we.centerSlidePercentage&&we.axis==="horizontal"?me.itemListStyle=(0,o.setPosition)(-($e+2)*we.centerSlidePercentage-(100-we.centerSlidePercentage)/2,we.axis):me.itemListStyle=(0,o.setPosition)(-($e+2)*100,we.axis):Ke>$e&&(me.itemListStyle=(0,o.setPosition)(0,we.axis)),me;var Be=(0,o.getPosition)(ze,we),v=(0,Z.default)(Be,"%",we.axis),_=we.transitionTime+"ms";return me.itemListStyle={WebkitTransform:v,msTransform:v,OTransform:v,transform:v},xe.swiping||(me.itemListStyle=ie(ie({},me.itemListStyle),{},{WebkitTransitionDuration:_,MozTransitionDuration:_,OTransitionDuration:_,transitionDuration:_,msTransitionDuration:_})),me};ge.slideAnimationHandler=pe;var re=function(we,xe,me,ze){var Ke={},$e=xe.axis==="horizontal",Le=Y.Children.count(xe.children),Be=0,v=(0,o.getPosition)(me.selectedItem,xe),_=xe.infiniteLoop?(0,o.getPosition)(Le-1,xe)-100:(0,o.getPosition)(Le-1,xe),$=$e?we.x:we.y,oe=$;v===Be&&$>0&&(oe=0),v===_&&$<0&&(oe=0);var B=v+100/(me.itemSize/oe),j=Math.abs($)>xe.swipeScrollTolerance;return xe.infiniteLoop&&j&&(me.selectedItem===0&&B>-100?B-=Le*100:me.selectedItem===Le-1&&B<-Le*100&&(B+=Le*100)),(!xe.preventMovementUntilSwipeScrollTolerance||j||me.swipeMovementStarted)&&(me.swipeMovementStarted||ze({swipeMovementStarted:!0}),Ke.itemListStyle=(0,o.setPosition)(B,xe.axis)),j&&!me.cancelClick&&ze({cancelClick:!0}),Ke};ge.slideSwipeAnimationHandler=re;var b=function(we,xe){var me=(0,o.getPosition)(xe.selectedItem,we),ze=(0,o.setPosition)(me,we.axis);return{itemListStyle:ze}};ge.slideStopSwipingHandler=b;var le=function(we,xe){var me=we.transitionTime+"ms",ze="ease-in-out",Ke={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:ze,msTransitionTimingFunction:ze,MozTransitionTimingFunction:ze,WebkitTransitionTimingFunction:ze,OTransitionTimingFunction:ze};return xe.swiping||(Ke=ie(ie({},Ke),{},{WebkitTransitionDuration:me,MozTransitionDuration:me,OTransitionDuration:me,transitionDuration:me,msTransitionDuration:me})),{slideStyle:Ke,selectedStyle:ie(ie({},Ke),{},{opacity:1,position:"relative"}),prevStyle:ie({},Ke)}};ge.fadeAnimationHandler=le},72504:(Ge,ge,O)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var Y=le(O(96540)),Z=re(O(71410)),o=re(O(22775)),ae=re(O(91292)),W=re(O(87579)),ie=re(O(32069)),Ne=O(40929),pe=O(23613);function re(U){return U&&U.__esModule?U:{default:U}}function b(){if(typeof WeakMap!="function")return null;var U=new WeakMap;return b=function(){return U},U}function le(U){if(U&&U.__esModule)return U;if(U===null||Ce(U)!=="object"&&typeof U!="function")return{default:U};var k=b();if(k&&k.has(U))return k.get(U);var J={},ue=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in U)if(Object.prototype.hasOwnProperty.call(U,y)){var Te=ue?Object.getOwnPropertyDescriptor(U,y):null;Te&&(Te.get||Te.set)?Object.defineProperty(J,y,Te):J[y]=U[y]}return J.default=U,k&&k.set(U,J),J}function Ce(U){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ce=function(J){return typeof J}:Ce=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},Ce(U)}function we(){return we=Object.assign||function(U){for(var k=1;k<arguments.length;k++){var J=arguments[k];for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&(U[ue]=J[ue])}return U},we.apply(this,arguments)}function xe(U,k){var J=Object.keys(U);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(U);k&&(ue=ue.filter(function(y){return Object.getOwnPropertyDescriptor(U,y).enumerable})),J.push.apply(J,ue)}return J}function me(U){for(var k=1;k<arguments.length;k++){var J=arguments[k]!=null?arguments[k]:{};k%2?xe(Object(J),!0).forEach(function(ue){j(U,ue,J[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(J)):xe(Object(J)).forEach(function(ue){Object.defineProperty(U,ue,Object.getOwnPropertyDescriptor(J,ue))})}return U}function ze(U,k){if(!(U instanceof k))throw new TypeError("Cannot call a class as a function")}function Ke(U,k){for(var J=0;J<k.length;J++){var ue=k[J];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(U,ue.key,ue)}}function $e(U,k,J){return k&&Ke(U.prototype,k),J&&Ke(U,J),U}function Le(U,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(k&&k.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),k&&Be(U,k)}function Be(U,k){return Be=Object.setPrototypeOf||function(ue,y){return ue.__proto__=y,ue},Be(U,k)}function v(U){var k=oe();return function(){var ue=B(U),y;if(k){var Te=B(this).constructor;y=Reflect.construct(ue,arguments,Te)}else y=ue.apply(this,arguments);return _(this,y)}}function _(U,k){return k&&(Ce(k)==="object"||typeof k=="function")?k:$(U)}function $(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function B(U){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},B(U)}function j(U,k,J){return k in U?Object.defineProperty(U,k,{value:J,enumerable:!0,configurable:!0,writable:!0}):U[k]=J,U}var Se=function(U){Le(J,U);var k=v(J);function J(ue){var y;ze(this,J),y=k.call(this,ue),j($(y),"thumbsRef",void 0),j($(y),"carouselWrapperRef",void 0),j($(y),"listRef",void 0),j($(y),"itemsRef",void 0),j($(y),"timer",void 0),j($(y),"animationHandler",void 0),j($(y),"setThumbsRef",function(Re){y.thumbsRef=Re}),j($(y),"setCarouselWrapperRef",function(Re){y.carouselWrapperRef=Re}),j($(y),"setListRef",function(Re){y.listRef=Re}),j($(y),"setItemsRef",function(Re,He){y.itemsRef||(y.itemsRef=[]),y.itemsRef[He]=Re}),j($(y),"autoPlay",function(){Y.Children.count(y.props.children)<=1||(y.clearAutoPlay(),y.props.autoPlay&&(y.timer=setTimeout(function(){y.increment()},y.props.interval)))}),j($(y),"clearAutoPlay",function(){y.timer&&clearTimeout(y.timer)}),j($(y),"resetAutoPlay",function(){y.clearAutoPlay(),y.autoPlay()}),j($(y),"stopOnHover",function(){y.setState({isMouseEntered:!0},y.clearAutoPlay)}),j($(y),"startOnLeave",function(){y.setState({isMouseEntered:!1},y.autoPlay)}),j($(y),"isFocusWithinTheCarousel",function(){return y.carouselWrapperRef?!!((0,W.default)().activeElement===y.carouselWrapperRef||y.carouselWrapperRef.contains((0,W.default)().activeElement)):!1}),j($(y),"navigateWithKeyboard",function(Re){if(y.isFocusWithinTheCarousel()){var He=y.props.axis,ht=He==="horizontal",Ht={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},Ot=ht?Ht.ArrowRight:Ht.ArrowDown,hn=ht?Ht.ArrowLeft:Ht.ArrowUp;Ot===Re.keyCode?y.increment():hn===Re.keyCode&&y.decrement()}}),j($(y),"updateSizes",function(){if(!(!y.state.initialized||!y.itemsRef||y.itemsRef.length===0)){var Re=y.props.axis==="horizontal",He=y.itemsRef[0];if(He){var ht=Re?He.clientWidth:He.clientHeight;y.setState({itemSize:ht}),y.thumbsRef&&y.thumbsRef.updateSizes()}}}),j($(y),"setMountState",function(){y.setState({hasMount:!0}),y.updateSizes()}),j($(y),"handleClickItem",function(Re,He){if(Y.Children.count(y.props.children)!==0){if(y.state.cancelClick){y.setState({cancelClick:!1});return}y.props.onClickItem(Re,He),Re!==y.state.selectedItem&&y.setState({selectedItem:Re})}}),j($(y),"handleOnChange",function(Re,He){Y.Children.count(y.props.children)<=1||y.props.onChange(Re,He)}),j($(y),"handleClickThumb",function(Re,He){y.props.onClickThumb(Re,He),y.moveTo(Re)}),j($(y),"onSwipeStart",function(Re){y.setState({swiping:!0}),y.props.onSwipeStart(Re)}),j($(y),"onSwipeEnd",function(Re){y.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),y.props.onSwipeEnd(Re),y.clearAutoPlay(),y.state.autoPlay&&y.autoPlay()}),j($(y),"onSwipeMove",function(Re,He){y.props.onSwipeMove(He);var ht=y.props.swipeAnimationHandler(Re,y.props,y.state,y.setState.bind($(y)));return y.setState(me({},ht)),!!Object.keys(ht).length}),j($(y),"decrement",function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;y.moveTo(y.state.selectedItem-(typeof Re=="number"?Re:1))}),j($(y),"increment",function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;y.moveTo(y.state.selectedItem+(typeof Re=="number"?Re:1))}),j($(y),"moveTo",function(Re){if(typeof Re=="number"){var He=Y.Children.count(y.props.children)-1;Re<0&&(Re=y.props.infiniteLoop?He:0),Re>He&&(Re=y.props.infiniteLoop?0:He),y.selectItem({selectedItem:Re}),y.state.autoPlay&&y.state.isMouseEntered===!1&&y.resetAutoPlay()}}),j($(y),"onClickNext",function(){y.increment(1)}),j($(y),"onClickPrev",function(){y.decrement(1)}),j($(y),"onSwipeForward",function(){y.increment(1),y.props.emulateTouch&&y.setState({cancelClick:!0})}),j($(y),"onSwipeBackwards",function(){y.decrement(1),y.props.emulateTouch&&y.setState({cancelClick:!0})}),j($(y),"changeItem",function(Re){return function(He){(!(0,Ne.isKeyboardEvent)(He)||He.key==="Enter")&&y.moveTo(Re)}}),j($(y),"selectItem",function(Re){y.setState(me({previousItem:y.state.selectedItem},Re),function(){y.setState(y.animationHandler(y.props,y.state))}),y.handleOnChange(Re.selectedItem,Y.Children.toArray(y.props.children)[Re.selectedItem])}),j($(y),"getInitialImage",function(){var Re=y.props.selectedItem,He=y.itemsRef&&y.itemsRef[Re],ht=He&&He.getElementsByTagName("img")||[];return ht[0]}),j($(y),"getVariableItemHeight",function(Re){var He=y.itemsRef&&y.itemsRef[Re];if(y.state.hasMount&&He&&He.children.length){var ht=He.children[0].getElementsByTagName("img")||[];if(ht.length>0){var Ht=ht[0];if(!Ht.complete){var Ot=function kn(){y.forceUpdate(),Ht.removeEventListener("load",kn)};Ht.addEventListener("load",Ot)}}var hn=ht[0]||He.children[0],cr=hn.clientHeight;return cr>0?cr:null}return null});var Te={initialized:!1,previousItem:ue.selectedItem,selectedItem:ue.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ue.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return y.animationHandler=typeof ue.animationHandler=="function"&&ue.animationHandler||ue.animationHandler==="fade"&&pe.fadeAnimationHandler||pe.slideAnimationHandler,y.state=me(me({},Te),y.animationHandler(ue,Te)),y}return $e(J,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(y,Te){!y.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!y.autoFocus&&this.props.autoFocus&&this.forceFocus(),Te.swiping&&!this.state.swiping&&this.setState(me({},this.props.stopSwipingHandler(this.props,this.state))),(y.selectedItem!==this.props.selectedItem||y.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),y.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var y=this;this.bindEvents(),this.state.autoPlay&&Y.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var Te=y.getInitialImage();Te&&!Te.complete?Te.addEventListener("load",y.setMountState):y.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var y=this.carouselWrapperRef;this.props.stopOnHover&&y&&(y.addEventListener("mouseenter",this.stopOnHover),y.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var y=this.carouselWrapperRef;this.props.stopOnHover&&y&&(y.removeEventListener("mouseenter",this.stopOnHover),y.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,ie.default)().addEventListener("resize",this.updateSizes),(0,ie.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,W.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,ie.default)().removeEventListener("resize",this.updateSizes),(0,ie.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var y=this.getInitialImage();y&&y.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,W.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var y;(y=this.carouselWrapperRef)===null||y===void 0||y.focus()}},{key:"renderItems",value:function(y){var Te=this;return this.props.children?Y.Children.map(this.props.children,function(Re,He){var ht=He===Te.state.selectedItem,Ht=He===Te.state.previousItem,Ot=ht&&Te.state.selectedStyle||Ht&&Te.state.prevStyle||Te.state.slideStyle||{};Te.props.centerMode&&Te.props.axis==="horizontal"&&(Ot=me(me({},Ot),{},{minWidth:Te.props.centerSlidePercentage+"%"})),Te.state.swiping&&Te.state.swipeMovementStarted&&(Ot=me(me({},Ot),{},{pointerEvents:"none"}));var hn={ref:function(kn){return Te.setItemsRef(kn,He)},key:"itemKey"+He+(y?"clone":""),className:o.default.ITEM(!0,He===Te.state.selectedItem,He===Te.state.previousItem),onClick:Te.handleClickItem.bind(Te,He,Re),style:Ot};return Y.default.createElement("li",hn,Te.props.renderItem(Re,{isSelected:He===Te.state.selectedItem,isPrevious:He===Te.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var y=this,Te=this.props,Re=Te.showIndicators,He=Te.labels,ht=Te.renderIndicator,Ht=Te.children;return Re?Y.default.createElement("ul",{className:"control-dots"},Y.Children.map(Ht,function(Ot,hn){return ht&&ht(y.changeItem(hn),hn===y.state.selectedItem,hn,He.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Y.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Y.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Y.Children.count(this.props.children)===0?null:Y.default.createElement(ae.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var y=this;if(!this.props.children||Y.Children.count(this.props.children)===0)return null;var Te=this.props.swipeable&&Y.Children.count(this.props.children)>1,Re=this.props.axis==="horizontal",He=this.props.showArrows&&Y.Children.count(this.props.children)>1,ht=He&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,Ht=He&&(this.state.selectedItem<Y.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,Ot=this.renderItems(!0),hn=Ot.shift(),cr=Ot.pop(),kn={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},no={};if(Re){if(kn.onSwipeLeft=this.onSwipeForward,kn.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var br=this.getVariableItemHeight(this.state.selectedItem);no.height=br||"auto"}}else kn.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,kn.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,kn.style=me(me({},kn.style),{},{height:this.state.itemSize}),no.height=this.state.itemSize;return Y.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Y.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,ht,this.props.labels.leftArrow),Y.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:no},Te?Y.default.createElement(Z.default,we({tagName:"ul",innerRef:this.setListRef},kn,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&cr,this.renderItems(),this.props.infiniteLoop&&hn):Y.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(ko){return y.setListRef(ko)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&cr,this.renderItems(),this.props.infiniteLoop&&hn)),this.props.renderArrowNext(this.onClickNext,Ht,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),J}(Y.default.Component);ge.default=Se,j(Se,"displayName","Carousel"),j(Se,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Ne.noop,onClickThumb:Ne.noop,onChange:Ne.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,J,ue){return Y.default.createElement("button",{type:"button","aria-label":ue,className:o.default.ARROW_PREV(!J),onClick:k})},renderArrowNext:function(k,J,ue){return Y.default.createElement("button",{type:"button","aria-label":ue,className:o.default.ARROW_NEXT(!J),onClick:k})},renderIndicator:function(k,J,ue,y){return Y.default.createElement("li",{className:o.default.DOT(J),onClick:k,onKeyDown:k,value:ue,key:ue,role:"button",tabIndex:0,"aria-label":"".concat(y," ").concat(ue+1)})},renderItem:function(k){return k},renderThumbs:function(k){var J=Y.Children.map(k,function(ue){var y=ue;if(ue.type!=="img"&&(y=Y.Children.toArray(ue.props.children).find(function(Te){return Te.type==="img"})),!!y)return y});return J.filter(function(ue){return ue}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):J},statusFormatter:Ne.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:pe.slideSwipeAnimationHandler,stopSwipingHandler:pe.slideStopSwipingHandler})},51613:()=>{"use strict"},40929:(Ge,ge,O)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.setPosition=ge.getPosition=ge.isKeyboardEvent=ge.defaultStatusFormatter=ge.noop=void 0;var Y=O(96540),Z=o(O(47845));function o(re){return re&&re.__esModule?re:{default:re}}var ae=function(){};ge.noop=ae;var W=function(b,le){return"".concat(b," of ").concat(le)};ge.defaultStatusFormatter=W;var ie=function(b){return b?b.hasOwnProperty("key"):!1};ge.isKeyboardEvent=ie;var Ne=function(b,le){if(le.infiniteLoop&&++b,b===0)return 0;var Ce=Y.Children.count(le.children);if(le.centerMode&&le.axis==="horizontal"){var we=-b*le.centerSlidePercentage,xe=Ce-1;return b&&(b!==xe||le.infiniteLoop)?we+=(100-le.centerSlidePercentage)/2:b===xe&&(we+=100-le.centerSlidePercentage),we}return-b*100};ge.getPosition=Ne;var pe=function(b,le){var Ce={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(we){Ce[we]=(0,Z.default)(b,"%",le)}),Ce};ge.setPosition=pe},91292:(Ge,ge,O)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var Y=re(O(96540)),Z=Ne(O(22775)),o=O(3619),ae=Ne(O(47845)),W=Ne(O(71410)),ie=Ne(O(32069));function Ne(B){return B&&B.__esModule?B:{default:B}}function pe(){if(typeof WeakMap!="function")return null;var B=new WeakMap;return pe=function(){return B},B}function re(B){if(B&&B.__esModule)return B;if(B===null||b(B)!=="object"&&typeof B!="function")return{default:B};var j=pe();if(j&&j.has(B))return j.get(B);var Se={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in B)if(Object.prototype.hasOwnProperty.call(B,k)){var J=U?Object.getOwnPropertyDescriptor(B,k):null;J&&(J.get||J.set)?Object.defineProperty(Se,k,J):Se[k]=B[k]}return Se.default=B,j&&j.set(B,Se),Se}function b(B){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(Se){return typeof Se}:b=function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},b(B)}function le(){return le=Object.assign||function(B){for(var j=1;j<arguments.length;j++){var Se=arguments[j];for(var U in Se)Object.prototype.hasOwnProperty.call(Se,U)&&(B[U]=Se[U])}return B},le.apply(this,arguments)}function Ce(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")}function we(B,j){for(var Se=0;Se<j.length;Se++){var U=j[Se];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}function xe(B,j,Se){return j&&we(B.prototype,j),Se&&we(B,Se),B}function me(B,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(j&&j.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),j&&ze(B,j)}function ze(B,j){return ze=Object.setPrototypeOf||function(U,k){return U.__proto__=k,U},ze(B,j)}function Ke(B){var j=Be();return function(){var U=v(B),k;if(j){var J=v(this).constructor;k=Reflect.construct(U,arguments,J)}else k=U.apply(this,arguments);return $e(this,k)}}function $e(B,j){return j&&(b(j)==="object"||typeof j=="function")?j:Le(B)}function Le(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function Be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function v(B){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},v(B)}function _(B,j,Se){return j in B?Object.defineProperty(B,j,{value:Se,enumerable:!0,configurable:!0,writable:!0}):B[j]=Se,B}var $=function(j){return j.hasOwnProperty("key")},oe=function(B){me(Se,B);var j=Ke(Se);function Se(U){var k;return Ce(this,Se),k=j.call(this,U),_(Le(k),"itemsWrapperRef",void 0),_(Le(k),"itemsListRef",void 0),_(Le(k),"thumbsRef",void 0),_(Le(k),"setItemsWrapperRef",function(J){k.itemsWrapperRef=J}),_(Le(k),"setItemsListRef",function(J){k.itemsListRef=J}),_(Le(k),"setThumbsRef",function(J,ue){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[ue]=J}),_(Le(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var J=Y.Children.count(k.props.children),ue=k.itemsWrapperRef.clientWidth,y=k.props.thumbWidth?k.props.thumbWidth:(0,o.outerWidth)(k.thumbsRef[0]),Te=Math.floor(ue/y),Re=Te<J,He=Re?J-Te:0;k.setState(function(ht,Ht){return{itemSize:y,visibleItems:Te,firstItem:Re?k.getFirstItem(Ht.selectedItem):0,lastPosition:He,showArrows:Re}})}}),_(Le(k),"handleClickItem",function(J,ue,y){if(!$(y)||y.key==="Enter"){var Te=k.props.onSelectItem;typeof Te=="function"&&Te(J,ue)}}),_(Le(k),"onSwipeStart",function(){k.setState({swiping:!0})}),_(Le(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),_(Le(k),"onSwipeMove",function(J){var ue=J.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var y=0,Te=Y.Children.count(k.props.children),Re=-(k.state.firstItem*100)/k.state.visibleItems,He=Math.max(Te-k.state.visibleItems,0),ht=-He*100/k.state.visibleItems;Re===y&&ue>0&&(ue=0),Re===ht&&ue<0&&(ue=0);var Ht=k.itemsWrapperRef.clientWidth,Ot=Re+100/(Ht/ue);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(hn){k.itemsListRef.style[hn]=(0,ae.default)(Ot,"%",k.props.axis)}),!0}),_(Le(k),"slideRight",function(J){k.moveTo(k.state.firstItem-(typeof J=="number"?J:1))}),_(Le(k),"slideLeft",function(J){k.moveTo(k.state.firstItem+(typeof J=="number"?J:1))}),_(Le(k),"moveTo",function(J){J=J<0?0:J,J=J>=k.state.lastPosition?k.state.lastPosition:J,k.setState({firstItem:J})}),k.state={selectedItem:U.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return xe(Se,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,ie.default)().addEventListener("resize",this.updateSizes),(0,ie.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,ie.default)().removeEventListener("resize",this.updateSizes),(0,ie.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var J=k;return k>=this.state.lastPosition&&(J=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(J=this.state.firstItem),k<this.state.firstItem&&(J=k),J}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(J,ue){var y=Z.default.ITEM(!1,ue===k.state.selectedItem),Te={key:ue,ref:function(He){return k.setThumbsRef(He,ue)},className:y,onClick:k.handleClickItem.bind(k,ue,k.props.children[ue]),onKeyDown:k.handleClickItem.bind(k,ue,k.props.children[ue]),"aria-label":"".concat(k.props.labels.item," ").concat(ue+1),style:{width:k.props.thumbWidth}};return Y.default.createElement("li",le({},Te,{role:"button",tabIndex:0}),J)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var J=Y.Children.count(this.props.children)>1,ue=this.state.showArrows&&this.state.firstItem>0,y=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,Te={},Re=-this.state.firstItem*(this.state.itemSize||0),He=(0,ae.default)(Re,"px",this.props.axis),ht=this.props.transitionTime+"ms";return Te={WebkitTransform:He,MozTransform:He,MsTransform:He,OTransform:He,transform:He,msTransform:He,WebkitTransitionDuration:ht,MozTransitionDuration:ht,MsTransitionDuration:ht,OTransitionDuration:ht,transitionDuration:ht,msTransitionDuration:ht},Y.default.createElement("div",{className:Z.default.CAROUSEL(!1)},Y.default.createElement("div",{className:Z.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Y.default.createElement("button",{type:"button",className:Z.default.ARROW_PREV(!ue),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),J?Y.default.createElement(W.default,{tagName:"ul",className:Z.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:Te,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Y.default.createElement("ul",{className:Z.default.SLIDER(!1,this.state.swiping),ref:function(Ot){return k.setItemsListRef(Ot)},style:Te},this.renderItems()),Y.default.createElement("button",{type:"button",className:Z.default.ARROW_NEXT(!y),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),Se}(Y.Component);ge.default=oe,_(oe,"displayName","Thumbs"),_(oe,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},22775:(Ge,ge,O)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var Y=Z(O(46942));function Z(W){return W&&W.__esModule?W:{default:W}}function o(W,ie,Ne){return ie in W?Object.defineProperty(W,ie,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):W[ie]=Ne,W}var ae={ROOT:function(ie){return(0,Y.default)(o({"carousel-root":!0},ie||"",!!ie))},CAROUSEL:function(ie){return(0,Y.default)({carousel:!0,"carousel-slider":ie})},WRAPPER:function(ie,Ne){return(0,Y.default)({"thumbs-wrapper":!ie,"slider-wrapper":ie,"axis-horizontal":Ne==="horizontal","axis-vertical":Ne!=="horizontal"})},SLIDER:function(ie,Ne){return(0,Y.default)({thumbs:!ie,slider:ie,animated:!Ne})},ITEM:function(ie,Ne,pe){return(0,Y.default)({thumb:!ie,slide:ie,selected:Ne,previous:pe})},ARROW_PREV:function(ie){return(0,Y.default)({"control-arrow control-prev":!0,"control-disabled":ie})},ARROW_NEXT:function(ie){return(0,Y.default)({"control-arrow control-next":!0,"control-disabled":ie})},DOT:function(ie){return(0,Y.default)({dot:!0,selected:ie})}};ge.default=ae},3619:(Ge,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.outerWidth=void 0;var O=function(Z){var o=Z.offsetWidth,ae=getComputedStyle(Z);return o+=parseInt(ae.marginLeft)+parseInt(ae.marginRight),o};ge.outerWidth=O},27428:(Ge,ge,O)=>{"use strict";var Y;Y={value:!0},Object.defineProperty(ge,"FN",{enumerable:!0,get:function(){return Z.default}}),Y={enumerable:!0,get:function(){return o.CarouselProps}},Y={enumerable:!0,get:function(){return ae.default}};var Z=W(O(72504)),o=O(51613),ae=W(O(91292));function W(ie){return ie&&ie.__esModule?ie:{default:ie}}},87579:(Ge,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var O=function(){return document};ge.default=O},32069:(Ge,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var O=function(){return window};ge.default=O},78086:(Ge,ge,O)=>{"use strict";O.d(ge,{Dx:()=>ie,P6:()=>pe,n6:()=>W,zc:()=>o});var Y=O(96540),Z=O(73121);function o(re){return{"--gdg-accent-color":re.accentColor,"--gdg-accent-fg":re.accentFg,"--gdg-accent-light":re.accentLight,"--gdg-text-dark":re.textDark,"--gdg-text-medium":re.textMedium,"--gdg-text-light":re.textLight,"--gdg-text-bubble":re.textBubble,"--gdg-bg-icon-header":re.bgIconHeader,"--gdg-fg-icon-header":re.fgIconHeader,"--gdg-text-header":re.textHeader,"--gdg-text-group-header":re.textGroupHeader??re.textHeader,"--gdg-text-header-selected":re.textHeaderSelected,"--gdg-bg-cell":re.bgCell,"--gdg-bg-cell-medium":re.bgCellMedium,"--gdg-bg-header":re.bgHeader,"--gdg-bg-header-has-focus":re.bgHeaderHasFocus,"--gdg-bg-header-hovered":re.bgHeaderHovered,"--gdg-bg-bubble":re.bgBubble,"--gdg-bg-bubble-selected":re.bgBubbleSelected,"--gdg-bg-search-result":re.bgSearchResult,"--gdg-border-color":re.borderColor,"--gdg-horizontal-border-color":re.horizontalBorderColor??re.borderColor,"--gdg-drilldown-border":re.drilldownBorder,"--gdg-link-color":re.linkColor,"--gdg-cell-horizontal-padding":`${re.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${re.cellVerticalPadding}px`,"--gdg-header-font-style":re.headerFontStyle,"--gdg-base-font-style":re.baseFontStyle,"--gdg-marker-font-style":re.markerFontStyle,"--gdg-font-family":re.fontFamily,"--gdg-editor-font-size":re.editorFontSize,...re.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":re.resizeIndicatorColor},...re.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":re.headerBottomBorderColor},...re.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${re.roundingRadius}px`}}}const ae={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function W(){return ae}const ie=Y.createContext(ae);function Ne(){return React.useContext(ie)}function pe(re,...b){const le={...re};for(const Ce of b)if(Ce!==void 0)for(const we in Ce)Ce.hasOwnProperty(we)&&(we==="bgCell"?le[we]=(0,Z.au)(Ce[we],le[we]):le[we]=Ce[we]);return(le.headerFontFull===void 0||re.fontFamily!==le.fontFamily||re.headerFontStyle!==le.headerFontStyle)&&(le.headerFontFull=`${le.headerFontStyle} ${le.fontFamily}`),(le.baseFontFull===void 0||re.fontFamily!==le.fontFamily||re.baseFontStyle!==le.baseFontStyle)&&(le.baseFontFull=`${le.baseFontStyle} ${le.fontFamily}`),(le.markerFontFull===void 0||re.fontFamily!==le.fontFamily||re.markerFontStyle!==le.markerFontStyle)&&(le.markerFontFull=`${le.markerFontStyle} ${le.fontFamily}`),le}},74433:(Ge,ge,O)=>{"use strict";O.d(ge,{HD:()=>Y,bD:()=>Ne,no:()=>W,vA:()=>o,xb:()=>ae});function Y(pe){}function Z(pe="This should not happen"){throw new Error(pe)}function o(pe,re="Assertion failed"){if(!pe)return Z(re)}function ae(pe,re){return Z(re??"Hell froze over")}function W(pe,re){try{return pe()}catch{return re}}const ie=Object.prototype.hasOwnProperty;function Ne(pe,re){let b,le;if(pe===re)return!0;if(pe&&re&&(b=pe.constructor)===re.constructor){if(b===Date)return pe.getTime()===re.getTime();if(b===RegExp)return pe.toString()===re.toString();if(b===Array){if((le=pe.length)===re.length)for(;le--&&Ne(pe[le],re[le]););return le===-1}if(!b||typeof pe=="object"){le=0;for(b in pe)if(ie.call(pe,b)&&++le&&!ie.call(re,b)||!(b in re)||!Ne(pe[b],re[b]))return!1;return Object.keys(re).length===le}}return pe!==pe&&re!==re}},11421:(Ge,ge,O)=>{"use strict";O.d(ge,{A:()=>Z});var Y=O(96540);class Z extends Y.PureComponent{wrapperRef=Y.createRef();componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}clickOutside=ae=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(ae))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(ae.target)){let W=ae.target;for(;W!==null;){if(W.classList.contains("click-outside-ignore"))return;W=W.parentElement}this.props.onClickOutside()}};render(){const{onClickOutside:ae,isOutsideClick:W,...ie}=this.props;return Y.createElement("div",{...ie,ref:this.wrapperRef},this.props.children)}}},73121:(Ge,ge,O)=>{"use strict";O.d(ge,{au:()=>pe,fu:()=>W,mN:()=>Ne});const Y={};let Z=null;function o(){const le=document.createElement("div");return le.style.opacity="0",le.style.pointerEvents="none",le.style.position="fixed",document.body.append(le),le}function ae(le){const Ce=le.toLowerCase().trim();if(Y[Ce]!==void 0)return Y[Ce];Z=Z||o(),Z.style.color="#000",Z.style.color=Ce;const we=getComputedStyle(Z).color;Z.style.color="#fff",Z.style.color=Ce;const xe=getComputedStyle(Z).color;if(xe!==we)return[0,0,0,1];let me=xe.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return me.length<4&&me.push(1),me=me.map(ze=>Number.isNaN(ze)?0:ze),Y[Ce]=me,me}function W(le,Ce){const[we,xe,me]=ae(le);return`rgba(${we}, ${xe}, ${me}, ${Ce})`}const ie=new Map;function Ne(le,Ce){const we=`${le}-${Ce}`,xe=ie.get(we);if(xe!==void 0)return xe;const me=pe(le,Ce);return ie.set(we,me),me}function pe(le,Ce){if(Ce===void 0)return le;const[we,xe,me,ze]=ae(le);if(ze===1)return le;const[Ke,$e,Le,Be]=ae(Ce),v=ze+Be*(1-ze),_=(ze*we+Be*Ke*(1-ze))/v,$=(ze*xe+Be*$e*(1-ze))/v,oe=(ze*me+Be*Le*(1-ze))/v;return`rgba(${_}, ${$}, ${oe}, ${v})`}function re(le,Ce,we){if(we<=0)return le;if(we>=1)return Ce;const xe=[...ae(le)];xe[0]=xe[0]*xe[3],xe[1]=xe[1]*xe[3],xe[2]=xe[2]*xe[3];const me=[...ae(Ce)];me[0]=me[0]*me[3],me[1]=me[1]*me[3],me[2]=me[2]*me[3];const ze=we,Ke=1-we,$e=xe[3]*Ke+me[3]*ze,Le=Math.floor((xe[0]*Ke+me[0]*ze)/$e),Be=Math.floor((xe[1]*Ke+me[1]*ze)/$e),v=Math.floor((xe[2]*Ke+me[2]*ze)/$e);return`rgba(${Le}, ${Be}, ${v}, ${$e})`}function b(le){if(le==="transparent")return 0;function Ce(ze){const Ke=ze/255;return Ke<=.04045?Ke/12.92:Math.pow((Ke+.055)/1.055,2.4)}const[we,xe,me]=ae(le);return .2126*Ce(we)+.7152*Ce(xe)+.0722*Ce(me)}},69321:(Ge,ge,O)=>{"use strict";O.d(ge,{AA:()=>pe,Bc:()=>b,Gf:()=>ie,I1:()=>Be,Ld:()=>Ke,Mp:()=>re,N4:()=>Ne,WE:()=>o,dB:()=>ze,dd:()=>W,pg:()=>Ce,uQ:()=>we,wm:()=>ae,zT:()=>me});var Y=O(74433),Z=O(61448);const o=null,ae=void 0;var W;(function(v){v.Uri="uri",v.Text="text",v.Image="image",v.RowID="row-id",v.Number="number",v.Bubble="bubble",v.Boolean="boolean",v.Loading="loading",v.Markdown="markdown",v.Drilldown="drilldown",v.Protected="protected",v.Custom="custom"})(W||(W={}));var ie;(function(v){v.HeaderRowID="headerRowID",v.HeaderCode="headerCode",v.HeaderNumber="headerNumber",v.HeaderString="headerString",v.HeaderBoolean="headerBoolean",v.HeaderAudioUri="headerAudioUri",v.HeaderVideoUri="headerVideoUri",v.HeaderEmoji="headerEmoji",v.HeaderImage="headerImage",v.HeaderUri="headerUri",v.HeaderPhone="headerPhone",v.HeaderMarkdown="headerMarkdown",v.HeaderDate="headerDate",v.HeaderTime="headerTime",v.HeaderEmail="headerEmail",v.HeaderReference="headerReference",v.HeaderIfThenElse="headerIfThenElse",v.HeaderSingleValue="headerSingleValue",v.HeaderLookup="headerLookup",v.HeaderTextTemplate="headerTextTemplate",v.HeaderMath="headerMath",v.HeaderRollup="headerRollup",v.HeaderJoinStrings="headerJoinStrings",v.HeaderSplitString="headerSplitString",v.HeaderGeoDistance="headerGeoDistance",v.HeaderArray="headerArray",v.RowOwnerOverlay="rowOwnerOverlay",v.ProtectedColumnOverlay="protectedColumnOverlay"})(ie||(ie={}));var Ne;(function(v){v.Triangle="triangle",v.Dots="dots"})(Ne||(Ne={}));function pe(v){return"width"in v&&typeof v.width=="number"}async function re(v){return typeof v=="object"?v:await v()}function b(v){return v.kind===W.Loading||v.kind===W.Bubble||v.kind===W.RowID||v.kind===W.Protected||v.kind===W.Drilldown?!1:((0,Y.HD)(v),!0)}function le(v){return v.kind===W.Loading||v.kind===W.Bubble||v.kind===W.RowID||v.kind===W.Protected||v.kind===W.Drilldown||v.kind===W.Boolean||v.kind===W.Image||v.kind===W.Custom?!1:(proveType(v),!0)}function Ce(v){return v.kind===Ke.Marker||v.kind===Ke.NewRow}function we(v){if(!b(v)||v.kind===W.Image)return!1;if(v.kind===W.Text||v.kind===W.Number||v.kind===W.Markdown||v.kind===W.Uri||v.kind===W.Custom||v.kind===W.Boolean)return v.readonly!==!0;(0,Y.xb)(v,"A cell was passed with an invalid kind")}function xe(v,_){return v===_?!0:v===void 0||_===void 0?!1:v.x===_.x&&v.y===_.y&&v.width===_.width&&v.height===_.height}function me(v){return Z(v,"editor")}function ze(v){return!(v.readonly??!1)}var Ke;(function(v){v.NewRow="new-row",v.Marker="marker"})(Ke||(Ke={}));function $e(v){if(v.length===0)return[];const _=[...v],$=[];_.sort(function(oe,B){return oe[0]-B[0]}),$.push([..._[0]]);for(const oe of _.slice(1)){const B=$[$.length-1];B[1]<oe[0]?$.push([...oe]):B[1]<oe[1]&&(B[1]=oe[1])}return $}let Le;class Be{items;constructor(_){this.items=_}static empty=()=>Le??(Le=new Be([]));static fromSingleSelection=_=>Be.empty().add(_);offset(_){if(_===0)return this;const $=this.items.map(oe=>[oe[0]+_,oe[1]+_]);return new Be($)}add(_){const $=typeof _=="number"?[_,_+1]:_,oe=$e([...this.items,$]);return new Be(oe)}remove(_){const $=[...this.items],oe=typeof _=="number"?_:_[0],B=typeof _=="number"?_+1:_[1];for(const[j,Se]of $.entries()){const[U,k]=Se;if(U<=B&&oe<=k){const J=[];U<oe&&J.push([U,oe]),B<k&&J.push([B,k]),$.splice(j,1,...J)}}return new Be($)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(_){for(let $=0;$<this.items.length;$++){const[oe,B]=this.items[$];if(_>=oe&&_<B)return!0}return!1}hasAll(_){for(let $=_[0];$<_[1];$++)if(!this.hasIndex($))return!1;return!0}some(_){for(const $ of this)if(_($))return!0;return!1}equals(_){if(_===this)return!0;if(_.items.length!==this.items.length)return!1;for(let $=0;$<this.items.length;$++){const oe=_.items[$],B=this.items[$];if(oe[0]!==B[0]||oe[1]!==B[1])return!1}return!0}toArray(){const _=[];for(const[$,oe]of this.items)for(let B=$;B<oe;B++)_.push(B);return _}get length(){let _=0;for(const[$,oe]of this.items)_+=oe-$;return _}*[Symbol.iterator](){for(const[_,$]of this.items)for(let oe=_;oe<$;oe++)yield oe}}},95806:(Ge,ge,O)=>{"use strict";O.d(ge,{I:()=>Ke});function Y($e){var Le=Object.create(null);return function(Be){return Le[Be]===void 0&&(Le[Be]=$e(Be)),Le[Be]}}var Z=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Y(function($e){return Z.test($e)||$e.charCodeAt(0)===111&&$e.charCodeAt(1)===110&&$e.charCodeAt(2)<91}),ae=O(96540),W=0,ie=()=>{throw new Error('Using the "css" tag in runtime is not supported. Make sure you have set up the Babel plugin correctly.')},Ne=null,pe=function(){const Le=Array.prototype.slice.call(arguments).filter(Boolean),Be={},v=[];Le.forEach($=>{($?$.split(" "):[]).forEach(B=>{if(B.startsWith("atm_")){const[,j]=B.split("_");Be[j]=B}else v.push(B)})});const _=[];for(const $ in Be)Object.prototype.hasOwnProperty.call(Be,$)&&_.push(Be[$]);return _.push(...v),_.join(" ")},re=pe,b=$e=>$e.toUpperCase()===$e,le=$e=>Le=>$e.indexOf(Le)===-1,Ce=($e,Le)=>{const Be={};return Object.keys($e).filter(le(Le)).forEach(v=>{Be[v]=$e[v]}),Be};function we($e,Le,Be){const v=Ce(Le,Be);if(!$e){const _=typeof o=="function"?{default:o}:o;Object.keys(v).forEach($=>{_.default($)||delete v[$]})}return v}var xe=($e,Le)=>{},me=0;function ze($e){var Le;let Be="";return v=>{const _=(oe,B)=>{const{as:j=$e,class:Se=Be}=oe,U=v.propsAsIs===void 0?!(typeof j=="string"&&j.indexOf("-")===-1&&!b(j[0])):v.propsAsIs,k=we(U,oe,["as","class"]);k.ref=B,k.className=v.atomic?re(v.class,k.className||Se):re(k.className||Se,v.class);const{vars:J}=v;if(J){const ue={};for(const Re in J){const He=J[Re],ht=He[0],Ht=He[1]||"",Ot=typeof ht=="function"?ht(oe):ht;xe(Ot,v.name),ue[`--${Re}`]=`${Ot}${Ht}`}const y=k.style||{},Te=Object.keys(y);Te.length>0&&Te.forEach(Re=>{ue[Re]=y[Re]}),k.style=ue}return $e.__linaria&&$e!==j?(k.as=j,ae.createElement($e,k)):ae.createElement(j,k)},$=ae.forwardRef?ae.forwardRef(_):oe=>{const B=Ce(oe,["innerRef"]);return _(B,oe.innerRef)};return $.displayName=v.name,$.__linaria={className:v.class||Be,extends:$e},$}}var Ke=ze}}]);

//# sourceMappingURL=7229.aac41279237e5e8d0e91.js.map