"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[8696],{"./src/components/Pagination/Pagination.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:function(){return Pagination}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Button/Button.tsx"),_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Icon/Icon.tsx");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pagination=function(param){var currentPage=param.currentPage,numberOfPages=param.numberOfPages,onNavigate=param.onNavigate,hideWhenSinglePage=param.hideWhenSinglePage,showSmallVersion=param.showSmallVersion,className=param.className,styles=(0,_themes__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),pageLengthToCondense=showSmallVersion?1:8,pageButtons=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var pages=_to_consumable_array(new Array(numberOfPages).keys()),condensePages=numberOfPages>pageLengthToCondense,getListItem=function(page,variant){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_4__.$n,{size:"sm",variant:variant,onClick:function(){return onNavigate(page)},children:page})},page)};return pages.reduce((function(pagesToRender,pageIndex){var page=pageIndex+1,variant=page===currentPage?"primary":"secondary",lowerBoundIndex=pageLengthToCondense,upperBoundIndex=numberOfPages-pageLengthToCondense+1,differenceOfBounds=upperBoundIndex-lowerBoundIndex,currentPageIsBetweenBounds=differenceOfBounds>-1&&currentPage>=lowerBoundIndex&&currentPage<=upperBoundIndex,ellipsisOffset=showSmallVersion?1:3,pageOffset=showSmallVersion?0:2;return condensePages?1===page||page===numberOfPages||currentPage<lowerBoundIndex&&page<lowerBoundIndex||differenceOfBounds>=0&&currentPage>upperBoundIndex&&page>upperBoundIndex||differenceOfBounds<0&&currentPage>=lowerBoundIndex&&page>upperBoundIndex||currentPageIsBetweenBounds&&page>=currentPage-pageOffset&&page<=currentPage+pageOffset?pagesToRender.push(getListItem(page,variant)):(page===lowerBoundIndex&&currentPage<lowerBoundIndex||page===upperBoundIndex&&currentPage>upperBoundIndex||currentPageIsBetweenBounds&&(page===currentPage-ellipsisOffset||page===currentPage+ellipsisOffset))&&pagesToRender.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__.I,{className:styles.ellipsis,name:"ellipsis-v"})},page)):pagesToRender.push(getListItem(page,variant)),pagesToRender}),[])}),[currentPage,numberOfPages,onNavigate,pageLengthToCondense,showSmallVersion,styles.ellipsis,styles.item]);return hideWhenSinglePage&&numberOfPages<=1?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.container,className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_4__.$n,{"aria-label":"previous page",size:"sm",variant:"secondary",onClick:function(){return onNavigate(currentPage-1)},disabled:1===currentPage,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__.I,{name:"angle-left"})})}),pageButtons,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:styles.item,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_4__.$n,{"aria-label":"next page",size:"sm",variant:"secondary",onClick:function(){return onNavigate(currentPage+1)},disabled:currentPage===numberOfPages,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_5__.I,{name:"angle-right"})})})]})})},getStyles=function(){return{container:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({float:"right"}),item:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"inline-block",paddingLeft:"10px",marginBottom:"5px"}),ellipsis:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({transform:"rotate(90deg)"})}};try{Pagination.displayName="Pagination",Pagination.__docgenInfo={description:"",displayName:"Pagination",props:{currentPage:{defaultValue:null,description:"The current page index being shown.",name:"currentPage",required:!0,type:{name:"number"}},numberOfPages:{defaultValue:null,description:"Number of total pages.",name:"numberOfPages",required:!0,type:{name:"number"}},onNavigate:{defaultValue:null,description:"Callback function for fetching the selected page.",name:"onNavigate",required:!0,type:{name:"(toPage: number) => void"}},hideWhenSinglePage:{defaultValue:null,description:"When set to true and the pagination result is only one page it will not render the pagination at all.",name:"hideWhenSinglePage",required:!1,type:{name:"boolean"}},showSmallVersion:{defaultValue:null,description:"Small version only shows the current page and the navigation buttons.",name:"showSmallVersion",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Pagination/Pagination.tsx#Pagination"]={docgenInfo:Pagination.__docgenInfo,name:"Pagination",path:"src/components/Pagination/Pagination.tsx#Pagination"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Pagination/Pagination.story.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithPages:function(){return WithPages},default:function(){return Pagination_story}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),Pagination=__webpack_require__("./src/components/Pagination/Pagination.tsx"),lib=__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("../../node_modules/@storybook/blocks/dist/index.mjs");function _createMdxContent(props){const _components={code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,lib.R)(),...props.components};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.W8,{title:"MDX|Pagination",component:Pagination.d}),"\n",(0,jsx_runtime.jsx)(_components.h1,{id:"pagination",children:"Pagination"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Component used for rendering a page selector below paginated content."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"usage",children:"Usage"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-tsx",children:"<div>\n  <div>Page 1 content</div>\n  <Pagination currentPage={1} numberOfPages={5} onNavigate={() => fetchPage(2)} />\n</div>\n"})}),"\n",(0,jsx_runtime.jsx)(dist.ov,{of:Pagination.d})]})}function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var meta={title:"Buttons/Pagination",component:Pagination.d,parameters:{docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,lib.R)(),...props.components};return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},controls:{exclude:["currentPage","onNavigate"]}},argTypes:{numberOfPages:{control:{type:"number",min:1}}}},WithPages=function(param){var numberOfPages=param.numberOfPages,hideWhenSinglePage=param.hideWhenSinglePage,_useState=_sliced_to_array((0,react.useState)(1),2),page=_useState[0],setPage=_useState[1];return(0,jsx_runtime.jsx)(Pagination.d,{numberOfPages:numberOfPages,currentPage:page,onNavigate:setPage,hideWhenSinglePage:hideWhenSinglePage})};WithPages.args={numberOfPages:5,hideWhenSinglePage:!1};var Pagination_story=meta;WithPages.parameters={...WithPages.parameters,docs:{...WithPages.parameters?.docs,source:{originalSource:"({\n  numberOfPages,\n  hideWhenSinglePage\n}) => {\n  const [page, setPage] = useState(1);\n  return <Pagination numberOfPages={numberOfPages} currentPage={page} onNavigate={setPage} hideWhenSinglePage={hideWhenSinglePage} />;\n}",...WithPages.parameters?.docs?.source}}}}}]);