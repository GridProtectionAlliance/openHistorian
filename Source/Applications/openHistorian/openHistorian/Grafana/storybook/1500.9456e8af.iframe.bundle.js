"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[1500],{"../../node_modules/@react-aria/overlays/dist/useModal.mjs":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Sf:function(){return $f57aed4a881a3485$export$b47c3594eab58386}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react-dom/index.js"),_react_aria_ssr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/ssr/dist/SSRProvider.mjs");const $f57aed4a881a3485$var$Context=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);function $f57aed4a881a3485$export$178405afcd8c5eb(props){let{children:children}=props,parent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)($f57aed4a881a3485$var$Context),[modalCount,setModalCount]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({parent:parent,modalCount:modalCount,addModal(){setModalCount((count=>count+1)),parent&&parent.addModal()},removeModal(){setModalCount((count=>count-1)),parent&&parent.removeModal()}})),[parent,modalCount]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement($f57aed4a881a3485$var$Context.Provider,{value:context},children)}function $f57aed4a881a3485$var$OverlayContainerDOM(props){let{modalProviderProps:modalProviderProps}=function $f57aed4a881a3485$export$d9aaed4c3ece1bc0(){let context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)($f57aed4a881a3485$var$Context);return{modalProviderProps:{"aria-hidden":!!(context&&context.modalCount>0)||null}}}();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-overlay-container":!0,...props,...modalProviderProps})}function $f57aed4a881a3485$export$bf688221f59024e5(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement($f57aed4a881a3485$export$178405afcd8c5eb,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement($f57aed4a881a3485$var$OverlayContainerDOM,props))}function $f57aed4a881a3485$export$b47c3594eab58386(props){let isSSR=(0,_react_aria_ssr__WEBPACK_IMPORTED_MODULE_2__.wR)(),{portalContainer:portalContainer=(isSSR?null:document.body),...rest}=props;if(react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{if(null==portalContainer?void 0:portalContainer.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")}),[portalContainer]),!portalContainer)return null;let contents=react__WEBPACK_IMPORTED_MODULE_0__.createElement($f57aed4a881a3485$export$bf688221f59024e5,rest);return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(contents,portalContainer)}},"../grafana-data/src/datetime/rangeutil.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A3:function(){return isRelativeTime},EQ:function(){return describeTimeRange},Ep:function(){return convertRawToRange},M:function(){return describeTimeRangeAbbreviation},Rv:function(){return isFiscal},bB:function(){return isRelativeTimeRange}});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/lodash/lodash.js"),_datemath__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../grafana-data/src/datetime/datemath.ts"),_formatter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../grafana-data/src/datetime/formatter.ts"),_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../grafana-data/src/datetime/moment_wrapper.ts"),_parser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../grafana-data/src/datetime/parser.ts"),spans={s:{display:"second"},m:{display:"minute"},h:{display:"hour"},d:{display:"day"},w:{display:"week"},M:{display:"month"},y:{display:"year"}},rangeIndex={};function describeTextRange(expr){var isLast=0!==expr.indexOf("+");-1===expr.indexOf("now")&&(expr=(isLast?"now-":"now")+expr);var opt=rangeIndex[expr+" to now"];if(opt)return opt;opt=isLast?{from:expr,to:"now",display:""}:{from:"now",to:expr,display:""};var parts=/^now([-+])(\d+)(\w)/.exec(expr);if(parts){var unit=parts[3],amount=parseInt(parts[2],10),span=spans[unit];span&&(opt.display=isLast?"Last ":"Next ",opt.display+=amount+" "+span.display,opt.section=span.section,amount>1&&(opt.display+="s"))}else opt.display=opt.from+" to "+opt.to,opt.invalid=!0;return opt}function describeTimeRange(range,timeZone){var option=rangeIndex[range.from.toString()+" to "+range.to.toString()];if(option)return option.display;var options={timeZone:timeZone};if((0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(range.from)&&(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(range.to))return(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.LE)(range.from,options)+" to "+(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.LE)(range.to,options);if((0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(range.from)){var parsed=_datemath__WEBPACK_IMPORTED_MODULE_3__.qg(range.to,!0,"utc");return parsed?(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.LE)(range.from,options)+" to "+(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.fq)(parsed,options):""}if((0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(range.to)){var parsed1=_datemath__WEBPACK_IMPORTED_MODULE_3__.qg(range.from,!1,"utc");return parsed1?(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.fq)(parsed1,options)+" to "+(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.LE)(range.to,options):""}return"now"===range.to.toString()?describeTextRange(range.from).display:range.from.toString()+" to "+range.to.toString()}(0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)([{from:"now/d",to:"now/d",display:"Today"},{from:"now/d",to:"now",display:"Today so far"},{from:"now/w",to:"now/w",display:"This week"},{from:"now/w",to:"now",display:"This week so far"},{from:"now/M",to:"now/M",display:"This month"},{from:"now/M",to:"now",display:"This month so far"},{from:"now/y",to:"now/y",display:"This year"},{from:"now/y",to:"now",display:"This year so far"},{from:"now-1d/d",to:"now-1d/d",display:"Yesterday"},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday"},{from:"now-7d/d",to:"now-7d/d",display:"This day last week"},{from:"now-1w/w",to:"now-1w/w",display:"Previous week"},{from:"now-1M/M",to:"now-1M/M",display:"Previous month"},{from:"now-1Q/fQ",to:"now-1Q/fQ",display:"Previous fiscal quarter"},{from:"now-1y/y",to:"now-1y/y",display:"Previous year"},{from:"now-1y/fy",to:"now-1y/fy",display:"Previous fiscal year"},{from:"now-5m",to:"now",display:"Last 5 minutes"},{from:"now-15m",to:"now",display:"Last 15 minutes"},{from:"now-30m",to:"now",display:"Last 30 minutes"},{from:"now-1h",to:"now",display:"Last 1 hour"},{from:"now-3h",to:"now",display:"Last 3 hours"},{from:"now-6h",to:"now",display:"Last 6 hours"},{from:"now-12h",to:"now",display:"Last 12 hours"},{from:"now-24h",to:"now",display:"Last 24 hours"},{from:"now-2d",to:"now",display:"Last 2 days"},{from:"now-7d",to:"now",display:"Last 7 days"},{from:"now-30d",to:"now",display:"Last 30 days"},{from:"now-90d",to:"now",display:"Last 90 days"},{from:"now-6M",to:"now",display:"Last 6 months"},{from:"now-1y",to:"now",display:"Last 1 year"},{from:"now-2y",to:"now",display:"Last 2 years"},{from:"now-5y",to:"now",display:"Last 5 years"},{from:"now/fQ",to:"now",display:"This fiscal quarter so far"},{from:"now/fQ",to:"now/fQ",display:"This fiscal quarter"},{from:"now/fy",to:"now",display:"This fiscal year so far"},{from:"now/fy",to:"now/fy",display:"This fiscal year"}],(function(frame){rangeIndex[frame.from+" to "+frame.to]=frame})),(0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)([{from:"now",to:"now+1m",display:"Next minute"},{from:"now",to:"now+5m",display:"Next 5 minutes"},{from:"now",to:"now+15m",display:"Next 15 minutes"},{from:"now",to:"now+30m",display:"Next 30 minutes"},{from:"now",to:"now+1h",display:"Next hour"},{from:"now",to:"now+3h",display:"Next 3 hours"},{from:"now",to:"now+6h",display:"Next 6 hours"},{from:"now",to:"now+12h",display:"Next 12 hours"},{from:"now",to:"now+24h",display:"Next 24 hours"},{from:"now",to:"now+2d",display:"Next 2 days"},{from:"now",to:"now+7d",display:"Next 7 days"},{from:"now",to:"now+30d",display:"Next 30 days"},{from:"now",to:"now+90d",display:"Next 90 days"},{from:"now",to:"now+6M",display:"Next 6 months"},{from:"now",to:"now+1y",display:"Next year"},{from:"now",to:"now+2y",display:"Next 2 years"},{from:"now",to:"now+5y",display:"Next 5 years"}],(function(frame){rangeIndex[frame.from+" to "+frame.to]=frame}));var describeTimeRangeAbbreviation=function(range,timeZone){if((0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(range.from))return(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.jw)(range.from,{timeZone:timeZone});var parsed=_datemath__WEBPACK_IMPORTED_MODULE_3__.qg(range.from,!0);return parsed?(0,_formatter__WEBPACK_IMPORTED_MODULE_2__.jw)(parsed,{timeZone:timeZone}):""},convertRawToRange=function(raw,timeZone,fiscalYearStartMonth,format){var from=(0,_parser__WEBPACK_IMPORTED_MODULE_4__.b)(raw.from,{roundUp:!1,timeZone:timeZone,fiscalYearStartMonth:fiscalYearStartMonth,format:format}),to=(0,_parser__WEBPACK_IMPORTED_MODULE_4__.b)(raw.to,{roundUp:!0,timeZone:timeZone,fiscalYearStartMonth:fiscalYearStartMonth,format:format});return _datemath__WEBPACK_IMPORTED_MODULE_3__.A_(raw.from)||_datemath__WEBPACK_IMPORTED_MODULE_3__.A_(raw.to)?{from:from,to:to,raw:raw}:{from:from,to:to,raw:{from:from,to:to}}};function isRelativeTime(v){return"string"==typeof v&&v.indexOf("now")>=0}function isFiscal(timeRange){return"string"==typeof timeRange.raw.from&&timeRange.raw.from.indexOf("f")>0||"string"==typeof timeRange.raw.to&&timeRange.raw.to.indexOf("f")>0}function isRelativeTimeRange(raw){return isRelativeTime(raw.from)||isRelativeTime(raw.to)}},"./src/components/Button/ButtonGroup.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{e:function(){return ButtonGroup}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ButtonGroup=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((function(_param,ref){var className=_param.className,children=_param.children,rest=_object_without_properties(_param,["className","children"]),styles=(0,_themes__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({ref:ref,className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)("button-group",styles.wrapper,className)},rest),{children:children}))}));ButtonGroup.displayName="ButtonGroup";var getStyles=function(theme){return{wrapper:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex","> .button-group:not(:first-child) > button, > button:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"> .button-group:not(:last-child) > button, > button:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0,borderRightWidth:0}})}};try{ButtonGroup.displayName="ButtonGroup",ButtonGroup.__docgenInfo={description:"",displayName:"ButtonGroup",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Button/ButtonGroup.tsx#ButtonGroup"]={docgenInfo:ButtonGroup.__docgenInfo,name:"ButtonGroup",path:"src/components/Button/ButtonGroup.tsx#ButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateTimePickers/TimeRangePicker.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$6:function(){return TimeRangePicker},_8:function(){return TimePickerButtonLabel}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_react_aria_dialog__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/dialog/dist/useDialog.mjs"),_react_aria_focus__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/@react-aria/focus/dist/FocusScope.mjs"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/useOverlay.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_grafana_data__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../grafana-data/src/datetime/rangeutil.ts"),_grafana_data__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../grafana-data/src/datetime/formatter.ts"),_grafana_data__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../grafana-data/src/datetime/timezones.ts"),_grafana_data__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../grafana-data/src/datetime/datemath.ts"),_grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/themes/ThemeContext.tsx"),_utils_i18n__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/utils/i18n.tsx"),_Button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Button/ButtonGroup.tsx"),_Modal_getModalStyles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Modal/getModalStyles.ts"),_ToolbarButton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/ToolbarButton/ToolbarButton.tsx"),_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/Tooltip/Tooltip.tsx"),_TimeRangePicker_TimePickerContent__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/DateTimePickers/TimeRangePicker/TimePickerContent.tsx"),_options__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/DateTimePickers/options.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TimeRangePicker(props){var _value_to,_useState=_sliced_to_array((0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),2),isOpen=_useState[0],setOpen=_useState[1],value=props.value,onMoveBackward=props.onMoveBackward,onMoveForward=props.onMoveForward,onZoom=props.onZoom,onError=props.onError,timeZone=props.timeZone,fiscalYearStartMonth=props.fiscalYearStartMonth,timeSyncButton=props.timeSyncButton,isSynced=props.isSynced,history=props.history,onChangeTimeZone=props.onChangeTimeZone,onChangeFiscalYearStartMonth=props.onChangeFiscalYearStartMonth,hideQuickRanges=props.hideQuickRanges,widthOverride=props.widthOverride,isOnCanvas=props.isOnCanvas,onToolbarTimePickerClick=props.onToolbarTimePickerClick,weekStart=props.weekStart;(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){isOpen&&onToolbarTimePickerClick&&onToolbarTimePickerClick()}),[isOpen,onToolbarTimePickerClick]);var overlayRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)(),buttonRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)(),_useOverlay=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_3__.e)({onClose:function(){setOpen(!1)},isDismissable:!0,isOpen:isOpen,shouldCloseOnInteractOutside:function(element){var _buttonRef_current;return!(null===(_buttonRef_current=buttonRef.current)||void 0===_buttonRef_current?void 0:_buttonRef_current.contains(element))}},overlayRef),overlayProps=_useOverlay.overlayProps,underlayProps=_useOverlay.underlayProps,dialogProps=(0,_react_aria_dialog__WEBPACK_IMPORTED_MODULE_4__.s)({},overlayRef).dialogProps,styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__.of)(getStyles),modalBackdrop=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__.of)(_Modal_getModalStyles__WEBPACK_IMPORTED_MODULE_6__.o).modalBackdrop,hasAbsolute=!_grafana_data__WEBPACK_IMPORTED_MODULE_7__.A3(value.raw.from)||!_grafana_data__WEBPACK_IMPORTED_MODULE_7__.A3(value.raw.to),variant=isSynced?"active":isOnCanvas?"canvas":"default",timePickerIcon=(null==value||null===(_value_to=value.to)||void 0===_value_to?void 0:_value_to.isBefore(value.from))?"exclamation-triangle":"clock-nine",currentTimeRange=formattedRange(value,timeZone);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_Button__WEBPACK_IMPORTED_MODULE_8__.e,{className:styles.container,children:[hasAbsolute&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_9__.I,{"aria-label":(0,_utils_i18n__WEBPACK_IMPORTED_MODULE_10__.t)("time-picker.range-picker.backwards-time-aria-label","Move time range backwards"),variant:variant,onClick:onMoveBackward,icon:"angle-left",narrow:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_11__.m,{ref:buttonRef,content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TimePickerTooltip,{timeRange:value,timeZone:timeZone}),placement:"bottom",interactive:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_9__.I,{"data-testid":_grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_12__.Tp.components.TimePicker.openButton,"aria-label":(0,_utils_i18n__WEBPACK_IMPORTED_MODULE_10__.t)("time-picker.range-picker.current-time-selected","Time range selected: {{currentTimeRange}}",{currentTimeRange:currentTimeRange}),"aria-controls":"TimePickerContent",onClick:function(){setOpen((function(prevState){return!prevState}))},icon:timePickerIcon,isOpen:isOpen,variant:variant,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TimePickerButtonLabel,_object_spread({},props))})}),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{"data-testid":_grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_12__.Tp.components.TimePicker.overlayContent,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",_object_spread({role:"presentation",className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(modalBackdrop,styles.backdrop)},underlayProps)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_aria_focus__WEBPACK_IMPORTED_MODULE_13__.n1,{contain:!0,autoFocus:!0,restoreFocus:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("section",_object_spread_props(_object_spread({className:styles.content,ref:overlayRef},overlayProps,dialogProps),{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TimeRangePicker_TimePickerContent__WEBPACK_IMPORTED_MODULE_14__.r,{timeZone:timeZone,fiscalYearStartMonth:fiscalYearStartMonth,value:value,onChange:function(timeRange){props.onChange(timeRange),setOpen(!1)},quickOptions:_options__WEBPACK_IMPORTED_MODULE_15__.o,history:history,showHistory:!0,widthOverride:widthOverride,onChangeTimeZone:onChangeTimeZone,onChangeFiscalYearStartMonth:onChangeFiscalYearStartMonth,hideQuickRanges:hideQuickRanges,onError:onError,weekStart:weekStart})}))})]}),timeSyncButton,hasAbsolute&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_9__.I,{"aria-label":(0,_utils_i18n__WEBPACK_IMPORTED_MODULE_10__.t)("time-picker.range-picker.forwards-time-aria-label","Move time range forwards"),onClick:onMoveForward,icon:"angle-right",narrow:!0,variant:variant}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_11__.m,{content:ZoomOutTooltip,placement:"bottom",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_9__.I,{"aria-label":(0,_utils_i18n__WEBPACK_IMPORTED_MODULE_10__.t)("time-picker.range-picker.zoom-out-button","Zoom out time range"),onClick:onZoom,icon:"search-minus",variant:variant})})]})}TimeRangePicker.displayName="TimeRangePicker";var ZoomOutTooltip=function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_utils_i18n__WEBPACK_IMPORTED_MODULE_10__.x,{i18nKey:"time-picker.range-picker.zoom-out-tooltip",children:["Time range zoom out ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{})," CTRL+Z"]})})},TimePickerTooltip=function(param){var timeRange=param.timeRange,timeZone=param.timeZone,styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__.of)(getLabelStyles);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,_grafana_data__WEBPACK_IMPORTED_MODULE_16__.LE)(timeRange.from,{timeZone:timeZone}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_utils_i18n__WEBPACK_IMPORTED_MODULE_10__.x,{i18nKey:"time-picker.range-picker.to",children:"to"})}),(0,_grafana_data__WEBPACK_IMPORTED_MODULE_16__.LE)(timeRange.to,{timeZone:timeZone}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.utc,children:(0,_grafana_data__WEBPACK_IMPORTED_MODULE_17__.le)(timeZone)})})]})},TimePickerButtonLabel=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)((function(param){var hideText=param.hideText,value=param.value,timeZone=param.timeZone,styles=(0,_themes_ThemeContext__WEBPACK_IMPORTED_MODULE_5__.of)(getLabelStyles);return hideText?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:styles.container,"aria-live":"polite","aria-atomic":"true",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:formattedRange(value,timeZone)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.utc,children:_grafana_data__WEBPACK_IMPORTED_MODULE_7__.M(value,timeZone)})]})}));TimePickerButtonLabel.displayName="TimePickerButtonLabel";var formattedRange=function(value,timeZone){var adjustedTimeRange={to:_grafana_data__WEBPACK_IMPORTED_MODULE_18__.A_(value.raw.to)?value.raw.to:value.to,from:_grafana_data__WEBPACK_IMPORTED_MODULE_18__.A_(value.raw.from)?value.raw.from:value.from};return _grafana_data__WEBPACK_IMPORTED_MODULE_7__.EQ(adjustedTimeRange,timeZone)},getStyles=function(theme){return{container:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({position:"relative",display:"flex",verticalAlign:"middle"}),backdrop:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(_define_property({display:"none"},theme.breakpoints.down("sm"),{display:"block"})),content:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(_define_property({position:"absolute",right:0,top:"116%",zIndex:theme.zIndex.dropdown},theme.breakpoints.down("sm"),{position:"fixed",right:"50%",top:"50%",transform:"translate(50%, -50%)",zIndex:theme.zIndex.modal}))}},getLabelStyles=function(theme){return{container:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({display:"flex",alignItems:"center",whiteSpace:"nowrap"}),utc:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({color:theme.v1.palette.orange,fontSize:theme.typography.size.sm,paddingLeft:"6px",lineHeight:"28px",verticalAlign:"bottom",fontWeight:theme.typography.fontWeightMedium})}};try{TimeRangePicker.displayName="TimeRangePicker",TimeRangePicker.__docgenInfo={description:"",displayName:"TimeRangePicker",props:{hideText:{defaultValue:null,description:"",name:"hideText",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TimeRange"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},fiscalYearStartMonth:{defaultValue:null,description:"",name:"fiscalYearStartMonth",required:!1,type:{name:"number"}},timeSyncButton:{defaultValue:null,description:"",name:"timeSyncButton",required:!1,type:{name:"Element"}},isSynced:{defaultValue:null,description:"",name:"isSynced",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(timeRange: TimeRange) => void"}},onChangeTimeZone:{defaultValue:null,description:"",name:"onChangeTimeZone",required:!0,type:{name:"(timeZone: string) => void"}},onChangeFiscalYearStartMonth:{defaultValue:null,description:"",name:"onChangeFiscalYearStartMonth",required:!1,type:{name:"((month: number) => void)"}},onMoveBackward:{defaultValue:null,description:"",name:"onMoveBackward",required:!0,type:{name:"() => void"}},onMoveForward:{defaultValue:null,description:"",name:"onMoveForward",required:!0,type:{name:"() => void"}},onZoom:{defaultValue:null,description:"",name:"onZoom",required:!0,type:{name:"() => void"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error?: string) => void)"}},history:{defaultValue:null,description:"",name:"history",required:!1,type:{name:"TimeRange[]"}},hideQuickRanges:{defaultValue:null,description:"",name:"hideQuickRanges",required:!1,type:{name:"boolean"}},widthOverride:{defaultValue:null,description:"",name:"widthOverride",required:!1,type:{name:"number"}},isOnCanvas:{defaultValue:null,description:"",name:"isOnCanvas",required:!1,type:{name:"boolean"}},onToolbarTimePickerClick:{defaultValue:null,description:"",name:"onToolbarTimePickerClick",required:!1,type:{name:"(() => void)"}},weekStart:{defaultValue:null,description:'Which day of the week the calendar should start on. Possible values: "saturday", "sunday" or "monday"',name:"weekStart",required:!1,type:{name:"enum",value:[{value:'"saturday"'},{value:'"sunday"'},{value:'"monday"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker.tsx#TimeRangePicker"]={docgenInfo:TimeRangePicker.__docgenInfo,name:"TimeRangePicker",path:"src/components/DateTimePickers/TimeRangePicker.tsx#TimeRangePicker"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateTimePickers/TimeRangePicker/TimePickerContent.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{r:function(){return TimePickerContent}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react=__webpack_require__("../../node_modules/react/index.js"),moment_wrapper=__webpack_require__("../grafana-data/src/datetime/moment_wrapper.ts"),rangeutil=__webpack_require__("../grafana-data/src/datetime/rangeutil.ts"),selectors=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),mixins=__webpack_require__("./src/themes/mixins.ts"),i18n=__webpack_require__("./src/utils/i18n.tsx"),FilterInput=__webpack_require__("./src/components/FilterInput/FilterInput.tsx"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),timezones=__webpack_require__("../grafana-data/src/datetime/timezones.ts"),Button=__webpack_require__("./src/components/Button/Button.tsx"),Combobox=__webpack_require__("./src/components/Combobox/Combobox.tsx"),Field=__webpack_require__("./src/components/Forms/Field.tsx"),TabsBar=__webpack_require__("./src/components/Tabs/TabsBar.tsx"),Tab=__webpack_require__("./src/components/Tabs/Tab.tsx"),TabContent=__webpack_require__("./src/components/Tabs/TabContent.tsx"),TimeZonePicker=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker.tsx"),TimeZoneDescription=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker/TimeZoneDescription.tsx"),TimeZoneOffset=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker/TimeZoneOffset.tsx"),TimeZoneTitle=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker/TimeZoneTitle.tsx"),options=__webpack_require__("./src/components/DateTimePickers/options.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var TimePickerFooter=function(props){var timeZone=props.timeZone,fiscalYearStartMonth=props.fiscalYearStartMonth,_props_timestamp=props.timestamp,timestamp=void 0===_props_timestamp?Date.now():_props_timestamp,onChangeTimeZone=props.onChangeTimeZone,onChangeFiscalYearStartMonth=props.onChangeFiscalYearStartMonth,_useState=_sliced_to_array((0,react.useState)(!1),2),isEditing=_useState[0],setEditing=_useState[1],_useState1=_sliced_to_array((0,react.useState)("tz"),2),editMode=_useState1[0],setEditMode=_useState1[1],timeSettingsId=(0,react.useId)(),timeZoneSettingsId=(0,react.useId)(),fiscalYearSettingsId=(0,react.useId)(),onToggleChangeTimeSettings=(0,react.useCallback)((function(event){event&&event.stopPropagation(),setEditing(!isEditing)}),[isEditing,setEditing]),style=(0,ThemeContext.of)(getStyle);if(!(0,lodash.isString)(timeZone))return null;var info=(0,timezones.QZ)(timeZone,timestamp);return info?(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("section",{"aria-label":(0,i18n.t)("time-picker.footer.time-zone-selection","Time zone selection"),className:style.container,children:[(0,jsx_runtime.jsxs)("div",{className:style.timeZoneContainer,children:[(0,jsx_runtime.jsxs)("div",{className:style.timeZone,children:[(0,jsx_runtime.jsx)(TimeZoneTitle.U,{title:info.name}),(0,jsx_runtime.jsx)("div",{className:style.spacer}),(0,jsx_runtime.jsx)(TimeZoneDescription.E,{info:info})]}),(0,jsx_runtime.jsx)(TimeZoneOffset.X,{timeZone:timeZone,timestamp:timestamp})]}),(0,jsx_runtime.jsx)("div",{className:style.spacer}),(0,jsx_runtime.jsx)(Button.$n,{"data-testid":selectors.Tp.components.TimeZonePicker.changeTimeSettingsButton,variant:"secondary",onClick:onToggleChangeTimeSettings,size:"sm","aria-expanded":isEditing,"aria-controls":timeSettingsId,icon:isEditing?"angle-up":"angle-down",children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.footer.change-settings-button",children:"Change time settings"})})]}),isEditing?(0,jsx_runtime.jsxs)("div",{className:style.editContainer,id:timeSettingsId,children:[(0,jsx_runtime.jsxs)(TabsBar.U,{children:[(0,jsx_runtime.jsx)(Tab.o,{label:(0,i18n.t)("time-picker.footer.time-zone-option","Time zone"),active:"tz"===editMode,onChangeTab:function(){setEditMode("tz")},"aria-controls":timeZoneSettingsId}),(0,jsx_runtime.jsx)(Tab.o,{label:(0,i18n.t)("time-picker.footer.fiscal-year-option","Fiscal year"),active:"fy"===editMode,onChangeTab:function(){setEditMode("fy")},"aria-controls":fiscalYearSettingsId})]}),(0,jsx_runtime.jsx)(TabContent.J,{children:"tz"===editMode?(0,jsx_runtime.jsx)("section",{role:"tabpanel","data-testid":selectors.Tp.components.TimeZonePicker.containerV2,id:timeZoneSettingsId,className:(0,emotion_css_esm.cx)(style.timeZoneContainer,style.timeSettingContainer),children:(0,jsx_runtime.jsx)(TimeZonePicker.U,{includeInternal:!0,onChange:function(timeZone){onToggleChangeTimeSettings(),(0,lodash.isString)(timeZone)&&onChangeTimeZone(timeZone)},onBlur:onToggleChangeTimeSettings,menuShouldPortal:!1})}):(0,jsx_runtime.jsx)("section",{role:"tabpanel","data-testid":selectors.Tp.components.TimeZonePicker.containerV2,id:fiscalYearSettingsId,className:(0,emotion_css_esm.cx)(style.timeZoneContainer,style.timeSettingContainer),children:(0,jsx_runtime.jsx)(Field.D,{className:style.fiscalYearField,label:(0,i18n.t)("time-picker.footer.fiscal-year-start","Fiscal year start month"),children:(0,jsx_runtime.jsx)(Combobox.G,{value:null!=fiscalYearStartMonth?fiscalYearStartMonth:null,options:options.Z,onChange:function(value){var _value_value;onChangeFiscalYearStartMonth&&onChangeFiscalYearStartMonth(null!==(_value_value=null==value?void 0:value.value)&&void 0!==_value_value?_value_value:0)}})})})})]}):null]}):null},getStyle=function(theme){return{container:(0,emotion_css_esm.AH)({borderTop:"1px solid ".concat(theme.colors.border.weak),padding:theme.spacing(1.5),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),editContainer:(0,emotion_css_esm.AH)({borderTop:"1px solid ".concat(theme.colors.border.weak),padding:theme.spacing(1.5),paddingTop:0,justifyContent:"space-between",alignItems:"center"}),spacer:(0,emotion_css_esm.AH)({marginLeft:"7px"}),timeSettingContainer:(0,emotion_css_esm.AH)({paddingTop:theme.spacing(1)}),fiscalYearField:(0,emotion_css_esm.AH)({marginBottom:0}),timeZoneContainer:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexGrow:1}),timeZone:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row",alignItems:"baseline",flexGrow:1})}};try{TimePickerFooter.displayName="TimePickerFooter",TimePickerFooter.__docgenInfo={description:"",displayName:"TimePickerFooter",props:{timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},fiscalYearStartMonth:{defaultValue:null,description:"",name:"fiscalYearStartMonth",required:!1,type:{name:"number"}},timestamp:{defaultValue:null,description:"",name:"timestamp",required:!1,type:{name:"number"}},onChangeTimeZone:{defaultValue:null,description:"",name:"onChangeTimeZone",required:!0,type:{name:"(timeZone: string) => void"}},onChangeFiscalYearStartMonth:{defaultValue:null,description:"",name:"onChangeFiscalYearStartMonth",required:!1,type:{name:"((month: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/TimePickerFooter.tsx#TimePickerFooter"]={docgenInfo:TimePickerFooter.__docgenInfo,name:"TimePickerFooter",path:"src/components/DateTimePickers/TimeRangePicker/TimePickerFooter.tsx#TimePickerFooter"})}catch(__react_docgen_typescript_loader_error){}var TimePickerTitle=__webpack_require__("./src/components/DateTimePickers/TimeRangePicker/TimePickerTitle.tsx"),parser=__webpack_require__("../grafana-data/src/datetime/parser.ts"),formatter=__webpack_require__("../grafana-data/src/datetime/formatter.ts"),Input=__webpack_require__("./src/components/Input/Input.tsx"),Tooltip=__webpack_require__("./src/components/Tooltip/Tooltip.tsx"),utils=__webpack_require__("./src/components/DateTimePickers/utils.ts"),useDialog=__webpack_require__("../../node_modules/@react-aria/dialog/dist/useDialog.mjs"),FocusScope=__webpack_require__("../../node_modules/@react-aria/focus/dist/FocusScope.mjs"),useOverlay=__webpack_require__("../../node_modules/@react-aria/overlays/dist/useOverlay.mjs"),useModal=__webpack_require__("../../node_modules/@react-aria/overlays/dist/useModal.mjs"),getModalStyles=__webpack_require__("./src/components/Modal/getModalStyles.ts"),CalendarBody=__webpack_require__("./src/components/DateTimePickers/TimeRangePicker/CalendarBody.tsx"),Stack=__webpack_require__("./src/components/Layout/Stack/Stack.tsx");function Footer(param){var onClose=param.onClose,onApply=param.onApply;return(0,jsx_runtime.jsxs)(Stack.B,{gap:2,justifyContent:"space-between",children:[(0,jsx_runtime.jsx)(Button.$n,{variant:"secondary",onClick:onClose,children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.calendar.cancel-button",children:"Cancel"})}),(0,jsx_runtime.jsx)(Button.$n,{onClick:onApply,children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.calendar.apply-button",children:"Apply time range"})})]})}Footer.displayName="Footer";try{Footer.displayName="Footer",Footer.__docgenInfo={description:"",displayName:"Footer",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"DateTime"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"DateTime"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onApply:{defaultValue:null,description:"",name:"onApply",required:!0,type:{name:"(e: FormEvent<HTMLButtonElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(from: DateTime, to: DateTime) => void"}},weekStart:{defaultValue:null,description:"",name:"weekStart",required:!1,type:{name:"enum",value:[{value:'"saturday"'},{value:'"sunday"'},{value:'"monday"'}]}},isFullscreen:{defaultValue:null,description:'When true, the calendar is rendered as a floating "tooltip" next to the input.\nWhen false, the calendar is rendered "fullscreen" in a modal. Yes. Don\'t ask.',name:"isFullscreen",required:!0,type:{name:"boolean"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},isReversed:{defaultValue:null,description:"",name:"isReversed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/CalendarFooter.tsx#Footer"]={docgenInfo:Footer.__docgenInfo,name:"Footer",path:"src/components/DateTimePickers/TimeRangePicker/CalendarFooter.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}var IconButton=__webpack_require__("./src/components/IconButton/IconButton.tsx");function Header(param){var onClose=param.onClose;return(0,jsx_runtime.jsxs)(Stack.B,{justifyContent:"space-between",children:[(0,jsx_runtime.jsx)(TimePickerTitle.e,{children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.calendar.select-time",children:"Select a time range"})}),(0,jsx_runtime.jsx)(IconButton.K,{"data-testid":selectors.Tp.components.TimePicker.calendar.closeButton,tooltip:(0,i18n.t)("time-picker.calendar.close","Close calendar"),name:"times",variant:"secondary",onClick:onClose})]})}Header.displayName="Header";try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"DateTime"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"DateTime"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onApply:{defaultValue:null,description:"",name:"onApply",required:!0,type:{name:"(e: FormEvent<HTMLButtonElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(from: DateTime, to: DateTime) => void"}},weekStart:{defaultValue:null,description:"",name:"weekStart",required:!1,type:{name:"enum",value:[{value:'"saturday"'},{value:'"sunday"'},{value:'"monday"'}]}},isFullscreen:{defaultValue:null,description:'When true, the calendar is rendered as a floating "tooltip" next to the input.\nWhen false, the calendar is rendered "fullscreen" in a modal. Yes. Don\'t ask.',name:"isFullscreen",required:!0,type:{name:"boolean"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},isReversed:{defaultValue:null,description:"",name:"isReversed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/CalendarHeader.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/DateTimePickers/TimeRangePicker/CalendarHeader.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function TimePickerCalendar(props){var theme=(0,ThemeContext.$j)(),modalBackdrop=(0,ThemeContext.of)(getModalStyles.o).modalBackdrop,styles=function(theme){var isReversed=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{container:(0,emotion_css_esm.AH)(_define_property({top:0,position:"absolute"},"".concat(isReversed?"left":"right"),"546px")),modalContainer:(0,emotion_css_esm.AH)({label:"modalContainer",margin:"0 auto"}),calendar:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"column",gap:theme.spacing(1),padding:theme.spacing(1),label:"calendar",boxShadow:theme.shadows.z3,backgroundColor:theme.colors.background.primary,border:"1px solid ".concat(theme.colors.border.weak),borderRadius:theme.shape.radius.default}),modal:(0,emotion_css_esm.AH)({label:"modal",boxShadow:theme.shadows.z3,left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)",zIndex:theme.zIndex.modal})}}(theme,props.isReversed),isOpen=props.isOpen,isFullscreenProp=props.isFullscreen,onClose=props.onClose,ref=(0,react.createRef)(),dialogProps=(0,useDialog.s)({"aria-label":selectors.Tp.components.TimePicker.calendar.label},ref).dialogProps,overlayProps=(0,useOverlay.e)({isDismissable:!0,isOpen:isOpen,onClose:onClose},ref).overlayProps,showInModal=!isFullscreenProp;if(!isOpen)return null;var calendar=(0,jsx_runtime.jsxs)("section",_object_spread_props(_object_spread({className:styles.calendar,ref:ref},overlayProps,dialogProps),{"data-testid":selectors.Tp.components.TimePicker.calendar.label,children:[(0,jsx_runtime.jsx)(Header,_object_spread({},props)),(0,jsx_runtime.jsx)(CalendarBody.nB,_object_spread({},props)),showInModal&&(0,jsx_runtime.jsx)(Footer,_object_spread({},props))]}));return showInModal?(0,jsx_runtime.jsxs)(useModal.Sf,{children:[(0,jsx_runtime.jsx)("div",{className:modalBackdrop}),(0,jsx_runtime.jsx)(FocusScope.n1,{contain:!0,autoFocus:!0,restoreFocus:!0,children:(0,jsx_runtime.jsx)("div",{className:styles.modal,children:(0,jsx_runtime.jsx)("div",{className:styles.modalContainer,children:calendar})})})]}):(0,jsx_runtime.jsx)(FocusScope.n1,{contain:!0,restoreFocus:!0,autoFocus:!0,children:(0,jsx_runtime.jsx)("div",{className:styles.container,children:calendar})})}var TimeRangePicker_TimePickerCalendar=(0,react.memo)(TimePickerCalendar);TimePickerCalendar.displayName="TimePickerCalendar";try{TimePickerCalendar.displayName="TimePickerCalendar",TimePickerCalendar.__docgenInfo={description:"",displayName:"TimePickerCalendar",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"DateTime"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"DateTime"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onApply:{defaultValue:null,description:"",name:"onApply",required:!0,type:{name:"(e: FormEvent<HTMLButtonElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(from: DateTime, to: DateTime) => void"}},weekStart:{defaultValue:null,description:"",name:"weekStart",required:!1,type:{name:"enum",value:[{value:'"saturday"'},{value:'"sunday"'},{value:'"monday"'}]}},isFullscreen:{defaultValue:null,description:'When true, the calendar is rendered as a floating "tooltip" next to the input.\nWhen false, the calendar is rendered "fullscreen" in a modal. Yes. Don\'t ask.',name:"isFullscreen",required:!0,type:{name:"boolean"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},isReversed:{defaultValue:null,description:"",name:"isReversed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/TimePickerCalendar.tsx#TimePickerCalendar"]={docgenInfo:TimePickerCalendar.__docgenInfo,name:"TimePickerCalendar",path:"src/components/DateTimePickers/TimeRangePicker/TimePickerCalendar.tsx#TimePickerCalendar"})}catch(__react_docgen_typescript_loader_error){}function TimeRangeContent_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function TimeRangeContent_sliced_to_array(arr,i){return function TimeRangeContent_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function TimeRangeContent_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function TimeRangeContent_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return TimeRangeContent_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TimeRangeContent_array_like_to_array(o,minLen)}(arr,i)||function TimeRangeContent_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var ERROR_MESSAGES_default=function(){return(0,i18n.t)("time-picker.range-content.default-error",'Please enter a past date or "now"')},ERROR_MESSAGES_range=function(){return(0,i18n.t)("time-picker.range-content.range-error",'"From" can\'t be after "To"')},TimeRangeContent=function(props){var value=props.value,_props_isFullscreen=props.isFullscreen,isFullscreen=void 0!==_props_isFullscreen&&_props_isFullscreen,timeZone=props.timeZone,onApplyFromProps=props.onApply,isReversed=props.isReversed,fiscalYearStartMonth=props.fiscalYearStartMonth,onError=props.onError,weekStart=props.weekStart,_valueToState=TimeRangeContent_sliced_to_array(valueToState(value.raw.from,value.raw.to,timeZone),2),fromValue=_valueToState[0],toValue=_valueToState[1],style=(0,ThemeContext.of)(TimeRangeContent_getStyles),_useState=TimeRangeContent_sliced_to_array((0,react.useState)(fromValue),2),from=_useState[0],setFrom=_useState[1],_useState1=TimeRangeContent_sliced_to_array((0,react.useState)(toValue),2),to=_useState1[0],setTo=_useState1[1],_useState2=TimeRangeContent_sliced_to_array((0,react.useState)(!1),2),isOpen=_useState2[0],setOpen=_useState2[1],fromFieldId=(0,react.useId)(),toFieldId=(0,react.useId)();(0,react.useEffect)((function(){var _valueToState=TimeRangeContent_sliced_to_array(valueToState(value.raw.from,value.raw.to,timeZone),2),fromValue=_valueToState[0],toValue=_valueToState[1];setFrom(fromValue),setTo(toValue)}),[value.raw.from,value.raw.to,timeZone]);var _ref,onOpen=(0,react.useCallback)((function(event){event.preventDefault(),setOpen(!0)}),[setOpen]),onApply=(0,react.useCallback)((function(){if(!to.invalid&&!from.invalid){var raw={from:from.value,to:to.value},timeRange=rangeutil.Ep(raw,timeZone,fiscalYearStartMonth);onApplyFromProps(timeRange)}}),[from.invalid,from.value,onApplyFromProps,timeZone,to.invalid,to.value,fiscalYearStartMonth]),onChange=(0,react.useCallback)((function(from,to){var _valueToState=TimeRangeContent_sliced_to_array(valueToState(from,to,timeZone),2),fromValue=_valueToState[0],toValue=_valueToState[1];setFrom(fromValue),setTo(toValue)}),[timeZone]),submitOnEnter=function(event){"Enter"===event.key&&onApply()},onPaste=(_ref=function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}((function(){var raw,range,_valueToState,fromValue,toValue;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,navigator.clipboard.readText()];case 1:raw=_state.sent();try{range=JSON.parse(raw)}catch(error){return onError&&onError(raw),[2]}return _valueToState=TimeRangeContent_sliced_to_array(valueToState(range.from,range.to,timeZone),2),fromValue=_valueToState[0],toValue=_valueToState[1],setFrom(fromValue),setTo(toValue),[2]}}))})),function onPaste(){return _ref.apply(this,arguments)}),fiscalYear=rangeutil.Ep({from:"now/fy",to:"now/fy"},timeZone,fiscalYearStartMonth),fiscalYearMessage=(0,i18n.t)("time-picker.range-content.fiscal-year","Fiscal year"),fyTooltip=(0,jsx_runtime.jsx)("div",{className:style.tooltip,children:rangeutil.Rv(value)?(0,jsx_runtime.jsx)(Tooltip.m,{content:"".concat(fiscalYearMessage,": ").concat(fiscalYear.from.format("MMM-DD")," - ").concat(fiscalYear.to.format("MMM-DD")),children:(0,jsx_runtime.jsx)(Icon.I,{name:"info-circle"})}):null}),icon=(0,jsx_runtime.jsx)(Button.$n,{"aria-label":(0,i18n.t)("time-picker.range-content.open-input-calendar","Open calendar"),"data-testid":selectors.Tp.components.TimePicker.calendar.openButton,icon:"calendar-alt",variant:"secondary",type:"button",onClick:onOpen});return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:style.fieldContainer,children:[(0,jsx_runtime.jsx)(Field.D,{label:(0,i18n.t)("time-picker.range-content.from-input","From"),invalid:from.invalid,error:from.errorMessage,children:(0,jsx_runtime.jsx)(Input.p,{id:fromFieldId,onClick:function(event){return event.stopPropagation()},onChange:function(event){return onChange(event.currentTarget.value,to.value)},addonAfter:icon,onKeyDown:submitOnEnter,"data-testid":selectors.Tp.components.TimePicker.fromField,value:from.value})}),fyTooltip]}),(0,jsx_runtime.jsxs)("div",{className:style.fieldContainer,children:[(0,jsx_runtime.jsx)(Field.D,{label:(0,i18n.t)("time-picker.range-content.to-input","To"),invalid:to.invalid,error:to.errorMessage,children:(0,jsx_runtime.jsx)(Input.p,{id:toFieldId,onClick:function(event){return event.stopPropagation()},onChange:function(event){return onChange(from.value,event.currentTarget.value)},addonAfter:icon,onKeyDown:submitOnEnter,"data-testid":selectors.Tp.components.TimePicker.toField,value:to.value})}),fyTooltip]}),(0,jsx_runtime.jsxs)("div",{className:style.buttonsContainer,children:[(0,jsx_runtime.jsx)(Button.$n,{"data-testid":selectors.Tp.components.TimePicker.copyTimeRange,icon:"copy",variant:"secondary",tooltip:(0,i18n.t)("time-picker.copy-paste.tooltip-copy","Copy time range to clipboard"),type:"button",onClick:function(){var raw={from:from.value,to:to.value};navigator.clipboard.writeText(JSON.stringify(raw))}}),(0,jsx_runtime.jsx)(Button.$n,{"data-testid":selectors.Tp.components.TimePicker.pasteTimeRange,icon:"clipboard-alt",variant:"secondary",tooltip:(0,i18n.t)("time-picker.copy-paste.tooltip-paste","Paste time range"),type:"button",onClick:onPaste}),(0,jsx_runtime.jsx)(Button.$n,{"data-testid":selectors.Tp.components.TimePicker.applyTimeRange,type:"button",onClick:onApply,children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.range-content.apply-button",children:"Apply time range"})})]}),(0,jsx_runtime.jsx)(TimeRangePicker_TimePickerCalendar,{isFullscreen:isFullscreen,isOpen:isOpen,from:(0,parser.b)(from.value,{timeZone:timeZone}),to:(0,parser.b)(to.value,{timeZone:timeZone}),onApply:onApply,onClose:function(){return setOpen(!1)},onChange:onChange,timeZone:timeZone,isReversed:isReversed,weekStart:weekStart})]})};function valueToState(rawFrom,rawTo,timeZone){var fromValue=valueAsString(rawFrom,timeZone),toValue=valueAsString(rawTo,timeZone),fromInvalid=!(0,utils.f)(fromValue,!1,timeZone),toInvalid=!(0,utils.f)(toValue,!0,timeZone),rangeInvalid=function isRangeInvalid(from,to,timezone){var raw={from:from,to:to},timeRange=rangeutil.Ep(raw,timezone);return!(timeRange.from.isSame(timeRange.to)||timeRange.from.isBefore(timeRange.to))}(fromValue,toValue,timeZone)&&!toInvalid;return[{value:fromValue,invalid:fromInvalid||rangeInvalid,errorMessage:rangeInvalid&&!fromInvalid?ERROR_MESSAGES_range():ERROR_MESSAGES_default()},{value:toValue,invalid:toInvalid,errorMessage:ERROR_MESSAGES_default()}]}function valueAsString(value,timeZone){if((0,moment_wrapper.Ar)(value))return(0,formatter.LE)(value,{timeZone:timeZone});if(value.endsWith("Z")){var dt=(0,parser.b)(value,{timeZone:"utc"});return(0,formatter.LE)(dt,{timeZone:timeZone})}return value}function TimeRangeContent_getStyles(theme){return{fieldContainer:(0,emotion_css_esm.AH)({display:"flex"}),buttonsContainer:(0,emotion_css_esm.AH)({display:"flex",gap:theme.spacing(.5),marginTop:theme.spacing(1)}),tooltip:(0,emotion_css_esm.AH)({paddingLeft:theme.spacing(1),paddingTop:theme.spacing(3)})}}try{TimeRangeContent.displayName="TimeRangeContent",TimeRangeContent.__docgenInfo={description:"",displayName:"TimeRangeContent",props:{isFullscreen:{defaultValue:null,description:"",name:"isFullscreen",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TimeRange"}},onApply:{defaultValue:null,description:"",name:"onApply",required:!0,type:{name:"(range: TimeRange) => void"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},fiscalYearStartMonth:{defaultValue:null,description:"",name:"fiscalYearStartMonth",required:!1,type:{name:"number"}},roundup:{defaultValue:null,description:"",name:"roundup",required:!1,type:{name:"boolean"}},isReversed:{defaultValue:null,description:"",name:"isReversed",required:!1,type:{name:"boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error?: string) => void)"}},weekStart:{defaultValue:null,description:"",name:"weekStart",required:!1,type:{name:"enum",value:[{value:'"saturday"'},{value:'"sunday"'},{value:'"monday"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/TimeRangeContent.tsx#TimeRangeContent"]={docgenInfo:TimeRangeContent.__docgenInfo,name:"TimeRangeContent",path:"src/components/DateTimePickers/TimeRangePicker/TimeRangeContent.tsx#TimeRangeContent"})}catch(__react_docgen_typescript_loader_error){}var TimeRangeList=__webpack_require__("./src/components/DateTimePickers/TimeRangePicker/TimeRangeList.tsx"),mapOptionToTimeRange=function(option,timeZone){return rangeutil.Ep({from:option.from,to:option.to},timeZone)};function TimePickerContent_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TimePickerContent_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function TimePickerContent_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){TimePickerContent_define_property(target,key,source[key])}))}return target}function TimePickerContent_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function TimePickerContent_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function TimePickerContent_sliced_to_array(arr,i){return function TimePickerContent_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function TimePickerContent_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function TimePickerContent_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return TimePickerContent_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TimePickerContent_array_like_to_array(o,minLen)}(arr,i)||function TimePickerContent_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var TimePickerContentWithScreenSize=function(props){var _props_quickOptions=props.quickOptions,quickOptions=void 0===_props_quickOptions?[]:_props_quickOptions,isReversed=props.isReversed,isFullscreen=props.isFullscreen,hideQuickRanges=props.hideQuickRanges,timeZone=props.timeZone,fiscalYearStartMonth=props.fiscalYearStartMonth,value=props.value,onChange=props.onChange,history=props.history,showHistory=props.showHistory,className=props.className,hideTimeZone=props.hideTimeZone,onChangeTimeZone=props.onChangeTimeZone,onChangeFiscalYearStartMonth=props.onChangeFiscalYearStartMonth,isHistoryEmpty=!(null==history?void 0:history.length),isContainerTall=isFullscreen&&showHistory||!isFullscreen&&(showHistory&&!isHistoryEmpty||!hideQuickRanges),styles=(0,ThemeContext.of)(TimePickerContent_getStyles,isReversed,hideQuickRanges,isContainerTall,isFullscreen),historyOptions=function mapToHistoryOptions(ranges,timeZone){if(!Array.isArray(ranges)||0===ranges.length)return[];return ranges.map((function(range){return function(range,timeZone){var from=(0,formatter.LE)(range.from,{timeZone:timeZone}),to=(0,formatter.LE)(range.to,{timeZone:timeZone});return{from:from,to:to,display:"".concat(from," to ").concat(to)}}(range,timeZone)}))}(history,timeZone),timeOption=useTimeOption(value.raw,quickOptions),_useState=TimePickerContent_sliced_to_array((0,react.useState)(""),2),searchTerm=_useState[0],setSearchQuery=_useState[1],filteredQuickOptions=quickOptions.filter((function(o){return o.display.toLowerCase().includes(searchTerm.toLowerCase())}));return(0,jsx_runtime.jsxs)("div",{id:"TimePickerContent",className:(0,emotion_css_esm.cx)(styles.container,className),children:[(0,jsx_runtime.jsxs)("div",{className:styles.body,children:[(!isFullscreen||!hideQuickRanges)&&(0,jsx_runtime.jsxs)("div",{className:styles.rightSide,children:[(0,jsx_runtime.jsx)("div",{className:styles.timeRangeFilter,children:(0,jsx_runtime.jsx)(FilterInput.Z,{width:0,value:searchTerm,onChange:setSearchQuery,placeholder:(0,i18n.t)("time-picker.content.filter-placeholder","Search quick ranges")})}),(0,jsx_runtime.jsxs)("div",{className:styles.scrollContent,children:[!isFullscreen&&(0,jsx_runtime.jsx)(NarrowScreenForm,TimePickerContent_object_spread_props(TimePickerContent_object_spread({},props),{historyOptions:historyOptions})),!hideQuickRanges&&(0,jsx_runtime.jsx)(TimeRangeList.l,{options:filteredQuickOptions,onChange:function(timeOption){return onChange(mapOptionToTimeRange(timeOption))},value:timeOption})]})]}),isFullscreen&&(0,jsx_runtime.jsx)("div",{className:styles.leftSide,children:(0,jsx_runtime.jsx)(FullScreenForm,TimePickerContent_object_spread_props(TimePickerContent_object_spread({},props),{historyOptions:historyOptions}))})]}),!hideTimeZone&&isFullscreen&&(0,jsx_runtime.jsx)(TimePickerFooter,{timeZone:timeZone,fiscalYearStartMonth:fiscalYearStartMonth,onChangeTimeZone:onChangeTimeZone,onChangeFiscalYearStartMonth:onChangeFiscalYearStartMonth})]})},TimePickerContent=function(props){var widthOverride=props.widthOverride,theme=(0,ThemeContext.$j)(),isFullscreen=(widthOverride||window.innerWidth)>=theme.breakpoints.values.lg;return(0,jsx_runtime.jsx)(TimePickerContentWithScreenSize,TimePickerContent_object_spread_props(TimePickerContent_object_spread({},props),{isFullscreen:isFullscreen}))},NarrowScreenForm=function(props){var value=props.value,hideQuickRanges=props.hideQuickRanges,onChange=props.onChange,timeZone=props.timeZone,_props_historyOptions=props.historyOptions,historyOptions=void 0===_props_historyOptions?[]:_props_historyOptions,showHistory=props.showHistory,onError=props.onError,weekStart=props.weekStart,styles=(0,ThemeContext.of)(getNarrowScreenStyles),isAbsolute=(0,moment_wrapper.Ar)(value.raw.from)||(0,moment_wrapper.Ar)(value.raw.to),_useState=TimePickerContent_sliced_to_array((0,react.useState)(!isAbsolute),2),collapsedFlag=_useState[0],setCollapsedFlag=_useState[1],collapsed=!hideQuickRanges&&collapsedFlag;return(0,jsx_runtime.jsxs)("fieldset",{children:[(0,jsx_runtime.jsx)("div",{className:styles.header,children:(0,jsx_runtime.jsxs)("button",{type:"button",className:styles.expandButton,onClick:function(){hideQuickRanges||setCollapsedFlag(!collapsed)},"data-testid":selectors.Tp.components.TimePicker.absoluteTimeRangeTitle,"aria-expanded":!collapsed,"aria-controls":"expanded-timerange",children:[(0,jsx_runtime.jsx)(TimePickerTitle.e,{children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.absolute.title",children:"Absolute time range"})}),!hideQuickRanges&&(0,jsx_runtime.jsx)(Icon.I,{name:collapsed?"angle-down":"angle-up"})]})}),!collapsed&&(0,jsx_runtime.jsxs)("div",{className:styles.body,id:"expanded-timerange",children:[(0,jsx_runtime.jsx)("div",{className:styles.form,children:(0,jsx_runtime.jsx)(TimeRangeContent,{value:value,onApply:onChange,timeZone:timeZone,isFullscreen:!1,onError:onError,weekStart:weekStart})}),showHistory&&(0,jsx_runtime.jsx)(TimeRangeList.l,{title:(0,i18n.t)("time-picker.absolute.recent-title","Recently used absolute ranges"),options:historyOptions,onChange:function(timeOption){return onChange(mapOptionToTimeRange(timeOption,timeZone))},placeholderEmpty:null})]})]})},FullScreenForm=function(props){var onChange=props.onChange,value=props.value,timeZone=props.timeZone,fiscalYearStartMonth=props.fiscalYearStartMonth,isReversed=props.isReversed,historyOptions=props.historyOptions,onError=props.onError,weekStart=props.weekStart,styles=(0,ThemeContext.of)(getFullScreenStyles,props.hideQuickRanges);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:styles.container,children:[(0,jsx_runtime.jsx)("div",{className:styles.title,"data-testid":selectors.Tp.components.TimePicker.absoluteTimeRangeTitle,children:(0,jsx_runtime.jsx)(TimePickerTitle.e,{children:(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.absolute.title",children:"Absolute time range"})})}),(0,jsx_runtime.jsx)(TimeRangeContent,{value:value,timeZone:timeZone,fiscalYearStartMonth:fiscalYearStartMonth,onApply:onChange,isFullscreen:!0,isReversed:isReversed,onError:onError,weekStart:weekStart})]}),props.showHistory&&(0,jsx_runtime.jsx)("div",{className:styles.recent,children:(0,jsx_runtime.jsx)(TimeRangeList.l,{title:(0,i18n.t)("time-picker.absolute.recent-title","Recently used absolute ranges"),options:historyOptions||[],onChange:function(timeOption){return onChange(mapOptionToTimeRange(timeOption,timeZone))},placeholderEmpty:(0,jsx_runtime.jsx)(EmptyRecentList,{})})})]})},EmptyRecentList=(0,react.memo)((function(){var styles=(0,ThemeContext.of)(getEmptyListStyles),emptyRecentListText=(0,i18n.t)("time-picker.content.empty-recent-list-info","It looks like you haven't used this time picker before. As soon as you enter some time intervals, recently used intervals will appear here.");return(0,jsx_runtime.jsxs)("div",{className:styles.container,children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("span",{children:emptyRecentListText})}),(0,jsx_runtime.jsx)(i18n.x,{i18nKey:"time-picker.content.empty-recent-list-docs",children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("a",{className:styles.link,href:"https://grafana.com/docs/grafana/latest/dashboards/time-range-controls",target:"_new",children:"Read the documentation"}),(0,jsx_runtime.jsx)("span",{children:" to find out more about how to enter custom time ranges."})]})})]})}));EmptyRecentList.displayName="EmptyRecentList";var useTimeOption=function(raw,quickOptions){return(0,react.useMemo)((function(){if(rangeutil.bB(raw))return quickOptions.find((function(option){return option.from===raw.from&&option.to===raw.to}))}),[raw,quickOptions])},TimePickerContent_getStyles=function(theme,isReversed,hideQuickRanges,isContainerTall,isFullscreen){var _obj;return{container:(0,emotion_css_esm.AH)((_obj={background:theme.colors.background.primary,boxShadow:theme.shadows.z3,width:"".concat(isFullscreen?"546px":"262px"),borderRadius:theme.shape.radius.default,border:"1px solid ".concat(theme.colors.border.weak)},TimePickerContent_define_property(_obj,"".concat(isReversed?"left":"right"),0),TimePickerContent_define_property(_obj,"display","flex"),TimePickerContent_define_property(_obj,"flexDirection","column"),_obj)),body:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row-reverse",height:"".concat(isContainerTall?"381px":"217px"),maxHeight:"100vh"}),leftSide:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"column",borderRight:"".concat(isReversed?"none":"1px solid ".concat(theme.colors.border.weak)),width:"".concat(hideQuickRanges?"100%":"60%"),overflow:"auto",scrollbarWidth:"thin",order:isReversed?1:0}),rightSide:(0,emotion_css_esm.AH)({width:"".concat(isFullscreen?"40%":"100%","; !important"),borderRight:isReversed?"1px solid ".concat(theme.colors.border.weak):"none",display:"flex",flexDirection:"column"}),timeRangeFilter:(0,emotion_css_esm.AH)({padding:theme.spacing(1)}),spacing:(0,emotion_css_esm.AH)({marginTop:"16px"}),scrollContent:(0,emotion_css_esm.AH)({overflowY:"auto",scrollbarWidth:"thin"})}},getNarrowScreenStyles=function(theme){return{header:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid ".concat(theme.colors.border.weak),padding:"7px 9px 7px 9px"}),expandButton:(0,emotion_css_esm.AH)({backgroundColor:"transparent",border:"none",display:"flex",width:"100%","&:focus-visible":(0,mixins.Hi)(theme)}),body:(0,emotion_css_esm.AH)({borderBottom:"1px solid ".concat(theme.colors.border.weak)}),form:(0,emotion_css_esm.AH)({padding:"7px 9px 7px 9px"})}},getFullScreenStyles=function(theme,hideQuickRanges){return{container:(0,emotion_css_esm.AH)({paddingTop:"9px",paddingLeft:"11px",paddingRight:hideQuickRanges?"11px":"20%"}),title:(0,emotion_css_esm.AH)({marginBottom:"11px"}),recent:(0,emotion_css_esm.AH)({flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"flex-end",paddingTop:theme.spacing(1)})}},getEmptyListStyles=function(theme){return{container:(0,emotion_css_esm.AH)({padding:"12px",margin:"12px","a, span":{fontSize:"13px"}}),link:(0,emotion_css_esm.AH)({color:theme.colors.text.link})}};try{TimePickerContentWithScreenSize.displayName="EmptyRecentList",TimePickerContentWithScreenSize.__docgenInfo={description:"",displayName:"EmptyRecentList",props:{isFullscreen:{defaultValue:null,description:"",name:"isFullscreen",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TimeRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(timeRange: TimeRange) => void"}},onChangeTimeZone:{defaultValue:null,description:"",name:"onChangeTimeZone",required:!0,type:{name:"(timeZone: string) => void"}},onChangeFiscalYearStartMonth:{defaultValue:null,description:"",name:"onChangeFiscalYearStartMonth",required:!1,type:{name:"((month: number) => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error?: string) => void)"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},fiscalYearStartMonth:{defaultValue:null,description:"",name:"fiscalYearStartMonth",required:!1,type:{name:"number"}},quickOptions:{defaultValue:null,description:"",name:"quickOptions",required:!1,type:{name:"TimeOption[]"}},history:{defaultValue:null,description:"",name:"history",required:!1,type:{name:"TimeRange[]"}},showHistory:{defaultValue:null,description:"",name:"showHistory",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},hideTimeZone:{defaultValue:null,description:"",name:"hideTimeZone",required:!1,type:{name:"boolean"}},isReversed:{defaultValue:null,description:"Reverse the order of relative and absolute range pickers. Used to left align the picker in forms",name:"isReversed",required:!1,type:{name:"boolean"}},hideQuickRanges:{defaultValue:null,description:"",name:"hideQuickRanges",required:!1,type:{name:"boolean"}},widthOverride:{defaultValue:null,description:"",name:"widthOverride",required:!1,type:{name:"number"}},weekStart:{defaultValue:null,description:"",name:"weekStart",required:!1,type:{name:"enum",value:[{value:'"saturday"'},{value:'"sunday"'},{value:'"monday"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/TimePickerContent.tsx#EmptyRecentList"]={docgenInfo:EmptyRecentList.__docgenInfo,name:"EmptyRecentList",path:"src/components/DateTimePickers/TimeRangePicker/TimePickerContent.tsx#EmptyRecentList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateTimePickers/TimeZonePicker.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U:function(){return TimeZonePicker}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),react=__webpack_require__("../../node_modules/react/index.js"),timezones=__webpack_require__("../grafana-data/src/datetime/timezones.ts"),i18n=__webpack_require__("./src/utils/i18n.tsx"),Select=__webpack_require__("./src/components/Select/Select.tsx"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),TimeZoneGroup=function(props){var children=props.children,label=props.label,styles=(0,ThemeContext.of)(getStyles);return label?(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:styles.header,children:(0,jsx_runtime.jsx)("span",{className:styles.label,children:label})}),children]}):(0,jsx_runtime.jsx)("div",{children:children})},getStyles=function(theme){return{header:(0,emotion_css_esm.AH)({padding:"7px 10px",width:"100%",borderTop:"1px solid ".concat(theme.colors.border.weak),textTransform:"capitalize"}),label:(0,emotion_css_esm.AH)({fontSize:theme.typography.size.sm,color:theme.colors.text.secondary,fontWeight:theme.typography.fontWeightMedium})}};try{TimeZoneGroup.displayName="TimeZoneGroup",TimeZoneGroup.__docgenInfo={description:"",displayName:"TimeZoneGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker/TimeZoneGroup.tsx#TimeZoneGroup"]={docgenInfo:TimeZoneGroup.__docgenInfo,name:"TimeZoneGroup",path:"src/components/DateTimePickers/TimeZonePicker/TimeZoneGroup.tsx#TimeZoneGroup"})}catch(__react_docgen_typescript_loader_error){}var TimeZoneOffset=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker/TimeZoneOffset.tsx"),selectors=__webpack_require__("../grafana-e2e-selectors/src/selectors/index.ts"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),TimeZoneDescription=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker/TimeZoneDescription.tsx"),TimeZoneTitle=__webpack_require__("./src/components/DateTimePickers/TimeZonePicker/TimeZoneTitle.tsx");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}var WideTimeZoneOption=function(props){var children=props.children,innerProps=props.innerProps,innerRef=props.innerRef,data=props.data,isSelected=props.isSelected,isFocused=props.isFocused,styles=(0,ThemeContext.of)(TimeZoneOption_getStyles),timestamp=Date.now(),containerStyles=(0,emotion_css_esm.cx)(styles.container,isFocused&&styles.containerFocused);if(!(0,lodash.isString)(data.value))return null;var timeZoneInfo=(0,timezones.QZ)(data.value,timestamp);return(0,jsx_runtime.jsx)("div",_object_spread_props(_object_spread({className:containerStyles},innerProps),{ref:innerRef,"data-testid":selectors.Tp.components.Select.option,children:(0,jsx_runtime.jsxs)("div",{className:(0,emotion_css_esm.cx)(styles.leftColumn,styles.row),children:[(0,jsx_runtime.jsxs)("div",{className:(0,emotion_css_esm.cx)(styles.leftColumn,styles.wideRow),children:[(0,jsx_runtime.jsx)(TimeZoneTitle.U,{title:children}),(0,jsx_runtime.jsx)("div",{className:styles.spacer}),(0,jsx_runtime.jsx)(TimeZoneDescription.E,{info:timeZoneInfo})]}),(0,jsx_runtime.jsxs)("div",{className:styles.rightColumn,children:[(0,jsx_runtime.jsx)(TimeZoneOffset.X,{timeZone:(null==timeZoneInfo?void 0:timeZoneInfo.ianaName)||data.value,timestamp:timestamp,className:"tz-utc-offset"}),isSelected&&(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(Icon.I,{name:"check"})})]})]})}))},CompactTimeZoneOption=function(props){var children=props.children,innerProps=props.innerProps,innerRef=props.innerRef,data=props.data,isSelected=props.isSelected,isFocused=props.isFocused,styles=(0,ThemeContext.of)(TimeZoneOption_getStyles),timestamp=Date.now(),containerStyles=(0,emotion_css_esm.cx)(styles.container,isFocused&&styles.containerFocused);if(!(0,lodash.isString)(data.value))return null;var timeZoneInfo=(0,timezones.QZ)(data.value,timestamp);return(0,jsx_runtime.jsx)("div",_object_spread_props(_object_spread({className:containerStyles},innerProps),{ref:innerRef,"data-testid":selectors.Tp.components.Select.option,children:(0,jsx_runtime.jsxs)("div",{className:styles.body,children:[(0,jsx_runtime.jsxs)("div",{className:styles.row,children:[(0,jsx_runtime.jsx)("div",{className:styles.leftColumn,children:(0,jsx_runtime.jsx)(TimeZoneTitle.U,{title:children})}),(0,jsx_runtime.jsx)("div",{className:styles.rightColumn,children:isSelected&&(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(Icon.I,{name:"check"})})})]}),(0,jsx_runtime.jsxs)("div",{className:styles.row,children:[(0,jsx_runtime.jsx)("div",{className:styles.leftColumn,children:(0,jsx_runtime.jsx)(TimeZoneDescription.E,{info:timeZoneInfo})}),(0,jsx_runtime.jsx)("div",{className:styles.rightColumn,children:(0,jsx_runtime.jsx)(TimeZoneOffset.X,{timestamp:timestamp,timeZone:(null==timeZoneInfo?void 0:timeZoneInfo.ianaName)||data.value,className:"tz-utc-offset"})})]})]})}))},TimeZoneOption_getStyles=function(theme){return{container:(0,emotion_css_esm.AH)({display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer",padding:"6px 8px 4px","&:hover":{background:theme.colors.action.hover}}),containerFocused:(0,emotion_css_esm.AH)({background:theme.colors.action.hover}),body:(0,emotion_css_esm.AH)({display:"flex",fontWeight:theme.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),row:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row"}),leftColumn:(0,emotion_css_esm.AH)({flexGrow:1,textOverflow:"ellipsis"}),rightColumn:(0,emotion_css_esm.AH)({justifyContent:"flex-end",alignItems:"center"}),wideRow:(0,emotion_css_esm.AH)({display:"flex",flexDirection:"row",alignItems:"baseline"}),spacer:(0,emotion_css_esm.AH)({marginLeft:"6px"})}};try{WideTimeZoneOption.displayName="WideTimeZoneOption",WideTimeZoneOption.__docgenInfo={description:"",displayName:"WideTimeZoneOption",props:{isFocused:{defaultValue:null,description:"",name:"isFocused",required:!0,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!0,type:{name:"boolean"}},innerProps:{defaultValue:null,description:"",name:"innerProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},innerRef:{defaultValue:null,description:"",name:"innerRef",required:!0,type:{name:"RefCallback<HTMLDivElement>"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SelectableZone"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker/TimeZoneOption.tsx#WideTimeZoneOption"]={docgenInfo:WideTimeZoneOption.__docgenInfo,name:"WideTimeZoneOption",path:"src/components/DateTimePickers/TimeZonePicker/TimeZoneOption.tsx#WideTimeZoneOption"})}catch(__react_docgen_typescript_loader_error){}try{CompactTimeZoneOption.displayName="CompactTimeZoneOption",CompactTimeZoneOption.__docgenInfo={description:"",displayName:"CompactTimeZoneOption",props:{isFocused:{defaultValue:null,description:"",name:"isFocused",required:!0,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!0,type:{name:"boolean"}},innerProps:{defaultValue:null,description:"",name:"innerProps",required:!0,type:{name:"DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>"}},innerRef:{defaultValue:null,description:"",name:"innerRef",required:!0,type:{name:"RefCallback<HTMLDivElement>"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SelectableZone"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker/TimeZoneOption.tsx#CompactTimeZoneOption"]={docgenInfo:CompactTimeZoneOption.__docgenInfo,name:"CompactTimeZoneOption",path:"src/components/DateTimePickers/TimeZonePicker/TimeZoneOption.tsx#CompactTimeZoneOption"})}catch(__react_docgen_typescript_loader_error){}var TimeZonePicker=function(props){var onChange=props.onChange,width=props.width,_props_autoFocus=props.autoFocus,autoFocus=void 0!==_props_autoFocus&&_props_autoFocus,onBlur=props.onBlur,value=props.value,_props_includeInternal=props.includeInternal,includeInternal=void 0!==_props_includeInternal&&_props_includeInternal,_props_disabled=props.disabled,disabled=void 0!==_props_disabled&&_props_disabled,inputId=props.inputId,_props_menuShouldPortal=props.menuShouldPortal,menuShouldPortal=void 0===_props_menuShouldPortal||_props_menuShouldPortal,_props_openMenuOnFocus=props.openMenuOnFocus,openMenuOnFocus=void 0===_props_openMenuOnFocus||_props_openMenuOnFocus,groupedTimeZones=useTimeZones(includeInternal),selected=useSelectedTimeZone(groupedTimeZones,value),filterBySearchIndex=useFilterBySearchIndex(),TimeZoneOption=width&&width<=45?CompactTimeZoneOption:WideTimeZoneOption,onChangeTz=(0,react.useCallback)((function(selectable){if(!selectable||!(0,lodash.isString)(selectable.value))return onChange(value);onChange(selectable.value)}),[onChange,value]);return(0,jsx_runtime.jsx)(Select.l6,{inputId:inputId,value:selected,placeholder:(0,i18n.t)("time-picker.zone.select-search-input","Type to search (country, city, abbreviation)"),autoFocus:autoFocus,menuShouldPortal:menuShouldPortal,openMenuOnFocus:openMenuOnFocus,width:width,filterOption:filterBySearchIndex,options:groupedTimeZones,onChange:onChangeTz,onBlur:onBlur,components:{Option:TimeZoneOption,Group:TimeZoneGroup},disabled:disabled,"aria-label":(0,i18n.t)("time-picker.zone.select-aria-label","Time zone picker")})},useTimeZones=function(includeInternal){var now=Date.now();return(0,timezones.U3)(includeInternal).map((function(group){var options=group.zones.reduce((function(options,zone){var info=(0,timezones.QZ)(zone,now);return info?(options.push({label:info.name,value:info.zone,searchIndex:getSearchIndex(info,now)}),options):options}),[]);return{label:group.name,options:options}}))},useSelectedTimeZone=function(groups,timeZone){return(0,react.useMemo)((function(){if(void 0!==timeZone){var tz=(0,lodash.toLower)(timeZone),group=groups.find((function(group){return group.label?tz.startsWith((0,lodash.toLower)(group.label)):isInternal(tz)}));return null==group?void 0:group.options.find((function(option){return(0,lodash.isEmpty)(tz)?option.value===timezones.g$.default:(0,lodash.toLower)(option.value)===tz}))}}),[groups,timeZone])},isInternal=function(timeZone){switch(timeZone){case timezones.g$.default:case timezones.g$.localBrowserTime:case timezones.g$.utc:return!0;default:return!1}},useFilterBySearchIndex=function(){return(0,react.useCallback)((function(option,searchQuery){return!(searchQuery&&option.data&&option.data.searchIndex)||option.data.searchIndex.indexOf((0,lodash.toLower)(searchQuery))>-1}),[])},getSearchIndex=function(info,timestamp){var parts=[(0,lodash.toLower)(info.name),(0,lodash.toLower)(info.abbreviation),(0,lodash.toLower)((0,TimeZoneOffset.t)(timestamp,info.zone))],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=info.countries[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var country=_step.value;parts.push((0,lodash.toLower)(country.name)),parts.push((0,lodash.toLower)(country.code))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return parts.join("|")};try{TimeZonePicker.displayName="TimeZonePicker",TimeZonePicker.__docgenInfo={description:"",displayName:"TimeZonePicker",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(timeZone?: string | undefined) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},includeInternal:{defaultValue:null,description:"",name:"includeInternal",required:!1,type:{name:"boolean | InternalTimeZones[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},menuShouldPortal:{defaultValue:null,description:"",name:"menuShouldPortal",required:!1,type:{name:"boolean"}},openMenuOnFocus:{defaultValue:null,description:"",name:"openMenuOnFocus",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker.tsx#TimeZonePicker"]={docgenInfo:TimeZonePicker.__docgenInfo,name:"TimeZonePicker",path:"src/components/DateTimePickers/TimeZonePicker.tsx#TimeZonePicker"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateTimePickers/TimeZonePicker/TimeZoneDescription.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:function(){return TimeZoneDescription}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_themes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),TimeZoneDescription=function(param){var info=param.info,styles=(0,_themes__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles),description=useDescription(info);return info?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:styles.description,children:description}):null},useDescription=function(info){return(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){var parts=[];if(!info)return"";if("Europe/Simferopol"===info.name)return"Ukraine, EEST";if(info.countries.length>0){var country=info.countries[0];parts.push(country.name)}return info.abbreviation&&parts.push(info.abbreviation),parts.join(", ")}),[info])},getStyles=function(theme){return{description:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({fontWeight:"normal",fontSize:theme.typography.size.sm,color:theme.colors.text.secondary,whiteSpace:"normal",textOverflow:"ellipsis"})}};try{TimeZoneDescription.displayName="TimeZoneDescription",TimeZoneDescription.__docgenInfo={description:"",displayName:"TimeZoneDescription",props:{info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"TimeZoneInfo"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker/TimeZoneDescription.tsx#TimeZoneDescription"]={docgenInfo:TimeZoneDescription.__docgenInfo,name:"TimeZoneDescription",path:"src/components/DateTimePickers/TimeZonePicker/TimeZoneDescription.tsx#TimeZoneDescription"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateTimePickers/TimeZonePicker/TimeZoneOffset.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return TimeZoneOffset},t:function(){return formatUtcOffset}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/lodash/lodash.js"),_grafana_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../grafana-data/src/datetime/formatter.ts"),_themes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/themes/ThemeContext.tsx"),TimeZoneOffset=function(props){var timestamp=props.timestamp,timeZone=props.timeZone,className=props.className,styles=(0,_themes__WEBPACK_IMPORTED_MODULE_3__.of)(getStyles);return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(timeZone)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.offset,className),children:formatUtcOffset(timestamp,timeZone)})}):null},formatUtcOffset=function(timestamp,timeZone){var offset=(0,_grafana_data__WEBPACK_IMPORTED_MODULE_4__.LE)(timestamp,{timeZone:timeZone,format:"Z"});return"UTC".concat(offset)},getStyles=function(theme){var textBase=(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({fontWeight:"normal",fontSize:theme.typography.size.sm,color:theme.colors.text.secondary,whiteSpace:"normal"});return{offset:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)(textBase,{color:theme.colors.text.primary,background:theme.colors.background.secondary,padding:"2px 5px",borderRadius:theme.shape.radius.default,marginLeft:"4px"})}};try{TimeZoneOffset.displayName="TimeZoneOffset",TimeZoneOffset.__docgenInfo={description:"",displayName:"TimeZoneOffset",props:{timestamp:{defaultValue:null,description:"",name:"timestamp",required:!0,type:{name:"number"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!0,type:{name:"string | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker/TimeZoneOffset.tsx#TimeZoneOffset"]={docgenInfo:TimeZoneOffset.__docgenInfo,name:"TimeZoneOffset",path:"src/components/DateTimePickers/TimeZonePicker/TimeZoneOffset.tsx#TimeZoneOffset"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateTimePickers/TimeZonePicker/TimeZoneTitle.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U:function(){return TimeZoneTitle}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/themes/ThemeContext.tsx"),TimeZoneTitle=function(param){var title=param.title,styles=(0,_themes__WEBPACK_IMPORTED_MODULE_2__.of)(getStyles);return title?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:styles.title,children:title}):null},getStyles=function(theme){return{title:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({fontWeight:theme.typography.fontWeightRegular,textOverflow:"ellipsis"})}};try{TimeZoneTitle.displayName="TimeZoneTitle",TimeZoneTitle.__docgenInfo={description:"",displayName:"TimeZoneTitle",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeZonePicker/TimeZoneTitle.tsx#TimeZoneTitle"]={docgenInfo:TimeZoneTitle.__docgenInfo,name:"TimeZoneTitle",path:"src/components/DateTimePickers/TimeZonePicker/TimeZoneTitle.tsx#TimeZoneTitle"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Tabs/TabContent.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{J:function(){return TabContent}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_emotion_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),_themes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/themes/ThemeContext.tsx");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var TabContent=function(_param){var children=_param.children,className=_param.className,restProps=_object_without_properties(_param,["children","className"]),styles=(0,_themes__WEBPACK_IMPORTED_MODULE_2__.of)(getTabContentStyle);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({},restProps),{className:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.tabContent,className),children:children}))},getTabContentStyle=function(theme){return{tabContent:(0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.AH)({background:theme.colors.background.primary})}};try{TabContent.displayName="TabContent",TabContent.__docgenInfo={description:"",displayName:"TabContent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tabs/TabContent.tsx#TabContent"]={docgenInfo:TabContent.__docgenInfo,name:"TabContent",path:"src/components/Tabs/TabContent.tsx#TabContent"})}catch(__react_docgen_typescript_loader_error){}}}]);