"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[8130],{"../grafana-data/src/field/fieldColor.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Hs:function(){return getFieldColorMode},Qi:function(){return getFieldColorModeForField},uf:function(){return fieldColorModeRegistry}});var d3_interpolate__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/d3-interpolate/src/rgb.js"),string_hash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/string-hash/index.js"),string_hash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(string_hash__WEBPACK_IMPORTED_MODULE_0__),tinycolor2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/tinycolor2/esm/tinycolor.js"),_themes_colorManipulator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../grafana-data/src/themes/colorManipulator.ts"),_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../grafana-data/src/types/fieldColor.ts"),_utils_Registry__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../grafana-data/src/utils/Registry.ts"),_thresholds__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../grafana-data/src/field/thresholds.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var fieldColorModeRegistry=new _utils_Registry__WEBPACK_IMPORTED_MODULE_2__.O((function(){return[{id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.Fixed,name:"Single color",description:"Set a specific color",getCalculator:getFixedColor},{id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.Shades,name:"Shades of a color",description:"Select shades of a specific color",getCalculator:getShadedColor},{id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.Thresholds,name:"From thresholds",isByValue:!0,description:"Derive colors from thresholds",getCalculator:function(_field,theme){return function(_value,_percent,threshold){var thresholdSafe=null!=threshold?threshold:_thresholds__WEBPACK_IMPORTED_MODULE_4__.QS;return theme.visualization.getColorByName(thresholdSafe.color)}}},new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.PaletteClassic,name:"Classic palette",isContinuous:!1,isByValue:!1,getColors:function(theme){return theme.visualization.palette}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.PaletteClassicByName,name:"Classic palette (by series name)",isContinuous:!1,isByValue:!1,useSeriesName:!0,getColors:function(theme){return theme.visualization.palette.filter((function(color){return(0,_themes_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.eM)(theme.visualization.getColorByName(color),theme.colors.background.primary)>=theme.colors.contrastThreshold}))}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousGrYlRd,name:"Green-Yellow-Red",isContinuous:!0,isByValue:!0,getColors:function(theme){return["green","yellow","red"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousRdYlGr,name:"Red-Yellow-Green",isContinuous:!0,isByValue:!0,getColors:function(theme){return["red","yellow","green"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousBlYlRd,name:"Blue-Yellow-Red",isContinuous:!0,isByValue:!0,getColors:function(theme){return["dark-blue","super-light-yellow","dark-red"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousYlRd,name:"Yellow-Red",isContinuous:!0,isByValue:!0,getColors:function(theme){return["super-light-yellow","dark-red"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousBlPu,name:"Blue-Purple",isContinuous:!0,isByValue:!0,getColors:function(theme){return["blue","purple"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousYlBl,name:"Yellow-Blue",isContinuous:!0,isByValue:!0,getColors:function(theme){return["super-light-yellow","dark-blue"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousBlues,name:"Blues",isContinuous:!0,isByValue:!0,getColors:function(theme){return["panel-bg","dark-blue"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousReds,name:"Reds",isContinuous:!0,isByValue:!0,getColors:function(theme){return["panel-bg","dark-red"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousGreens,name:"Greens",isContinuous:!0,isByValue:!0,getColors:function(theme){return["panel-bg","dark-green"]}}),new FieldColorSchemeMode({id:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.ContinuousPurples,name:"Purples",isContinuous:!0,isByValue:!0,getColors:function(theme){return["panel-bg","dark-purple"]}})]})),FieldColorSchemeMode=function(){function FieldColorSchemeMode(options){!function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FieldColorSchemeMode),_define_property(this,"id",void 0),_define_property(this,"name",void 0),_define_property(this,"description",void 0),_define_property(this,"isContinuous",void 0),_define_property(this,"isByValue",void 0),_define_property(this,"useSeriesName",void 0),_define_property(this,"colorCache",void 0),_define_property(this,"colorCacheTheme",void 0),_define_property(this,"interpolator",void 0),_define_property(this,"getNamedColors",void 0),this.id=options.id,this.name=options.name,this.description=options.description,this.getNamedColors=options.getColors,this.isContinuous=options.isContinuous,this.isByValue=options.isByValue,this.useSeriesName=options.useSeriesName}return function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FieldColorSchemeMode,[{key:"getColors",value:function getColors(theme){return this.getNamedColors?(this.colorCache&&this.colorCacheTheme===theme||(this.colorCache=this.getNamedColors(theme).map(theme.visualization.getColorByName),this.colorCacheTheme=theme),this.colorCache):[]}},{key:"getInterpolator",value:function getInterpolator(){return this.interpolator||(this.interpolator=(0,d3_interpolate__WEBPACK_IMPORTED_MODULE_6__.Ik)(this.colorCache)),this.interpolator}},{key:"getCalculator",value:function getCalculator(field,theme){var _this=this,colors=this.getColors(theme);return this.isByValue?this.isContinuous?function(_,percent,_threshold){return _this.getInterpolator()(percent)}:function(_,percent,_threshold){return colors[percent*(colors.length-1)]}:this.useSeriesName?function(_,_percent,_threshold){var _field_state,_field_state_displayName;return colors[Math.abs(string_hash__WEBPACK_IMPORTED_MODULE_0___default()(null!==(_field_state_displayName=null===(_field_state=field.state)||void 0===_field_state?void 0:_field_state.displayName)&&void 0!==_field_state_displayName?_field_state_displayName:field.name))%colors.length]}:function(_,_percent,_threshold){var _field_state,_field_state_seriesIndex,seriesIndex=null!==(_field_state_seriesIndex=null===(_field_state=field.state)||void 0===_field_state?void 0:_field_state.seriesIndex)&&void 0!==_field_state_seriesIndex?_field_state_seriesIndex:0;return colors[seriesIndex%colors.length]}}}]),FieldColorSchemeMode}();function getFieldColorModeForField(field){var _field_config_color,_field_config_color_mode;return fieldColorModeRegistry.get(null!==(_field_config_color_mode=null===(_field_config_color=field.config.color)||void 0===_field_config_color?void 0:_field_config_color.mode)&&void 0!==_field_config_color_mode?_field_config_color_mode:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.Thresholds)}function getFieldColorMode(mode){return fieldColorModeRegistry.get(null!=mode?mode:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.Y.Thresholds)}function getFixedColor(field,theme){return function(){var _field_config_color,_field_config_color_fixedColor;return theme.visualization.getColorByName(null!==(_field_config_color_fixedColor=null===(_field_config_color=field.config.color)||void 0===_field_config_color?void 0:_field_config_color.fixedColor)&&void 0!==_field_config_color_fixedColor?_field_config_color_fixedColor:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.F)}}function getShadedColor(field,theme){return function(){for(var _field_config_color,_field_state,_field_config_color_fixedColor,_field_state_seriesIndex,baseColorString=theme.visualization.getColorByName(null!==(_field_config_color_fixedColor=null===(_field_config_color=field.config.color)||void 0===_field_config_color?void 0:_field_config_color.fixedColor)&&void 0!==_field_config_color_fixedColor?_field_config_color_fixedColor:_types_fieldColor__WEBPACK_IMPORTED_MODULE_3__.F),colors=[baseColorString],i=1;i<6;i++)colors.push((0,tinycolor2__WEBPACK_IMPORTED_MODULE_1__.A)(baseColorString).spin(i/6*10).brighten(i/6*35).toHexString()),colors.push((0,tinycolor2__WEBPACK_IMPORTED_MODULE_1__.A)(baseColorString).spin(-i/6*10).darken(i/6*35).toHexString());return colors[(null!==(_field_state_seriesIndex=null===(_field_state=field.state)||void 0===_field_state?void 0:_field_state.seriesIndex)&&void 0!==_field_state_seriesIndex?_field_state_seriesIndex:0)%colors.length]}}},"../grafana-data/src/field/thresholds.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{QS:function(){return fallBackThreshold},k5:function(){return getActiveThresholdForValue}});var _types_fieldColor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../grafana-data/src/types/fieldColor.ts"),_types_thresholds__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../grafana-data/src/types/thresholds.ts"),fallBackThreshold={value:0,color:_types_fieldColor__WEBPACK_IMPORTED_MODULE_0__.F};function getActiveThreshold(value,thresholds){if(!thresholds||0===thresholds.length)return fallBackThreshold;var active=thresholds[0],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=thresholds[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var threshold=_step.value;if(!(value>=threshold.value))break;active=threshold}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return active}function getActiveThresholdForValue(field,value,percent){var thresholds=field.config.thresholds;return(null==thresholds?void 0:thresholds.mode)===_types_thresholds__WEBPACK_IMPORTED_MODULE_1__.O.Percentage?getActiveThreshold(100*percent,null==thresholds?void 0:thresholds.steps):getActiveThreshold(value,null==thresholds?void 0:thresholds.steps)}},"../grafana-data/src/types/plugin.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var PluginState,PluginType,PluginSignatureStatus,PluginSignatureType,PluginErrorCode,PluginLoadingStrategy,PluginIncludeType;__webpack_require__.d(__webpack_exports__,{Ac:function(){return PluginSignatureStatus},kv:function(){return PluginSignatureType},pn:function(){return PluginState}}),function(PluginState){PluginState.alpha="alpha",PluginState.beta="beta",PluginState.stable="stable",PluginState.deprecated="deprecated"}(PluginState||(PluginState={})),function(PluginType){PluginType.panel="panel",PluginType.datasource="datasource",PluginType.app="app",PluginType.renderer="renderer",PluginType.secretsmanager="secretsmanager"}(PluginType||(PluginType={})),function(PluginSignatureStatus){PluginSignatureStatus.internal="internal",PluginSignatureStatus.valid="valid",PluginSignatureStatus.invalid="invalid",PluginSignatureStatus.modified="modified",PluginSignatureStatus.missing="missing"}(PluginSignatureStatus||(PluginSignatureStatus={})),function(PluginSignatureType){PluginSignatureType.grafana="grafana",PluginSignatureType.commercial="commercial",PluginSignatureType.community="community",PluginSignatureType.private="private",PluginSignatureType.core="core"}(PluginSignatureType||(PluginSignatureType={})),function(PluginErrorCode){PluginErrorCode.missingSignature="signatureMissing",PluginErrorCode.invalidSignature="signatureInvalid",PluginErrorCode.modifiedSignature="signatureModified",PluginErrorCode.failedBackendStart="failedBackendStart",PluginErrorCode.angular="angular"}(PluginErrorCode||(PluginErrorCode={})),function(PluginLoadingStrategy){PluginLoadingStrategy.fetch="fetch",PluginLoadingStrategy.script="script"}(PluginLoadingStrategy||(PluginLoadingStrategy={})),function(PluginIncludeType){PluginIncludeType.dashboard="dashboard",PluginIncludeType.page="page",PluginIncludeType.panel="panel",PluginIncludeType.datasource="datasource"}(PluginIncludeType||(PluginIncludeType={}))},"../grafana-data/src/types/thresholds.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var ThresholdsMode;__webpack_require__.d(__webpack_exports__,{O:function(){return ThresholdsMode}}),function(ThresholdsMode){ThresholdsMode.Absolute="absolute",ThresholdsMode.Percentage="percentage"}(ThresholdsMode||(ThresholdsMode={}))},"../grafana-data/src/utils/Registry.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{O:function(){return Registry}});var _types_plugin__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../grafana-data/src/types/plugin.ts");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Registry=function(){function Registry(init){var _this=this;!function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Registry),_define_property(this,"init",void 0),_define_property(this,"ordered",void 0),_define_property(this,"byId",void 0),_define_property(this,"initialized",void 0),_define_property(this,"setInit",void 0),this.init=init,this.ordered=[],this.byId=new Map,this.initialized=!1,this.setInit=function(init){if(_this.initialized)throw new Error("Registry already initialized");_this.init=init},this.init=init}return function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Registry,[{key:"getIfExists",value:function getIfExists(id){if(this.initialized||this.initialize(),id)return this.byId.get(id)}},{key:"initialize",value:function initialize(){if(this.init){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.init()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var ext=_step.value;this.register(ext)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}this.sort(),this.initialized=!0}},{key:"get",value:function get(id){var v=this.getIfExists(id);if(!v)throw new Error('"'.concat(id,'" not found in: ').concat(this.list().map((function(v){return v.id}))));return v}},{key:"selectOptions",value:function selectOptions(current,filter){this.initialized||this.initialize();var select={options:[],current:[]},currentOptions={};if(current){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=current[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){currentOptions[_step.value]={}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var _iteratorNormalCompletion1=!0,_didIteratorError1=!1,_iteratorError1=void 0;try{for(var _step1,_iterator1=this.ordered[Symbol.iterator]();!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=!0){var ext=_step1.value;if(!ext.excludeFromPicker&&(!filter||filter(ext))){var option={value:ext.id,label:ext.name,description:ext.description};ext.state===_types_plugin__WEBPACK_IMPORTED_MODULE_0__.pn.alpha&&(option.label+=" (alpha)"),select.options.push(option),currentOptions[ext.id]&&(currentOptions[ext.id]=option)}}}catch(err){_didIteratorError1=!0,_iteratorError1=err}finally{try{_iteratorNormalCompletion1||null==_iterator1.return||_iterator1.return()}finally{if(_didIteratorError1)throw _iteratorError1}}return current&&(select.current=Object.values(currentOptions)),select}},{key:"list",value:function list(ids){if(this.initialized||this.initialize(),ids){var found=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=ids[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var id=_step.value,v=this.getIfExists(id);v&&found.push(v)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return found}return this.ordered}},{key:"isEmpty",value:function isEmpty(){return this.initialized||this.initialize(),0===this.ordered.length}},{key:"register",value:function register(ext){if(this.byId.has(ext.id))throw new Error("Duplicate Key:"+ext.id);if(this.byId.set(ext.id,ext),this.ordered.push(ext),ext.aliasIds){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=ext.aliasIds[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var alias=_step.value;this.byId.has(alias)||this.byId.set(alias,ext)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}this.initialized&&this.sort()}},{key:"sort",value:function sort(){}}]),Registry}()}}]);