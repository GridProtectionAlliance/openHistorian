"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[7030],{"../grafana-data/src/datetime/datemath.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A_:function(){return isMathString},fn:function(){return isValid},qg:function(){return parse}});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/lodash/lodash.js"),_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../grafana-data/src/datetime/moment_wrapper.ts"),units=["y","M","w","d","h","m","s","Q"];function isMathString(text){return!!text&&!("string"!=typeof text||"now"!==text.substring(0,3)&&!text.includes("||"))}function parse(text,roundUp,timezone,fiscalYearStartMonth){if(text){if("string"!=typeof text)return(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(text)?text:(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isDate)(text)?(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.KQ)(text):void 0;var time,mathString="",index=-1,parseString="";return"now"===text.substring(0,3)?(time=(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.oZ)(timezone),mathString=text.substring(3)):(-1===(index=text.indexOf("||"))?(parseString=text,mathString=""):(parseString=text.substring(0,index),mathString=text.substring(index+2)),time=(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.KQ)(parseString,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.mt)),mathString.length?function parseDateMath(mathString,time,roundUp){var fiscalYearStartMonth=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,strippedMathString=mathString.replace(/\s/g,""),result=(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.KQ)(time),i=0,len=strippedMathString.length;for(;i<len;){var c=strippedMathString.charAt(i++),type=void 0,num=void 0,unitString=void 0,isFiscal=!1;if("/"===c)type=0;else if("+"===c)type=1;else{if("-"!==c)return;type=2}if(isNaN(parseInt(strippedMathString.charAt(i),10)))num=1;else if(2===strippedMathString.length)num=parseInt(strippedMathString.charAt(i),10);else{for(var numFrom=i;!isNaN(parseInt(strippedMathString.charAt(i),10));)if(++i>10)return;num=parseInt(strippedMathString.substring(numFrom,i),10)}if(0===type&&1!==num)return;"f"===(unitString=strippedMathString.charAt(i++))&&(unitString=strippedMathString.charAt(i++),isFiscal=!0);var unit=unitString;if(!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.includes)(units,unit))return;0===type?isFiscal?roundToFiscal(fiscalYearStartMonth,result,unit,roundUp):roundUp?result.endOf(unit):result.startOf(unit):1===type?result.add(num,unit):2===type&&result.subtract(num,unit)}return result}(mathString,time,roundUp,fiscalYearStartMonth):time}}function isValid(text){var date=parse(text);return!!date&&(!!(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.Ar)(date)&&date.isValid())}function roundToFiscal(fyStartMonth,dateTime,unit,roundUp){switch(unit){case"y":var _roundToFiscal;if(roundUp)null===(_roundToFiscal=roundToFiscal(fyStartMonth,dateTime,unit,!1))||void 0===_roundToFiscal||_roundToFiscal.add(11,"M").endOf("M");else dateTime.subtract(((0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.AN)(dateTime).month()-fyStartMonth+12)%12,"M").startOf("M");return dateTime;case"Q":var _roundToFiscal1;if(roundUp)null===(_roundToFiscal1=roundToFiscal(fyStartMonth,dateTime,unit,!1))||void 0===_roundToFiscal1||_roundToFiscal1.add(2,"M").endOf("M");else dateTime.subtract(((0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_1__.AN)(dateTime).month()-fyStartMonth+12)%3,"M").startOf("M");return dateTime;default:return}}},"../grafana-data/src/datetime/parser.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{b:function(){return dateTimeParse}});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/lodash/lodash.js"),moment_timezone__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/moment-timezone/index.js"),moment_timezone__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_1__),_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../grafana-data/src/datetime/common.ts"),_datemath__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../grafana-data/src/datetime/datemath.ts"),_formats__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../grafana-data/src/datetime/formats.ts"),_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../grafana-data/src/datetime/moment_wrapper.ts"),dateTimeParse=function(value,options){return(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.Ar)(value)?value:"string"==typeof value?parseString(value,options):parseOthers(value,options)},parseString=function(value,options){if(-1!==value.indexOf("now"))return(0,_datemath__WEBPACK_IMPORTED_MODULE_3__.fn)(value)&&(0,_datemath__WEBPACK_IMPORTED_MODULE_3__.qg)(value,null==options?void 0:options.roundUp,null==options?void 0:options.timeZone,null==options?void 0:options.fiscalYearStartMonth)||(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.KQ)();var _options_format,timeZone=(0,_common__WEBPACK_IMPORTED_MODULE_4__.O)(options),zone=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default().tz.zone(timeZone),format=null!==(_options_format=null==options?void 0:options.format)&&void 0!==_options_format?_options_format:_formats__WEBPACK_IMPORTED_MODULE_5__.WC.fullDate;return zone&&zone.name?(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.oZ)(zone.name,value,format):"utc"===(0,lodash__WEBPACK_IMPORTED_MODULE_0__.lowerCase)(timeZone)?(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.yT)(value,format):(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.KQ)(value,format)},parseOthers=function(value,options){var date=value,timeZone=(0,_common__WEBPACK_IMPORTED_MODULE_4__.O)(options),zone=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default().tz.zone(timeZone);return zone&&zone.name?(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.oZ)(zone.name,date):"utc"===(0,lodash__WEBPACK_IMPORTED_MODULE_0__.lowerCase)(timeZone)?(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.yT)(date):(0,_moment_wrapper__WEBPACK_IMPORTED_MODULE_2__.KQ)(date)}},"../grafana-data/src/text/string.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{dO:function(){return stringToJsRegex},jD:function(){return escapeStringForRegex},xb:function(){return unEscapeStringFromRegex}});__webpack_require__("../../node_modules/lodash/lodash.js");var specialMatcher="([\\"+["(","[","{","}","]",")","\\","|","*","+","-",".","?","<",">","#","&","^","$"].join("\\")+"])",specialCharEscape=new RegExp(specialMatcher,"g"),specialCharUnescape=new RegExp("(\\\\)"+specialMatcher,"g");function escapeStringForRegex(value){return value?value.replace(specialCharEscape,"\\$1"):value}function unEscapeStringFromRegex(value){return value?value.replace(specialCharUnescape,"$2"):value}function stringToJsRegex(str){if(!function stringStartsAsRegEx(str){return!!str&&"/"===str[0]}(str))return new RegExp("^".concat(str,"$"));var match=str.match(new RegExp("^/(.*?)/(g?i?m?y?s?)$"));if(!match)throw new Error("'".concat(str,"' is not a valid regular expression."));return new RegExp(match[1],match[2])}},"../grafana-data/src/types/dataFrame.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var FieldType;__webpack_require__.d(__webpack_exports__,{Bc:function(){return TIME_SERIES_VALUE_FIELD_NAME},LE:function(){return TIME_SERIES_TIME_FIELD_NAME},PU:function(){return FieldType}}),function(FieldType){FieldType.time="time",FieldType.number="number",FieldType.string="string",FieldType.boolean="boolean",FieldType.trace="trace",FieldType.geo="geo",FieldType.enum="enum",FieldType.other="other",FieldType.frame="frame",FieldType.nestedFrames="nestedFrames"}(FieldType||(FieldType={}));var TIME_SERIES_VALUE_FIELD_NAME="Value",TIME_SERIES_TIME_FIELD_NAME="Time"},"./src/components/BigValue/BigValue.story.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ApplyNoValue:function(){return ApplyNoValue},Basic:function(){return Basic},default:function(){return BigValue_story}});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),dataFrame=__webpack_require__("../grafana-data/src/types/dataFrame.ts"),ThemeContext=__webpack_require__("./src/themes/ThemeContext.tsx"),emotion_css_esm=__webpack_require__("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),react=__webpack_require__("../../node_modules/react/index.js"),Button=__webpack_require__("./src/components/Button/Button.tsx"),FormattedValueDisplay=__webpack_require__("./src/components/FormattedValueDisplay/FormattedValueDisplay.tsx"),tinycolor=__webpack_require__("../../node_modules/tinycolor2/esm/tinycolor.js"),valueFormats=__webpack_require__("../grafana-data/src/valueFormats/valueFormats.ts"),common_gen=__webpack_require__("../grafana-schema/src/common/common.gen.ts"),colors=__webpack_require__("./src/utils/colors.ts"),measureText=__webpack_require__("./src/utils/measureText.ts"),Sparkline=__webpack_require__("./src/components/Sparkline/Sparkline.tsx"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),PercentChange=function(param){var percentChange=param.percentChange,styles=param.styles,percentChangeIcon=void 0;return percentChange>0?percentChangeIcon="arrow-up":percentChange<0&&(percentChangeIcon="arrow-down"),(0,jsx_runtime.jsxs)("div",{style:styles.containerStyles,children:[percentChangeIcon&&(0,jsx_runtime.jsx)(Icon.I,{name:percentChangeIcon,height:styles.iconSize,width:styles.iconSize,viewBox:"6 6 12 12"}),percentChangeString(percentChange)]})},percentChangeString=function(percentChange){return(percentChange/100).toLocaleString(void 0,{style:"percent",maximumSignificantDigits:3})};try{PercentChange.displayName="PercentChange",PercentChange.__docgenInfo={description:"",displayName:"PercentChange",props:{percentChange:{defaultValue:null,description:"",name:"percentChange",required:!0,type:{name:"number"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"PercentChangeStyles"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/PercentChange.tsx#PercentChange"]={docgenInfo:PercentChange.__docgenInfo,name:"PercentChange",path:"src/components/BigValue/PercentChange.tsx#PercentChange"})}catch(__react_docgen_typescript_loader_error){}try{percentChangeString.displayName="percentChangeString",percentChangeString.__docgenInfo={description:"",displayName:"percentChangeString",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/PercentChange.tsx#percentChangeString"]={docgenInfo:percentChangeString.__docgenInfo,name:"percentChangeString",path:"src/components/BigValue/PercentChange.tsx#percentChangeString"})}catch(__react_docgen_typescript_loader_error){}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function get(target,property,receiver){var base=function _super_prop_base(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_get_prototype_of(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver||target):desc.value}},_get(target,property,receiver||target)}function _get_prototype_of(o){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_get_prototype_of(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _possible_constructor_return(self,call){return!call||"object"!==function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}(call)&&"function"!=typeof call?function _assert_this_initialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _set_prototype_of(o,p){return _set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o},_set_prototype_of(o,p)}function _create_super(Derived){var hasNativeReflectConstruct=function _is_native_reflect_construct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_get_prototype_of(Derived);if(hasNativeReflectConstruct){var NewTarget=_get_prototype_of(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possible_constructor_return(this,result)}}var BigValueColorMode,BigValueGraphMode,BigValueJustifyMode,BigValueTextMode,BigValueLayout=function(){function BigValueLayout(props){_class_call_check(this,BigValueLayout),_define_property(this,"props",void 0),_define_property(this,"titleFontSize",void 0),_define_property(this,"valueFontSize",void 0),_define_property(this,"chartHeight",void 0),_define_property(this,"chartWidth",void 0),_define_property(this,"valueColor",void 0),_define_property(this,"panelPadding",void 0),_define_property(this,"justifyCenter",void 0),_define_property(this,"titleToAlignTo",void 0),_define_property(this,"valueToAlignTo",void 0),_define_property(this,"maxTextWidth",void 0),_define_property(this,"maxTextHeight",void 0),_define_property(this,"textValues",void 0),this.props=props;var _value_color,width=props.width,height=props.height,value=props.value,text=props.text;this.valueColor=null!==(_value_color=value.color)&&void 0!==_value_color?_value_color:"gray",this.panelPadding=height>100?12:8,this.textValues=function getTextValues(props){var value=props.value,alignmentFactors=props.alignmentFactors,count=props.count,textMode=props.textMode,titleToAlignTo=alignmentFactors?alignmentFactors.title:value.title,valueToAlignTo=(0,valueFormats.cN)(alignmentFactors||value);textMode===BigValueTextMode.Auto&&1===(null!=count?count:1)&&(textMode=BigValueTextMode.Value);switch(textMode){case BigValueTextMode.Name:return _object_spread_props(_object_spread({},value),{title:void 0,prefix:void 0,suffix:void 0,text:value.title||"",titleToAlignTo:void 0,valueToAlignTo:null!=titleToAlignTo?titleToAlignTo:"",tooltip:(0,valueFormats.cN)(value)});case BigValueTextMode.Value:return _object_spread_props(_object_spread({},value),{title:void 0,titleToAlignTo:void 0,valueToAlignTo:valueToAlignTo,tooltip:value.title});case BigValueTextMode.None:return{numeric:value.numeric,color:value.color,title:void 0,text:"",titleToAlignTo:void 0,valueToAlignTo:"1",tooltip:"Name: ".concat(value.title,"\nValue: ").concat((0,valueFormats.cN)(value))};case BigValueTextMode.ValueAndName:default:return _object_spread_props(_object_spread({},value),{titleToAlignTo:titleToAlignTo,valueToAlignTo:valueToAlignTo})}}(props),this.justifyCenter=function shouldJustifyCenter(justifyMode,title){if(justifyMode===BigValueJustifyMode.Center)return!0;return 0===(null!=title?title:"").length}(props.justifyMode,this.textValues.title),this.valueToAlignTo=this.textValues.valueToAlignTo,this.titleToAlignTo=this.textValues.titleToAlignTo,this.titleFontSize=0,this.valueFontSize=0,this.chartHeight=0,this.chartWidth=0,this.maxTextWidth=width-2*this.panelPadding,this.maxTextHeight=height-2*this.panelPadding,text&&(text.titleSize&&(this.titleFontSize=text.titleSize,this.titleToAlignTo=void 0),text.valueSize&&(this.valueFontSize=text.valueSize,this.valueToAlignTo=""))}return _create_class(BigValueLayout,[{key:"getTitleStyles",value:function getTitleStyles(){var styles={fontSize:"".concat(this.titleFontSize,"px"),lineHeight:1.2};return this.props.colorMode!==BigValueColorMode.Background&&this.props.colorMode!==BigValueColorMode.BackgroundSolid||(styles.color=(0,colors.mZ)(this.valueColor,this.props.theme.isDark)),styles}},{key:"getValueStyles",value:function getValueStyles(){var styles={fontSize:this.valueFontSize,fontWeight:500,lineHeight:1.2,position:"relative",zIndex:1};switch(this.justifyCenter&&(styles.textAlign="center"),this.props.colorMode){case BigValueColorMode.Value:styles.color=this.valueColor;break;case BigValueColorMode.Background:case BigValueColorMode.BackgroundSolid:styles.color=(0,colors.mZ)(this.valueColor,this.props.theme.isDark);break;case BigValueColorMode.None:styles.color=this.props.theme.colors.text.primary}return styles}},{key:"getPercentChangeStyles",value:function getPercentChangeStyles(percentChange,percentChangeColorMode,valueStyles){var valueContainerStyles=this.getValueAndTitleContainerStyles(),percentFontSize=Math.max(this.valueFontSize/2.5,12),iconSize=Math.max(this.valueFontSize/3,10),color=function getPercentChangeColor(percentChange,percentChangeColorMode,valueStyles,themeVisualizationColors){return percentChangeColorMode===common_gen.CD.SameAsValue?valueStyles.color:percentChange*(percentChangeColorMode===common_gen.CD.Inverted?-1:1)>0?themeVisualizationColors.getColorByName("green"):themeVisualizationColors.getColorByName("red")}(percentChange,percentChangeColorMode,valueStyles,this.props.theme.visualization),containerStyles={fontSize:percentFontSize,fontWeight:500,lineHeight:1.2,position:"relative",display:"flex",alignItems:"center",gap:Math.max(percentFontSize/3,4),zIndex:1,color:color};switch(this.justifyCenter&&(containerStyles.textAlign="center"),"column"===valueContainerStyles.flexDirection&&percentFontSize>12&&(containerStyles.marginTop=-percentFontSize/4),"row"===valueContainerStyles.flexDirection&&(containerStyles.alignItems="baseline",containerStyles.lineHeight=3),this.props.colorMode){case BigValueColorMode.Background:case BigValueColorMode.BackgroundSolid:containerStyles.color=(0,colors.mZ)(this.valueColor,this.props.theme.isDark)}return this.props.textMode===BigValueTextMode.None&&(containerStyles.fontSize=(0,measureText.Vr)(percentChangeString(percentChange),.8*this.maxTextWidth,.8*this.maxTextHeight,1.2,void 0,500),iconSize=.8*containerStyles.fontSize),{containerStyles:containerStyles,iconSize:iconSize}}},{key:"getValueAndTitleContainerStyles",value:function getValueAndTitleContainerStyles(){var styles={display:"flex",flexWrap:"wrap"};return this.justifyCenter&&(styles.alignItems="center",styles.justifyContent="center",styles.flexGrow=1,styles.gap="0.75ch"),styles}},{key:"getPanelStyles",value:function getPanelStyles(){var _this_props=this.props,width=_this_props.width,height=_this_props.height,theme=_this_props.theme,colorMode=_this_props.colorMode,textMode=_this_props.textMode,panelStyles={width:"".concat(width,"px"),height:"".concat(height,"px"),padding:"".concat(textMode===BigValueTextMode.None?2:this.panelPadding,"px"),borderRadius:theme.shape.radius.default,position:"relative",display:"flex"},themeFactor=theme.isDark?1:-.7;switch(colorMode){case BigValueColorMode.Background:var bgColor2=(0,tinycolor.A)(this.valueColor).darken(15*themeFactor).spin(8).toRgbString(),bgColor3=(0,tinycolor.A)(this.valueColor).darken(5*themeFactor).spin(-8).toRgbString();panelStyles.background="linear-gradient(120deg, ".concat(bgColor2,", ").concat(bgColor3,")");break;case BigValueColorMode.BackgroundSolid:panelStyles.background=(0,tinycolor.A)(this.valueColor).toString();break;case BigValueColorMode.Value:panelStyles.background="transparent"}return this.justifyCenter&&(panelStyles.alignItems="center",panelStyles.flexDirection="row"),panelStyles}},{key:"renderChart",value:function renderChart(){var _sparkline_y,fillColor,lineColor,_this_props=this.props,sparkline=_this_props.sparkline,colorMode=_this_props.colorMode;if(!sparkline||(null===(_sparkline_y=sparkline.y)||void 0===_sparkline_y?void 0:_sparkline_y.type)!==dataFrame.PU.number)return null;switch(colorMode){case BigValueColorMode.Background:case BigValueColorMode.BackgroundSolid:fillColor="rgba(255,255,255,0.4)",lineColor=(0,tinycolor.A)(this.valueColor).brighten(40).toRgbString();break;case BigValueColorMode.None:case BigValueColorMode.Value:default:lineColor=this.valueColor,fillColor=(0,tinycolor.A)(this.valueColor).setAlpha(.2).toRgbString()}var config={custom:{drawStyle:common_gen.GR.Line,lineWidth:1,fillColor:fillColor,lineColor:lineColor}};return(0,jsx_runtime.jsx)("div",{style:this.getChartStyles(),children:(0,jsx_runtime.jsx)(Sparkline.O,{height:this.chartHeight,width:this.chartWidth,sparkline:sparkline,config:config,theme:this.props.theme})})}},{key:"getChartStyles",value:function getChartStyles(){return{position:"absolute",right:0,bottom:0}}}]),BigValueLayout}(),WideNoChartLayout=function(BigValueLayout){_inherits(WideNoChartLayout,BigValueLayout);var _super=_create_super(WideNoChartLayout);function WideNoChartLayout(props){var _this,_this_titleToAlignTo,_this_titleToAlignTo1;_class_call_check(this,WideNoChartLayout);var valueWidthPercent=(null===(_this_titleToAlignTo=(_this=_super.call(this,props)).titleToAlignTo)||void 0===_this_titleToAlignTo?void 0:_this_titleToAlignTo.length)?.3:1;return _this.valueToAlignTo.length&&(_this.valueFontSize=(0,measureText.Vr)(_this.valueToAlignTo,_this.maxTextWidth*valueWidthPercent,_this.maxTextHeight,1.2,void 0,500)),(null===(_this_titleToAlignTo1=_this.titleToAlignTo)||void 0===_this_titleToAlignTo1?void 0:_this_titleToAlignTo1.length)&&(_this.titleFontSize=(0,measureText.Vr)(_this.titleToAlignTo,.6*_this.maxTextWidth,_this.maxTextHeight,1.2,30),_this.titleFontSize=Math.min(.7*_this.valueFontSize,_this.titleFontSize)),_this}return _create_class(WideNoChartLayout,[{key:"getValueAndTitleContainerStyles",value:function getValueAndTitleContainerStyles(){var styles=_get(_get_prototype_of(WideNoChartLayout.prototype),"getValueAndTitleContainerStyles",this).call(this);return styles.flexDirection="row",styles.alignItems="center",styles.flexGrow=1,this.justifyCenter||(styles.justifyContent="space-between"),styles}},{key:"renderChart",value:function renderChart(){return null}},{key:"getPanelStyles",value:function getPanelStyles(){var panelStyles=_get(_get_prototype_of(WideNoChartLayout.prototype),"getPanelStyles",this).call(this);return panelStyles.alignItems="center",panelStyles}}]),WideNoChartLayout}(BigValueLayout),WideWithChartLayout=function(BigValueLayout){_inherits(WideWithChartLayout,BigValueLayout);var _super=_create_super(WideWithChartLayout);function WideWithChartLayout(props){var _this,_this_titleToAlignTo;_class_call_check(this,WideWithChartLayout),_this=_super.call(this,props);var width=props.width,height=props.height;return _this.chartWidth=width,_this.chartHeight=.5*height,(null===(_this_titleToAlignTo=_this.titleToAlignTo)||void 0===_this_titleToAlignTo?void 0:_this_titleToAlignTo.length)&&(_this.titleFontSize=(0,measureText.Vr)(_this.titleToAlignTo,.6*_this.maxTextWidth,.4*_this.maxTextHeight,1.2,30)),_this.valueToAlignTo.length&&(_this.valueFontSize=(0,measureText.Vr)(_this.valueToAlignTo,.4*_this.maxTextWidth,.5*_this.maxTextHeight,1.2,void 0,500)),_this}return _create_class(WideWithChartLayout,[{key:"getValueAndTitleContainerStyles",value:function getValueAndTitleContainerStyles(){var styles=_get(_get_prototype_of(WideWithChartLayout.prototype),"getValueAndTitleContainerStyles",this).call(this);return styles.flexDirection="row",styles.flexGrow=1,this.justifyCenter||(styles.justifyContent="space-between"),styles}},{key:"getPanelStyles",value:function getPanelStyles(){var styles=_get(_get_prototype_of(WideWithChartLayout.prototype),"getPanelStyles",this).call(this);return styles.flexDirection="row",styles.justifyContent="space-between",styles}}]),WideWithChartLayout}(BigValueLayout),StackedWithChartLayout=function(BigValueLayout){_inherits(StackedWithChartLayout,BigValueLayout);var _super=_create_super(StackedWithChartLayout);function StackedWithChartLayout(props){var _this,_this_titleToAlignTo,_this_titleToAlignTo1;_class_call_check(this,StackedWithChartLayout),_this=_super.call(this,props);var width=props.width,height=props.height,titleHeight=0;return _this.chartHeight=.25*height,_this.chartWidth=width,(null===(_this_titleToAlignTo=_this.titleToAlignTo)||void 0===_this_titleToAlignTo?void 0:_this_titleToAlignTo.length)&&(_this.titleFontSize=(0,measureText.Vr)(_this.titleToAlignTo,_this.maxTextWidth,.15*height,1.2,30),titleHeight=1.2*_this.titleFontSize),_this.valueToAlignTo.length&&(_this.valueFontSize=(0,measureText.Vr)(_this.valueToAlignTo,_this.maxTextWidth,_this.maxTextHeight-_this.chartHeight-titleHeight,1.2,void 0,500)),(null===(_this_titleToAlignTo1=_this.titleToAlignTo)||void 0===_this_titleToAlignTo1?void 0:_this_titleToAlignTo1.length)&&(_this.titleFontSize=Math.min(.7*_this.valueFontSize,_this.titleFontSize)),_this.chartHeight=height-1.2*_this.titleFontSize-1.2*_this.valueFontSize,_this}return _create_class(StackedWithChartLayout,[{key:"getValueAndTitleContainerStyles",value:function getValueAndTitleContainerStyles(){var styles=_get(_get_prototype_of(StackedWithChartLayout.prototype),"getValueAndTitleContainerStyles",this).call(this);return styles.flexDirection="column",styles.justifyContent="center",styles}},{key:"getPanelStyles",value:function getPanelStyles(){var styles=_get(_get_prototype_of(StackedWithChartLayout.prototype),"getPanelStyles",this).call(this);return styles.flexDirection="column",styles}}]),StackedWithChartLayout}(BigValueLayout),StackedWithNoChartLayout=function(BigValueLayout){_inherits(StackedWithNoChartLayout,BigValueLayout);var _super=_create_super(StackedWithNoChartLayout);function StackedWithNoChartLayout(props){var _this,_this_titleToAlignTo,_this_titleToAlignTo1;_class_call_check(this,StackedWithNoChartLayout),_this=_super.call(this,props);var height=props.height,titleHeight=0;return(null===(_this_titleToAlignTo=_this.titleToAlignTo)||void 0===_this_titleToAlignTo?void 0:_this_titleToAlignTo.length)&&(_this.titleFontSize=(0,measureText.Vr)(_this.titleToAlignTo,_this.maxTextWidth,.15*height,1.2,30),titleHeight=1.2*_this.titleFontSize),_this.valueToAlignTo.length&&(_this.valueFontSize=(0,measureText.Vr)(_this.valueToAlignTo,_this.maxTextWidth,_this.maxTextHeight-titleHeight,1.2,void 0,500)),(null===(_this_titleToAlignTo1=_this.titleToAlignTo)||void 0===_this_titleToAlignTo1?void 0:_this_titleToAlignTo1.length)&&(_this.titleFontSize=Math.min(.7*_this.valueFontSize,_this.titleFontSize)),_this}return _create_class(StackedWithNoChartLayout,[{key:"getValueAndTitleContainerStyles",value:function getValueAndTitleContainerStyles(){var styles=_get(_get_prototype_of(StackedWithNoChartLayout.prototype),"getValueAndTitleContainerStyles",this).call(this);return styles.flexDirection="column",styles.flexGrow=1,styles}},{key:"renderChart",value:function renderChart(){return null}},{key:"getPanelStyles",value:function getPanelStyles(){var styles=_get(_get_prototype_of(StackedWithNoChartLayout.prototype),"getPanelStyles",this).call(this);return styles.alignItems="center",styles}}]),StackedWithNoChartLayout}(BigValueLayout);function buildLayout(props){var width=props.width,height=props.height,sparkline=props.sparkline;return width/height>2.5&&!props.disableWideLayout?height>50&&sparkline&&sparkline.y.values.length>1?new WideWithChartLayout(props):new WideNoChartLayout(props):height>100&&sparkline&&sparkline.y.values.length>1?new StackedWithChartLayout(props):new StackedWithNoChartLayout(props)}try{buildLayout.displayName="buildLayout",buildLayout.__docgenInfo={description:"",displayName:"buildLayout",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:null,description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValueLayout.tsx#buildLayout"]={docgenInfo:buildLayout.__docgenInfo,name:"buildLayout",path:"src/components/BigValue/BigValueLayout.tsx#buildLayout"})}catch(__react_docgen_typescript_loader_error){}try{BigValueLayout.displayName="BigValueLayout",BigValueLayout.__docgenInfo={description:"",displayName:"BigValueLayout",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:null,description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValueLayout.tsx#BigValueLayout"]={docgenInfo:BigValueLayout.__docgenInfo,name:"BigValueLayout",path:"src/components/BigValue/BigValueLayout.tsx#BigValueLayout"})}catch(__react_docgen_typescript_loader_error){}try{WideNoChartLayout.displayName="WideNoChartLayout",WideNoChartLayout.__docgenInfo={description:"",displayName:"WideNoChartLayout",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:null,description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValueLayout.tsx#WideNoChartLayout"]={docgenInfo:WideNoChartLayout.__docgenInfo,name:"WideNoChartLayout",path:"src/components/BigValue/BigValueLayout.tsx#WideNoChartLayout"})}catch(__react_docgen_typescript_loader_error){}try{WideWithChartLayout.displayName="WideWithChartLayout",WideWithChartLayout.__docgenInfo={description:"",displayName:"WideWithChartLayout",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:null,description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValueLayout.tsx#WideWithChartLayout"]={docgenInfo:WideWithChartLayout.__docgenInfo,name:"WideWithChartLayout",path:"src/components/BigValue/BigValueLayout.tsx#WideWithChartLayout"})}catch(__react_docgen_typescript_loader_error){}try{StackedWithChartLayout.displayName="StackedWithChartLayout",StackedWithChartLayout.__docgenInfo={description:"",displayName:"StackedWithChartLayout",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:null,description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValueLayout.tsx#StackedWithChartLayout"]={docgenInfo:StackedWithChartLayout.__docgenInfo,name:"StackedWithChartLayout",path:"src/components/BigValue/BigValueLayout.tsx#StackedWithChartLayout"})}catch(__react_docgen_typescript_loader_error){}try{StackedWithNoChartLayout.displayName="StackedWithNoChartLayout",StackedWithNoChartLayout.__docgenInfo={description:"",displayName:"StackedWithNoChartLayout",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:null,description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValueLayout.tsx#StackedWithNoChartLayout"]={docgenInfo:StackedWithNoChartLayout.__docgenInfo,name:"StackedWithNoChartLayout",path:"src/components/BigValue/BigValueLayout.tsx#StackedWithNoChartLayout"})}catch(__react_docgen_typescript_loader_error){}function BigValue_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BigValue_get_prototype_of(o){return BigValue_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},BigValue_get_prototype_of(o)}function BigValue_possible_constructor_return(self,call){return!call||"object"!==function BigValue_type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}(call)&&"function"!=typeof call?function BigValue_assert_this_initialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BigValue_set_prototype_of(o,p){return BigValue_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o},BigValue_set_prototype_of(o,p)}function BigValue_create_super(Derived){var hasNativeReflectConstruct=function BigValue_is_native_reflect_construct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=BigValue_get_prototype_of(Derived);if(hasNativeReflectConstruct){var NewTarget=BigValue_get_prototype_of(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return BigValue_possible_constructor_return(this,result)}}!function(BigValueColorMode){BigValueColorMode.Background="background",BigValueColorMode.BackgroundSolid="background_solid",BigValueColorMode.None="none",BigValueColorMode.Value="value"}(BigValueColorMode||(BigValueColorMode={})),function(BigValueGraphMode){BigValueGraphMode.None="none",BigValueGraphMode.Line="line",BigValueGraphMode.Area="area"}(BigValueGraphMode||(BigValueGraphMode={})),function(BigValueJustifyMode){BigValueJustifyMode.Auto="auto",BigValueJustifyMode.Center="center"}(BigValueJustifyMode||(BigValueJustifyMode={})),function(BigValueTextMode){BigValueTextMode.Auto="auto",BigValueTextMode.Value="value",BigValueTextMode.ValueAndName="value_and_name",BigValueTextMode.Name="name",BigValueTextMode.None="none"}(BigValueTextMode||(BigValueTextMode={}));var BigValue=function(PureComponent){!function BigValue_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BigValue_set_prototype_of(subClass,superClass)}(BigValue,PureComponent);var _super=BigValue_create_super(BigValue);function BigValue(){return function BigValue_class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BigValue),_super.apply(this,arguments)}return function BigValue_create_class(Constructor,protoProps,staticProps){return protoProps&&BigValue_defineProperties(Constructor.prototype,protoProps),staticProps&&BigValue_defineProperties(Constructor,staticProps),Constructor}(BigValue,[{key:"render",value:function render(){var _this_props=this.props,onClick=_this_props.onClick,className=_this_props.className,hasLinks=_this_props.hasLinks,theme=_this_props.theme,layout=buildLayout(this.props),panelStyles=layout.getPanelStyles(),valueAndTitleContainerStyles=layout.getValueAndTitleContainerStyles(),valueStyles=layout.getValueStyles(),titleStyles=layout.getTitleStyles(),textValues=layout.textValues,percentChange=this.props.value.percentChange,percentChangeColorMode=this.props.percentChangeColorMode,showPercentChange=null!=percentChange&&!Number.isNaN(percentChange),tooltip=hasLinks?void 0:textValues.tooltip;return onClick?(0,jsx_runtime.jsxs)("button",{type:"button",className:(0,emotion_css_esm.cx)((0,Button.my)(theme),className),style:panelStyles,onClick:onClick,title:tooltip,children:[(0,jsx_runtime.jsxs)("div",{style:valueAndTitleContainerStyles,children:[textValues.title&&(0,jsx_runtime.jsx)("div",{style:titleStyles,children:textValues.title}),(0,jsx_runtime.jsx)(FormattedValueDisplay.i,{value:textValues,style:valueStyles})]}),layout.renderChart()]}):(0,jsx_runtime.jsxs)("div",{className:className,style:panelStyles,title:tooltip,children:[(0,jsx_runtime.jsxs)("div",{style:valueAndTitleContainerStyles,children:[textValues.title&&(0,jsx_runtime.jsx)("div",{style:titleStyles,children:textValues.title}),(0,jsx_runtime.jsx)(FormattedValueDisplay.i,{value:textValues,style:valueStyles}),showPercentChange&&(0,jsx_runtime.jsx)(PercentChange,{percentChange:percentChange,styles:layout.getPercentChangeStyles(percentChange,percentChangeColorMode,valueStyles)})]}),layout.renderChart()]})}}]),BigValue}(react.PureComponent);!function BigValue_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(BigValue,"defaultProps",{justifyMode:"auto"});try{BigValueTextMode.displayName="BigValueTextMode",BigValueTextMode.__docgenInfo={description:"Options for how the value & title are to be displayed",displayName:"BigValueTextMode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValue.tsx#BigValueTextMode"]={docgenInfo:BigValueTextMode.__docgenInfo,name:"BigValueTextMode",path:"src/components/BigValue/BigValue.tsx#BigValueTextMode"})}catch(__react_docgen_typescript_loader_error){}try{BigValue.displayName="BigValue",BigValue.__docgenInfo={description:"",displayName:"BigValue",props:{height:{defaultValue:null,description:"Height of the component",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the component",name:"width",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"Value displayed as Big Value",name:"value",required:!0,type:{name:"DisplayValue"}},sparkline:{defaultValue:null,description:"Sparkline values for showing a graph under/behind the value",name:"sparkline",required:!1,type:{name:"FieldSparkline"}},onClick:{defaultValue:null,description:"onClick handler for the value",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},className:{defaultValue:null,description:"Custom styling",name:"className",required:!1,type:{name:"string"}},colorMode:{defaultValue:null,description:"Color mode for coloring the value or the background",name:"colorMode",required:!0,type:{name:"enum",value:[{value:'"background"'},{value:'"background_solid"'},{value:'"none"'},{value:'"value"'}]}},graphMode:{defaultValue:null,description:"Show a graph behind/under the value",name:"graphMode",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"line"'},{value:'"area"'}]}},justifyMode:{defaultValue:{value:"BigValueJustifyMode.Auto"},description:"Auto justify value and text or center it",name:"justifyMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'}]}},alignmentFactors:{defaultValue:null,description:"Factors that should influence the positioning of the text",name:"alignmentFactors",required:!1,type:{name:"DisplayValueAlignmentFactors"}},text:{defaultValue:null,description:"Explicit font size control",name:"text",required:!1,type:{name:"VizTextDisplayOptions"}},textMode:{defaultValue:null,description:"Specify which text should be visible in the BigValue",name:"textMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"value"'},{value:'"value_and_name"'},{value:'"name"'},{value:'"none"'}]}},hasLinks:{defaultValue:null,description:"If true disables the tooltip",name:"hasLinks",required:!1,type:{name:"boolean"}},percentChangeColorMode:{defaultValue:null,description:"Percent change color mode",name:"percentChangeColorMode",required:!1,type:{name:"enum",value:[{value:'"inverted"'},{value:'"same_as_value"'},{value:'"standard"'}]}},count:{defaultValue:null,description:"If part of a series of stat panes, this is the total number.\nUsed by BigValueTextMode.Auto text mode.",name:"count",required:!1,type:{name:"number"}},disableWideLayout:{defaultValue:null,description:"Disable the wide layout for the BigValue",name:"disableWideLayout",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"GrafanaTheme2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BigValue/BigValue.tsx#BigValue"]={docgenInfo:BigValue.__docgenInfo,name:"BigValue",path:"src/components/BigValue/BigValue.tsx#BigValue"})}catch(__react_docgen_typescript_loader_error){}var lib=__webpack_require__("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("../../node_modules/@storybook/blocks/dist/index.mjs");function _createMdxContent(props){const _components={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,lib.R)(),...props.components};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.W8,{title:"MDX|BigValue",component:BigValue}),"\n",(0,jsx_runtime.jsx)(_components.h1,{id:"bigvalue",children:"BigValue"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Component for showing a value based on a ",(0,jsx_runtime.jsx)(_components.a,{href:"https://github.com/grafana/grafana/blob/main/packages/grafana-data/src/types/displayValue.ts#L5",rel:"nofollow",children:"DisplayValue"}),"."]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"display-properties",children:"Display properties"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"There are a few properties that will determine the look of the BigValue."}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"justify-mode",children:"Justify mode"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"There are two modes for aligning text, auto and center."}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"graph-mode",children:"Graph mode"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["You can control graph shown in BigValue with the ",(0,jsx_runtime.jsx)(_components.code,{children:"GraphMode"})," property. ",(0,jsx_runtime.jsx)(_components.code,{children:"GraphMode.Area"})," renders a\ngraph in the behind the value. ",(0,jsx_runtime.jsx)(_components.code,{children:"GrapMode.None"})," will hide it."]}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"color-mode",children:"Color mode"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"ColorMode"})," controls which part of the component that should have the color from thresholds or field config,\n",(0,jsx_runtime.jsx)(_components.code,{children:"ColorMode.Background"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"ColorMode.Value"}),"."]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Note, ",(0,jsx_runtime.jsx)(_components.code,{children:"ColorMode.Value"})," will only set the color for the value."]}),"\n",(0,jsx_runtime.jsx)(_components.h4,{id:"text-mode",children:"Text mode"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"There are four variants to render text:"}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"TextMode.Auto"})," - Show value and name if there's more than on BigValue in the same pane."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"TextMode.Value"})," - Show only the value."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"TextMode.ValueAndName"})," - Show value and the name."]}),"\n",(0,jsx_runtime.jsxs)(_components.li,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"TextMode.None"})," - Do not show any value or name."]}),"\n"]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"example-usage",children:"Example usage"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["An example usage is in the ",(0,jsx_runtime.jsx)(_components.a,{href:"https://grafana.com/docs/grafana/latest/panels/visualizations/stat-panel/",rel:"nofollow",children:"Stat panel"}),"."]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-tsx",children:"import { DisplayValue } from '@grafana/data';\nimport {\n  BigValue,\n  BigValueColorMode,\n  BigValueGraphMode,\n  BigValueJustifyMode,\n  BigValueTextMode,\n  useTheme,\n} from '@grafana/ui';\n\nconst bigValue: DisplayValue = {\n  color: 'red',\n  value: '5000',\n  numeric: 5000,\n  title: 'Volume',\n};\n\nreturn (\n  <BigValue\n    theme={useTheme()}\n    justifyMode={BigValueJustifyMode.Auto}\n    graphMode={BigValueGraphMode.Area}\n    colorMode={BigValueColorMode.Value}\n    textMode={BigValueTextMode.Auto}\n    value={bigValue}\n  />\n);\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist.ov,{of:BigValue})]})}var meta={title:"Visualizations/BigValue",component:BigValue,parameters:{docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,lib.R)(),...props.components};return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},controls:{exclude:["value","sparkline","onClick","className","alignmentFactors","text","count","theme"]}},argTypes:{width:{control:{type:"range",min:200,max:800}},height:{control:{type:"range",min:200,max:800}},colorMode:{control:{type:"select",options:[BigValueColorMode.Value,BigValueColorMode.Background]}},graphMode:{control:{type:"select",options:[BigValueGraphMode.Area,BigValueGraphMode.None]}},justifyMode:{control:{type:"select",options:[BigValueJustifyMode.Auto,BigValueJustifyMode.Center]}},textMode:{control:{type:"radio",options:[BigValueTextMode.Auto,BigValueTextMode.Name,BigValueTextMode.ValueAndName,BigValueTextMode.None,BigValueTextMode.Value]}},color:{control:"color"}}},ApplyNoValue=function(param){var valueText=param.valueText,title=param.title,colorMode=param.colorMode,graphMode=param.graphMode,height=param.height,width=param.width,color=param.color,textMode=param.textMode,justifyMode=param.justifyMode,theme=(0,ThemeContext.$j)(),sparkline={y:{name:"",values:[1,2,3,null,null],type:dataFrame.PU.number,state:{range:{min:1,max:4,delta:3}},config:{noValue:"0"}}};return(0,jsx_runtime.jsx)(BigValue,{theme:theme,width:width,height:height,colorMode:colorMode,graphMode:graphMode,textMode:textMode,justifyMode:justifyMode,value:{text:valueText,numeric:5022,color:color,title:title},sparkline:graphMode===BigValueGraphMode.None?void 0:sparkline})},Basic=function(param){var valueText=param.valueText,title=param.title,colorMode=param.colorMode,graphMode=param.graphMode,height=param.height,width=param.width,color=param.color,textMode=param.textMode,justifyMode=param.justifyMode,theme=(0,ThemeContext.$j)(),sparkline={y:{name:"",values:[1,2,3,4,3],type:dataFrame.PU.number,state:{range:{min:1,max:4,delta:3}},config:{}}};return(0,jsx_runtime.jsx)(BigValue,{theme:theme,width:width,height:height,colorMode:colorMode,graphMode:graphMode,textMode:textMode,justifyMode:justifyMode,value:{text:valueText,numeric:5022,color:color,title:title},sparkline:graphMode===BigValueGraphMode.None?void 0:sparkline})};Basic.args={valueText:"$5022",title:"Total Earnings",colorMode:BigValueColorMode.Value,graphMode:BigValueGraphMode.Area,justifyMode:BigValueJustifyMode.Auto,width:400,height:300,color:"red",textMode:BigValueTextMode.Auto},ApplyNoValue.args={valueText:"$5022",title:"Total Earnings",colorMode:BigValueColorMode.Value,graphMode:BigValueGraphMode.Area,justifyMode:BigValueJustifyMode.Auto,width:400,height:300,color:"red",textMode:BigValueTextMode.Auto};var BigValue_story=meta;ApplyNoValue.parameters={...ApplyNoValue.parameters,docs:{...ApplyNoValue.parameters?.docs,source:{originalSource:"({\n  valueText,\n  title,\n  colorMode,\n  graphMode,\n  height,\n  width,\n  color,\n  textMode,\n  justifyMode\n}) => {\n  const theme = useTheme2();\n  const sparkline: FieldSparkline = {\n    y: {\n      name: '',\n      values: [1, 2, 3, null, null],\n      type: FieldType.number,\n      state: {\n        range: {\n          min: 1,\n          max: 4,\n          delta: 3\n        }\n      },\n      config: {\n        noValue: '0'\n      }\n    }\n  };\n  return <BigValue theme={theme} width={width} height={height} colorMode={colorMode} graphMode={graphMode} textMode={textMode} justifyMode={justifyMode} value={{\n    text: valueText,\n    numeric: 5022,\n    color: color,\n    title\n  }} sparkline={graphMode === BigValueGraphMode.None ? undefined : sparkline} />;\n}",...ApplyNoValue.parameters?.docs?.source}}},Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"({\n  valueText,\n  title,\n  colorMode,\n  graphMode,\n  height,\n  width,\n  color,\n  textMode,\n  justifyMode\n}) => {\n  const theme = useTheme2();\n  const sparkline: FieldSparkline = {\n    y: {\n      name: '',\n      values: [1, 2, 3, 4, 3],\n      type: FieldType.number,\n      state: {\n        range: {\n          min: 1,\n          max: 4,\n          delta: 3\n        }\n      },\n      config: {}\n    }\n  };\n  return <BigValue theme={theme} width={width} height={height} colorMode={colorMode} graphMode={graphMode} textMode={textMode} justifyMode={justifyMode} value={{\n    text: valueText,\n    numeric: 5022,\n    color: color,\n    title\n  }} sparkline={graphMode === BigValueGraphMode.None ? undefined : sparkline} />;\n}",...Basic.parameters?.docs?.source}}}}}]);