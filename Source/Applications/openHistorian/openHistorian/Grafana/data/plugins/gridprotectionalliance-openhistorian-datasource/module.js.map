{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///./css/config-editor.css","webpack:///./css/query-editor.css","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/css-loader/dist/runtime/sourceMaps.js","webpack:///../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///../node_modules/style-loader/dist/runtime/insertBySelector.js","webpack:///../node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack:///../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack:///../node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack:///../node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/nonce","webpack:///external commonjs \"@grafana/data\"","webpack:///external commonjs \"@grafana/runtime\"","webpack:///./js/constants.ts","webpack:///external commonjs \"react\"","webpack:///external commonjs \"@grafana/ui\"","webpack:///./css/query-editor.css?edf4","webpack:///./components/AnnotationEditor.tsx","webpack:///./datasource.ts","webpack:///./css/config-editor.css?a65e","webpack:///external commonjs \"lodash\"","webpack:///./components/ElementQueryEditor.tsx","webpack:///./components/MetaDataFieldSelector.tsx","webpack:///./components/TextQueryEditor.tsx","webpack:///./components/CommandLevelSelection.tsx","webpack:///./module.ts","webpack:///./components/ConfigEditor.tsx","webpack:///./components/QueryEditor.tsx","webpack:///./components/VariableQueryEditor.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dark-box {\n  background-color: rgba(32, 34, 38); \n  padding: 8px; \n  border-radius: 4px;\n  border-color: 1px darkgray;\n}\n\n.dark-box .switch {\n  background-color: blue; /* Change the background color */\n}\n\n.dark-box .switch::before {\n  background-color: white; /* Change the color of the switch thumb */\n}\n\n.dark-button {\n  background-color: rgb(34,37,43); \n  color: rgb(199,204,220); \n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/config-editor.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kCAAkC;EAClC,YAAY;EACZ,kBAAkB;EAClB,0BAA0B;AAC5B;;AAEA;EACE,sBAAsB,EAAE,gCAAgC;AAC1D;;AAEA;EACE,uBAAuB,EAAE,yCAAyC;AACpE;;AAEA;EACE,+BAA+B;EAC/B,uBAAuB;AACzB\",\"sourcesContent\":[\".dark-box {\\n  background-color: rgba(32, 34, 38); \\n  padding: 8px; \\n  border-radius: 4px;\\n  border-color: 1px darkgray;\\n}\\n\\n.dark-box .switch {\\n  background-color: blue; /* Change the background color */\\n}\\n\\n.dark-box .switch::before {\\n  background-color: white; /* Change the color of the switch thumb */\\n}\\n\\n.dark-button {\\n  background-color: rgb(34,37,43); \\n  color: rgb(199,204,220); \\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dark-box {\n    background-color: rgba(17, 18, 23);\n    padding: 6px;\n    border-radius: 2px;\n    border: 1px solid darkgray;\n    display: flex;\n    align-items: center;\n}\n  \n.dark-box span {\n    margin: 0;\n    padding: 2px; \n}\n\n.auto-width {\n    width: auto;\n}\n  \n  `, \"\",{\"version\":3,\"sources\":[\"webpack://./css/query-editor.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kCAAkC;IAClC,YAAY;IACZ,kBAAkB;IAClB,0BAA0B;IAC1B,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,SAAS;IACT,YAAY;AAChB;;AAEA;IACI,WAAW;AACf\",\"sourcesContent\":[\".dark-box {\\n    background-color: rgba(17, 18, 23);\\n    padding: 6px;\\n    border-radius: 2px;\\n    border: 1px solid darkgray;\\n    display: flex;\\n    align-items: center;\\n}\\n  \\n.dark-box span {\\n    margin: 0;\\n    padding: 2px; \\n}\\n\\n.auto-width {\\n    width: auto;\\n}\\n  \\n  \"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@grafana/data\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@grafana/runtime\");","export const QuerySelectOptions = [\n    { label: 'Query Wizard', value: 'Elements' },\n    { label: 'Text Editor', value: 'Text' },\n];\n\nexport const VariableQuerySelectOptions = [\n    { label: 'All Points', value: 'All' },\n    { label: 'Elements', value: 'Elements' },\n    { label: 'Text Editor', value: 'Text' },\n];\n\n\nexport const DefaultFlags = {\n    'Select All': { Value: false, Order: -1, Flag: 0 },\n    Normal: { Value: false, Order: 0, Flag: 0  },\n    BadData: { Value: false, Order: 1, Flag: 1 << 0  },\n    SuspectData: { Value: false, Order: 2, Flag: 1 << 1 },\n    OverRangeError: { Value: false, Order: 3, Flag: 1 << 2 },\n    UnderRangeError: { Value: false, Order: 4, Flag: 1 << 3 },\n    AlarmHigh: { Value: false, Order: 5, Flag: 1 << 4 },\n    AlarmLow: { Value: false, Order: 6, Flag: 1 << 5 },\n    WarningHigh: { Value: false, Order: 7, Flag: 1 << 6 },\n    WarningLow: { Value: false, Order: 8, Flag: 1 << 7 },\n    FlatlineAlarm: { Value: false, Order: 9, Flag: 1 << 8 },\n    ComparisonAlarm: { Value: false, Order: 10, Flag: 1 << 9 },\n    ROCAlarm: { Value: false, Order: 11, Flag: 1 << 10 },\n    ReceivedAsBad: { Value: false, Order: 12, Flag: 1 << 11 },\n    CalculatedValue: { Value: false, Order: 13, Flag: 1 << 12 },\n    CalculationError: { Value: false, Order: 14, Flag: 1 << 13 },\n    CalculationWarning: { Value: false, Order: 15, Flag: 1 << 14 },\n    ReservedQualityFlag: { Value: false, Order: 16, Flag: 1 << 15 },\n    BadTime: { Value: false, Order: 17, Flag: 1 << 16 },\n    SuspectTime: { Value: false, Order: 18, Flag: 1 << 17 },\n    LateTimeAlarm: { Value: false, Order: 19, Flag: 1 << 18 },\n    FutureTimeAlarm: { Value: false, Order: 20, Flag: 1 << 19 },\n    UpSampled: { Value: false, Order: 21, Flag: 1 << 20 },\n    DownSampled: { Value: false, Order: 22, Flag: 1 << 21 },\n    DiscardedValue: { Value: false, Order: 23, Flag: 1 << 22 },\n    ReservedTimeFlag: { Value: false, Order: 24, Flag: 1 << 23 },\n    UserDefinedFlag1: { Value: false, Order: 25, Flag: 1 << 24 },\n    UserDefinedFlag2: { Value: false, Order: 26, Flag: 1 << 25 },\n    UserDefinedFlag3: { Value: false, Order: 27, Flag: 1 << 26 },\n    UserDefinedFlag4: { Value: false, Order: 28, Flag: 1 << 27 },\n    UserDefinedFlag5: { Value: false, Order: 29, Flag: 1 << 28 },\n    SystemError: { Value: false, Order: 30, Flag: 1 << 29 },\n    SystemWarning: { Value: false, Order: 31, Flag: 1 << 30 },\n    MeasurementError: { Value: false, Order: 32, Flag: 1 << 31 }\n}\n\nexport const WhereOperators = ['=', '<>', '<', '<=', '>', '>=', 'LIKE', 'NOT LIKE', 'IN', 'NOT IN', 'IS', 'IS NOT'];\n\nexport const Booleans = ['true', 'false'];\n\nexport const AngleUnits = ['Radians', 'Degrees', 'Grads', 'ArcMinutes', 'ArcSeconds', 'AngularMil']\n\nexport const TimeUnits = ['Weeks', 'Days', 'Hours', 'Minutes', 'Seconds', 'Milliseconds', 'Microseconds', 'Nanoseconds', 'Ticks', 'PlankTime', 'AtomicUnitsOfTime', 'Ke']\n\nexport const DefaultTimeUnits = ['Seconds', 'Minutes', 'Hours', 'Days', 'Weeks', 'Ticks', 'AtomicUnitsOfTime', 'PlanckTime', 'Ke']\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@grafana/ui\");","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./query-editor.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./query-editor.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\nimport {  InlineField, TextArea } from '@grafana/ui';\nimport { QueryEditorProps } from '@grafana/data';\nimport { DataSource } from '../datasource';\nimport { MyDataSourceOptions, MyQuery } from '../types';\nimport \"../css/query-editor.css\";\n\ntype Props = QueryEditorProps<DataSource, MyQuery, MyDataSourceOptions>;\n\n\nexport function AnnotationEditor({ query, onChange }: Props) {\n\n  React.useEffect(() => {\n    if (query.queryType !== 'Annotations') {\n      onChange({...query, queryType: 'Annotations'})\n    }\n    }, [query, onChange])\n\n  return (\n    <div className=\"gf-form\" style={{ display: 'flex', flexDirection: 'column' }}>\n      <div style={{ width: '100%' }}>\n        <InlineField label=\"Query\" labelWidth={12}>\n          <TextArea\n            value={query.queryText}\n            onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => onChange({...query, queryText: evt.target.value})}\n            rows={10} \n            style={{ minWidth: '300px', width: '100%' }}\n          />\n        </InlineField>\n      </div>\n    </div>\n  );\n  \n}\n\n","import {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  MutableDataFrame,\n  FieldType,\n} from \"@grafana/data\";\nimport { MyQuery, MyDataSourceOptions, QueryRequest, Target, FunctionQuery, ParsedQuery, MyVariableQuery, QueryBase, MetaDataSelection, QueryResponse, DataSourceValueType } from \"./types\";\nimport { getBackendSrv, getTemplateSrv } from \"@grafana/runtime\";\nimport _ from \"lodash\";\nimport { DefaultFlags } from \"./js/constants\";\nimport { AnnotationEditor } from \"./components/AnnotationEditor\";\n\n\nexport class DataSource extends DataSourceApi<MyQuery, MyDataSourceOptions> {\n  url: string;\n  flags: {\n    [key: string]: boolean;\n  };\n  dataSourceValueType: number;\n\n  constructor(\n    instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>\n  ) {\n    super(instanceSettings);\n\n    this.annotations = {\n        QueryEditor: AnnotationEditor\n    }\n    this.url = instanceSettings.jsonData.http.url || \"\";\n    this.flags = instanceSettings.jsonData.flags || {};\n    this.dataSourceValueType = parseInt(instanceSettings.jsonData.valueType || \"1\",10);\n  }\n\n  // This builds the Variable Query\n  async metricFindQuery(query: MyVariableQuery, options?: any) {\n    // Retrieve DataQueryResponse based on query.\n    if (query.tableName === undefined || query.fieldName === undefined) {return;}\n    if (query.tableName.length === 0 || query.fieldName.length === 0) {return;}\n\n    let data = await getBackendSrv().post(this.url + \"/Search\",{\n      dataTypeIndex: \tthis.dataSourceValueType, \n      expression: \t`SELECT DISTINCT ${query.fieldName} FROM ${query.tableName} ${query.condition?.length ?? 0 === 0? \"\" : ` WHERE ${query.condition}`}`\n    })\n    return data.map((s: string) => ({text: s}));\n  }\n  \n  //Generate value of excluded flags\n  calculateFlags() {\n    let excludedValue = 0;\n\n    for (const [key, value] of Object.entries(this.flags)) {\n      if (key !== \"Select All\" && key !== \"Normal\" && value === true) {\n        excludedValue ^= DefaultFlags[key as keyof typeof DefaultFlags].Flag;\n      }\n    }\n\n    return excludedValue;\n  }\n\n  targetToString(target: QueryBase) {\n    if (target === undefined) {\n      return \"\";\n    }\n\n    if (target.queryType === \"Elements\" || target.queryType === undefined) {\n      return this.parsedQueryToString(target.parsedQuery)\n    }\n    else if(target.queryType === \"Text\"){\n      return target.queryText\n    }\n    else{\n      return \"\"\n    }\n  }\n\n  functionToString(fx: FunctionQuery) {\n    const parameter = fx.Parameters.map((p) => {\n      if (p.type.type.includes('IAsyncEnumerable')) {\n        return this.parsedQueryToString(p.value as ParsedQuery)\n      }\n      return p.value.toString()\n    }).join(',')\n    return  `${fx.Function}(${parameter})`;\n  }\n\n  parsedQueryToString(query: ParsedQuery) {\n    if (query === undefined) {\n      return \"\";\n    }\n    const parts: string[] = [];\n    if (query.Elements !== undefined) {\n      parts.push(query.Elements.join(\";\"));\n    }\n    if (query.Filters !== undefined) {\n      parts.push(query.Filters.map(f => `Filter ${f.NumberMode === '' ? '' : `${f.NumberMode} ${f.Number}`} ${f.Table}${f.Condition?.length > 0? ` WHERE ${f.Condition}` : ''}`).join(\";\"))\n    }\n    if (query.Functions !== undefined) {\n      parts.push(query.Functions.map(f => this.functionToString(f)).join(';'))\n    }\n    return parts.filter(s => s.length > 0).join(\";\");\n  }\n\n  buildQueryParameters(options: DataQueryRequest<MyQuery>): QueryRequest {\n    const excludedFlags = this.calculateFlags();\n    const excludeNormalFlags = this.flags[\"Normal\"] ?? false;\n    \n    const targets: Target[] = options.targets.filter( t=> !(t.hide ?? false) && t.queryType !== 'Annotations').map((t) => {\n\n      const mData: MetaDataSelection[] = [];\n      if (t.metadataOptions !== undefined) {\n        t.metadataOptions.forEach((m) => {\n          if (mData.find(t => t.tableName === m.Table) !== undefined) {\n            mData.find(t => t.tableName === m.Table)?.fieldNames.push(m.FieldName);\n          }\n          else {\n            mData.push({tableName: m.Table, fieldNames: [m.FieldName]})\n          }\n        })\n      }\n\n      let qstring = getTemplateSrv().replace(this.targetToString(t), options.scopedVars);\n      if (t.commandLevel?.DropEmpty ?? false) {\n        qstring = qstring + \"; dropEmptySeries\";\n      }\n      if (t.commandLevel?.IncludePeaks ?? false) {\n        qstring = qstring + \"; includePeaks\";\n      }\n      if (t.commandLevel?.FullResolution ?? false) {\n        qstring = qstring + \"; fullResolutionQuery\";\n      }\n      if (t.commandLevel?.RadialDistribution ?? false) {\n        qstring = qstring + `; radialDistribution={radius=${(t.commandLevel?.Radius ?? 1.5)}; zoom=${(t.commandLevel?.Zoom ?? 2)}}`;\n      }\n\n    return ({\n      refID: t.refId,\n      target: qstring,\n      metadataSelections: mData,\n    })});\n  \n    return {\n      dataTypeIndex: this.dataSourceValueType, \n      range: {from: options.range.from.toISOString(), to: options.range.to.toISOString()},\n      interval: options.interval,\n      targets: targets,\n      adhocFilters: [],\n      excludedFlags: excludedFlags, \n      excludeNormalFlags: excludeNormalFlags ,\n      maxDataPoints: options.maxDataPoints ?? 1000\n    };\n  }\n\n  async getTags(): Promise<string[]> {\n    const datasourceTypes: DataSourceValueType[] = await getBackendSrv().post(this.url + \"/GetValueTypes\", {});\n    return datasourceTypes.find(d => d.index === this.dataSourceValueType)?.timeSeriesDefinition?.split(\",\") ?? []\n  }\n\n  async query(options: DataQueryRequest<MyQuery>): Promise<DataQueryResponse> {\n    const target = options.targets[0];\n\n    const hasDataQuery = options.targets.some(t => t.queryType !== 'Annotations');\n    const hasAnnotationQuery =  options.targets.some(t => t.queryType === 'Annotations');;\n\n    let data: Array<(MutableDataFrame<any>|undefined)> = [];\n    //Generate query\n    if (hasDataQuery) {\n      let query: QueryRequest = this.buildQueryParameters(options);\n\n      // Get Data\n      let pointsData: QueryResponse[] = await getBackendSrv().post(this.url + \"/query\",query);\n\n      const tags = await this.getTags();\n    \n      const transposeFrame = new MutableDataFrame({\n        refId: target.refId,\n        fields: tags.map((s,i) => ({\n          name: s, \n          type: (i < (tags.length - 1)? FieldType.number : FieldType.time)\n        })),\n      });\n\n      //Add MetaData Fields.\n      const frames = pointsData.map((d) => {\n        \n        const metaData: string[] = Object.keys(d.metadata);\n        \n        if (options.targets.find(item => item.refId === d.refID)?.transpose ?? false) {\n          const row: {[k: string]: any} = {};\n          tags.forEach((t,i) =>{ row[t] = d.datapoints[0][i]});\n          metaData.forEach((m) => {\n            if (!transposeFrame.fields.map(f => f.name).includes(m)) {\n              transposeFrame.addField({name: m, type: FieldType.other})\n            }\n            row[m] = d.metadata[m]; })\n          transposeFrame.add(row);\n          return undefined;\n        }\n        else {\n\n        const frame = new MutableDataFrame({\n          refId: target.refId,\n          fields: metaData.concat(tags).map((s,i) => ({\n            name: s, \n            type: (i < metaData.length? FieldType.other : (i < (metaData.length + tags.length - 1)? FieldType.number : FieldType.time))\n          })),\n        });\n\n        frame.refId = d.refID;\n        frame.name = d.target;\n\n        d.datapoints.forEach((pt) => {\n          const row: {[k: string]: any} = {};\n          tags.forEach((t,i) =>{ row[t] = pt[i]});\n          metaData.forEach((m) => { row[m] = d.metadata[m] })\n          frame.add(row);\n        })\n\n        return frame;\n      }\n      })\n    \n      if (options.targets.some(t => t.transpose)) {\n        frames.push(transposeFrame);\n      }\n      data = frames.filter(f => f !== undefined);\n    }\n    if (hasAnnotationQuery) {\n      data.push(await this.queryAnnotations(options))\n    }\n\n    return { data };\n  }\n\n  async testDatasource() {\n    return await getBackendSrv().get(this.url + \"/\")\n      .then(() => ({\n        status: \"success\",\n        message: \"Data source is working\",\n        title: \"Success\",\n      }),() => ({\n        status: \"error\",\n        message: \"Data source is not working\",\n        title: \"Error\",\n      }))\n  }\n\n  async queryAnnotations(options: DataQueryRequest<MyQuery>): Promise<MutableDataFrame<any>> {\n\n      const queyText = options.targets\n        .map((t) => getTemplateSrv().replace(t.queryText, options.scopedVars))\n        .join(';');\n\n      const annotationQuery = {\n          range: options.range,\n          annotationQuery: queyText,\n          rangeRaw: options.rangeRaw\n      };\n\n      const data = await getBackendSrv().post(this.url + '/annotations', annotationQuery);\n      if (data.length > 500) {\n        throw Error(`There are ${data.length} annotations. Grafana can not display more than 500.`)\n      }\n      const frame = new MutableDataFrame({\n        refId:  options.targets[0].refId,\n        fields: [\n          { name: \"time\", type: FieldType.time },\n          { name: \"timeEnd\", type: FieldType.time },\n          { name: \"title\", type: FieldType.string },\n          { name: \"text\", type: FieldType.string },\n          { name: \"tags\", type: FieldType.string },\n        ],\n      });\n      data.forEach((a: any) => {\n        frame.add(\n          {\n            \"time\": a[\"time\"], \n            \"timeEnd\": a[\"endTime\"],\n            \"title\": a[\"title\"],\n            \"text\": a[\"text\"], \n            \"tags\": a[\"tags\"]\n          })\n      })\n      return frame;\n  }\n}\n\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./config-editor.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./config-editor.css\";\n       export default content && content.locals ? content.locals : undefined;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"lodash\");","import React from 'react';\nimport {  InlineField, AsyncMultiSelect, Select, Input, InlineFieldRow, Collapse, IconButton, Card } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\nimport { DataSource } from '../datasource';\nimport { FilterQuery, FunctionDescription, FunctionQuery,ParameterType, ParsedQuery, QueryBase} from '../types';\nimport \"../css/query-editor.css\";\nimport { getBackendSrv } from \"@grafana/runtime\";\nimport _ from 'lodash';\n\ninterface Props {onChange: (value: QueryBase) => void, query: QueryBase, datasource: DataSource, includeFunctions?: boolean }\n\nexport const QueryEditorWizard = (props: Props) => {\n  const [elements, setElements] = React.useState<string[]>(props.query.parsedQuery?.Elements ?? []);\n  const [functions, setFunctions] = React.useState<FunctionQuery[]>(props.query.parsedQuery?.Functions ?? []);\n  const [availableFunctions, setAvailableFunctions] = React.useState<FunctionDescription[]>([]);\n  const [tableOptions, setTableOptions] = React.useState<string[]>([]);\n  const [filters, setFilters] = React.useState<FilterQuery[]>(props.query.parsedQuery?.Filters ?? []);\n\n  React.useEffect(() => {\n    if (!(props.includeFunctions ?? true)) {\n      setAvailableFunctions([]);\n      return;\n    }\n\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeFunctions\", {\n        dataTypeIndex: props.datasource.dataSourceValueType,\n        expression: \"\"\n      }).then((d) => {\n        setAvailableFunctions(d);\n    });\n  }, [props.datasource.url, props.includeFunctions, props.datasource.dataSourceValueType])\n\n  React.useEffect(() => {\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTables\", {dataTypeIndex: props.datasource.dataSourceValueType, expression: \"\"})\n      .then((d: string[]) => { setTableOptions(d); })\n  }, [props.datasource.url, props.datasource.dataSourceValueType])\n\n\n  function onElementChange(e: string[], fx: string|undefined, filter: boolean) {\n    setElements(e);\n    if (fx !== undefined) {\n      setFunctions(f => { let u = _.clone(f); u.push({\n        Function: fx,\n        Parameters: availableFunctions.find(f => f.name === fx)?.parameters.map(p => ({type: p, value: p.type.includes(\"IAsyncEnumerable\")?  {Elements: [], Functions: [], Filters: [] } : p.default} as ParameterType)) ?? [],\n      }); return u;})\n    }\n    const u = {...props.query};\n    if (u.parsedQuery === undefined) {\n      u.parsedQuery = {Elements: [], Functions: [], Filters: []}\n    }\n    u.parsedQuery.Elements = e;\n    if (filter) {\n      u.parsedQuery.Filters.push({Table: '', Condition: '', Number: 10, NumberMode: 'Top'});\n      setFilters(u.parsedQuery.Filters);\n    }\n    props.onChange(u);\n  }\n \n  function onFilterChange(f: FilterQuery|undefined, index: number) {\n    const u = {...props.query};\n    if (u.parsedQuery === undefined) {\n      u.parsedQuery = {Elements: [], Functions: [], Filters: []}\n    }\n    if (f === undefined) {\n      u.parsedQuery.Filters.splice(index,1);\n    }\n    else {\n      u.parsedQuery.Filters[index] = f;\n    }\n    setFilters(u.parsedQuery.Filters);\n    props.onChange(u);\n  }\n\n  function onFunctionChange(f: FunctionQuery|undefined, index: number) {\n    const u = {...props.query};\n    if (u.parsedQuery === undefined) {\n      u.parsedQuery = {Elements: [], Functions: [], Filters: []}\n    }\n    if (f === undefined) {\n      u.parsedQuery.Functions.splice(index,1);\n    }\n    else {\n      u.parsedQuery.Functions[index] = f;\n    }\n    setFunctions(u.parsedQuery.Functions);\n    props.onChange(u);\n  }\n\n\n  return <div style={{ width: '100%' }}>\n    <ElementQuery \n    datasource={props.datasource} \n    elements={elements} update={onElementChange} \n    availableFunctions={availableFunctions}\n    />\n    {functions?.map((f,i) => <FunctionQueryUI key={f.Function}\n      update={(f) => onFunctionChange(f,i)}\n      func={f} availableFunctions={availableFunctions} \n      availableTables={tableOptions}\n      datasource={props.datasource}    \n    />)}\n    {filters?.map((f,i) => <FilterQueryUI\n      key={i} \n      availableTables={tableOptions}\n      update={(f) => onFilterChange(f,i)} filter={f}/>)}\n</div>;\n}\n\ninterface ElementQueryProps { \n  datasource: DataSource,\n  update: (elements: string[], fx: string|undefined, filter: boolean) => void,\n  elements: string[],\n  availableFunctions: FunctionDescription[]\n}\n\nexport const ElementQuery = (props: ElementQueryProps) => {\n  const selectedOptions = React.useMemo(() => props.elements.map((d) => ({value: d, label: d})),[props.elements]);\n\n  const loadOptions = async (inputValue: string) => {\n    const d = await getBackendSrv().post(props.datasource.url + \"/Search\", {\n      dataTypeIndex: props.datasource.dataSourceValueType,\n      expression: inputValue\n    })\n    const r: any[] = d.map((p: string) => ({value: p, label: p}));\n    if ('filter'.includes(inputValue.toLocaleLowerCase())) {\n      r.push({value: 'FILTER', label: 'FILTER'});\n    }\n    props.availableFunctions.filter((f) => f.name.toLocaleLowerCase().includes(inputValue.toLocaleLowerCase()) ||\n     (f.aliases?.some((a) => a.toLocaleLowerCase().includes(inputValue.toLocaleLowerCase())) ?? false))\n      .forEach((f) => {\n      r.push({label: f.name, value: 'fx-' + f.name})\n    })\n    return r;\n  };\n\n  const onElementsChange = (selected: Array<SelectableValue<string>>) => {\n    const selectedValues = selected.map((item) => item.value) as string[];\n    let hasFilter = selectedValues.includes('FILTER');\n    const fx = selectedValues.filter(s => s.startsWith('fx-'));\n    let func: string|undefined = undefined;\n    if (fx.length > 0) {\n      func = fx[0].substring(3);\n    }\n\n    props.update(selectedValues.filter(i => i !== 'FILTER' && !i.startsWith('fx-')),func,hasFilter);\n  };\n\n\n  return <InlineField label=\"Query\" labelWidth={12}>\n    <AsyncMultiSelect\n      loadOptions={loadOptions}\n      defaultOptions={true}\n      value={selectedOptions}\n      onChange={onElementsChange}\n      isSearchable\n    />\n  </InlineField>\n}\n\ninterface FilterQueryProps { \n  update: (filter: FilterQuery|undefined) => void,\n  filter: FilterQuery,\n  availableTables: string[]\n}\n\nconst FilterQueryUI = (props: FilterQueryProps ) => {\n  const numberOptions = [\n    {label: 'TOP', value: 'Top'}, \n    {label: 'ALL', value: ''}]\n\n  const tableOptions: Array<SelectableValue<string>> = React.useMemo(() => props.availableTables.map((t) => ({label: t, value: t})), [props.availableTables])\n  const selectedOptions: Array<SelectableValue<string>> = React.useMemo(() => props.filter.Table === ''? [] : [{value: props.filter.Table, label: props.filter.Table}],[props.filter.Table]);\n\n  function onNumberModeChange(val: SelectableValue<string>) {\n    props.update({...props.filter, NumberMode: val.value as ('Top'|'')})\n  }\n\n  function OnNumberChange(val: any) {\n    const n = val.target.value;\n    props.update({...props.filter, Number: parseInt(n,10)})\n  }\n\n  function onTableChange(t: SelectableValue<string>) {\n    props.update({...props.filter, Table: t.value ?? ''})\n  }\n\n  function onConditionChange(val: any) {\n    props.update({...props.filter, Condition: val.target.value})\n  }\n\n\n  return <InlineFieldRow>\n  <IconButton name={'trash-alt'} size='xl' iconType='default' variant='destructive' onClick={() => props.update(undefined)}  />\n  <InlineField label=\"Filter\" labelWidth={12}>\n    <Select  \n    value={props.filter.NumberMode}\n    options={numberOptions}\n    onChange={onNumberModeChange}\n    />\n  </InlineField>\n  {props.filter.NumberMode !== ''? <Input type={'number'}\n    min={0} max={99999}\n    value={props.filter.Number}\n    onChange={OnNumberChange}\n    width={20}\n    /> : null}\n    <Select  \n      value={selectedOptions}\n      options={tableOptions}\n      isLoading={tableOptions.length === 0}\n      onChange={onTableChange}\n      isSearchable\n      width={80}\n    />\n  <InlineField label=\"WHERE\" labelWidth={12}>\n    <Input  \n    value={props.filter.Condition}\n    onChange={onConditionChange}\n    />\n  </InlineField>\n  </InlineFieldRow>\n\n}\n\ninterface FunctionQueryProps {\n  update: (func: FunctionQuery|undefined) => void,\n  func: FunctionQuery,\n  availableFunctions: FunctionDescription[],\n  availableTables: string[],\n  datasource: DataSource\n}\n\n\nconst FunctionQueryUI = (props: FunctionQueryProps ) => {\n  const [isOpen,setIsOpen] = React.useState<boolean>(true);\n  const fxDescription = React.useMemo(() => props.availableFunctions.find(f => f.name === props.func.Function),[props.func,props.availableFunctions]);\n  const fxOptions = React.useMemo(() => props.availableFunctions.map((f) => ({value: f.name, label: f.name})),[props.availableFunctions])\n\n  function onFunctionChange(val: SelectableValue<string>) {\n    const fx = props.availableFunctions.find(f => f.name === val.value)\n    if (fx === null) {\n      return\n    }\n    props.update({Function: val.value ?? 'AbsoluteValue', Parameters: fx?.parameters.map((p) => {\n      const param: ParameterType = { type: p, value: p.type.includes(\"IAsyncEnumerable\")?  {Elements: [], Functions: [], Filters: [] } : p.default};\n      return param;\n    }) ?? []});\n\n    setIsOpen(true); \n  }\n  \n  function onValueChange(val: ParameterType, index: number) {\n    const u = _.cloneDeep(props.func);\n    u.Parameters[index] = val;\n    props.update(u);\n  }\n\n  return <Collapse label={\n    <InlineFieldRow>\n      <IconButton name={'trash-alt'} size='xl' iconType='default' variant='destructive' onClick={() => props.update(undefined)}  />\n      <Select  \n        value={props.func.Function}\n        options={fxOptions}\n        onChange={onFunctionChange}\n        isSearchable\n        width={20}\n        />\n    </InlineFieldRow>\n  } isOpen={isOpen} onToggle={() => setIsOpen((x) => !x)}>\n    <p>{fxDescription?.description}</p>\n    <ul>\n     \n        {props.func.Parameters.map((p,i) => <li key={p.type.name}>\n          <ParameterUI update={(val) => onValueChange(val,i)} \n            param={p} \n            availableFunctions={props.availableFunctions}\n            availableTables={props.availableTables} \n            datasource={props.datasource} />\n</li>)}\n    \n    </ul>\n  </Collapse>;\n}\n\ninterface ParameterQueryProps {\n  update: (p: ParameterType) => void,\n  param: ParameterType,\n  availableFunctions: FunctionDescription[],\n  availableTables: string[],\n  datasource: DataSource,\n}\nconst ParameterUI = (props: ParameterQueryProps) => {\n\n  const AngleOptions: Array<SelectableValue<string>> = [ {value: 'Radians', label: 'Radians'},{value: 'Degrees', label: 'Degrees'}\n  ,{value: 'Grads', label: 'Grads'},{value: 'ArcMinutes', label: 'ArcMinutes'}, \n  {value: 'ArcSeconds', label: 'ArcSeconds'},{value: 'AngularMil', label: 'AngularMil'}];\n\n  const TimeOption = [\n    {value: 'Seconds', label: 'Seconds'},\n    {value: 'Nanoseconds', label: 'Nanoseconds'},\n    {value: 'Microseconds', label: 'Microseconds'},\n    {value: 'Milliseconds', label: 'Milliseconds'},\n    {value: 'Minutes', label: 'Minutes'},\n    {value: 'Hours', label: 'Hours'},\n    {value: 'Days', label: 'Days'},\n    {value: 'Weeks', label: 'Weeks'},\n    {value: 'Ke', label: 'Ke (traditional Chinese)'},\n    {value: 'Ticks', label: 'Ticks'},\n    {value: 'PlanckTime', label: 'PlanckTime'},\n    {value: 'AtomicUnitsOfTime', label: 'AtomicUnitsOfTime'}];\n\n  const BooleanOption = [ {value: '1', label: 'True'}, {value: '0', label: 'False'},]\n\n  \n  function onElementChange(e: string[], fx: string|undefined, filter: boolean) {\n    let u = _.cloneDeep(props.param) as ParameterType;\n    if (u === undefined) {\n      u = {type: props.param.type, value: {Elements: [], Functions: [], Filters: []}}\n    }\n    if (fx !== undefined) {\n      (u.value as ParsedQuery)?.Functions.push({\n        Function: fx,\n        Parameters: [],\n      })\n    }\n    \n    (u.value as ParsedQuery).Elements = e;\n    if (filter) {\n      (u.value as ParsedQuery)?.Filters.push({Table: '', Condition: '', Number: 10, NumberMode: 'Top'});\n    }\n    props.update(u);\n  }\n \n  function onFilterChange(f: FilterQuery|undefined, index: number) {\n    let u = _.cloneDeep(props.param) as ParameterType;\n    if (u === undefined) {\n      u = {type: props.param.type, value: {Elements: [], Functions: [], Filters: []}}\n    }\n    if (f === undefined) {\n      (u.value as ParsedQuery)?.Filters.splice(index,1)\n    } else {\n      (u.value as ParsedQuery).Filters[index] = f;\n    }\n    props.update(u);\n  }\n\n  function onFunctionChange(f: FunctionQuery|undefined, index: number) {\n    let u = _.cloneDeep(props.param) as ParameterType;\n    if (u === undefined) {\n      u = {type: props.param.type, value: {Elements: [], Functions: [], Filters: []}}\n    }\n    if (f === undefined) {\n      (u.value as ParsedQuery)?.Functions.splice(index,1);\n    } else {\n      (u.value as ParsedQuery).Functions[index] = f;\n    }\n    props.update(u);\n  }\n\n  function onStringChange(val: any) {\n    props.update({type: props.param.type, value: val.target.value})\n  }\n\n  function onSelectChange(val: SelectableValue<string>) {\n    props.update({type: props.param.type, value: val.value as string})\n  }\n\n  return  <Card>\n  <Card.Heading>{props.param.type.name}</Card.Heading>\n  <Card.Description>\n    <>\n        <p>{props.param.type.description} ({props.param.type.type})</p>\n\n        {props.param.type.type.includes(\"IAsyncEnumerable\")? <>\n      <ElementQuery \n        datasource={props.datasource} \n        elements={(props.param?.value as ParsedQuery)?.Elements ?? []} \n        update={onElementChange} \n        availableFunctions={props.availableFunctions}\n      />\n    {(props.param?.value as ParsedQuery)?.Functions?.map((f,i) => <FunctionQueryUI key={f.Function}\n      update={(f) => onFunctionChange(f,i)}\n      func={f} availableFunctions={props.availableFunctions} \n      availableTables={props.availableTables}\n      datasource={props.datasource}    \n    />)}\n    {(props.param?.value as ParsedQuery)?.Filters?.map((f,i) => <FilterQueryUI\n      key={i} \n      availableTables={props.availableTables}\n      update={(f) => onFilterChange(f,i)} filter={f}/>)}\n      </> : null }\n    {props.param.type.type === 'Double'?  <Input type={'number'}\n    value={(props.param?.value as string) ?? '1.0'}\n    onChange={onStringChange}\n    width={20}\n    /> : null }\n    { props.param.type.type === 'String'?  <Input type={'text'}\n    value={(props.param?.value as string) ?? ''}\n    onChange={onStringChange}\n    width={20}\n    /> : null}\n    {props.param.type.type === 'Int32'?  <Input type={'number'}\n    min={0} max={99999}\n    value={(props.param?.value as string) ?? '1'}\n    onChange={onStringChange}\n    width={20}\n    /> : null}\n    {props.param.type.type === 'AngleUnit'?  <Select \n    value={(props.param?.value as string) ?? 'Degrees'}\n    options={AngleOptions}\n    onChange={onSelectChange}\n    isSearchable\n    /> : null}\n     {props.param.type.type === 'TargetTimeUnit'?  <Select \n    value={(props.param?.value as string) ?? 'Seconds'}\n    options={TimeOption}\n    onChange={onSelectChange}\n    isSearchable\n    /> : null}\n     {props.param.type.type === 'Boolean'?  <Select \n    value={(props.param?.value as string) ?? '1'}\n    options={BooleanOption}\n    onChange={onSelectChange}\n    isSearchable\n    /> : null}\n    </>\n    \n    \n  </Card.Description>\n</Card>;\n};\n\n","import React from 'react';\nimport { InlineField, InlineFieldRow, Select, IconButton, Button } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\nimport { DataSource } from '../datasource';\nimport { FieldDescription, IMetaDataField } from '../types';\nimport \"../css/query-editor.css\";\nimport { getBackendSrv } from \"@grafana/runtime\";\nimport _ from 'lodash';\n\ninterface MetaDataProps { datasource: DataSource, onChange: (value: IMetaDataField[]) => void, query: IMetaDataField[] }\n\nexport const MetaDataSelector = (props: MetaDataProps) => {\n  const [tableOptions, setTableOptions] = React.useState<Array<SelectableValue<string>>>([]);\n  \n  React.useEffect(() => {\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTables\", {dataTypeIndex: props.datasource.dataSourceValueType, expression: \"\"})\n      .then((d: string[]) => { setTableOptions(d?.map((t) => ({value: t, label: t})) ?? []); })\n  }, [props.datasource.dataSourceValueType, props.datasource.url])\n\n  const onRemoveField = (index: number) => {\n    let u = [...props.query];\n    u.splice(index,1);\n    props.onChange(u);\n  };\n\n  const onAddFld = () => {\n    if (props.query === undefined) {\n      props.onChange([{Table: \"\", FieldName: \"\"}]);\n    }\n    props.onChange([...props.query, {Table: \"\", FieldName: \"\"}]);\n  };\n\n  const onUpdateFld = (fld: IMetaDataField, index: number) => {\n    \n    let u = [...props.query];\n    u[index] = fld;\n    props.onChange(u);\n  };\n\n  return (\n    <div className='gf-form-group'>\n      {props.query?.map((q,i) => <MetaDataFieldSelector \n        Field={q} key={i} Remove={() => onRemoveField(i)} Update={(fld) => onUpdateFld(fld,i)}\n        TableOptions={tableOptions} Datasource={props.datasource}  />)}\n        <InlineFieldRow>\n          <InlineField>\n            <Button onClick={() => onAddFld()}> Add Meta Data Field</Button>\n          </InlineField>\n        </InlineFieldRow>\n    </div>)\n}\n\ninterface MeataDataFieldSelectorProps { \n  Field: IMetaDataField,\n  Remove: () => void, \n  Update: (fld: IMetaDataField) => void,\n  TableOptions: Array<SelectableValue<string>>,\n  Datasource: DataSource\n  }\n\nconst MetaDataFieldSelector = (props: MeataDataFieldSelectorProps) => {\n  const [fieldOptions, setFieldOptions] = React.useState<Array<SelectableValue<string>>>([]);\n\n  React.useEffect(() => {\n    setFieldOptions([]);\n    if (props.Field.Table === undefined) {\n      return;\n    }\n    getBackendSrv().post(props.Datasource.url + \"/GetValueTypeTableFields\", {\n      dataTypeIndex: props.Datasource.dataSourceValueType,\n      expression: props.Field.Table\n    }).then((d: FieldDescription[]) => setFieldOptions(d?.map((fld) => ({value: fld.name, label: fld.name})) ?? []))\n  }, [props.Field.Table, props.Datasource.url, props.Datasource.dataSourceValueType])\n\n  const updateTable = (val: SelectableValue<string>) => {\n    props.Update({Table: val.value ?? \"\", FieldName: \"\"})\n  };\n\n  const updateField = (val: SelectableValue<string>) => {\n    props.Update({Table: props.Field.Table, FieldName: val.value ?? \"\"})\n  };\n\n  return <InlineFieldRow>\n       <InlineField label=\"Table\" labelWidth={12}>\n              <Select  \n                value={props.Field.Table}\n                options={props.TableOptions}\n                onChange={updateTable}\n                isLoading={props.TableOptions.length === 0}\n                invalid={(props.Field?.Table?.length ?? 0) === 0}\n                />\n            </InlineField>\n            <InlineField label=\"Field\" labelWidth={12}>\n              <Select  \n                value={props.Field.FieldName}\n                options={fieldOptions}\n                onChange={updateField}\n                isLoading={fieldOptions.length === 0}\n                invalid={(props.Field?.FieldName?.length ?? 0) === 0}\n                disabled={(props.Field?.Table?.length ?? 0) === 0}\n                />\n            </InlineField>\n            <InlineField>\n              <IconButton name={'trash-alt'} size='xl' iconType='default' variant='destructive' onClick={() => props.Remove()}  />\n            </InlineField>\n  </InlineFieldRow>\n\n}\n","import React from 'react';\nimport {  InlineField, TextArea } from '@grafana/ui';\nimport \"../css/query-editor.css\";\n\n\ninterface TextQueryProps { onChange: (value: string) => void, query: string }\n\nexport const TextQuery = (props: TextQueryProps) => {\n  return <div className='gf-form-group'>\n  <InlineField label=\"Query Editor\" labelWidth={12} grow={true} shrink={true}>\n    <TextArea\n      value={props.query}\n      onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => props.onChange(evt.target.value)}\n      rows={10} \n    />\n  </InlineField>\n</div>;\n}\n","import React from 'react';\nimport {  InlineField, InlineFieldRow, InlineSwitch, Input } from '@grafana/ui';\nimport \"../css/query-editor.css\";\nimport { CommandLevelFlags } from '../types';\n\n\ninterface CommandLevelSelectorProps { onChange: (value: CommandLevelFlags) => void, query?: CommandLevelFlags }\n\nexport const CommandLevelSelector = (props: CommandLevelSelectorProps) => {\n\n  const onChange = (event: React.FormEvent<HTMLInputElement>, setting: 'DropEmpty'|'IncludePeaks'|'FullResolution'|'RadialDistribution') => {\n \n    let updated: CommandLevelFlags = {\n      DropEmpty: false,\n      IncludePeaks: false,\n      FullResolution: false,\n      RadialDistribution: false,\n      Radius: 1.5,\n      Zoom: 2.0\n    };\n\n    if (props.query !== undefined) {\n      updated = {...props.query};\n    }\n  \n    updated[setting] = !updated[setting];\n    props.onChange(updated);\n   \n  };\n\n  function onRadiusChange(val: any) {\n    let updated: CommandLevelFlags = {\n      DropEmpty: false,\n      IncludePeaks: false,\n      FullResolution: false,\n      RadialDistribution: false,\n      Radius: 1.5,\n      Zoom: 2.0\n    };\n\n    if (props.query !== undefined) {\n      updated = {...props.query};\n    }\n  \n    updated.Radius = parseFloat(val.toString());\n    props.onChange(updated);\n  }\n\n  function onZoomChange(val: any) {\n    let updated: CommandLevelFlags = {\n      DropEmpty: false,\n      IncludePeaks: false,\n      FullResolution: false,\n      RadialDistribution: false,\n      Radius: 1.5,\n      Zoom: 2.0\n    };\n\n    if (props.query !== undefined) {\n      updated = {...props.query};\n    }\n  \n    updated.Zoom = parseFloat(val.toString());\n    props.onChange(updated);\n  }\n  return <div className='gf-form-group'>\n    <InlineFieldRow>\n      <InlineField label={'Drop Empty Points'} labelWidth={24}>\n        <InlineSwitch\n          disabled={false}\n          value={ props.query?.DropEmpty ?? false}\n          onChange={(e) => onChange(e,'DropEmpty')}\n        />\n      </InlineField>\n    </InlineFieldRow>\n\n    <InlineFieldRow>\n      <InlineField label={'Include Peaks'} labelWidth={24}>\n        <InlineSwitch\n          disabled={false}\n          value={ props.query?.IncludePeaks ?? false}\n          onChange={(e) => onChange(e,'IncludePeaks')}\n        />\n      </InlineField>\n    </InlineFieldRow>\n    <InlineFieldRow>\n      <InlineField label={'Get Full Resolution Data'} labelWidth={24}>\n        <InlineSwitch\n          disabled={false}\n          value={ props.query?.FullResolution ?? false}\n          onChange={(e) => onChange(e,'FullResolution')}\n        />\n      </InlineField>\n    </InlineFieldRow>\n    <InlineFieldRow>\n      <InlineField label={'Distribute Radially'} labelWidth={24}>\n        <InlineSwitch\n          disabled={false}\n          value={ props.query?.RadialDistribution ?? false}\n          onChange={(e) => onChange(e,'RadialDistribution')}\n        />\n      </InlineField>\n    </InlineFieldRow>\n    {(props.query?.RadialDistribution ?? false)? <InlineFieldRow>\n      <InlineField label={'Radius'}>\n        <Input type={'number'}\n          value={(props.query?.Radius ?? 1.5 ).toString()}\n          onChange={onRadiusChange}\n        />\n      </InlineField>\n      <InlineField label={'Zoom'}>\n        <Input type={'number'}\n          value={(props.query?.Zoom ?? 2.0 ).toString()}\n          onChange={onZoomChange}\n        />\n      </InlineField>\n    </InlineFieldRow>: null}\n    </div>;\n}\n\n","import { DataSourcePlugin } from '@grafana/data';\nimport { DataSource } from './datasource';\nimport { ConfigEditor } from './components/ConfigEditor';\nimport { QueryEditor } from './components/QueryEditor';\nimport { MyQuery, MyDataSourceOptions } from './types';\nimport { VariableQueryEditor } from 'components/VariableQueryEditor';\n\n\nexport const plugin = new DataSourcePlugin<DataSource, MyQuery, MyDataSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor)\n  .setVariableQueryEditor(VariableQueryEditor)\n  ;\n","import {\n  DataSourceHttpSettings,\n  InlineFieldRow,\n  InlineField,\n  Switch,\n  Tooltip,\n  Select,\n  Card,\n  TagList,\n} from \"@grafana/ui\";\n\nimport React from \"react\";\nimport { DataSourcePluginOptionsEditorProps, DataSourceSettings, SelectableValue } from \"@grafana/data\";\nimport { DataSourceValueType, MyDataSourceOptions } from \"../types\";\nimport { DefaultFlags } from \"../js/constants\";\nimport \"../css/config-editor.css\";\nimport { getBackendSrv } from \"@grafana/runtime\";\n\ninterface Props\n  extends DataSourcePluginOptionsEditorProps<MyDataSourceOptions> {}\n\nexport function ConfigEditor(props: Props) {\n  const { onOptionsChange, options } = props;\n  const [dataSourceTypes, setDataSourceTypes] = React.useState<DataSourceValueType[]>([])\n  const dataSourceTypeOptions = React.useMemo(() => dataSourceTypes.map(s => ({value: s.index.toString(), label: s.name})), [dataSourceTypes]);\n\n  const url = React.useMemo(() => (options?.jsonData?.http?.url ?? ''), [options])\n  React.useEffect(() => {\n    if (url.length < 1) {\n      return;\n    }\n    getBackendSrv().post(url + \"/GetValueTypes\", {}).then((d: DataSourceValueType[]) => setDataSourceTypes(d));\n  }, [url])\n\n  const onHttpChange = (config: DataSourceSettings<MyDataSourceOptions>) => {\n    const jsonData = {\n      ...options.jsonData,\n      flags: options.jsonData.flags || {},\n      http: config,\n    };\n\n    onOptionsChange({ ...options, jsonData });\n  };\n\n  const onFlagsChange = (event: React.FormEvent<HTMLInputElement>) => {\n    const input = event.target as HTMLInputElement;\n    const { name, checked } = input;\n  \n    let updatedFlags: { [key: string]: boolean } = {};\n  \n    // Select All\n    if (name === \"Select All\") {\n      const selectAllState = !options.jsonData.flags || !options.jsonData.flags[\"Select All\"];\n  \n      // Set all flags to the selectAllState\n      updatedFlags = Object.keys(DefaultFlags).reduce((acc: { [key: string]: boolean }, flag) => {\n        acc[flag] = selectAllState;\n        return acc;\n      }, {} as { [key: string]: boolean });\n    } else {\n      // If individual flag is toggled, update its value\n      updatedFlags = {\n        ...options.jsonData.flags,\n        [name]: checked,\n      };\n  \n      // If any individual flag is unchecked, uncheck the \"Select All\" flag\n      if (!checked) {\n        updatedFlags[\"Select All\"] = false;\n      }\n    }\n  \n    const jsonData = {\n      ...options.jsonData,\n      flags: updatedFlags,\n    };\n  \n    onOptionsChange({ ...options, jsonData });\n  };\n\n   const onTypeChange = (val: SelectableValue<string>) => {\n \n    const jsonData = {\n      ...options.jsonData,\n      valueType: (val.value ?? '1')\n    };\n\n    onOptionsChange({ ...options, jsonData });\n  };\n\n\n  return (\n    <div className=\"gf-form-group\">\n      <DataSourceHttpSettings\n        defaultUrl={options.jsonData.http ? options.jsonData.http.url : \"\"}\n        dataSourceConfig={options.jsonData.http ? options.jsonData.http : options}\n        showAccessOptions={true}\n        onChange={onHttpChange}\n      />\n      <div className=\"gf-form-group\">\n        <h3 className=\"page-heading\">\n          Excluded Data Flags\n          <Tooltip content=\"Mark flags which you want excluded\">\n            <span style={{ cursor: \"help\" }}> </span>\n          </Tooltip>\n        </h3>\n        <div className=\"gf-form-inline\">\n          <InlineFieldRow>\n            {Object.keys(DefaultFlags).map((element, index) => (\n              <InlineField key={index} label={element} labelWidth={16}>\n                <div className=\"dark-box\">\n                  <Switch\n                    name={element}\n                    disabled={false}\n                    value={\n                      options.jsonData.flags && options.jsonData.flags[element]\n                        ? options.jsonData.flags[element]\n                        : false\n                    }\n                    onChange={onFlagsChange}\n                  />\n                </div>\n              </InlineField>\n            ))}\n          </InlineFieldRow>\n        </div>\n      </div>\n      <div className=\"gf-form-group\">\n        <h3 className=\"page-heading\">\n          Data Source Type\n          <Tooltip content=\"Determines the type of data that is being queried\">\n            <span style={{ cursor: \"help\" }}> </span>\n          </Tooltip>\n        </h3>\n        <div className=\"gf-form-group\">\n          <InlineFieldRow>\n            <InlineField label=\"Data Type\" labelWidth={24}>\n              <Select  \n                value={options.jsonData.valueType}\n                options={dataSourceTypeOptions}\n                onChange={onTypeChange}\n                isLoading={dataSourceTypeOptions.length === 0}\n                invalid={options.jsonData.valueType === undefined}\n                />\n            </InlineField>\n          </InlineFieldRow>\n        </div>\n        <Card>\n          <Card.Heading>{dataSourceTypes.find(d => d.index.toString() === options.jsonData.valueType)?.name}</Card.Heading>\n          <Card.Description>\n            <p>This type includes the following elements: </p>\n            <TagList className=\"pull-left\" tags={dataSourceTypes.find(d => d.index.toString() === options.jsonData.valueType)?.timeSeriesDefinition.split(',') ?? []}/>\n          </Card.Description>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {  InlineField, Select, InlineSwitch } from '@grafana/ui';\nimport { SelectableValue, QueryEditorProps } from '@grafana/data';\nimport { DataSource } from '../datasource';\nimport { MyDataSourceOptions, MyQuery, QueryTypes} from '../types';\nimport { QuerySelectOptions } from '../js/constants'\nimport \"../css/query-editor.css\";\nimport { QueryEditorWizard } from './ElementQueryEditor';\nimport { MetaDataSelector } from './MetaDataFieldSelector';\nimport { TextQuery } from './TextQueryEditor';\nimport { CommandLevelSelector } from './CommandLevelSelection';\n\ntype Props = QueryEditorProps<DataSource, MyQuery, MyDataSourceOptions>;\n\nexport function QueryEditor({ query, onChange, datasource, onRunQuery }: Props) {\n\n  const selectedMode = React.useMemo(() => (query.queryType ?? 'Elements'), [query])\n  const [forceUpdate, setForceUpdate] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n\n      const timeout = setTimeout(() => {\n        onRunQuery();\n      }, 3000);\n\n      return () => {\n        clearTimeout(timeout);\n      };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [forceUpdate]);\n\n  const modeChange = React.useCallback((selected: SelectableValue<string>) => { \n    onChange({...query, queryType: ((selected.value ?? 'Elements') as QueryTypes)})\n    setForceUpdate(x => !x);\n  }, [query,onChange])\n\n  const OnChange = (p: MyQuery) => {\n    onChange(p);\n    setForceUpdate(x => !x);\n  }\n\n  return (\n    <div className=\"gf-form\" style={{ display: 'flex', flexDirection: 'column' }}>\n        <div className='gf-form-group'>\n          <h3 className=\"page-heading\">General Settings</h3>\n            <div className='gf-form-group'> \n              <InlineField label=\"Data Selection Mode\" labelWidth={24}>\n                <Select options={QuerySelectOptions} value={selectedMode} onChange={modeChange} allowCustomValue={false} />\n              </InlineField>\n              <InlineField label=\"Transpose Query\" labelWidth={24}>\n                <InlineSwitch value={query.transpose ?? false}\n                onChange={(v) => OnChange({...query, transpose: !(query.transpose ?? false)})}\n                showLabel={true}\n                />\n              </InlineField>\n            </div>\n            {selectedMode === 'Elements'? <CommandLevelSelector query={query.commandLevel} onChange={(q) => OnChange({...query, commandLevel: q})}/> : null}\n        </div>\n        <div className='gf-form-group'>\n          <h3 className=\"page-heading\">Meta Data</h3>\n          <MetaDataSelector datasource={datasource} onChange={(flds) => OnChange({...query, metadataOptions: flds})} query={query.metadataOptions}/>\n        </div>\n        <div className='gf-form-group'>  \n        <h3 className=\"page-heading\">Data Selection</h3>\n          \n          {query.queryType === 'Text'? <TextQuery onChange={(t) => OnChange({...query, queryText: t})} query={query.queryText}/> : null}\n          {query.queryType === 'Elements' || query.queryType === undefined? <QueryEditorWizard \n              onChange={(q) => OnChange({...query, queryText: q.queryText, parsedQuery: q.parsedQuery})} query={query}\n              datasource={datasource}/> : null}\n        </div>\n    </div>\n  );\n  \n}\n","import React from 'react';\nimport { InlineField, InlineFieldRow, Input, Select } from '@grafana/ui';\nimport { DataSource } from '../datasource';\nimport { FieldDescription, MyVariableQuery } from '../types';\nimport \"../css/query-editor.css\";\nimport { SelectableValue } from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\n\ninterface VariableQueryProps {\n  query: MyVariableQuery;\n  onChange: (query: MyVariableQuery) => void;\n  datasource: DataSource\n}\n\nexport function VariableQueryEditor(props: VariableQueryProps) {\n  const [tableOptions, setTableOptions] = React.useState<Array<SelectableValue<string>>>([]);\n  const [fieldOptions, setFieldOptions] = React.useState<Array<SelectableValue<string>>>([]);\n\n  React.useEffect(() => {\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTables\", {dataTypeIndex: props.datasource.dataSourceValueType, expression: \"\"})\n      .then((d: string[]) => { setTableOptions(d.map(t => ({value: t, label: t}))); })\n  }, [props.datasource.url, props.datasource.dataSourceValueType])\n\n  React.useEffect(() => {\n    if (props.query?.tableName === undefined || props.query?.tableName.length === 0) {\n      return;\n    }\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTableFields\",{\n      dataTypeIndex: props.datasource.dataSourceValueType, \n      expression: props.query.tableName\n    }).then((d: FieldDescription[]) => { setFieldOptions(d.map(t => ({value: t.name, label: t.name}))); })\n\n  }, [props.datasource.url, props.datasource.dataSourceValueType, props.query.tableName])\n\n  function onTableChange(t: SelectableValue<string>) {\n    props.onChange({...props.query, tableName: t.value ?? '', fieldName: ''})\n  }\n\n  \n  function onFieldChange(t: SelectableValue<string>) {\n    props.onChange({...props.query, fieldName: t.value ?? ''})\n  }\n\n  function onConditionChange(val: any) {\n    props.onChange({...props.query, condition: val.target.value})\n  }\n\n\n  return (\n    <div className=\"gf-form\" style={{ display: 'flex', flexDirection: 'column' }}>\n      <div className='gf-form-group'> \n      <InlineFieldRow>\n        <InlineField label=\"Select\" labelWidth={12}>\n         <Select  \n            value={props.query?.fieldName}\n            options={fieldOptions}\n            isLoading={fieldOptions.length === 0}\n            onChange={onFieldChange}\n            isSearchable\n            invalid={(props.query?.fieldName?.length ?? 0) === 0}\n            disabled={(props.query?.tableName?.length ?? 0) === 0}\n          />\n        </InlineField>\n        <InlineField label=\"FROM\" labelWidth={12}>\n          <Select  \n            value={props.query?.tableName}\n            options={tableOptions}\n            isLoading={tableOptions.length === 0}\n            onChange={onTableChange}\n            isSearchable\n            invalid={(props.query?.tableName?.length ?? 0) === 0}\n          />\n        </InlineField>\n        </InlineFieldRow>\n        <InlineFieldRow>\n        <InlineField label=\"WHERE\" labelWidth={12}>\n          <Input  \n          value={props.query?.condition}\n          onChange={onConditionChange}\n          />\n\n        </InlineField>\n      </InlineFieldRow>\n    </div>\n  </div>\n  );\n  \n}\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","nc","require","QuerySelectOptions","label","DefaultFlags","Value","Order","Flag","Normal","BadData","SuspectData","OverRangeError","UnderRangeError","AlarmHigh","AlarmLow","WarningHigh","WarningLow","FlatlineAlarm","ComparisonAlarm","ROCAlarm","ReceivedAsBad","CalculatedValue","CalculationError","CalculationWarning","ReservedQualityFlag","BadTime","SuspectTime","LateTimeAlarm","FutureTimeAlarm","UpSampled","DownSampled","DiscardedValue","ReservedTimeFlag","UserDefinedFlag1","UserDefinedFlag2","UserDefinedFlag3","UserDefinedFlag4","UserDefinedFlag5","SystemError","SystemWarning","MeasurementError","AnnotationEditor","query","onChange","React","queryType","div","className","display","flexDirection","width","InlineField","labelWidth","TextArea","queryText","evt","rows","minWidth","locals","DataSource","DataSourceApi","metricFindQuery","tableName","fieldName","getBackendSrv","post","url","dataTypeIndex","dataSourceValueType","expression","condition","s","text","calculateFlags","excludedValue","entries","flags","targetToString","parsedQueryToString","parsedQuery","functionToString","fx","parameter","Parameters","p","type","includes","Function","parts","Elements","Filters","f","NumberMode","Number","Table","Condition","Functions","filter","buildQueryParameters","excludedFlags","excludeNormalFlags","targets","t","hide","mData","metadataOptions","forEach","m","find","fieldNames","FieldName","qstring","getTemplateSrv","replace","scopedVars","commandLevel","DropEmpty","IncludePeaks","FullResolution","RadialDistribution","Radius","Zoom","refID","refId","metadataSelections","range","from","toISOString","to","interval","adhocFilters","maxDataPoints","getTags","datasourceTypes","timeSeriesDefinition","split","hasDataQuery","some","hasAnnotationQuery","pointsData","tags","transposeFrame","MutableDataFrame","fields","name","FieldType","number","time","frames","metaData","keys","metadata","transpose","row","datapoints","addField","other","add","frame","pt","queryAnnotations","testDatasource","then","status","message","title","queyText","annotationQuery","rangeRaw","string","constructor","instanceSettings","super","annotations","QueryEditor","jsonData","http","parseInt","valueType","QueryEditorWizard","props","elements","setElements","functions","setFunctions","availableFunctions","setAvailableFunctions","tableOptions","setTableOptions","filters","setFilters","includeFunctions","datasource","ElementQuery","u","_","parameters","default","FunctionQueryUI","onFunctionChange","func","availableTables","FilterQueryUI","onFilterChange","selectedOptions","loadOptions","inputValue","toLocaleLowerCase","aliases","AsyncMultiSelect","defaultOptions","selected","selectedValues","hasFilter","startsWith","substring","isSearchable","InlineFieldRow","IconButton","size","iconType","variant","onClick","Select","val","Input","min","max","isLoading","isOpen","setIsOpen","fxDescription","fxOptions","Collapse","onToggle","x","description","ul","li","ParameterUI","onValueChange","param","onStringChange","onSelectChange","Card","Heading","Description","MetaDataSelector","q","MetaDataFieldSelector","Field","Remove","onRemoveField","Update","fld","onUpdateFld","TableOptions","Datasource","Button","fieldOptions","setFieldOptions","invalid","disabled","TextQuery","grow","shrink","CommandLevelSelector","event","setting","updated","InlineSwitch","parseFloat","plugin","DataSourcePlugin","setConfigEditor","dataSourceTypes","onOptionsChange","setDataSourceTypes","dataSourceTypeOptions","onFlagsChange","input","checked","updatedFlags","selectAllState","reduce","acc","flag","DataSourceHttpSettings","defaultUrl","dataSourceConfig","showAccessOptions","config","h3","Tooltip","span","cursor","Switch","TagList","setQueryEditor","onRunQuery","selectedMode","forceUpdate","setForceUpdate","timeout","setTimeout","clearTimeout","modeChange","OnChange","allowCustomValue","v","showLabel","flds","setVariableQueryEditor"],"sourceRoot":""}