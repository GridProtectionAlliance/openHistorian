{"version":3,"file":"module.js","mappings":"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","sources":["webpack://gridprotectionalliance-openhistorian-datasource/./css/config-editor.css","webpack://gridprotectionalliance-openhistorian-datasource/./css/query-editor.css","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/css-loader/dist/runtime/api.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://gridprotectionalliance-openhistorian-datasource/../node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://gridprotectionalliance-openhistorian-datasource/external amd \"@grafana/data\"","webpack://gridprotectionalliance-openhistorian-datasource/external amd \"@grafana/runtime\"","webpack://gridprotectionalliance-openhistorian-datasource/external amd \"@grafana/ui\"","webpack://gridprotectionalliance-openhistorian-datasource/external amd \"lodash\"","webpack://gridprotectionalliance-openhistorian-datasource/external amd \"react\"","webpack://gridprotectionalliance-openhistorian-datasource/webpack/bootstrap","webpack://gridprotectionalliance-openhistorian-datasource/webpack/runtime/compat get default export","webpack://gridprotectionalliance-openhistorian-datasource/webpack/runtime/define property getters","webpack://gridprotectionalliance-openhistorian-datasource/webpack/runtime/hasOwnProperty shorthand","webpack://gridprotectionalliance-openhistorian-datasource/webpack/runtime/make namespace object","webpack://gridprotectionalliance-openhistorian-datasource/webpack/runtime/nonce","webpack://gridprotectionalliance-openhistorian-datasource/./js/constants.ts","webpack://gridprotectionalliance-openhistorian-datasource/./css/query-editor.css?edf4","webpack://gridprotectionalliance-openhistorian-datasource/./components/AnnotationEditor.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./datasource.ts","webpack://gridprotectionalliance-openhistorian-datasource/./css/config-editor.css?a65e","webpack://gridprotectionalliance-openhistorian-datasource/./components/ConfigEditor.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./components/ElementQueryEditor.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./components/MetaDataFieldSelector.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./components/TextQueryEditor.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./components/CommandLevelSelection.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./module.ts","webpack://gridprotectionalliance-openhistorian-datasource/./components/QueryEditor.tsx","webpack://gridprotectionalliance-openhistorian-datasource/./components/VariableQueryEditor.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dark-box {\n  background-color: rgba(32, 34, 38); \n  padding: 8px; \n  border-radius: 4px;\n  border-color: 1px darkgray;\n}\n\n.dark-box .switch {\n  background-color: blue; /* Change the background color */\n}\n\n.dark-box .switch::before {\n  background-color: white; /* Change the color of the switch thumb */\n}\n\n.dark-button {\n  background-color: rgb(34,37,43); \n  color: rgb(199,204,220); \n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./css/config-editor.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kCAAkC;EAClC,YAAY;EACZ,kBAAkB;EAClB,0BAA0B;AAC5B;;AAEA;EACE,sBAAsB,EAAE,gCAAgC;AAC1D;;AAEA;EACE,uBAAuB,EAAE,yCAAyC;AACpE;;AAEA;EACE,+BAA+B;EAC/B,uBAAuB;AACzB\",\"sourcesContent\":[\".dark-box {\\n  background-color: rgba(32, 34, 38); \\n  padding: 8px; \\n  border-radius: 4px;\\n  border-color: 1px darkgray;\\n}\\n\\n.dark-box .switch {\\n  background-color: blue; /* Change the background color */\\n}\\n\\n.dark-box .switch::before {\\n  background-color: white; /* Change the color of the switch thumb */\\n}\\n\\n.dark-button {\\n  background-color: rgb(34,37,43); \\n  color: rgb(199,204,220); \\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dark-box {\n    background-color: rgba(17, 18, 23);\n    padding: 6px;\n    border-radius: 2px;\n    border: 1px solid darkgray;\n    display: flex;\n    align-items: center;\n}\n  \n.dark-box span {\n    margin: 0;\n    padding: 2px; \n}\n\n.auto-width {\n    width: auto;\n}\n  \n  `, \"\",{\"version\":3,\"sources\":[\"webpack://./css/query-editor.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kCAAkC;IAClC,YAAY;IACZ,kBAAkB;IAClB,0BAA0B;IAC1B,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,SAAS;IACT,YAAY;AAChB;;AAEA;IACI,WAAW;AACf\",\"sourcesContent\":[\".dark-box {\\n    background-color: rgba(17, 18, 23);\\n    padding: 6px;\\n    border-radius: 2px;\\n    border: 1px solid darkgray;\\n    display: flex;\\n    align-items: center;\\n}\\n  \\n.dark-box span {\\n    margin: 0;\\n    padding: 2px; \\n}\\n\\n.auto-width {\\n    width: auto;\\n}\\n  \\n  \"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__531__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__241__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","export const QuerySelectOptions = [\n    { label: 'Query Wizard', value: 'Elements' },\n    { label: 'Text Editor', value: 'Text' },\n];\n\nexport const VariableQuerySelectOptions = [\n    { label: 'All Points', value: 'All' },\n    { label: 'Elements', value: 'Elements' },\n    { label: 'Text Editor', value: 'Text' },\n];\n\n\nexport const DefaultFlags = {\n    'Select All': { Value: false, Order: -1, Flag: 0 },\n    Normal: { Value: false, Order: 0, Flag: 0  },\n    BadData: { Value: false, Order: 1, Flag: 1 << 0  },\n    SuspectData: { Value: false, Order: 2, Flag: 1 << 1 },\n    OverRangeError: { Value: false, Order: 3, Flag: 1 << 2 },\n    UnderRangeError: { Value: false, Order: 4, Flag: 1 << 3 },\n    AlarmHigh: { Value: false, Order: 5, Flag: 1 << 4 },\n    AlarmLow: { Value: false, Order: 6, Flag: 1 << 5 },\n    WarningHigh: { Value: false, Order: 7, Flag: 1 << 6 },\n    WarningLow: { Value: false, Order: 8, Flag: 1 << 7 },\n    FlatlineAlarm: { Value: false, Order: 9, Flag: 1 << 8 },\n    ComparisonAlarm: { Value: false, Order: 10, Flag: 1 << 9 },\n    ROCAlarm: { Value: false, Order: 11, Flag: 1 << 10 },\n    ReceivedAsBad: { Value: false, Order: 12, Flag: 1 << 11 },\n    CalculatedValue: { Value: false, Order: 13, Flag: 1 << 12 },\n    CalculationError: { Value: false, Order: 14, Flag: 1 << 13 },\n    CalculationWarning: { Value: false, Order: 15, Flag: 1 << 14 },\n    ReservedQualityFlag: { Value: false, Order: 16, Flag: 1 << 15 },\n    BadTime: { Value: false, Order: 17, Flag: 1 << 16 },\n    SuspectTime: { Value: false, Order: 18, Flag: 1 << 17 },\n    LateTimeAlarm: { Value: false, Order: 19, Flag: 1 << 18 },\n    FutureTimeAlarm: { Value: false, Order: 20, Flag: 1 << 19 },\n    UpSampled: { Value: false, Order: 21, Flag: 1 << 20 },\n    DownSampled: { Value: false, Order: 22, Flag: 1 << 21 },\n    DiscardedValue: { Value: false, Order: 23, Flag: 1 << 22 },\n    ReservedTimeFlag: { Value: false, Order: 24, Flag: 1 << 23 },\n    UserDefinedFlag1: { Value: false, Order: 25, Flag: 1 << 24 },\n    UserDefinedFlag2: { Value: false, Order: 26, Flag: 1 << 25 },\n    UserDefinedFlag3: { Value: false, Order: 27, Flag: 1 << 26 },\n    UserDefinedFlag4: { Value: false, Order: 28, Flag: 1 << 27 },\n    UserDefinedFlag5: { Value: false, Order: 29, Flag: 1 << 28 },\n    SystemError: { Value: false, Order: 30, Flag: 1 << 29 },\n    SystemWarning: { Value: false, Order: 31, Flag: 1 << 30 },\n    MeasurementError: { Value: false, Order: 32, Flag: 1 << 31 }\n}\n\nexport const WhereOperators = ['=', '<>', '<', '<=', '>', '>=', 'LIKE', 'NOT LIKE', 'IN', 'NOT IN', 'IS', 'IS NOT'];\n\nexport const Booleans = ['true', 'false'];\n\nexport const AngleUnits = ['Radians', 'Degrees', 'Grads', 'ArcMinutes', 'ArcSeconds', 'AngularMil']\n\nexport const TimeUnits = ['Weeks', 'Days', 'Hours', 'Minutes', 'Seconds', 'Milliseconds', 'Microseconds', 'Nanoseconds', 'Ticks', 'PlankTime', 'AtomicUnitsOfTime', 'Ke']\n\nexport const DefaultTimeUnits = ['Seconds', 'Minutes', 'Hours', 'Days', 'Weeks', 'Ticks', 'AtomicUnitsOfTime', 'PlanckTime', 'Ke']\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./query-editor.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./query-editor.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\r\nimport { FieldSet, InlineField, TextArea } from '@grafana/ui';\r\nimport { QueryEditorProps } from '@grafana/data';\r\nimport { DataSource } from '../datasource';\r\nimport { OpenHistorianDataSourceOptions, OpenHistorianQuery } from '../types';\r\nimport \"../css/query-editor.css\";\r\n\r\ntype Props = QueryEditorProps<DataSource, OpenHistorianQuery, OpenHistorianDataSourceOptions>;\r\n\r\nexport function AnnotationEditor({ query, onChange }: Props) {\r\n\r\n  React.useEffect(() => {\r\n    if (query.queryType !== 'Annotations') {\r\n      onChange({ ...query, queryType: 'Annotations' })\r\n    }\r\n  }, [query, onChange])\r\n\r\n  return (\r\n    <FieldSet style={{ display: 'flex', flexDirection: 'column' }}>\r\n      <InlineField label=\"Query\" labelWidth={'auto'} grow={true} shrink={true}>\r\n        <TextArea\r\n          value={query.queryText}\r\n          onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => onChange({ ...query, queryText: evt.target.value })}\r\n          rows={5}\r\n          width={150}\r\n        />\r\n      </InlineField>\r\n    </FieldSet>\r\n  );\r\n}\r\n\r\n","import {\r\n  DataQueryRequest,\r\n  DataQueryResponse,\r\n  DataQueryError,\r\n  DataSourceApi,\r\n  DataSourceInstanceSettings,\r\n  MutableDataFrame,\r\n  FieldType,\r\n} from \"@grafana/data\";\r\nimport {\r\n  OpenHistorianQuery,\r\n  OpenHistorianDataSourceOptions,\r\n  QueryRequest,\r\n  Target,\r\n  FunctionQuery,\r\n  ParsedQuery,\r\n  MyVariableQuery,\r\n  QueryBase,\r\n  MetaDataSelection,\r\n  QueryResponse\r\n} from \"./types\";\r\nimport { getBackendSrv, getTemplateSrv } from \"@grafana/runtime\";\r\nimport _ from \"lodash\";\r\nimport { DefaultFlags } from \"./js/constants\";\r\nimport { AnnotationEditor } from \"./components/AnnotationEditor\";\r\n\r\n\r\nexport class DataSource extends DataSourceApi<OpenHistorianQuery, OpenHistorianDataSourceOptions> {\r\n  url: string;\r\n  flags: {\r\n    [key: string]: boolean;\r\n  };\r\n  valueTypeIndex: number;\r\n  valueTypeName: string;\r\n  timeSeriesDefinitions: string[];\r\n  metadataTableName: string;\r\n\r\n  constructor(\r\n    instanceSettings: DataSourceInstanceSettings<OpenHistorianDataSourceOptions>\r\n  ) {\r\n    super(instanceSettings);\r\n\r\n    this.annotations = {\r\n      QueryEditor: AnnotationEditor\r\n    }\r\n    this.url = instanceSettings.url || \"\";\r\n    this.flags = instanceSettings.jsonData.flags || {};\r\n    this.valueTypeIndex = parseInt(instanceSettings.jsonData.valueTypeIndex || \"0\", 10);\r\n    this.valueTypeName = instanceSettings.jsonData.valueTypeName || \"\";\r\n    this.timeSeriesDefinitions = instanceSettings.jsonData.timeSeriesDefinitions ?? [''];\r\n    this.metadataTableName = instanceSettings.jsonData.metadataTableName || \"\";\r\n  }\r\n\r\n  // This builds the Variable Query\r\n  async metricFindQuery(query: MyVariableQuery, options?: any) {\r\n    // Retrieve DataQueryResponse based on query.\r\n    if (query.tableName === undefined || query.fieldNames === undefined) { return; }\r\n\r\n    if (query.tableName.length === 0) {\r\n      query.tableName = \"ActiveMeasurements\";\r\n\r\n      if (query.fieldNames.length === 0 || query.fieldNames[0] === '*') {\r\n        query.fieldNames = [\"PointTag\"];\r\n      }\r\n    }\r\n\r\n    if (query.fieldNames.length === 0) {\r\n      query.fieldNames = [\"*\"];\r\n    }\r\n\r\n    let data = await getBackendSrv().post(this.url + \"/Search\", {\r\n      dataTypeIndex: -1 /* unrestricted search */,\r\n      expression: `SELECT DISTINCT ${query.fieldNames} FROM ${query.tableName} ${query.condition?.length ?? 0 === 0 ? \"\" : ` WHERE ${query.condition}`}`\r\n    })\r\n    return data.map((s: string) => ({ text: s }));\r\n  }\r\n\r\n  //Generate value of excluded flags\r\n  calculateFlags() {\r\n    let excludedValue = 0;\r\n\r\n    for (const [key, value] of Object.entries(this.flags)) {\r\n      if (key !== \"Select All\" && key !== \"Normal\" && value === true) {\r\n        excludedValue ^= DefaultFlags[key as keyof typeof DefaultFlags].Flag;\r\n      }\r\n    }\r\n\r\n    return excludedValue;\r\n  }\r\n\r\n  targetToString(target: QueryBase) {\r\n    if (target === undefined) {\r\n      return \"\";\r\n    }\r\n\r\n    if (target.queryType === \"Elements\" || target.queryType === undefined) {\r\n      return this.parsedQueryToString(target.parsedQuery)\r\n    }\r\n    else if (target.queryType === \"Text\") {\r\n      return target.queryText\r\n    }\r\n    else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  functionToString(fx: FunctionQuery) {\r\n    const parameter = fx.Parameters.map((p) => {\r\n      if (p.type.type.includes('IAsyncEnumerable')) {\r\n        return this.parsedQueryToString(p.value as ParsedQuery)\r\n      }\r\n      return p.value.toString()\r\n    }).join(',')\r\n    return `${fx.Function}(${parameter})`;\r\n  }\r\n\r\n  parsedQueryToString(query: ParsedQuery) {\r\n    if (query === undefined) {\r\n      return \"\";\r\n    }\r\n    const parts: string[] = [];\r\n    if (query.Elements !== undefined) {\r\n      parts.push(query.Elements.join(\";\"));\r\n    }\r\n    if (query.Filters !== undefined) {\r\n      parts.push(query.Filters.map(f => `FILTER ${f.NumberMode === '' ? '' : `${f.NumberMode} ${f.Number}`} ${f.Table}${f.Condition?.length > 0 ? ` WHERE ${f.Condition}` : ''}`).join(\";\"))\r\n    }\r\n    if (query.Functions !== undefined) {\r\n      parts.push(query.Functions.map(f => this.functionToString(f)).join(';'))\r\n    }\r\n    return parts.filter(s => s.length > 0).join(\";\");\r\n  }\r\n\r\n  buildQueryParameters(options: DataQueryRequest<OpenHistorianQuery>): QueryRequest {\r\n    const excludedFlags = this.calculateFlags();\r\n    const excludeNormalFlags = this.flags[\"Normal\"] ?? false;\r\n\r\n    const targets: Target[] = options.targets.filter(t => !(t.hide ?? false) && t.queryType !== 'Annotations').map((t) => {\r\n\r\n      const metadataSelections: MetaDataSelection[] = [];\r\n\r\n      if (t.metadataOptions !== undefined) {\r\n        t.metadataOptions.forEach((m) => {\r\n          if (metadataSelections.find(t => t.tableName === m.Table) !== undefined) {\r\n            metadataSelections.find(t => t.tableName === m.Table)?.fieldNames.push(m.FieldName);\r\n          }\r\n          else {\r\n            metadataSelections.push({ tableName: m.Table, fieldNames: [m.FieldName] })\r\n          }\r\n        })\r\n      }\r\n\r\n      let queryExpression = getTemplateSrv().replace(this.targetToString(t), options.scopedVars);\r\n\r\n      if (t.commandLevel?.DropEmpty ?? false) {\r\n        queryExpression = `${queryExpression}; dropEmptySeries`;\r\n      }\r\n\r\n      if (t.commandLevel?.IncludePeaks ?? false) {\r\n        queryExpression = `${queryExpression}; includePeaks`;\r\n      }\r\n\r\n      if (t.commandLevel?.FullResolution ?? false) {\r\n        queryExpression = `${queryExpression}; fullResolutionQuery`;\r\n      }\r\n\r\n      if (t.commandLevel?.RadialDistribution ?? false) {\r\n        queryExpression = `${queryExpression}; radialDistribution={radius=${(t.commandLevel?.Radius ?? 1.5)}; zoom=${(t.commandLevel?.Zoom ?? 2)}}`;\r\n      }\r\n\r\n      return ({\r\n        refID: t.refId,\r\n        target: queryExpression,\r\n        metadataSelections: metadataSelections,\r\n      })\r\n    });\r\n\r\n    return {\r\n      dataTypeIndex: this.valueTypeIndex,\r\n      range: { from: options.range.from.toISOString(), to: options.range.to.toISOString() },\r\n      interval: options.interval,\r\n      targets: targets,\r\n      adhocFilters: [],\r\n      excludedFlags: excludedFlags,\r\n      excludeNormalFlags: excludeNormalFlags,\r\n      maxDataPoints: options.maxDataPoints ?? 1000\r\n    };\r\n  }\r\n\r\n  async query(options: DataQueryRequest<OpenHistorianQuery>): Promise<DataQueryResponse> {\r\n    const target = options.targets[0];\r\n\r\n    const metaDataTypes = options.targets.map(i => i.metadataOptions).flat();\r\n\r\n    const hasDataQuery = options.targets.some(t => t.queryType !== 'Annotations');\r\n    const hasAnnotationQuery = options.targets.some(t => t.queryType === 'Annotations');;\r\n\r\n    let data: Array<(MutableDataFrame<any> | undefined)> = [];\r\n    let error: DataQueryError = {};\r\n    let syntaxErrors: string[] = [];\r\n\r\n    // Generate query\r\n    if (hasDataQuery) {\r\n      let query: QueryRequest = this.buildQueryParameters(options);\r\n\r\n      // Get Data\r\n      let pointsData: QueryResponse[] = await getBackendSrv().post(this.url + \"/query\", query);\r\n\r\n      const tags = this.timeSeriesDefinitions;\r\n\r\n      const transposeFrames = new Map<string,(MutableDataFrame<any>|undefined)>();\r\n\r\n   \r\n\r\n      // Add metadata fields\r\n      const frames = pointsData.map((d) => {\r\n        // Cumulate any reported syntax errors\r\n        if (d.syntaxError) {\r\n          syntaxErrors.push(d.syntaxError);\r\n        }\r\n\r\n        const metaData: string[] = Object.keys(d.metadata);\r\n\r\n        if (options.targets.find(item => item.refId === d.refID)?.transpose ?? false) {\r\n          const row: { [k: string]: any } = {};\r\n\r\n          if (!transposeFrames.has(d.refID)) {\r\n            transposeFrames.set(d.refID, new MutableDataFrame({\r\n              refId: d.refID,\r\n              name: d.refID,\r\n              fields: tags.map((s, i) => ({\r\n                name: s,\r\n                type: (i < (tags.length - 1) ? FieldType.number : FieldType.time)\r\n              })),\r\n            }))\r\n          }\r\n\r\n          if (d.datapoints.length > 0) {\r\n            tags.forEach((t, i) => { row[t] = d.datapoints[0][i] });\r\n          }\r\n          else {\r\n            tags.forEach((t, i) => { row[t] = NaN });\r\n          }\r\n          metaData.forEach((m) => {\r\n            if (!transposeFrames.get(d.refID)!.fields.map(f => f.name).includes(m)) {\r\n              transposeFrames.get(d.refID)!.addField({ name: m, type: FieldType.other })\r\n            }\r\n            row[m] = d.metadata[m];\r\n          })\r\n\r\n          transposeFrames.get(d.refID)!.add(row);\r\n          return undefined;\r\n        }\r\n        else {\r\n\r\n          const frame = new MutableDataFrame({\r\n            refId: target.refId,\r\n            fields: metaData.concat(tags).map((s, i) => ({\r\n              name: s,\r\n              type: (i < metaData.length ? this.metaDataDataType(metaDataTypes.find(m => m.FieldName === metaData[i] || `${m.Table}.${m.FieldName}` === metaData[i])?.Type ?? \"\")\r\n                : (i < (metaData.length + tags.length - 1)\r\n                  ? FieldType.number : FieldType.time))\r\n            })),\r\n          });\r\n\r\n          frame.refId = d.refID;\r\n          frame.name = d.target;\r\n\r\n          d.datapoints.forEach((pt) => {\r\n            const row: { [k: string]: any } = {};\r\n            tags.forEach((t, i) => { row[t] = pt[i] });\r\n            metaData.forEach((m) => { row[m] = d.metadata[m] })\r\n            frame.add(row);\r\n          })\r\n\r\n          return frame;\r\n        }\r\n      })\r\n        data = frames.concat([...transposeFrames.values()]).filter(f => f !== undefined);\r\n    }\r\n    if (hasAnnotationQuery) {\r\n      data.push(await this.queryAnnotations(options))\r\n    }\r\n\r\n    if (syntaxErrors.length > 0) {\r\n      error = {\r\n        message: syntaxErrors.join('\\n\\n')\r\n      }\r\n    }\r\n\r\n    return { data, error };\r\n  }\r\n\r\n  async testDatasource() {\r\n    return await getBackendSrv().get(this.url + \"/\")\r\n      .then(() => ({\r\n        status: \"success\",\r\n        message: \"Data source is working\",\r\n        title: \"Success\",\r\n      }), () => ({\r\n        status: \"error\",\r\n        message: \"Data source is not working\",\r\n        title: \"Error\",\r\n      }))\r\n  }\r\n\r\n  metaDataDataType(type: string) {\r\n    if (type === 'Int16') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Int32') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Int64') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'UInt16') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'UInt32') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'UInt64') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'IntPtr') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'UIntPtr') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Boolean') {\r\n      return FieldType.boolean;\r\n    }\r\n    if (type === 'Byte') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'SByte') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Char') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Decimal') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Double') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'Single') {\r\n      return FieldType.number;\r\n    }\r\n    if (type === 'String') {\r\n      return FieldType.string;\r\n    }\r\n    if (type === 'Guid') {\r\n      return FieldType.string;\r\n    }\r\n\r\n    return FieldType.other;\r\n\r\n  }\r\n  async queryAnnotations(options: DataQueryRequest<OpenHistorianQuery>): Promise<MutableDataFrame<any>> {\r\n\r\n    const queyText = options.targets\r\n      .map((t) => getTemplateSrv().replace(t.queryText, options.scopedVars))\r\n      .join(';');\r\n\r\n    const annotationQuery = {\r\n      range: options.range,\r\n      annotationQuery: queyText,\r\n      rangeRaw: options.rangeRaw\r\n    };\r\n\r\n    const data = await getBackendSrv().post(this.url + '/annotations', annotationQuery);\r\n    if (data.length > 500) {\r\n      throw Error(`There are ${data.length} annotations. Grafana can not display more than 500.`)\r\n    }\r\n    const frame = new MutableDataFrame({\r\n      refId: options.targets[0].refId,\r\n      fields: [\r\n        { name: \"time\", type: FieldType.time },\r\n        { name: \"timeEnd\", type: FieldType.time },\r\n        { name: \"title\", type: FieldType.string },\r\n        { name: \"text\", type: FieldType.string },\r\n        { name: \"tags\", type: FieldType.string },\r\n      ],\r\n    });\r\n    data.forEach((a: any) => {\r\n      frame.add(\r\n        {\r\n          \"time\": a[\"time\"],\r\n          \"timeEnd\": a[\"endTime\"],\r\n          \"title\": a[\"title\"],\r\n          \"text\": a[\"text\"],\r\n          \"tags\": a[\"tags\"]\r\n        })\r\n    })\r\n    return frame;\r\n  }\r\n}\r\n\r\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./config-editor.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./config-editor.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import {\r\n  DataSourceHttpSettings,\r\n  FieldSet,\r\n  InlineFieldRow,\r\n  InlineField,\r\n  Switch,\r\n  Tooltip,\r\n  Select,\r\n  Card,\r\n  TagList,\r\n} from \"@grafana/ui\";\r\nimport React from \"react\";\r\nimport { DataSourcePluginOptionsEditorProps, DataSourceSettings, SelectableValue } from \"@grafana/data\";\r\nimport { DataSourceValueType, OpenHistorianDataSourceOptions } from \"../types\";\r\nimport { DefaultFlags } from \"../js/constants\";\r\nimport \"../css/config-editor.css\";\r\nimport { getBackendSrv } from \"@grafana/runtime\";\r\n\r\ninterface Props\r\n  extends DataSourcePluginOptionsEditorProps<OpenHistorianDataSourceOptions> { }\r\n\r\nexport function ConfigEditor(props: Props) {\r\n  const { onOptionsChange, options } = props;\r\n  const [dataSourceTypes, setDataSourceTypes] = React.useState<DataSourceValueType[]>([])\r\n  const dataSourceTypeOptions = React.useMemo(() => dataSourceTypes.map(s => ({ value: s.index.toString(), label: s.name })), [dataSourceTypes]);\r\n  const url = React.useMemo(() => (options.url ?? ''), [options])\r\n  const [isInitialAssignment, setIsInitialAssignment] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    if (url.length === 0) {\r\n      return;\r\n    }\r\n\r\n    getBackendSrv().post(url + \"/GetValueTypes\", {})\r\n      .then((d: DataSourceValueType[]) => setDataSourceTypes(d))\r\n      .catch((error) => console.error(\"Error fetching data source types:\", error));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n  // Fetch data source value types when exiting URL area\r\n  const onBlur = () => {\r\n    if (url.length === 0) {\r\n      return;\r\n    }\r\n\r\n    getBackendSrv().post(url + \"/GetValueTypes\", {})\r\n      .then((d: DataSourceValueType[]) => setDataSourceTypes(d))\r\n      .catch((error) => {\r\n        console.error(\"Error fetching data source types:\", error);\r\n        setDataSourceTypes(defaultDataSourceTypes);\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (dataSourceTypeOptions.length < 1) {\r\n      return;\r\n    }\r\n    if (options.jsonData.valueTypeIndex === undefined) {\r\n      onTypeChange(dataSourceTypeOptions[0]);\r\n      return;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dataSourceTypeOptions, options.jsonData])\r\n\r\n  const onHttpChange = (config: DataSourceSettings<OpenHistorianDataSourceOptions>) => {\r\n    if (url.length === 0 && isInitialAssignment) {\r\n      setIsInitialAssignment(false);\r\n      config.url = '../api/grafana'; // Set the default URL\r\n    }\r\n\r\n    onOptionsChange(config);\r\n  };\r\n\r\n  const onFlagsChange = (event: React.FormEvent<HTMLInputElement>) => {\r\n    const input = event.target as HTMLInputElement;\r\n    const { name, checked } = input;\r\n\r\n    let updatedFlags: { [key: string]: boolean } = {};\r\n\r\n    // Select All\r\n    if (name === \"Select All\") {\r\n      const selectAllState = !options.jsonData.flags || !options.jsonData.flags[\"Select All\"];\r\n\r\n      // Set all flags to the selectAllState\r\n      updatedFlags = Object.keys(DefaultFlags).reduce((acc: { [key: string]: boolean }, flag) => {\r\n        acc[flag] = selectAllState;\r\n        return acc;\r\n      }, {} as { [key: string]: boolean });\r\n    } else {\r\n      // If individual flag is toggled, update its value\r\n      updatedFlags = {\r\n        ...options.jsonData.flags,\r\n        [name]: checked,\r\n      };\r\n\r\n      // If any individual flag is unchecked, uncheck the \"Select All\" flag\r\n      if (!checked) {\r\n        updatedFlags[\"Select All\"] = false;\r\n      }\r\n    }\r\n\r\n    const jsonData = {\r\n      ...options.jsonData,\r\n      flags: updatedFlags,\r\n    };\r\n\r\n    onOptionsChange({ ...options, jsonData });\r\n  };\r\n\r\n  const onTypeChange = (val: SelectableValue<string>) => {\r\n    const index: string = (val.value ?? '0').toString();\r\n    const dataSource: DataSourceValueType | undefined = dataSourceTypes.find(d => d.index.toString() === index);\r\n\r\n    const jsonData = {\r\n      ...options.jsonData,\r\n      valueTypeIndex: index,\r\n      valueTypeName: dataSource?.name ?? '',\r\n      timeSeriesDefinitions: dataSource?.timeSeriesDefinition?.split(',') ?? [''],\r\n      metadataTableName: dataSource?.metadataTableName ?? '',\r\n    };\r\n\r\n    onOptionsChange({ ...options, jsonData });\r\n  };\r\n\r\n  return (\r\n    <FieldSet onBlur={onBlur}>\r\n      <DataSourceHttpSettings\r\n        defaultUrl={'../api/grafana'}\r\n        dataSourceConfig={options}\r\n        showAccessOptions={true}\r\n        onChange={onHttpChange}\r\n      />\r\n      <FieldSet>\r\n        <h3 className=\"page-heading\">\r\n          Excluded Data Flags\r\n          <Tooltip content=\"Mark flags which you want excluded\">\r\n            <span style={{ cursor: \"help\" }}> 🛈</span>\r\n          </Tooltip>\r\n        </h3>\r\n        <InlineFieldRow>\r\n          {Object.keys(DefaultFlags).map((element, index) => (\r\n            <InlineField key={index} label={element} labelWidth={16}>\r\n              <div className=\"dark-box\">\r\n                <Switch\r\n                  name={element}\r\n                  disabled={false}\r\n                  value={\r\n                    options.jsonData.flags && options.jsonData.flags[element]\r\n                      ? options.jsonData.flags[element]\r\n                      : false\r\n                  }\r\n                  onChange={onFlagsChange}\r\n                />\r\n              </div>\r\n            </InlineField>\r\n          ))}\r\n        </InlineFieldRow>\r\n      </FieldSet>\r\n      <FieldSet>\r\n        <h3 className=\"page-heading\">\r\n          Data Source Type\r\n          <Tooltip content=\"Determines the type of data that is being queried\">\r\n            <span style={{ cursor: \"help\" }}> 🛈</span>\r\n          </Tooltip>\r\n        </h3>\r\n        <FieldSet>\r\n          <InlineFieldRow>\r\n            <InlineField label=\"Data Type\" labelWidth={24}>\r\n              <Select\r\n                value={options.jsonData.valueTypeIndex}\r\n                options={dataSourceTypeOptions}\r\n                onChange={onTypeChange}\r\n                isLoading={dataSourceTypeOptions.length === 0}\r\n                invalid={options.jsonData.valueTypeIndex === undefined}\r\n              />\r\n            </InlineField>\r\n          </InlineFieldRow>\r\n        </FieldSet>\r\n        <Card>\r\n          <Card.Heading>{options.jsonData.valueTypeName}</Card.Heading>\r\n          <Card.Description>\r\n            <p>This type includes the following elements: </p>\r\n            <TagList className=\"pull-left\" tags={options.jsonData.timeSeriesDefinitions ?? ['']} />\r\n          </Card.Description>\r\n        </Card>\r\n      </FieldSet>\r\n    </FieldSet>\r\n  );\r\n}\r\n\r\nconst defaultDataSourceTypes: DataSourceValueType[] = [\r\n  {\r\n    name: \"MeasurementValue\",\r\n    index: 0,\r\n    timeSeriesDefinition: \"Value, Time\",\r\n    metadataTableName: \"ActiveMeasurements\"\r\n  },\r\n  {\r\n    name: \"PhasorValue\",\r\n    index: 1,\r\n    timeSeriesDefinition: \"Magnitude, Angle, Time\",\r\n    metadataTableName: \"PhasorValues\"\r\n  }\r\n]","import React from 'react';\nimport { InlineField, AsyncMultiSelect, Select, Input, InlineFieldRow, Collapse, FieldSet, IconButton, Card, InlineLabel, Button } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\nimport { DataSource } from '../datasource';\nimport { FilterQuery, FunctionDescription, FunctionQuery, ParameterType, ParsedQuery, QueryBase } from '../types';\nimport \"../css/query-editor.css\";\nimport { getBackendSrv } from \"@grafana/runtime\";\nimport _ from 'lodash';\n\ninterface Props { onChange: (value: QueryBase) => void, query: QueryBase, datasource: DataSource, includeFunctions?: boolean }\n\nexport const QueryEditorWizard = (props: Props) => {\n  const [elements, setElements] = React.useState<string[]>(props.query.parsedQuery?.Elements ?? []);\n  const [functions, setFunctions] = React.useState<FunctionQuery[]>(props.query.parsedQuery?.Functions ?? []);\n  const [availableFunctions, setAvailableFunctions] = React.useState<FunctionDescription[]>([]);\n  const [tableOptions, setTableOptions] = React.useState<string[]>([]);\n  const [filters, setFilters] = React.useState<FilterQuery[]>(props.query.parsedQuery?.Filters ?? []);\n\n  React.useEffect(() => {\n    if (!(props.includeFunctions ?? true)) {\n      setAvailableFunctions([]);\n      return;\n    }\n\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeFunctions\", {\n      dataTypeIndex: props.datasource.valueTypeIndex,\n      expression: \"\"\n    }).then((d) => {\n      setAvailableFunctions(d);\n    });\n  }, [props.datasource.url, props.includeFunctions, props.datasource.valueTypeIndex])\n\n  React.useEffect(() => {\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTables\", { dataTypeIndex: props.datasource.valueTypeIndex, expression: \"\" })\n      .then((d: string[]) => { setTableOptions(d); })\n  }, [props.datasource.url, props.datasource.valueTypeIndex])\n\n\n  function onElementChange(e: string[], fx: string | undefined, filter: boolean) {\n    setElements(e);\n    if (fx !== undefined) {\n      setFunctions(f => {\n        let u = _.clone(f); u.push({\n          Function: fx,\n          Parameters: availableFunctions.find(f => f.name === fx)?.parameters.map(p => ({ type: p, value: p.type.includes(\"IAsyncEnumerable\") ? { Elements: [], Functions: [], Filters: [] } : p.default } as ParameterType)) ?? [],\n        }); return u;\n      })\n    }\n    const u = { ...props.query };\n    if (u.parsedQuery === undefined) {\n      u.parsedQuery = { Elements: [], Functions: [], Filters: [] }\n    }\n    u.parsedQuery.Elements = e;\n    if (filter) {\n      u.parsedQuery.Filters.push({ Table: props.datasource.metadataTableName, Condition: '', Number: 10, NumberMode: 'TOP' });\n      setFilters(u.parsedQuery.Filters);\n    }\n    props.onChange(u);\n  }\n\n  function onFilterChange(f: FilterQuery | undefined, index: number) {\n    const u = { ...props.query };\n    if (u.parsedQuery === undefined) {\n      u.parsedQuery = { Elements: [], Functions: [], Filters: [] }\n    }\n    if (f === undefined) {\n      u.parsedQuery.Filters.splice(index, 1);\n    }\n    else {\n      u.parsedQuery.Filters[index] = f;\n    }\n    setFilters(u.parsedQuery.Filters);\n    props.onChange(u);\n  }\n\n  function onFunctionChange(f: FunctionQuery | undefined, index: number) {\n    const u = { ...props.query };\n    if (u.parsedQuery === undefined) {\n      u.parsedQuery = { Elements: [], Functions: [], Filters: [] }\n    }\n    if (f === undefined) {\n      u.parsedQuery.Functions.splice(index, 1);\n    }\n    else {\n      u.parsedQuery.Functions[index] = f;\n    }\n    setFunctions(u.parsedQuery.Functions);\n    props.onChange(u);\n  }\n\n\n  return <div style={{ width: '100%' }}>\n    <ElementQuery\n      datasource={props.datasource}\n      elements={elements} update={onElementChange}\n      availableFunctions={availableFunctions}\n    />\n    {functions?.map((f, i) => <FunctionQueryUI key={f.Function}\n      update={(f) => onFunctionChange(f, i)}\n      func={f} availableFunctions={availableFunctions}\n      availableTables={tableOptions}\n      datasource={props.datasource}\n    />)}\n    {filters?.map((f, i) => <FilterQueryUI\n      key={i}\n      availableTables={tableOptions}\n      update={(f) => onFilterChange(f, i)} filter={f} />)}\n  </div>;\n}\n\ninterface ElementQueryProps {\n  datasource: DataSource,\n  update: (elements: string[], fx: string | undefined, filter: boolean) => void,\n  elements: string[],\n  availableFunctions: FunctionDescription[]\n}\n\nexport const ElementQuery = (props: ElementQueryProps) => {\n  const selectedOptions = React.useMemo(() => props.elements.map((d) => ({ value: d, label: d })), [props.elements]);\n\n  const loadOptions = async (inputValue: string) => {\n    const d = await getBackendSrv().post(props.datasource.url + \"/Search\", {\n      dataTypeIndex: props.datasource.valueTypeIndex,\n      expression: inputValue\n    })\n    const r: any[] = d.map((p: string) => ({ value: p, label: p }));\n    if ('filter'.includes(inputValue.toLocaleLowerCase())) {\n      r.push({ value: 'FILTER', label: 'FILTER' });\n    }\n    props.availableFunctions.filter((f) => f.name.toLocaleLowerCase().includes(inputValue.toLocaleLowerCase()) ||\n      (f.aliases?.some((a) => a.toLocaleLowerCase().includes(inputValue.toLocaleLowerCase())) ?? false))\n      .forEach((f) => {\n        r.push({ label: f.name, value: 'fx-' + f.name })\n      })\n    return r;\n  };\n\n  const onElementsChange = (selected: Array<SelectableValue<string>>) => {\n    const selectedValues = selected.map((item) => item.value) as string[];\n    let hasFilter = selectedValues.includes('FILTER');\n    const fx = selectedValues.filter(s => s.startsWith('fx-'));\n    let func: string | undefined = undefined;\n    if (fx.length > 0) {\n      func = fx[0].substring(3);\n    }\n\n    props.update(selectedValues.filter(i => i !== 'FILTER' && !i.startsWith('fx-')), func, hasFilter);\n  };\n\n  return <InlineFieldRow>\n    <InlineField label=\"Query\" labelWidth={'auto'}>\n      <AsyncMultiSelect\n        loadOptions={loadOptions}\n        defaultOptions={true}\n        value={selectedOptions}\n        onChange={onElementsChange}\n        isSearchable\n      />\n    </InlineField>\n    <Button size={'sm'} variant='secondary' fill='solid' icon='plus-circle' style={{ marginTop: 4, marginLeft: 5 }}\n      onClick={() => props.update(selectedOptions.map(d => d.value), undefined, true)}>\n      Filter\n    </Button>\n    <Button size={'sm'} variant='secondary' fill='solid' icon='plus-circle' style={{ marginTop: 4, marginLeft: 5 }}\n      onClick={() => props.update(selectedOptions.map(d => d.value), props.availableFunctions.find(() => true)?.name, false)}>\n      Function\n    </Button>\n  </InlineFieldRow>\n}\n\ninterface FilterQueryProps {\n  update: (filter: FilterQuery | undefined) => void,\n  filter: FilterQuery,\n  availableTables: string[]\n}\n\nconst FilterQueryUI = (props: FilterQueryProps) => {\n  const numberOptions = [\n    { label: 'TOP', value: 'TOP' },\n    { label: 'ALL', value: '' }]\n\n  const tableOptions: Array<SelectableValue<string>> = React.useMemo(() => props.availableTables.map((t) => ({ label: t, value: t })), [props.availableTables])\n  const selectedOptions: Array<SelectableValue<string>> = React.useMemo(() => props.filter.Table === '' ? [] : [{ value: props.filter.Table, label: props.filter.Table }], [props.filter.Table]);\n\n  function onNumberModeChange(val: SelectableValue<string>) {\n    props.update({ ...props.filter, NumberMode: val.value as ('TOP' | '') })\n  }\n\n  function OnNumberChange(val: any) {\n    const n = val.target.value;\n    props.update({ ...props.filter, Number: parseInt(n, 10) })\n  }\n\n  function onTableChange(t: SelectableValue<string>) {\n    props.update({ ...props.filter, Table: t.value ?? '' })\n  }\n\n  function onConditionChange(val: any) {\n    props.update({ ...props.filter, Condition: val.target.value })\n  }\n\n  return <FieldSet>\n    <InlineFieldRow>\n      <IconButton name={'trash-alt'} size='xl' iconType='default' variant='destructive' style={{ marginTop: 4, marginRight: 0 }} onClick={() => props.update(undefined)} />\n      <InlineField label={\n        <InlineLabel style={{ flexShrink: 1 }}><IconButton name={'filter'} size='md' iconType='default' variant='secondary' style={{ marginLeft: -2 }} />FILTER</InlineLabel>\n      } labelWidth={'auto'}>\n        <Select\n          value={props.filter.NumberMode}\n          options={numberOptions}\n          onChange={onNumberModeChange}\n        />\n      </InlineField>\n      {props.filter.NumberMode !== '' ? <Input type={'number'}\n        min={0} max={99999}\n        value={props.filter.Number}\n        onChange={OnNumberChange}\n        width={10}\n      /> : null}\n      <InlineField label=\"\" labelWidth={1} transparent={true} style={{ marginLeft: -16 }}>\n        <Select\n          value={selectedOptions}\n          options={tableOptions}\n          isLoading={tableOptions.length === 0}\n          onChange={onTableChange}\n          isSearchable\n          width={'auto'}\n        />\n      </InlineField>\n    </InlineFieldRow>\n    <InlineFieldRow>\n      <InlineField label=\"WHERE\" grow>\n        <Input\n          value={props.filter.Condition}\n          onChange={onConditionChange}\n          placeholder=\"SignalType = 'FREQ'\"\n        />\n      </InlineField>\n    </InlineFieldRow>\n  </FieldSet>\n}\n\ninterface FunctionQueryProps {\n  update: (func: FunctionQuery | undefined) => void,\n  func: FunctionQuery,\n  availableFunctions: FunctionDescription[],\n  availableTables: string[],\n  datasource: DataSource\n}\n\n\nconst FunctionQueryUI = (props: FunctionQueryProps) => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(true);\n  const fxDescription = React.useMemo(() => (props.availableFunctions.find(f => f.name === props.func.Function) ?? props.availableFunctions[0]), [props.func, props.availableFunctions]);\n  const fxOptions = React.useMemo(() => props.availableFunctions.map((f) => ({ value: f.name, label: f.name })), [props.availableFunctions])\n\n  function onFunctionChange(val: SelectableValue<string>) {\n    const fx = props.availableFunctions.find(f => f.name === val.value)\n    if (fx === null) {\n      return\n    }\n    const p = fx?.parameters.map((p) => {\n      const param: ParameterType = { type: p, value: p.type.includes(\"IAsyncEnumerable\") ? { Elements: [], Functions: [], Filters: [] } : p.default };\n      return param;\n    }) ?? [];\n    props.update({\n      Function: val.value ?? 'AbsoluteValue', Parameters: p\n    });\n\n    setIsOpen(true);\n  }\n\n  function onValueChange(val: ParameterType, index: number) {\n    const u = _.cloneDeep(props.func);\n    u.Parameters[index] = val;\n    props.update(u);\n  }\n\n  return <Collapse collapsible={true} label={\n    <InlineFieldRow>\n      <IconButton name={'trash-alt'} size='xl' iconType='default' variant='destructive' style={{ marginTop: 4, marginRight: 6 }} onClick={() => props.update(undefined)} />\n      <span style={{ marginTop: 5, marginRight: 4, fontSize: 'small' }}>ƒ(x)</span>\n      <Select\n        value={props.func.Function}\n        options={fxOptions}\n        onChange={onFunctionChange}\n        isSearchable\n        tabSelectsValue={true}\n        width={'auto'}\n      />\n      <div style={{ marginTop: 5, marginLeft: 10 }}>{getCategory(fxDescription)} {fxDescription?.returnType.toLowerCase()}{getGroupOperation(fxDescription)} function{extractGroupOperations(fxDescription)}.</div>\n    </InlineFieldRow>\n  } isOpen={isOpen} onToggle={() => setIsOpen((x) => !x)}>\n    <p>{fxDescription?.description}</p>\n    <ul>\n\n      {props.func.Parameters.map((p, i) => <li key={p.type.name}>\n        <ParameterUI update={(val) => onValueChange(val, i)}\n          param={p}\n          availableFunctions={props.availableFunctions}\n          availableTables={props.availableTables}\n          datasource={props.datasource} />\n      </li>)}\n\n    </ul>\n  </Collapse>;\n}\n\ninterface ParameterQueryProps {\n  update: (p: ParameterType) => void,\n  param: ParameterType,\n  availableFunctions: FunctionDescription[],\n  availableTables: string[],\n  datasource: DataSource,\n}\nconst ParameterUI = (props: ParameterQueryProps) => {\n\n  const AngleOptions: Array<SelectableValue<string>> = [{ value: 'Radians', label: 'Radians' }, { value: 'Degrees', label: 'Degrees' }\n    , { value: 'Grads', label: 'Grads' }, { value: 'ArcMinutes', label: 'ArcMinutes' },\n  { value: 'ArcSeconds', label: 'ArcSeconds' }, { value: 'AngularMil', label: 'AngularMil' }];\n\n  const TimeOption = [\n    { value: 'Seconds', label: 'Seconds' },\n    { value: 'Nanoseconds', label: 'Nanoseconds' },\n    { value: 'Microseconds', label: 'Microseconds' },\n    { value: 'Milliseconds', label: 'Milliseconds' },\n    { value: 'Minutes', label: 'Minutes' },\n    { value: 'Hours', label: 'Hours' },\n    { value: 'Days', label: 'Days' },\n    { value: 'Weeks', label: 'Weeks' },\n    { value: 'Ke', label: 'Ke (traditional Chinese)' },\n    { value: 'Ticks', label: 'Ticks' },\n    { value: 'PlanckTime', label: 'PlanckTime' },\n    { value: 'AtomicUnitsOfTime', label: 'AtomicUnitsOfTime' }];\n\n  const BooleanOption = [{ value: '1', label: 'True' }, { value: '0', label: 'False' },]\n\n\n  function onElementChange(e: string[], fx: string | undefined, filter: boolean) {\n    let u = _.cloneDeep(props.param) as ParameterType;\n    if (u === undefined) {\n      u = { type: props.param.type, value: { Elements: [], Functions: [], Filters: [] } }\n    }\n    if (fx !== undefined) {\n      const fxParsed = props.availableFunctions.find(f => f.name === fx)\n      if (fxParsed === null) {\n        return\n      }\n      const p = fxParsed?.parameters.map((p) => {\n        const param: ParameterType = { type: p, value: p.type.includes(\"IAsyncEnumerable\") ? { Elements: [], Functions: [], Filters: [] } : p.default };\n        return param;\n      }) ?? [];\n\n      (u.value as ParsedQuery)?.Functions.push({\n        Function: fx,\n        Parameters: p,\n      })\n    }\n\n    (u.value as ParsedQuery).Elements = e;\n    if (filter) {\n      (u.value as ParsedQuery)?.Filters.push({ Table: props.datasource.metadataTableName, Condition: '', Number: 10, NumberMode: 'TOP' });\n    }\n    props.update(u);\n  }\n\n  function onFilterChange(f: FilterQuery | undefined, index: number) {\n    let u = _.cloneDeep(props.param) as ParameterType;\n    if (u === undefined) {\n      u = { type: props.param.type, value: { Elements: [], Functions: [], Filters: [] } }\n    }\n    if (f === undefined) {\n      (u.value as ParsedQuery)?.Filters.splice(index, 1)\n    } else {\n      (u.value as ParsedQuery).Filters[index] = f;\n    }\n    props.update(u);\n  }\n\n  function onFunctionChange(f: FunctionQuery | undefined, index: number) {\n    let u = _.cloneDeep(props.param) as ParameterType;\n    if (u === undefined) {\n      u = { type: props.param.type, value: { Elements: [], Functions: [], Filters: [] } }\n    }\n    if (f === undefined) {\n      (u.value as ParsedQuery)?.Functions.splice(index, 1);\n    } else {\n      (u.value as ParsedQuery).Functions[index] = f;\n    }\n    props.update(u);\n  }\n\n  function onStringChange(val: any) {\n    props.update({ type: props.param.type, value: val.target.value })\n  }\n\n  function onSelectChange(val: SelectableValue<string>) {\n    props.update({ type: props.param.type, value: val.value as string })\n  }\n\n  return <Card>\n    <Card.Heading>{props.param.type.name} ({props.param.type.required ? 'required' : 'optional'})</Card.Heading>\n    <Card.Description>\n      <>\n        <p>{props.param.type.description} ({props.param.type.type}{!props.param.type.required && props.param.type.default?.length > 0 ? `: default = ${props.param.type.default}` : ''})</p>\n\n        {props.param.type.type.includes(\"IAsyncEnumerable\") ? <>\n          <ElementQuery\n            datasource={props.datasource}\n            elements={(props.param?.value as ParsedQuery)?.Elements ?? []}\n            update={onElementChange}\n            availableFunctions={props.availableFunctions}\n          />\n          {(props.param?.value as ParsedQuery)?.Functions?.map((f, i) => <FunctionQueryUI key={f.Function}\n            update={(f) => onFunctionChange(f, i)}\n            func={f} availableFunctions={props.availableFunctions}\n            availableTables={props.availableTables}\n            datasource={props.datasource}\n          />)}\n          {(props.param?.value as ParsedQuery)?.Filters?.map((f, i) => <FilterQueryUI\n            key={i}\n            availableTables={props.availableTables}\n            update={(f) => onFilterChange(f, i)} filter={f} />)}\n        </> : null}\n        {props.param.type.type === 'Double' ? <Input type={'number'}\n          value={(props.param?.value as string) ?? '1.0'}\n          onChange={onStringChange}\n          width={20}\n        /> : null}\n        {props.param.type.type === 'String' ? <Input type={'text'}\n          value={(props.param?.value as string) ?? ''}\n          onChange={onStringChange}\n          width={20}\n        /> : null}\n        {props.param.type.type === 'Int32' ? <Input type={'number'}\n          min={0} max={99999}\n          value={(props.param?.value as string) ?? '1'}\n          onChange={onStringChange}\n          width={20}\n        /> : null}\n        {props.param.type.type === 'AngleUnit' ? <Select\n          value={(props.param?.value as string) ?? 'Degrees'}\n          options={AngleOptions}\n          onChange={onSelectChange}\n          isSearchable\n        /> : null}\n        {props.param.type.type === 'TargetTimeUnit' ? <Select\n          value={(props.param?.value as string) ?? 'Seconds'}\n          options={TimeOption}\n          onChange={onSelectChange}\n          isSearchable\n        /> : null}\n        {props.param.type.type === 'Boolean' ? <Select\n          value={(props.param?.value as string) ?? '1'}\n          options={BooleanOption}\n          onChange={onSelectChange}\n          isSearchable\n        /> : null}\n      </>\n    </Card.Description>\n  </Card>;\n};\n\nconst getCategory = (fxDescription: FunctionDescription | undefined): string => {\n  return (fxDescription?.category ?? 'BuiltIn') === 'BuiltIn' ? 'Built-in' : 'Custom';\n}\n\nconst getGroupOperation = (fxDescription: FunctionDescription | undefined): string => {\n  const functionName = fxDescription?.name ?? '';\n\n  if (functionName.startsWith('Slice')) {\n    return ' slice';\n  } else if (functionName.startsWith('Set')) {\n    return ' set';\n  }\n\n  return '';\n}\n\nconst extractGroupOperations = (fxDescription: FunctionDescription | undefined): string => {\n  const allowedGroupOperations = fxDescription?.allowedGroupOperations.split(',').map(operation => operation.trim()) ?? [];\n  let publishedGroupOperations = fxDescription?.publishedGroupOperations.split(',').map(operation => operation.trim()) ?? [];\n\n  if (publishedGroupOperations.length === 0) {\n    return '';\n  }\n\n  const allowedGroupOperationsSet = new Set(allowedGroupOperations);\n  let functionName = fxDescription?.name ?? '';\n\n  // If published group operations are not a subset of allowed group operations,\n  // use the allowed group operations as the published group operations\n  if (!publishedGroupOperations.every(element => allowedGroupOperationsSet.has(element))) {\n    functionName = allowedGroupOperations[0];\n    publishedGroupOperations = allowedGroupOperations;\n  }\n\n  const publishedGroupOperationsSet = new Set(publishedGroupOperations);\n  const supportedGroupOperations: string[] = [];\n  let supportsNonGroupedOperation = false;\n\n  if (functionName.startsWith('Slice')) {\n    // If slice-type function is selected, show possible support for 'None' and 'Set' group operations\n    if (publishedGroupOperationsSet.has('None')) {\n      supportsNonGroupedOperation = true;\n    }\n\n    if (publishedGroupOperationsSet.has('Set')) {\n      supportedGroupOperations.push('set');\n    }\n  } else if (functionName.startsWith('Set')) {\n    // If set-type function is selected, show possible support for 'None' and 'Slice' group operations\n    if (publishedGroupOperationsSet.has('None')) {\n      supportsNonGroupedOperation = true;\n    }\n\n    if (publishedGroupOperationsSet.has('Slice')) {\n      supportedGroupOperations.push('slice');\n    }\n  }\n  else {\n    // If standard non-grouped function is selected, show possible support for 'Slice' and 'Set' group operations\n    if (publishedGroupOperationsSet.has('Slice')) {\n      supportedGroupOperations.push('slice');\n    }\n\n    if (publishedGroupOperationsSet.has('Set')) {\n      supportedGroupOperations.push('set');\n    }\n  }\n\n  if (!supportsNonGroupedOperation && supportedGroupOperations.length === 0) {\n    return '';\n  }\n\n  const groupOperationsDisplay: string[] = [];\n\n  if (supportsNonGroupedOperation) {\n    groupOperationsDisplay.push('standard non-grouped');\n  }\n\n  if (supportedGroupOperations.length > 0) {\n    if (groupOperationsDisplay.length > 0) {\n      groupOperationsDisplay.push(' and ');\n    }\n\n    groupOperationsDisplay.push(supportedGroupOperations.join(' and '));\n    groupOperationsDisplay.push(' group');\n\n    if (supportedGroupOperations.length > 1) {\n      groupOperationsDisplay.push('ed');\n    }\n  }\n\n  groupOperationsDisplay.push(' operation');\n\n  if ((supportsNonGroupedOperation ? 1 : 0) + supportedGroupOperations.length > 1) {\n    groupOperationsDisplay.push('s');\n  }\n\n  return `, also supports ${groupOperationsDisplay.join('')}`;\n}\n","import React from 'react';\nimport { InlineField, InlineFieldRow, Select, IconButton, Button, FieldSet } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\nimport { DataSource } from '../datasource';\nimport { FieldDescription, MetaDataField } from '../types';\nimport \"../css/query-editor.css\";\nimport { getBackendSrv } from \"@grafana/runtime\";\nimport _ from 'lodash';\n\ninterface MetaDataProps { datasource: DataSource, onChange: (value: MetaDataField[]) => void, query: MetaDataField[] }\n\nexport const MetaDataSelector = (props: MetaDataProps) => {\n  const [tableOptions, setTableOptions] = React.useState<Array<SelectableValue<string>>>([]);\n\n  React.useEffect(() => {\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTables\", { dataTypeIndex: props.datasource.valueTypeIndex, expression: \"\" })\n      .then((d: string[]) => { setTableOptions(d?.map((t) => ({ value: t, label: t })) ?? []); })\n  }, [props.datasource.valueTypeIndex, props.datasource.url])\n\n  const onRemoveField = (index: number) => {\n    let u = [...props.query];\n    u.splice(index, 1);\n    props.onChange(u);\n  };\n\n  const onAddFld = () => {\n    if (props.query === undefined) {\n      props.onChange([{ Table: props.datasource.metadataTableName, FieldName: \"\", Type: \"\" }]);\n    }\n    props.onChange([...props.query, { Table: props.datasource.metadataTableName, FieldName: \"\", Type: \"\" }]);\n  };\n\n  const onUpdateFld = (fld: MetaDataField, index: number) => {\n\n    let u = [...props.query];\n    u[index] = fld;\n    props.onChange(u);\n  };\n\n  return (\n    <FieldSet>\n      {props.query?.map((q, i) => <MetaDataFieldSelector\n        Field={q} key={i} Remove={() => onRemoveField(i)} Update={(fld) => onUpdateFld(fld, i)}\n        TableOptions={tableOptions} Datasource={props.datasource} />)}\n      <InlineFieldRow>\n        <InlineField>\n          <Button size='md' icon={'plus-circle'} variant='secondary' onClick={() => onAddFld()}>Add Metadata</Button>\n        </InlineField>\n      </InlineFieldRow>\n    </FieldSet>)\n}\n\ninterface MetaDataFieldSelectorProps {\n  Field: MetaDataField,\n  Remove: () => void,\n  Update: (fld: MetaDataField) => void,\n  TableOptions: Array<SelectableValue<string>>,\n  Datasource: DataSource\n}\n\nconst MetaDataFieldSelector = (props: MetaDataFieldSelectorProps) => {\n  const [fields, setFields] = React.useState<MetaDataField[]>([])\n  const fieldOptions: Array<SelectableValue<string>> = React.useMemo(() => fields.map((f) => ({ value: f.FieldName, label: f.FieldName })), [fields]);\n\n  React.useEffect(() => {\n    setFields([]);\n    if (props.Field.Table === undefined) {\n      return;\n    }\n    getBackendSrv().post(props.Datasource.url + \"/GetValueTypeTableFields\", {\n      dataTypeIndex: props.Datasource.valueTypeIndex,\n      expression: props.Field.Table\n    }).then((d: FieldDescription[]) => setFields(d?.map((fld) => ({ FieldName: fld.name, Table: props.Field.Table, Type: fld.type })) ?? []))\n  }, [props.Field.Table, props.Datasource.url, props.Datasource.valueTypeIndex])\n\n  const updateTable = (val: SelectableValue<string>) => {\n    props.Update({ Table: val.value ?? \"\", FieldName: \"\", Type: \"\" })\n  };\n\n  const updateField = (val: SelectableValue<string>) => {\n    const fld = fields.find(d => d.FieldName === val.value)\n    if (fld === undefined) {\n      return;\n    }\n    props.Update(fld)\n  };\n\n  return <InlineFieldRow>\n    <InlineField label=\"Table\" labelWidth={12}>\n      <Select\n        value={props.Field.Table}\n        options={props.TableOptions}\n        onChange={updateTable}\n        isLoading={props.TableOptions.length === 0}\n        invalid={(props.Field?.Table?.length ?? 0) === 0}\n      />\n    </InlineField>\n    <InlineField label=\"Field\" labelWidth={12}>\n      <Select\n        value={props.Field?.FieldName}\n        options={fieldOptions}\n        onChange={updateField}\n        isLoading={fieldOptions.length === 0}\n        invalid={(props.Field?.FieldName?.length ?? 0) === 0}\n        disabled={(props.Field?.Table?.length ?? 0) === 0}\n      />\n    </InlineField>\n    <InlineField>\n      <IconButton name={'trash-alt'} size='xl' iconType='default' variant='destructive' style={{ marginTop: 4, marginLeft: 4 }} onClick={() => props.Remove()} />\n    </InlineField>\n  </InlineFieldRow>\n\n}\n","import React from 'react';\nimport { FieldSet, InlineField, TextArea } from '@grafana/ui';\nimport \"../css/query-editor.css\";\n\n\ninterface TextQueryProps { onChange: (value: string) => void, query: string }\n\nexport const TextQuery = (props: TextQueryProps) => {\n  return <FieldSet>\n    <InlineField label=\"Query Editor\" labelWidth={12} grow={true} shrink={true}>\n      <TextArea\n        value={props.query}\n        onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => props.onChange(evt.target.value)}\n        rows={10}\n        width={150}\n      />\n    </InlineField>\n  </FieldSet>;\n}\n","import React from 'react';\nimport { FieldSet, InlineField, InlineFieldRow, InlineSwitch, Input } from '@grafana/ui';\nimport \"../css/query-editor.css\";\nimport { CommandLevelFlags } from '../types';\n\n\ninterface CommandLevelSelectorProps { onChange: (value: CommandLevelFlags) => void, query?: CommandLevelFlags }\n\nexport const CommandLevelSelector = (props: CommandLevelSelectorProps) => {\n  \n\n  const getInitialUpdatedValue = (query: CommandLevelFlags | undefined): CommandLevelFlags => {\n    return query ?? {\n      DropEmpty: false,\n      IncludePeaks: false,\n      FullResolution: false,\n      RadialDistribution: false,\n      Radius: 1.5,\n      Zoom: 2.0\n    };\n  };\n\n  const onChange = (event: React.FormEvent<HTMLInputElement>, setting: 'DropEmpty' | 'IncludePeaks' | 'FullResolution' | 'RadialDistribution') => {\n    let updated: CommandLevelFlags = getInitialUpdatedValue(props.query);\n    updated[setting] = !updated[setting];\n    props.onChange(updated);\n  };\n\n  function onRadiusChange(val: any) {\n    let updated: CommandLevelFlags = getInitialUpdatedValue(props.query);\n    updated.Radius = parseFloat(val.target.value.toString());\n    props.onChange(updated);\n  }\n\n  function onZoomChange(val: any) {\n    let updated: CommandLevelFlags = getInitialUpdatedValue(props.query);\n    updated.Zoom = parseFloat(val.target.value.toString());\n    props.onChange(updated);\n  }\n\n  return <FieldSet>\n    <InlineFieldRow>\n      <InlineField label={'Drop Empty Series'} labelWidth={24} tooltip={'Requests that series that return no data be removed from the the visualization targets'}>\n        <InlineSwitch\n          disabled={false}\n          value={props.query?.DropEmpty ?? false}\n          onChange={(e) => onChange(e, 'DropEmpty')}\n        />\n      </InlineField>\n      <InlineField label={'Include Peaks'} labelWidth={24} tooltip={'Requests that decimated data from query source include both minimum and maximum interval peaks, note that this can reduce query performance.'}>\n        <InlineSwitch\n          disabled={false}\n          value={props.query?.IncludePeaks ?? false}\n          onChange={(e) => onChange(e, 'IncludePeaks')}\n        />\n      </InlineField>\n    </InlineFieldRow>\n    <InlineFieldRow>\n      <InlineField label={'Full Resolution Data'} labelWidth={24} tooltip={'Requests that query source return full resolution data, note that this can reduce query and/or visualization performance.'}>\n        <InlineSwitch\n          disabled={false}\n          value={props.query?.FullResolution ?? false}\n          onChange={(e) => onChange(e, 'FullResolution')}\n        />\n      </InlineField>\n      <InlineField label={'Radial Geo Distribution'} labelWidth={24} tooltip={'Requests that overlapping geo-coordinates, i.e., longitude and latitude, when included as selected as metadata, be distributed radially.'}>\n        <InlineSwitch\n          disabled={false}\n          value={props.query?.RadialDistribution ?? false}\n          onChange={(e) => onChange(e, 'RadialDistribution')}\n        />\n      </InlineField>\n    </InlineFieldRow>\n    {(props.query?.RadialDistribution ?? false) ? <InlineFieldRow>\n      <InlineField label={'Radius'}>\n        <Input type={'number'}\n          value={(props.query?.Radius ?? 1.5).toString()}\n          onChange={onRadiusChange}\n        />\n      </InlineField>\n      <InlineField label={'Zoom'}>\n        <Input type={'number'}\n          value={(props.query?.Zoom ?? 2.0).toString()}\n          onChange={onZoomChange}\n        />\n      </InlineField>\n    </InlineFieldRow> : null}\n  </FieldSet>;\n}\n\n","import { DataSourcePlugin } from '@grafana/data';\r\nimport { DataSource } from './datasource';\r\nimport { ConfigEditor } from './components/ConfigEditor';\r\nimport { QueryEditor } from './components/QueryEditor';\r\nimport { OpenHistorianQuery, OpenHistorianDataSourceOptions } from './types';\r\nimport { VariableQueryEditor } from './components/VariableQueryEditor';\r\n\r\n\r\nexport const plugin = new DataSourcePlugin<DataSource, OpenHistorianQuery, OpenHistorianDataSourceOptions>(DataSource)\r\n  .setConfigEditor(ConfigEditor)\r\n  .setQueryEditor(QueryEditor)\r\n  .setVariableQueryEditor(VariableQueryEditor)\r\n  ;\r\n","import React from 'react';\r\nimport { InlineFieldRow, InlineField, Select, InlineSwitch, FieldSet, IconButton, ConfirmModal } from '@grafana/ui';\r\nimport { SelectableValue, QueryEditorProps } from '@grafana/data';\r\nimport { DataSource } from '../datasource';\r\nimport { OpenHistorianDataSourceOptions, OpenHistorianQuery, QueryBase, QueryTypes } from '../types';\r\nimport { QuerySelectOptions } from '../js/constants'\r\nimport \"../css/query-editor.css\";\r\nimport { QueryEditorWizard } from './ElementQueryEditor';\r\nimport { MetaDataSelector } from './MetaDataFieldSelector';\r\nimport { TextQuery } from './TextQueryEditor';\r\nimport { CommandLevelSelector } from './CommandLevelSelection';\r\n\r\ntype Props = QueryEditorProps<DataSource, OpenHistorianQuery, OpenHistorianDataSourceOptions>;\r\n\r\nexport function QueryEditor({ query, onChange, datasource, onRunQuery }: Props) {\r\n\r\n  const selectedMode = React.useMemo(() => (query.queryType ?? 'Elements'), [query])\r\n  const [tmpText, setTmpText] = React.useState<string | undefined>(undefined);\r\n\r\n  const modeChange = (selected: SelectableValue<string>) => {\r\n    const newMode = ((selected.value ?? 'Elements') as QueryTypes);\r\n    const oldMode = ((query?.queryType ?? 'Elements') as QueryTypes);\r\n\r\n    if (oldMode === 'Elements' && newMode === 'Text') {\r\n      if (queryTextMatches()) {\r\n        onChange({ ...query, queryText: generateTextQuery(query), queryType: newMode })\r\n      }\r\n      else {\r\n        setTmpText(generateTextQuery(query));\r\n      }\r\n      return;\r\n    }\r\n    onChange({ ...query, queryType: newMode })\r\n  }\r\n\r\n  const queryTextMatches = (): boolean => {\r\n    if ((query.queryText?.length ?? 0) === 0) {\r\n      return true;\r\n    }\r\n\r\n    const src: string = generateTextQuery(query).replace(/\\s+/g, '').toLowerCase();\r\n    const dest: string = query.queryText.replace(/\\s+/g, '').toLowerCase();\r\n\r\n    return src === dest;\r\n  }\r\n\r\n  const generateTextQuery = (q: OpenHistorianQuery) => {\r\n    let text = datasource.targetToString(q as QueryBase);\r\n\r\n    if (q.commandLevel?.DropEmpty ?? false) {\r\n      text = `${text}; dropEmptySeries`;\r\n    }\r\n\r\n    if (q.commandLevel?.IncludePeaks ?? false) {\r\n      text = `${text}; includePeaks`;\r\n    }\r\n\r\n    if (q.commandLevel?.FullResolution ?? false) {\r\n      text = `${text}; fullResolutionQuery`;\r\n    }\r\n\r\n    if (q.commandLevel?.RadialDistribution ?? false) {\r\n      text = `${text}; radialDistribution={radius=${(q.commandLevel?.Radius ?? 1.5)}; zoom=${(q.commandLevel?.Zoom ?? 2)}}`;\r\n    }\r\n    return text;\r\n  }\r\n\r\n  const elementsOnChange = (p: OpenHistorianQuery) => {\r\n    onChange(p);\r\n    onRunQuery();\r\n  }\r\n\r\n  const textOnChange = (p: OpenHistorianQuery) => {\r\n    onChange(p);\r\n  }\r\n\r\n  const onBlur = () => {\r\n    onRunQuery();\r\n  };\r\n\r\n  return (\r\n    <FieldSet style={{ display: 'flex', flexDirection: 'column' }} onBlur={onBlur}>\r\n      <FieldSet style={{ marginBottom: 0 }}>\r\n        <h3 className=\"page-heading\" style={{ marginTop: 16 }}>General Settings</h3>\r\n        <FieldSet style={{ marginBottom: 16 }}>\r\n          <table>\r\n            <tr>\r\n              <td>\r\n                <InlineFieldRow>\r\n                  <InlineField label=\"Data Selection Mode\" labelWidth={24}>\r\n                    <Select options={QuerySelectOptions} value={selectedMode} onChange={modeChange} allowCustomValue={false} />\r\n                  </InlineField>\r\n                  {selectedMode === 'Elements' ? <IconButton name={'question-circle'} size='lg' iconType='default' variant='secondary' style={{ marginTop: 4, marginRight: 0 }}\r\n                    tooltip={<div>\r\n                      <p style={{ marginBottom: 8 }}>Current Query Expression:</p>\r\n                      <p><em>{generateTextQuery(query)}</em></p>\r\n                    </div>} /> : null}\r\n                  <InlineField label=\"Transpose Query Results\" labelWidth={24} style={{ marginLeft: 16 }}>\r\n                    <InlineSwitch value={query.transpose ?? false}\r\n                      onChange={(v) => elementsOnChange({ ...query, transpose: !(query.transpose ?? false) })}\r\n                      showLabel={true}\r\n                    />\r\n                  </InlineField>\r\n                </InlineFieldRow>\r\n              </td>\r\n            </tr>\r\n            <tr style={{ height: 16 }}>\r\n              <td></td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                {selectedMode === 'Elements' ? <CommandLevelSelector query={query.commandLevel} onChange={(q) => elementsOnChange({ ...query, commandLevel: q })} /> : null}\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </FieldSet>\r\n      </FieldSet>\r\n      <FieldSet style={{ marginBottom: 16 }}>\r\n        <h3 className=\"page-heading\">Metadata</h3>\r\n        <MetaDataSelector datasource={datasource} onChange={(fields) => elementsOnChange({ ...query, metadataOptions: fields })} query={query.metadataOptions} />\r\n      </FieldSet>\r\n      <FieldSet>\r\n        <h3 className=\"page-heading\">Data Selection</h3>\r\n        {query.queryType === 'Text' ? <TextQuery onChange={(t) => textOnChange({ ...query, queryText: t })} query={query.queryText} /> : null}\r\n        {query.queryType === 'Elements' || query.queryType === undefined ? <QueryEditorWizard\r\n          onChange={(q) => elementsOnChange({ ...query, queryText: q.queryText, parsedQuery: q.parsedQuery })} query={query}\r\n          datasource={datasource} /> : null}\r\n      </FieldSet>\r\n      <ConfirmModal\r\n        isOpen={tmpText !== undefined}\r\n        title=\"Replace Existing Text Query\"\r\n        body=\"Text mode has existing, distinct query expression text. Do you want replace the existing text query expression with the one that was built here?\"\r\n        confirmText=\"Confirm\"\r\n        icon=\"exclamation-triangle\"\r\n        onConfirm={() => {\r\n          onChange({ ...query, queryText: tmpText ?? '', queryType: 'Text' });\r\n          setTmpText(undefined);\r\n        }}\r\n        onDismiss={() => {\r\n          setTmpText(undefined);\r\n          onChange({ ...query, queryType: 'Text' });\r\n        }}\r\n      />\r\n    </FieldSet >\r\n  );\r\n}\r\n","import React from 'react';\nimport { FieldSet, InlineField, InlineFieldRow, Input, MultiSelect, Select } from '@grafana/ui';\nimport { DataSource } from '../datasource';\nimport { FieldDescription, MyVariableQuery } from '../types';\nimport \"../css/query-editor.css\";\nimport { SelectableValue } from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\n\ninterface VariableQueryProps {\n  query: MyVariableQuery;\n  onChange: (query: MyVariableQuery) => void;\n  datasource: DataSource\n}\n\nexport function VariableQueryEditor(props: VariableQueryProps) {\n  const [tableOptions, setTableOptions] = React.useState<Array<SelectableValue<string>>>([]);\n  const [fieldOptions, setFieldOptions] = React.useState<Array<SelectableValue<string>>>([]);\n  const [isInitialLoad, setIsInitialLoad] = React.useState(true);\n  const { onChange, query } = props;\n\n  // Effect for setting default tableName\n  React.useEffect(() => {\n    if (isInitialLoad && !query.tableName) {\n      onChange({ ...query, tableName: 'ActiveMeasurements', fieldNames: ['PointTag'] });\n    }\n    setIsInitialLoad(false);\n  }, [isInitialLoad, onChange, query]);\n\n  React.useEffect(() => {\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTables\", {\n      dataTypeIndex: -1 /* restriction to this datasource */,\n      expression: \"\"\n    })\n      .then((d: string[]) => { setTableOptions(d.map(t => ({ value: t, label: t }))); })\n  }, [props.datasource.url, query.tableName])\n\n  React.useEffect(() => {\n    if (!query.tableName) {\n      return;\n    }\n\n    getBackendSrv().post(props.datasource.url + \"/GetValueTypeTableFields\", {\n      dataTypeIndex: -1/* no restriction */,\n      expression: query.tableName\n    })\n      .then((d: FieldDescription[]) => { setFieldOptions(d.map(t => ({ value: t.name, label: t.name }))); })\n  }, [props.datasource.url, query.tableName])\n\n  function onTableChange(t: SelectableValue<string>) {\n    let newFieldNames = props.query.fieldNames;\n\n    if (t.value === 'ActiveMeasurements') {\n      if (!newFieldNames.includes('PointTag')) {\n        newFieldNames = ['PointTag'];\n      }\n    } else {\n      newFieldNames = ['*'];\n    }\n\n    props.onChange({ ...props.query, tableName: t.value ?? '', fieldNames: newFieldNames });\n  }\n\n  function onFieldChange(t: Array<SelectableValue<string>>) {\n    let newFieldNames = t.map(sv => sv.value?.toString() ?? '');\n\n    // Handle special case for ActiveMeasurements (allows 'PointTag` field to be deselected)\n    if (props.query.tableName === 'ActiveMeasurements' && newFieldNames.length === 0) {\n      newFieldNames = ['*'];\n    }\n\n    props.onChange({ ...props.query, fieldNames: newFieldNames });\n  }\n\n  function onConditionChange(val: any) {\n    props.onChange({ ...props.query, condition: val.target.value })\n  }\n\n  return (\n    <FieldSet style={{ display: 'flex', flexDirection: 'column' }}>\n      <FieldSet>\n        <InlineFieldRow>\n          <InlineField label=\"Select\" labelWidth={12}>\n            <MultiSelect\n              value={props.query?.fieldNames}\n              options={fieldOptions}\n              isLoading={fieldOptions.length === 0}\n              onChange={onFieldChange}\n              isSearchable\n              invalid={(props.query?.fieldNames?.length ?? 0) === 0}\n              disabled={(props.query?.tableName?.length ?? 0) === 0}\n            />\n          </InlineField>\n          <InlineField label=\"FROM\" labelWidth={12}>\n            <Select\n              value={props.query?.tableName}\n              options={tableOptions}\n              isLoading={tableOptions.length === 0}\n              onChange={onTableChange}\n              isSearchable\n              invalid={(props.query?.tableName?.length ?? 0) === 0}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        <InlineFieldRow>\n          <InlineField label=\"WHERE\" labelWidth={12}>\n            <Input\n              value={props.query?.condition}\n              onChange={onConditionChange}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </FieldSet>\n    </FieldSet>\n  );\n}\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__531__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__241__","__WEBPACK_EXTERNAL_MODULE__959__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","nc","QuerySelectOptions","label","DefaultFlags","Value","Order","Flag","Normal","BadData","SuspectData","OverRangeError","UnderRangeError","AlarmHigh","AlarmLow","WarningHigh","WarningLow","FlatlineAlarm","ComparisonAlarm","ROCAlarm","ReceivedAsBad","CalculatedValue","CalculationError","CalculationWarning","ReservedQualityFlag","BadTime","SuspectTime","LateTimeAlarm","FutureTimeAlarm","UpSampled","DownSampled","DiscardedValue","ReservedTimeFlag","UserDefinedFlag1","UserDefinedFlag2","UserDefinedFlag3","UserDefinedFlag4","UserDefinedFlag5","SystemError","SystemWarning","MeasurementError","AnnotationEditor","query","onChange","React","queryType","FieldSet","display","flexDirection","InlineField","labelWidth","grow","shrink","TextArea","queryText","evt","rows","width","locals","DataSource","DataSourceApi","metricFindQuery","tableName","fieldNames","getBackendSrv","post","url","dataTypeIndex","expression","condition","s","text","calculateFlags","excludedValue","entries","flags","targetToString","parsedQueryToString","parsedQuery","functionToString","fx","parameter","Parameters","p","type","includes","Function","parts","Elements","Filters","f","NumberMode","Number","Table","Condition","Functions","filter","buildQueryParameters","excludedFlags","excludeNormalFlags","targets","t","hide","metadataSelections","metadataOptions","forEach","m","find","FieldName","queryExpression","getTemplateSrv","replace","scopedVars","commandLevel","DropEmpty","IncludePeaks","FullResolution","RadialDistribution","Radius","Zoom","refID","refId","valueTypeIndex","range","from","toISOString","to","interval","adhocFilters","maxDataPoints","metaDataTypes","flat","hasDataQuery","some","hasAnnotationQuery","error","syntaxErrors","pointsData","tags","timeSeriesDefinitions","transposeFrames","Map","syntaxError","metaData","keys","metadata","transpose","row","has","set","MutableDataFrame","name","fields","FieldType","number","time","datapoints","NaN","addField","other","add","frame","metaDataDataType","Type","pt","values","queryAnnotations","message","testDatasource","then","status","title","boolean","string","queyText","annotationQuery","rangeRaw","constructor","instanceSettings","super","valueTypeName","metadataTableName","annotations","QueryEditor","jsonData","parseInt","defaultDataSourceTypes","timeSeriesDefinition","QueryEditorWizard","props","elements","setElements","functions","setFunctions","availableFunctions","setAvailableFunctions","tableOptions","setTableOptions","filters","setFilters","includeFunctions","datasource","div","ElementQuery","u","_","parameters","default","FunctionQueryUI","onFunctionChange","func","availableTables","FilterQueryUI","onFilterChange","selectedOptions","loadOptions","inputValue","toLocaleLowerCase","aliases","InlineFieldRow","AsyncMultiSelect","defaultOptions","selected","selectedValues","hasFilter","startsWith","substring","isSearchable","Button","size","variant","fill","icon","marginTop","marginLeft","onClick","IconButton","iconType","marginRight","InlineLabel","flexShrink","Select","val","Input","min","max","transparent","isLoading","placeholder","isOpen","setIsOpen","fxDescription","fxOptions","Collapse","collapsible","span","fontSize","tabSelectsValue","getCategory","returnType","toLowerCase","getGroupOperation","extractGroupOperations","onToggle","x","description","ul","li","ParameterUI","onValueChange","param","onStringChange","onSelectChange","Card","Heading","required","Description","fxParsed","category","functionName","allowedGroupOperations","split","operation","trim","publishedGroupOperations","allowedGroupOperationsSet","Set","every","publishedGroupOperationsSet","supportedGroupOperations","supportsNonGroupedOperation","groupOperationsDisplay","MetaDataSelector","q","MetaDataFieldSelector","Field","Remove","onRemoveField","Update","fld","onUpdateFld","TableOptions","Datasource","setFields","fieldOptions","invalid","disabled","TextQuery","CommandLevelSelector","getInitialUpdatedValue","event","setting","updated","tooltip","InlineSwitch","parseFloat","plugin","DataSourcePlugin","setConfigEditor","onOptionsChange","dataSourceTypes","setDataSourceTypes","dataSourceTypeOptions","isInitialAssignment","setIsInitialAssignment","catch","console","onTypeChange","onFlagsChange","input","checked","updatedFlags","selectAllState","reduce","acc","flag","dataSource","onBlur","DataSourceHttpSettings","defaultUrl","dataSourceConfig","showAccessOptions","config","h3","className","Tooltip","cursor","Switch","TagList","setQueryEditor","onRunQuery","selectedMode","tmpText","setTmpText","generateTextQuery","elementsOnChange","marginBottom","table","tr","td","newMode","allowCustomValue","em","v","showLabel","height","textOnChange","ConfirmModal","body","confirmText","onConfirm","onDismiss","setVariableQueryEditor","setFieldOptions","isInitialLoad","setIsInitialLoad","MultiSelect","newFieldNames","sv"],"sourceRoot":""}