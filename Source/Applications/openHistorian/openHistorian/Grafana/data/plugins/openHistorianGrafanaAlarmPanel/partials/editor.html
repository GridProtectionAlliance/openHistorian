<div class="editor-row">
	<div class="section gf-form-group">
		<h5 class="section-heading">Configuration</h5>

		<div class="gf-form">
			<label class="gf-form-label width-12">Panel Link Address</label>
			<input class="input-small gf-form-input" type="text" ng-model="ctrl.panel.link" ng-change="ctrl.updateSettings()" />
		</div>

		<gf-form-switch class="gf-form" label="Show Legend" label-class="width-10" checked="ctrl.panel.showLegend"></gf-form-switch>

		<gf-form-switch ng-show="ctrl.panel.showLegend" class="gf-form" label="Show All States" label-class="width-10" checked="ctrl.panel.showAllStates"></gf-form-switch>

	</div>
	
	<div class="section gf-form-group">
		<h5 class="section-heading">Filter Devices</h5>

		<gf-form-switch class="gf-form" label="Filter By Device" label-class="width-10" checked="ctrl.panel.filterDevice"></gf-form-switch>

		<gf-form-switch ng-show="!ctrl.panel.filterDevice" class="gf-form" label="Use Regex" label-class="width-10" checked="ctrl.panel.useRegex"></gf-form-switch>

		<div class="gf-form" ng-show="(!ctrl.panel.filterDevice && ctrl.panel.useRegex) || ctrl.panel.filterDevice">
			<label class="gf-form-label width-12" ng-show="ctrl.panel.filterDevice">Device Name Filter</label>
			<label class="gf-form-label width-12" ng-show="!ctrl.panel.filterDevice">Group Name Filter</label>
			<input class="input-small gf-form-input" type="text" ng-model="ctrl.panel.filter" ng-change="ctrl.onDataRecieved({})" />
		</div>

		
		<gf-form-switch  ng-show="(!ctrl.panel.filterDevice && !ctrl.panel.useRegex)" ng-repeat="g in ctrl.panel.deviceGroups track by $index"class="gf-form" label="{{ctrl.panel.deviceGroups[$index].name}}" label-class="width-10" checked="ctrl.panel.deviceGroups[$index].enabled"></gf-form-switch>



	</div>

	</div>